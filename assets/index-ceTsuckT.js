function yI(n,t){for(var e=0;e<t.length;e++){const r=t[e];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const u=Object.getOwnPropertyDescriptor(r,o);u&&Object.defineProperty(n,o,u.get?u:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();function _I(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var np={exports:{}},iu={};var b0;function vI(){if(b0)return iu;b0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:c,ref:o!==void 0?o:null,props:u}}return iu.Fragment=t,iu.jsx=e,iu.jsxs=e,iu}var w0;function TI(){return w0||(w0=1,np.exports=vI()),np.exports}var et=TI(),ip={exports:{}},wt={};var R0;function EI(){if(R0)return wt;R0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function I(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,j={};function F(O,tt,ut){this.props=O,this.context=tt,this.refs=j,this.updater=ut||P}F.prototype.isReactComponent={},F.prototype.setState=function(O,tt){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,tt,"setState")},F.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Z(){}Z.prototype=F.prototype;function Y(O,tt,ut){this.props=O,this.context=tt,this.refs=j,this.updater=ut||P}var rt=Y.prototype=new Z;rt.constructor=Y,q(rt,F.prototype),rt.isPureReactComponent=!0;var ot=Array.isArray;function dt(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(O,tt,ut){var ht=ut.ref;return{$$typeof:n,type:O,key:tt,ref:ht!==void 0?ht:null,props:ut}}function M(O,tt){return R(O.type,tt,O.props)}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function L(O){var tt={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ut){return tt[ut]})}var D=/\/+/g;function ee(O,tt){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):tt.toString(36)}function fe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(dt,dt):(O.status="pending",O.then(function(tt){O.status==="pending"&&(O.status="fulfilled",O.value=tt)},function(tt){O.status==="pending"&&(O.status="rejected",O.reason=tt)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function X(O,tt,ut,ht,At){var Dt=typeof O;(Dt==="undefined"||Dt==="boolean")&&(O=null);var zt=!1;if(O===null)zt=!0;else switch(Dt){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(O.$$typeof){case n:case t:zt=!0;break;case _:return zt=O._init,X(zt(O._payload),tt,ut,ht,At)}}if(zt)return At=At(O),zt=ht===""?"."+ee(O,0):ht,ot(At)?(ut="",zt!=null&&(ut=zt.replace(D,"$&/")+"/"),X(At,tt,ut,"",function(Mr){return Mr})):At!=null&&(V(At)&&(At=M(At,ut+(At.key==null||O&&O.key===At.key?"":(""+At.key).replace(D,"$&/")+"/")+zt)),tt.push(At)),1;zt=0;var Pe=ht===""?".":ht+":";if(ot(O))for(var oe=0;oe<O.length;oe++)ht=O[oe],Dt=Pe+ee(ht,oe),zt+=X(ht,tt,ut,Dt,At);else if(oe=I(O),typeof oe=="function")for(O=oe.call(O),oe=0;!(ht=O.next()).done;)ht=ht.value,Dt=Pe+ee(ht,oe++),zt+=X(ht,tt,ut,Dt,At);else if(Dt==="object"){if(typeof O.then=="function")return X(fe(O),tt,ut,ht,At);throw tt=String(O),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return zt}function it(O,tt,ut){if(O==null)return O;var ht=[],At=0;return X(O,ht,"","",function(Dt){return tt.call(ut,Dt,At++)}),ht}function ft(O){if(O._status===-1){var tt=O._result;tt=tt(),tt.then(function(ut){(O._status===0||O._status===-1)&&(O._status=1,O._result=ut)},function(ut){(O._status===0||O._status===-1)&&(O._status=2,O._result=ut)}),O._status===-1&&(O._status=0,O._result=tt)}if(O._status===1)return O._result.default;throw O._result}var It=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Nt={map:it,forEach:function(O,tt,ut){it(O,function(){tt.apply(this,arguments)},ut)},count:function(O){var tt=0;return it(O,function(){tt++}),tt},toArray:function(O){return it(O,function(tt){return tt})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return wt.Activity=T,wt.Children=Nt,wt.Component=F,wt.Fragment=e,wt.Profiler=o,wt.PureComponent=Y,wt.StrictMode=r,wt.Suspense=p,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,wt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},wt.cache=function(O){return function(){return O.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(O,tt,ut){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ht=q({},O.props),At=O.key;if(tt!=null)for(Dt in tt.key!==void 0&&(At=""+tt.key),tt)!w.call(tt,Dt)||Dt==="key"||Dt==="__self"||Dt==="__source"||Dt==="ref"&&tt.ref===void 0||(ht[Dt]=tt[Dt]);var Dt=arguments.length-2;if(Dt===1)ht.children=ut;else if(1<Dt){for(var zt=Array(Dt),Pe=0;Pe<Dt;Pe++)zt[Pe]=arguments[Pe+2];ht.children=zt}return R(O.type,At,ht)},wt.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},wt.createElement=function(O,tt,ut){var ht,At={},Dt=null;if(tt!=null)for(ht in tt.key!==void 0&&(Dt=""+tt.key),tt)w.call(tt,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(At[ht]=tt[ht]);var zt=arguments.length-2;if(zt===1)At.children=ut;else if(1<zt){for(var Pe=Array(zt),oe=0;oe<zt;oe++)Pe[oe]=arguments[oe+2];At.children=Pe}if(O&&O.defaultProps)for(ht in zt=O.defaultProps,zt)At[ht]===void 0&&(At[ht]=zt[ht]);return R(O,Dt,At)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(O){return{$$typeof:m,render:O}},wt.isValidElement=V,wt.lazy=function(O){return{$$typeof:_,_payload:{_status:-1,_result:O},_init:ft}},wt.memo=function(O,tt){return{$$typeof:g,type:O,compare:tt===void 0?null:tt}},wt.startTransition=function(O){var tt=C.T,ut={};C.T=ut;try{var ht=O(),At=C.S;At!==null&&At(ut,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(dt,It)}catch(Dt){It(Dt)}finally{tt!==null&&ut.types!==null&&(tt.types=ut.types),C.T=tt}},wt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},wt.use=function(O){return C.H.use(O)},wt.useActionState=function(O,tt,ut){return C.H.useActionState(O,tt,ut)},wt.useCallback=function(O,tt){return C.H.useCallback(O,tt)},wt.useContext=function(O){return C.H.useContext(O)},wt.useDebugValue=function(){},wt.useDeferredValue=function(O,tt){return C.H.useDeferredValue(O,tt)},wt.useEffect=function(O,tt){return C.H.useEffect(O,tt)},wt.useEffectEvent=function(O){return C.H.useEffectEvent(O)},wt.useId=function(){return C.H.useId()},wt.useImperativeHandle=function(O,tt,ut){return C.H.useImperativeHandle(O,tt,ut)},wt.useInsertionEffect=function(O,tt){return C.H.useInsertionEffect(O,tt)},wt.useLayoutEffect=function(O,tt){return C.H.useLayoutEffect(O,tt)},wt.useMemo=function(O,tt){return C.H.useMemo(O,tt)},wt.useOptimistic=function(O,tt){return C.H.useOptimistic(O,tt)},wt.useReducer=function(O,tt,ut){return C.H.useReducer(O,tt,ut)},wt.useRef=function(O){return C.H.useRef(O)},wt.useState=function(O){return C.H.useState(O)},wt.useSyncExternalStore=function(O,tt,ut){return C.H.useSyncExternalStore(O,tt,ut)},wt.useTransition=function(){return C.H.useTransition()},wt.version="19.2.4",wt}var C0;function Dg(){return C0||(C0=1,ip.exports=EI()),ip.exports}var st=Dg();const SI=_I(st),z3=yI({__proto__:null,default:SI},[st]);var sp={exports:{}},su={},rp={exports:{}},ap={};var I0;function AI(){return I0||(I0=1,(function(n){function t(X,it){var ft=X.length;X.push(it);t:for(;0<ft;){var It=ft-1>>>1,Nt=X[It];if(0<o(Nt,it))X[It]=it,X[ft]=Nt,ft=It;else break t}}function e(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var it=X[0],ft=X.pop();if(ft!==it){X[0]=ft;t:for(var It=0,Nt=X.length,O=Nt>>>1;It<O;){var tt=2*(It+1)-1,ut=X[tt],ht=tt+1,At=X[ht];if(0>o(ut,ft))ht<Nt&&0>o(At,ut)?(X[It]=At,X[ht]=ft,It=ht):(X[It]=ut,X[tt]=ft,It=tt);else if(ht<Nt&&0>o(At,ft))X[It]=At,X[ht]=ft,It=ht;else break t}}return it}function o(X,it){var ft=X.sortIndex-it.sortIndex;return ft!==0?ft:X.id-it.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();n.unstable_now=function(){return c.now()-m}}var p=[],g=[],_=1,T=null,S=3,I=!1,P=!1,q=!1,j=!1,F=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function rt(X){for(var it=e(g);it!==null;){if(it.callback===null)r(g);else if(it.startTime<=X)r(g),it.sortIndex=it.expirationTime,t(p,it);else break;it=e(g)}}function ot(X){if(q=!1,rt(X),!P)if(e(p)!==null)P=!0,dt||(dt=!0,L());else{var it=e(g);it!==null&&fe(ot,it.startTime-X)}}var dt=!1,C=-1,w=5,R=-1;function M(){return j?!0:!(n.unstable_now()-R<w)}function V(){if(j=!1,dt){var X=n.unstable_now();R=X;var it=!0;try{t:{P=!1,q&&(q=!1,Z(C),C=-1),I=!0;var ft=S;try{e:{for(rt(X),T=e(p);T!==null&&!(T.expirationTime>X&&M());){var It=T.callback;if(typeof It=="function"){T.callback=null,S=T.priorityLevel;var Nt=It(T.expirationTime<=X);if(X=n.unstable_now(),typeof Nt=="function"){T.callback=Nt,rt(X),it=!0;break e}T===e(p)&&r(p),rt(X)}else r(p);T=e(p)}if(T!==null)it=!0;else{var O=e(g);O!==null&&fe(ot,O.startTime-X),it=!1}}break t}finally{T=null,S=ft,I=!1}it=void 0}}finally{it?L():dt=!1}}}var L;if(typeof Y=="function")L=function(){Y(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ee=D.port2;D.port1.onmessage=V,L=function(){ee.postMessage(null)}}else L=function(){F(V,0)};function fe(X,it){C=F(function(){X(n.unstable_now())},it)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(X){switch(S){case 1:case 2:case 3:var it=3;break;default:it=S}var ft=S;S=it;try{return X()}finally{S=ft}},n.unstable_requestPaint=function(){j=!0},n.unstable_runWithPriority=function(X,it){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ft=S;S=X;try{return it()}finally{S=ft}},n.unstable_scheduleCallback=function(X,it,ft){var It=n.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?It+ft:It):ft=It,X){case 1:var Nt=-1;break;case 2:Nt=250;break;case 5:Nt=1073741823;break;case 4:Nt=1e4;break;default:Nt=5e3}return Nt=ft+Nt,X={id:_++,callback:it,priorityLevel:X,startTime:ft,expirationTime:Nt,sortIndex:-1},ft>It?(X.sortIndex=ft,t(g,X),e(p)===null&&X===e(g)&&(q?(Z(C),C=-1):q=!0,fe(ot,ft-It))):(X.sortIndex=Nt,t(p,X),P||I||(P=!0,dt||(dt=!0,L()))),X},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(X){var it=S;return function(){var ft=S;S=it;try{return X.apply(this,arguments)}finally{S=ft}}}})(ap)),ap}var D0;function bI(){return D0||(D0=1,rp.exports=AI()),rp.exports}var op={exports:{}},nn={};var x0;function wI(){if(x0)return nn;x0=1;var n=Dg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,_)},nn.flushSync=function(p){var g=c.T,_=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=_,r.d.f()}},nn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},nn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},nn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:I}):_==="script"&&r.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},nn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},nn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin);r.d.L(p,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},nn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},nn.requestFormReset=function(p){r.d.r(p)},nn.unstable_batchedUpdates=function(p,g){return p(g)},nn.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},nn.useFormStatus=function(){return c.H.useHostTransitionStatus()},nn.version="19.2.4",nn}var V0;function wA(){if(V0)return op.exports;V0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),op.exports=wI(),op.exports}var M0;function RI(){if(M0)return su;M0=1;var n=bI(),t=Dg(),e=wA();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function p(i){if(u(i)!==i)throw Error(r(188))}function g(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var a=i,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),i;if(d===l)return p(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,A=f.child;A;){if(A===a){v=!0,a=f,l=d;break}if(A===l){v=!0,l=f,a=d;break}A=A.sibling}if(!v){for(A=d.child;A;){if(A===a){v=!0,a=d,l=f;break}if(A===l){v=!0,l=d,a=f;break}A=A.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?i:s}function _(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=_(i),s!==null)return s;i=i.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function ee(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case q:return"Fragment";case F:return"Profiler";case j:return"StrictMode";case ot:return"Suspense";case dt:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case P:return"Portal";case Y:return i.displayName||"Context";case Z:return(i._context.displayName||"Context")+".Consumer";case rt:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return s=i.displayName||null,s!==null?s:ee(i.type)||"Memo";case w:s=i._payload,i=i._init;try{return ee(i(s))}catch{}}return null}var fe=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},It=[],Nt=-1;function O(i){return{current:i}}function tt(i){0>Nt||(i.current=It[Nt],It[Nt]=null,Nt--)}function ut(i,s){Nt++,It[Nt]=i.current,i.current=s}var ht=O(null),At=O(null),Dt=O(null),zt=O(null);function Pe(i,s){switch(ut(Dt,s),ut(At,i),ut(ht,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?YT(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=YT(s),i=QT(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}tt(ht),ut(ht,i)}function oe(){tt(ht),tt(At),tt(Dt)}function Mr(i){i.memoizedState!==null&&ut(zt,i);var s=ht.current,a=QT(s,i.type);s!==a&&(ut(At,i),ut(ht,a))}function wa(i){At.current===i&&(tt(ht),tt(At)),zt.current===i&&(tt(zt),Jl._currentValue=ft)}var Ra,Ca;function gi(i){if(Ra===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Ra=s&&s[1]||"",Ca=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ra+i+Ca}var Jo=!1;function Nr(i,s){if(!i||Jo)return"";Jo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(K){var H=K}Reflect.construct(i,[],J)}else{try{J.call()}catch(K){H=K}i.call(J.prototype)}}else{try{throw Error()}catch(K){H=K}(J=i())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(K){if(K&&H&&typeof K.stack=="string")return[K.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],A=d[1];if(v&&A){var x=v.split(`
`),z=A.split(`
`);for(f=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(l===x.length||f===z.length)for(l=x.length-1,f=z.length-1;1<=l&&0<=f&&x[l]!==z[f];)f--;for(;1<=l&&0<=f;l--,f--)if(x[l]!==z[f]){if(l!==1||f!==1)do if(l--,f--,0>f||x[l]!==z[f]){var Q=`
`+x[l].replace(" at new "," at ");return i.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",i.displayName)),Q}while(1<=l&&0<=f);break}}}finally{Jo=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?gi(a):""}function tl(i,s){switch(i.tag){case 26:case 27:case 5:return gi(i.type);case 16:return gi("Lazy");case 13:return i.child!==s&&s!==null?gi("Suspense Fallback"):gi("Suspense");case 19:return gi("SuspenseList");case 0:case 15:return Nr(i.type,!1);case 11:return Nr(i.type.render,!1);case 1:return Nr(i.type,!0);case 31:return gi("Activity");default:return""}}function el(i){try{var s="",a=null;do s+=tl(i,a),a=i,i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Se=Object.prototype.hasOwnProperty,ke=n.unstable_scheduleCallback,As=n.unstable_cancelCallback,sd=n.unstable_shouldYield,nc=n.unstable_requestPaint,un=n.unstable_now,Or=n.unstable_getCurrentPriorityLevel,nl=n.unstable_ImmediatePriority,il=n.unstable_UserBlockingPriority,bs=n.unstable_NormalPriority,rd=n.unstable_LowPriority,ic=n.unstable_IdlePriority,sc=n.log,rc=n.unstable_setDisableYieldValue,Wn=null,Ke=null;function Pn(i){if(typeof sc=="function"&&rc(i),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(Wn,i)}catch{}}var ge=Math.clz32?Math.clz32:oc,ac=Math.log,Ia=Math.LN2;function oc(i){return i>>>=0,i===0?32:31-(ac(i)/Ia|0)|0}var yi=256,Pr=262144,Ae=4194304;function _i(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function vi(i,s,a){var l=i.pendingLanes;if(l===0)return 0;var f=0,d=i.suspendedLanes,v=i.pingedLanes;i=i.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=_i(l):(v&=A,v!==0?f=_i(v):a||(a=A&~i,a!==0&&(f=_i(a))))):(A=l&~d,A!==0?f=_i(A):v!==0?f=_i(v):a||(a=l&~i,a!==0&&(f=_i(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function Zn(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function ad(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lc(){var i=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),i}function Ti(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function kr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function od(i,s,a,l,f,d){var v=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var A=i.entanglements,x=i.expirationTimes,z=i.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-ge(a),J=1<<Q;A[Q]=0,x[Q]=-1;var H=z[Q];if(H!==null)for(z[Q]=null,Q=0;Q<H.length;Q++){var K=H[Q];K!==null&&(K.lane&=-536870913)}a&=~J}l!==0&&Lr(i,l,0),d!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=d&~(v&~s))}function Lr(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var l=31-ge(s);i.entangledLanes|=s,i.entanglements[l]=i.entanglements[l]|1073741824|a&261930}function sl(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var l=31-ge(a),f=1<<l;f&s|i[l]&s&&(i[l]|=s),a&=~f}}function rl(i,s){var a=s&-s;return a=(a&42)!==0?1:Ur(a),(a&(i.suspendedLanes|s))!==0?0:a}function Ur(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Qi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function uc(){var i=it.p;return i!==0?i:(i=window.event,i===void 0?32:y0(i.type))}function Jn(i,s){var a=it.p;try{return it.p=i,s()}finally{it.p=a}}var ti=Math.random().toString(36).slice(2),be="__reactFiber$"+ti,je="__reactProps$"+ti,Ei="__reactContainer$"+ti,Da="__reactEvents$"+ti,ld="__reactListeners$"+ti,cc="__reactHandles$"+ti,hc="__reactResources$"+ti,Si="__reactMarker$"+ti;function xa(i){delete i[be],delete i[je],delete i[Da],delete i[ld],delete i[cc]}function Ai(i){var s=i[be];if(s)return s;for(var a=i.parentNode;a;){if(s=a[Ei]||a[be]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=e0(i);i!==null;){if(a=i[be])return a;i=e0(i)}return s}i=a,a=i.parentNode}return null}function kn(i){if(i=i[be]||i[Ei]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function An(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function bi(i){var s=i[hc];return s||(s=i[hc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function we(i){i[Si]=!0}var al=new Set,ol={};function wi(i,s){Ri(i,s),Ri(i+"Capture",s)}function Ri(i,s){for(ol[i]=s,i=0;i<s.length;i++)al.add(s[i])}var ll=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ul={},cl={};function fc(i){return Se.call(cl,i)?!0:Se.call(ul,i)?!1:ll.test(i)?cl[i]=!0:(ul[i]=!0,!1)}function Va(i,s,a){if(fc(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function bn(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function Re(i,s,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+l)}}function Fe(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ws(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function hl(i,s,a){var l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Yt(i){if(!i._valueTracker){var s=ws(i)?"checked":"value";i._valueTracker=hl(i,s,""+i[s])}}function Br(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return i&&(l=ws(i)?i.checked?"true":"false":i.value),i=l,i!==a?(s.setValue(i),!0):!1}function Ci(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var zr=/[\n"\\]/g;function pn(i){return i.replace(zr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ma(i,s,a,l,f,d,v,A){i.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?i.type=v:i.removeAttribute("type"),s!=null?v==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Fe(s)):i.value!==""+Fe(s)&&(i.value=""+Fe(s)):v!=="submit"&&v!=="reset"||i.removeAttribute("value"),s!=null?fl(i,v,Fe(s)):a!=null?fl(i,v,Fe(a)):l!=null&&i.removeAttribute("value"),f==null&&d!=null&&(i.defaultChecked=!!d),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+Fe(A):i.removeAttribute("name")}function dc(i,s,a,l,f,d,v,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(i.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Yt(i);return}a=a!=null?""+Fe(a):"",s=s!=null?""+Fe(s):a,A||s===i.value||(i.value=s),i.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=A?i.checked:!!l,i.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.name=v),Yt(i)}function fl(i,s,a){s==="number"&&Ci(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Rs(i,s,a,l){if(i=i.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=s.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+Fe(a),s=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function mc(i,s,a){if(s!=null&&(s=""+Fe(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+Fe(a):""}function Cs(i,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(fe(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Fe(s),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l),Yt(i)}function gn(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var pc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dl(i,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":l?i.setProperty(s,a):typeof a!="number"||a===0||pc.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function ml(i,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&dl(i,f,l)}else for(var d in s)s.hasOwnProperty(d)&&dl(i,d,s[d])}function Na(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(i){return Is.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ei(){}var pl=null;function Ln(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ds=null,Ii=null;function jr(i){var s=kn(i);if(s&&(i=s.stateNode)){var a=i[je]||null;t:switch(i=s.stateNode,s.type){case"input":if(Ma(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==i&&l.form===i.form){var f=l[je]||null;if(!f)throw Error(r(90));Ma(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===i.form&&Br(l)}break t;case"textarea":mc(i,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Rs(i,!!a.multiple,s,!1)}}}var Pa=!1;function xs(i,s,a){if(Pa)return i(s,a);Pa=!0;try{var l=i(s);return l}finally{if(Pa=!1,(Ds!==null||Ii!==null)&&(uh(),Ds&&(s=Ds,i=Ii,Ii=Ds=null,jr(s),i)))for(s=0;s<i.length;s++)jr(i[s])}}function ni(i,s){var a=i.stateNode;if(a===null)return null;var l=a[je]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fr=!1;if(Un)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Fr=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Fr=!1}var Di=null,gl=null,qr=null;function yl(){if(qr)return qr;var i,s=gl,a=s.length,l,f="value"in Di?Di.value:Di.textContent,d=f.length;for(i=0;i<a&&s[i]===f[i];i++);var v=a-i;for(l=1;l<=v&&s[a-l]===f[d-l];l++);return qr=f.slice(i,1<l?1-l:void 0)}function Hr(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Xi(){return!0}function ii(){return!1}function Ye(i){function s(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(a=i[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xi:ii,this.isPropagationStopped=ii,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),s}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=Ye($i),Vs=T({},$i,{view:0,detail:0}),_l=Ye(Vs),Ms,ka,Vi,La=T({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Vi&&(Vi&&i.type==="mousemove"?(Ms=i.screenX-Vi.screenX,ka=i.screenY-Vi.screenY):ka=Ms=0,Vi=i),Ms)},movementY:function(i){return"movementY"in i?i.movementY:ka}}),vl=Ye(La),Gr=T({},La,{dataTransfer:0}),yc=Ye(Gr),_c=T({},Vs,{relatedTarget:0}),Kr=Ye(_c),Tl=T({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),vc=Ye(Tl),Ua=T({},$i,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Tc=Ye(Ua),Ec=T({},$i,{data:0}),Mi=Ye(Ec),Sc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ac={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=bc[i])?!!s[i]:!1}function Ns(){return wc}var cn=T({},Vs,{key:function(i){if(i.key){var s=Sc[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Hr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ac[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(i){return i.type==="keypress"?Hr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Hr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rc=Ye(cn),Cc=T({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=Ye(Cc),h=T({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),y=Ye(h),E=T({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ye(E),U=T({},La,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Ye(U),at=T({},$i,{newState:0,oldState:0}),Rt=Ye(at),ye=[9,13,27,32],Gt=Un&&"CompositionEvent"in window,le=null;Un&&"documentMode"in document&&(le=document.documentMode);var Bn=Un&&"TextEvent"in window&&!le,Ni=Un&&(!Gt||le&&8<le&&11>=le),si=" ",ri=!1;function Yr(i,s){switch(i){case"keyup":return ye.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ba(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var za=!1;function jR(i,s){switch(i){case"compositionend":return Ba(s);case"keypress":return s.which!==32?null:(ri=!0,si);case"textInput":return i=s.data,i===si&&ri?null:i;default:return null}}function FR(i,s){if(za)return i==="compositionend"||!Gt&&Yr(i,s)?(i=yl(),qr=gl=Di=null,za=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ni&&s.locale!=="ko"?null:s.data;default:return null}}var qR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s_(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!qR[i.type]:s==="textarea"}function r_(i,s,a,l){Ds?Ii?Ii.push(l):Ii=[l]:Ds=l,s=gh(s,"onChange"),0<s.length&&(a=new xi("onChange","change",null,a,l),i.push({event:a,listeners:s}))}var El=null,Sl=null;function HR(i){jT(i,0)}function Ic(i){var s=An(i);if(Br(s))return i}function a_(i,s){if(i==="change")return s}var o_=!1;if(Un){var ud;if(Un){var cd="oninput"in document;if(!cd){var l_=document.createElement("div");l_.setAttribute("oninput","return;"),cd=typeof l_.oninput=="function"}ud=cd}else ud=!1;o_=ud&&(!document.documentMode||9<document.documentMode)}function u_(){El&&(El.detachEvent("onpropertychange",c_),Sl=El=null)}function c_(i){if(i.propertyName==="value"&&Ic(Sl)){var s=[];r_(s,Sl,i,Ln(i)),xs(HR,s)}}function GR(i,s,a){i==="focusin"?(u_(),El=s,Sl=a,El.attachEvent("onpropertychange",c_)):i==="focusout"&&u_()}function KR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ic(Sl)}function YR(i,s){if(i==="click")return Ic(s)}function QR(i,s){if(i==="input"||i==="change")return Ic(s)}function XR(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var wn=typeof Object.is=="function"?Object.is:XR;function Al(i,s){if(wn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Se.call(s,f)||!wn(i[f],s[f]))return!1}return!0}function h_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function f_(i,s){var a=h_(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=s&&l>=s)return{node:a,offset:s-i};i=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=h_(a)}}function d_(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?d_(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function m_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Ci(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=Ci(i.document)}return s}function hd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var $R=Un&&"documentMode"in document&&11>=document.documentMode,ja=null,fd=null,bl=null,dd=!1;function p_(i,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;dd||ja==null||ja!==Ci(l)||(l=ja,"selectionStart"in l&&hd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),bl&&Al(bl,l)||(bl=l,l=gh(fd,"onSelect"),0<l.length&&(s=new xi("onSelect","select",null,s,a),i.push({event:s,listeners:l}),s.target=ja)))}function Qr(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var Fa={animationend:Qr("Animation","AnimationEnd"),animationiteration:Qr("Animation","AnimationIteration"),animationstart:Qr("Animation","AnimationStart"),transitionrun:Qr("Transition","TransitionRun"),transitionstart:Qr("Transition","TransitionStart"),transitioncancel:Qr("Transition","TransitionCancel"),transitionend:Qr("Transition","TransitionEnd")},md={},g_={};Un&&(g_=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function Xr(i){if(md[i])return md[i];if(!Fa[i])return i;var s=Fa[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in g_)return md[i]=s[a];return i}var y_=Xr("animationend"),__=Xr("animationiteration"),v_=Xr("animationstart"),WR=Xr("transitionrun"),ZR=Xr("transitionstart"),JR=Xr("transitioncancel"),T_=Xr("transitionend"),E_=new Map,pd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pd.push("scrollEnd");function ai(i,s){E_.set(i,s),wi(s,[i])}var Dc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},zn=[],qa=0,gd=0;function xc(){for(var i=qa,s=gd=qa=0;s<i;){var a=zn[s];zn[s++]=null;var l=zn[s];zn[s++]=null;var f=zn[s];zn[s++]=null;var d=zn[s];if(zn[s++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&S_(a,f,d)}}function Vc(i,s,a,l){zn[qa++]=i,zn[qa++]=s,zn[qa++]=a,zn[qa++]=l,gd|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function yd(i,s,a,l){return Vc(i,s,a,l),Mc(i)}function $r(i,s){return Vc(i,null,null,s),Mc(i)}function S_(i,s,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=i.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(i=d.stateNode,i===null||i._visibility&1||(f=!0)),i=d,d=d.return;return i.tag===3?(d=i.stateNode,f&&s!==null&&(f=31-ge(a),i=d.hiddenUpdates,l=i[f],l===null?i[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function Mc(i){if(50<Kl)throw Kl=0,Rm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Ha={};function tC(i,s,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(i,s,a,l){return new tC(i,s,a,l)}function _d(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zi(i,s){var a=i.alternate;return a===null?(a=Rn(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function A_(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Nc(i,s,a,l,f,d){var v=0;if(l=i,typeof i=="function")_d(i)&&(v=1);else if(typeof i=="string")v=rI(i,a,ht.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case R:return i=Rn(31,a,s,f),i.elementType=R,i.lanes=d,i;case q:return Wr(a.children,f,d,s);case j:v=8,f|=24;break;case F:return i=Rn(12,a,s,f|2),i.elementType=F,i.lanes=d,i;case ot:return i=Rn(13,a,s,f),i.elementType=ot,i.lanes=d,i;case dt:return i=Rn(19,a,s,f),i.elementType=dt,i.lanes=d,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Y:v=10;break t;case Z:v=9;break t;case rt:v=11;break t;case C:v=14;break t;case w:v=16,l=null;break t}v=29,a=Error(r(130,i===null?"null":typeof i,"")),l=null}return s=Rn(v,a,s,f),s.elementType=i,s.type=l,s.lanes=d,s}function Wr(i,s,a,l){return i=Rn(7,i,l,s),i.lanes=a,i}function vd(i,s,a){return i=Rn(6,i,null,s),i.lanes=a,i}function b_(i){var s=Rn(18,null,null,0);return s.stateNode=i,s}function Td(i,s,a){return s=Rn(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var w_=new WeakMap;function jn(i,s){if(typeof i=="object"&&i!==null){var a=w_.get(i);return a!==void 0?a:(s={value:i,source:s,stack:el(s)},w_.set(i,s),s)}return{value:i,source:s,stack:el(s)}}var Ga=[],Ka=0,Oc=null,wl=0,Fn=[],qn=0,Os=null,Oi=1,Pi="";function Ji(i,s){Ga[Ka++]=wl,Ga[Ka++]=Oc,Oc=i,wl=s}function R_(i,s,a){Fn[qn++]=Oi,Fn[qn++]=Pi,Fn[qn++]=Os,Os=i;var l=Oi;i=Pi;var f=32-ge(l)-1;l&=~(1<<f),a+=1;var d=32-ge(s)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Oi=1<<32-ge(s)+f|a<<f|l,Pi=d+i}else Oi=1<<d|a<<f|l,Pi=i}function Ed(i){i.return!==null&&(Ji(i,1),R_(i,1,0))}function Sd(i){for(;i===Oc;)Oc=Ga[--Ka],Ga[Ka]=null,wl=Ga[--Ka],Ga[Ka]=null;for(;i===Os;)Os=Fn[--qn],Fn[qn]=null,Pi=Fn[--qn],Fn[qn]=null,Oi=Fn[--qn],Fn[qn]=null}function C_(i,s){Fn[qn++]=Oi,Fn[qn++]=Pi,Fn[qn++]=Os,Oi=s.id,Pi=s.overflow,Os=i}var Qe=null,ie=null,Bt=!1,Ps=null,Hn=!1,Ad=Error(r(519));function ks(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rl(jn(s,i)),Ad}function I_(i){var s=i.stateNode,a=i.type,l=i.memoizedProps;switch(s[be]=i,s[je]=l,a){case"dialog":Mt("cancel",s),Mt("close",s);break;case"iframe":case"object":case"embed":Mt("load",s);break;case"video":case"audio":for(a=0;a<Ql.length;a++)Mt(Ql[a],s);break;case"source":Mt("error",s);break;case"img":case"image":case"link":Mt("error",s),Mt("load",s);break;case"details":Mt("toggle",s);break;case"input":Mt("invalid",s),dc(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",s);break;case"textarea":Mt("invalid",s),Cs(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||GT(s.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",s),Mt("toggle",s)),l.onScroll!=null&&Mt("scroll",s),l.onScrollEnd!=null&&Mt("scrollend",s),l.onClick!=null&&(s.onclick=ei),s=!0):s=!1,s||ks(i,!0)}function D_(i){for(Qe=i.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Qe=Qe.return}}function Ya(i){if(i!==Qe)return!1;if(!Bt)return D_(i),Bt=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||jm(i.type,i.memoizedProps)),a=!a),a&&ie&&ks(i),D_(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ie=t0(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ie=t0(i)}else s===27?(s=ie,$s(i.type)?(i=Km,Km=null,ie=i):ie=s):ie=Qe?Kn(i.stateNode.nextSibling):null;return!0}function Zr(){ie=Qe=null,Bt=!1}function bd(){var i=Ps;return i!==null&&(Tn===null?Tn=i:Tn.push.apply(Tn,i),Ps=null),i}function Rl(i){Ps===null?Ps=[i]:Ps.push(i)}var wd=O(null),Jr=null,ts=null;function Ls(i,s,a){ut(wd,s._currentValue),s._currentValue=a}function es(i){i._currentValue=wd.current,tt(wd)}function Rd(i,s,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),i===a)break;i=i.return}}function Cd(i,s,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;t:for(;d!==null;){var A=d;d=f;for(var x=0;x<s.length;x++)if(A.context===s[x]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),Rd(d.return,a,i),l||(v=null);break t}d=A.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(r(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Rd(v,a,i),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===i){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Qa(i,s,a,l){i=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var A=f.type;wn(f.pendingProps.value,v.value)||(i!==null?i.push(A):i=[A])}}else if(f===zt.current){if(v=f.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Jl):i=[Jl])}f=f.return}i!==null&&Cd(s,i,a,l),s.flags|=262144}function Pc(i){for(i=i.firstContext;i!==null;){if(!wn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ta(i){Jr=i,ts=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Xe(i){return x_(Jr,i)}function kc(i,s){return Jr===null&&ta(i),x_(i,s)}function x_(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ts===null){if(i===null)throw Error(r(308));ts=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ts=ts.next=s;return a}var eC=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},nC=n.unstable_scheduleCallback,iC=n.unstable_NormalPriority,Ce={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Id(){return{controller:new eC,data:new Map,refCount:0}}function Cl(i){i.refCount--,i.refCount===0&&nC(iC,function(){i.controller.abort()})}var Il=null,Dd=0,Xa=0,$a=null;function sC(i,s){if(Il===null){var a=Il=[];Dd=0,Xa=Mm(),$a={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Dd++,s.then(V_,V_),s}function V_(){if(--Dd===0&&Il!==null){$a!==null&&($a.status="fulfilled");var i=Il;Il=null,Xa=0,$a=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function rC(i,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var M_=X.S;X.S=function(i,s){pT=un(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&sC(i,s),M_!==null&&M_(i,s)};var ea=O(null);function xd(){var i=ea.current;return i!==null?i:ne.pooledCache}function Lc(i,s){s===null?ut(ea,ea.current):ut(ea,s.pool)}function N_(){var i=xd();return i===null?null:{parent:Ce._currentValue,pool:i}}var Wa=Error(r(460)),Vd=Error(r(474)),Uc=Error(r(542)),Bc={then:function(){}};function O_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function P_(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(ei,ei),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,L_(i),i;default:if(typeof s.status=="string")s.then(ei,ei);else{if(i=ne,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,L_(i),i}throw ia=s,Wa}}function na(i){try{var s=i._init;return s(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ia=a,Wa):a}}var ia=null;function k_(){if(ia===null)throw Error(r(459));var i=ia;return ia=null,i}function L_(i){if(i===Wa||i===Uc)throw Error(r(483))}var Za=null,Dl=0;function zc(i){var s=Dl;return Dl+=1,Za===null&&(Za=[]),P_(Za,i,s)}function xl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function jc(i,s){throw s.$$typeof===S?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function U_(i){function s(k,N){if(i){var B=k.deletions;B===null?(k.deletions=[N],k.flags|=16):B.push(N)}}function a(k,N){if(!i)return null;for(;N!==null;)s(k,N),N=N.sibling;return null}function l(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function f(k,N){return k=Zi(k,N),k.index=0,k.sibling=null,k}function d(k,N,B){return k.index=B,i?(B=k.alternate,B!==null?(B=B.index,B<N?(k.flags|=67108866,N):B):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function v(k){return i&&k.alternate===null&&(k.flags|=67108866),k}function A(k,N,B,W){return N===null||N.tag!==6?(N=vd(B,k.mode,W),N.return=k,N):(N=f(N,B),N.return=k,N)}function x(k,N,B,W){var _t=B.type;return _t===q?Q(k,N,B.props.children,W,B.key):N!==null&&(N.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===w&&na(_t)===N.type)?(N=f(N,B.props),xl(N,B),N.return=k,N):(N=Nc(B.type,B.key,B.props,null,k.mode,W),xl(N,B),N.return=k,N)}function z(k,N,B,W){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=Td(B,k.mode,W),N.return=k,N):(N=f(N,B.children||[]),N.return=k,N)}function Q(k,N,B,W,_t){return N===null||N.tag!==7?(N=Wr(B,k.mode,W,_t),N.return=k,N):(N=f(N,B),N.return=k,N)}function J(k,N,B){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=vd(""+N,k.mode,B),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case I:return B=Nc(N.type,N.key,N.props,null,k.mode,B),xl(B,N),B.return=k,B;case P:return N=Td(N,k.mode,B),N.return=k,N;case w:return N=na(N),J(k,N,B)}if(fe(N)||L(N))return N=Wr(N,k.mode,B,null),N.return=k,N;if(typeof N.then=="function")return J(k,zc(N),B);if(N.$$typeof===Y)return J(k,kc(k,N),B);jc(k,N)}return null}function H(k,N,B,W){var _t=N!==null?N.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return _t!==null?null:A(k,N,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case I:return B.key===_t?x(k,N,B,W):null;case P:return B.key===_t?z(k,N,B,W):null;case w:return B=na(B),H(k,N,B,W)}if(fe(B)||L(B))return _t!==null?null:Q(k,N,B,W,null);if(typeof B.then=="function")return H(k,N,zc(B),W);if(B.$$typeof===Y)return H(k,N,kc(k,B),W);jc(k,B)}return null}function K(k,N,B,W,_t){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return k=k.get(B)||null,A(N,k,""+W,_t);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case I:return k=k.get(W.key===null?B:W.key)||null,x(N,k,W,_t);case P:return k=k.get(W.key===null?B:W.key)||null,z(N,k,W,_t);case w:return W=na(W),K(k,N,B,W,_t)}if(fe(W)||L(W))return k=k.get(B)||null,Q(N,k,W,_t,null);if(typeof W.then=="function")return K(k,N,B,zc(W),_t);if(W.$$typeof===Y)return K(k,N,B,kc(N,W),_t);jc(N,W)}return null}function mt(k,N,B,W){for(var _t=null,qt=null,gt=N,xt=N=0,Pt=null;gt!==null&&xt<B.length;xt++){gt.index>xt?(Pt=gt,gt=null):Pt=gt.sibling;var Ht=H(k,gt,B[xt],W);if(Ht===null){gt===null&&(gt=Pt);break}i&&gt&&Ht.alternate===null&&s(k,gt),N=d(Ht,N,xt),qt===null?_t=Ht:qt.sibling=Ht,qt=Ht,gt=Pt}if(xt===B.length)return a(k,gt),Bt&&Ji(k,xt),_t;if(gt===null){for(;xt<B.length;xt++)gt=J(k,B[xt],W),gt!==null&&(N=d(gt,N,xt),qt===null?_t=gt:qt.sibling=gt,qt=gt);return Bt&&Ji(k,xt),_t}for(gt=l(gt);xt<B.length;xt++)Pt=K(gt,k,xt,B[xt],W),Pt!==null&&(i&&Pt.alternate!==null&&gt.delete(Pt.key===null?xt:Pt.key),N=d(Pt,N,xt),qt===null?_t=Pt:qt.sibling=Pt,qt=Pt);return i&&gt.forEach(function(er){return s(k,er)}),Bt&&Ji(k,xt),_t}function Tt(k,N,B,W){if(B==null)throw Error(r(151));for(var _t=null,qt=null,gt=N,xt=N=0,Pt=null,Ht=B.next();gt!==null&&!Ht.done;xt++,Ht=B.next()){gt.index>xt?(Pt=gt,gt=null):Pt=gt.sibling;var er=H(k,gt,Ht.value,W);if(er===null){gt===null&&(gt=Pt);break}i&&gt&&er.alternate===null&&s(k,gt),N=d(er,N,xt),qt===null?_t=er:qt.sibling=er,qt=er,gt=Pt}if(Ht.done)return a(k,gt),Bt&&Ji(k,xt),_t;if(gt===null){for(;!Ht.done;xt++,Ht=B.next())Ht=J(k,Ht.value,W),Ht!==null&&(N=d(Ht,N,xt),qt===null?_t=Ht:qt.sibling=Ht,qt=Ht);return Bt&&Ji(k,xt),_t}for(gt=l(gt);!Ht.done;xt++,Ht=B.next())Ht=K(gt,k,xt,Ht.value,W),Ht!==null&&(i&&Ht.alternate!==null&&gt.delete(Ht.key===null?xt:Ht.key),N=d(Ht,N,xt),qt===null?_t=Ht:qt.sibling=Ht,qt=Ht);return i&&gt.forEach(function(gI){return s(k,gI)}),Bt&&Ji(k,xt),_t}function Jt(k,N,B,W){if(typeof B=="object"&&B!==null&&B.type===q&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case I:t:{for(var _t=B.key;N!==null;){if(N.key===_t){if(_t=B.type,_t===q){if(N.tag===7){a(k,N.sibling),W=f(N,B.props.children),W.return=k,k=W;break t}}else if(N.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===w&&na(_t)===N.type){a(k,N.sibling),W=f(N,B.props),xl(W,B),W.return=k,k=W;break t}a(k,N);break}else s(k,N);N=N.sibling}B.type===q?(W=Wr(B.props.children,k.mode,W,B.key),W.return=k,k=W):(W=Nc(B.type,B.key,B.props,null,k.mode,W),xl(W,B),W.return=k,k=W)}return v(k);case P:t:{for(_t=B.key;N!==null;){if(N.key===_t)if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){a(k,N.sibling),W=f(N,B.children||[]),W.return=k,k=W;break t}else{a(k,N);break}else s(k,N);N=N.sibling}W=Td(B,k.mode,W),W.return=k,k=W}return v(k);case w:return B=na(B),Jt(k,N,B,W)}if(fe(B))return mt(k,N,B,W);if(L(B)){if(_t=L(B),typeof _t!="function")throw Error(r(150));return B=_t.call(B),Tt(k,N,B,W)}if(typeof B.then=="function")return Jt(k,N,zc(B),W);if(B.$$typeof===Y)return Jt(k,N,kc(k,B),W);jc(k,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,N!==null&&N.tag===6?(a(k,N.sibling),W=f(N,B),W.return=k,k=W):(a(k,N),W=vd(B,k.mode,W),W.return=k,k=W),v(k)):a(k,N)}return function(k,N,B,W){try{Dl=0;var _t=Jt(k,N,B,W);return Za=null,_t}catch(gt){if(gt===Wa||gt===Uc)throw gt;var qt=Rn(29,gt,null,k.mode);return qt.lanes=W,qt.return=k,qt}}}var sa=U_(!0),B_=U_(!1),Us=!1;function Md(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nd(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Bs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function zs(i,s,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Mc(i),S_(i,null,a),s}return Vc(i,l,s,a),Mc(i)}function Vl(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,sl(i,a)}}function Od(i,s){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var Pd=!1;function Ml(){if(Pd){var i=$a;if(i!==null)throw i}}function Nl(i,s,a,l){Pd=!1;var f=i.updateQueue;Us=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var x=A,z=x.next;x.next=null,v===null?d=z:v.next=z,v=x;var Q=i.alternate;Q!==null&&(Q=Q.updateQueue,A=Q.lastBaseUpdate,A!==v&&(A===null?Q.firstBaseUpdate=z:A.next=z,Q.lastBaseUpdate=x))}if(d!==null){var J=f.baseState;v=0,Q=z=x=null,A=d;do{var H=A.lane&-536870913,K=H!==A.lane;if(K?(Ot&H)===H:(l&H)===H){H!==0&&H===Xa&&(Pd=!0),Q!==null&&(Q=Q.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var mt=i,Tt=A;H=s;var Jt=a;switch(Tt.tag){case 1:if(mt=Tt.payload,typeof mt=="function"){J=mt.call(Jt,J,H);break t}J=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=Tt.payload,H=typeof mt=="function"?mt.call(Jt,J,H):mt,H==null)break t;J=T({},J,H);break t;case 2:Us=!0}}H=A.callback,H!==null&&(i.flags|=64,K&&(i.flags|=8192),K=f.callbacks,K===null?f.callbacks=[H]:K.push(H))}else K={lane:H,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Q===null?(z=Q=K,x=J):Q=Q.next=K,v|=H;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;K=A,A=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);Q===null&&(x=J),f.baseState=x,f.firstBaseUpdate=z,f.lastBaseUpdate=Q,d===null&&(f.shared.lanes=0),Gs|=v,i.lanes=v,i.memoizedState=J}}function z_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function j_(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)z_(a[i],s)}var Ja=O(null),Fc=O(0);function F_(i,s){i=cs,ut(Fc,i),ut(Ja,s),cs=i|s.baseLanes}function kd(){ut(Fc,cs),ut(Ja,Ja.current)}function Ld(){cs=Fc.current,tt(Ja),tt(Fc)}var Cn=O(null),Gn=null;function js(i){var s=i.alternate;ut(_e,_e.current&1),ut(Cn,i),Gn===null&&(s===null||Ja.current!==null||s.memoizedState!==null)&&(Gn=i)}function Ud(i){ut(_e,_e.current),ut(Cn,i),Gn===null&&(Gn=i)}function q_(i){i.tag===22?(ut(_e,_e.current),ut(Cn,i),Gn===null&&(Gn=i)):Fs()}function Fs(){ut(_e,_e.current),ut(Cn,Cn.current)}function In(i){tt(Cn),Gn===i&&(Gn=null),tt(_e)}var _e=O(0);function qc(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Hm(a)||Gm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ns=0,Ct=null,Wt=null,Ie=null,Hc=!1,to=!1,ra=!1,Gc=0,Ol=0,eo=null,aC=0;function de(){throw Error(r(321))}function Bd(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!wn(i[a],s[a]))return!1;return!0}function zd(i,s,a,l,f,d){return ns=d,Ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=i===null||i.memoizedState===null?Rv:em,ra=!1,d=a(l,f),ra=!1,to&&(d=G_(s,a,l,f)),H_(i),d}function H_(i){X.H=Ll;var s=Wt!==null&&Wt.next!==null;if(ns=0,Ie=Wt=Ct=null,Hc=!1,Ol=0,eo=null,s)throw Error(r(300));i===null||De||(i=i.dependencies,i!==null&&Pc(i)&&(De=!0))}function G_(i,s,a,l){Ct=i;var f=0;do{if(to&&(eo=null),Ol=0,to=!1,25<=f)throw Error(r(301));if(f+=1,Ie=Wt=null,i.updateQueue!=null){var d=i.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=Cv,d=s(a,l)}while(to);return d}function oC(){var i=X.H,s=i.useState()[0];return s=typeof s.then=="function"?Pl(s):s,i=i.useState()[0],(Wt!==null?Wt.memoizedState:null)!==i&&(Ct.flags|=1024),s}function jd(){var i=Gc!==0;return Gc=0,i}function Fd(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function qd(i){if(Hc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Hc=!1}ns=0,Ie=Wt=Ct=null,to=!1,Ol=Gc=0,eo=null}function hn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?Ct.memoizedState=Ie=i:Ie=Ie.next=i,Ie}function ve(){if(Wt===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=Wt.next;var s=Ie===null?Ct.memoizedState:Ie.next;if(s!==null)Ie=s,Wt=i;else{if(i===null)throw Ct.alternate===null?Error(r(467)):Error(r(310));Wt=i,i={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Ie===null?Ct.memoizedState=Ie=i:Ie=Ie.next=i}return Ie}function Kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pl(i){var s=Ol;return Ol+=1,eo===null&&(eo=[]),i=P_(eo,i,s),s=Ct,(Ie===null?s.memoizedState:Ie.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?Rv:em),i}function Yc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Pl(i);if(i.$$typeof===Y)return Xe(i)}throw Error(r(438,String(i)))}function Hd(i){var s=null,a=Ct.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Kc(),Ct.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),l=0;l<i;l++)a[l]=M;return s.index++,a}function is(i,s){return typeof s=="function"?s(i):s}function Qc(i){var s=ve();return Gd(s,Wt,i)}function Gd(i,s,a){var l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=i.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}s.baseQueue=f=d,l.pending=null}if(d=i.baseState,f===null)i.memoizedState=d;else{s=f.next;var A=v=null,x=null,z=s,Q=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(Ot&J)===J:(ns&J)===J){var H=z.revertLane;if(H===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===Xa&&(Q=!0);else if((ns&H)===H){z=z.next,H===Xa&&(Q=!0);continue}else J={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},x===null?(A=x=J,v=d):x=x.next=J,Ct.lanes|=H,Gs|=H;J=z.action,ra&&a(d,J),d=z.hasEagerState?z.eagerState:a(d,J)}else H={lane:J,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},x===null?(A=x=H,v=d):x=x.next=H,Ct.lanes|=J,Gs|=J;z=z.next}while(z!==null&&z!==s);if(x===null?v=d:x.next=A,!wn(d,i.memoizedState)&&(De=!0,Q&&(a=$a,a!==null)))throw a;i.memoizedState=d,i.baseState=v,i.baseQueue=x,l.lastRenderedState=d}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function Kd(i){var s=ve(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=i(d,v.action),v=v.next;while(v!==f);wn(d,s.memoizedState)||(De=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function K_(i,s,a){var l=Ct,f=ve(),d=Bt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var v=!wn((Wt||f).memoizedState,a);if(v&&(f.memoizedState=a,De=!0),f=f.queue,Xd(X_.bind(null,l,f,i),[i]),f.getSnapshot!==s||v||Ie!==null&&Ie.memoizedState.tag&1){if(l.flags|=2048,no(9,{destroy:void 0},Q_.bind(null,l,f,a,s),null),ne===null)throw Error(r(349));d||(ns&127)!==0||Y_(l,s,a)}return a}function Y_(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=Ct.updateQueue,s===null?(s=Kc(),Ct.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function Q_(i,s,a,l){s.value=a,s.getSnapshot=l,$_(s)&&W_(i)}function X_(i,s,a){return a(function(){$_(s)&&W_(i)})}function $_(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!wn(i,a)}catch{return!0}}function W_(i){var s=$r(i,2);s!==null&&En(s,i,2)}function Yd(i){var s=hn();if(typeof i=="function"){var a=i;if(i=a(),ra){Pn(!0);try{a()}finally{Pn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:i},s}function Z_(i,s,a,l){return i.baseState=a,Gd(i,Wt,typeof l=="function"?l:is)}function lC(i,s,a,l,f){if(Wc(i))throw Error(r(485));if(i=s.action,i!==null){var d={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,J_(s,d)):(d.next=a.next,s.pending=a.next=d)}}function J_(i,s){var a=s.action,l=s.payload,f=i.state;if(s.isTransition){var d=X.T,v={};X.T=v;try{var A=a(f,l),x=X.S;x!==null&&x(v,A),tv(i,s,A)}catch(z){Qd(i,s,z)}finally{d!==null&&v.types!==null&&(d.types=v.types),X.T=d}}else try{d=a(f,l),tv(i,s,d)}catch(z){Qd(i,s,z)}}function tv(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ev(i,s,l)},function(l){return Qd(i,s,l)}):ev(i,s,a)}function ev(i,s,a){s.status="fulfilled",s.value=a,nv(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,J_(i,a)))}function Qd(i,s,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,nv(s),s=s.next;while(s!==l)}i.action=null}function nv(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function iv(i,s){return s}function sv(i,s){if(Bt){var a=ne.formState;if(a!==null){t:{var l=Ct;if(Bt){if(ie){e:{for(var f=ie,d=Hn;f.nodeType!==8;){if(!d){f=null;break e}if(f=Kn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ie=Kn(f.nextSibling),l=f.data==="F!";break t}}ks(l)}l=!1}l&&(s=a[0])}}return a=hn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iv,lastRenderedState:s},a.queue=l,a=Av.bind(null,Ct,l),l.dispatch=a,l=Yd(!1),d=tm.bind(null,Ct,!1,l.queue),l=hn(),f={state:s,dispatch:null,action:i,pending:null},l.queue=f,a=lC.bind(null,Ct,f,d,a),f.dispatch=a,l.memoizedState=i,[s,a,!1]}function rv(i){var s=ve();return av(s,Wt,i)}function av(i,s,a){if(s=Gd(i,s,iv)[0],i=Qc(is)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Pl(s)}catch(v){throw v===Wa?Uc:v}else l=s;s=ve();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(Ct.flags|=2048,no(9,{destroy:void 0},uC.bind(null,f,a),null)),[l,d,i]}function uC(i,s){i.action=s}function ov(i){var s=ve(),a=Wt;if(a!==null)return av(s,a,i);ve(),s=s.memoizedState,a=ve();var l=a.queue.dispatch;return a.memoizedState=i,[s,l,!1]}function no(i,s,a,l){return i={tag:i,create:a,deps:l,inst:s,next:null},s=Ct.updateQueue,s===null&&(s=Kc(),Ct.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,s.lastEffect=i),i}function lv(){return ve().memoizedState}function Xc(i,s,a,l){var f=hn();Ct.flags|=i,f.memoizedState=no(1|s,{destroy:void 0},a,l===void 0?null:l)}function $c(i,s,a,l){var f=ve();l=l===void 0?null:l;var d=f.memoizedState.inst;Wt!==null&&l!==null&&Bd(l,Wt.memoizedState.deps)?f.memoizedState=no(s,d,a,l):(Ct.flags|=i,f.memoizedState=no(1|s,d,a,l))}function uv(i,s){Xc(8390656,8,i,s)}function Xd(i,s){$c(2048,8,i,s)}function cC(i){Ct.flags|=4;var s=Ct.updateQueue;if(s===null)s=Kc(),Ct.updateQueue=s,s.events=[i];else{var a=s.events;a===null?s.events=[i]:a.push(i)}}function cv(i){var s=ve().memoizedState;return cC({ref:s,nextImpl:i}),function(){if((Kt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function hv(i,s){return $c(4,2,i,s)}function fv(i,s){return $c(4,4,i,s)}function dv(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function mv(i,s,a){a=a!=null?a.concat([i]):null,$c(4,4,dv.bind(null,s,i),a)}function $d(){}function pv(i,s){var a=ve();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Bd(s,l[1])?l[0]:(a.memoizedState=[i,s],i)}function gv(i,s){var a=ve();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Bd(s,l[1]))return l[0];if(l=i(),ra){Pn(!0);try{i()}finally{Pn(!1)}}return a.memoizedState=[l,s],l}function Wd(i,s,a){return a===void 0||(ns&1073741824)!==0&&(Ot&261930)===0?i.memoizedState=s:(i.memoizedState=a,i=yT(),Ct.lanes|=i,Gs|=i,a)}function yv(i,s,a,l){return wn(a,s)?a:Ja.current!==null?(i=Wd(i,a,l),wn(i,s)||(De=!0),i):(ns&42)===0||(ns&1073741824)!==0&&(Ot&261930)===0?(De=!0,i.memoizedState=a):(i=yT(),Ct.lanes|=i,Gs|=i,s)}function _v(i,s,a,l,f){var d=it.p;it.p=d!==0&&8>d?d:8;var v=X.T,A={};X.T=A,tm(i,!1,s,a);try{var x=f(),z=X.S;if(z!==null&&z(A,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Q=rC(x,l);kl(i,s,Q,Vn(i))}else kl(i,s,l,Vn(i))}catch(J){kl(i,s,{then:function(){},status:"rejected",reason:J},Vn())}finally{it.p=d,v!==null&&A.types!==null&&(v.types=A.types),X.T=v}}function hC(){}function Zd(i,s,a,l){if(i.tag!==5)throw Error(r(476));var f=vv(i).queue;_v(i,f,s,ft,a===null?hC:function(){return Tv(i),a(l)})}function vv(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:ft},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Tv(i){var s=vv(i);s.next===null&&(s=i.alternate.memoizedState),kl(i,s.next.queue,{},Vn())}function Jd(){return Xe(Jl)}function Ev(){return ve().memoizedState}function Sv(){return ve().memoizedState}function fC(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=Vn();i=Bs(a);var l=zs(s,i,a);l!==null&&(En(l,s,a),Vl(l,s,a)),s={cache:Id()},i.payload=s;return}s=s.return}}function dC(i,s,a){var l=Vn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Wc(i)?bv(s,a):(a=yd(i,s,a,l),a!==null&&(En(a,i,l),wv(a,s,l)))}function Av(i,s,a){var l=Vn();kl(i,s,a,l)}function kl(i,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wc(i))bv(s,f);else{var d=i.alternate;if(i.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var v=s.lastRenderedState,A=d(v,a);if(f.hasEagerState=!0,f.eagerState=A,wn(A,v))return Vc(i,s,f,0),ne===null&&xc(),!1}catch{}if(a=yd(i,s,f,l),a!==null)return En(a,i,l),wv(a,s,l),!0}return!1}function tm(i,s,a,l){if(l={lane:2,revertLane:Mm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Wc(i)){if(s)throw Error(r(479))}else s=yd(i,a,l,2),s!==null&&En(s,i,2)}function Wc(i){var s=i.alternate;return i===Ct||s!==null&&s===Ct}function bv(i,s){to=Hc=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function wv(i,s,a){if((a&4194048)!==0){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,sl(i,a)}}var Ll={readContext:Xe,use:Yc,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};Ll.useEffectEvent=de;var Rv={readContext:Xe,use:Yc,useCallback:function(i,s){return hn().memoizedState=[i,s===void 0?null:s],i},useContext:Xe,useEffect:uv,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,Xc(4194308,4,dv.bind(null,s,i),a)},useLayoutEffect:function(i,s){return Xc(4194308,4,i,s)},useInsertionEffect:function(i,s){Xc(4,2,i,s)},useMemo:function(i,s){var a=hn();s=s===void 0?null:s;var l=i();if(ra){Pn(!0);try{i()}finally{Pn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(i,s,a){var l=hn();if(a!==void 0){var f=a(s);if(ra){Pn(!0);try{a(s)}finally{Pn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=dC.bind(null,Ct,i),[l.memoizedState,i]},useRef:function(i){var s=hn();return i={current:i},s.memoizedState=i},useState:function(i){i=Yd(i);var s=i.queue,a=Av.bind(null,Ct,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:$d,useDeferredValue:function(i,s){var a=hn();return Wd(a,i,s)},useTransition:function(){var i=Yd(!1);return i=_v.bind(null,Ct,i.queue,!0,!1),hn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var l=Ct,f=hn();if(Bt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ne===null)throw Error(r(349));(Ot&127)!==0||Y_(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,uv(X_.bind(null,l,d,i),[i]),l.flags|=2048,no(9,{destroy:void 0},Q_.bind(null,l,d,a,s),null),a},useId:function(){var i=hn(),s=ne.identifierPrefix;if(Bt){var a=Pi,l=Oi;a=(l&~(1<<32-ge(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Gc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=aC++,s="_"+s+"r_"+a.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Jd,useFormState:sv,useActionState:sv,useOptimistic:function(i){var s=hn();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=tm.bind(null,Ct,!0,a),a.dispatch=s,[i,s]},useMemoCache:Hd,useCacheRefresh:function(){return hn().memoizedState=fC.bind(null,Ct)},useEffectEvent:function(i){var s=hn(),a={impl:i};return s.memoizedState=a,function(){if((Kt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},em={readContext:Xe,use:Yc,useCallback:pv,useContext:Xe,useEffect:Xd,useImperativeHandle:mv,useInsertionEffect:hv,useLayoutEffect:fv,useMemo:gv,useReducer:Qc,useRef:lv,useState:function(){return Qc(is)},useDebugValue:$d,useDeferredValue:function(i,s){var a=ve();return yv(a,Wt.memoizedState,i,s)},useTransition:function(){var i=Qc(is)[0],s=ve().memoizedState;return[typeof i=="boolean"?i:Pl(i),s]},useSyncExternalStore:K_,useId:Ev,useHostTransitionStatus:Jd,useFormState:rv,useActionState:rv,useOptimistic:function(i,s){var a=ve();return Z_(a,Wt,i,s)},useMemoCache:Hd,useCacheRefresh:Sv};em.useEffectEvent=cv;var Cv={readContext:Xe,use:Yc,useCallback:pv,useContext:Xe,useEffect:Xd,useImperativeHandle:mv,useInsertionEffect:hv,useLayoutEffect:fv,useMemo:gv,useReducer:Kd,useRef:lv,useState:function(){return Kd(is)},useDebugValue:$d,useDeferredValue:function(i,s){var a=ve();return Wt===null?Wd(a,i,s):yv(a,Wt.memoizedState,i,s)},useTransition:function(){var i=Kd(is)[0],s=ve().memoizedState;return[typeof i=="boolean"?i:Pl(i),s]},useSyncExternalStore:K_,useId:Ev,useHostTransitionStatus:Jd,useFormState:ov,useActionState:ov,useOptimistic:function(i,s){var a=ve();return Wt!==null?Z_(a,Wt,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Hd,useCacheRefresh:Sv};Cv.useEffectEvent=cv;function nm(i,s,a,l){s=i.memoizedState,a=a(l,s),a=a==null?s:T({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var im={enqueueSetState:function(i,s,a){i=i._reactInternals;var l=Vn(),f=Bs(l);f.payload=s,a!=null&&(f.callback=a),s=zs(i,f,l),s!==null&&(En(s,i,l),Vl(s,i,l))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var l=Vn(),f=Bs(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=zs(i,f,l),s!==null&&(En(s,i,l),Vl(s,i,l))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=Vn(),l=Bs(a);l.tag=2,s!=null&&(l.callback=s),s=zs(i,l,a),s!==null&&(En(s,i,a),Vl(s,i,a))}};function Iv(i,s,a,l,f,d,v){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,d,v):s.prototype&&s.prototype.isPureReactComponent?!Al(a,l)||!Al(f,d):!0}function Dv(i,s,a,l){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==i&&im.enqueueReplaceState(s,s.state,null)}function aa(i,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(i=i.defaultProps){a===s&&(a=T({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}function xv(i){Dc(i)}function Vv(i){console.error(i)}function Mv(i){Dc(i)}function Zc(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Nv(i,s,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function sm(i,s,a){return a=Bs(a),a.tag=3,a.payload={element:null},a.callback=function(){Zc(i,s)},a}function Ov(i){return i=Bs(i),i.tag=3,i}function Pv(i,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;i.payload=function(){return f(d)},i.callback=function(){Nv(s,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(i.callback=function(){Nv(s,a,l),typeof f!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function mC(i,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Qa(s,a,f,!0),a=Cn.current,a!==null){switch(a.tag){case 31:case 13:return Gn===null?ch():a.alternate===null&&me===0&&(me=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Bc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Dm(i,l,f)),!1;case 22:return a.flags|=65536,l===Bc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Dm(i,l,f)),!1}throw Error(r(435,a.tag))}return Dm(i,l,f),ch(),!1}if(Bt)return s=Cn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==Ad&&(i=Error(r(422),{cause:l}),Rl(jn(i,a)))):(l!==Ad&&(s=Error(r(423),{cause:l}),Rl(jn(s,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=jn(l,a),f=sm(i.stateNode,l,f),Od(i,f),me!==4&&(me=2)),!1;var d=Error(r(520),{cause:l});if(d=jn(d,a),Gl===null?Gl=[d]:Gl.push(d),me!==4&&(me=2),s===null)return!0;l=jn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=sm(a.stateNode,l,i),Od(a,i),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ks===null||!Ks.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Ov(f),Pv(f,i,a,l),Od(a,f),!1}a=a.return}while(a!==null);return!1}var rm=Error(r(461)),De=!1;function $e(i,s,a,l){s.child=i===null?B_(s,null,a,l):sa(s,i.child,a,l)}function kv(i,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var v={};for(var A in l)A!=="ref"&&(v[A]=l[A])}else v=l;return ta(s),l=zd(i,s,a,v,d,f),A=jd(),i!==null&&!De?(Fd(i,s,f),ss(i,s,f)):(Bt&&A&&Ed(s),s.flags|=1,$e(i,s,l,f),s.child)}function Lv(i,s,a,l,f){if(i===null){var d=a.type;return typeof d=="function"&&!_d(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,Uv(i,s,d,l,f)):(i=Nc(a.type,null,l,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(d=i.child,!dm(i,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Al,a(v,l)&&i.ref===s.ref)return ss(i,s,f)}return s.flags|=1,i=Zi(d,l),i.ref=s.ref,i.return=s,s.child=i}function Uv(i,s,a,l,f){if(i!==null){var d=i.memoizedProps;if(Al(d,l)&&i.ref===s.ref)if(De=!1,s.pendingProps=l=d,dm(i,f))(i.flags&131072)!==0&&(De=!0);else return s.lanes=i.lanes,ss(i,s,f)}return am(i,s,a,l,f)}function Bv(i,s,a,l){var f=l.children,d=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,i!==null){for(l=s.child=i.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return zv(i,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Lc(s,d!==null?d.cachePool:null),d!==null?F_(s,d):kd(),q_(s);else return l=s.lanes=536870912,zv(i,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Lc(s,d.cachePool),F_(s,d),Fs(),s.memoizedState=null):(i!==null&&Lc(s,null),kd(),Fs());return $e(i,s,f,a),s.child}function Ul(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function zv(i,s,a,l,f){var d=xd();return d=d===null?null:{parent:Ce._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},i!==null&&Lc(s,null),kd(),q_(s),i!==null&&Qa(i,s,l,!0),s.childLanes=f,null}function Jc(i,s){return s=eh({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function jv(i,s,a){return sa(s,i.child,null,a),i=Jc(s,s.pendingProps),i.flags|=2,In(s),s.memoizedState=null,i}function pC(i,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Bt){if(l.mode==="hidden")return i=Jc(s,l),s.lanes=536870912,Ul(null,i);if(Ud(s),(i=ie)?(i=JT(i,Hn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Os!==null?{id:Oi,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},a=b_(i),a.return=s,s.child=a,Qe=s,ie=null)):i=null,i===null)throw ks(s);return s.lanes=536870912,null}return Jc(s,l)}var d=i.memoizedState;if(d!==null){var v=d.dehydrated;if(Ud(s),f)if(s.flags&256)s.flags&=-257,s=jv(i,s,a);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(De||Qa(i,s,a,!1),f=(a&i.childLanes)!==0,De||f){if(l=ne,l!==null&&(v=rl(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,$r(i,v),En(l,i,v),rm;ch(),s=jv(i,s,a)}else i=d.treeContext,ie=Kn(v.nextSibling),Qe=s,Bt=!0,Ps=null,Hn=!1,i!==null&&C_(s,i),s=Jc(s,l),s.flags|=4096;return s}return i=Zi(i.child,{mode:l.mode,children:l.children}),i.ref=s.ref,s.child=i,i.return=s,i}function th(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function am(i,s,a,l,f){return ta(s),a=zd(i,s,a,l,void 0,f),l=jd(),i!==null&&!De?(Fd(i,s,f),ss(i,s,f)):(Bt&&l&&Ed(s),s.flags|=1,$e(i,s,a,f),s.child)}function Fv(i,s,a,l,f,d){return ta(s),s.updateQueue=null,a=G_(s,l,a,f),H_(i),l=jd(),i!==null&&!De?(Fd(i,s,d),ss(i,s,d)):(Bt&&l&&Ed(s),s.flags|=1,$e(i,s,a,d),s.child)}function qv(i,s,a,l,f){if(ta(s),s.stateNode===null){var d=Ha,v=a.contextType;typeof v=="object"&&v!==null&&(d=Xe(v)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=im,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},Md(s),v=a.contextType,d.context=typeof v=="object"&&v!==null?Xe(v):Ha,d.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(nm(s,a,v,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&im.enqueueReplaceState(d,d.state,null),Nl(s,l,d,f),Ml(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(i===null){d=s.stateNode;var A=s.memoizedProps,x=aa(a,A);d.props=x;var z=d.context,Q=a.contextType;v=Ha,typeof Q=="object"&&Q!==null&&(v=Xe(Q));var J=a.getDerivedStateFromProps;Q=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||z!==v)&&Dv(s,d,l,v),Us=!1;var H=s.memoizedState;d.state=H,Nl(s,l,d,f),Ml(),z=s.memoizedState,A||H!==z||Us?(typeof J=="function"&&(nm(s,a,J,l),z=s.memoizedState),(x=Us||Iv(s,a,x,l,H,z,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=z),d.props=l,d.state=z,d.context=v,l=x):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,Nd(i,s),v=s.memoizedProps,Q=aa(a,v),d.props=Q,J=s.pendingProps,H=d.context,z=a.contextType,x=Ha,typeof z=="object"&&z!==null&&(x=Xe(z)),A=a.getDerivedStateFromProps,(z=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||H!==x)&&Dv(s,d,l,x),Us=!1,H=s.memoizedState,d.state=H,Nl(s,l,d,f),Ml();var K=s.memoizedState;v!==J||H!==K||Us||i!==null&&i.dependencies!==null&&Pc(i.dependencies)?(typeof A=="function"&&(nm(s,a,A,l),K=s.memoizedState),(Q=Us||Iv(s,a,Q,l,H,K,x)||i!==null&&i.dependencies!==null&&Pc(i.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,x)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===i.memoizedProps&&H===i.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&H===i.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=K),d.props=l,d.state=K,d.context=x,l=Q):(typeof d.componentDidUpdate!="function"||v===i.memoizedProps&&H===i.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&H===i.memoizedState||(s.flags|=1024),l=!1)}return d=l,th(i,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,i!==null&&l?(s.child=sa(s,i.child,null,f),s.child=sa(s,null,a,f)):$e(i,s,a,f),s.memoizedState=d.state,i=s.child):i=ss(i,s,f),i}function Hv(i,s,a,l){return Zr(),s.flags|=256,$e(i,s,a,l),s.child}var om={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lm(i){return{baseLanes:i,cachePool:N_()}}function um(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=xn),i}function Gv(i,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,v;if((v=d)||(v=i!==null&&i.memoizedState===null?!1:(_e.current&2)!==0),v&&(f=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,i===null){if(Bt){if(f?js(s):Fs(),(i=ie)?(i=JT(i,Hn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Os!==null?{id:Oi,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},a=b_(i),a.return=s,s.child=a,Qe=s,ie=null)):i=null,i===null)throw ks(s);return Gm(i)?s.lanes=32:s.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(Fs(),f=s.mode,A=eh({mode:"hidden",children:A},f),l=Wr(l,f,a,null),A.return=s,l.return=s,A.sibling=l,s.child=A,l=s.child,l.memoizedState=lm(a),l.childLanes=um(i,v,a),s.memoizedState=om,Ul(null,l)):(js(s),cm(s,A))}var x=i.memoizedState;if(x!==null&&(A=x.dehydrated,A!==null)){if(d)s.flags&256?(js(s),s.flags&=-257,s=hm(i,s,a)):s.memoizedState!==null?(Fs(),s.child=i.child,s.flags|=128,s=null):(Fs(),A=l.fallback,f=s.mode,l=eh({mode:"visible",children:l.children},f),A=Wr(A,f,a,null),A.flags|=2,l.return=s,A.return=s,l.sibling=A,s.child=l,sa(s,i.child,null,a),l=s.child,l.memoizedState=lm(a),l.childLanes=um(i,v,a),s.memoizedState=om,s=Ul(null,l));else if(js(s),Gm(A)){if(v=A.nextSibling&&A.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(r(419)),l.stack="",l.digest=v,Rl({value:l,source:null,stack:null}),s=hm(i,s,a)}else if(De||Qa(i,s,a,!1),v=(a&i.childLanes)!==0,De||v){if(v=ne,v!==null&&(l=rl(v,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,$r(i,l),En(v,i,l),rm;Hm(A)||ch(),s=hm(i,s,a)}else Hm(A)?(s.flags|=192,s.child=i.child,s=null):(i=x.treeContext,ie=Kn(A.nextSibling),Qe=s,Bt=!0,Ps=null,Hn=!1,i!==null&&C_(s,i),s=cm(s,l.children),s.flags|=4096);return s}return f?(Fs(),A=l.fallback,f=s.mode,x=i.child,z=x.sibling,l=Zi(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,z!==null?A=Zi(z,A):(A=Wr(A,f,a,null),A.flags|=2),A.return=s,l.return=s,l.sibling=A,s.child=l,Ul(null,l),l=s.child,A=i.child.memoizedState,A===null?A=lm(a):(f=A.cachePool,f!==null?(x=Ce._currentValue,f=f.parent!==x?{parent:x,pool:x}:f):f=N_(),A={baseLanes:A.baseLanes|a,cachePool:f}),l.memoizedState=A,l.childLanes=um(i,v,a),s.memoizedState=om,Ul(i.child,l)):(js(s),a=i.child,i=a.sibling,a=Zi(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,i!==null&&(v=s.deletions,v===null?(s.deletions=[i],s.flags|=16):v.push(i)),s.child=a,s.memoizedState=null,a)}function cm(i,s){return s=eh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function eh(i,s){return i=Rn(22,i,null,s),i.lanes=0,i}function hm(i,s,a){return sa(s,i.child,null,a),i=cm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Kv(i,s,a){i.lanes|=s;var l=i.alternate;l!==null&&(l.lanes|=s),Rd(i.return,s,a)}function fm(i,s,a,l,f,d){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function Yv(i,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=_e.current,A=(v&2)!==0;if(A?(v=v&1|2,s.flags|=128):v&=1,ut(_e,v),$e(i,s,l,a),l=Bt?wl:0,!A&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Kv(i,a,s);else if(i.tag===19)Kv(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)i=a.alternate,i!==null&&qc(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),fm(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&qc(i)===null){s.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}fm(s,!0,a,null,d,l);break;case"together":fm(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function ss(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),Gs|=s.lanes,(a&s.childLanes)===0)if(i!==null){if(Qa(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,a=Zi(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=Zi(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function dm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Pc(i)))}function gC(i,s,a){switch(s.tag){case 3:Pe(s,s.stateNode.containerInfo),Ls(s,Ce,i.memoizedState.cache),Zr();break;case 27:case 5:Mr(s);break;case 4:Pe(s,s.stateNode.containerInfo);break;case 10:Ls(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Ud(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(js(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Gv(i,s,a):(js(s),i=ss(i,s,a),i!==null?i.sibling:null);js(s);break;case 19:var f=(i.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Qa(i,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return Yv(i,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ut(_e,_e.current),l)break;return null;case 22:return s.lanes=0,Bv(i,s,a,s.pendingProps);case 24:Ls(s,Ce,i.memoizedState.cache)}return ss(i,s,a)}function Qv(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)De=!0;else{if(!dm(i,a)&&(s.flags&128)===0)return De=!1,gC(i,s,a);De=(i.flags&131072)!==0}else De=!1,Bt&&(s.flags&1048576)!==0&&R_(s,wl,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(i=na(s.elementType),s.type=i,typeof i=="function")_d(i)?(l=aa(i,l),s.tag=1,s=qv(null,s,i,l,a)):(s.tag=0,s=am(null,s,i,l,a));else{if(i!=null){var f=i.$$typeof;if(f===rt){s.tag=11,s=kv(null,s,i,l,a);break t}else if(f===C){s.tag=14,s=Lv(null,s,i,l,a);break t}}throw s=ee(i)||i,Error(r(306,s,""))}}return s;case 0:return am(i,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=aa(l,s.pendingProps),qv(i,s,l,f,a);case 3:t:{if(Pe(s,s.stateNode.containerInfo),i===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,Nd(i,s),Nl(s,l,null,a);var v=s.memoizedState;if(l=v.cache,Ls(s,Ce,l),l!==d.cache&&Cd(s,[Ce],a,!0),Ml(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=Hv(i,s,l,a);break t}else if(l!==f){f=jn(Error(r(424)),s),Rl(f),s=Hv(i,s,l,a);break t}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,ie=Kn(i.firstChild),Qe=s,Bt=!0,Ps=null,Hn=!0,a=B_(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Zr(),l===f){s=ss(i,s,a);break t}$e(i,s,l,a)}s=s.child}return s;case 26:return th(i,s),i===null?(a=r0(s.type,null,s.pendingProps,null))?s.memoizedState=a:Bt||(a=s.type,i=s.pendingProps,l=yh(Dt.current).createElement(a),l[be]=s,l[je]=i,We(l,a,i),we(l),s.stateNode=l):s.memoizedState=r0(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Mr(s),i===null&&Bt&&(l=s.stateNode=n0(s.type,s.pendingProps,Dt.current),Qe=s,Hn=!0,f=ie,$s(s.type)?(Km=f,ie=Kn(l.firstChild)):ie=f),$e(i,s,s.pendingProps.children,a),th(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Bt&&((f=l=ie)&&(l=KC(l,s.type,s.pendingProps,Hn),l!==null?(s.stateNode=l,Qe=s,ie=Kn(l.firstChild),Hn=!1,f=!0):f=!1),f||ks(s)),Mr(s),f=s.type,d=s.pendingProps,v=i!==null?i.memoizedProps:null,l=d.children,jm(f,d)?l=null:v!==null&&jm(f,v)&&(s.flags|=32),s.memoizedState!==null&&(f=zd(i,s,oC,null,null,a),Jl._currentValue=f),th(i,s),$e(i,s,l,a),s.child;case 6:return i===null&&Bt&&((i=a=ie)&&(a=YC(a,s.pendingProps,Hn),a!==null?(s.stateNode=a,Qe=s,ie=null,i=!0):i=!1),i||ks(s)),null;case 13:return Gv(i,s,a);case 4:return Pe(s,s.stateNode.containerInfo),l=s.pendingProps,i===null?s.child=sa(s,null,l,a):$e(i,s,l,a),s.child;case 11:return kv(i,s,s.type,s.pendingProps,a);case 7:return $e(i,s,s.pendingProps,a),s.child;case 8:return $e(i,s,s.pendingProps.children,a),s.child;case 12:return $e(i,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Ls(s,s.type,l.value),$e(i,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,ta(s),f=Xe(f),l=l(f),s.flags|=1,$e(i,s,l,a),s.child;case 14:return Lv(i,s,s.type,s.pendingProps,a);case 15:return Uv(i,s,s.type,s.pendingProps,a);case 19:return Yv(i,s,a);case 31:return pC(i,s,a);case 22:return Bv(i,s,a,s.pendingProps);case 24:return ta(s),l=Xe(Ce),i===null?(f=xd(),f===null&&(f=ne,d=Id(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},Md(s),Ls(s,Ce,f)):((i.lanes&a)!==0&&(Nd(i,s),Nl(s,null,null,a),Ml()),f=i.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Ls(s,Ce,l)):(l=d.cache,Ls(s,Ce,l),l!==f.cache&&Cd(s,[Ce],a,!0))),$e(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function rs(i){i.flags|=4}function mm(i,s,a,l,f){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(ET())i.flags|=8192;else throw ia=Bc,Vd}else i.flags&=-16777217}function Xv(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!c0(s))if(ET())i.flags|=8192;else throw ia=Bc,Vd}function nh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?lc():536870912,i.lanes|=s,ao|=s)}function Bl(i,s){if(!Bt)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function se(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(s)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,s}function yC(i,s,a){var l=s.pendingProps;switch(Sd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(s),null;case 1:return se(s),null;case 3:return a=s.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),es(Ce),oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Ya(s)?rs(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,bd())),se(s),null;case 26:var f=s.type,d=s.memoizedState;return i===null?(rs(s),d!==null?(se(s),Xv(s,d)):(se(s),mm(s,f,null,l,a))):d?d!==i.memoizedState?(rs(s),se(s),Xv(s,d)):(se(s),s.flags&=-16777217):(i=i.memoizedProps,i!==l&&rs(s),se(s),mm(s,f,i,l,a)),null;case 27:if(wa(s),a=Dt.current,f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&rs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return se(s),null}i=ht.current,Ya(s)?I_(s):(i=n0(f,l,a),s.stateNode=i,rs(s))}return se(s),null;case 5:if(wa(s),f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&rs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return se(s),null}if(d=ht.current,Ya(s))I_(s);else{var v=yh(Dt.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[be]=s,d[je]=l;t:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break t;for(;v.sibling===null;){if(v.return===null||v.return===s)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=d;t:switch(We(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&rs(s)}}return se(s),mm(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,a),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==l&&rs(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(i=Dt.current,Ya(s)){if(i=s.stateNode,a=s.memoizedProps,l=null,f=Qe,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[be]=s,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||GT(i.nodeValue,a)),i||ks(s,!0)}else i=yh(i).createTextNode(l),i[be]=s,s.stateNode=i}return se(s),null;case 31:if(a=s.memoizedState,i===null||i.memoizedState!==null){if(l=Ya(s),a!==null){if(i===null){if(!l)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[be]=s}else Zr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;se(s),i=!1}else a=bd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return s.flags&256?(In(s),s):(In(s),null);if((s.flags&128)!==0)throw Error(r(558))}return se(s),null;case 13:if(l=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Ya(s),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[be]=s}else Zr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;se(s),f=!1}else f=bd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(In(s),s):(In(s),null)}return In(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,i=i!==null&&i.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==i&&a&&(s.child.flags|=8192),nh(s,s.updateQueue),se(s),null);case 4:return oe(),i===null&&km(s.stateNode.containerInfo),se(s),null;case 10:return es(s.type),se(s),null;case 19:if(tt(_e),l=s.memoizedState,l===null)return se(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)Bl(l,!1);else{if(me!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(d=qc(i),d!==null){for(s.flags|=128,Bl(l,!1),i=d.updateQueue,s.updateQueue=i,nh(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)A_(a,i),a=a.sibling;return ut(_e,_e.current&1|2),Bt&&Ji(s,l.treeForkCount),s.child}i=i.sibling}l.tail!==null&&un()>oh&&(s.flags|=128,f=!0,Bl(l,!1),s.lanes=4194304)}else{if(!f)if(i=qc(d),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,nh(s,i),Bl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Bt)return se(s),null}else 2*un()-l.renderingStartTime>oh&&a!==536870912&&(s.flags|=128,f=!0,Bl(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(i=l.last,i!==null?i.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(i=l.tail,l.rendering=i,l.tail=i.sibling,l.renderingStartTime=un(),i.sibling=null,a=_e.current,ut(_e,f?a&1|2:a&1),Bt&&Ji(s,l.treeForkCount),i):(se(s),null);case 22:case 23:return In(s),Ld(),l=s.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(se(s),s.subtreeFlags&6&&(s.flags|=8192)):se(s),a=s.updateQueue,a!==null&&nh(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),i!==null&&tt(ea),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),es(Ce),se(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function _C(i,s){switch(Sd(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return es(Ce),oe(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return wa(s),null;case 31:if(s.memoizedState!==null){if(In(s),s.alternate===null)throw Error(r(340));Zr()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(In(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Zr()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return tt(_e),null;case 4:return oe(),null;case 10:return es(s.type),null;case 22:case 23:return In(s),Ld(),i!==null&&tt(ea),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return es(Ce),null;case 25:return null;default:return null}}function $v(i,s){switch(Sd(s),s.tag){case 3:es(Ce),oe();break;case 26:case 27:case 5:wa(s);break;case 4:oe();break;case 31:s.memoizedState!==null&&In(s);break;case 13:In(s);break;case 19:tt(_e);break;case 10:es(s.type);break;case 22:case 23:In(s),Ld(),i!==null&&tt(ea);break;case 24:es(Ce)}}function zl(i,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(A){Xt(s,s.return,A)}}function qs(i,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&i)===i){var v=l.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,f=s;var x=a,z=A;try{z()}catch(Q){Xt(f,x,Q)}}}l=l.next}while(l!==d)}}catch(Q){Xt(s,s.return,Q)}}function Wv(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{j_(s,a)}catch(l){Xt(i,i.return,l)}}}function Zv(i,s,a){a.props=aa(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(i,s,l)}}function jl(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(f){Xt(i,s,f)}}function ki(i,s){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Xt(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xt(i,s,f)}else a.current=null}function Jv(i){var s=i.type,a=i.memoizedProps,l=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Xt(i,i.return,f)}}function pm(i,s,a){try{var l=i.stateNode;zC(l,i.type,a,s),l[je]=s}catch(f){Xt(i,i.return,f)}}function tT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&$s(i.type)||i.tag===4}function gm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||tT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&$s(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ym(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ei));else if(l!==4&&(l===27&&$s(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for(ym(i,s,a),i=i.sibling;i!==null;)ym(i,s,a),i=i.sibling}function ih(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(l!==4&&(l===27&&$s(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(ih(i,s,a),i=i.sibling;i!==null;)ih(i,s,a),i=i.sibling}function eT(i){var s=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);We(s,l,a),s[be]=i,s[je]=a}catch(d){Xt(i,i.return,d)}}var as=!1,xe=!1,_m=!1,nT=typeof WeakSet=="function"?WeakSet:Set,qe=null;function vC(i,s){if(i=i.containerInfo,Bm=bh,i=m_(i),hd(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,A=-1,x=-1,z=0,Q=0,J=i,H=null;e:for(;;){for(var K;J!==a||f!==0&&J.nodeType!==3||(A=v+f),J!==d||l!==0&&J.nodeType!==3||(x=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(K=J.firstChild)!==null;)H=J,J=K;for(;;){if(J===i)break e;if(H===a&&++z===f&&(A=v),H===d&&++Q===l&&(x=v),(K=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=K}a=A===-1||x===-1?null:{start:A,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(zm={focusedElem:i,selectionRange:a},bh=!1,qe=s;qe!==null;)if(s=qe,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,qe=i;else for(;qe!==null;){switch(s=qe,d=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)f=i[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&d!==null){i=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var mt=aa(a.type,f);i=l.getSnapshotBeforeUpdate(mt,d),l.__reactInternalSnapshotBeforeUpdate=i}catch(Tt){Xt(a,a.return,Tt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)qm(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":qm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,qe=i;break}qe=s.return}}function iT(i,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ls(i,a),l&4&&zl(5,a);break;case 1:if(ls(i,a),l&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(v){Xt(a,a.return,v)}else{var f=aa(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(v){Xt(a,a.return,v)}}l&64&&Wv(a),l&512&&jl(a,a.return);break;case 3:if(ls(i,a),l&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{j_(i,s)}catch(v){Xt(a,a.return,v)}}break;case 27:s===null&&l&4&&eT(a);case 26:case 5:ls(i,a),s===null&&l&4&&Jv(a),l&512&&jl(a,a.return);break;case 12:ls(i,a);break;case 31:ls(i,a),l&4&&aT(i,a);break;case 13:ls(i,a),l&4&&oT(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=IC.bind(null,a),QC(i,a))));break;case 22:if(l=a.memoizedState!==null||as,!l){s=s!==null&&s.memoizedState!==null||xe,f=as;var d=xe;as=l,(xe=s)&&!d?us(i,a,(a.subtreeFlags&8772)!==0):ls(i,a),as=f,xe=d}break;case 30:break;default:ls(i,a)}}function sT(i){var s=i.alternate;s!==null&&(i.alternate=null,sT(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&xa(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ue=null,yn=!1;function os(i,s,a){for(a=a.child;a!==null;)rT(i,s,a),a=a.sibling}function rT(i,s,a){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(Wn,a)}catch{}switch(a.tag){case 26:xe||ki(a,s),os(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xe||ki(a,s);var l=ue,f=yn;$s(a.type)&&(ue=a.stateNode,yn=!1),os(i,s,a),$l(a.stateNode),ue=l,yn=f;break;case 5:xe||ki(a,s);case 6:if(l=ue,f=yn,ue=null,os(i,s,a),ue=l,yn=f,ue!==null)if(yn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(a.stateNode)}catch(d){Xt(a,s,d)}else try{ue.removeChild(a.stateNode)}catch(d){Xt(a,s,d)}break;case 18:ue!==null&&(yn?(i=ue,WT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),po(i)):WT(ue,a.stateNode));break;case 4:l=ue,f=yn,ue=a.stateNode.containerInfo,yn=!0,os(i,s,a),ue=l,yn=f;break;case 0:case 11:case 14:case 15:qs(2,a,s),xe||qs(4,a,s),os(i,s,a);break;case 1:xe||(ki(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Zv(a,s,l)),os(i,s,a);break;case 21:os(i,s,a);break;case 22:xe=(l=xe)||a.memoizedState!==null,os(i,s,a),xe=l;break;default:os(i,s,a)}}function aT(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{po(i)}catch(a){Xt(s,s.return,a)}}}function oT(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{po(i)}catch(a){Xt(s,s.return,a)}}function TC(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new nT),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new nT),s;default:throw Error(r(435,i.tag))}}function sh(i,s){var a=TC(i);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=DC.bind(null,i,l);l.then(f,f)}})}function _n(i,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=i,v=s,A=v;t:for(;A!==null;){switch(A.tag){case 27:if($s(A.type)){ue=A.stateNode,yn=!1;break t}break;case 5:ue=A.stateNode,yn=!1;break t;case 3:case 4:ue=A.stateNode.containerInfo,yn=!0;break t}A=A.return}if(ue===null)throw Error(r(160));rT(d,v,f),ue=null,yn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)lT(s,i),s=s.sibling}var oi=null;function lT(i,s){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:_n(s,i),vn(i),l&4&&(qs(3,i,i.return),zl(3,i),qs(5,i,i.return));break;case 1:_n(s,i),vn(i),l&512&&(xe||a===null||ki(a,a.return)),l&64&&as&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=oi;if(_n(s,i),vn(i),l&512&&(xe||a===null||ki(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){t:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Si]||d[be]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),We(d,l,a),d[be]=i,we(d),l=d;break t;case"link":var v=l0("link","href",f).get(l+(a.href||""));if(v){for(var A=0;A<v.length;A++)if(d=v[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(A,1);break e}}d=f.createElement(l),We(d,l,a),f.head.appendChild(d);break;case"meta":if(v=l0("meta","content",f).get(l+(a.content||""))){for(A=0;A<v.length;A++)if(d=v[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(A,1);break e}}d=f.createElement(l),We(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[be]=i,we(d),l=d}i.stateNode=l}else u0(f,i.type,i.stateNode);else i.stateNode=o0(f,l,i.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?u0(f,i.type,i.stateNode):o0(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&pm(i,i.memoizedProps,a.memoizedProps)}break;case 27:_n(s,i),vn(i),l&512&&(xe||a===null||ki(a,a.return)),a!==null&&l&4&&pm(i,i.memoizedProps,a.memoizedProps);break;case 5:if(_n(s,i),vn(i),l&512&&(xe||a===null||ki(a,a.return)),i.flags&32){f=i.stateNode;try{gn(f,"")}catch(mt){Xt(i,i.return,mt)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,pm(i,f,a!==null?a.memoizedProps:f)),l&1024&&(_m=!0);break;case 6:if(_n(s,i),vn(i),l&4){if(i.stateNode===null)throw Error(r(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(mt){Xt(i,i.return,mt)}}break;case 3:if(Th=null,f=oi,oi=_h(s.containerInfo),_n(s,i),oi=f,vn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{po(s.containerInfo)}catch(mt){Xt(i,i.return,mt)}_m&&(_m=!1,uT(i));break;case 4:l=oi,oi=_h(i.stateNode.containerInfo),_n(s,i),vn(i),oi=l;break;case 12:_n(s,i),vn(i);break;case 31:_n(s,i),vn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,sh(i,l)));break;case 13:_n(s,i),vn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ah=un()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,sh(i,l)));break;case 22:f=i.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,z=as,Q=xe;if(as=z||f,xe=Q||x,_n(s,i),xe=Q,as=z,vn(i),l&8192)t:for(s=i.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||x||as||xe||oa(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){x=a=s;try{if(d=x.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{A=x.stateNode;var J=x.memoizedProps.style,H=J!=null&&J.hasOwnProperty("display")?J.display:null;A.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(mt){Xt(x,x.return,mt)}}}else if(s.tag===6){if(a===null){x=s;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(mt){Xt(x,x.return,mt)}}}else if(s.tag===18){if(a===null){x=s;try{var K=x.stateNode;f?ZT(K,!0):ZT(x.stateNode,!1)}catch(mt){Xt(x,x.return,mt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,sh(i,a))));break;case 19:_n(s,i),vn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,sh(i,l)));break;case 30:break;case 21:break;default:_n(s,i),vn(i)}}function vn(i){var s=i.flags;if(s&2){try{for(var a,l=i.return;l!==null;){if(tT(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=gm(i);ih(i,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(gn(v,""),a.flags&=-33);var A=gm(i);ih(i,A,v);break;case 3:case 4:var x=a.stateNode.containerInfo,z=gm(i);ym(i,z,x);break;default:throw Error(r(161))}}catch(Q){Xt(i,i.return,Q)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function uT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;uT(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ls(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)iT(i,s.alternate,s),s=s.sibling}function oa(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:qs(4,s,s.return),oa(s);break;case 1:ki(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Zv(s,s.return,a),oa(s);break;case 27:$l(s.stateNode);case 26:case 5:ki(s,s.return),oa(s);break;case 22:s.memoizedState===null&&oa(s);break;case 30:oa(s);break;default:oa(s)}i=i.sibling}}function us(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=i,d=s,v=d.flags;switch(d.tag){case 0:case 11:case 15:us(f,d,a),zl(4,d);break;case 1:if(us(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){Xt(l,l.return,z)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)z_(x[f],A)}catch(z){Xt(l,l.return,z)}}a&&v&64&&Wv(d),jl(d,d.return);break;case 27:eT(d);case 26:case 5:us(f,d,a),a&&l===null&&v&4&&Jv(d),jl(d,d.return);break;case 12:us(f,d,a);break;case 31:us(f,d,a),a&&v&4&&aT(f,d);break;case 13:us(f,d,a),a&&v&4&&oT(f,d);break;case 22:d.memoizedState===null&&us(f,d,a),jl(d,d.return);break;case 30:break;default:us(f,d,a)}s=s.sibling}}function vm(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Cl(a))}function Tm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Cl(i))}function li(i,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)cT(i,s,a,l),s=s.sibling}function cT(i,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:li(i,s,a,l),f&2048&&zl(9,s);break;case 1:li(i,s,a,l);break;case 3:li(i,s,a,l),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Cl(i)));break;case 12:if(f&2048){li(i,s,a,l),i=s.stateNode;try{var d=s.memoizedProps,v=d.id,A=d.onPostCommit;typeof A=="function"&&A(v,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(x){Xt(s,s.return,x)}}else li(i,s,a,l);break;case 31:li(i,s,a,l);break;case 13:li(i,s,a,l);break;case 23:break;case 22:d=s.stateNode,v=s.alternate,s.memoizedState!==null?d._visibility&2?li(i,s,a,l):Fl(i,s):d._visibility&2?li(i,s,a,l):(d._visibility|=2,io(i,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&vm(v,s);break;case 24:li(i,s,a,l),f&2048&&Tm(s.alternate,s);break;default:li(i,s,a,l)}}function io(i,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=i,v=s,A=a,x=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:io(d,v,A,x,f),zl(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?io(d,v,A,x,f):Fl(d,v):(Q._visibility|=2,io(d,v,A,x,f)),f&&z&2048&&vm(v.alternate,v);break;case 24:io(d,v,A,x,f),f&&z&2048&&Tm(v.alternate,v);break;default:io(d,v,A,x,f)}s=s.sibling}}function Fl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,l=s,f=l.flags;switch(l.tag){case 22:Fl(a,l),f&2048&&vm(l.alternate,l);break;case 24:Fl(a,l),f&2048&&Tm(l.alternate,l);break;default:Fl(a,l)}s=s.sibling}}var ql=8192;function so(i,s,a){if(i.subtreeFlags&ql)for(i=i.child;i!==null;)hT(i,s,a),i=i.sibling}function hT(i,s,a){switch(i.tag){case 26:so(i,s,a),i.flags&ql&&i.memoizedState!==null&&aI(a,oi,i.memoizedState,i.memoizedProps);break;case 5:so(i,s,a);break;case 3:case 4:var l=oi;oi=_h(i.stateNode.containerInfo),so(i,s,a),oi=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=ql,ql=16777216,so(i,s,a),ql=l):so(i,s,a));break;default:so(i,s,a)}}function fT(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Hl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];qe=l,mT(l,i)}fT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)dT(i),i=i.sibling}function dT(i){switch(i.tag){case 0:case 11:case 15:Hl(i),i.flags&2048&&qs(9,i,i.return);break;case 3:Hl(i);break;case 12:Hl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,rh(i)):Hl(i);break;default:Hl(i)}}function rh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];qe=l,mT(l,i)}fT(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:qs(8,s,s.return),rh(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,rh(s));break;default:rh(s)}i=i.sibling}}function mT(i,s){for(;qe!==null;){var a=qe;switch(a.tag){case 0:case 11:case 15:qs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qe=l;else t:for(a=i;qe!==null;){l=qe;var f=l.sibling,d=l.return;if(sT(l),l===a){qe=null;break t}if(f!==null){f.return=d,qe=f;break t}qe=d}}}var EC={getCacheForType:function(i){var s=Xe(Ce),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a},cacheSignal:function(){return Xe(Ce).controller.signal}},SC=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ne=null,Vt=null,Ot=0,Qt=0,Dn=null,Hs=!1,ro=!1,Em=!1,cs=0,me=0,Gs=0,la=0,Sm=0,xn=0,ao=0,Gl=null,Tn=null,Am=!1,ah=0,pT=0,oh=1/0,lh=null,Ks=null,Le=0,Ys=null,oo=null,hs=0,bm=0,wm=null,gT=null,Kl=0,Rm=null;function Vn(){return(Kt&2)!==0&&Ot!==0?Ot&-Ot:X.T!==null?Mm():uc()}function yT(){if(xn===0)if((Ot&536870912)===0||Bt){var i=Pr;Pr<<=1,(Pr&3932160)===0&&(Pr=262144),xn=i}else xn=536870912;return i=Cn.current,i!==null&&(i.flags|=32),xn}function En(i,s,a){(i===ne&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)&&(lo(i,0),Qs(i,Ot,xn,!1)),kr(i,a),((Kt&2)===0||i!==ne)&&(i===ne&&((Kt&2)===0&&(la|=a),me===4&&Qs(i,Ot,xn,!1)),Li(i))}function _T(i,s,a){if((Kt&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&i.expiredLanes)===0||Zn(i,s),f=l?wC(i,s):Im(i,s,!0),d=l;do{if(f===0){ro&&!l&&Qs(i,s,0,!1);break}else{if(a=i.current.alternate,d&&!AC(a)){f=Im(i,s,!1),d=!1;continue}if(f===2){if(d=s,i.errorRecoveryDisabledLanes&d)var v=0;else v=i.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;t:{var A=i;f=Gl;var x=A.current.memoizedState.isDehydrated;if(x&&(lo(A,v).flags|=256),v=Im(A,v,!1),v!==2){if(Em&&!x){A.errorRecoveryDisabledLanes|=d,la|=d,f=4;break t}d=Tn,Tn=f,d!==null&&(Tn===null?Tn=d:Tn.push.apply(Tn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){lo(i,0),Qs(i,s,0,!0);break}t:{switch(l=i,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Qs(l,s,xn,!Hs);break t;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=ah+300-un(),10<f)){if(Qs(l,s,xn,!Hs),vi(l,0,!0)!==0)break t;hs=s,l.timeoutHandle=XT(vT.bind(null,l,a,Tn,lh,Am,s,xn,la,ao,Hs,d,"Throttled",-0,0),f);break t}vT(l,a,Tn,lh,Am,s,xn,la,ao,Hs,d,null,-0,0)}}break}while(!0);Li(i)}function vT(i,s,a,l,f,d,v,A,x,z,Q,J,H,K){if(i.timeoutHandle=-1,J=s.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},hT(s,d,J);var mt=(d&62914560)===d?ah-un():(d&4194048)===d?pT-un():0;if(mt=oI(J,mt),mt!==null){hs=d,i.cancelPendingCommit=mt(CT.bind(null,i,s,d,a,l,f,v,A,x,Q,J,null,H,K)),Qs(i,d,v,!z);return}}CT(i,s,d,a,l,f,v,A,x)}function AC(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!wn(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Qs(i,s,a,l){s&=~Sm,s&=~la,i.suspendedLanes|=s,i.pingedLanes&=~s,l&&(i.warmLanes|=s),l=i.expirationTimes;for(var f=s;0<f;){var d=31-ge(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&Lr(i,a,s)}function uh(){return(Kt&6)===0?(Yl(0),!1):!0}function Cm(){if(Vt!==null){if(Qt===0)var i=Vt.return;else i=Vt,ts=Jr=null,qd(i),Za=null,Dl=0,i=Vt;for(;i!==null;)$v(i.alternate,i),i=i.return;Vt=null}}function lo(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,qC(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),hs=0,Cm(),ne=i,Vt=a=Zi(i.current,null),Ot=s,Qt=0,Dn=null,Hs=!1,ro=Zn(i,s),Em=!1,ao=xn=Sm=la=Gs=me=0,Tn=Gl=null,Am=!1,(s&8)!==0&&(s|=s&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=s;0<l;){var f=31-ge(l),d=1<<f;s|=i[f],l&=~d}return cs=s,xc(),a}function TT(i,s){Ct=null,X.H=Ll,s===Wa||s===Uc?(s=k_(),Qt=3):s===Vd?(s=k_(),Qt=4):Qt=s===rm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Dn=s,Vt===null&&(me=1,Zc(i,jn(s,i.current)))}function ET(){var i=Cn.current;return i===null?!0:(Ot&4194048)===Ot?Gn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?i===Gn:!1}function ST(){var i=X.H;return X.H=Ll,i===null?Ll:i}function AT(){var i=X.A;return X.A=EC,i}function ch(){me=4,Hs||(Ot&4194048)!==Ot&&Cn.current!==null||(ro=!0),(Gs&134217727)===0&&(la&134217727)===0||ne===null||Qs(ne,Ot,xn,!1)}function Im(i,s,a){var l=Kt;Kt|=2;var f=ST(),d=AT();(ne!==i||Ot!==s)&&(lh=null,lo(i,s)),s=!1;var v=me;t:do try{if(Qt!==0&&Vt!==null){var A=Vt,x=Dn;switch(Qt){case 8:Cm(),v=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(s=!0);var z=Qt;if(Qt=0,Dn=null,uo(i,A,x,z),a&&ro){v=0;break t}break;default:z=Qt,Qt=0,Dn=null,uo(i,A,x,z)}}bC(),v=me;break}catch(Q){TT(i,Q)}while(!0);return s&&i.shellSuspendCounter++,ts=Jr=null,Kt=l,X.H=f,X.A=d,Vt===null&&(ne=null,Ot=0,xc()),v}function bC(){for(;Vt!==null;)bT(Vt)}function wC(i,s){var a=Kt;Kt|=2;var l=ST(),f=AT();ne!==i||Ot!==s?(lh=null,oh=un()+500,lo(i,s)):ro=Zn(i,s);t:do try{if(Qt!==0&&Vt!==null){s=Vt;var d=Dn;e:switch(Qt){case 1:Qt=0,Dn=null,uo(i,s,d,1);break;case 2:case 9:if(O_(d)){Qt=0,Dn=null,wT(s);break}s=function(){Qt!==2&&Qt!==9||ne!==i||(Qt=7),Li(i)},d.then(s,s);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:O_(d)?(Qt=0,Dn=null,wT(s)):(Qt=0,Dn=null,uo(i,s,d,7));break;case 5:var v=null;switch(Vt.tag){case 26:v=Vt.memoizedState;case 5:case 27:var A=Vt;if(v?c0(v):A.stateNode.complete){Qt=0,Dn=null;var x=A.sibling;if(x!==null)Vt=x;else{var z=A.return;z!==null?(Vt=z,hh(z)):Vt=null}break e}}Qt=0,Dn=null,uo(i,s,d,5);break;case 6:Qt=0,Dn=null,uo(i,s,d,6);break;case 8:Cm(),me=6;break t;default:throw Error(r(462))}}RC();break}catch(Q){TT(i,Q)}while(!0);return ts=Jr=null,X.H=l,X.A=f,Kt=a,Vt!==null?0:(ne=null,Ot=0,xc(),me)}function RC(){for(;Vt!==null&&!sd();)bT(Vt)}function bT(i){var s=Qv(i.alternate,i,cs);i.memoizedProps=i.pendingProps,s===null?hh(i):Vt=s}function wT(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=Fv(a,s,s.pendingProps,s.type,void 0,Ot);break;case 11:s=Fv(a,s,s.pendingProps,s.type.render,s.ref,Ot);break;case 5:qd(s);default:$v(a,s),s=Vt=A_(s,cs),s=Qv(a,s,cs)}i.memoizedProps=i.pendingProps,s===null?hh(i):Vt=s}function uo(i,s,a,l){ts=Jr=null,qd(s),Za=null,Dl=0;var f=s.return;try{if(mC(i,f,s,a,Ot)){me=1,Zc(i,jn(a,i.current)),Vt=null;return}}catch(d){if(f!==null)throw Vt=f,d;me=1,Zc(i,jn(a,i.current)),Vt=null;return}s.flags&32768?(Bt||l===1?i=!0:ro||(Ot&536870912)!==0?i=!1:(Hs=i=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),RT(s,i)):hh(s)}function hh(i){var s=i;do{if((s.flags&32768)!==0){RT(s,Hs);return}i=s.return;var a=yC(s.alternate,s,cs);if(a!==null){Vt=a;return}if(s=s.sibling,s!==null){Vt=s;return}Vt=s=i}while(s!==null);me===0&&(me=5)}function RT(i,s){do{var a=_C(i.alternate,i);if(a!==null){a.flags&=32767,Vt=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){Vt=i;return}Vt=i=a}while(i!==null);me=6,Vt=null}function CT(i,s,a,l,f,d,v,A,x){i.cancelPendingCommit=null;do fh();while(Le!==0);if((Kt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=gd,od(i,a,d,v,A,x),i===ne&&(Vt=ne=null,Ot=0),oo=s,Ys=i,hs=a,bm=d,wm=f,gT=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,xC(bs,function(){return MT(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=it.p,it.p=2,v=Kt,Kt|=4;try{vC(i,s,a)}finally{Kt=v,it.p=f,X.T=l}}Le=1,IT(),DT(),xT()}}function IT(){if(Le===1){Le=0;var i=Ys,s=oo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=it.p;it.p=2;var f=Kt;Kt|=4;try{lT(s,i);var d=zm,v=m_(i.containerInfo),A=d.focusedElem,x=d.selectionRange;if(v!==A&&A&&A.ownerDocument&&d_(A.ownerDocument.documentElement,A)){if(x!==null&&hd(A)){var z=x.start,Q=x.end;if(Q===void 0&&(Q=z),"selectionStart"in A)A.selectionStart=z,A.selectionEnd=Math.min(Q,A.value.length);else{var J=A.ownerDocument||document,H=J&&J.defaultView||window;if(H.getSelection){var K=H.getSelection(),mt=A.textContent.length,Tt=Math.min(x.start,mt),Jt=x.end===void 0?Tt:Math.min(x.end,mt);!K.extend&&Tt>Jt&&(v=Jt,Jt=Tt,Tt=v);var k=f_(A,Tt),N=f_(A,Jt);if(k&&N&&(K.rangeCount!==1||K.anchorNode!==k.node||K.anchorOffset!==k.offset||K.focusNode!==N.node||K.focusOffset!==N.offset)){var B=J.createRange();B.setStart(k.node,k.offset),K.removeAllRanges(),Tt>Jt?(K.addRange(B),K.extend(N.node,N.offset)):(B.setEnd(N.node,N.offset),K.addRange(B))}}}}for(J=[],K=A;K=K.parentNode;)K.nodeType===1&&J.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<J.length;A++){var W=J[A];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}bh=!!Bm,zm=Bm=null}finally{Kt=f,it.p=l,X.T=a}}i.current=s,Le=2}}function DT(){if(Le===2){Le=0;var i=Ys,s=oo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=it.p;it.p=2;var f=Kt;Kt|=4;try{iT(i,s.alternate,s)}finally{Kt=f,it.p=l,X.T=a}}Le=3}}function xT(){if(Le===4||Le===3){Le=0,nc();var i=Ys,s=oo,a=hs,l=gT;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Le=5:(Le=0,oo=Ys=null,VT(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Ks=null),Qi(a),s=s.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(Wn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=X.T,f=it.p,it.p=2,X.T=null;try{for(var d=i.onRecoverableError,v=0;v<l.length;v++){var A=l[v];d(A.value,{componentStack:A.stack})}}finally{X.T=s,it.p=f}}(hs&3)!==0&&fh(),Li(i),f=i.pendingLanes,(a&261930)!==0&&(f&42)!==0?i===Rm?Kl++:(Kl=0,Rm=i):Kl=0,Yl(0)}}function VT(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Cl(s)))}function fh(){return IT(),DT(),xT(),MT()}function MT(){if(Le!==5)return!1;var i=Ys,s=bm;bm=0;var a=Qi(hs),l=X.T,f=it.p;try{it.p=32>a?32:a,X.T=null,a=wm,wm=null;var d=Ys,v=hs;if(Le=0,oo=Ys=null,hs=0,(Kt&6)!==0)throw Error(r(331));var A=Kt;if(Kt|=4,dT(d.current),cT(d,d.current,v,a),Kt=A,Yl(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(Wn,d)}catch{}return!0}finally{it.p=f,X.T=l,VT(i,s)}}function NT(i,s,a){s=jn(a,s),s=sm(i.stateNode,s,2),i=zs(i,s,2),i!==null&&(kr(i,2),Li(i))}function Xt(i,s,a){if(i.tag===3)NT(i,i,a);else for(;s!==null;){if(s.tag===3){NT(s,i,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ks===null||!Ks.has(l))){i=jn(a,i),a=Ov(2),l=zs(s,a,2),l!==null&&(Pv(a,l,s,i),kr(l,2),Li(l));break}}s=s.return}}function Dm(i,s,a){var l=i.pingCache;if(l===null){l=i.pingCache=new SC;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(Em=!0,f.add(a),i=CC.bind(null,i,s,a),s.then(i,i))}function CC(i,s,a){var l=i.pingCache;l!==null&&l.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,ne===i&&(Ot&a)===a&&(me===4||me===3&&(Ot&62914560)===Ot&&300>un()-ah?(Kt&2)===0&&lo(i,0):Sm|=a,ao===Ot&&(ao=0)),Li(i)}function OT(i,s){s===0&&(s=lc()),i=$r(i,s),i!==null&&(kr(i,s),Li(i))}function IC(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),OT(i,a)}function DC(i,s){var a=0;switch(i.tag){case 31:case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),OT(i,a)}function xC(i,s){return ke(i,s)}var dh=null,co=null,xm=!1,mh=!1,Vm=!1,Xs=0;function Li(i){i!==co&&i.next===null&&(co===null?dh=co=i:co=co.next=i),mh=!0,xm||(xm=!0,MC())}function Yl(i,s){if(!Vm&&mh){Vm=!0;do for(var a=!1,l=dh;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-ge(42|i)+1)-1,d&=f&~(v&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,UT(l,d))}else d=Ot,d=vi(l,l===ne?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Zn(l,d)||(a=!0,UT(l,d));l=l.next}while(a);Vm=!1}}function VC(){PT()}function PT(){mh=xm=!1;var i=0;Xs!==0&&FC()&&(i=Xs);for(var s=un(),a=null,l=dh;l!==null;){var f=l.next,d=kT(l,s);d===0?(l.next=null,a===null?dh=f:a.next=f,f===null&&(co=a)):(a=l,(i!==0||(d&3)!==0)&&(mh=!0)),l=f}Le!==0&&Le!==5||Yl(i),Xs!==0&&(Xs=0)}function kT(i,s){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,d=i.pendingLanes&-62914561;0<d;){var v=31-ge(d),A=1<<v,x=f[v];x===-1?((A&a)===0||(A&l)!==0)&&(f[v]=ad(A,s)):x<=s&&(i.expiredLanes|=A),d&=~A}if(s=ne,a=Ot,a=vi(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===s&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&As(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Zn(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(l!==null&&As(l),Qi(a)){case 2:case 8:a=il;break;case 32:a=bs;break;case 268435456:a=ic;break;default:a=bs}return l=LT.bind(null,i),a=ke(a,l),i.callbackPriority=s,i.callbackNode=a,s}return l!==null&&l!==null&&As(l),i.callbackPriority=2,i.callbackNode=null,2}function LT(i,s){if(Le!==0&&Le!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(fh()&&i.callbackNode!==a)return null;var l=Ot;return l=vi(i,i===ne?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(_T(i,l,s),kT(i,un()),i.callbackNode!=null&&i.callbackNode===a?LT.bind(null,i):null)}function UT(i,s){if(fh())return null;_T(i,s,!0)}function MC(){HC(function(){(Kt&6)!==0?ke(nl,VC):PT()})}function Mm(){if(Xs===0){var i=Xa;i===0&&(i=yi,yi<<=1,(yi&261888)===0&&(yi=256)),Xs=i}return Xs}function BT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Oa(""+i)}function zT(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function NC(i,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=BT((f[je]||null).action),v=l.submitter;v&&(s=(s=v[je]||null)?BT(s.formAction):v.getAttribute("formAction"),s!==null&&(d=s,v=null));var A=new xi("action","action",null,l,f);i.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xs!==0){var x=v?zT(f,v):new FormData(f);Zd(a,{pending:!0,data:x,method:f.method,action:d},null,x)}}else typeof d=="function"&&(A.preventDefault(),x=v?zT(f,v):new FormData(f),Zd(a,{pending:!0,data:x,method:f.method,action:d},d,x))},currentTarget:f}]})}}for(var Nm=0;Nm<pd.length;Nm++){var Om=pd[Nm],OC=Om.toLowerCase(),PC=Om[0].toUpperCase()+Om.slice(1);ai(OC,"on"+PC)}ai(y_,"onAnimationEnd"),ai(__,"onAnimationIteration"),ai(v_,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(WR,"onTransitionRun"),ai(ZR,"onTransitionStart"),ai(JR,"onTransitionCancel"),ai(T_,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function jT(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;t:{var d=void 0;if(s)for(var v=l.length-1;0<=v;v--){var A=l[v],x=A.instance,z=A.currentTarget;if(A=A.listener,x!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=z;try{d(f)}catch(Q){Dc(Q)}f.currentTarget=null,d=x}else for(v=0;v<l.length;v++){if(A=l[v],x=A.instance,z=A.currentTarget,A=A.listener,x!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=z;try{d(f)}catch(Q){Dc(Q)}f.currentTarget=null,d=x}}}}function Mt(i,s){var a=s[Da];a===void 0&&(a=s[Da]=new Set);var l=i+"__bubble";a.has(l)||(FT(s,i,2,!1),a.add(l))}function Pm(i,s,a){var l=0;s&&(l|=4),FT(a,i,l,s)}var ph="_reactListening"+Math.random().toString(36).slice(2);function km(i){if(!i[ph]){i[ph]=!0,al.forEach(function(a){a!=="selectionchange"&&(kC.has(a)||Pm(a,!1,i),Pm(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[ph]||(s[ph]=!0,Pm("selectionchange",!1,s))}}function FT(i,s,a,l){switch(y0(s)){case 2:var f=cI;break;case 8:f=hI;break;default:f=Wm}a=f.bind(null,s,a,i),f=void 0,!Fr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(s,a,{capture:!0,passive:f}):i.addEventListener(s,a,!0):f!==void 0?i.addEventListener(s,a,{passive:f}):i.addEventListener(s,a,!1)}function Lm(i,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var A=l.stateNode.containerInfo;if(A===f)break;if(v===4)for(v=l.return;v!==null;){var x=v.tag;if((x===3||x===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;A!==null;){if(v=Ai(A),v===null)return;if(x=v.tag,x===5||x===6||x===26||x===27){l=d=v;continue t}A=A.parentNode}}l=l.return}xs(function(){var z=d,Q=Ln(a),J=[];t:{var H=E_.get(i);if(H!==void 0){var K=xi,mt=i;switch(i){case"keypress":if(Hr(a)===0)break t;case"keydown":case"keyup":K=Rc;break;case"focusin":mt="focus",K=Kr;break;case"focusout":mt="blur",K=Kr;break;case"beforeblur":case"afterblur":K=Kr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=yc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case y_:case __:case v_:K=vc;break;case T_:K=b;break;case"scroll":case"scrollend":K=_l;break;case"wheel":K=G;break;case"copy":case"cut":case"paste":K=Tc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Wi;break;case"toggle":case"beforetoggle":K=Rt}var Tt=(s&4)!==0,Jt=!Tt&&(i==="scroll"||i==="scrollend"),k=Tt?H!==null?H+"Capture":null:H;Tt=[];for(var N=z,B;N!==null;){var W=N;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||k===null||(W=ni(N,k),W!=null&&Tt.push(Xl(N,W,B))),Jt)break;N=N.return}0<Tt.length&&(H=new K(H,mt,null,a,Q),J.push({event:H,listeners:Tt}))}}if((s&7)===0){t:{if(H=i==="mouseover"||i==="pointerover",K=i==="mouseout"||i==="pointerout",H&&a!==pl&&(mt=a.relatedTarget||a.fromElement)&&(Ai(mt)||mt[Ei]))break t;if((K||H)&&(H=Q.window===Q?Q:(H=Q.ownerDocument)?H.defaultView||H.parentWindow:window,K?(mt=a.relatedTarget||a.toElement,K=z,mt=mt?Ai(mt):null,mt!==null&&(Jt=u(mt),Tt=mt.tag,mt!==Jt||Tt!==5&&Tt!==27&&Tt!==6)&&(mt=null)):(K=null,mt=z),K!==mt)){if(Tt=vl,W="onMouseLeave",k="onMouseEnter",N="mouse",(i==="pointerout"||i==="pointerover")&&(Tt=Wi,W="onPointerLeave",k="onPointerEnter",N="pointer"),Jt=K==null?H:An(K),B=mt==null?H:An(mt),H=new Tt(W,N+"leave",K,a,Q),H.target=Jt,H.relatedTarget=B,W=null,Ai(Q)===z&&(Tt=new Tt(k,N+"enter",mt,a,Q),Tt.target=B,Tt.relatedTarget=Jt,W=Tt),Jt=W,K&&mt)e:{for(Tt=LC,k=K,N=mt,B=0,W=k;W;W=Tt(W))B++;W=0;for(var _t=N;_t;_t=Tt(_t))W++;for(;0<B-W;)k=Tt(k),B--;for(;0<W-B;)N=Tt(N),W--;for(;B--;){if(k===N||N!==null&&k===N.alternate){Tt=k;break e}k=Tt(k),N=Tt(N)}Tt=null}else Tt=null;K!==null&&qT(J,H,K,Tt,!1),mt!==null&&Jt!==null&&qT(J,Jt,mt,Tt,!0)}}t:{if(H=z?An(z):window,K=H.nodeName&&H.nodeName.toLowerCase(),K==="select"||K==="input"&&H.type==="file")var qt=a_;else if(s_(H))if(o_)qt=QR;else{qt=KR;var gt=GR}else K=H.nodeName,!K||K.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?z&&Na(z.elementType)&&(qt=a_):qt=YR;if(qt&&(qt=qt(i,z))){r_(J,qt,a,Q);break t}gt&&gt(i,H,z),i==="focusout"&&z&&H.type==="number"&&z.memoizedProps.value!=null&&fl(H,"number",H.value)}switch(gt=z?An(z):window,i){case"focusin":(s_(gt)||gt.contentEditable==="true")&&(ja=gt,fd=z,bl=null);break;case"focusout":bl=fd=ja=null;break;case"mousedown":dd=!0;break;case"contextmenu":case"mouseup":case"dragend":dd=!1,p_(J,a,Q);break;case"selectionchange":if($R)break;case"keydown":case"keyup":p_(J,a,Q)}var xt;if(Gt)t:{switch(i){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else za?Yr(i,a)&&(Pt="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Pt="onCompositionStart");Pt&&(Ni&&a.locale!=="ko"&&(za||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&za&&(xt=yl()):(Di=Q,gl="value"in Di?Di.value:Di.textContent,za=!0)),gt=gh(z,Pt),0<gt.length&&(Pt=new Mi(Pt,i,null,a,Q),J.push({event:Pt,listeners:gt}),xt?Pt.data=xt:(xt=Ba(a),xt!==null&&(Pt.data=xt)))),(xt=Bn?jR(i,a):FR(i,a))&&(Pt=gh(z,"onBeforeInput"),0<Pt.length&&(gt=new Mi("onBeforeInput","beforeinput",null,a,Q),J.push({event:gt,listeners:Pt}),gt.data=xt)),NC(J,i,z,a,Q)}jT(J,s)})}function Xl(i,s,a){return{instance:i,listener:s,currentTarget:a}}function gh(i,s){for(var a=s+"Capture",l=[];i!==null;){var f=i,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ni(i,a),f!=null&&l.unshift(Xl(i,f,d)),f=ni(i,s),f!=null&&l.push(Xl(i,f,d))),i.tag===3)return l;i=i.return}return[]}function LC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function qT(i,s,a,l,f){for(var d=s._reactName,v=[];a!==null&&a!==l;){var A=a,x=A.alternate,z=A.stateNode;if(A=A.tag,x!==null&&x===l)break;A!==5&&A!==26&&A!==27||z===null||(x=z,f?(z=ni(a,d),z!=null&&v.unshift(Xl(a,z,x))):f||(z=ni(a,d),z!=null&&v.push(Xl(a,z,x)))),a=a.return}v.length!==0&&i.push({event:s,listeners:v})}var UC=/\r\n?/g,BC=/\u0000|\uFFFD/g;function HT(i){return(typeof i=="string"?i:""+i).replace(UC,`
`).replace(BC,"")}function GT(i,s){return s=HT(s),HT(i)===s}function Zt(i,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||gn(i,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&gn(i,""+l);break;case"className":bn(i,"class",l);break;case"tabIndex":bn(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(i,a,l);break;case"style":ml(i,l,d);break;case"data":if(s!=="object"){bn(i,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Oa(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&Zt(i,s,"name",f.name,f,null),Zt(i,s,"formEncType",f.formEncType,f,null),Zt(i,s,"formMethod",f.formMethod,f,null),Zt(i,s,"formTarget",f.formTarget,f,null)):(Zt(i,s,"encType",f.encType,f,null),Zt(i,s,"method",f.method,f,null),Zt(i,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Oa(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=ei);break;case"onScroll":l!=null&&Mt("scroll",i);break;case"onScrollEnd":l!=null&&Mt("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=Oa(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":Mt("beforetoggle",i),Mt("toggle",i),Va(i,"popover",l);break;case"xlinkActuate":Re(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Re(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Re(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Re(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Re(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Re(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Re(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Re(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Re(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Va(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gc.get(a)||a,Va(i,a,l))}}function Um(i,s,a,l,f,d){switch(a){case"style":ml(i,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"children":typeof l=="string"?gn(i,l):(typeof l=="number"||typeof l=="bigint")&&gn(i,""+l);break;case"onScroll":l!=null&&Mt("scroll",i);break;case"onScrollEnd":l!=null&&Mt("scrollend",i);break;case"onClick":l!=null&&(i.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ol.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=i[je]||null,d=d!=null?d[a]:null,typeof d=="function"&&i.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,l,f);break t}a in i?i[a]=l:l===!0?i.setAttribute(a,""):Va(i,a,l)}}}function We(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",i),Mt("load",i);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Zt(i,s,d,v,a,null)}}f&&Zt(i,s,"srcSet",a.srcSet,a,null),l&&Zt(i,s,"src",a.src,a,null);return;case"input":Mt("invalid",i);var A=d=v=f=null,x=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":f=Q;break;case"type":v=Q;break;case"checked":x=Q;break;case"defaultChecked":z=Q;break;case"value":d=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Zt(i,s,l,Q,a,null)}}dc(i,d,A,x,z,v,f,!1);return;case"select":Mt("invalid",i),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":v=A;break;case"multiple":l=A;default:Zt(i,s,f,A,a,null)}s=d,a=v,i.multiple=!!l,s!=null?Rs(i,!!l,s,!1):a!=null&&Rs(i,!!l,a,!0);return;case"textarea":Mt("invalid",i),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(A=a[v],A!=null))switch(v){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:Zt(i,s,v,A,a,null)}Cs(i,l,f,d);return;case"option":for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null)&&(x==="selected"?i.selected=l&&typeof l!="function"&&typeof l!="symbol":Zt(i,s,x,l,a,null));return;case"dialog":Mt("beforetoggle",i),Mt("toggle",i),Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":Mt("load",i);break;case"video":case"audio":for(l=0;l<Ql.length;l++)Mt(Ql[l],i);break;case"image":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"embed":case"source":case"link":Mt("error",i),Mt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Zt(i,s,z,l,a,null)}return;default:if(Na(s)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Um(i,s,Q,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Zt(i,s,A,l,a,null))}function zC(i,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,A=null,x=null,z=null,Q=null;for(K in a){var J=a[K];if(a.hasOwnProperty(K)&&J!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":x=J;default:l.hasOwnProperty(K)||Zt(i,s,K,null,l,J)}}for(var H in l){var K=l[H];if(J=a[H],l.hasOwnProperty(H)&&(K!=null||J!=null))switch(H){case"type":d=K;break;case"name":f=K;break;case"checked":z=K;break;case"defaultChecked":Q=K;break;case"value":v=K;break;case"defaultValue":A=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:K!==J&&Zt(i,s,H,K,l,J)}}Ma(i,v,A,x,z,Q,d,f);return;case"select":K=v=A=H=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":K=x;default:l.hasOwnProperty(d)||Zt(i,s,d,null,l,x)}for(f in l)if(d=l[f],x=a[f],l.hasOwnProperty(f)&&(d!=null||x!=null))switch(f){case"value":H=d;break;case"defaultValue":A=d;break;case"multiple":v=d;default:d!==x&&Zt(i,s,f,d,l,x)}s=A,a=v,l=K,H!=null?Rs(i,!!a,H,!1):!!l!=!!a&&(s!=null?Rs(i,!!a,s,!0):Rs(i,!!a,a?[]:"",!1));return;case"textarea":K=H=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Zt(i,s,A,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":H=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&Zt(i,s,v,f,l,d)}mc(i,H,K);return;case"option":for(var mt in a)H=a[mt],a.hasOwnProperty(mt)&&H!=null&&!l.hasOwnProperty(mt)&&(mt==="selected"?i.selected=!1:Zt(i,s,mt,null,l,H));for(x in l)H=l[x],K=a[x],l.hasOwnProperty(x)&&H!==K&&(H!=null||K!=null)&&(x==="selected"?i.selected=H&&typeof H!="function"&&typeof H!="symbol":Zt(i,s,x,H,l,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)H=a[Tt],a.hasOwnProperty(Tt)&&H!=null&&!l.hasOwnProperty(Tt)&&Zt(i,s,Tt,null,l,H);for(z in l)if(H=l[z],K=a[z],l.hasOwnProperty(z)&&H!==K&&(H!=null||K!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,s));break;default:Zt(i,s,z,H,l,K)}return;default:if(Na(s)){for(var Jt in a)H=a[Jt],a.hasOwnProperty(Jt)&&H!==void 0&&!l.hasOwnProperty(Jt)&&Um(i,s,Jt,void 0,l,H);for(Q in l)H=l[Q],K=a[Q],!l.hasOwnProperty(Q)||H===K||H===void 0&&K===void 0||Um(i,s,Q,H,l,K);return}}for(var k in a)H=a[k],a.hasOwnProperty(k)&&H!=null&&!l.hasOwnProperty(k)&&Zt(i,s,k,null,l,H);for(J in l)H=l[J],K=a[J],!l.hasOwnProperty(J)||H===K||H==null&&K==null||Zt(i,s,J,H,l,K)}function KT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,v=f.initiatorType,A=f.duration;if(d&&A&&KT(v)){for(v=0,A=f.responseEnd,l+=1;l<a.length;l++){var x=a[l],z=x.startTime;if(z>A)break;var Q=x.transferSize,J=x.initiatorType;Q&&KT(J)&&(x=x.responseEnd,v+=Q*(x<A?1:(A-z)/(x-z)))}if(--l,s+=8*(d+v)/(f.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Bm=null,zm=null;function yh(i){return i.nodeType===9?i:i.ownerDocument}function YT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function QT(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function jm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Fm=null;function FC(){var i=window.event;return i&&i.type==="popstate"?i===Fm?!1:(Fm=i,!0):(Fm=null,!1)}var XT=typeof setTimeout=="function"?setTimeout:void 0,qC=typeof clearTimeout=="function"?clearTimeout:void 0,$T=typeof Promise=="function"?Promise:void 0,HC=typeof queueMicrotask=="function"?queueMicrotask:typeof $T<"u"?function(i){return $T.resolve(null).then(i).catch(GC)}:XT;function GC(i){setTimeout(function(){throw i})}function $s(i){return i==="head"}function WT(i,s){var a=s,l=0;do{var f=a.nextSibling;if(i.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){i.removeChild(f),po(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")$l(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,$l(a);for(var d=a.firstChild;d;){var v=d.nextSibling,A=d.nodeName;d[Si]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&$l(i.ownerDocument.body);a=f}while(a);po(s)}function ZT(i,s){var a=i;i=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=l}while(a)}function qm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":qm(a),xa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function KC(i,s,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[Si])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(d=i.getAttribute("rel"),d==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(d!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(d=i.getAttribute("src"),(d!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===d)return i}else return i;if(i=Kn(i.nextSibling),i===null)break}return null}function YC(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Kn(i.nextSibling),i===null))return null;return i}function JT(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Kn(i.nextSibling),i===null))return null;return i}function Hm(i){return i.data==="$?"||i.data==="$~"}function Gm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function QC(i,s){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function Kn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Km=null;function t0(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(s===0)return Kn(i.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}i=i.nextSibling}return null}function e0(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return i;s--}else a!=="/$"&&a!=="/&"||s++}i=i.previousSibling}return null}function n0(i,s,a){switch(s=yh(a),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function $l(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);xa(i)}var Yn=new Map,i0=new Set;function _h(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var fs=it.d;it.d={f:XC,r:$C,D:WC,C:ZC,L:JC,m:tI,X:nI,S:eI,M:iI};function XC(){var i=fs.f(),s=uh();return i||s}function $C(i){var s=kn(i);s!==null&&s.tag===5&&s.type==="form"?Tv(s):fs.r(i)}var ho=typeof document>"u"?null:document;function s0(i,s,a){var l=ho;if(l&&typeof s=="string"&&s){var f=pn(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),i0.has(f)||(i0.add(f),i={rel:i,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),We(s,"link",i),we(s),l.head.appendChild(s)))}}function WC(i){fs.D(i),s0("dns-prefetch",i,null)}function ZC(i,s){fs.C(i,s),s0("preconnect",i,s)}function JC(i,s,a){fs.L(i,s,a);var l=ho;if(l&&i&&s){var f='link[rel="preload"][as="'+pn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+pn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+pn(a.imageSizes)+'"]')):f+='[href="'+pn(i)+'"]';var d=f;switch(s){case"style":d=fo(i);break;case"script":d=mo(i)}Yn.has(d)||(i=T({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),Yn.set(d,i),l.querySelector(f)!==null||s==="style"&&l.querySelector(Wl(d))||s==="script"&&l.querySelector(Zl(d))||(s=l.createElement("link"),We(s,"link",i),we(s),l.head.appendChild(s)))}}function tI(i,s){fs.m(i,s);var a=ho;if(a&&i){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+pn(l)+'"][href="'+pn(i)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=mo(i)}if(!Yn.has(d)&&(i=T({rel:"modulepreload",href:i},s),Yn.set(d,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Zl(d)))return}l=a.createElement("link"),We(l,"link",i),we(l),a.head.appendChild(l)}}}function eI(i,s,a){fs.S(i,s,a);var l=ho;if(l&&i){var f=bi(l).hoistableStyles,d=fo(i);s=s||"default";var v=f.get(d);if(!v){var A={loading:0,preload:null};if(v=l.querySelector(Wl(d)))A.loading=5;else{i=T({rel:"stylesheet",href:i,"data-precedence":s},a),(a=Yn.get(d))&&Ym(i,a);var x=v=l.createElement("link");we(x),We(x,"link",i),x._p=new Promise(function(z,Q){x.onload=z,x.onerror=Q}),x.addEventListener("load",function(){A.loading|=1}),x.addEventListener("error",function(){A.loading|=2}),A.loading|=4,vh(v,s,l)}v={type:"stylesheet",instance:v,count:1,state:A},f.set(d,v)}}}function nI(i,s){fs.X(i,s);var a=ho;if(a&&i){var l=bi(a).hoistableScripts,f=mo(i),d=l.get(f);d||(d=a.querySelector(Zl(f)),d||(i=T({src:i,async:!0},s),(s=Yn.get(f))&&Qm(i,s),d=a.createElement("script"),we(d),We(d,"link",i),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function iI(i,s){fs.M(i,s);var a=ho;if(a&&i){var l=bi(a).hoistableScripts,f=mo(i),d=l.get(f);d||(d=a.querySelector(Zl(f)),d||(i=T({src:i,async:!0,type:"module"},s),(s=Yn.get(f))&&Qm(i,s),d=a.createElement("script"),we(d),We(d,"link",i),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function r0(i,s,a,l){var f=(f=Dt.current)?_h(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=fo(a.href),a=bi(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=fo(a.href);var d=bi(f).hoistableStyles,v=d.get(i);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(i,v),(d=f.querySelector(Wl(i)))&&!d._p&&(v.instance=d,v.state.loading=5),Yn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yn.set(i,a),d||sI(f,i,a,v.state))),s&&l===null)throw Error(r(528,""));return v}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=mo(a),a=bi(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function fo(i){return'href="'+pn(i)+'"'}function Wl(i){return'link[rel="stylesheet"]['+i+"]"}function a0(i){return T({},i,{"data-precedence":i.precedence,precedence:null})}function sI(i,s,a,l){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),We(s,"link",a),we(s),i.head.appendChild(s))}function mo(i){return'[src="'+pn(i)+'"]'}function Zl(i){return"script[async]"+i}function o0(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=i.querySelector('style[data-href~="'+pn(a.href)+'"]');if(l)return s.instance=l,we(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),we(l),We(l,"style",f),vh(l,a.precedence,i),s.instance=l;case"stylesheet":f=fo(a.href);var d=i.querySelector(Wl(f));if(d)return s.state.loading|=4,s.instance=d,we(d),d;l=a0(a),(f=Yn.get(f))&&Ym(l,f),d=(i.ownerDocument||i).createElement("link"),we(d);var v=d;return v._p=new Promise(function(A,x){v.onload=A,v.onerror=x}),We(d,"link",l),s.state.loading|=4,vh(d,a.precedence,i),s.instance=d;case"script":return d=mo(a.src),(f=i.querySelector(Zl(d)))?(s.instance=f,we(f),f):(l=a,(f=Yn.get(d))&&(l=T({},a),Qm(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),we(f),We(f,"link",l),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,vh(l,a.precedence,i));return s.instance}function vh(i,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var A=l[v];if(A.dataset.precedence===s)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(i,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function Ym(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Qm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Th=null;function l0(i,s,a){if(Th===null){var l=new Map,f=Th=new Map;f.set(a,l)}else f=Th,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var d=a[f];if(!(d[Si]||d[be]||i==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(s)||"";v=i+v;var A=l.get(v);A?A.push(d):l.set(v,[d])}}return l}function u0(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function rI(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function c0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function aI(i,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=fo(l.href),d=s.querySelector(Wl(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Eh.bind(i),s.then(i,i)),a.state.loading|=4,a.instance=d,we(d);return}d=s.ownerDocument||s,l=a0(l),(f=Yn.get(f))&&Ym(l,f),d=d.createElement("link"),we(d);var v=d;v._p=new Promise(function(A,x){v.onload=A,v.onerror=x}),We(d,"link",l),a.instance=d}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=Eh.bind(i),s.addEventListener("load",a),s.addEventListener("error",a))}}var Xm=0;function oI(i,s){return i.stylesheets&&i.count===0&&Ah(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var l=setTimeout(function(){if(i.stylesheets&&Ah(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4+s);0<i.imgBytes&&Xm===0&&(Xm=62500*jC());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Ah(i,i.stylesheets),i.unsuspend)){var d=i.unsuspend;i.unsuspend=null,d()}},(i.imgBytes>Xm?50:800)+s);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Eh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ah(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Sh=null;function Ah(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Sh=new Map,s.forEach(lI,i),Sh=null,Eh.call(i))}function lI(i,s){if(!(s.state.loading&4)){var a=Sh.get(i);if(a)var l=a.get(null);else{a=new Map,Sh.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=s.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=Eh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var Jl={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function uI(i,s,a,l,f,d,v,A,x){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function h0(i,s,a,l,f,d,v,A,x,z,Q,J){return i=new uI(i,s,a,v,x,z,Q,J,A),s=1,d===!0&&(s|=24),d=Rn(3,null,null,s),i.current=d,d.stateNode=i,s=Id(),s.refCount++,i.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},Md(d),i}function f0(i){return i?(i=Ha,i):Ha}function d0(i,s,a,l,f,d){f=f0(f),l.context===null?l.context=f:l.pendingContext=f,l=Bs(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=zs(i,l,s),a!==null&&(En(a,i,s),Vl(a,i,s))}function m0(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function $m(i,s){m0(i,s),(i=i.alternate)&&m0(i,s)}function p0(i){if(i.tag===13||i.tag===31){var s=$r(i,67108864);s!==null&&En(s,i,67108864),$m(i,67108864)}}function g0(i){if(i.tag===13||i.tag===31){var s=Vn();s=Ur(s);var a=$r(i,s);a!==null&&En(a,i,s),$m(i,s)}}var bh=!0;function cI(i,s,a,l){var f=X.T;X.T=null;var d=it.p;try{it.p=2,Wm(i,s,a,l)}finally{it.p=d,X.T=f}}function hI(i,s,a,l){var f=X.T;X.T=null;var d=it.p;try{it.p=8,Wm(i,s,a,l)}finally{it.p=d,X.T=f}}function Wm(i,s,a,l){if(bh){var f=Zm(l);if(f===null)Lm(i,s,l,wh,a),_0(i,l);else if(dI(f,i,s,a,l))l.stopPropagation();else if(_0(i,l),s&4&&-1<fI.indexOf(i)){for(;f!==null;){var d=kn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=_i(d.pendingLanes);if(v!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var x=1<<31-ge(v);A.entanglements[1]|=x,v&=~x}Li(d),(Kt&6)===0&&(oh=un()+500,Yl(0))}}break;case 31:case 13:A=$r(d,2),A!==null&&En(A,d,2),uh(),$m(d,2)}if(d=Zm(l),d===null&&Lm(i,s,l,wh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Lm(i,s,l,null,a)}}function Zm(i){return i=Ln(i),Jm(i)}var wh=null;function Jm(i){if(wh=null,i=Ai(i),i!==null){var s=u(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=c(s),i!==null)return i;i=null}else if(a===31){if(i=m(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return wh=i,null}function y0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Or()){case nl:return 2;case il:return 8;case bs:case rd:return 32;case ic:return 268435456;default:return 32}default:return 32}}var tp=!1,Ws=null,Zs=null,Js=null,tu=new Map,eu=new Map,tr=[],fI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _0(i,s){switch(i){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":tu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(s.pointerId)}}function nu(i,s,a,l,f,d){return i===null||i.nativeEvent!==d?(i={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=kn(s),s!==null&&p0(s)),i):(i.eventSystemFlags|=l,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function dI(i,s,a,l,f){switch(s){case"focusin":return Ws=nu(Ws,i,s,a,l,f),!0;case"dragenter":return Zs=nu(Zs,i,s,a,l,f),!0;case"mouseover":return Js=nu(Js,i,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return tu.set(d,nu(tu.get(d)||null,i,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,eu.set(d,nu(eu.get(d)||null,i,s,a,l,f)),!0}return!1}function v0(i){var s=Ai(i.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){i.blockedOn=s,Jn(i.priority,function(){g0(a)});return}}else if(s===31){if(s=m(a),s!==null){i.blockedOn=s,Jn(i.priority,function(){g0(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Rh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=Zm(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);pl=l,a.target.dispatchEvent(l),pl=null}else return s=kn(a),s!==null&&p0(s),i.blockedOn=a,!1;s.shift()}return!0}function T0(i,s,a){Rh(i)&&a.delete(s)}function mI(){tp=!1,Ws!==null&&Rh(Ws)&&(Ws=null),Zs!==null&&Rh(Zs)&&(Zs=null),Js!==null&&Rh(Js)&&(Js=null),tu.forEach(T0),eu.forEach(T0)}function Ch(i,s){i.blockedOn===s&&(i.blockedOn=null,tp||(tp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,mI)))}var Ih=null;function E0(i){Ih!==i&&(Ih=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ih===i&&(Ih=null);for(var s=0;s<i.length;s+=3){var a=i[s],l=i[s+1],f=i[s+2];if(typeof l!="function"){if(Jm(l||a)===null)continue;break}var d=kn(a);d!==null&&(i.splice(s,3),s-=3,Zd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function po(i){function s(x){return Ch(x,i)}Ws!==null&&Ch(Ws,i),Zs!==null&&Ch(Zs,i),Js!==null&&Ch(Js,i),tu.forEach(s),eu.forEach(s);for(var a=0;a<tr.length;a++){var l=tr[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<tr.length&&(a=tr[0],a.blockedOn===null);)v0(a),a.blockedOn===null&&tr.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[je]||null;if(typeof d=="function")v||E0(a);else if(v){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[je]||null)A=v.formAction;else if(Jm(f)!==null)continue}else A=v.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),E0(a)}}}function S0(){function i(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function ep(i){this._internalRoot=i}Dh.prototype.render=ep.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Vn();d0(a,l,i,s,null,null)},Dh.prototype.unmount=ep.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;d0(i.current,2,null,i,null,null),uh(),s[Ei]=null}};function Dh(i){this._internalRoot=i}Dh.prototype.unstable_scheduleHydration=function(i){if(i){var s=uc();i={blockedOn:null,target:i,priority:s};for(var a=0;a<tr.length&&s!==0&&s<tr[a].priority;a++);tr.splice(a,0,i),a===0&&v0(i)}};var A0=t.version;if(A0!=="19.2.4")throw Error(r(527,A0,"19.2.4"));it.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=g(s),i=i!==null?_(i):null,i=i===null?null:i.stateNode,i};var pI={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{Wn=xh.inject(pI),Ke=xh}catch{}}return su.createRoot=function(i,s){if(!o(i))throw Error(r(299));var a=!1,l="",f=xv,d=Vv,v=Mv;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=h0(i,1,!1,null,null,a,l,null,f,d,v,S0),i[Ei]=s.current,km(i),new ep(s)},su.hydrateRoot=function(i,s,a){if(!o(i))throw Error(r(299));var l=!1,f="",d=xv,v=Vv,A=Mv,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),s=h0(i,1,!0,s,a??null,l,f,x,d,v,A,S0),s.context=f0(null),a=s.current,l=Vn(),l=Ur(l),f=Bs(l),f.callback=null,zs(a,f,l),a=l,s.current.lanes=a,kr(s,a),Li(s),i[Ei]=s.current,km(i),new Dh(s)},su.version="19.2.4",su}var N0;function CI(){if(N0)return sp.exports;N0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),sp.exports=RI(),sp.exports}var II=CI();const DI="modulepreload",xI=function(n){return"/soka/"+n},O0={},RA=function(t,e,r){let o=Promise.resolve();if(e&&e.length>0){let p=function(g){return Promise.all(g.map(_=>Promise.resolve(_).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),m=c?.nonce||c?.getAttribute("nonce");o=p(e.map(g=>{if(g=xI(g),g in O0)return;O0[g]=!0;const _=g.endsWith(".css"),T=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${T}`))return;const S=document.createElement("link");if(S.rel=_?"stylesheet":DI,_||(S.as="script"),S.crossOrigin="",S.href=g,m&&S.setAttribute("nonce",m),document.head.appendChild(S),_)return new Promise((I,P)=>{S.addEventListener("load",I),S.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(c){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=c,window.dispatchEvent(m),!m.defaultPrevented)throw c}return o.then(c=>{for(const m of c||[])m.status==="rejected"&&u(m.reason);return t().catch(u)})},VI=()=>{};var P0={};const CA=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},MI=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const o=n[e++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[e++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[e++],c=n[e++],m=n[e++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=n[e++],c=n[e++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},IA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],c=o+1<n.length,m=c?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,_=u>>2,T=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,I=g&63;p||(I=64,c||(S=64)),r.push(e[_],e[T],e[S],e[I])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(CA(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):MI(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=e[n.charAt(o++)],m=o<n.length?e[n.charAt(o)]:0;++o;const g=o<n.length?e[n.charAt(o)]:64;++o;const T=o<n.length?e[n.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new NI;const S=u<<2|m>>4;if(r.push(S),g!==64){const I=m<<4&240|g>>2;if(r.push(I),T!==64){const P=g<<6&192|T;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class NI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OI=function(n){const t=CA(n);return IA.encodeByteArray(t,!0)},ef=function(n){return OI(n).replace(/\./g,"")},DA=function(n){try{return IA.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function PI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const kI=()=>PI().__FIREBASE_DEFAULTS__,LI=()=>{if(typeof process>"u"||typeof P0>"u")return;const n=P0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},UI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&DA(n[1]);return t&&JSON.parse(t)},Vf=()=>{try{return VI()||kI()||LI()||UI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},xA=n=>Vf()?.emulatorHosts?.[n],BI=n=>{const t=xA(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},VA=()=>Vf()?.config,MA=n=>Vf()?.[`_${n}`];class zI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}function jo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function NA(n){return(await fetch(n,{credentials:"include"})).ok}function jI(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[ef(JSON.stringify(e)),ef(JSON.stringify(c)),""].join(".")}const fu={};function FI(){const n={prod:[],emulator:[]};for(const t of Object.keys(fu))fu[t]?n.emulator.push(t):n.prod.push(t);return n}function qI(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let k0=!1;function OA(n,t){if(typeof window>"u"||typeof document>"u"||!jo(window.location.host)||fu[n]===t||fu[n]||k0)return;fu[n]=t;function e(S){return`__firebase__banner__${S}`}const r="__firebase__banner",u=FI().prod.length>0;function c(){const S=document.getElementById(r);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,I){S.setAttribute("width","24"),S.setAttribute("id",I),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{k0=!0,c()},S}function _(S,I){S.setAttribute("id",I),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=qI(r),I=e("text"),P=document.getElementById(I)||document.createElement("span"),q=e("learnmore"),j=document.getElementById(q)||document.createElement("a"),F=e("preprendIcon"),Z=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Y=S.element;m(Y),_(j,q);const rt=g();p(Z,F),Y.append(Z,P,j,rt),document.body.appendChild(Y)}u?(P.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function GI(){const n=Vf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function QI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XI(){const n=ln();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function $I(){return!GI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WI(){try{return typeof indexedDB=="object"}catch{return!1}}function ZI(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}const JI="FirebaseError";class Ss extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=JI,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zu.prototype.create)}}class zu{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?tD(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Ss(o,m,r)}}function tD(n,t){return n.replace(eD,(e,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const eD=/\{\$([^}]+)}/g;function nD(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function ya(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const o of e){if(!r.includes(o))return!1;const u=n[o],c=t[o];if(L0(u)&&L0(c)){if(!ya(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!e.includes(o))return!1;return!0}function L0(n){return n!==null&&typeof n=="object"}function ju(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function iD(n,t){const e=new sD(n,t);return e.subscribe.bind(e)}class sD{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let o;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");rD(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:r},o.next===void 0&&(o.next=lp),o.error===void 0&&(o.error=lp),o.complete===void 0&&(o.complete=lp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rD(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function lp(){}function ze(n){return n&&n._delegate?n._delegate:n}class _a{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ca="[DEFAULT]";class aD{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new zI;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(lD(t))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=ca){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ca){return this.instances.has(t)}getOptions(t=ca){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const o of r)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oD(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ca){return this.component?this.component.multipleInstances?t:ca:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oD(n){return n===ca?void 0:n}function lD(n){return n.instantiationMode==="EAGER"}class uD{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new aD(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var kt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(kt||(kt={}));const cD={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},hD=kt.INFO,fD={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},dD=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=fD[t];if(o)console[o](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class xg{constructor(t){this.name=t,this._logLevel=hD,this._logHandler=dD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?cD[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const mD=(n,t)=>t.some(e=>n instanceof e);let U0,B0;function pD(){return U0||(U0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gD(){return B0||(B0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PA=new WeakMap,Pp=new WeakMap,kA=new WeakMap,up=new WeakMap,Vg=new WeakMap;function yD(n){const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{e(fr(n.result)),o()},c=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&PA.set(e,n)}).catch(()=>{}),Vg.set(t,n),t}function _D(n){if(Pp.has(n))return;const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{e(),o()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});Pp.set(n,t)}let kp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Pp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||kA.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return fr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function vD(n){kp=n(kp)}function TD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(cp(this),t,...e);return kA.set(r,t.sort?t.sort():[t]),fr(r)}:gD().includes(n)?function(...t){return n.apply(cp(this),t),fr(PA.get(this))}:function(...t){return fr(n.apply(cp(this),t))}}function ED(n){return typeof n=="function"?TD(n):(n instanceof IDBTransaction&&_D(n),mD(n,pD())?new Proxy(n,kp):n)}function fr(n){if(n instanceof IDBRequest)return yD(n);if(up.has(n))return up.get(n);const t=ED(n);return t!==n&&(up.set(n,t),Vg.set(t,n)),t}const cp=n=>Vg.get(n);function SD(n,t,{blocked:e,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(n,t),m=fr(c);return r&&c.addEventListener("upgradeneeded",p=>{r(fr(c.result),p.oldVersion,p.newVersion,fr(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const AD=["get","getKey","getAll","getAllKeys","count"],bD=["put","add","delete","clear"],hp=new Map;function z0(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(hp.get(t))return hp.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,o=bD.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(o||AD.includes(e)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[e](...m),o&&p.done]))[0]};return hp.set(t,u),u}vD(n=>({...n,get:(t,e,r)=>z0(t,e)||n.get(t,e,r),has:(t,e)=>!!z0(t,e)||n.has(t,e)}));class wD{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(RD(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function RD(n){return n.getComponent()?.type==="VERSION"}const Lp="@firebase/app",j0="0.14.7";const gs=new xg("@firebase/app"),CD="@firebase/app-compat",ID="@firebase/analytics-compat",DD="@firebase/analytics",xD="@firebase/app-check-compat",VD="@firebase/app-check",MD="@firebase/auth",ND="@firebase/auth-compat",OD="@firebase/database",PD="@firebase/data-connect",kD="@firebase/database-compat",LD="@firebase/functions",UD="@firebase/functions-compat",BD="@firebase/installations",zD="@firebase/installations-compat",jD="@firebase/messaging",FD="@firebase/messaging-compat",qD="@firebase/performance",HD="@firebase/performance-compat",GD="@firebase/remote-config",KD="@firebase/remote-config-compat",YD="@firebase/storage",QD="@firebase/storage-compat",XD="@firebase/firestore",$D="@firebase/ai",WD="@firebase/firestore-compat",ZD="firebase",JD="12.8.0";const Up="[DEFAULT]",t2={[Lp]:"fire-core",[CD]:"fire-core-compat",[DD]:"fire-analytics",[ID]:"fire-analytics-compat",[VD]:"fire-app-check",[xD]:"fire-app-check-compat",[MD]:"fire-auth",[ND]:"fire-auth-compat",[OD]:"fire-rtdb",[PD]:"fire-data-connect",[kD]:"fire-rtdb-compat",[LD]:"fire-fn",[UD]:"fire-fn-compat",[BD]:"fire-iid",[zD]:"fire-iid-compat",[jD]:"fire-fcm",[FD]:"fire-fcm-compat",[qD]:"fire-perf",[HD]:"fire-perf-compat",[GD]:"fire-rc",[KD]:"fire-rc-compat",[YD]:"fire-gcs",[QD]:"fire-gcs-compat",[XD]:"fire-fst",[WD]:"fire-fst-compat",[$D]:"fire-vertex","fire-js":"fire-js",[ZD]:"fire-js-all"};const nf=new Map,e2=new Map,Bp=new Map;function F0(n,t){try{n.container.addComponent(t)}catch(e){gs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Mo(n){const t=n.name;if(Bp.has(t))return gs.debug(`There were multiple attempts to register component ${t}.`),!1;Bp.set(t,n);for(const e of nf.values())F0(e,n);for(const e of e2.values())F0(e,n);return!0}function Mg(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function hi(n){return n==null?!1:n.settings!==void 0}const n2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new zu("app","Firebase",n2);class i2{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}const Fo=JD;function LA(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r={name:Up,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw dr.create("bad-app-name",{appName:String(o)});if(e||(e=VA()),!e)throw dr.create("no-options");const u=nf.get(o);if(u){if(ya(e,u.options)&&ya(r,u.config))return u;throw dr.create("duplicate-app",{appName:o})}const c=new uD(o);for(const p of Bp.values())c.addComponent(p);const m=new i2(e,r,c);return nf.set(o,m),m}function UA(n=Up){const t=nf.get(n);if(!t&&n===Up&&VA())return LA();if(!t)throw dr.create("no-app",{appName:n});return t}function mr(n,t,e){let r=t2[n]??n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),gs.warn(c.join(" "));return}Mo(new _a(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const s2="firebase-heartbeat-database",r2=1,Au="firebase-heartbeat-store";let fp=null;function BA(){return fp||(fp=SD(s2,r2,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Au)}catch(e){console.warn(e)}}}}).catch(n=>{throw dr.create("idb-open",{originalErrorMessage:n.message})})),fp}async function a2(n){try{const e=(await BA()).transaction(Au),r=await e.objectStore(Au).get(zA(n));return await e.done,r}catch(t){if(t instanceof Ss)gs.warn(t.message);else{const e=dr.create("idb-get",{originalErrorMessage:t?.message});gs.warn(e.message)}}}async function q0(n,t){try{const r=(await BA()).transaction(Au,"readwrite");await r.objectStore(Au).put(t,zA(n)),await r.done}catch(e){if(e instanceof Ss)gs.warn(e.message);else{const r=dr.create("idb-set",{originalErrorMessage:e?.message});gs.warn(r.message)}}}function zA(n){return`${n.name}!${n.options.appId}`}const o2=1024,l2=30;class u2{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new h2(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=H0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>l2){const o=f2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){gs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=H0(),{heartbeatsToSend:e,unsentEntries:r}=c2(this._heartbeatsCache.heartbeats),o=ef(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return gs.warn(t),""}}}function H0(){return new Date().toISOString().substring(0,10)}function c2(n,t=o2){const e=[];let r=n.slice();for(const o of n){const u=e.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),G0(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),G0(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class h2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WI()?ZI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await a2(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return q0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return q0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function G0(n){return ef(JSON.stringify({version:2,heartbeats:n})).length}function f2(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}function d2(n){Mo(new _a("platform-logger",t=>new wD(t),"PRIVATE")),Mo(new _a("heartbeat",t=>new u2(t),"PRIVATE")),mr(Lp,j0,n),mr(Lp,j0,"esm2020"),mr("fire-js","")}d2("");function jA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m2=jA,FA=new zu("auth","Firebase",jA());const sf=new xg("@firebase/auth");function p2(n,...t){sf.logLevel<=kt.WARN&&sf.warn(`Auth (${Fo}): ${n}`,...t)}function jh(n,...t){sf.logLevel<=kt.ERROR&&sf.error(`Auth (${Fo}): ${n}`,...t)}function ys(n,...t){throw Ng(n,...t)}function Bi(n,...t){return Ng(n,...t)}function qA(n,t,e){const r={...m2(),[t]:e};return new zu("auth","Firebase",r).create(t,{appName:n.name})}function pr(n){return qA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ng(n,...t){if(typeof n!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return FA.create(n,...t)}function St(n,t,...e){if(!n)throw Ng(t,...e)}function ds(n){const t="INTERNAL ASSERTION FAILED: "+n;throw jh(t),new Error(t)}function _s(n,t){n||ds(t)}function zp(){return typeof self<"u"&&self.location?.href||""}function g2(){return K0()==="http:"||K0()==="https:"}function K0(){return typeof self<"u"&&self.location?.protocol||null}function y2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(g2()||YI()||"connection"in navigator)?navigator.onLine:!0}function _2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Fu{constructor(t,e){this.shortDelay=t,this.longDelay=e,_s(e>t,"Short delay should be less than long delay!"),this.isMobile=HI()||QI()}get(){return y2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Og(n,t){_s(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class HA{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const v2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const T2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],E2=new Fu(3e4,6e4);function Mf(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function qo(n,t,e,r,o={}){return GA(n,o,async()=>{let u={},c={};r&&(t==="GET"?c=r:u={body:JSON.stringify(r)});const m=ju({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g={method:t,headers:p,...u};return KI()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&jo(n.emulatorConfig.host)&&(g.credentials="include"),HA.fetch()(await YA(n,n.config.apiHost,e,m),g)})}async function GA(n,t,e){n._canInitEmulator=!1;const r={...v2,...t};try{const o=new S2(n),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Vh(n,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vh(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Vh(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Vh(n,"user-disabled",c);const _=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw qA(n,_,g);ys(n,_)}}catch(o){if(o instanceof Ss)throw o;ys(n,"network-request-failed",{message:String(o)})}}async function KA(n,t,e,r,o={}){const u=await qo(n,t,e,r,o);return"mfaPendingCredential"in u&&ys(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function YA(n,t,e,r){const o=`${t}${e}?${r}`,u=n,c=u.config.emulator?Og(n.config,o):`${n.config.apiScheme}://${o}`;return T2.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class S2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(Bi(this.auth,"network-request-failed")),E2.get())})}}function Vh(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const o=Bi(n,t,r);return o.customData._tokenResponse=e,o}async function A2(n,t){return qo(n,"POST","/v1/accounts:delete",t)}async function rf(n,t){return qo(n,"POST","/v1/accounts:lookup",t)}function du(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function b2(n,t=!1){const e=ze(n),r=await e.getIdToken(t),o=Pg(r);St(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:r,authTime:du(dp(o.auth_time)),issuedAtTime:du(dp(o.iat)),expirationTime:du(dp(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function dp(n){return Number(n)*1e3}function Pg(n){const[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return jh("JWT malformed, contained fewer than 3 sections"),null;try{const o=DA(e);return o?JSON.parse(o):(jh("Failed to decode base64 JWT payload"),null)}catch(o){return jh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Y0(n){const t=Pg(n);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function bu(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof Ss&&w2(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function w2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class R2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class jp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=du(this.lastLoginAt),this.creationTime=du(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function af(n){const t=n.auth,e=await n.getIdToken(),r=await bu(n,rf(t,{idToken:e}));St(r?.users.length,t,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const u=o.providerUserInfo?.length?QA(o.providerUserInfo):[],c=I2(n.providerData,u),m=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!c?.length,g=m?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new jp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function C2(n){const t=ze(n);await af(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function I2(n,t){return[...n.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function QA(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function D2(n,t){const e=await GA(n,{},async()=>{const r=ju({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,c=await YA(n,o,"/v1/token",`key=${u}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return n.emulatorConfig&&jo(n.emulatorConfig.host)&&(p.credentials="include"),HA.fetch()(c,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function x2(n,t){return qo(n,"POST","/v2/accounts:revokeToken",Mf(n,t))}class Ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Y0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){St(t.length!==0,"internal-error");const e=Y0(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:o,expiresIn:u}=await D2(t,e);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:o,expirationTime:u}=e,c=new Ro;return r&&(St(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),o&&(St(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(St(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ro,this.toJSON())}_performRefresh(){return ds("not implemented")}}function nr(n,t){St(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class di{constructor({uid:t,auth:e,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new R2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new jp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await bu(this,this.stsTokenManager.getToken(this.auth,t));return St(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return b2(this,t)}reload(){return C2(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new di({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await af(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hi(this.auth.app))return Promise.reject(pr(this.auth));const t=await this.getIdToken();return await bu(this,A2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,c=e.photoURL??void 0,m=e.tenantId??void 0,p=e._redirectEventId??void 0,g=e.createdAt??void 0,_=e.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:I,providerData:P,stsTokenManager:q}=e;St(T&&q,t,"internal-error");const j=Ro.fromJSON(this.name,q);St(typeof T=="string",t,"internal-error"),nr(r,t.name),nr(o,t.name),St(typeof S=="boolean",t,"internal-error"),St(typeof I=="boolean",t,"internal-error"),nr(u,t.name),nr(c,t.name),nr(m,t.name),nr(p,t.name),nr(g,t.name),nr(_,t.name);const F=new di({uid:T,auth:t,email:o,emailVerified:S,displayName:r,isAnonymous:I,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:j,createdAt:g,lastLoginAt:_});return P&&Array.isArray(P)&&(F.providerData=P.map(Z=>({...Z}))),p&&(F._redirectEventId=p),F}static async _fromIdTokenResponse(t,e,r=!1){const o=new Ro;o.updateFromServerResponse(e);const u=new di({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await af(u),u}static async _fromGetAccountInfoResponse(t,e,r){const o=e.users[0];St(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?QA(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new Ro;m.updateFromIdToken(r);const p=new di({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new jp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const Q0=new Map;function ms(n){_s(n instanceof Function,"Expected a class definition");let t=Q0.get(n);return t?(_s(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Q0.set(n,t),t)}class XA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}XA.type="NONE";const X0=XA;function Fh(n,t,e){return`firebase:${n}:${t}:${e}`}class Co{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Fh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Fh("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await rf(this.auth,{idToken:t}).catch(()=>{});return e?di._fromGetAccountInfoResponse(this.auth,e,t):null}return di._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new Co(ms(X0),t,r);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ms(X0);const c=Fh(r,t.config.apiKey,t.name);let m=null;for(const g of e)try{const _=await g._get(c);if(_){let T;if(typeof _=="string"){const S=await rf(t,{idToken:_}).catch(()=>{});if(!S)break;T=await di._fromGetAccountInfoResponse(t,S,_)}else T=di._fromJSON(t,_);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Co(u,t,r):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Co(u,t,r))}}function $0(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(JA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($A(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(eb(t))return"Blackberry";if(nb(t))return"Webos";if(WA(t))return"Safari";if((t.includes("chrome/")||ZA(t))&&!t.includes("edge/"))return"Chrome";if(tb(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if(r?.length===2)return r[1]}return"Other"}function $A(n=ln()){return/firefox\//i.test(n)}function WA(n=ln()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ZA(n=ln()){return/crios\//i.test(n)}function JA(n=ln()){return/iemobile/i.test(n)}function tb(n=ln()){return/android/i.test(n)}function eb(n=ln()){return/blackberry/i.test(n)}function nb(n=ln()){return/webos/i.test(n)}function kg(n=ln()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function V2(n=ln()){return kg(n)&&!!window.navigator?.standalone}function M2(){return XI()&&document.documentMode===10}function ib(n=ln()){return kg(n)||tb(n)||nb(n)||eb(n)||/windows phone/i.test(n)||JA(n)}function sb(n,t=[]){let e;switch(n){case"Browser":e=$0(ln());break;case"Worker":e=`${$0(ln())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Fo}/${r}`}class N2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=u=>new Promise((c,m)=>{try{const p=t(u);c(p)}catch(p){m(p)}});r.onAbort=e,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function O2(n,t={}){return qo(n,"GET","/v2/passwordPolicy",Mf(n,t))}const P2=6;class k2{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??P2,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class L2{constructor(t,e,r,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W0(this),this.idTokenSubscription=new W0(this),this.beforeStateQueue=new N2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ms(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Co.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await rf(this,{idToken:t}),r=await di._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(hi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===c)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await af(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=_2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(hi(this.app))return Promise.reject(pr(this));const e=t?ze(t):null;return e&&St(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return hi(this.app)?Promise.reject(pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return hi(this.app)?Promise.reject(pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ms(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await O2(this),e=new k2(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new zu("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await x2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ms(t)||this._popupRedirectResolver;St(e,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[ms(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,r,o);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=sb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&p2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Nf(n){return ze(n)}class W0{constructor(t){this.auth=t,this.observer=null,this.addObserver=iD(e=>this.observer=e)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Lg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function U2(n){Lg=n}function B2(n){return Lg.loadJS(n)}function z2(){return Lg.gapiScript}function j2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function F2(n,t){const e=Mg(n,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(ya(u,t??{}))return o;ys(o,"already-initialized")}return e.initialize({options:t})}function q2(n,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(ms);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t?.popupRedirectResolver)}function H2(n,t,e){const r=Nf(n);St(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=rb(t),{host:c,port:m}=G2(t),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},_=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){St(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),St(ya(g,r.config.emulator)&&ya(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,jo(c)?(NA(`${u}//${c}${p}`),OA("Auth",!0)):K2()}function rb(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function G2(n){const t=rb(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:Z0(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:Z0(c)}}}function Z0(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function K2(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class ab{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ds("not implemented")}_getIdTokenResponse(t){return ds("not implemented")}_linkToIdToken(t,e){return ds("not implemented")}_getReauthenticationResolver(t){return ds("not implemented")}}async function Io(n,t){return KA(n,"POST","/v1/accounts:signInWithIdp",Mf(n,t))}const Y2="http://localhost";class va extends ab{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new va(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ys("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=e;if(!r||!o)return null;const c=new va(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Io(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,Io(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Io(t,e)}buildRequest(){const t={requestUri:Y2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=ju(e)}return t}}class ob{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class qu extends ob{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class sr extends qu{constructor(){super("facebook.com")}static credential(t){return va._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return sr.credentialFromTaggedObject(t)}static credentialFromError(t){return sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return sr.credential(t.oauthAccessToken)}catch{return null}}}sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";sr.PROVIDER_ID="facebook.com";class rr extends qu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return va._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return rr.credential(e,r)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";class ar extends qu{constructor(){super("github.com")}static credential(t){return va._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ar.credential(t.oauthAccessToken)}catch{return null}}}ar.GITHUB_SIGN_IN_METHOD="github.com";ar.PROVIDER_ID="github.com";class or extends qu{constructor(){super("twitter.com")}static credential(t,e){return va._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return or.credentialFromTaggedObject(t)}static credentialFromError(t){return or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return or.credential(e,r)}catch{return null}}}or.TWITTER_SIGN_IN_METHOD="twitter.com";or.PROVIDER_ID="twitter.com";async function Q2(n,t){return KA(n,"POST","/v1/accounts:signUp",Mf(n,t))}class vr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,o=!1){const u=await di._fromIdTokenResponse(t,r,o),c=J0(r);return new vr({user:u,providerId:c,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const o=J0(r);return new vr({user:t,providerId:o,_tokenResponse:r,operationType:e})}}function J0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function X2(n){if(hi(n.app))return Promise.reject(pr(n));const t=Nf(n);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new vr({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await Q2(t,{returnSecureToken:!0}),r=await vr._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(r.user),r}class of extends Ss{constructor(t,e,r,o){super(e.code,e.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,of.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,o){return new of(t,e,r,o)}}function lb(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?of._fromErrorAndOperation(n,u,t,r):u})}async function $2(n,t,e=!1){const r=await bu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return vr._forOperation(n,"link",r)}async function W2(n,t,e=!1){const{auth:r}=n;if(hi(r.app))return Promise.reject(pr(r));const o="reauthenticate";try{const u=await bu(n,lb(r,o,t,n),e);St(u.idToken,r,"internal-error");const c=Pg(u.idToken);St(c,r,"internal-error");const{sub:m}=c;return St(n.uid===m,r,"user-mismatch"),vr._forOperation(n,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ys(r,"user-mismatch"),u}}async function Z2(n,t,e=!1){if(hi(n.app))return Promise.reject(pr(n));const r="signIn",o=await lb(n,r,t),u=await vr._fromIdTokenResponse(n,r,o);return e||await n._updateCurrentUser(u.user),u}function J2(n,t,e,r){return ze(n).onIdTokenChanged(t,e,r)}function tx(n,t,e){return ze(n).beforeAuthStateChanged(t,e)}function ex(n,t,e,r){return ze(n).onAuthStateChanged(t,e,r)}const lf="__sak";class ub{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(lf,"1"),this.storage.removeItem(lf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const nx=1e3,ix=10;class cb extends ub{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ib(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),o=this.localCache[e];r!==o&&t(e,o,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const r=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!e&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);M2()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,ix):o()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},nx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}cb.type="LOCAL";const sx=cb;class hb extends ub{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}hb.type="SESSION";const fb=hb;function rx(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Of{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const r=new Of(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:o,data:u}=e.data,c=this.handlersMap[o];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(c).map(async g=>g(e.origin,u)),p=await rx(m);e.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Of.receivers=[];function Ug(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}class ax{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=Ug("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function zi(){return window}function ox(n){zi().location.href=n}function db(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function lx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ux(){return navigator?.serviceWorker?.controller||null}function cx(){return db()?self:null}const mb="firebaseLocalStorageDb",hx=1,uf="firebaseLocalStorage",pb="fbase_key";class Hu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Pf(n,t){return n.transaction([uf],t?"readwrite":"readonly").objectStore(uf)}function fx(){const n=indexedDB.deleteDatabase(mb);return new Hu(n).toPromise()}function Fp(){const n=indexedDB.open(mb,hx);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(uf,{keyPath:pb})}catch(o){e(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(uf)?t(r):(r.close(),await fx(),t(await Fp()))})})}async function tE(n,t,e){const r=Pf(n,!0).put({[pb]:t,value:e});return new Hu(r).toPromise()}async function dx(n,t){const e=Pf(n,!1).get(t),r=await new Hu(e).toPromise();return r===void 0?null:r.value}function eE(n,t){const e=Pf(n,!0).delete(t);return new Hu(e).toPromise()}const mx=800,px=3;class gb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>px)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return db()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Of._getInstance(cx()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await lx(),!this.activeServiceWorker)return;this.sender=new ax(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||ux()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Fp();return await tE(t,lf,"1"),await eE(t,lf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>tE(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>dx(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>eE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Pf(o,!1).getAll();return new Hu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gb.type="LOCAL";const gx=gb;new Fu(3e4,6e4);function yx(n,t){return t?ms(t):(St(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Bg extends ab{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Io(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Io(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Io(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function _x(n){return Z2(n.auth,new Bg(n),n.bypassAuthState)}function vx(n){const{auth:t,user:e}=n;return St(e,t,"internal-error"),W2(e,new Bg(n),n.bypassAuthState)}async function Tx(n){const{auth:t,user:e}=n;return St(e,t,"internal-error"),$2(e,new Bg(n),n.bypassAuthState)}class yb{constructor(t,e,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:o,tenantId:u,error:c,type:m}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return _x;case"linkViaPopup":case"linkViaRedirect":return Tx;case"reauthViaPopup":case"reauthViaRedirect":return vx;default:ys(this.auth,"internal-error")}}resolve(t){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ex=new Fu(2e3,1e4);class To extends yb{constructor(t,e,r,o,u){super(t,e,o,u),this.provider=r,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const t=Ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Ex.get())};t()}}To.currentPopupAction=null;const Sx="pendingRedirect",qh=new Map;class Ax extends yb{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=qh.get(this.auth._key());if(!t){try{const r=await bx(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}qh.set(this.auth._key(),t)}return this.bypassAuthState||qh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bx(n,t){const e=Cx(t),r=Rx(n);if(!await r._isAvailable())return!1;const o=await r._get(e)==="true";return await r._remove(e),o}function wx(n,t){qh.set(n._key(),t)}function Rx(n){return ms(n._redirectPersistence)}function Cx(n){return Fh(Sx,n.config.apiKey,n.name)}async function Ix(n,t,e=!1){if(hi(n.app))return Promise.reject(pr(n));const r=Nf(n),o=yx(r,t),c=await new Ax(r,o,e).execute();return c&&!e&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}const Dx=600*1e3;class xx{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Vx(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!_b(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Bi(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Dx&&this.cachedEventUids.clear(),this.cachedEventUids.has(nE(t))}saveEventToCache(t){this.cachedEventUids.add(nE(t)),this.lastProcessedEventTime=Date.now()}}function nE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function _b({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function Vx(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _b(n);default:return!1}}async function Mx(n,t={}){return qo(n,"GET","/v1/projects",t)}const Nx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ox=/^https?/;async function Px(n){if(n.config.emulator)return;const{authorizedDomains:t}=await Mx(n);for(const e of t)try{if(kx(e))return}catch{}ys(n,"unauthorized-domain")}function kx(n){const t=zp(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===r}if(!Ox.test(e))return!1;if(Nx.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const Lx=new Fu(3e4,6e4);function iE(){const n=zi().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function Ux(n){return new Promise((t,e)=>{function r(){iE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{iE(),e(Bi(n,"network-request-failed"))},timeout:Lx.get()})}if(zi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(zi().gapi?.load)r();else{const o=j2("iframefcb");return zi()[o]=()=>{gapi.load?r():e(Bi(n,"network-request-failed"))},B2(`${z2()}?onload=${o}`).catch(u=>e(u))}}).catch(t=>{throw Hh=null,t})}let Hh=null;function Bx(n){return Hh=Hh||Ux(n),Hh}const zx=new Fu(5e3,15e3),jx="__/auth/iframe",Fx="emulator/auth/iframe",qx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gx(n){const t=n.config;St(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Og(t,Fx):`https://${n.config.authDomain}/${jx}`,r={apiKey:t.apiKey,appName:n.name,v:Fo},o=Hx.get(n.config.apiHost);o&&(r.eid=o);const u=n._getFrameworks();return u.length&&(r.fw=u.join(",")),`${e}?${ju(r).slice(1)}`}async function Kx(n){const t=await Bx(n),e=zi().gapi;return St(e,n,"internal-error"),t.open({where:document.body,url:Gx(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qx,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=Bi(n,"network-request-failed"),m=zi().setTimeout(()=>{u(c)},zx.get());function p(){zi().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{u(c)})}))}const Yx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qx=500,Xx=600,$x="_blank",Wx="http://localhost";class sE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Zx(n,t,e,r=Qx,o=Xx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...Yx,width:r.toString(),height:o.toString(),top:u,left:c},g=ln().toLowerCase();e&&(m=ZA(g)?$x:e),$A(g)&&(t=t||Wx,p.scrollbars="yes");const _=Object.entries(p).reduce((S,[I,P])=>`${S}${I}=${P},`,"");if(V2(g)&&m!=="_self")return Jx(t||"",m),new sE(null);const T=window.open(t||"",m,_);St(T,n,"popup-blocked");try{T.focus()}catch{}return new sE(T)}function Jx(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}const tV="__/auth/handler",eV="emulator/auth/handler",nV=encodeURIComponent("fac");async function rE(n,t,e,r,o,u){St(n.config.authDomain,n,"auth-domain-config-required"),St(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Fo,eventId:o};if(t instanceof ob){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",nD(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(t instanceof qu){const _=t.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const m=c;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await n._getAppCheckToken(),g=p?`#${nV}=${encodeURIComponent(p)}`:"";return`${iV(n)}?${ju(m).slice(1)}${g}`}function iV({config:n}){return n.emulator?Og(n,eV):`https://${n.authDomain}/${tV}`}const mp="webStorageSupport";class sV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fb,this._completeRedirectFn=Ix,this._overrideRedirectResult=wx}async _openPopup(t,e,r,o){_s(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await rE(t,e,r,zp(),o);return Zx(t,u,Ug())}async _openRedirect(t,e,r,o){await this._originValidation(t);const u=await rE(t,e,r,zp(),o);return ox(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(_s(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await Kx(t),r=new xx(t);return e.register("authEvent",o=>(St(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(mp,{type:mp},o=>{const u=o?.[0]?.[mp];u!==void 0&&e(!!u),ys(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=Px(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return ib()||WA()||kg()}}const rV=sV;var aE="@firebase/auth",oE="1.12.0";class aV{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function oV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lV(n){Mo(new _a("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;St(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sb(n)},g=new L2(r,o,u,p);return q2(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),Mo(new _a("auth-internal",t=>{const e=Nf(t.getProvider("auth").getImmediate());return(r=>new aV(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(aE,oE,oV(n)),mr(aE,oE,"esm2020")}const uV=300,cV=MA("authIdTokenMaxAge")||uV;let lE=null;const hV=n=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>cV)return;const o=e?.token;lE!==o&&(lE=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function fV(n=UA()){const t=Mg(n,"auth");if(t.isInitialized())return t.getImmediate();const e=F2(n,{popupRedirectResolver:rV,persistence:[gx,sx,fb]}),r=MA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=hV(u.toString());tx(e,c,()=>c(e.currentUser)),J2(e,m=>c(m))}}const o=xA("auth");return o&&H2(e,`http://${o}`),e}function dV(){return document.getElementsByTagName("head")?.[0]??document}U2({loadJS(n){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=o=>{const u=Bi("internal-error");u.customData=o,e(u)},r.type="text/javascript",r.charset="UTF-8",dV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lV("Browser");var mV="firebase",pV="12.8.0";mr(mV,pV,"app");var uE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gr,vb;(function(){var n;function t(C,w){function R(){}R.prototype=w.prototype,C.F=w.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(M,V,L){for(var D=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)D[ee-2]=arguments[ee];return w.prototype[V].apply(M,D)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,R){R||(R=0);const M=Array(16);if(typeof w=="string")for(var V=0;V<16;++V)M[V]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(V=0;V<16;++V)M[V]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=C.g[0],R=C.g[1],V=C.g[2];let L=C.g[3],D;D=w+(L^R&(V^L))+M[0]+3614090360&4294967295,w=R+(D<<7&4294967295|D>>>25),D=L+(V^w&(R^V))+M[1]+3905402710&4294967295,L=w+(D<<12&4294967295|D>>>20),D=V+(R^L&(w^R))+M[2]+606105819&4294967295,V=L+(D<<17&4294967295|D>>>15),D=R+(w^V&(L^w))+M[3]+3250441966&4294967295,R=V+(D<<22&4294967295|D>>>10),D=w+(L^R&(V^L))+M[4]+4118548399&4294967295,w=R+(D<<7&4294967295|D>>>25),D=L+(V^w&(R^V))+M[5]+1200080426&4294967295,L=w+(D<<12&4294967295|D>>>20),D=V+(R^L&(w^R))+M[6]+2821735955&4294967295,V=L+(D<<17&4294967295|D>>>15),D=R+(w^V&(L^w))+M[7]+4249261313&4294967295,R=V+(D<<22&4294967295|D>>>10),D=w+(L^R&(V^L))+M[8]+1770035416&4294967295,w=R+(D<<7&4294967295|D>>>25),D=L+(V^w&(R^V))+M[9]+2336552879&4294967295,L=w+(D<<12&4294967295|D>>>20),D=V+(R^L&(w^R))+M[10]+4294925233&4294967295,V=L+(D<<17&4294967295|D>>>15),D=R+(w^V&(L^w))+M[11]+2304563134&4294967295,R=V+(D<<22&4294967295|D>>>10),D=w+(L^R&(V^L))+M[12]+1804603682&4294967295,w=R+(D<<7&4294967295|D>>>25),D=L+(V^w&(R^V))+M[13]+4254626195&4294967295,L=w+(D<<12&4294967295|D>>>20),D=V+(R^L&(w^R))+M[14]+2792965006&4294967295,V=L+(D<<17&4294967295|D>>>15),D=R+(w^V&(L^w))+M[15]+1236535329&4294967295,R=V+(D<<22&4294967295|D>>>10),D=w+(V^L&(R^V))+M[1]+4129170786&4294967295,w=R+(D<<5&4294967295|D>>>27),D=L+(R^V&(w^R))+M[6]+3225465664&4294967295,L=w+(D<<9&4294967295|D>>>23),D=V+(w^R&(L^w))+M[11]+643717713&4294967295,V=L+(D<<14&4294967295|D>>>18),D=R+(L^w&(V^L))+M[0]+3921069994&4294967295,R=V+(D<<20&4294967295|D>>>12),D=w+(V^L&(R^V))+M[5]+3593408605&4294967295,w=R+(D<<5&4294967295|D>>>27),D=L+(R^V&(w^R))+M[10]+38016083&4294967295,L=w+(D<<9&4294967295|D>>>23),D=V+(w^R&(L^w))+M[15]+3634488961&4294967295,V=L+(D<<14&4294967295|D>>>18),D=R+(L^w&(V^L))+M[4]+3889429448&4294967295,R=V+(D<<20&4294967295|D>>>12),D=w+(V^L&(R^V))+M[9]+568446438&4294967295,w=R+(D<<5&4294967295|D>>>27),D=L+(R^V&(w^R))+M[14]+3275163606&4294967295,L=w+(D<<9&4294967295|D>>>23),D=V+(w^R&(L^w))+M[3]+4107603335&4294967295,V=L+(D<<14&4294967295|D>>>18),D=R+(L^w&(V^L))+M[8]+1163531501&4294967295,R=V+(D<<20&4294967295|D>>>12),D=w+(V^L&(R^V))+M[13]+2850285829&4294967295,w=R+(D<<5&4294967295|D>>>27),D=L+(R^V&(w^R))+M[2]+4243563512&4294967295,L=w+(D<<9&4294967295|D>>>23),D=V+(w^R&(L^w))+M[7]+1735328473&4294967295,V=L+(D<<14&4294967295|D>>>18),D=R+(L^w&(V^L))+M[12]+2368359562&4294967295,R=V+(D<<20&4294967295|D>>>12),D=w+(R^V^L)+M[5]+4294588738&4294967295,w=R+(D<<4&4294967295|D>>>28),D=L+(w^R^V)+M[8]+2272392833&4294967295,L=w+(D<<11&4294967295|D>>>21),D=V+(L^w^R)+M[11]+1839030562&4294967295,V=L+(D<<16&4294967295|D>>>16),D=R+(V^L^w)+M[14]+4259657740&4294967295,R=V+(D<<23&4294967295|D>>>9),D=w+(R^V^L)+M[1]+2763975236&4294967295,w=R+(D<<4&4294967295|D>>>28),D=L+(w^R^V)+M[4]+1272893353&4294967295,L=w+(D<<11&4294967295|D>>>21),D=V+(L^w^R)+M[7]+4139469664&4294967295,V=L+(D<<16&4294967295|D>>>16),D=R+(V^L^w)+M[10]+3200236656&4294967295,R=V+(D<<23&4294967295|D>>>9),D=w+(R^V^L)+M[13]+681279174&4294967295,w=R+(D<<4&4294967295|D>>>28),D=L+(w^R^V)+M[0]+3936430074&4294967295,L=w+(D<<11&4294967295|D>>>21),D=V+(L^w^R)+M[3]+3572445317&4294967295,V=L+(D<<16&4294967295|D>>>16),D=R+(V^L^w)+M[6]+76029189&4294967295,R=V+(D<<23&4294967295|D>>>9),D=w+(R^V^L)+M[9]+3654602809&4294967295,w=R+(D<<4&4294967295|D>>>28),D=L+(w^R^V)+M[12]+3873151461&4294967295,L=w+(D<<11&4294967295|D>>>21),D=V+(L^w^R)+M[15]+530742520&4294967295,V=L+(D<<16&4294967295|D>>>16),D=R+(V^L^w)+M[2]+3299628645&4294967295,R=V+(D<<23&4294967295|D>>>9),D=w+(V^(R|~L))+M[0]+4096336452&4294967295,w=R+(D<<6&4294967295|D>>>26),D=L+(R^(w|~V))+M[7]+1126891415&4294967295,L=w+(D<<10&4294967295|D>>>22),D=V+(w^(L|~R))+M[14]+2878612391&4294967295,V=L+(D<<15&4294967295|D>>>17),D=R+(L^(V|~w))+M[5]+4237533241&4294967295,R=V+(D<<21&4294967295|D>>>11),D=w+(V^(R|~L))+M[12]+1700485571&4294967295,w=R+(D<<6&4294967295|D>>>26),D=L+(R^(w|~V))+M[3]+2399980690&4294967295,L=w+(D<<10&4294967295|D>>>22),D=V+(w^(L|~R))+M[10]+4293915773&4294967295,V=L+(D<<15&4294967295|D>>>17),D=R+(L^(V|~w))+M[1]+2240044497&4294967295,R=V+(D<<21&4294967295|D>>>11),D=w+(V^(R|~L))+M[8]+1873313359&4294967295,w=R+(D<<6&4294967295|D>>>26),D=L+(R^(w|~V))+M[15]+4264355552&4294967295,L=w+(D<<10&4294967295|D>>>22),D=V+(w^(L|~R))+M[6]+2734768916&4294967295,V=L+(D<<15&4294967295|D>>>17),D=R+(L^(V|~w))+M[13]+1309151649&4294967295,R=V+(D<<21&4294967295|D>>>11),D=w+(V^(R|~L))+M[4]+4149444226&4294967295,w=R+(D<<6&4294967295|D>>>26),D=L+(R^(w|~V))+M[11]+3174756917&4294967295,L=w+(D<<10&4294967295|D>>>22),D=V+(w^(L|~R))+M[2]+718787259&4294967295,V=L+(D<<15&4294967295|D>>>17),D=R+(L^(V|~w))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+L&4294967295}r.prototype.v=function(C,w){w===void 0&&(w=C.length);const R=w-this.blockSize,M=this.C;let V=this.h,L=0;for(;L<w;){if(V==0)for(;L<=R;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<w;)if(M[V++]=C.charCodeAt(L++),V==this.blockSize){o(this,M),V=0;break}}else for(;L<w;)if(M[V++]=C[L++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=w},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)C[w++]=this.g[R]>>>M&255;return C};function u(C,w){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=w(C)}function c(C,w){this.h=w;const R=[];let M=!0;for(let V=C.length-1;V>=0;V--){const L=C[V]|0;M&&L==w||(R[V]=L,M=!1)}this.g=R}var m={};function p(C){return-128<=C&&C<128?u(C,function(w){return new c([w|0],w<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return j(g(-C));const w=[];let R=1;for(let M=0;C>=R;M++)w[M]=C/R|0,R*=4294967296;return new c(w,0)}function _(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return j(_(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(w,8));let M=T;for(let L=0;L<C.length;L+=8){var V=Math.min(8,C.length-L);const D=parseInt(C.substring(L,L+V),w);V<8?(V=g(Math.pow(w,V)),M=M.j(V).add(g(D))):(M=M.j(R),M=M.add(g(D)))}return M}var T=p(0),S=p(1),I=p(16777216);n=c.prototype,n.m=function(){if(q(this))return-j(this).m();let C=0,w=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);C+=(M>=0?M:4294967296+M)*w,w*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(P(this))return"0";if(q(this))return"-"+j(this).toString(C);const w=g(Math.pow(C,6));var R=this;let M="";for(;;){const V=rt(R,w).g;R=F(R,V.j(w));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=V,P(R))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function P(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function q(C){return C.h==-1}n.l=function(C){return C=F(this,C),q(C)?-1:P(C)?0:1};function j(C){const w=C.g.length,R=[];for(let M=0;M<w;M++)R[M]=~C.g[M];return new c(R,~C.h).add(S)}n.abs=function(){return q(this)?j(this):this},n.add=function(C){const w=Math.max(this.g.length,C.g.length),R=[];let M=0;for(let V=0;V<=w;V++){let L=M+(this.i(V)&65535)+(C.i(V)&65535),D=(L>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);M=D>>>16,L&=65535,D&=65535,R[V]=D<<16|L}return new c(R,R[R.length-1]&-2147483648?-1:0)};function F(C,w){return C.add(j(w))}n.j=function(C){if(P(this)||P(C))return T;if(q(this))return q(C)?j(this).j(j(C)):j(j(this).j(C));if(q(C))return j(this.j(j(C)));if(this.l(I)<0&&C.l(I)<0)return g(this.m()*C.m());const w=this.g.length+C.g.length,R=[];for(var M=0;M<2*w;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<C.g.length;V++){const L=this.i(M)>>>16,D=this.i(M)&65535,ee=C.i(V)>>>16,fe=C.i(V)&65535;R[2*M+2*V]+=D*fe,Z(R,2*M+2*V),R[2*M+2*V+1]+=L*fe,Z(R,2*M+2*V+1),R[2*M+2*V+1]+=D*ee,Z(R,2*M+2*V+1),R[2*M+2*V+2]+=L*ee,Z(R,2*M+2*V+2)}for(C=0;C<w;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=w;C<2*w;C++)R[C]=0;return new c(R,0)};function Z(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function Y(C,w){this.g=C,this.h=w}function rt(C,w){if(P(w))throw Error("division by zero");if(P(C))return new Y(T,T);if(q(C))return w=rt(j(C),w),new Y(j(w.g),j(w.h));if(q(w))return w=rt(C,j(w)),new Y(j(w.g),w.h);if(C.g.length>30){if(q(C)||q(w))throw Error("slowDivide_ only works with positive integers.");for(var R=S,M=w;M.l(C)<=0;)R=ot(R),M=ot(M);var V=dt(R,1),L=dt(M,1);for(M=dt(M,2),R=dt(R,2);!P(M);){var D=L.add(M);D.l(C)<=0&&(V=V.add(R),L=D),M=dt(M,1),R=dt(R,1)}return w=F(C,V.j(w)),new Y(V,w)}for(V=T;C.l(w)>=0;){for(R=Math.max(1,Math.floor(C.m()/w.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=g(R),D=L.j(w);q(D)||D.l(C)>0;)R-=M,L=g(R),D=L.j(w);P(L)&&(L=S),V=V.add(L),C=F(C,D)}return new Y(V,C)}n.B=function(C){return rt(this,C).h},n.and=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)&C.i(M);return new c(R,this.h&C.h)},n.or=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)|C.i(M);return new c(R,this.h|C.h)},n.xor=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)^C.i(M);return new c(R,this.h^C.h)};function ot(C){const w=C.g.length+1,R=[];for(let M=0;M<w;M++)R[M]=C.i(M)<<1|C.i(M-1)>>>31;return new c(R,C.h)}function dt(C,w){const R=w>>5;w%=32;const M=C.g.length-R,V=[];for(let L=0;L<M;L++)V[L]=w>0?C.i(L+R)>>>w|C.i(L+R+1)<<32-w:C.i(L+R);return new c(V,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,vb=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,gr=c}).apply(typeof uE<"u"?uE:typeof self<"u"?self:typeof window<"u"?window:{});var Mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Tb,ou,Eb,Gh,qp,Sb,Ab,bb;(function(){var n,t=Object.defineProperty;function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mh=="object"&&Mh];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=e(this);function o(h,y){if(y)t:{var E=r;h=h.split(".");for(var b=0;b<h.length-1;b++){var U=h[b];if(!(U in E))break t;E=E[U]}h=h[h.length-1],b=E[h],y=y(b),y!=b&&y!=null&&t(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],b;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&E.push([b,y[b]]);return E}});var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,E){return h.call.apply(h.bind,arguments)}function g(h,y,E){return g=p,g.apply(null,arguments)}function _(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function T(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(b,U,G){for(var at=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)at[Rt-2]=arguments[Rt];return y.prototype[U].apply(b,at)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function I(h){const y=h.length;if(y>0){const E=Array(y);for(let b=0;b<y;b++)E[b]=h[b];return E}return[]}function P(h,y){for(let b=1;b<arguments.length;b++){const U=arguments[b];var E=typeof U;if(E=E!="object"?E:U?Array.isArray(U)?"array":E:"null",E=="array"||E=="object"&&typeof U.length=="number"){E=h.length||0;const G=U.length||0;h.length=E+G;for(let at=0;at<G;at++)h[E+at]=U[at]}else h.push(U)}}class q{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function j(h){c.setTimeout(()=>{throw h},0)}function F(){var h=C;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Z{constructor(){this.h=this.g=null}add(y,E){const b=Y.get();b.set(y,E),this.h?this.h.next=b:this.g=b,this.h=b}}var Y=new q(()=>new rt,h=>h.reset());class rt{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,dt=!1,C=new Z,w=()=>{const h=Promise.resolve(void 0);ot=()=>{h.then(R)}};function R(){for(var h;h=F();){try{h.h.call(h.g)}catch(E){j(E)}var y=Y;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}dt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function ee(h,y){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(ee,V),ee.prototype.init=function(h,y){const E=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),X=0;function it(h,y,E,b,U){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!b,this.ha=U,this.key=++X,this.da=this.fa=!1}function ft(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function It(h,y,E){for(const b in h)y.call(E,h[b],b,h)}function Nt(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function O(h){const y={};for(const E in h)y[E]=h[E];return y}const tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(h,y){let E,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(E in b)h[E]=b[E];for(let G=0;G<tt.length;G++)E=tt[G],Object.prototype.hasOwnProperty.call(b,E)&&(h[E]=b[E])}}function ht(h){this.src=h,this.g={},this.h=0}ht.prototype.add=function(h,y,E,b,U){const G=h.toString();h=this.g[G],h||(h=this.g[G]=[],this.h++);const at=Dt(h,y,b,U);return at>-1?(y=h[at],E||(y.fa=!1)):(y=new it(y,this.src,G,!!b,U),y.fa=E,h.push(y)),y};function At(h,y){const E=y.type;if(E in h.g){var b=h.g[E],U=Array.prototype.indexOf.call(b,y,void 0),G;(G=U>=0)&&Array.prototype.splice.call(b,U,1),G&&(ft(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Dt(h,y,E,b){for(let U=0;U<h.length;++U){const G=h[U];if(!G.da&&G.listener==y&&G.capture==!!E&&G.ha==b)return U}return-1}var zt="closure_lm_"+(Math.random()*1e6|0),Pe={};function oe(h,y,E,b,U){if(Array.isArray(y)){for(let G=0;G<y.length;G++)oe(h,y[G],E,b,U);return null}return E=el(E),h&&h[fe]?h.J(y,E,m(b)?!!b.capture:!1,U):Mr(h,y,E,!1,b,U)}function Mr(h,y,E,b,U,G){if(!y)throw Error("Invalid event type");const at=m(U)?!!U.capture:!!U;let Rt=Nr(h);if(Rt||(h[zt]=Rt=new ht(h)),E=Rt.add(y,E,b,at,G),E.proxy)return E;if(b=wa(),E.proxy=b,b.src=h,b.listener=E,h.addEventListener)L||(U=at),U===void 0&&(U=!1),h.addEventListener(y.toString(),b,U);else if(h.attachEvent)h.attachEvent(gi(y.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function wa(){function h(E){return y.call(h.src,h.listener,E)}const y=Jo;return h}function Ra(h,y,E,b,U){if(Array.isArray(y))for(var G=0;G<y.length;G++)Ra(h,y[G],E,b,U);else b=m(b)?!!b.capture:!!b,E=el(E),h&&h[fe]?(h=h.i,G=String(y).toString(),G in h.g&&(y=h.g[G],E=Dt(y,E,b,U),E>-1&&(ft(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[G],h.h--)))):h&&(h=Nr(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Dt(y,E,b,U)),(E=h>-1?y[h]:null)&&Ca(E))}function Ca(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[fe])At(y.i,h);else{var E=h.type,b=h.proxy;y.removeEventListener?y.removeEventListener(E,b,h.capture):y.detachEvent?y.detachEvent(gi(E),b):y.addListener&&y.removeListener&&y.removeListener(b),(E=Nr(y))?(At(E,h),E.h==0&&(E.src=null,y[zt]=null)):ft(h)}}}function gi(h){return h in Pe?Pe[h]:Pe[h]="on"+h}function Jo(h,y){if(h.da)h=!0;else{y=new ee(y,this);const E=h.listener,b=h.ha||h.src;h.fa&&Ca(h),h=E.call(b,y)}return h}function Nr(h){return h=h[zt],h instanceof ht?h:null}var tl="__closure_events_fn_"+(Math.random()*1e9>>>0);function el(h){return typeof h=="function"?h:(h[tl]||(h[tl]=function(y){return h.handleEvent(y)}),h[tl])}function Se(){M.call(this),this.i=new ht(this),this.M=this,this.G=null}T(Se,M),Se.prototype[fe]=!0,Se.prototype.removeEventListener=function(h,y,E,b){Ra(this,h,y,E,b)};function ke(h,y){var E,b=h.G;if(b)for(E=[];b;b=b.G)E.push(b);if(h=h.M,b=y.type||y,typeof y=="string")y=new V(y,h);else if(y instanceof V)y.target=y.target||h;else{var U=y;y=new V(b,h),ut(y,U)}U=!0;let G,at;if(E)for(at=E.length-1;at>=0;at--)G=y.g=E[at],U=As(G,b,!0,y)&&U;if(G=y.g=h,U=As(G,b,!0,y)&&U,U=As(G,b,!1,y)&&U,E)for(at=0;at<E.length;at++)G=y.g=E[at],U=As(G,b,!1,y)&&U}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let b=0;b<E.length;b++)ft(E[b]);delete h.g[y],h.h--}}this.G=null},Se.prototype.J=function(h,y,E,b){return this.i.add(String(h),y,!1,E,b)},Se.prototype.K=function(h,y,E,b){return this.i.add(String(h),y,!0,E,b)};function As(h,y,E,b){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let U=!0;for(let G=0;G<y.length;++G){const at=y[G];if(at&&!at.da&&at.capture==E){const Rt=at.listener,ye=at.ha||at.src;at.fa&&At(h.i,at),U=Rt.call(ye,b)!==!1&&U}}return U&&!b.defaultPrevented}function sd(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function nc(h){h.g=sd(()=>{h.g=null,h.i&&(h.i=!1,nc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class un extends M{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:nc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(h){M.call(this),this.h=h,this.g={}}T(Or,M);var nl=[];function il(h){It(h.g,function(y,E){this.g.hasOwnProperty(E)&&Ca(y)},h),h.g={}}Or.prototype.N=function(){Or.Z.N.call(this),il(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bs=c.JSON.stringify,rd=c.JSON.parse,ic=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function sc(){}function rc(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ke(){V.call(this,"d")}T(Ke,V);function Pn(){V.call(this,"c")}T(Pn,V);var ge={},ac=null;function Ia(){return ac=ac||new Se}ge.Ia="serverreachability";function oc(h){V.call(this,ge.Ia,h)}T(oc,V);function yi(h){const y=Ia();ke(y,new oc(y))}ge.STAT_EVENT="statevent";function Pr(h,y){V.call(this,ge.STAT_EVENT,h),this.stat=y}T(Pr,V);function Ae(h){const y=Ia();ke(y,new Pr(y,h))}ge.Ja="timingevent";function _i(h,y){V.call(this,ge.Ja,h),this.size=y}T(_i,V);function vi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function ad(h,y,E,b,U,G){h.info(function(){if(h.g)if(G){var at="",Rt=G.split("&");for(let Gt=0;Gt<Rt.length;Gt++){var ye=Rt[Gt].split("=");if(ye.length>1){const le=ye[0];ye=ye[1];const Bn=le.split("_");at=Bn.length>=2&&Bn[1]=="type"?at+(le+"="+ye+"&"):at+(le+"=redacted&")}}}else at=null;else at=G;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+y+`
`+E+`
`+at})}function lc(h,y,E,b,U,G,at){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+y+`
`+E+`
`+G+" "+at})}function Ti(h,y,E,b){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+od(h,E)+(b?" "+b:"")})}function kr(h,y){h.info(function(){return"TIMEOUT: "+y})}Zn.prototype.info=function(){};function od(h,y){if(!h.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(h=0;h<G.length;h++)if(Array.isArray(G[h])){var E=G[h];if(!(E.length<2)){var b=E[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let at=1;at<b.length;at++)b[at]=""}}}}return bs(G)}catch{return y}}var Lr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},sl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},rl;function Ur(){}T(Ur,sc),Ur.prototype.g=function(){return new XMLHttpRequest},rl=new Ur;function Qi(h){return encodeURIComponent(String(h))}function uc(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function Jn(h,y,E,b){this.j=h,this.i=y,this.l=E,this.S=b||1,this.V=new Or(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ti}function ti(){this.i=null,this.g="",this.h=!1}var be={},je={};function Ei(h,y,E){h.M=1,h.A=Br(Re(y)),h.u=E,h.R=!0,Da(h,null)}function Da(h,y){h.F=Date.now(),Si(h),h.B=Re(h.A);var E=h.B,b=h.S;Array.isArray(b)||(b=[String(b)]),Na(E.i,"t",b),h.C=0,E=h.j.L,h.h=new ti,h.g=bc(h.j,E?y:null,!h.u),h.P>0&&(h.O=new un(g(h.Y,h,h.g),h.P)),y=h.V,E=h.g,b=h.ba;var U="readystatechange";Array.isArray(U)||(U&&(nl[0]=U.toString()),U=nl);for(let G=0;G<U.length;G++){const at=oe(E,U[G],b||y.handleEvent,!1,y.h||y);if(!at)break;y.g[at.key]=at}y=h.J?O(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),yi(),ad(h.i,h.v,h.B,h.l,h.S,h.u)}Jn.prototype.ba=function(h){h=h.target;const y=this.O;y&&ii(h)==3?y.j():this.Y(h)},Jn.prototype.Y=function(h){try{if(h==this.g)t:{const Rt=ii(this.g),ye=this.g.ya(),Gt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Ye(this.g)))){this.K||Rt!=4||ye==7||(ye==8||Gt<=0?yi(3):yi(2)),Ai(this);var y=this.g.ca();this.X=y;var E=ld(this);if(this.o=y==200,lc(this.i,this.v,this.B,this.l,this.S,Rt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(b)){var G=b;break e}}G=null}if(h=G)Ti(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,h);else{this.o=!1,this.m=3,Ae(12),An(this),kn(this);break t}}if(this.R){h=!0;let le;for(;!this.K&&this.C<E.length;)if(le=hc(this,E),le==je){Rt==4&&(this.m=4,Ae(14),h=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(le==be){this.m=4,Ae(15),Ti(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Ti(this.i,this.l,le,null),bi(this,le);if(cc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||E.length!=0||this.h.h||(this.m=1,Ae(16),h=!1),this.o=this.o&&h,!h)Ti(this.i,this.l,E,"[Invalid Chunked Response]"),An(this),kn(this);else if(E.length>0&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.aa&&!at.P&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Tl(at),at.P=!0,Ae(11))}}else Ti(this.i,this.l,E,null),bi(this,E);Rt==4&&An(this),this.o&&!this.K&&(Rt==4?Tc(this.j,this):(this.o=!1,Si(this)))}else $i(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),An(this),kn(this)}}}catch{}};function ld(h){if(!cc(h))return h.g.la();const y=Ye(h.g);if(y==="")return"";let E="";const b=y.length,U=ii(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return An(h),kn(h),"";h.h.i=new c.TextDecoder}for(let G=0;G<b;G++)h.h.h=!0,E+=h.h.i.decode(y[G],{stream:!(U&&G==b-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function cc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function hc(h,y){var E=h.C,b=y.indexOf(`
`,E);return b==-1?je:(E=Number(y.substring(E,b)),isNaN(E)?be:(b+=1,b+E>y.length?je:(y=y.slice(b,b+E),h.C=b+E,y)))}Jn.prototype.cancel=function(){this.K=!0,An(this)};function Si(h){h.T=Date.now()+h.H,xa(h,h.H)}function xa(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=vi(g(h.aa,h),y)}function Ai(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Jn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(kr(this.i,this.B),this.M!=2&&(yi(),Ae(17)),An(this),this.m=2,kn(this)):xa(this,this.T-h)};function kn(h){h.j.I==0||h.K||Tc(h.j,h)}function An(h){Ai(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,il(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function bi(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||Ri(E.h,h))){if(!h.L&&Ri(E.h,h)&&E.I==3){try{var b=E.Ba.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Ua(E),Ms(E);else break t;Kr(E),Ae(18)}}else E.xa=U[1],0<E.xa-E.K&&U[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=vi(g(E.Va,E),6e3));wi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Mi(E,11)}else if((h.L||E.g==h)&&Ua(E),!D(y))for(U=E.Ba.g.parse(y),y=0;y<U.length;y++){let Gt=U[y];const le=Gt[0];if(!(le<=E.K))if(E.K=le,Gt=Gt[1],E.I==2)if(Gt[0]=="c"){E.M=Gt[1],E.ba=Gt[2];const Bn=Gt[3];Bn!=null&&(E.ka=Bn,E.j.info("VER="+E.ka));const Ni=Gt[4];Ni!=null&&(E.za=Ni,E.j.info("SVER="+E.za));const si=Gt[5];si!=null&&typeof si=="number"&&si>0&&(b=1.5*si,E.O=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const ri=h.g;if(ri){const Yr=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yr){var G=b.h;G.g||Yr.indexOf("spdy")==-1&&Yr.indexOf("quic")==-1&&Yr.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ll(G,G.h),G.h=null))}if(b.G){const Ba=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;Ba&&(b.wa=Ba,Yt(b.J,b.G,Ba))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),b=E;var at=h;if(b.na=Ac(b,b.L?b.ba:null,b.W),at.L){ul(b.h,at);var Rt=at,ye=b.O;ye&&(Rt.H=ye),Rt.D&&(Ai(Rt),Si(Rt)),b.g=at}else _c(b);E.i.length>0&&Vi(E)}else Gt[0]!="stop"&&Gt[0]!="close"||Mi(E,7);else E.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?Mi(E,7):_l(E):Gt[0]!="noop"&&E.l&&E.l.qa(Gt),E.A=0)}}yi(4)}catch{}}var we=class{constructor(h,y){this.g=h,this.map=y}};function al(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ol(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function wi(h){return h.h?1:h.g?h.g.size:0}function Ri(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function ll(h,y){h.g?h.g.add(y):h.h=y}function ul(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}al.prototype.cancel=function(){if(this.i=cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function cl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return I(h.i)}var fc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Va(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const b=h[E].indexOf("=");let U,G=null;b>=0?(U=h[E].substring(0,b),G=h[E].substring(b+1)):U=h[E],y(U,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function bn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof bn?(this.l=h.l,Fe(this,h.j),this.o=h.o,this.g=h.g,ws(this,h.u),this.h=h.h,hl(this,gc(h.i)),this.m=h.m):h&&(y=String(h).match(fc))?(this.l=!1,Fe(this,y[1]||"",!0),this.o=Ci(y[2]||""),this.g=Ci(y[3]||"",!0),ws(this,y[4]),this.h=Ci(y[5]||"",!0),hl(this,y[6]||"",!0),this.m=Ci(y[7]||"")):(this.l=!1,this.i=new Cs(null,this.l))}bn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(zr(y,Ma,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(zr(y,Ma,!0),"@"),h.push(Qi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(zr(E,E.charAt(0)=="/"?fl:dc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",zr(E,mc)),h.join("")},bn.prototype.resolve=function(h){const y=Re(this);let E=!!h.j;E?Fe(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var b=h.h;if(E)ws(y,h.u);else if(E=!!h.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=y.h.lastIndexOf("/");U!=-1&&(b=y.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const G=[];for(let at=0;at<U.length;){const Rt=U[at++];Rt=="."?b&&at==U.length&&G.push(""):Rt==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),b&&at==U.length&&G.push("")):(G.push(Rt),b=!0)}b=G.join("/")}else b=U}return E?y.h=b:E=h.i.toString()!=="",E?hl(y,gc(h.i)):E=!!h.m,E&&(y.m=h.m),y};function Re(h){return new bn(h)}function Fe(h,y,E){h.j=E?Ci(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function ws(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function hl(h,y,E){y instanceof Cs?(h.i=y,Oa(h.i,h.l)):(E||(y=zr(y,Rs)),h.i=new Cs(y,h.l))}function Yt(h,y,E){h.i.set(y,E)}function Br(h){return Yt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ci(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function zr(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,pn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function pn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ma=/[#\/\?@]/g,dc=/[#\?:]/g,fl=/[#\?]/g,Rs=/[#\?@]/g,mc=/#/g;function Cs(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function gn(h){h.g||(h.g=new Map,h.h=0,h.i&&Va(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=Cs.prototype,n.add=function(h,y){gn(this),this.i=null,h=Is(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function pc(h,y){gn(h),y=Is(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function dl(h,y){return gn(h),y=Is(h,y),h.g.has(y)}n.forEach=function(h,y){gn(this),this.g.forEach(function(E,b){E.forEach(function(U){h.call(y,U,b,this)},this)},this)};function ml(h,y){gn(h);let E=[];if(typeof y=="string")dl(h,y)&&(E=E.concat(h.g.get(Is(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}n.set=function(h,y){return gn(this),this.i=null,h=Is(this,h),dl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=ml(this,h),h.length>0?String(h[0]):y):y};function Na(h,y,E){pc(h,y),E.length>0&&(h.i=null,h.g.set(Is(h,y),I(E)),h.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let b=0;b<y.length;b++){var E=y[b];const U=Qi(E);E=ml(this,E);for(let G=0;G<E.length;G++){let at=U;E[G]!==""&&(at+="="+Qi(E[G])),h.push(at)}}return this.i=h.join("&")};function gc(h){const y=new Cs;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Is(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Oa(h,y){y&&!h.j&&(gn(h),h.i=null,h.g.forEach(function(E,b){const U=b.toLowerCase();b!=U&&(pc(this,b),Na(this,U,E))},h)),h.j=y}function ei(h,y){const E=new Zn;if(c.Image){const b=new Image;b.onload=_(Ln,E,"TestLoadImage: loaded",!0,y,b),b.onerror=_(Ln,E,"TestLoadImage: error",!1,y,b),b.onabort=_(Ln,E,"TestLoadImage: abort",!1,y,b),b.ontimeout=_(Ln,E,"TestLoadImage: timeout",!1,y,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else y(!1)}function pl(h,y){const E=new Zn,b=new AbortController,U=setTimeout(()=>{b.abort(),Ln(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:b.signal}).then(G=>{clearTimeout(U),G.ok?Ln(E,"TestPingServer: ok",!0,y):Ln(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Ln(E,"TestPingServer: error",!1,y)})}function Ln(h,y,E,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(E)}catch{}}function Ds(){this.g=new ic}function Ii(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Ii,sc),Ii.prototype.g=function(){return new jr(this.i,this.h)};function jr(h,y){Se.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(jr,Se),n=jr.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ni(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xs(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Pa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Pa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?xs(this):ni(this),this.readyState==3&&Pa(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,xs(this))},n.Na=function(h){this.g&&(this.response=h,xs(this))},n.ga=function(){this.g&&xs(this)};function xs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ni(h)}n.setRequestHeader=function(h,y){this.A.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function ni(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Un(h){let y="";return It(h,function(E,b){y+=b,y+=":",y+=E,y+=`\r
`}),y}function Fr(h,y,E){t:{for(b in E){var b=!1;break t}b=!0}b||(E=Un(E),typeof h=="string"?E!=null&&Qi(E):Yt(h,y,E))}function $t(h){Se.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T($t,Se);var Di=/^https?$/i,gl=["POST","PUT"];n=$t.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,y,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():rl.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(G){qr(this,G);return}if(h=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)E.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())E.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(G=>G.toLowerCase()=="content-type"),U=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(gl,y,void 0)>=0)||b||U||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,at]of E)this.g.setRequestHeader(G,at);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(G){qr(this,G)}};function qr(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,yl(h),Xi(h)}function yl(h){h.A||(h.A=!0,ke(h,"complete"),ke(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,ke(this,"complete"),ke(this,"abort"),Xi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),$t.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Hr(this):this.Xa())},n.Xa=function(){Hr(this)};function Hr(h){if(h.h&&typeof u<"u"){if(h.v&&ii(h)==4)setTimeout(h.Ca.bind(h),0);else if(ke(h,"readystatechange"),ii(h)==4){h.h=!1;try{const G=h.ca();t:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var E;if(!(E=y)){var b;if(b=G===0){let at=String(h.D).match(fc)[1]||null;!at&&c.self&&c.self.location&&(at=c.self.location.protocol.slice(0,-1)),b=!Di.test(at?at.toLowerCase():"")}E=b}if(E)ke(h,"complete"),ke(h,"success");else{h.o=6;try{var U=ii(h)>2?h.g.statusText:""}catch{U=""}h.l=U+" ["+h.ca()+"]",yl(h)}}finally{Xi(h)}}}}function Xi(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||ke(h,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ii(h){return h.g?h.g.readyState:0}n.ca=function(){try{return ii(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),rd(y)}};function Ye(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(h){const y={};h=(h.g&&ii(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(D(h[b]))continue;var E=uc(h[b]);const U=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const G=y[U]||[];y[U]=G,G.push(E)}Nt(y,function(b){return b.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function Vs(h){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,h),this.Za=xi("retryDelaySeedMs",1e4,h),this.Ta=xi("forwardChannelMaxRetries",2,h),this.va=xi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new al(h&&h.concurrentRequestLimit),this.Ba=new Ds,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Vs.prototype,n.ka=8,n.I=1,n.connect=function(h,y,E,b){Ae(0),this.W=h,this.H=y||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.J=Ac(this,null,this.W),Vi(this)};function _l(h){if(ka(h),h.I==3){var y=h.V++,E=Re(h.J);if(Yt(E,"SID",h.M),Yt(E,"RID",y),Yt(E,"TYPE","terminate"),Gr(h,E),y=new Jn(h,h.j,y),y.M=2,y.A=Br(Re(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=bc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Si(y)}Sc(h)}function Ms(h){h.g&&(Tl(h),h.g.cancel(),h.g=null)}function ka(h){Ms(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ua(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Vi(h){if(!ol(h.h)&&!h.m){h.m=!0;var y=h.Ea;ot||w(),dt||(ot(),dt=!0),C.add(y,h),h.D=0}}function La(h,y){return wi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=vi(g(h.Ea,h,y),Ec(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const U=new Jn(this,this.j,h);let G=this.o;if(this.U&&(G?(G=O(G),ut(G,this.U)):G=this.U),this.u!==null||this.R||(U.J=G,G=null),this.S)t:{for(var y=0,E=0;E<this.i.length;E++){e:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,y>4096){y=E;break t}if(y===4096||E===this.i.length-1){y=E+1;break t}}y=1e3}else y=1e3;y=yc(this,U,y),E=Re(this.J),Yt(E,"RID",h),Yt(E,"CVER",22),this.G&&Yt(E,"X-HTTP-Session-Id",this.G),Gr(this,E),G&&(this.R?y="headers="+Qi(Un(G))+"&"+y:this.u&&Fr(E,this.u,G)),ll(this.h,U),this.Ra&&Yt(E,"TYPE","init"),this.S?(Yt(E,"$req",y),Yt(E,"SID","null"),U.U=!0,Ei(U,E,null)):Ei(U,E,y),this.I=2}}else this.I==3&&(h?vl(this,h):this.i.length==0||ol(this.h)||vl(this))};function vl(h,y){var E;y?E=y.l:E=h.V++;const b=Re(h.J);Yt(b,"SID",h.M),Yt(b,"RID",E),Yt(b,"AID",h.K),Gr(h,b),h.u&&h.o&&Fr(b,h.u,h.o),E=new Jn(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=yc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ll(h.h,E),Ei(E,b,y)}function Gr(h,y){h.H&&It(h.H,function(E,b){Yt(y,b,E)}),h.l&&It({},function(E,b){Yt(y,b,E)})}function yc(h,y,E){E=Math.min(h.i.length,E);const b=h.l?g(h.l.Ka,h.l,h):null;t:{var U=h.i;let Rt=-1;for(;;){const ye=["count="+E];Rt==-1?E>0?(Rt=U[0].g,ye.push("ofs="+Rt)):Rt=0:ye.push("ofs="+Rt);let Gt=!0;for(let le=0;le<E;le++){var G=U[le].g;const Bn=U[le].map;if(G-=Rt,G<0)Rt=Math.max(0,U[le].g-100),Gt=!1;else try{G="req"+G+"_"||"";try{var at=Bn instanceof Map?Bn:Object.entries(Bn);for(const[Ni,si]of at){let ri=si;m(si)&&(ri=bs(si)),ye.push(G+Ni+"="+encodeURIComponent(ri))}}catch(Ni){throw ye.push(G+"type="+encodeURIComponent("_badmap")),Ni}}catch{b&&b(Bn)}}if(Gt){at=ye.join("&");break t}}at=void 0}return h=h.i.splice(0,E),y.G=h,at}function _c(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;ot||w(),dt||(ot(),dt=!0),C.add(y,h),h.A=0}}function Kr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=vi(g(h.Da,h),Ec(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,vc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=vi(g(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),Ms(this),vc(this))};function Tl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function vc(h){h.g=new Jn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Re(h.na);Yt(y,"RID","rpc"),Yt(y,"SID",h.M),Yt(y,"AID",h.K),Yt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Yt(y,"TO",h.ia),Yt(y,"TYPE","xmlhttp"),Gr(h,y),h.u&&h.o&&Fr(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Br(Re(y)),E.u=null,E.R=!0,Da(E,h)}n.Va=function(){this.C!=null&&(this.C=null,Ms(this),Kr(this),Ae(19))};function Ua(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Tc(h,y){var E=null;if(h.g==y){Ua(h),Tl(h),h.g=null;var b=2}else if(Ri(h.h,y))E=y.G,ul(h.h,y),b=1;else return;if(h.I!=0){if(y.o)if(b==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var U=h.D;b=Ia(),ke(b,new _i(b,E)),Vi(h)}else _c(h);else if(U=y.m,U==3||U==0&&y.X>0||!(b==1&&La(h,y)||b==2&&Kr(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),U){case 1:Mi(h,5);break;case 4:Mi(h,10);break;case 3:Mi(h,6);break;default:Mi(h,2)}}}function Ec(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function Mi(h,y){if(h.j.info("Error code "+y),y==2){var E=g(h.bb,h),b=h.Ua;const U=!b;b=new bn(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Fe(b,"https"),Br(b),U?ei(b.toString(),E):pl(b.toString(),E)}else Ae(2);h.I=0,h.l&&h.l.pa(y),Sc(h),ka(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Sc(h){if(h.I=0,h.ja=[],h.l){const y=cl(h.h);(y.length!=0||h.i.length!=0)&&(P(h.ja,y),P(h.ja,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.oa()}}function Ac(h,y,E){var b=E instanceof bn?Re(E):new bn(E);if(b.g!="")y&&(b.g=y+"."+b.g),ws(b,b.u);else{var U=c.location;b=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;const G=new bn(null);b&&Fe(G,b),y&&(G.g=y),U&&ws(G,U),E&&(G.h=E),b=G}return E=h.G,y=h.wa,E&&y&&Yt(b,E,y),Yt(b,"VER",h.ka),Gr(h,b),b}function bc(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new $t(new Ii({ab:E})):new $t(h.ma),y.Fa(h.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function wc(){}n=wc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ns(){}Ns.prototype.g=function(h,y){return new cn(h,y)};function cn(h,y){Se.call(this),this.g=new Vs(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!D(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Wi(this)}T(cn,Se),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){_l(this.g)},cn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=bs(h),h=E);y.i.push(new we(y.Ya++,h)),y.I==3&&Vi(y)},cn.prototype.N=function(){this.g.l=null,delete this.j,_l(this.g),delete this.g,cn.Z.N.call(this)};function Rc(h){Ke.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const E in y){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(Rc,Ke);function Cc(){Pn.call(this),this.status=1}T(Cc,Pn);function Wi(h){this.g=h}T(Wi,wc),Wi.prototype.ra=function(){ke(this.g,"a")},Wi.prototype.qa=function(h){ke(this.g,new Rc(h))},Wi.prototype.pa=function(h){ke(this.g,new Cc)},Wi.prototype.oa=function(){ke(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,bb=function(){return new Ns},Ab=function(){return Ia()},Sb=ge,qp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Lr.NO_ERROR=0,Lr.TIMEOUT=8,Lr.HTTP_ERROR=6,Gh=Lr,sl.COMPLETE="complete",Eb=sl,rc.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",Se.prototype.listen=Se.prototype.J,ou=rc,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,Tb=$t}).apply(typeof Mh<"u"?Mh:typeof self<"u"?self:typeof window<"u"?window:{});class rn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let Ho="12.8.0";function gV(n){Ho=n}const Ta=new xg("@firebase/firestore");function go(){return Ta.logLevel}function ct(n,...t){if(Ta.logLevel<=kt.DEBUG){const e=t.map(zg);Ta.debug(`Firestore (${Ho}): ${n}`,...e)}}function vs(n,...t){if(Ta.logLevel<=kt.ERROR){const e=t.map(zg);Ta.error(`Firestore (${Ho}): ${n}`,...e)}}function No(n,...t){if(Ta.logLevel<=kt.WARN){const e=t.map(zg);Ta.warn(`Firestore (${Ho}): ${n}`,...e)}}function zg(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function vt(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,wb(n,r,e)}function wb(n,t,e){let r=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw vs(r),new Error(r)}function Ft(n,t,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,n||wb(t,o,r)}function bt(n,t){return n}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Ss{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ji{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class Rb{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class yV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(rn.UNAUTHENTICATED)))}shutdown(){}}class _V{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class vV{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Ft(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,e(p)):Promise.resolve();let u=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ji,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ji)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft(typeof r.accessToken=="string",31837,{l:r}),new Rb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class TV{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class EV{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new TV(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SV{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Ft(this.o===void 0,3512);const r=u=>{u.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ct("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new cE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Ft(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new cE(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function AV(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}class jg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=AV(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<e&&(r+=t.charAt(o[u]%62))}return r}}function Lt(n,t){return n<t?-1:n>t?1:0}function Hp(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++){const o=n.charAt(r),u=t.charAt(r);if(o!==u)return pp(o)===pp(u)?Lt(o,u):pp(o)?1:-1}return Lt(n.length,t.length)}const bV=55296,wV=57343;function pp(n){const t=n.charCodeAt(0);return t>=bV&&t<=wV}function Oo(n,t,e){return n.length===t.length&&n.every(((r,o)=>e(r,t[o])))}const hE="__name__";class Ui{constructor(t,e,r){e===void 0?e=0:e>t.length&&vt(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&vt(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return Ui.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ui?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const u=Ui.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return Lt(t.length,e.length)}static compareSegments(t,e){const r=Ui.isNumericId(t),o=Ui.isNumericId(e);return r&&!o?-1:!r&&o?1:r&&o?Ui.extractNumericId(t).compare(Ui.extractNumericId(e)):Hp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return gr.fromString(t.substring(4,t.length-2))}}class te extends Ui{construct(t,e,r){return new te(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new lt($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((o=>o.length>0)))}return new te(e)}static emptyPath(){return new te([])}}const RV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Ui{construct(t,e,r){return new tn(t,e,r)}static isValidIdentifier(t){return RV.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hE}static keyField(){return new tn([hE])}static fromServerFormat(t){const e=[];let r="",o=0;const u=()=>{if(r.length===0)throw new lt($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new lt($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new lt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new lt($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(e)}static emptyPath(){return new tn([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(te.fromString(t))}static fromName(t){return new yt(te.fromString(t).popFirst(5))}static empty(){return new yt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return te.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new te(t.slice()))}}function Cb(n,t,e){if(!e)throw new lt($.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function CV(n,t,e,r){if(t===!0&&r===!0)throw new lt($.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function fE(n){if(!yt.isDocumentKey(n))throw new lt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function dE(n){if(yt.isDocumentKey(n))throw new lt($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ib(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function kf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":vt(12329,{type:typeof n})}function Fi(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new lt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=kf(n);throw new lt($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Oe(n,t){const e={typeString:n};return t&&(e.value=t),e}function Gu(n,t){if(!Ib(n))throw new lt($.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const c=n[r];if(o&&typeof c!==o){e=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){e=`Expected '${r}' field to equal '${u.value}'`;break}}if(e)throw new lt($.INVALID_ARGUMENT,e);return!0}const mE=-62135596800,pE=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*pE);return new re(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new lt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new lt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<mE)throw new lt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pE}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Gu(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-mE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Oe("string",re._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new re(0,0))}static max(){return new Et(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wu=-1;function IV(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(r===1e9?new re(e+1,0):new re(e,r));return new Tr(o,yt.empty(),t)}function DV(n){return new Tr(n.readTime,n.key,wu)}class Tr{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Tr(Et.min(),yt.empty(),wu)}static max(){return new Tr(Et.max(),yt.empty(),wu)}}function xV(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=yt.comparator(n.documentKey,t.documentKey),e!==0?e:Lt(n.largestBatchId,t.largestBatchId))}const VV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Go(n){if(n.code!==$.FAILED_PRECONDITION||n.message!==VV)throw n;ct("LocalStore","Unexpectedly lost primary lease")}class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new nt(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(r,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof nt?e:nt.resolve(e)}catch(e){return nt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):nt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):nt.reject(e)}static resolve(t){return new nt(((e,r)=>{e(t)}))}static reject(t){return new nt(((e,r)=>{r(t)}))}static waitFor(t){return new nt(((e,r)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&e()}),(p=>r(p)))})),c=!0,u===o&&e()}))}static or(t){let e=nt.resolve(!1);for(const r of t)e=e.next((o=>o?nt.resolve(o):r()));return e}static forEach(t,e){const r=[];return t.forEach(((o,u)=>{r.push(e.call(this,o,u))})),this.waitFor(r)}static mapArray(t,e){return new nt(((r,o)=>{const u=t.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;e(t[g]).next((_=>{c[g]=_,++m,m===u&&r(c)}),(_=>o(_)))}}))}static doWhile(t,e){return new nt(((r,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):r()};u()}))}}function NV(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Ko(n){return n.name==="IndexedDbTransactionError"}class Lf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Lf.ce=-1;const Fg=-1;function Ku(n){return n==null}function cf(n){return n===0&&1/n==-1/0}function OV(n){return typeof n=="number"&&Number.isInteger(n)&&!cf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Db="";function PV(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=gE(t)),t=kV(n.get(e),t);return gE(t)}function kV(n,t){let e=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":e+="";break;case Db:e+="";break;default:e+=u}}return e}function gE(n){return n+Db+""}function yE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ir(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function xb(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class he{constructor(t,e){this.comparator=t,this.root=e||Je.EMPTY}insert(t,e){return new he(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Je.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nh(this.root,t,this.comparator,!0)}}class Nh{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?r(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Je{constructor(t,e,r,o,u){this.key=t,this.value=e,this.color=r??Je.RED,this.left=o??Je.EMPTY,this.right=u??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,u){return new Je(t??this.key,e??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,r),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return Je.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,e,r,o,u){return this}insert(t,e,r){return new Je(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Be{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new _E(this.data.getIterator())}getIteratorFrom(t){return new _E(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof Be)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Be(this.comparator);return e.data=t,e}}class _E{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new Nn([])}unionWith(t){let e=new Be(tn.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Nn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Oo(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}class Vb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Vb("Invalid base64 string: "+u):u}})(t);return new en(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new en(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}en.EMPTY_BYTE_STRING=new en("");const LV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(n){if(Ft(!!n,39018),typeof n=="string"){let t=0;const e=LV.exec(n);if(Ft(!!e,46558,{timestamp:n}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Te(n.seconds),nanos:Te(n.nanos)}}function Te(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Sr(n){return typeof n=="string"?en.fromBase64String(n):en.fromUint8Array(n)}const Mb="server_timestamp",Nb="__type__",Ob="__previous_value__",Pb="__local_write_time__";function qg(n){return(n?.mapValue?.fields||{})[Nb]?.stringValue===Mb}function Uf(n){const t=n.mapValue.fields[Ob];return qg(t)?Uf(t):t}function Ru(n){const t=Er(n.mapValue.fields[Pb].timestampValue);return new re(t.seconds,t.nanos)}class UV{constructor(t,e,r,o,u,c,m,p,g,_,T){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_,this.apiKey=T}}const hf="(default)";class Cu{constructor(t,e){this.projectId=t,this.database=e||hf}static empty(){return new Cu("","")}get isDefaultDatabase(){return this.database===hf}isEqual(t){return t instanceof Cu&&t.projectId===this.projectId&&t.database===this.database}}function BV(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new lt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cu(n.options.projectId,t)}const kb="__type__",zV="__max__",Oh={mapValue:{}},Lb="__vector__",ff="value";function Ar(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qg(n)?4:FV(n)?9007199254740991:jV(n)?10:11:vt(28295,{value:n})}function Ki(n,t){if(n===t)return!0;const e=Ar(n);if(e!==Ar(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Ru(n).isEqual(Ru(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Er(o.timestampValue),m=Er(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,u){return Sr(o.bytesValue).isEqual(Sr(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,u){return Te(o.geoPointValue.latitude)===Te(u.geoPointValue.latitude)&&Te(o.geoPointValue.longitude)===Te(u.geoPointValue.longitude)})(n,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Te(o.integerValue)===Te(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Te(o.doubleValue),m=Te(u.doubleValue);return c===m?cf(c)===cf(m):isNaN(c)&&isNaN(m)}return!1})(n,t);case 9:return Oo(n.arrayValue.values||[],t.arrayValue.values||[],Ki);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(yE(c)!==yE(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!Ki(c[p],m[p])))return!1;return!0})(n,t);default:return vt(52216,{left:n})}}function Iu(n,t){return(n.values||[]).find((e=>Ki(e,t)))!==void 0}function Po(n,t){if(n===t)return 0;const e=Ar(n),r=Ar(t);if(e!==r)return Lt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Lt(n.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=Te(u.integerValue||u.doubleValue),p=Te(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(n,t);case 3:return vE(n.timestampValue,t.timestampValue);case 4:return vE(Ru(n),Ru(t));case 5:return Hp(n.stringValue,t.stringValue);case 6:return(function(u,c){const m=Sr(u),p=Sr(c);return m.compareTo(p)})(n.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=Lt(m[g],p[g]);if(_!==0)return _}return Lt(m.length,p.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=Lt(Te(u.latitude),Te(c.latitude));return m!==0?m:Lt(Te(u.longitude),Te(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return TE(n.arrayValue,t.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[ff]?.arrayValue,_=p[ff]?.arrayValue,T=Lt(g?.values?.length||0,_?.values?.length||0);return T!==0?T:TE(g,_)})(n.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Oh.mapValue&&c===Oh.mapValue)return 0;if(u===Oh.mapValue)return 1;if(c===Oh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const S=Hp(p[T],_[T]);if(S!==0)return S;const I=Po(m[p[T]],g[_[T]]);if(I!==0)return I}return Lt(p.length,_.length)})(n.mapValue,t.mapValue);default:throw vt(23264,{he:e})}}function vE(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Lt(n,t);const e=Er(n),r=Er(t),o=Lt(e.seconds,r.seconds);return o!==0?o:Lt(e.nanos,r.nanos)}function TE(n,t){const e=n.values||[],r=t.values||[];for(let o=0;o<e.length&&o<r.length;++o){const u=Po(e[o],r[o]);if(u)return u}return Lt(e.length,r.length)}function ko(n){return Gp(n)}function Gp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=Er(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Sr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return yt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",o=!0;for(const u of e.values||[])o?o=!1:r+=",",r+=Gp(u);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${Gp(e.fields[c])}`;return o+"}"})(n.mapValue):vt(61005,{value:n})}function Kh(n){switch(Ar(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Uf(n);return t?16+Kh(t):16;case 5:return 2*n.stringValue.length;case 6:return Sr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Kh(u)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return Ir(r.fields,((u,c)=>{o+=u.length+Kh(c)})),o})(n.mapValue);default:throw vt(13486,{value:n})}}function EE(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Kp(n){return!!n&&"integerValue"in n}function Hg(n){return!!n&&"arrayValue"in n}function SE(n){return!!n&&"nullValue"in n}function AE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Yh(n){return!!n&&"mapValue"in n}function jV(n){return(n?.mapValue?.fields||{})[kb]?.stringValue===Lb}function mu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Ir(n.mapValue.fields,((e,r)=>t.mapValue.fields[e]=mu(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=mu(n.arrayValue.values[e]);return t}return{...n}}function FV(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===zV}class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!Yh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=mu(e)}setAll(t){let e=tn.emptyPath(),r={},o=[];t.forEach(((c,m)=>{if(!e.isImmediateParentOf(m)){const p=this.getFieldsMap(e);this.applyChanges(p,r,o),r={},o=[],e=m.popLast()}c?r[m.lastSegment()]=mu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,r,o)}delete(t){const e=this.field(t.popLast());Yh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ki(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];Yh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){Ir(e,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new fn(mu(this.value))}}function Ub(n){const t=[];return Ir(n.fields,((e,r)=>{const o=new tn([e]);if(Yh(r)){const u=Ub(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new Nn(t)}class Ge{constructor(t,e,r,o,u,c,m){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new Ge(t,0,Et.min(),Et.min(),Et.min(),fn.empty(),0)}static newFoundDocument(t,e,r,o){return new Ge(t,1,e,Et.min(),r,o,0)}static newNoDocument(t,e){return new Ge(t,2,e,Et.min(),Et.min(),fn.empty(),0)}static newUnknownDocument(t,e){return new Ge(t,3,e,Et.min(),Et.min(),fn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ge&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class df{constructor(t,e){this.position=t,this.inclusive=e}}function bE(n,t,e){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],c=n.position[o];if(u.field.isKeyField()?r=yt.comparator(yt.fromName(c.referenceValue),e.key):r=Po(c,e.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function wE(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ki(n.position[e],t.position[e]))return!1;return!0}class Du{constructor(t,e="asc"){this.field=t,this.dir=e}}function qV(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class Bb{}class Ne extends Bb{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new GV(t,e,r):e==="array-contains"?new QV(t,r):e==="in"?new XV(t,r):e==="not-in"?new $V(t,r):e==="array-contains-any"?new WV(t,r):new Ne(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new KV(t,r):new YV(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Po(e,this.value)):e!==null&&Ar(this.value)===Ar(e)&&this.matchesComparison(Po(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pi extends Bb{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new pi(t,e)}matches(t){return zb(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zb(n){return n.op==="and"}function jb(n){return HV(n)&&zb(n)}function HV(n){for(const t of n.filters)if(t instanceof pi)return!1;return!0}function Yp(n){if(n instanceof Ne)return n.field.canonicalString()+n.op.toString()+ko(n.value);if(jb(n))return n.filters.map((t=>Yp(t))).join(",");{const t=n.filters.map((e=>Yp(e))).join(",");return`${n.op}(${t})`}}function Fb(n,t){return n instanceof Ne?(function(r,o){return o instanceof Ne&&r.op===o.op&&r.field.isEqual(o.field)&&Ki(r.value,o.value)})(n,t):n instanceof pi?(function(r,o){return o instanceof pi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&Fb(c,o.filters[m])),!0):!1})(n,t):void vt(19439)}function qb(n){return n instanceof Ne?(function(e){return`${e.field.canonicalString()} ${e.op} ${ko(e.value)}`})(n):n instanceof pi?(function(e){return e.op.toString()+" {"+e.getFilters().map(qb).join(" ,")+"}"})(n):"Filter"}class GV extends Ne{constructor(t,e,r){super(t,e,r),this.key=yt.fromName(r.referenceValue)}matches(t){const e=yt.comparator(t.key,this.key);return this.matchesComparison(e)}}class KV extends Ne{constructor(t,e){super(t,"in",e),this.keys=Hb("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class YV extends Ne{constructor(t,e){super(t,"not-in",e),this.keys=Hb("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Hb(n,t){return(t.arrayValue?.values||[]).map((e=>yt.fromName(e.referenceValue)))}class QV extends Ne{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Hg(e)&&Iu(e.arrayValue,this.value)}}class XV extends Ne{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Iu(this.value.arrayValue,e)}}class $V extends Ne{constructor(t,e){super(t,"not-in",e)}matches(t){if(Iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Iu(this.value.arrayValue,e)}}class WV extends Ne{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Hg(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>Iu(this.value.arrayValue,r)))}}class ZV{constructor(t,e=null,r=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function RE(n,t=null,e=[],r=[],o=null,u=null,c=null){return new ZV(n,t,e,r,o,u,c)}function Gg(n){const t=bt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>Yp(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Ku(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>ko(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>ko(r))).join(",")),t.Te=e}return t.Te}function Kg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!qV(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Fb(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!wE(n.startAt,t.startAt)&&wE(n.endAt,t.endAt)}function Qp(n){return yt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Yo{constructor(t,e=null,r=[],o=[],u=null,c="F",m=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function JV(n,t,e,r,o,u,c,m){return new Yo(n,t,e,r,o,u,c,m)}function Bf(n){return new Yo(n)}function CE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function tM(n){return yt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Gb(n){return n.collectionGroup!==null}function pu(n){const t=bt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Be(tn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Du(u,r))})),e.has(tn.keyField().canonicalString())||t.Ie.push(new Du(tn.keyField(),r))}return t.Ie}function qi(n){const t=bt(n);return t.Ee||(t.Ee=eM(t,pu(n))),t.Ee}function eM(n,t){if(n.limitType==="F")return RE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Du(o.field,u)}));const e=n.endAt?new df(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new df(n.startAt.position,n.startAt.inclusive):null;return RE(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function Xp(n,t){const e=n.filters.concat([t]);return new Yo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function nM(n,t){const e=n.explicitOrderBy.concat([t]);return new Yo(n.path,n.collectionGroup,e,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function $p(n,t,e){return new Yo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function zf(n,t){return Kg(qi(n),qi(t))&&n.limitType===t.limitType}function Kb(n){return`${Gg(qi(n))}|lt:${n.limitType}`}function yo(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((o=>qb(o))).join(", ")}]`),Ku(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((o=>ko(o))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((o=>ko(o))).join(",")),`Target(${r})`})(qi(n))}; limitType=${n.limitType})`}function jf(n,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):yt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(n,t)&&(function(r,o){for(const u of pu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(n,t)&&(function(r,o){return!(r.startAt&&!(function(c,m,p){const g=bE(c,m,p);return c.inclusive?g<=0:g<0})(r.startAt,pu(r),o)||r.endAt&&!(function(c,m,p){const g=bE(c,m,p);return c.inclusive?g>=0:g>0})(r.endAt,pu(r),o))})(n,t)}function iM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Yb(n){return(t,e)=>{let r=!1;for(const o of pu(n)){const u=sM(o,t,e);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function sM(n,t,e){const r=n.field.isKeyField()?yt.comparator(t.key,e.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Po(p,g):vt(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return vt(19790,{direction:n.dir})}}class Aa{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ir(this.inner,((e,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return xb(this.inner)}size(){return this.innerSize}}const rM=new he(yt.comparator);function Ts(){return rM}const Qb=new he(yt.comparator);function lu(...n){let t=Qb;for(const e of n)t=t.insert(e.key,e);return t}function Xb(n){let t=Qb;return n.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function fa(){return gu()}function $b(){return gu()}function gu(){return new Aa((n=>n.toString()),((n,t)=>n.isEqual(t)))}const aM=new he(yt.comparator),oM=new Be(yt.comparator);function Ut(...n){let t=oM;for(const e of n)t=t.add(e);return t}const lM=new Be(Lt);function uM(){return lM}function Yg(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cf(t)?"-0":t}}function Wb(n){return{integerValue:""+n}}function cM(n,t){return OV(t)?Wb(t):Yg(n,t)}class Ff{constructor(){this._=void 0}}function hM(n,t,e){return n instanceof xu?(function(o,u){const c={fields:{[Nb]:{stringValue:Mb},[Pb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&qg(u)&&(u=Uf(u)),u&&(c.fields[Ob]=u),{mapValue:c}})(e,t):n instanceof Vu?Jb(n,t):n instanceof Mu?t1(n,t):(function(o,u){const c=Zb(o,u),m=IE(c)+IE(o.Ae);return Kp(c)&&Kp(o.Ae)?Wb(m):Yg(o.serializer,m)})(n,t)}function fM(n,t,e){return n instanceof Vu?Jb(n,t):n instanceof Mu?t1(n,t):e}function Zb(n,t){return n instanceof mf?(function(r){return Kp(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class xu extends Ff{}class Vu extends Ff{constructor(t){super(),this.elements=t}}function Jb(n,t){const e=e1(t);for(const r of n.elements)e.some((o=>Ki(o,r)))||e.push(r);return{arrayValue:{values:e}}}class Mu extends Ff{constructor(t){super(),this.elements=t}}function t1(n,t){let e=e1(t);for(const r of n.elements)e=e.filter((o=>!Ki(o,r)));return{arrayValue:{values:e}}}class mf extends Ff{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function IE(n){return Te(n.integerValue||n.doubleValue)}function e1(n){return Hg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class dM{constructor(t,e){this.field=t,this.transform=e}}function mM(n,t){return n.field.isEqual(t.field)&&(function(r,o){return r instanceof Vu&&o instanceof Vu||r instanceof Mu&&o instanceof Mu?Oo(r.elements,o.elements,Ki):r instanceof mf&&o instanceof mf?Ki(r.Ae,o.Ae):r instanceof xu&&o instanceof xu})(n.transform,t.transform)}class pM{constructor(t,e){this.version=t,this.transformResults=e}}class an{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new an}static exists(t){return new an(void 0,t)}static updateTime(t){return new an(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Qh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class qf{}function n1(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Hf(n.key,an.none()):new Yu(n.key,n.data,an.none());{const e=n.data,r=fn.empty();let o=new Be(tn.comparator);for(let u of t.fields)if(!o.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new Dr(n.key,r,new Nn(o.toArray()),an.none())}}function gM(n,t,e){n instanceof Yu?(function(o,u,c){const m=o.value.clone(),p=xE(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,t,e):n instanceof Dr?(function(o,u,c){if(!Qh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=xE(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(i1(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,t,e):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function yu(n,t,e,r){return n instanceof Yu?(function(u,c,m,p){if(!Qh(u.precondition,c))return m;const g=u.value.clone(),_=VE(u.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,t,e,r):n instanceof Dr?(function(u,c,m,p){if(!Qh(u.precondition,c))return m;const g=VE(u.fieldTransforms,p,c),_=c.data;return _.setAll(i1(u)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(n,t,e,r):(function(u,c,m){return Qh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(n,t,e)}function yM(n,t){let e=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),u=Zb(r.transform,o||null);u!=null&&(e===null&&(e=fn.empty()),e.set(r.field,u))}return e||null}function DE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Oo(r,o,((u,c)=>mM(u,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Yu extends qf{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Dr extends qf{constructor(t,e,r,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function i1(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}})),t}function xE(n,t,e){const r=new Map;Ft(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let o=0;o<e.length;o++){const u=n[o],c=u.transform,m=t.data.field(u.field);r.set(u.field,fM(c,m,e[o]))}return r}function VE(n,t,e){const r=new Map;for(const o of n){const u=o.transform,c=e.data.field(o.field);r.set(o.field,hM(u,c,t))}return r}class Hf extends qf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class s1 extends qf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _M{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&gM(u,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=yu(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=yu(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=$b();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=e.has(o.key)?null:m;const p=n1(c,m);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Et.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Oo(this.mutations,t.mutations,((e,r)=>DE(e,r)))&&Oo(this.baseMutations,t.baseMutations,((e,r)=>DE(e,r)))}}class Qg{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){Ft(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return aM})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new Qg(t,e,r,o)}}class vM{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class TM{constructor(t,e){this.count=t,this.unchangedNames=e}}var Ve,jt;function r1(n){switch(n){case $.OK:return vt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return vt(15467,{code:n})}}function a1(n){if(n===void 0)return vs("GRPC error has no .code"),$.UNKNOWN;switch(n){case Ve.OK:return $.OK;case Ve.CANCELLED:return $.CANCELLED;case Ve.UNKNOWN:return $.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return $.INTERNAL;case Ve.UNAVAILABLE:return $.UNAVAILABLE;case Ve.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ve.NOT_FOUND:return $.NOT_FOUND;case Ve.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ve.ABORTED:return $.ABORTED;case Ve.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ve.DATA_LOSS:return $.DATA_LOSS;default:return vt(39323,{code:n})}}(jt=Ve||(Ve={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function EM(){return new TextEncoder}const SM=new gr([4294967295,4294967295],0);function ME(n){const t=EM().encode(n),e=new vb;return e.update(t),new Uint8Array(e.digest())}function NE(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new gr([e,r],0),new gr([o,u],0)]}class Xg{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new uu(`Invalid padding: ${e}`);if(r<0)throw new uu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new uu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=gr.fromNumber(this.ge)}ye(t,e,r){let o=t.add(e.multiply(gr.fromNumber(r)));return o.compare(SM)===1&&(o=new gr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=ME(t),[r,o]=NE(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Xg(u,o,e);return r.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const e=ME(t),[r,o]=NE(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.be(c)}}be(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gf{constructor(t,e,r,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,Qu.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Gf(Et.min(),o,new he(Lt),Ts(),Ut())}}class Qu{constructor(t,e,r,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Qu(r,e,Ut(),Ut(),Ut())}}class Xh{constructor(t,e,r,o){this.Se=t,this.removedTargetIds=e,this.key=r,this.De=o}}class o1{constructor(t,e){this.targetId=t,this.Ce=e}}class l1{constructor(t,e,r=en.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class OE{constructor(){this.ve=0,this.Fe=PE(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),e=Ut(),r=Ut();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:vt(38017,{changeType:u})}})),new Qu(this.Me,this.xe,t,e,r)}Ke(){this.Oe=!1,this.Fe=PE()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class AM{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ts(),this.He=Ph(),this.Je=Ph(),this.Ze=new he(Lt)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,r=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(Qp(u))if(r===0){const c=new yt(u.path);this.et(e,c,Ge.newNoDocument(c,Et.min()))}else Ft(r===1,20013,{expectedCount:r});else{const c=this._t(e);if(c!==r){const m=this.ut(t),p=m?this.ct(m,t,c):1;if(p!==0){this.it(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=e;let c,m;try{c=Sr(r).toUint8Array()}catch(p){if(p instanceof Vb)return No("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Xg(c,o,u)}catch(p){return No(p instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&Qp(m.target)){const p=new yt(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Ge.newNoDocument(p,t))}u.Be&&(e.set(c,u.ke()),u.Ke())}}));let r=Ut();this.Je.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Gf(t,e,this.Ze,this.je,r);return this.je=Ts(),this.He=Ph(),this.Je=Ph(),this.Ze=new he(Lt),o}Ye(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,r),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.qe(e,1):o.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new OE,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new Be(Lt),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new Be(Lt),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ct("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new OE),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Ph(){return new he(yt.comparator)}function PE(){return new he(yt.comparator)}const bM={asc:"ASCENDING",desc:"DESCENDING"},wM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RM={and:"AND",or:"OR"};class CM{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Wp(n,t){return n.useProto3Json||Ku(t)?t:{value:t}}function pf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function u1(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function IM(n,t){return pf(n,t.toTimestamp())}function On(n){return Ft(!!n,49232),Et.fromTimestamp((function(e){const r=Er(e);return new re(r.seconds,r.nanos)})(n))}function $g(n,t){return Zp(n,t).canonicalString()}function Zp(n,t){const e=(function(o){return new te(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?e:e.child(t)}function c1(n){const t=te.fromString(n);return Ft(g1(t),10190,{key:t.toString()}),t}function gf(n,t){return $g(n.databaseId,t.path)}function _u(n,t){const e=c1(t);if(e.get(1)!==n.databaseId.projectId)throw new lt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new lt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new yt(f1(e))}function h1(n,t){return $g(n.databaseId,t)}function DM(n){const t=c1(n);return t.length===4?te.emptyPath():f1(t)}function Jp(n){return new te(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function f1(n){return Ft(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function kE(n,t,e){return{name:gf(n,t),fields:e.value.mapValue.fields}}function xM(n,t){return"found"in t?(function(r,o){Ft(!!o.found,43571),o.found.name,o.found.updateTime;const u=_u(r,o.found.name),c=On(o.found.updateTime),m=o.found.createTime?On(o.found.createTime):Et.min(),p=new fn({mapValue:{fields:o.found.fields}});return Ge.newFoundDocument(u,c,m,p)})(n,t):"missing"in t?(function(r,o){Ft(!!o.missing,3894),Ft(!!o.readTime,22933);const u=_u(r,o.missing),c=On(o.readTime);return Ge.newNoDocument(u,c)})(n,t):vt(7234,{result:t})}function VM(n,t){let e;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:vt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,_){return g.useProto3Json?(Ft(_===void 0||typeof _=="string",58123),en.fromBase64String(_||"")):(Ft(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),en.fromUint8Array(_||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(g){const _=g.code===void 0?$.UNKNOWN:a1(g.code);return new lt(_,g.message||"")})(c);e=new l1(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=_u(n,r.document.name),u=On(r.document.updateTime),c=r.document.createTime?On(r.document.createTime):Et.min(),m=new fn({mapValue:{fields:r.document.fields}}),p=Ge.newFoundDocument(o,u,c,m),g=r.targetIds||[],_=r.removedTargetIds||[];e=new Xh(g,_,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=_u(n,r.document),u=r.readTime?On(r.readTime):Et.min(),c=Ge.newNoDocument(o,u),m=r.removedTargetIds||[];e=new Xh([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=_u(n,r.document),u=r.removedTargetIds||[];e=new Xh([],u,o,null)}else{if(!("filter"in t))return vt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new TM(o,u),m=r.targetId;e=new o1(m,c)}}return e}function d1(n,t){let e;if(t instanceof Yu)e={update:kE(n,t.key,t.value)};else if(t instanceof Hf)e={delete:gf(n,t.key)};else if(t instanceof Dr)e={update:kE(n,t.key,t.data),updateMask:zM(t.fieldMask)};else{if(!(t instanceof s1))return vt(16599,{dt:t.type});e={verify:gf(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof xu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Vu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Mu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof mf)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw vt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:IM(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:vt(27497)})(n,t.precondition)),e}function MM(n,t){return n&&n.length>0?(Ft(t!==void 0,14353),n.map((e=>(function(o,u){let c=o.updateTime?On(o.updateTime):On(u);return c.isEqual(Et.min())&&(c=On(u)),new pM(c,o.transformResults||[])})(e,t)))):[]}function NM(n,t){return{documents:[h1(n,t.path)]}}function OM(n,t){const e={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=h1(n,o);const u=(function(g){if(g.length!==0)return p1(pi.create(g,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((_=>(function(S){return{field:_o(S.field),direction:LM(S.dir)}})(_)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const m=Wp(n,t.limit);return m!==null&&(e.structuredQuery.limit=m),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:o}}function PM(n){let t=DM(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){Ft(r===1,65062);const _=e.from[0];_.allDescendants?o=_.collectionId:t=t.child(_.collectionId)}let u=[];e.where&&(u=(function(T){const S=m1(T);return S instanceof pi&&jb(S)?S.getFilters():[S]})(e.where));let c=[];e.orderBy&&(c=(function(T){return T.map((S=>(function(P){return new Du(vo(P.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(S)))})(e.orderBy));let m=null;e.limit&&(m=(function(T){let S;return S=typeof T=="object"?T.value:T,Ku(S)?null:S})(e.limit));let p=null;e.startAt&&(p=(function(T){const S=!!T.before,I=T.values||[];return new df(I,S)})(e.startAt));let g=null;return e.endAt&&(g=(function(T){const S=!T.before,I=T.values||[];return new df(I,S)})(e.endAt)),JV(t,o,c,u,m,"F",p,g)}function kM(n,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function m1(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=vo(e.unaryFilter.field);return Ne.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=vo(e.unaryFilter.field);return Ne.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=vo(e.unaryFilter.field);return Ne.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=vo(e.unaryFilter.field);return Ne.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ne.create(vo(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return pi.create(e.compositeFilter.filters.map((r=>m1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(e.compositeFilter.op))})(n):vt(30097,{filter:n})}function LM(n){return bM[n]}function UM(n){return wM[n]}function BM(n){return RM[n]}function _o(n){return{fieldPath:n.canonicalString()}}function vo(n){return tn.fromServerFormat(n.fieldPath)}function p1(n){return n instanceof Ne?(function(e){if(e.op==="=="){if(AE(e.value))return{unaryFilter:{field:_o(e.field),op:"IS_NAN"}};if(SE(e.value))return{unaryFilter:{field:_o(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(AE(e.value))return{unaryFilter:{field:_o(e.field),op:"IS_NOT_NAN"}};if(SE(e.value))return{unaryFilter:{field:_o(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(e.field),op:UM(e.op),value:e.value}}})(n):n instanceof pi?(function(e){const r=e.getFilters().map((o=>p1(o)));return r.length===1?r[0]:{compositeFilter:{op:BM(e.op),filters:r}}})(n):vt(54877,{filter:n})}function zM(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function g1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function y1(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class ur{constructor(t,e,r,o,u=Et.min(),c=Et.min(),m=en.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new ur(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class jM{constructor(t){this.yt=t}}function FM(n){const t=PM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?$p(t,t.limit,"L"):t}class qM{constructor(){this.Sn=new HM}addToCollectionParentIndex(t,e){return this.Sn.add(e),nt.resolve()}getCollectionParents(t,e){return nt.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return nt.resolve()}deleteFieldIndex(t,e){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,e){return nt.resolve()}getDocumentsMatchingTarget(t,e){return nt.resolve(null)}getIndexType(t,e){return nt.resolve(0)}getFieldIndexes(t,e){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,e){return nt.resolve(Tr.min())}getMinOffsetFromCollectionGroup(t,e){return nt.resolve(Tr.min())}updateCollectionGroup(t,e,r){return nt.resolve()}updateIndexEntries(t,e){return nt.resolve()}}class HM{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new Be(te.comparator),u=!o.has(r);return this.index[e]=o.add(r),u}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Be(te.comparator)).toArray()}}const LE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_1=41943040;class Sn{static withCacheSize(t){return new Sn(t,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(_1,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class Lo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Lo(0)}static ar(){return new Lo(-1)}}const UE="LruGarbageCollector",GM=1048576;function BE([n,t],[e,r]){const o=Lt(n,e);return o===0?Lt(t,r):o}class KM{constructor(t){this.Pr=t,this.buffer=new Be(BE),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();BE(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class YM{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ct(UE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ko(e)?ct(UE,"Ignoring IndexedDB error during garbage collection: ",e):await Go(e)}await this.Ar(3e5)}))}}class QM{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return nt.resolve(Lf.ce);const r=new KM(e);return this.Vr.forEachTarget(t,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.Vr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(LE)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LE):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let r,o,u,c,m,p,g;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(r=T,m=Date.now(),this.removeTargets(t,r,e)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((T=>(g=Date.now(),go()<=kt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function XM(n,t){return new QM(n,t)}class $M{constructor(){this.changes=new Aa((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Ge.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?nt.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class WM{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class ZM{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(r!==null&&yu(r.mutation,o,Nn.empty(),re.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,Ut()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=Ut()){const o=fa();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,r).next((u=>{let c=lu();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const r=fa();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,Ut())))}populateOverlays(t,e,r){const o=[];return r.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{e.set(c,m)}))}))}computeViews(t,e,r,o){let u=Ts();const c=gu(),m=(function(){return gu()})();return e.forEach(((p,g)=>{const _=r.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Dr)?u=u.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),yu(_.mutation,g,_.mutation.getFieldMask(),re.now())):c.set(g.key,Nn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,_)=>c.set(g,_))),e.forEach(((g,_)=>m.set(g,new WM(_,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,e){const r=gu();let o=new he(((c,m)=>c-m)),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=e.get(p);if(g===null)return;let _=r.get(p)||Nn.empty();_=m.applyToLocalView(g,_),r.set(p,_);const T=(o.get(m.batchId)||Ut()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,T=$b();_.forEach((S=>{if(!u.has(S)){const I=n1(e.get(S),r.get(S));I!==null&&T.set(S,I),u=u.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,T))}return nt.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,o){return tM(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Gb(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,o):this.getDocumentsMatchingCollectionQuery(t,e,r,o)}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-u.size):nt.resolve(fa());let m=wu,p=u;return c.next((g=>nt.forEach(g,((_,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(_)?nt.resolve():this.remoteDocumentCache.getEntry(t,_).next((S=>{p=p.insert(_,S)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Ut()))).next((_=>({batchId:m,changes:Xb(_)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new yt(e)).next((r=>{let o=lu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,o){const u=e.collectionGroup;let c=lu();return this.indexManager.getCollectionParents(t,u).next((m=>nt.forEach(m,(p=>{const g=(function(T,S){return new Yo(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(e,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((_=>{_.forEach(((T,S)=>{c=c.insert(T,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,u,o)))).next((c=>{u.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,Ge.newInvalidDocument(_)))}));let m=lu();return c.forEach(((p,g)=>{const _=u.get(p);_!==void 0&&yu(_.mutation,g,Nn.empty(),re.now()),jf(e,g)&&(m=m.insert(p,g))})),m}))}}class JM{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return nt.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:On(o.createTime)}})(e)),nt.resolve()}getNamedQuery(t,e){return nt.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(o){return{name:o.name,query:FM(o.bundledQuery),readTime:On(o.readTime)}})(e)),nt.resolve()}}class tN{constructor(){this.overlays=new he(yt.comparator),this.Lr=new Map}getOverlay(t,e){return nt.resolve(this.overlays.get(e))}getOverlays(t,e){const r=fa();return nt.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((o,u)=>{this.bt(t,e,u)})),nt.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),nt.resolve()}getOverlaysForCollection(t,e,r){const o=fa(),u=e.length+1,c=new yt(e.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return nt.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let u=new he(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>r){let _=u.get(g.largestBatchId);_===null&&(_=fa(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=fa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>m.set(g,_))),!(m.size()>=o)););return nt.resolve(m)}bt(t,e,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new vM(e,r));let u=this.Lr.get(e);u===void 0&&(u=Ut(),this.Lr.set(e,u)),this.Lr.set(e,u.add(r.key))}}class eN{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,nt.resolve()}}class Wg{constructor(){this.kr=new Be(He.Kr),this.qr=new Be(He.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const r=new He(t,e);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Wr(new He(t,e))}Qr(t,e){t.forEach((r=>this.removeReference(r,e)))}Gr(t){const e=new yt(new te([])),r=new He(e,t),o=new He(e,t+1),u=[];return this.qr.forEachInRange([r,o],(c=>{this.Wr(c),u.push(c.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new yt(new te([])),r=new He(e,t),o=new He(e,t+1);let u=Ut();return this.qr.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const e=new He(t,0),r=this.kr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class He{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return yt.comparator(t.key,e.key)||Lt(t.Hr,e.Hr)}static Ur(t,e){return Lt(t.Hr,e.Hr)||yt.comparator(t.key,e.key)}}class nN{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new Be(He.Kr)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new _M(u,e,r,o);this.mutationQueue.push(c);for(const m of o)this.Jr=this.Jr.add(new He(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return nt.resolve(c)}lookupMutationBatch(t,e){return nt.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=this.Xr(r),u=o<0?0:o;return nt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?Fg:this.Yn-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new He(e,0),o=new He(e,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(c=>{const m=this.Zr(c.Hr);u.push(m)})),nt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Be(Lt);return e.forEach((o=>{const u=new He(o,0),c=new He(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,c],(m=>{r=r.add(m.Hr)}))})),nt.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let u=r;yt.isDocumentKey(u)||(u=u.child(""));const c=new He(new yt(u),0);let m=new Be(Lt);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),c),nt.resolve(this.Yr(m))}Yr(t){const e=[];return t.forEach((r=>{const o=this.Zr(r);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){Ft(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return nt.forEach(e.mutations,(o=>{const u=new He(o.key,e.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,e){const r=new He(e,0),o=this.Jr.firstAfterOrEqual(r);return nt.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class iN{constructor(t){this.ti=t,this.docs=(function(){return new he(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),u=o?o.size:0,c=this.ti(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return nt.resolve(r?r.document.mutableCopy():Ge.newInvalidDocument(e))}getEntries(t,e){let r=Ts();return e.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Ge.newInvalidDocument(o))})),nt.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let u=Ts();const c=e.path,m=new yt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||xV(DV(_),r)<=0||(o.has(_.key)||jf(e,_))&&(u=u.insert(_.key,_.mutableCopy()))}return nt.resolve(u)}getAllFromCollectionGroup(t,e,r,o){vt(9500)}ni(t,e){return nt.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new sN(this)}getSize(t){return nt.resolve(this.size)}}class sN extends $M{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?e.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(r)})),nt.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class rN{constructor(t){this.persistence=t,this.ri=new Aa((e=>Gg(e)),Kg),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ii=0,this.si=new Wg,this.targetCount=0,this.oi=Lo._r()}forEachTarget(t,e){return this.ri.forEach(((r,o)=>e(o))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.ii&&(this.ii=e),nt.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new Lo(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,nt.resolve()}updateTargetData(t,e){return this.lr(e),nt.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,e,r){let o=0;const u=[];return this.ri.forEach(((c,m)=>{m.sequenceNumber<=e&&r.get(m.targetId)===null&&(this.ri.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),nt.waitFor(u).next((()=>o))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,e){const r=this.ri.get(e)||null;return nt.resolve(r)}addMatchingKeys(t,e,r){return this.si.$r(e,r),nt.resolve()}removeMatchingKeys(t,e,r){this.si.Qr(e,r);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),nt.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),nt.resolve()}getMatchingKeysForTargetId(t,e){const r=this.si.jr(e);return nt.resolve(r)}containsKey(t,e){return nt.resolve(this.si.containsKey(e))}}class v1{constructor(t,e){this._i={},this.overlays={},this.ai=new Lf(0),this.ui=!1,this.ui=!0,this.ci=new eN,this.referenceDelegate=t(this),this.li=new rN(this),this.indexManager=new qM,this.remoteDocumentCache=(function(o){return new iN(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new jM(e),this.Pi=new JM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new tN,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this._i[t.toKey()];return r||(r=new nN(e,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,r){ct("MemoryPersistence","Starting transaction:",t);const o=new aN(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,e){return nt.or(Object.values(this._i).map((r=>()=>r.containsKey(t,e))))}}class aN extends MV{constructor(t){super(),this.currentSequenceNumber=t}}class Zg{constructor(t){this.persistence=t,this.Ri=new Wg,this.Ai=null}static Vi(t){return new Zg(t)}get di(){if(this.Ai)return this.Ai;throw vt(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.di.delete(r.toString()),nt.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.di.add(r.toString()),nt.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),nt.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.di,(r=>{const o=yt.fromPath(r);return this.mi(t,o).next((u=>{u||e.removeEntry(o,Et.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((r=>{r?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return nt.or([()=>nt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class yf{constructor(t,e){this.persistence=t,this.fi=new Aa((r=>PV(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=XM(this,e)}static Vi(t,e){return new yf(t,e)}Ti(){}Ii(t){return nt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((o=>r+o))))}pr(t){let e=0;return this.mr(t,(r=>{e++})).next((()=>e))}mr(t,e){return nt.forEach(this.fi,((r,o)=>this.wr(t,r,o).next((u=>u?nt.resolve():e(o)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(c=>this.wr(t,c,e).next((m=>{m||(r++,u.removeEntry(c,Et.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),nt.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.fi.set(r,t.currentSequenceNumber),nt.resolve()}removeReference(t,e,r){return this.fi.set(r,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),nt.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Kh(t.data.value)),e}wr(t,e,r){return nt.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.fi.get(e);return nt.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Jg{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.Ts=r,this.Is=o}static Es(t,e){let r=Ut(),o=Ut();for(const u of e.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Jg(t,e.fromCache,r,o)}}class oN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class lN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return $I()?8:NV(ln())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,o){const u={result:null};return this.gs(t,e).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ps(t,e,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new oN;return this.ys(t,e,c).next((m=>{if(u.result=m,this.As)return this.ws(t,e,c,m.size)}))})).next((()=>u.result))}ws(t,e,r,o){return r.documentReadCount<this.Vs?(go()<=kt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",yo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),nt.resolve()):(go()<=kt.DEBUG&&ct("QueryEngine","Query:",yo(e),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(go()<=kt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",yo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,qi(e))):nt.resolve())}gs(t,e){if(CE(e))return nt.resolve(null);let r=qi(e);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=$p(e,null,"F"),r=qi(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Ut(...u);return this.fs.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,r).next((p=>{const g=this.bs(e,m);return this.Ss(e,g,c,p.readTime)?this.gs(t,$p(e,null,"F")):this.Ds(t,g,e,p)}))))})))))}ps(t,e,r,o){return CE(e)||o.isEqual(Et.min())?nt.resolve(null):this.fs.getDocuments(t,r).next((u=>{const c=this.bs(e,u);return this.Ss(e,c,r,o)?nt.resolve(null):(go()<=kt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),yo(e)),this.Ds(t,c,e,IV(o,wu)).next((m=>m)))}))}bs(t,e){let r=new Be(Yb(t));return e.forEach(((o,u)=>{jf(t,u)&&(r=r.add(u))})),r}Ss(t,e,r,o){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,e,r){return go()<=kt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",yo(e)),this.fs.getDocumentsMatchingQuery(t,e,Tr.min(),r)}Ds(t,e,r,o){return this.fs.getDocumentsMatchingQuery(t,r,o).next((u=>(e.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const ty="LocalStore",uN=3e8;class cN{constructor(t,e,r,o){this.persistence=t,this.Cs=e,this.serializer=o,this.vs=new he(Lt),this.Fs=new Aa((u=>Gg(u)),Kg),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ZM(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function hN(n,t,e,r){return new cN(n,t,e,r)}async function T1(n,t){const e=bt(n);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,e.Os(t),e.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let p=Ut();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return e.localDocuments.getDocuments(r,p).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function fN(n,t){const e=bt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=e.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,_){const T=g.batch,S=T.keys();let I=nt.resolve();return S.forEach((P=>{I=I.next((()=>_.getEntry(p,P))).next((q=>{const j=g.docVersions.get(P);Ft(j!==null,48541),q.version.compareTo(j)<0&&(T.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),_.addEntry(q)))}))})),I.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(e,r,t,u).next((()=>u.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=Ut();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>e.localDocuments.getDocuments(r,o)))}))}function E1(n){const t=bt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function dN(n,t){const e=bt(n),r=t.snapshotVersion;let o=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=e.xs.newChangeBuffer({trackRemovals:!0});o=e.vs;const m=[];t.targetChanges.forEach(((_,T)=>{const S=o.get(T);if(!S)return;m.push(e.li.removeMatchingKeys(u,_.removedDocuments,T).next((()=>e.li.addMatchingKeys(u,_.addedDocuments,T))));let I=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?I=I.withResumeToken(en.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):_.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(_.resumeToken,r)),o=o.insert(T,I),(function(q,j,F){return q.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=uN?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(S,I,_)&&m.push(e.li.updateTargetData(u,I))}));let p=Ts(),g=Ut();if(t.documentUpdates.forEach((_=>{t.resolvedLimboDocuments.has(_)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(u,_))})),m.push(mN(u,c,t.documentUpdates).next((_=>{p=_.Bs,g=_.Ls}))),!r.isEqual(Et.min())){const _=e.li.getLastRemoteSnapshotVersion(u).next((T=>e.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(_)}return nt.waitFor(m).next((()=>c.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(e.vs=o,u)))}function mN(n,t,e){let r=Ut(),o=Ut();return e.forEach((u=>r=r.add(u))),t.getEntries(n,r).next((u=>{let c=Ts();return e.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Et.min())?(t.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(m,p)):ct(ty,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:c,Ls:o}}))}function pN(n,t){const e=bt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Fg),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function gN(n,t){const e=bt(n);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return e.li.getTargetData(r,t).next((u=>u?(o=u,nt.resolve(o)):e.li.allocateTargetId(r).next((c=>(o=new ur(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=e.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.vs=e.vs.insert(r.targetId,r),e.Fs.set(t,r.targetId)),r}))}async function tg(n,t,e){const r=bt(n),o=r.vs.get(t),u=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Ko(c))throw c;ct(ty,`Failed to update sequence numbers for target ${t}: ${c}`)}r.vs=r.vs.remove(t),r.Fs.delete(o.target)}function zE(n,t,e){const r=bt(n);let o=Et.min(),u=Ut();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const T=bt(p),S=T.Fs.get(_);return S!==void 0?nt.resolve(T.vs.get(S)):T.li.getTargetData(g,_)})(r,c,qi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,t,e?o:Et.min(),e?u:Ut()))).next((m=>(yN(r,iM(t),m),{documents:m,ks:u})))))}function yN(n,t,e){let r=n.Ms.get(t)||Et.min();e.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),n.Ms.set(t,r)}class jE{constructor(){this.activeTargetIds=uM()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _N{constructor(){this.vo=new jE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,r){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new jE,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class vN{Mo(t){}shutdown(){}}const FE="ConnectivityMonitor";class qE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ct(FE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ct(FE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let kh=null;function eg(){return kh===null?kh=(function(){return 268435456+Math.round(2147483648*Math.random())})():kh++,"0x"+kh.toString(16)}const gp="RestConnection",TN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class EN{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===hf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(t,e,r,o,u){const c=eg(),m=this.Qo(t,e.toUriEncodedString());ct(gp,`Sending RPC '${t}' ${c}:`,m,r);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:g}=new URL(m),_=jo(g);return this.zo(t,m,p,r,_).then((T=>(ct(gp,`Received RPC '${t}' ${c}: `,T),T)),(T=>{throw No(gp,`RPC '${t}' ${c} failed with error: `,T,"url: ",m,"request:",r),T}))}jo(t,e,r,o,u,c){return this.Wo(t,e,r,o,u)}Go(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ho})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}Qo(t,e){const r=TN[t];let o=`${this.qo}/v1/${e}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class SN{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const sn="WebChannelConnection",ru=(n,t,e)=>{n.listen(t,(r=>{try{e(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Do extends EN{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Do.c_){const t=Ab();ru(t,Sb.STAT_EVENT,(e=>{e.stat===qp.PROXY?ct(sn,"STAT_EVENT: detected buffering proxy"):e.stat===qp.NOPROXY&&ct(sn,"STAT_EVENT: detected no buffering proxy")})),Do.c_=!0}}zo(t,e,r,o,u){const c=eg();return new Promise(((m,p)=>{const g=new Tb;g.setWithCredentials(!0),g.listenOnce(Eb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Gh.NO_ERROR:const T=g.getResponseJson();ct(sn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),m(T);break;case Gh.TIMEOUT:ct(sn,`RPC '${t}' ${c} timed out`),p(new lt($.DEADLINE_EXCEEDED,"Request time out"));break;case Gh.HTTP_ERROR:const S=g.getStatus();if(ct(sn,`RPC '${t}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const P=I?.error;if(P&&P.status&&P.message){const q=(function(F){const Z=F.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Z)>=0?Z:$.UNKNOWN})(P.status);p(new lt(q,P.message))}else p(new lt($.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new lt($.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ct(sn,`RPC '${t}' ${c} completed.`)}}));const _=JSON.stringify(o);ct(sn,`RPC '${t}' ${c} sending request:`,o),g.send(e,"POST",_,r,15)}))}T_(t,e,r){const o=eg(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,e,r),m.encodeInitMessageHeaders=!0;const g=u.join("");ct(sn,`Creating RPC '${t}' stream ${o}: ${g}`,m);const _=c.createWebChannel(g,m);this.I_(_);let T=!1,S=!1;const I=new SN({Ho:P=>{S?ct(sn,`Not sending because RPC '${t}' stream ${o} is closed:`,P):(T||(ct(sn,`Opening RPC '${t}' stream ${o} transport.`),_.open(),T=!0),ct(sn,`RPC '${t}' stream ${o} sending:`,P),_.send(P))},Jo:()=>_.close()});return ru(_,ou.EventType.OPEN,(()=>{S||(ct(sn,`RPC '${t}' stream ${o} transport opened.`),I.i_())})),ru(_,ou.EventType.CLOSE,(()=>{S||(S=!0,ct(sn,`RPC '${t}' stream ${o} transport closed`),I.o_(),this.E_(_))})),ru(_,ou.EventType.ERROR,(P=>{S||(S=!0,No(sn,`RPC '${t}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),I.o_(new lt($.UNAVAILABLE,"The operation could not be completed")))})),ru(_,ou.EventType.MESSAGE,(P=>{if(!S){const q=P.data[0];Ft(!!q,16349);const j=q,F=j?.error||j[0]?.error;if(F){ct(sn,`RPC '${t}' stream ${o} received error:`,F);const Z=F.status;let Y=(function(dt){const C=Ve[dt];if(C!==void 0)return a1(C)})(Z),rt=F.message;Y===void 0&&(Y=$.INTERNAL,rt="Unknown error status: "+Z+" with message "+F.message),S=!0,I.o_(new lt(Y,rt)),_.close()}else ct(sn,`RPC '${t}' stream ${o} received:`,q),I.__(q)}})),Do.u_(),setTimeout((()=>{I.s_()}),0),I}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,r){super.Go(t,e,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return bb()}}function AN(n){return new Do(n)}function yp(){return typeof document<"u"?document:null}function Kf(n){return new CM(n,!0)}Do.c_=!1;class ey{constructor(t,e,r=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=e,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-r);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const HE="PersistentStream";class S1{constructor(t,e,r,o,u,c,m,p){this.Ci=t,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ey(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===$.RESOURCE_EXHAUSTED?(vs(e.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===e&&this.G_(r,o)}),(r=>{t((()=>{const o=new lt($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,e){const r=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ct(HE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(ct(HE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bN extends S1{constructor(t,e,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=VM(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Et.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Et.min():c.readTime?On(c.readTime):Et.min()})(t);return this.listener.J_(e,r)}Z_(t){const e={};e.database=Jp(this.serializer),e.addTarget=(function(u,c){let m;const p=c.target;if(m=Qp(p)?{documents:NM(u,p)}:{query:OM(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=u1(u,c.resumeToken);const g=Wp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(Et.min())>0){m.readTime=pf(u,c.snapshotVersion.toTimestamp());const g=Wp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const r=kM(this.serializer,t);r&&(e.labels=r),this.K_(e)}X_(t){const e={};e.database=Jp(this.serializer),e.removeTarget=t,this.K_(e)}}class wN extends S1{constructor(t,e,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=MM(t.writeResults,t.commitTime),r=On(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=Jp(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>d1(this.serializer,r)))};this.K_(e)}}class RN{}class CN extends RN{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new lt($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Wo(t,Zp(e,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new lt($.UNKNOWN,u.toString())}))}jo(t,e,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.jo(t,Zp(e,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt($.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function IN(n,t,e,r){return new CN(n,t,e,r)}class DN{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vs(e),this.aa=!1):ct("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ea="RemoteStore";class xN{constructor(t,e,r,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{ba(this)&&(ct(Ea,"Restarting streams for network reachability change."),await(async function(p){const g=bt(p);g.Ea.add(4),await Xu(g),g.Va.set("Unknown"),g.Ea.delete(4),await Yf(g)})(this))}))})),this.Va=new DN(r,o)}}async function Yf(n){if(ba(n))for(const t of n.Ra)await t(!0)}async function Xu(n){for(const t of n.Ra)await t(!1)}function A1(n,t){const e=bt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),ry(e)?sy(e):Qo(e).O_()&&iy(e,t))}function ny(n,t){const e=bt(n),r=Qo(e);e.Ia.delete(t),r.O_()&&b1(e,t),e.Ia.size===0&&(r.O_()?r.L_():ba(e)&&e.Va.set("Unknown"))}function iy(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Qo(n).Z_(t)}function b1(n,t){n.da.$e(t),Qo(n).X_(t)}function sy(n){n.da=new AM({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Qo(n).start(),n.Va.ua()}function ry(n){return ba(n)&&!Qo(n).x_()&&n.Ia.size>0}function ba(n){return bt(n).Ea.size===0}function w1(n){n.da=void 0}async function VN(n){n.Va.set("Online")}async function MN(n){n.Ia.forEach(((t,e)=>{iy(n,t)}))}async function NN(n,t){w1(n),ry(n)?(n.Va.ha(t),sy(n)):n.Va.set("Unknown")}async function ON(n,t,e){if(n.Va.set("Online"),t instanceof l1&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.da.removeTarget(m))})(n,t)}catch(r){ct(Ea,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await _f(n,r)}else if(t instanceof Xh?n.da.Xe(t):t instanceof o1?n.da.st(t):n.da.tt(t),!e.isEqual(Et.min()))try{const r=await E1(n.localStore);e.compareTo(r)>=0&&await(function(u,c){const m=u.da.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(en.EMPTY_BYTE_STRING,_.snapshotVersion)),b1(u,p);const T=new ur(_.target,p,g,_.sequenceNumber);iy(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(n,e)}catch(r){ct(Ea,"Failed to raise snapshot:",r),await _f(n,r)}}async function _f(n,t,e){if(!Ko(t))throw t;n.Ea.add(1),await Xu(n),n.Va.set("Offline"),e||(e=()=>E1(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ct(Ea,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Yf(n)}))}function R1(n,t){return t().catch((e=>_f(n,e,t)))}async function Qf(n){const t=bt(n),e=br(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Fg;for(;PN(t);)try{const o=await pN(t.localStore,r);if(o===null){t.Ta.length===0&&e.L_();break}r=o.batchId,kN(t,o)}catch(o){await _f(t,o)}C1(t)&&I1(t)}function PN(n){return ba(n)&&n.Ta.length<10}function kN(n,t){n.Ta.push(t);const e=br(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function C1(n){return ba(n)&&!br(n).x_()&&n.Ta.length>0}function I1(n){br(n).start()}async function LN(n){br(n).ra()}async function UN(n){const t=br(n);for(const e of n.Ta)t.ea(e.mutations)}async function BN(n,t,e){const r=n.Ta.shift(),o=Qg.from(r,t,e);await R1(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Qf(n)}async function zN(n,t){t&&br(n).Y_&&await(async function(r,o){if((function(c){return r1(c)&&c!==$.ABORTED})(o.code)){const u=r.Ta.shift();br(r).B_(),await R1(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Qf(r)}})(n,t),C1(n)&&I1(n)}async function GE(n,t){const e=bt(n);e.asyncQueue.verifyOperationInProgress(),ct(Ea,"RemoteStore received new credentials");const r=ba(e);e.Ea.add(3),await Xu(e),r&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Yf(e)}async function jN(n,t){const e=bt(n);t?(e.Ea.delete(2),await Yf(e)):t||(e.Ea.add(2),await Xu(e),e.Va.set("Unknown"))}function Qo(n){return n.ma||(n.ma=(function(e,r,o){const u=bt(e);return u.sa(),new bN(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Zo:VN.bind(null,n),Yo:MN.bind(null,n),t_:NN.bind(null,n),J_:ON.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),ry(n)?sy(n):n.Va.set("Unknown")):(await n.ma.stop(),w1(n))}))),n.ma}function br(n){return n.fa||(n.fa=(function(e,r,o){const u=bt(e);return u.sa(),new wN(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:LN.bind(null,n),t_:zN.bind(null,n),ta:UN.bind(null,n),na:BN.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await Qf(n)):(await n.fa.stop(),n.Ta.length>0&&(ct(Ea,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class ay{constructor(t,e,r,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,o,u){const c=Date.now()+r,m=new ay(t,e,c,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oy(n,t){if(vs("AsyncQueue",`${t}: ${n}`),Ko(n))return new lt($.UNAVAILABLE,`${t}: ${n}`);throw n}class xo{static emptySet(t){return new xo(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||yt.comparator(e.key,r.key):(e,r)=>yt.comparator(e.key,r.key),this.keyedMap=lu(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof xo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new xo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class KE{constructor(){this.ga=new he(yt.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):vt(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class Uo{constructor(t,e,r,o,u,c,m,p,g){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,r,o,u){const c=[];return e.forEach((m=>{c.push({type:0,doc:m})})),new Uo(t,e,xo.emptySet(e),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&zf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}class FN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class qN{constructor(){this.queries=YE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const o=bt(e),u=o.queries;o.queries=YE(),u.forEach(((c,m)=>{for(const p of m.ba)p.onError(r)}))})(this,new lt($.ABORTED,"Firestore shutting down"))}}function YE(){return new Aa((n=>Kb(n)),zf)}async function ly(n,t){const e=bt(n);let r=3;const o=t.query;let u=e.queries.get(o);u?!u.Sa()&&t.Da()&&(r=2):(u=new FN,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(c){const m=oy(c,`Initialization of query '${yo(t.query)}' failed`);return void t.onError(m)}e.queries.set(o,u),u.ba.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&cy(e)}async function uy(n,t){const e=bt(n),r=t.query;let o=3;const u=e.queries.get(r);if(u){const c=u.ba.indexOf(t);c>=0&&(u.ba.splice(c,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function HN(n,t){const e=bt(n);let r=!1;for(const o of t){const u=o.query,c=e.queries.get(u);if(c){for(const m of c.ba)m.Fa(o)&&(r=!0);c.wa=o}}r&&cy(e)}function GN(n,t,e){const r=bt(n),o=r.queries.get(t);if(o)for(const u of o.ba)u.onError(e);r.queries.delete(t)}function cy(n){n.Ca.forEach((t=>{t.next()}))}var ng,QE;(QE=ng||(ng={})).Ma="default",QE.Cache="cache";class hy{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Uo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Uo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ng.Cache}}class D1{constructor(t){this.key=t}}class x1{constructor(t){this.key=t}}class KN{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ut(),this.mutatedKeys=Ut(),this.eu=Yb(t),this.tu=new xo(this.eu)}get nu(){return this.Za}ru(t,e){const r=e?e.iu:new KE,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((_,T)=>{const S=o.get(_),I=jf(this.query,T)?T:null,P=!!S&&this.mutatedKeys.has(S.key),q=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let j=!1;S&&I?S.data.isEqual(I.data)?P!==q&&(r.track({type:3,doc:I}),j=!0):this.su(S,I)||(r.track({type:2,doc:I}),j=!0,(p&&this.eu(I,p)>0||g&&this.eu(I,g)<0)&&(m=!0)):!S&&I?(r.track({type:0,doc:I}),j=!0):S&&!I&&(r.track({type:1,doc:S}),j=!0,(p||g)&&(m=!0)),j&&(I?(c=c.add(I),u=q?u.add(_):u.delete(_)):(c=c.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),u=u.delete(_.key),r.track({type:1,doc:_})}return{tu:c,iu:r,Ss:m,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((_,T)=>(function(I,P){const q=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Vt:j})}};return q(I)-q(P)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(r),o=o??!1;const m=e&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,c.length!==0||g?{snapshot:new Uo(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new KE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const e=[];return t.forEach((r=>{this.Ya.has(r)||e.push(new x1(r))})),this.Ya.forEach((r=>{t.has(r)||e.push(new D1(r))})),e}cu(t){this.Za=t.ks,this.Ya=Ut();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const fy="SyncEngine";class YN{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class QN{constructor(t){this.key=t,this.hu=!1}}class XN{constructor(t,e,r,o,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Aa((m=>Kb(m)),zf),this.Iu=new Map,this.Eu=new Set,this.Ru=new he(yt.comparator),this.Au=new Map,this.Vu=new Wg,this.du={},this.mu=new Map,this.fu=Lo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $N(n,t,e=!0){const r=k1(n);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await V1(r,t,e,!0),o}async function WN(n,t){const e=k1(n);await V1(e,t,!0,!1)}async function V1(n,t,e,r){const o=await gN(n.localStore,qi(t)),u=o.targetId,c=n.sharedClientState.addLocalQueryTarget(u,e);let m;return r&&(m=await ZN(n,t,u,c==="current",o.resumeToken)),n.isPrimaryClient&&e&&A1(n.remoteStore,o),m}async function ZN(n,t,e,r,o){n.pu=(T,S,I)=>(async function(q,j,F,Z){let Y=j.view.ru(F);Y.Ss&&(Y=await zE(q.localStore,j.query,!1).then((({documents:C})=>j.view.ru(C,Y))));const rt=Z&&Z.targetChanges.get(j.targetId),ot=Z&&Z.targetMismatches.get(j.targetId)!=null,dt=j.view.applyChanges(Y,q.isPrimaryClient,rt,ot);return $E(q,j.targetId,dt.au),dt.snapshot})(n,T,S,I);const u=await zE(n.localStore,t,!0),c=new KN(t,u.ks),m=c.ru(u.documents),p=Qu.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",o),g=c.applyChanges(m,n.isPrimaryClient,p);$E(n,e,g.au);const _=new YN(t,e,c);return n.Tu.set(t,_),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),g.snapshot}async function JN(n,t,e){const r=bt(n),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!zf(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await tg(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),e&&ny(r.remoteStore,o.targetId),ig(r,o.targetId)})).catch(Go)):(ig(r,o.targetId),await tg(r.localStore,o.targetId,!0))}async function tO(n,t){const e=bt(n),r=e.Tu.get(t),o=e.Iu.get(r.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),ny(e.remoteStore,r.targetId))}async function eO(n,t,e){const r=lO(n);try{const o=await(function(c,m){const p=bt(c),g=re.now(),_=m.reduce(((I,P)=>I.add(P.key)),Ut());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let P=Ts(),q=Ut();return p.xs.getEntries(I,_).next((j=>{P=j,P.forEach(((F,Z)=>{Z.isValidDocument()||(q=q.add(F))}))})).next((()=>p.localDocuments.getOverlayedDocuments(I,P))).next((j=>{T=j;const F=[];for(const Z of m){const Y=yM(Z,T.get(Z.key).overlayedDocument);Y!=null&&F.push(new Dr(Z.key,Y,Ub(Y.value.mapValue),an.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,F,m)})).next((j=>{S=j;const F=j.applyToLocalDocumentSet(T,q);return p.documentOverlayCache.saveOverlays(I,j.batchId,F)}))})).then((()=>({batchId:S.batchId,changes:Xb(T)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.du[c.currentUser.toKey()];g||(g=new he(Lt)),g=g.insert(m,p),c.du[c.currentUser.toKey()]=g})(r,o.batchId,e),await $u(r,o.changes),await Qf(r.remoteStore)}catch(o){const u=oy(o,"Failed to persist write");e.reject(u)}}async function M1(n,t){const e=bt(n);try{const r=await dN(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=e.Au.get(u);c&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Ft(c.hu,14607):o.removedDocuments.size>0&&(Ft(c.hu,42227),c.hu=!1))})),await $u(e,r,t)}catch(r){await Go(r)}}function XE(n,t,e){const r=bt(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=bt(c);p.onlineState=m;let g=!1;p.queries.forEach(((_,T)=>{for(const S of T.ba)S.va(m)&&(g=!0)})),g&&cy(p)})(r.eventManager,t),o.length&&r.Pu.J_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function nO(n,t,e){const r=bt(n);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new he(yt.comparator);c=c.insert(u,Ge.newNoDocument(u,Et.min()));const m=Ut().add(u),p=new Gf(Et.min(),new Map,new he(Lt),c,m);await M1(r,p),r.Ru=r.Ru.remove(u),r.Au.delete(t),dy(r)}else await tg(r.localStore,t,!1).then((()=>ig(r,t,e))).catch(Go)}async function iO(n,t){const e=bt(n),r=t.batch.batchId;try{const o=await fN(e.localStore,t);O1(e,r,null),N1(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await $u(e,o)}catch(o){await Go(o)}}async function sO(n,t,e){const r=bt(n);try{const o=await(function(c,m){const p=bt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Ft(T!==null,37113),_=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(r.localStore,t);O1(r,t,e),N1(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await $u(r,o)}catch(o){await Go(o)}}function N1(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function O1(n,t,e){const r=bt(n);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),r.du[r.currentUser.toKey()]=o}}function ig(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((r=>{n.Vu.containsKey(r)||P1(n,r)}))}function P1(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&(ny(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),dy(n))}function $E(n,t,e){for(const r of e)r instanceof D1?(n.Vu.addReference(r.key,t),rO(n,r)):r instanceof x1?(ct(fy,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,t),n.Vu.containsKey(r.key)||P1(n,r.key)):vt(19791,{wu:r})}function rO(n,t){const e=t.key,r=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(r)||(ct(fy,"New document in limbo: "+e),n.Eu.add(r),dy(n))}function dy(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new yt(te.fromString(t)),r=n.fu.next();n.Au.set(r,new QN(e)),n.Ru=n.Ru.insert(e,r),A1(n.remoteStore,new ur(qi(Bf(e.path)),r,"TargetPurposeLimboResolution",Lf.ce))}}async function $u(n,t,e){const r=bt(n),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{c.push(r.pu(p,t,e).then((g=>{if((g||e)&&r.isPrimaryClient){const _=g?!g.fromCache:e?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){o.push(g);const _=Jg.Es(p.targetId,g);u.push(_)}})))})),await Promise.all(c),r.Pu.J_(o),await(async function(p,g){const _=bt(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>nt.forEach(g,(S=>nt.forEach(S.Ts,(I=>_.persistence.referenceDelegate.addReference(T,S.targetId,I))).next((()=>nt.forEach(S.Is,(I=>_.persistence.referenceDelegate.removeReference(T,S.targetId,I)))))))))}catch(T){if(!Ko(T))throw T;ct(ty,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const I=_.vs.get(S),P=I.snapshotVersion,q=I.withLastLimboFreeSnapshotVersion(P);_.vs=_.vs.insert(S,q)}}})(r.localStore,u))}async function aO(n,t){const e=bt(n);if(!e.currentUser.isEqual(t)){ct(fy,"User change. New user:",t.toKey());const r=await T1(e.localStore,t);e.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new lt($.CANCELLED,c))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await $u(e,r.Ns)}}function oO(n,t){const e=bt(n),r=e.Au.get(t);if(r&&r.hu)return Ut().add(r.key);{let o=Ut();const u=e.Iu.get(t);if(!u)return o;for(const c of u){const m=e.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function k1(n){const t=bt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=M1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=oO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=nO.bind(null,t),t.Pu.J_=HN.bind(null,t.eventManager),t.Pu.yu=GN.bind(null,t.eventManager),t}function lO(n){const t=bt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=iO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=sO.bind(null,t),t}class vf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Kf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return hN(this.persistence,new lN,t.initialUser,this.serializer)}Cu(t){return new v1(Zg.Vi,this.serializer)}Du(t){return new _N}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vf.provider={build:()=>new vf};class uO extends vf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Ft(this.persistence.referenceDelegate instanceof yf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new YM(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new v1((r=>yf.Vi(r,e)),this.serializer)}}class sg{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>XE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aO.bind(null,this.syncEngine),await jN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new qN})()}createDatastore(t){const e=Kf(t.databaseInfo.databaseId),r=AN(t.databaseInfo);return IN(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,o,u,c,m){return new xN(r,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(e=>XE(this.syncEngine,e,0)),(function(){return qE.v()?new qE:new vN})())}createSyncEngine(t,e){return(function(o,u,c,m,p,g,_){const T=new XN(o,u,c,m,p,g);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=bt(e);ct(Ea,"RemoteStore shutting down."),r.Ea.add(5),await Xu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sg.provider={build:()=>new sg};class my{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):vs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}let cO=class{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new lt($.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const e=await(async function(o,u){const c=bt(o),m={documents:u.map((T=>gf(c.serializer,T)))},p=await c.jo("BatchGetDocuments",c.serializer.databaseId,te.emptyPath(),m,u.length),g=new Map;p.forEach((T=>{const S=xM(c.serializer,T);g.set(S.key.toString(),S)}));const _=[];return u.forEach((T=>{const S=g.get(T.toString());Ft(!!S,55234,{key:T}),_.push(S)})),_})(this.datastore,t);return e.forEach((r=>this.recordVersion(r))),e}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new Hf(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((e=>{t.delete(e.key.toString())})),t.forEach(((e,r)=>{const o=yt.fromPath(r);this.mutations.push(new s1(o,this.precondition(o)))})),await(async function(r,o){const u=bt(r),c={writes:o.map((m=>d1(u.serializer,m)))};await u.Wo("Commit",u.serializer.databaseId,te.emptyPath(),c)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw vt(50498,{Gu:t.constructor.name});e=Et.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!e.isEqual(r))throw new lt($.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Et.min())?an.exists(!1):an.updateTime(e):an.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Et.min()))throw new lt($.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return an.updateTime(e)}return an.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}};class hO{constructor(t,e,r,o,u){this.asyncQueue=t,this.datastore=e,this.options=r,this.updateFunction=o,this.deferred=u,this.zu=r.maxAttempts,this.M_=new ey(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const t=new cO(this.datastore),e=this.Ju(t);e&&e.then((r=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(r)})).catch((o=>{this.Zu(o)}))))})).catch((r=>{this.Zu(r)}))}))}Ju(t){try{const e=this.updateFunction(t);return!Ku(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Zu(t){this.zu>0&&this.Xu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(t)}Xu(t){if(t?.name==="FirebaseError"){const e=t.code;return e==="aborted"||e==="failed-precondition"||e==="already-exists"||!r1(e)}return!1}}const wr="FirestoreClient";class fO{constructor(t,e,r,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this._databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=jg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{ct(wr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ct(wr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=oy(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function _p(n,t){n.asyncQueue.verifyOperationInProgress(),ct(wr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await T1(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function WE(n,t){n.asyncQueue.verifyOperationInProgress();const e=await dO(n);ct(wr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((r=>GE(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>GE(t.remoteStore,o))),n._onlineComponents=t}async function dO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ct(wr,"Using user provided OfflineComponentProvider");try{await _p(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;No("Error using user provided cache. Falling back to memory cache: "+e),await _p(n,new vf)}}else ct(wr,"Using default OfflineComponentProvider"),await _p(n,new uO(void 0));return n._offlineComponents}async function py(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ct(wr,"Using user provided OnlineComponentProvider"),await WE(n,n._uninitializedComponentsProvider._online)):(ct(wr,"Using default OnlineComponentProvider"),await WE(n,new sg))),n._onlineComponents}function mO(n){return py(n).then((t=>t.syncEngine))}function pO(n){return py(n).then((t=>t.datastore))}async function Tf(n){const t=await py(n),e=t.eventManager;return e.onListen=$N.bind(null,t.syncEngine),e.onUnlisten=JN.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=WN.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=tO.bind(null,t.syncEngine),e}function gO(n,t,e,r){const o=new my(r),u=new hy(t,o,e);return n.asyncQueue.enqueueAndForget((async()=>ly(await Tf(n),u))),()=>{o.Nu(),n.asyncQueue.enqueueAndForget((async()=>uy(await Tf(n),u)))}}function yO(n,t,e={}){const r=new ji;return n.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const _=new my({next:S=>{_.Nu(),c.enqueueAndForget((()=>uy(u,T)));const I=S.docs.has(m);!I&&S.fromCache?g.reject(new lt($.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&S.fromCache&&p&&p.source==="server"?g.reject(new lt($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new hy(Bf(m.path),_,{includeMetadataChanges:!0,Ka:!0});return ly(u,T)})(await Tf(n),n.asyncQueue,t,e,r))),r.promise}function _O(n,t,e={}){const r=new ji;return n.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const _=new my({next:S=>{_.Nu(),c.enqueueAndForget((()=>uy(u,T))),S.fromCache&&p.source==="server"?g.reject(new lt($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new hy(m,_,{includeMetadataChanges:!0,Ka:!0});return ly(u,T)})(await Tf(n),n.asyncQueue,t,e,r))),r.promise}function vO(n,t){const e=new ji;return n.asyncQueue.enqueueAndForget((async()=>eO(await mO(n),t,e))),e.promise}function TO(n,t,e){const r=new ji;return n.asyncQueue.enqueueAndForget((async()=>{const o=await pO(n);new hO(n.asyncQueue,o,e,t,r).ju()})),r.promise}function L1(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const EO="ComponentProvider",ZE=new Map;function SO(n,t,e,r,o){return new UV(n,t,e,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,L1(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const U1="firestore.googleapis.com",JE=!0;class tS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=U1,this.ssl=JE}else this.host=t.host,this.ssl=t.ssl??JE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<GM)throw new lt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}CV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=L1(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Xf{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new yV;switch(r.type){case"firstParty":return new EV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=ZE.get(e);r&&(ct(EO,"Removing Datastore"),ZE.delete(e),r.terminate())})(this),Promise.resolve()}}function AO(n,t,e,r={}){n=Fi(n,Xf);const o=jo(t),u=n._getSettings(),c={...u,emulatorOptions:n._getEmulatorOptions()},m=`${t}:${e}`;o&&(NA(`https://${m}`),OA("Firestore",!0)),u.host!==U1&&u.host!==m&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!ya(p,c)&&(n._setSettings(p),r.mockUserToken)){let g,_;if(typeof r.mockUserToken=="string")g=r.mockUserToken,_=rn.MOCK_USER;else{g=jI(r.mockUserToken,n._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new lt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new rn(T)}n._authCredentials=new _V(new Rb(g,_))}}class xr{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new xr(this.firestore,t,this._query)}}class Ee{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ee(this.firestore,t,this._key)}toJSON(){return{type:Ee._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(Gu(e,Ee._jsonSchema))return new Ee(t,r||null,new yt(te.fromString(e.referencePath)))}}Ee._jsonSchemaVersion="firestore/documentReference/1.0",Ee._jsonSchema={type:Oe("string",Ee._jsonSchemaVersion),referencePath:Oe("string")};class yr extends xr{constructor(t,e,r){super(t,e,Bf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ee(this.firestore,null,new yt(t))}withConverter(t){return new yr(this.firestore,t,this._path)}}function Nu(n,t,...e){if(n=ze(n),Cb("collection","path",t),n instanceof Xf){const r=te.fromString(t,...e);return dE(r),new yr(n,null,r)}{if(!(n instanceof Ee||n instanceof yr))throw new lt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(te.fromString(t,...e));return dE(r),new yr(n.firestore,null,r)}}function Ou(n,t,...e){if(n=ze(n),arguments.length===1&&(t=jg.newId()),Cb("doc","path",t),n instanceof Xf){const r=te.fromString(t,...e);return fE(r),new Ee(n,null,new yt(r))}{if(!(n instanceof Ee||n instanceof yr))throw new lt($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(te.fromString(t,...e));return fE(r),new Ee(n.firestore,n instanceof yr?n.converter:null,new yt(r))}}const eS="AsyncQueue";class nS{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ey(this,"async_queue_retry"),this._c=()=>{const r=yp();r&&ct(eS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=yp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=yp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new ji;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Ko(t))throw t;ct(eS,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,vs("INTERNAL UNHANDLED ERROR: ",iS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=ay.createAndSchedule(this,t,e,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:iS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function iS(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Sa extends Xf{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new nS,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new nS(t),this._firestoreClient=void 0,await t}}}function bO(n,t){const e=typeof n=="object"?n:UA(),r=typeof n=="string"?n:hf,o=Mg(e,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=BI("firestore");u&&AO(o,...u)}return o}function Xo(n){if(n._terminated)throw new lt($.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||wO(n),n._firestoreClient}function wO(n){const t=n._freezeSettings(),e=SO(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new fO(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(n._componentsProvider))}class Mn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Mn(en.fromBase64String(t))}catch(e){throw new lt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Mn(en.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Gu(t,Mn._jsonSchema))return Mn.fromBase64String(t.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:Oe("string",Mn._jsonSchemaVersion),bytes:Oe("string")};class $f{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new lt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Wf{constructor(t){this._methodName=t}}class Hi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new lt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new lt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(t){if(Gu(t,Hi._jsonSchema))return new Hi(t.latitude,t.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:Oe("string",Hi._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};class mi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Gu(t,mi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new mi(t.vectorValues);throw new lt($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mi._jsonSchemaVersion="firestore/vectorValue/1.0",mi._jsonSchema={type:Oe("string",mi._jsonSchemaVersion),vectorValues:Oe("object")};const RO=/^__.*__$/;class CO{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Dr(t,this.data,this.fieldMask,e,this.fieldTransforms):new Yu(t,this.data,e,this.fieldTransforms)}}class B1{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Dr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function z1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{dataSource:n})}}class gy{constructor(t,e,r,o,u,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new gy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),r=this.contextWith({path:e,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const e=this.path?.child(t),r=this.contextWith({path:e,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Ef(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(z1(this.dataSource)&&RO.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class IO{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||Kf(t)}createContext(t,e,r,o=!1){return new gy({dataSource:t,methodName:e,targetDoc:r,path:tn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yy(n){const t=n._freezeSettings(),e=Kf(n._databaseId);return new IO(n._databaseId,!!t.ignoreUndefinedProperties,e)}function j1(n,t,e,r,o,u={}){const c=n.createContext(u.merge||u.mergeFields?2:0,t,e,o);vy("Data must be an object, but it was:",c,r);const m=H1(r,c);let p,g;if(u.merge)p=new Nn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const _=[];for(const T of u.mergeFields){const S=Bo(t,T,e);if(!c.contains(S))throw new lt($.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Y1(_,S)||_.push(S)}p=new Nn(_),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new CO(new fn(m),p,g)}class Zf extends Wf{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Zf}}class _y extends Wf{_toFieldTransform(t){return new dM(t.path,new xu)}isEqual(t){return t instanceof _y}}function F1(n,t,e,r){const o=n.createContext(1,t,e);vy("Data must be an object, but it was:",o,r);const u=[],c=fn.empty();Ir(r,((p,g)=>{const _=K1(t,p,e);g=ze(g);const T=o.childContextForFieldPath(_);if(g instanceof Zf)u.push(_);else{const S=Wu(g,T);S!=null&&(u.push(_),c.set(_,S))}}));const m=new Nn(u);return new B1(c,m,o.fieldTransforms)}function q1(n,t,e,r,o,u){const c=n.createContext(1,t,e),m=[Bo(t,r,e)],p=[o];if(u.length%2!=0)throw new lt($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Bo(t,u[S])),p.push(u[S+1]);const g=[],_=fn.empty();for(let S=m.length-1;S>=0;--S)if(!Y1(g,m[S])){const I=m[S];let P=p[S];P=ze(P);const q=c.childContextForFieldPath(I);if(P instanceof Zf)g.push(I);else{const j=Wu(P,q);j!=null&&(g.push(I),_.set(I,j))}}const T=new Nn(g);return new B1(_,T,c.fieldTransforms)}function DO(n,t,e,r=!1){return Wu(e,n.createContext(r?4:3,t))}function Wu(n,t){if(G1(n=ze(n)))return vy("Unsupported field value:",t,n),H1(n,t);if(n instanceof Wf)return(function(r,o){if(!z1(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let p=Wu(m,o.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(n,t)}return(function(r,o){if((r=ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cM(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=re.fromDate(r);return{timestampValue:pf(o.serializer,u)}}if(r instanceof re){const u=new re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pf(o.serializer,u)}}if(r instanceof Hi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mn)return{bytesValue:u1(o.serializer,r._byteString)};if(r instanceof Ee){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:$g(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof mi)return(function(c,m){const p=c instanceof mi?c.toArray():c;return{mapValue:{fields:{[kb]:{stringValue:Lb},[ff]:{arrayValue:{values:p.map((_=>{if(typeof _!="number")throw m.createError("VectorValues must only contain numeric values.");return Yg(m.serializer,_)}))}}}}}})(r,o);if(y1(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${kf(r)}`)})(n,t)}function H1(n,t){const e={};return xb(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ir(n,((r,o)=>{const u=Wu(o,t.childContextForField(r));u!=null&&(e[r]=u)})),{mapValue:{fields:e}}}function G1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof re||n instanceof Hi||n instanceof Mn||n instanceof Ee||n instanceof Wf||n instanceof mi||y1(n))}function vy(n,t,e){if(!G1(e)||!Ib(e)){const r=kf(e);throw r==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+r)}}function Bo(n,t,e){if((t=ze(t))instanceof $f)return t._internalPath;if(typeof t=="string")return K1(n,t);throw Ef("Field path arguments must be of type string or ",n,!1,void 0,e)}const xO=new RegExp("[~\\*/\\[\\]]");function K1(n,t,e){if(t.search(xO)>=0)throw Ef(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new $f(...t.split("."))._internalPath}catch{throw Ef(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Ef(n,t,e,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new lt($.INVALID_ARGUMENT,m+n+p)}function Y1(n,t){return n.some((e=>e.isEqual(t)))}class Q1{convertValue(t,e="none"){switch(Ar(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Sr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Ir(t,((o,u)=>{r[o]=this.convertValue(u,e)})),r}convertVectorValue(t){const e=t.fields?.[ff].arrayValue?.values?.map((r=>Te(r.doubleValue)));return new mi(e)}convertGeoPoint(t){return new Hi(Te(t.latitude),Te(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=Uf(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Ru(t));default:return null}}convertTimestamp(t){const e=Er(t);return new re(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=te.fromString(t);Ft(g1(r),9688,{name:t});const o=new Cu(r.get(1),r.get(3)),u=new yt(r.popFirst(5));return o.isEqual(e)||vs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}class Jf extends Q1{constructor(t){super(),this.firestore=t}convertBytes(t){return new Mn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ee(this.firestore,null,e)}}function VO(){return new _y("serverTimestamp")}const sS="@firebase/firestore",rS="4.10.0";function aS(n){return(function(e,r){if(typeof e!="object"||e===null)return!1;const o=e;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(n,["next","error","complete"])}class Sf{constructor(t,e,r,o,u){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ee(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new MO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(Bo("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class MO extends Sf{data(){return super.data()}}function X1(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new lt($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ty{}class $1 extends Ty{}function W1(n,t,...e){let r=[];t instanceof Ty&&r.push(t),r=r.concat(e),(function(u){const c=u.filter((p=>p instanceof Sy)).length,m=u.filter((p=>p instanceof Ey)).length;if(c>1||c>0&&m>0)throw new lt($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class Ey extends $1{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new Ey(t,e,r)}_apply(t){const e=this._parse(t);return J1(t._query,e),new xr(t.firestore,t.converter,Xp(t._query,e))}_parse(t){const e=yy(t.firestore);return(function(u,c,m,p,g,_,T){let S;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new lt($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){lS(T,_);const P=[];for(const q of T)P.push(oS(p,u,q));S={arrayValue:{values:P}}}else S=oS(p,u,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||lS(T,_),S=DO(m,c,T,_==="in"||_==="not-in");return Ne.create(g,_,S)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class Sy extends Ty{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Sy(t,e)}_parse(t){const e=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return e.length===1?e[0]:pi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(o,u){let c=o;const m=u.getFlattenedFilters();for(const p of m)J1(c,p),c=Xp(c,p)})(t._query,e),new xr(t.firestore,t.converter,Xp(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ay extends $1{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Ay(t,e)}_apply(t){const e=(function(o,u,c){if(o.startAt!==null)throw new lt($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new lt($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Du(u,c)})(t._query,this._field,this._direction);return new xr(t.firestore,t.converter,nM(t._query,e))}}function Z1(n,t="asc"){const e=t,r=Bo("orderBy",n);return Ay._create(r,e)}function oS(n,t,e){if(typeof(e=ze(e))=="string"){if(e==="")throw new lt($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gb(t)&&e.indexOf("/")!==-1)throw new lt($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(te.fromString(e));if(!yt.isDocumentKey(r))throw new lt($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return EE(n,new yt(r))}if(e instanceof Ee)return EE(n,e._key);throw new lt($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kf(e)}.`)}function lS(n,t){if(!Array.isArray(n)||n.length===0)throw new lt($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function J1(n,t){const e=(function(o,u){for(const c of o)for(const m of c.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new lt($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function tw(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class NO extends Q1{constructor(t){super(),this.firestore=t}convertBytes(t){return new Mn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ee(this.firestore,null,e)}}class Eo{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class _r extends Sf{constructor(t,e,r,o,u,c){super(t,e,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new $h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Bo("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=_r._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}_r._jsonSchemaVersion="firestore/documentSnapshot/1.0",_r._jsonSchema={type:Oe("string",_r._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class $h extends _r{data(t={}){return super.data(t)}}class pa{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new Eo(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new $h(this._firestore,this._userDataWriter,r.key,r,new Eo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new lt($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new $h(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Eo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new $h(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Eo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),_=c.indexOf(m.doc.key)),{type:OO(m.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=pa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=jg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function OO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:n})}}pa._jsonSchemaVersion="firestore/querySnapshot/1.0",pa._jsonSchema={type:Oe("string",pa._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};const PO={maxAttempts:5};class kO{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=yy(t)}set(t,e,r){this._verifyNotCommitted();const o=cr(t,this._firestore),u=tw(o.converter,e,r),c=j1(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,r);return this._mutations.push(c.toMutation(o._key,an.none())),this}update(t,e,r,...o){this._verifyNotCommitted();const u=cr(t,this._firestore);let c;return c=typeof(e=ze(e))=="string"||e instanceof $f?q1(this._dataReader,"WriteBatch.update",u._key,e,r,o):F1(this._dataReader,"WriteBatch.update",u._key,e),this._mutations.push(c.toMutation(u._key,an.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=cr(t,this._firestore);return this._mutations=this._mutations.concat(new Hf(e._key,an.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new lt($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cr(n,t){if((n=ze(n)).firestore!==t)throw new lt($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class LO{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=yy(t)}get(t){const e=cr(t,this._firestore),r=new NO(this._firestore);return this._transaction.lookup([e._key]).then((o=>{if(!o||o.length!==1)return vt(24041);const u=o[0];if(u.isFoundDocument())return new Sf(this._firestore,r,u.key,u,e.converter);if(u.isNoDocument())return new Sf(this._firestore,r,e._key,null,e.converter);throw vt(18433,{doc:u})}))}set(t,e,r){const o=cr(t,this._firestore),u=tw(o.converter,e,r),c=j1(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,r);return this._transaction.set(o._key,c),this}update(t,e,r,...o){const u=cr(t,this._firestore);let c;return c=typeof(e=ze(e))=="string"||e instanceof $f?q1(this._dataReader,"Transaction.update",u._key,e,r,o):F1(this._dataReader,"Transaction.update",u._key,e),this._transaction.update(u._key,c),this}delete(t){const e=cr(t,this._firestore);return this._transaction.delete(e._key),this}}class UO extends LO{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=cr(t,this._firestore),r=new Jf(this._firestore);return super.get(t).then((o=>new _r(this._firestore,r,e._key,o._document,new Eo(!1,!1),e.converter)))}}function BO(n,t,e){n=Fi(n,Sa);const r={...PO,...e};(function(c){if(c.maxAttempts<1)throw new lt($.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const o=Xo(n);return TO(o,(u=>t(new UO(n,u))),r)}function zO(n){n=Fi(n,Ee);const t=Fi(n.firestore,Sa),e=Xo(t);return yO(e,n._key).then((r=>ew(t,n,r)))}function rg(n){n=Fi(n,xr);const t=Fi(n.firestore,Sa),e=Xo(t),r=new Jf(t);return X1(n._query),_O(e,n._query).then((o=>new pa(t,r,n,o)))}function jO(n,...t){n=ze(n);let e={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||aS(t[r])||(e=t[r++]);const o={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(aS(t[r])){const g=t[r];t[r]=g.next?.bind(g),t[r+1]=g.error?.bind(g),t[r+2]=g.complete?.bind(g)}let u,c,m;if(n instanceof Ee)c=Fi(n.firestore,Sa),m=Bf(n._key.path),u={next:g=>{t[r]&&t[r](ew(c,n,g))},error:t[r+1],complete:t[r+2]};else{const g=Fi(n,xr);c=Fi(g.firestore,Sa),m=g._query;const _=new Jf(c);u={next:T=>{t[r]&&t[r](new pa(c,_,g,T))},error:t[r+1],complete:t[r+2]},X1(n._query)}const p=Xo(c);return gO(p,m,o,u)}function FO(n,t){const e=Xo(n);return vO(e,t)}function ew(n,t,e){const r=e.docs.get(t._key),o=new Jf(n);return new _r(n,o,t._key,r,new Eo(e.hasPendingWrites,e.fromCache),t.converter)}function qO(n){return n=Fi(n,Sa),Xo(n),new kO(n,(t=>FO(n,t)))}(function(t,e=!0){gV(Fo),Mo(new _a("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new Sa(new vV(r.getProvider("auth-internal")),new SV(c,r.getProvider("app-check-internal")),BV(c,o),c);return u={useFetchStreams:e,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),mr(sS,rS,t),mr(sS,rS,"esm2020")})();const HO={apiKey:"AIzaSyCpfz0Zk6VPZq3_T-sltwFYvCssTNt7SrA",authDomain:"soka-3ce9a.firebaseapp.com",projectId:"soka-3ce9a",storageBucket:"soka-3ce9a.firebasestorage.app",messagingSenderId:"103213261935",appId:"1:103213261935:web:800acc4fb30c7f8f45599a"},nw=LA(HO),Af=fV(nw),fi=bO(nw),GO=({children:n})=>{const[t,e]=st.useState(null),[r,o]=st.useState(!0);return st.useEffect(()=>{const u=ex(Af,c=>{e(c),o(!1),c||X2(Af).catch(m=>{console.error("Auth Error:",m)})});return()=>u()},[]),r?et.jsx("div",{className:"loading",children:"Loading..."}):t?et.jsx(et.Fragment,{children:n}):et.jsx("div",{className:"error",children:"Authenticating..."})},iw=st.createContext(void 0),KO=({children:n})=>{const[t,e]=st.useState({selectedA:null,selectedB:null,selectedC:null,selectedD:null}),[r,o]=st.useState(!1),u=p=>p==="soka2026"||p==="admin"?(o(!0),!0):!1,c=(p,g)=>{e(_=>{const T={..._};return g==="C"?{selectedA:null,selectedB:null,selectedC:p,selectedD:null}:g==="D"?{selectedA:null,selectedB:null,selectedC:null,selectedD:p}:((g==="A"||g==="B")&&(T.selectedC=null,T.selectedD=null,g==="A"&&(T.selectedA=p),g==="B"&&(T.selectedB=p)),T)})},m=!!t.selectedC||!!t.selectedD||!!t.selectedA&&!!t.selectedB;return et.jsx(iw.Provider,{value:{selection:t,selectSession:c,isValid:m,isAdmin:r,login:u},children:n})},by=()=>{const n=st.useContext(iw);if(!n)throw new Error("useBooking must be used within BookingProvider");return n},sw=()=>{const[n,t]=st.useState([]),[e,r]=st.useState(!0);return st.useEffect(()=>{const o=W1(Nu(fi,"slots"),Z1("id")),u=jO(o,c=>{const m=c.docs.map(p=>p.data());t(m),r(!1)},c=>{console.error("Error fetching real-time slots:",c),r(!1)});return()=>u()},[]),{slots:n,loading:e}},YO=()=>{const n=async()=>{if(!confirm(`  

1. 
2. 

`))return;const e=qO(fi);try{const r=Nu(fi,"bookings");(await rg(r)).forEach(g=>{e.delete(g.ref)});const u=Nu(fi,"slots");(await rg(u)).forEach(g=>{e.delete(g.ref)}),[{id:"2F_A",type:"A",location:"",title:"",description:"",capacity:50,booked:0,startTime:"20"},{id:"3F_A",type:"A",location:"",title:"*4 / *4",description:`



`,capacity:160,booked:0,startTime:"20"},{id:"5F_A",type:"A",location:"",title:" OPEN SPACE",description:"",capacity:120,booked:0,startTime:"20"},{id:"2F_B",type:"B",location:"",title:"",description:"",capacity:50,booked:0,startTime:"20"},{id:"3F_B",type:"B",location:"",title:"*4 / *4",description:`



`,capacity:160,booked:0,startTime:"20"},{id:"5F_B",type:"B",location:"",title:" OPEN SPACE",description:"",capacity:120,booked:0,startTime:"20"},{id:"6F_C",type:"C",location:"",title:"",description:" SEL ",capacity:70,booked:0,startTime:"40"},{id:"6F_D",type:"D",location:"",title:"",description:"",capacity:70,booked:0,startTime:"40"}].forEach(g=>{const _=Ou(fi,"slots",g.id);e.set(_,{...g,endTime:""})});const p=Ou(fi,"system","config");e.set(p,{lastReset:new Date().toISOString()}),await e.commit(),alert(""),window.location.reload()}catch(r){console.error(r),alert(" Error seeding data")}};return et.jsx("button",{onClick:n,className:"btn-primary",style:{margin:"20px auto",display:"block"},children:" (Initialize DB)"})},wy=st.createContext({});function Ry(n){const t=st.useRef(null);return t.current===null&&(t.current=n()),t.current}const rw=typeof window<"u",aw=rw?st.useLayoutEffect:st.useEffect,td=st.createContext(null);function Cy(n,t){n.indexOf(t)===-1&&n.push(t)}function Iy(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Yi=(n,t,e)=>e>t?t:e<n?n:e;let Dy=()=>{};const Es={},ow=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function lw(n){return typeof n=="object"&&n!==null}const uw=n=>/^0[^.\s]+$/u.test(n);function xy(n){let t;return()=>(t===void 0&&(t=n()),t)}const $n=n=>n,QO=(n,t)=>e=>t(n(e)),Zu=(...n)=>n.reduce(QO),Pu=(n,t,e)=>{const r=t-n;return r===0?1:(e-n)/r};class Vy{constructor(){this.subscriptions=[]}add(t){return Cy(this.subscriptions,t),()=>Iy(this.subscriptions,t)}notify(t,e,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,e,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,e,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ps=n=>n*1e3,Xn=n=>n/1e3;function cw(n,t){return t?n*(1e3/t):0}const hw=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,XO=1e-7,$O=12;function WO(n,t,e,r,o){let u,c,m=0;do c=t+(e-t)/2,u=hw(c,r,o)-n,u>0?e=c:t=c;while(Math.abs(u)>XO&&++m<$O);return c}function Ju(n,t,e,r){if(n===t&&e===r)return $n;const o=u=>WO(u,0,1,n,e);return u=>u===0||u===1?u:hw(o(u),t,r)}const fw=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,dw=n=>t=>1-n(1-t),mw=Ju(.33,1.53,.69,.99),My=dw(mw),pw=fw(My),gw=n=>(n*=2)<1?.5*My(n):.5*(2-Math.pow(2,-10*(n-1))),Ny=n=>1-Math.sin(Math.acos(n)),yw=dw(Ny),_w=fw(Ny),ZO=Ju(.42,0,1,1),JO=Ju(0,0,.58,1),vw=Ju(.42,0,.58,1),tP=n=>Array.isArray(n)&&typeof n[0]!="number",Tw=n=>Array.isArray(n)&&typeof n[0]=="number",eP={linear:$n,easeIn:ZO,easeInOut:vw,easeOut:JO,circIn:Ny,circInOut:_w,circOut:yw,backIn:My,backInOut:pw,backOut:mw,anticipate:gw},nP=n=>typeof n=="string",uS=n=>{if(Tw(n)){Dy(n.length===4);const[t,e,r,o]=n;return Ju(t,e,r,o)}else if(nP(n))return eP[n];return n},Lh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function iP(n,t){let e=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function p(_){c.has(_)&&(g.schedule(_),n()),_(m)}const g={schedule:(_,T=!1,S=!1)=>{const P=S&&o?e:r;return T&&c.add(_),P.has(_)||P.add(_),_},cancel:_=>{r.delete(_),c.delete(_)},process:_=>{if(m=_,o){u=!0;return}o=!0,[e,r]=[r,e],e.forEach(p),e.clear(),o=!1,u&&(u=!1,g.process(_))}};return g}const sP=40;function Ew(n,t){let e=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>e=!0,c=Lh.reduce((Y,rt)=>(Y[rt]=iP(u),Y),{}),{setup:m,read:p,resolveKeyframes:g,preUpdate:_,update:T,preRender:S,render:I,postRender:P}=c,q=()=>{const Y=Es.useManualTiming?o.timestamp:performance.now();e=!1,Es.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(Y-o.timestamp,sP),1)),o.timestamp=Y,o.isProcessing=!0,m.process(o),p.process(o),g.process(o),_.process(o),T.process(o),S.process(o),I.process(o),P.process(o),o.isProcessing=!1,e&&t&&(r=!1,n(q))},j=()=>{e=!0,r=!0,o.isProcessing||n(q)};return{schedule:Lh.reduce((Y,rt)=>{const ot=c[rt];return Y[rt]=(dt,C=!1,w=!1)=>(e||j(),ot.schedule(dt,C,w)),Y},{}),cancel:Y=>{for(let rt=0;rt<Lh.length;rt++)c[Lh[rt]].cancel(Y)},state:o,steps:c}}const{schedule:ae,cancel:Rr,state:Ze,steps:vp}=Ew(typeof requestAnimationFrame<"u"?requestAnimationFrame:$n,!0);let Wh;function rP(){Wh=void 0}const dn={now:()=>(Wh===void 0&&dn.set(Ze.isProcessing||Es.useManualTiming?Ze.timestamp:performance.now()),Wh),set:n=>{Wh=n,queueMicrotask(rP)}},Sw=n=>t=>typeof t=="string"&&t.startsWith(n),Aw=Sw("--"),aP=Sw("var(--"),Oy=n=>aP(n)?oP.test(n.split("/*")[0].trim()):!1,oP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function cS(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const $o={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ku={...$o,transform:n=>Yi(0,1,n)},Uh={...$o,default:1},vu=n=>Math.round(n*1e5)/1e5,Py=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function lP(n){return n==null}const uP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ky=(n,t)=>e=>!!(typeof e=="string"&&uP.test(e)&&e.startsWith(n)||t&&!lP(e)&&Object.prototype.hasOwnProperty.call(e,t)),bw=(n,t,e)=>r=>{if(typeof r!="string")return r;const[o,u,c,m]=r.match(Py);return{[n]:parseFloat(o),[t]:parseFloat(u),[e]:parseFloat(c),alpha:m!==void 0?parseFloat(m):1}},cP=n=>Yi(0,255,n),Tp={...$o,transform:n=>Math.round(cP(n))},da={test:ky("rgb","red"),parse:bw("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:r=1})=>"rgba("+Tp.transform(n)+", "+Tp.transform(t)+", "+Tp.transform(e)+", "+vu(ku.transform(r))+")"};function hP(n){let t="",e="",r="",o="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,e+=e,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const ag={test:ky("#"),parse:hP,transform:da.transform},tc=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),ir=tc("deg"),Gi=tc("%"),pt=tc("px"),fP=tc("vh"),dP=tc("vw"),hS={...Gi,parse:n=>Gi.parse(n)/100,transform:n=>Gi.transform(n*100)},So={test:ky("hsl","hue"),parse:bw("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:r=1})=>"hsla("+Math.round(n)+", "+Gi.transform(vu(t))+", "+Gi.transform(vu(e))+", "+vu(ku.transform(r))+")"},Me={test:n=>da.test(n)||ag.test(n)||So.test(n),parse:n=>da.test(n)?da.parse(n):So.test(n)?So.parse(n):ag.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?da.transform(n):So.transform(n),getAnimatableNone:n=>{const t=Me.parse(n);return t.alpha=0,Me.transform(t)}},mP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function pP(n){return isNaN(n)&&typeof n=="string"&&(n.match(Py)?.length||0)+(n.match(mP)?.length||0)>0}const ww="number",Rw="color",gP="var",yP="var(",fS="${}",_P=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Lu(n){const t=n.toString(),e=[],r={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(_P,p=>(Me.test(p)?(r.color.push(u),o.push(Rw),e.push(Me.parse(p))):p.startsWith(yP)?(r.var.push(u),o.push(gP),e.push(p)):(r.number.push(u),o.push(ww),e.push(parseFloat(p))),++u,fS)).split(fS);return{values:e,split:m,indexes:r,types:o}}function Cw(n){return Lu(n).values}function Iw(n){const{split:t,types:e}=Lu(n),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const m=e[c];m===ww?u+=vu(o[c]):m===Rw?u+=Me.transform(o[c]):u+=o[c]}return u}}const vP=n=>typeof n=="number"?0:Me.test(n)?Me.getAnimatableNone(n):n;function TP(n){const t=Cw(n);return Iw(n)(t.map(vP))}const Cr={test:pP,parse:Cw,createTransformer:Iw,getAnimatableNone:TP};function Ep(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function EP({hue:n,saturation:t,lightness:e,alpha:r}){n/=360,t/=100,e/=100;let o=0,u=0,c=0;if(!t)o=u=c=e;else{const m=e<.5?e*(1+t):e+t-e*t,p=2*e-m;o=Ep(p,m,n+1/3),u=Ep(p,m,n),c=Ep(p,m,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function bf(n,t){return e=>e>0?t:n}const ce=(n,t,e)=>n+(t-n)*e,Sp=(n,t,e)=>{const r=n*n,o=e*(t*t-r)+r;return o<0?0:Math.sqrt(o)},SP=[ag,da,So],AP=n=>SP.find(t=>t.test(n));function dS(n){const t=AP(n);if(!t)return!1;let e=t.parse(n);return t===So&&(e=EP(e)),e}const mS=(n,t)=>{const e=dS(n),r=dS(t);if(!e||!r)return bf(n,t);const o={...e};return u=>(o.red=Sp(e.red,r.red,u),o.green=Sp(e.green,r.green,u),o.blue=Sp(e.blue,r.blue,u),o.alpha=ce(e.alpha,r.alpha,u),da.transform(o))},og=new Set(["none","hidden"]);function bP(n,t){return og.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function wP(n,t){return e=>ce(n,t,e)}function Ly(n){return typeof n=="number"?wP:typeof n=="string"?Oy(n)?bf:Me.test(n)?mS:IP:Array.isArray(n)?Dw:typeof n=="object"?Me.test(n)?mS:RP:bf}function Dw(n,t){const e=[...n],r=e.length,o=n.map((u,c)=>Ly(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)e[c]=o[c](u);return e}}function RP(n,t){const e={...n,...t},r={};for(const o in e)n[o]!==void 0&&t[o]!==void 0&&(r[o]=Ly(n[o])(n[o],t[o]));return o=>{for(const u in r)e[u]=r[u](o);return e}}function CP(n,t){const e=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=n.indexes[u][r[u]],m=n.values[c]??0;e[o]=m,r[u]++}return e}const IP=(n,t)=>{const e=Cr.createTransformer(t),r=Lu(n),o=Lu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?og.has(n)&&!o.values.length||og.has(t)&&!r.values.length?bP(n,t):Zu(Dw(CP(r,o),o.values),e):bf(n,t)};function xw(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?ce(n,t,e):Ly(n)(n,t)}const DP=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>ae.update(t,e),stop:()=>Rr(t),now:()=>Ze.isProcessing?Ze.timestamp:dn.now()}},Vw=(n,t,e=10)=>{let r="";const o=Math.max(Math.round(t/e),2);for(let u=0;u<o;u++)r+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},wf=2e4;function Uy(n){let t=0;const e=50;let r=n.next(t);for(;!r.done&&t<wf;)t+=e,r=n.next(t);return t>=wf?1/0:t}function xP(n,t=100,e){const r=e({...n,keyframes:[0,t]}),o=Math.min(Uy(r),wf);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:Xn(o)}}const VP=5;function Mw(n,t,e){const r=Math.max(t-VP,0);return cw(e-n(r),t-r)}const pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ap=.001;function MP({duration:n=pe.duration,bounce:t=pe.bounce,velocity:e=pe.velocity,mass:r=pe.mass}){let o,u,c=1-t;c=Yi(pe.minDamping,pe.maxDamping,c),n=Yi(pe.minDuration,pe.maxDuration,Xn(n)),c<1?(o=g=>{const _=g*c,T=_*n,S=_-e,I=lg(g,c),P=Math.exp(-T);return Ap-S/I*P},u=g=>{const T=g*c*n,S=T*e+e,I=Math.pow(c,2)*Math.pow(g,2)*n,P=Math.exp(-T),q=lg(Math.pow(g,2),c);return(-o(g)+Ap>0?-1:1)*((S-I)*P)/q}):(o=g=>{const _=Math.exp(-g*n),T=(g-e)*n+1;return-Ap+_*T},u=g=>{const _=Math.exp(-g*n),T=(e-g)*(n*n);return _*T});const m=5/n,p=OP(o,u,m);if(n=ps(n),isNaN(p))return{stiffness:pe.stiffness,damping:pe.damping,duration:n};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:n}}}const NP=12;function OP(n,t,e){let r=e;for(let o=1;o<NP;o++)r=r-n(r)/t(r);return r}function lg(n,t){return n*Math.sqrt(1-t*t)}const PP=["duration","bounce"],kP=["stiffness","damping","mass"];function pS(n,t){return t.some(e=>n[e]!==void 0)}function LP(n){let t={velocity:pe.velocity,stiffness:pe.stiffness,damping:pe.damping,mass:pe.mass,isResolvedFromDuration:!1,...n};if(!pS(n,kP)&&pS(n,PP))if(n.visualDuration){const e=n.visualDuration,r=2*Math.PI/(e*1.2),o=r*r,u=2*Yi(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:pe.mass,stiffness:o,damping:u}}else{const e=MP(n);t={...t,...e,mass:pe.mass},t.isResolvedFromDuration=!0}return t}function Rf(n=pe.visualDuration,t=pe.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=e;const u=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],m={done:!1,value:u},{stiffness:p,damping:g,mass:_,duration:T,velocity:S,isResolvedFromDuration:I}=LP({...e,velocity:-Xn(e.velocity||0)}),P=S||0,q=g/(2*Math.sqrt(p*_)),j=c-u,F=Xn(Math.sqrt(p/_)),Z=Math.abs(j)<5;r||(r=Z?pe.restSpeed.granular:pe.restSpeed.default),o||(o=Z?pe.restDelta.granular:pe.restDelta.default);let Y;if(q<1){const ot=lg(F,q);Y=dt=>{const C=Math.exp(-q*F*dt);return c-C*((P+q*F*j)/ot*Math.sin(ot*dt)+j*Math.cos(ot*dt))}}else if(q===1)Y=ot=>c-Math.exp(-F*ot)*(j+(P+F*j)*ot);else{const ot=F*Math.sqrt(q*q-1);Y=dt=>{const C=Math.exp(-q*F*dt),w=Math.min(ot*dt,300);return c-C*((P+q*F*j)*Math.sinh(w)+ot*j*Math.cosh(w))/ot}}const rt={calculatedDuration:I&&T||null,next:ot=>{const dt=Y(ot);if(I)m.done=ot>=T;else{let C=ot===0?P:0;q<1&&(C=ot===0?ps(P):Mw(Y,ot,dt));const w=Math.abs(C)<=r,R=Math.abs(c-dt)<=o;m.done=w&&R}return m.value=m.done?c:dt,m},toString:()=>{const ot=Math.min(Uy(rt),wf),dt=Vw(C=>rt.next(ot*C).value,ot,30);return ot+"ms "+dt},toTransition:()=>{}};return rt}Rf.applyToOptions=n=>{const t=xP(n,100,Rf);return n.ease=t.ease,n.duration=ps(t.duration),n.type="keyframes",n};function ug({keyframes:n,velocity:t=0,power:e=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:m,max:p,restDelta:g=.5,restSpeed:_}){const T=n[0],S={done:!1,value:T},I=w=>m!==void 0&&w<m||p!==void 0&&w>p,P=w=>m===void 0?p:p===void 0||Math.abs(m-w)<Math.abs(p-w)?m:p;let q=e*t;const j=T+q,F=c===void 0?j:c(j);F!==j&&(q=F-T);const Z=w=>-q*Math.exp(-w/r),Y=w=>F+Z(w),rt=w=>{const R=Z(w),M=Y(w);S.done=Math.abs(R)<=g,S.value=S.done?F:M};let ot,dt;const C=w=>{I(S.value)&&(ot=w,dt=Rf({keyframes:[S.value,P(S.value)],velocity:Mw(Y,w,S.value),damping:o,stiffness:u,restDelta:g,restSpeed:_}))};return C(0),{calculatedDuration:null,next:w=>{let R=!1;return!dt&&ot===void 0&&(R=!0,rt(w),C(w)),ot!==void 0&&w>=ot?dt.next(w-ot):(!R&&rt(w),S)}}}function UP(n,t,e){const r=[],o=e||Es.mix||xw,u=n.length-1;for(let c=0;c<u;c++){let m=o(n[c],n[c+1]);if(t){const p=Array.isArray(t)?t[c]||$n:t;m=Zu(p,m)}r.push(m)}return r}function BP(n,t,{clamp:e=!0,ease:r,mixer:o}={}){const u=n.length;if(Dy(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const m=UP(t,r,o),p=m.length,g=_=>{if(c&&_<n[0])return t[0];let T=0;if(p>1)for(;T<n.length-2&&!(_<n[T+1]);T++);const S=Pu(n[T],n[T+1],_);return m[T](S)};return e?_=>g(Yi(n[0],n[u-1],_)):g}function zP(n,t){const e=n[n.length-1];for(let r=1;r<=t;r++){const o=Pu(0,t,r);n.push(ce(e,1,o))}}function jP(n){const t=[0];return zP(t,n.length-1),t}function FP(n,t){return n.map(e=>e*t)}function qP(n,t){return n.map(()=>t||vw).splice(0,n.length-1)}function Tu({duration:n=300,keyframes:t,times:e,ease:r="easeInOut"}){const o=tP(r)?r.map(uS):uS(r),u={done:!1,value:t[0]},c=FP(e&&e.length===t.length?e:jP(t),n),m=BP(c,t,{ease:Array.isArray(o)?o:qP(t,o)});return{calculatedDuration:n,next:p=>(u.value=m(p),u.done=p>=n,u)}}const HP=n=>n!==null;function By(n,{repeat:t,repeatType:e="loop"},r,o=1){const u=n.filter(HP),m=o<0||t&&e!=="loop"&&t%2===1?0:u.length-1;return!m||r===void 0?u[m]:r}const GP={decay:ug,inertia:ug,tween:Tu,keyframes:Tu,spring:Rf};function Nw(n){typeof n.type=="string"&&(n.type=GP[n.type])}class zy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const KP=n=>n/100;class jy extends zy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==dn.now()&&this.tick(dn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Nw(t);const{type:e=Tu,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:m}=t;const p=e||Tu;p!==Tu&&typeof m[0]!="number"&&(this.mixKeyframes=Zu(KP,xw(m[0],m[1])),m=[0,100]);const g=p({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...m].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Uy(g));const{calculatedDuration:_}=g;this.calculatedDuration=_,this.resolvedDuration=_+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:m,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:_,repeat:T,repeatType:S,repeatDelay:I,type:P,onUpdate:q,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const F=this.currentTime-g*(this.playbackSpeed>=0?1:-1),Z=this.playbackSpeed>=0?F<0:F>o;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let Y=this.currentTime,rt=r;if(T){const w=Math.min(this.currentTime,o)/m;let R=Math.floor(w),M=w%1;!M&&w>=1&&(M=1),M===1&&R--,R=Math.min(R,T+1),R%2&&(S==="reverse"?(M=1-M,I&&(M-=I/m)):S==="mirror"&&(rt=c)),Y=Yi(0,1,M)*m}const ot=Z?{done:!1,value:_[0]}:rt.next(Y);u&&(ot.value=u(ot.value));let{done:dt}=ot;!Z&&p!==null&&(dt=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&dt);return C&&P!==ug&&(ot.value=By(_,this.options,j,this.speed)),q&&q(ot.value),C&&this.finish(),ot}then(t,e){return this.finished.then(t,e)}get duration(){return Xn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Xn(t)}get time(){return Xn(this.currentTime)}set time(t){t=ps(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(dn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Xn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=DP,startTime:e}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=e??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(dn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function YP(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const ma=n=>n*180/Math.PI,cg=n=>{const t=ma(Math.atan2(n[1],n[0]));return hg(t)},QP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:cg,rotateZ:cg,skewX:n=>ma(Math.atan(n[1])),skewY:n=>ma(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},hg=n=>(n=n%360,n<0&&(n+=360),n),gS=cg,yS=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),_S=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),XP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:yS,scaleY:_S,scale:n=>(yS(n)+_S(n))/2,rotateX:n=>hg(ma(Math.atan2(n[6],n[5]))),rotateY:n=>hg(ma(Math.atan2(-n[2],n[0]))),rotateZ:gS,rotate:gS,skewX:n=>ma(Math.atan(n[4])),skewY:n=>ma(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function fg(n){return n.includes("scale")?1:0}function dg(n,t){if(!n||n==="none")return fg(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(e)r=XP,o=e;else{const m=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=QP,o=m}if(!o)return fg(t);const u=r[t],c=o[1].split(",").map(WP);return typeof u=="function"?u(c):c[u]}const $P=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return dg(e,t)};function WP(n){return parseFloat(n.trim())}const Wo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zo=new Set(Wo),vS=n=>n===$o||n===pt,ZP=new Set(["x","y","z"]),JP=Wo.filter(n=>!ZP.has(n));function t4(n){const t=[];return JP.forEach(e=>{const r=n.getValue(e);r!==void 0&&(t.push([e,r.get()]),r.set(e.startsWith("scale")?1:0))}),t}const hr={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>dg(t,"x"),y:(n,{transform:t})=>dg(t,"y")};hr.translateX=hr.x;hr.translateY=hr.y;const ga=new Set;let mg=!1,pg=!1,gg=!1;function Ow(){if(pg){const n=Array.from(ga).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),e=new Map;t.forEach(r=>{const o=t4(r);o.length&&(e.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=e.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}pg=!1,mg=!1,ga.forEach(n=>n.complete(gg)),ga.clear()}function Pw(){ga.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(pg=!0)})}function e4(){gg=!0,Pw(),Ow(),gg=!1}class Fy{constructor(t,e,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ga.add(this),mg||(mg=!0,ae.read(Pw),ae.resolveKeyframes(Ow))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&e){const m=r.readValue(e,c);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}YP(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ga.delete(this)}cancel(){this.state==="scheduled"&&(ga.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const n4=n=>n.startsWith("--");function i4(n,t,e){n4(t)?n.style.setProperty(t,e):n.style[t]=e}const s4=xy(()=>window.ScrollTimeline!==void 0),r4={};function a4(n,t){const e=xy(n);return()=>r4[t]??e()}const kw=a4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cu=([n,t,e,r])=>`cubic-bezier(${n}, ${t}, ${e}, ${r})`,TS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cu([0,.65,.55,1]),circOut:cu([.55,0,1,.45]),backIn:cu([.31,.01,.66,-.59]),backOut:cu([.33,1.53,.69,.99])};function Lw(n,t){if(n)return typeof n=="function"?kw()?Vw(n,t):"ease-out":Tw(n)?cu(n):Array.isArray(n)?n.map(e=>Lw(e,t)||TS.easeOut):TS[n]}function o4(n,t,e,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:m="easeOut",times:p}={},g=void 0){const _={[t]:e};p&&(_.offset=p);const T=Lw(m,o);Array.isArray(T)&&(_.easing=T);const S={delay:r,duration:o,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(S.pseudoElement=g),n.animate(_,S)}function Uw(n){return typeof n=="function"&&"applyToOptions"in n}function l4({type:n,...t}){return Uw(n)&&kw()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class u4 extends zy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:m,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,Dy(typeof t.type!="string");const g=l4(t);this.animation=o4(e,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const _=By(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(_):i4(e,r,_),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Xn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Xn(t)}get time(){return Xn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=ps(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&s4()?(this.animation.timeline=t,$n):e(this)}}const Bw={anticipate:gw,backInOut:pw,circInOut:_w};function c4(n){return n in Bw}function h4(n){typeof n.ease=="string"&&c4(n.ease)&&(n.ease=Bw[n.ease])}const bp=10;class f4 extends u4{constructor(t){h4(t),Nw(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const m=new jy({...c,autoplay:!1}),p=Math.max(bp,dn.now()-this.startTime),g=Yi(0,bp,p-bp);e.setWithVelocity(m.sample(Math.max(0,p-g)).value,m.sample(p).value,g),m.stop()}}const ES=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Cr.test(n)||n==="0")&&!n.startsWith("url("));function d4(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function m4(n,t,e,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=ES(o,t),m=ES(u,t);return!c||!m?!1:d4(n)||(e==="spring"||Uw(e))&&r}function yg(n){n.duration=0,n.type="keyframes"}const p4=new Set(["opacity","clipPath","filter","transform"]),g4=xy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function y4(n){const{motionValue:t,name:e,repeatDelay:r,repeatType:o,damping:u,type:c}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return g4()&&e&&p4.has(e)&&(e!=="transform"||!g)&&!p&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const _4=40;class v4 extends zy{constructor({autoplay:t=!0,delay:e=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:m,name:p,motionValue:g,element:_,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=dn.now();const S={autoplay:t,delay:e,type:r,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:_,...T},I=_?.KeyframeResolver||Fy;this.keyframeResolver=new I(m,(P,q,j)=>this.onKeyframesResolved(P,q,S,!j),p,g,_),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:m,delay:p,isHandoff:g,onUpdate:_}=r;this.resolvedAt=dn.now(),m4(t,u,c,m)||((Es.instantAnimations||!p)&&_?.(By(t,r,e)),t[0]=t[t.length-1],yg(r),r.repeat=0);const S={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>_4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...r,keyframes:t},I=!g&&y4(S),P=S.motionValue?.owner?.current,q=I?new f4({...S,element:P}):new jy(S);q.finished.then(()=>{this.notifyFinished()}).catch($n),this.pendingTimeline&&(this.stopTimeline=q.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=q}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),e4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function zw(n,t,e,r=0,o=1){const u=Array.from(n).sort((g,_)=>g.sortNodePosition(_)).indexOf(t),c=n.size,m=(c-1)*r;return typeof e=="function"?e(u,c):o===1?u*r:m-u*r}const T4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function E4(n){const t=T4.exec(n);if(!t)return[,];const[,e,r,o]=t;return[`--${e??r}`,o]}function jw(n,t,e=1){const[r,o]=E4(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return ow(c)?parseFloat(c):c}return Oy(o)?jw(o,t,e+1):o}const S4={type:"spring",stiffness:500,damping:25,restSpeed:10},A4=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),b4={type:"keyframes",duration:.8},w4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},R4=(n,{keyframes:t})=>t.length>2?b4:Zo.has(n)?n.startsWith("scale")?A4(t[1]):S4:w4,C4=n=>n!==null;function I4(n,{repeat:t,repeatType:e="loop"},r){const o=n.filter(C4),u=t&&e!=="loop"&&t%2===1?0:o.length-1;return o[u]}function qy(n,t){return n?.[t]??n?.default??n}function D4({when:n,delay:t,delayChildren:e,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:m,from:p,elapsed:g,..._}){return!!Object.keys(_).length}const Hy=(n,t,e,r={},o,u)=>c=>{const m=qy(r,n)||{},p=m.delay||r.delay||0;let{elapsed:g=0}=r;g=g-ps(p);const _={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-g,onUpdate:S=>{t.set(S),m.onUpdate&&m.onUpdate(S)},onComplete:()=>{c(),m.onComplete&&m.onComplete()},name:n,motionValue:t,element:u?void 0:o};D4(m)||Object.assign(_,R4(n,_)),_.duration&&(_.duration=ps(_.duration)),_.repeatDelay&&(_.repeatDelay=ps(_.repeatDelay)),_.from!==void 0&&(_.keyframes[0]=_.from);let T=!1;if((_.type===!1||_.duration===0&&!_.repeatDelay)&&(yg(_),_.delay===0&&(T=!0)),(Es.instantAnimations||Es.skipAnimations)&&(T=!0,yg(_),_.delay=0),_.allowFlatten=!m.type&&!m.ease,T&&!u&&t.get()!==void 0){const S=I4(_.keyframes,m);if(S!==void 0){ae.update(()=>{_.onUpdate(S),_.onComplete()});return}}return m.isSync?new jy(_):new v4(_)};function SS(n){const t=[{},{}];return n?.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function Gy(n,t,e,r){if(typeof t=="function"){const[o,u]=SS(r);t=t(e!==void 0?e:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=SS(r);t=t(e!==void 0?e:n.custom,o,u)}return t}function Vo(n,t,e){const r=n.getProps();return Gy(r,t,e!==void 0?e:r.custom,n)}const Fw=new Set(["width","height","top","left","right","bottom",...Wo]),AS=30,x4=n=>!isNaN(parseFloat(n));class V4{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=dn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=dn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=x4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new Vy);const r=this.events[t].add(e);return t==="change"?()=>{r(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,r){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=dn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>AS)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,AS);return cw(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zo(n,t){return new V4(n,t)}const _g=n=>Array.isArray(n);function M4(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,zo(e))}function N4(n){return _g(n)?n[n.length-1]||0:n}function O4(n,t){const e=Vo(n,t);let{transitionEnd:r={},transition:o={},...u}=e||{};u={...u,...r};for(const c in u){const m=N4(u[c]);M4(n,c,m)}}const on=n=>!!(n&&n.getVelocity);function P4(n){return!!(on(n)&&n.add)}function vg(n,t){const e=n.getValue("willChange");if(P4(e))return e.add(t);if(!e&&Es.WillChange){const r=new Es.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function Ky(n){return n.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const k4="framerAppearId",qw="data-"+Ky(k4);function Hw(n){return n.props[qw]}function L4({protectedKeys:n,needsAnimating:t},e){const r=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,r}function Gw(n,t,{delay:e=0,transitionOverride:r,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...m}=t;const p=u?.reduceMotion;r&&(u=r);const g=[],_=o&&n.animationState&&n.animationState.getState()[o];for(const T in m){const S=n.getValue(T,n.latestValues[T]??null),I=m[T];if(I===void 0||_&&L4(_,T))continue;const P={delay:e,...qy(u||{},T)},q=S.get();if(q!==void 0&&!S.isAnimating&&!Array.isArray(I)&&I===q&&!P.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const Y=Hw(n);if(Y){const rt=window.MotionHandoffAnimation(Y,T,ae);rt!==null&&(P.startTime=rt,j=!0)}}vg(n,T);const F=p??n.shouldReduceMotion;S.start(Hy(T,S,I,F&&Fw.has(T)?{type:!1}:P,n,j));const Z=S.animation;Z&&g.push(Z)}return c&&Promise.all(g).then(()=>{ae.update(()=>{c&&O4(n,c)})}),g}function Tg(n,t,e={}){const r=Vo(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};e.transitionOverride&&(o=e.transitionOverride);const u=r?()=>Promise.all(Gw(n,r,e)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:T}=o;return U4(n,t,p,g,_,T,e)}:()=>Promise.resolve(),{when:m}=o;if(m){const[p,g]=m==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(e.delay)])}function U4(n,t,e=0,r=0,o=0,u=1,c){const m=[];for(const p of n.variantChildren)p.notify("AnimationStart",t),m.push(Tg(p,t,{...c,delay:e+(typeof r=="function"?0:r)+zw(n.variantChildren,p,r,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(m)}function B4(n,t,e={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>Tg(n,u,e));r=Promise.all(o)}else if(typeof t=="string")r=Tg(n,t,e);else{const o=typeof t=="function"?Vo(n,t,e.custom):t;r=Promise.all(Gw(n,o,e))}return r.then(()=>{n.notify("AnimationComplete",t)})}const z4={test:n=>n==="auto",parse:n=>n},Kw=n=>t=>t.test(n),Yw=[$o,pt,Gi,ir,dP,fP,z4],bS=n=>Yw.find(Kw(n));function j4(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||uw(n):!0}const F4=new Set(["brightness","contrast","saturate","opacity"]);function q4(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=e.match(Py)||[];if(!r)return n;const o=e.replace(r,"");let u=F4.has(t)?1:0;return r!==e&&(u*=100),t+"("+u+o+")"}const H4=/\b([a-z-]*)\(.*?\)/gu,Eg={...Cr,getAnimatableNone:n=>{const t=n.match(H4);return t?t.map(q4).join(" "):n}},wS={...$o,transform:Math.round},G4={rotate:ir,rotateX:ir,rotateY:ir,rotateZ:ir,scale:Uh,scaleX:Uh,scaleY:Uh,scaleZ:Uh,skew:ir,skewX:ir,skewY:ir,distance:pt,translateX:pt,translateY:pt,translateZ:pt,x:pt,y:pt,z:pt,perspective:pt,transformPerspective:pt,opacity:ku,originX:hS,originY:hS,originZ:pt},Yy={borderWidth:pt,borderTopWidth:pt,borderRightWidth:pt,borderBottomWidth:pt,borderLeftWidth:pt,borderRadius:pt,borderTopLeftRadius:pt,borderTopRightRadius:pt,borderBottomRightRadius:pt,borderBottomLeftRadius:pt,width:pt,maxWidth:pt,height:pt,maxHeight:pt,top:pt,right:pt,bottom:pt,left:pt,inset:pt,insetBlock:pt,insetBlockStart:pt,insetBlockEnd:pt,insetInline:pt,insetInlineStart:pt,insetInlineEnd:pt,padding:pt,paddingTop:pt,paddingRight:pt,paddingBottom:pt,paddingLeft:pt,paddingBlock:pt,paddingBlockStart:pt,paddingBlockEnd:pt,paddingInline:pt,paddingInlineStart:pt,paddingInlineEnd:pt,margin:pt,marginTop:pt,marginRight:pt,marginBottom:pt,marginLeft:pt,marginBlock:pt,marginBlockStart:pt,marginBlockEnd:pt,marginInline:pt,marginInlineStart:pt,marginInlineEnd:pt,fontSize:pt,backgroundPositionX:pt,backgroundPositionY:pt,...G4,zIndex:wS,fillOpacity:ku,strokeOpacity:ku,numOctaves:wS},K4={...Yy,color:Me,backgroundColor:Me,outlineColor:Me,fill:Me,stroke:Me,borderColor:Me,borderTopColor:Me,borderRightColor:Me,borderBottomColor:Me,borderLeftColor:Me,filter:Eg,WebkitFilter:Eg},Qw=n=>K4[n];function Xw(n,t){let e=Qw(n);return e!==Eg&&(e=Cr),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const Y4=new Set(["auto","none","0"]);function Q4(n,t,e){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!Y4.has(u)&&Lu(u).values.length&&(o=n[r]),r++}if(o&&e)for(const u of t)n[u]=Xw(e,o)}class X4 extends Fy{constructor(t,e,r,o,u){super(t,e,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:r}=this;if(!e||!e.current)return;super.readKeyframes();for(let _=0;_<t.length;_++){let T=t[_];if(typeof T=="string"&&(T=T.trim(),Oy(T))){const S=jw(T,e.current);S!==void 0&&(t[_]=S),_===t.length-1&&(this.finalKeyframe=T)}}if(this.resolveNoneKeyframes(),!Fw.has(r)||t.length!==2)return;const[o,u]=t,c=bS(o),m=bS(u),p=cS(o),g=cS(u);if(p!==g&&hr[r]){this.needsMeasurement=!0;return}if(c!==m)if(vS(c)&&vS(m))for(let _=0;_<t.length;_++){const T=t[_];typeof T=="string"&&(t[_]=parseFloat(T))}else hr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||j4(t[o]))&&r.push(o);r.length&&Q4(t,r,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const o=e[e.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(e);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=hr[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function $4(n,t,e){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=e?.[n]??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n).filter(r=>r!=null)}const $w=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function Sg(n){return lw(n)&&"offsetHeight"in n}const{schedule:Qy}=Ew(queueMicrotask,!1),ci={x:!1,y:!1};function Ww(){return ci.x||ci.y}function W4(n){return n==="x"||n==="y"?ci[n]?null:(ci[n]=!0,()=>{ci[n]=!1}):ci.x||ci.y?null:(ci.x=ci.y=!0,()=>{ci.x=ci.y=!1})}function Zw(n,t){const e=$4(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[e,o,()=>r.abort()]}function RS(n){return!(n.pointerType==="touch"||Ww())}function Z4(n,t,e={}){const[r,o,u]=Zw(n,e),c=m=>{if(!RS(m))return;const{target:p}=m,g=t(p,m);if(typeof g!="function"||!p)return;const _=T=>{RS(T)&&(g(T),p.removeEventListener("pointerleave",_))};p.addEventListener("pointerleave",_,o)};return r.forEach(m=>{m.addEventListener("pointerenter",c,o)}),u}const Jw=(n,t)=>t?n===t?!0:Jw(n,t.parentElement):!1,Xy=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,J4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tR(n){return J4.has(n.tagName)||n.isContentEditable===!0}const Zh=new WeakSet;function CS(n){return t=>{t.key==="Enter"&&n(t)}}function wp(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const tk=(n,t)=>{const e=n.currentTarget;if(!e)return;const r=CS(()=>{if(Zh.has(e))return;wp(e,"down");const o=CS(()=>{wp(e,"up")}),u=()=>wp(e,"cancel");e.addEventListener("keyup",o,t),e.addEventListener("blur",u,t)});e.addEventListener("keydown",r,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",r),t)};function IS(n){return Xy(n)&&!Ww()}function ek(n,t,e={}){const[r,o,u]=Zw(n,e),c=m=>{const p=m.currentTarget;if(!IS(m))return;Zh.add(p);const g=t(p,m),_=(I,P)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",S),Zh.has(p)&&Zh.delete(p),IS(I)&&typeof g=="function"&&g(I,{success:P})},T=I=>{_(I,p===window||p===document||e.useGlobalTarget||Jw(p,I.target))},S=I=>{_(I,!1)};window.addEventListener("pointerup",T,o),window.addEventListener("pointercancel",S,o)};return r.forEach(m=>{(e.useGlobalTarget?window:m).addEventListener("pointerdown",c,o),Sg(m)&&(m.addEventListener("focus",g=>tk(g,o)),!tR(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function eR(n){return lw(n)&&"ownerSVGElement"in n}function nk(n){return eR(n)&&n.tagName==="svg"}const ik=[...Yw,Me,Cr],sk=n=>ik.find(Kw(n)),DS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ao=()=>({x:DS(),y:DS()}),xS=()=>({min:0,max:0}),Ue=()=>({x:xS(),y:xS()}),Ag={current:null},nR={current:!1},rk=typeof window<"u";function ak(){if(nR.current=!0,!!rk)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ag.current=n.matches;n.addEventListener("change",t),t()}else Ag.current=!1}const ok=new WeakMap;function ed(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Uu(n){return typeof n=="string"||Array.isArray(n)}const $y=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Wy=["initial",...$y];function nd(n){return ed(n.animate)||Wy.some(t=>Uu(n[t]))}function iR(n){return!!(nd(n)||n.variants)}function lk(n,t,e){for(const r in t){const o=t[r],u=e[r];if(on(o))n.addValue(r,o);else if(on(u))n.addValue(r,zo(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(r);n.addValue(r,zo(c!==void 0?c:o,{owner:n}))}}for(const r in e)t[r]===void 0&&n.removeValue(r);return t}const VS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Cf={};function sR(n){Cf=n}function uk(){return Cf}class ck{scrapeMotionValuesFromProps(t,e,r){return{}}constructor({parent:t,props:e,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Fy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=dn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,ae.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=e.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=e,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=nd(e),this.isVariantNode=iR(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:_,...T}=this.scrapeMotionValuesFromProps(e,{},this);for(const S in T){const I=T[S];p[S]!==void 0&&on(I)&&I.set(p[S])}}mount(t){this.current=t,ok.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,r)=>this.bindToMotionValue(r,e)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(nR.current||ak(),this.shouldReduceMotion=Ag.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Rr(this.notifyUpdate),Rr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Zo.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ae.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;typeof window<"u"&&window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Cf){const e=Cf[t];if(!e)continue;const{isEnabled:r,Feature:o}=e;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ue()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let r=0;r<VS.length;r++){const o=VS[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=lk(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const r=this.values.get(t);e!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&e!==void 0&&(r=zo(e===null?void 0:e,{owner:this}),this.addValue(t,r)),r}readValue(t,e){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(ow(r)||uw(r))?r=parseFloat(r):!sk(r)&&Cr.test(e)&&(r=Xw(t,e)),this.setBaseTarget(t,on(r)?r.get():r)),on(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let r;if(typeof e=="string"||typeof e=="object"){const u=Gy(this.props,e,this.presenceContext?.custom);u&&(r=u[t])}if(e&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!on(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new Vy),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Qy.render(this.render)}}class rR extends ck{constructor(){super(...arguments),this.KeyframeResolver=X4}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){const r=t.style;return r?r[e]:void 0}removeValueFromRenderState(t,{vars:e,style:r}){delete e[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;on(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class Vr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function aR({top:n,left:t,right:e,bottom:r}){return{x:{min:t,max:e},y:{min:n,max:r}}}function hk({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function fk(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:r.y,right:r.x}}function Rp(n){return n===void 0||n===1}function bg({scale:n,scaleX:t,scaleY:e}){return!Rp(n)||!Rp(t)||!Rp(e)}function ha(n){return bg(n)||oR(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function oR(n){return MS(n.x)||MS(n.y)}function MS(n){return n&&n!=="0%"}function If(n,t,e){const r=n-e,o=t*r;return e+o}function NS(n,t,e,r,o){return o!==void 0&&(n=If(n,o,r)),If(n,e,r)+t}function wg(n,t=0,e=1,r,o){n.min=NS(n.min,t,e,r,o),n.max=NS(n.max,t,e,r,o)}function lR(n,{x:t,y:e}){wg(n.x,t.translate,t.scale,t.originPoint),wg(n.y,e.translate,e.scale,e.originPoint)}const OS=.999999999999,PS=1.0000000000001;function dk(n,t,e,r=!1){const o=e.length;if(!o)return;t.x=t.y=1;let u,c;for(let m=0;m<o;m++){u=e[m],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&wo(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,lR(n,c)),r&&ha(u.latestValues)&&wo(n,u.latestValues))}t.x<PS&&t.x>OS&&(t.x=1),t.y<PS&&t.y>OS&&(t.y=1)}function bo(n,t){n.min=n.min+t,n.max=n.max+t}function kS(n,t,e,r,o=.5){const u=ce(n.min,n.max,o);wg(n,t,e,u,r)}function wo(n,t){kS(n.x,t.x,t.scaleX,t.scale,t.originX),kS(n.y,t.y,t.scaleY,t.scale,t.originY)}function uR(n,t){return aR(fk(n.getBoundingClientRect(),t))}function mk(n,t,e){const r=uR(n,e),{scroll:o}=t;return o&&(bo(r.x,o.offset.x),bo(r.y,o.offset.y)),r}const pk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gk=Wo.length;function yk(n,t,e){let r="",o=!0;for(let u=0;u<gk;u++){const c=Wo[u],m=n[c];if(m===void 0)continue;let p=!0;if(typeof m=="number")p=m===(c.startsWith("scale")?1:0);else{const g=parseFloat(m);p=c.startsWith("scale")?g===1:g===0}if(!p||e){const g=$w(m,Yy[c]);if(!p){o=!1;const _=pk[c]||c;r+=`${_}(${g}) `}e&&(t[c]=g)}}return r=r.trim(),e?r=e(t,o?"":r):o&&(r="none"),r}function Zy(n,t,e){const{style:r,vars:o,transformOrigin:u}=n;let c=!1,m=!1;for(const p in t){const g=t[p];if(Zo.has(p)){c=!0;continue}else if(Aw(p)){o[p]=g;continue}else{const _=$w(g,Yy[p]);p.startsWith("origin")?(m=!0,u[p]=_):r[p]=_}}if(t.transform||(c||e?r.transform=yk(t,n.transform,e):r.transform&&(r.transform="none")),m){const{originX:p="50%",originY:g="50%",originZ:_=0}=u;r.transformOrigin=`${p} ${g} ${_}`}}function cR(n,{style:t,vars:e},r,o){const u=n.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in e)u.setProperty(c,e[c])}function LS(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const au={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(pt.test(n))n=parseFloat(n);else return n;const e=LS(n,t.target.x),r=LS(n,t.target.y);return`${e}% ${r}%`}},_k={correct:(n,{treeScale:t,projectionDelta:e})=>{const r=n,o=Cr.parse(n);if(o.length>5)return r;const u=Cr.createTransformer(n),c=typeof o[0]!="number"?1:0,m=e.x.scale*t.x,p=e.y.scale*t.y;o[0+c]/=m,o[1+c]/=p;const g=ce(m,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}},Rg={borderRadius:{...au,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:au,borderTopRightRadius:au,borderBottomLeftRadius:au,borderBottomRightRadius:au,boxShadow:_k};function hR(n,{layout:t,layoutId:e}){return Zo.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!Rg[n]||n==="opacity")}function Jy(n,t,e){const r=n.style,o=t?.style,u={};if(!r)return u;for(const c in r)(on(r[c])||o&&on(o[c])||hR(c,n)||e?.getValue(c)?.liveStyle!==void 0)&&(u[c]=r[c]);return u}function vk(n){return window.getComputedStyle(n)}class Tk extends rR{constructor(){super(...arguments),this.type="html",this.renderInstance=cR}readValueFromInstance(t,e){if(Zo.has(e))return this.projection?.isProjecting?fg(e):$P(t,e);{const r=vk(t),o=(Aw(e)?r.getPropertyValue(e):r[e])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:e}){return uR(t,e)}build(t,e,r){Zy(t,e,r.transformTemplate)}scrapeMotionValuesFromProps(t,e,r){return Jy(t,e,r)}}const Ek={offset:"stroke-dashoffset",array:"stroke-dasharray"},Sk={offset:"strokeDashoffset",array:"strokeDasharray"};function Ak(n,t,e=1,r=0,o=!0){n.pathLength=1;const u=o?Ek:Sk;n[u.offset]=`${-r}`,n[u.array]=`${t} ${e}`}const bk=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function fR(n,{attrX:t,attrY:e,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...m},p,g,_){if(Zy(n,m,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:T,style:S}=n;T.transform&&(S.transform=T.transform,delete T.transform),(S.transform||T.transformOrigin)&&(S.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),S.transform&&(S.transformBox=_?.transformBox??"fill-box",delete T.transformBox);for(const I of bk)T[I]!==void 0&&(S[I]=T[I],delete T[I]);t!==void 0&&(T.x=t),e!==void 0&&(T.y=e),r!==void 0&&(T.scale=r),o!==void 0&&Ak(T,o,u,c,!1)}const dR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),mR=n=>typeof n=="string"&&n.toLowerCase()==="svg";function wk(n,t,e,r){cR(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(dR.has(o)?o:Ky(o),t.attrs[o])}function pR(n,t,e){const r=Jy(n,t,e);for(const o in n)if(on(n[o])||on(t[o])){const u=Wo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}class Rk extends rR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ue}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Zo.has(e)){const r=Qw(e);return r&&r.default||0}return e=dR.has(e)?e:Ky(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,r){return pR(t,e,r)}build(t,e,r){fR(t,e,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,e,r,o){wk(t,e,r,o)}mount(t){this.isSVGTag=mR(t.tagName),super.mount(t)}}const Ck=Wy.length;function gR(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?gR(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<Ck;e++){const r=Wy[e],o=n.props[r];(Uu(o)||o===!1)&&(t[r]=o)}return t}function yR(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let r=0;r<e;r++)if(t[r]!==n[r])return!1;return!0}const Ik=[...$y].reverse(),Dk=$y.length;function xk(n){return t=>Promise.all(t.map(({animation:e,options:r})=>B4(n,e,r)))}function Vk(n){let t=xk(n),e=US(),r=!0;const o=p=>(g,_)=>{const T=Vo(n,_,p==="exit"?n.presenceContext?.custom:void 0);if(T){const{transition:S,transitionEnd:I,...P}=T;g={...g,...P,...I}}return g};function u(p){t=p(n)}function c(p){const{props:g}=n,_=gR(n.parent)||{},T=[],S=new Set;let I={},P=1/0;for(let j=0;j<Dk;j++){const F=Ik[j],Z=e[F],Y=g[F]!==void 0?g[F]:_[F],rt=Uu(Y),ot=F===p?Z.isActive:null;ot===!1&&(P=j);let dt=Y===_[F]&&Y!==g[F]&&rt;if(dt&&r&&n.manuallyAnimateOnMount&&(dt=!1),Z.protectedKeys={...I},!Z.isActive&&ot===null||!Y&&!Z.prevProp||ed(Y)||typeof Y=="boolean")continue;const C=Mk(Z.prevProp,Y);let w=C||F===p&&Z.isActive&&!dt&&rt||j>P&&rt,R=!1;const M=Array.isArray(Y)?Y:[Y];let V=M.reduce(o(F),{});ot===!1&&(V={});const{prevResolvedValues:L={}}=Z,D={...L,...V},ee=it=>{w=!0,S.has(it)&&(R=!0,S.delete(it)),Z.needsAnimating[it]=!0;const ft=n.getValue(it);ft&&(ft.liveStyle=!1)};for(const it in D){const ft=V[it],It=L[it];if(I.hasOwnProperty(it))continue;let Nt=!1;_g(ft)&&_g(It)?Nt=!yR(ft,It):Nt=ft!==It,Nt?ft!=null?ee(it):S.add(it):ft!==void 0&&S.has(it)?ee(it):Z.protectedKeys[it]=!0}Z.prevProp=Y,Z.prevResolvedValues=V,Z.isActive&&(I={...I,...V}),r&&n.blockInitialAnimation&&(w=!1);const fe=dt&&C;w&&(!fe||R)&&T.push(...M.map(it=>{const ft={type:F};if(typeof it=="string"&&r&&!fe&&n.manuallyAnimateOnMount&&n.parent){const{parent:It}=n,Nt=Vo(It,it);if(It.enteringChildren&&Nt){const{delayChildren:O}=Nt.transition||{};ft.delay=zw(It.enteringChildren,n,O)}}return{animation:it,options:ft}}))}if(S.size){const j={};if(typeof g.initial!="boolean"){const F=Vo(n,Array.isArray(g.initial)?g.initial[0]:g.initial);F&&F.transition&&(j.transition=F.transition)}S.forEach(F=>{const Z=n.getBaseTarget(F),Y=n.getValue(F);Y&&(Y.liveStyle=!0),j[F]=Z??null}),T.push({animation:j})}let q=!!T.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(q=!1),r=!1,q?t(T):Promise.resolve()}function m(p,g){if(e[p].isActive===g)return Promise.resolve();n.variantChildren?.forEach(T=>T.animationState?.setActive(p,g)),e[p].isActive=g;const _=c(p);for(const T in e)e[T].protectedKeys={};return _}return{animateChanges:c,setActive:m,setAnimateFunction:u,getState:()=>e,reset:()=>{e=US()}}}function Mk(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!yR(t,n):!1}function ua(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function US(){return{animate:ua(!0),whileInView:ua(),whileHover:ua(),whileTap:ua(),whileDrag:ua(),whileFocus:ua(),exit:ua()}}function BS(n,t){n.min=t.min,n.max=t.max}function ui(n,t){BS(n.x,t.x),BS(n.y,t.y)}function zS(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}const _R=1e-4,Nk=1-_R,Ok=1+_R,vR=.01,Pk=0-vR,kk=0+vR;function mn(n){return n.max-n.min}function Lk(n,t,e){return Math.abs(n-t)<=e}function jS(n,t,e,r=.5){n.origin=r,n.originPoint=ce(t.min,t.max,n.origin),n.scale=mn(e)/mn(t),n.translate=ce(e.min,e.max,n.origin)-n.originPoint,(n.scale>=Nk&&n.scale<=Ok||isNaN(n.scale))&&(n.scale=1),(n.translate>=Pk&&n.translate<=kk||isNaN(n.translate))&&(n.translate=0)}function Eu(n,t,e,r){jS(n.x,t.x,e.x,r?r.originX:void 0),jS(n.y,t.y,e.y,r?r.originY:void 0)}function FS(n,t,e){n.min=e.min+t.min,n.max=n.min+mn(t)}function Uk(n,t,e){FS(n.x,t.x,e.x),FS(n.y,t.y,e.y)}function qS(n,t,e){n.min=t.min-e.min,n.max=n.min+mn(t)}function Df(n,t,e){qS(n.x,t.x,e.x),qS(n.y,t.y,e.y)}function HS(n,t,e,r,o){return n-=t,n=If(n,1/e,r),o!==void 0&&(n=If(n,1/o,r)),n}function Bk(n,t=0,e=1,r=.5,o,u=n,c=n){if(Gi.test(t)&&(t=parseFloat(t),t=ce(c.min,c.max,t/100)-c.min),typeof t!="number")return;let m=ce(u.min,u.max,r);n===u&&(m-=t),n.min=HS(n.min,t,e,m,o),n.max=HS(n.max,t,e,m,o)}function GS(n,t,[e,r,o],u,c){Bk(n,t[e],t[r],t[o],t.scale,u,c)}const zk=["x","scaleX","originX"],jk=["y","scaleY","originY"];function KS(n,t,e,r){GS(n.x,t,zk,e?e.x:void 0,r?r.x:void 0),GS(n.y,t,jk,e?e.y:void 0,r?r.y:void 0)}function YS(n){return n.translate===0&&n.scale===1}function TR(n){return YS(n.x)&&YS(n.y)}function QS(n,t){return n.min===t.min&&n.max===t.max}function Fk(n,t){return QS(n.x,t.x)&&QS(n.y,t.y)}function XS(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function ER(n,t){return XS(n.x,t.x)&&XS(n.y,t.y)}function $S(n){return mn(n.x)/mn(n.y)}function WS(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}function Qn(n){return[n("x"),n("y")]}function qk(n,t,e){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,c=e?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:g,rotate:_,rotateX:T,rotateY:S,skewX:I,skewY:P}=e;g&&(r=`perspective(${g}px) ${r}`),_&&(r+=`rotate(${_}deg) `),T&&(r+=`rotateX(${T}deg) `),S&&(r+=`rotateY(${S}deg) `),I&&(r+=`skewX(${I}deg) `),P&&(r+=`skewY(${P}deg) `)}const m=n.x.scale*t.x,p=n.y.scale*t.y;return(m!==1||p!==1)&&(r+=`scale(${m}, ${p})`),r||"none"}const SR=["TopLeft","TopRight","BottomLeft","BottomRight"],Hk=SR.length,ZS=n=>typeof n=="string"?parseFloat(n):n,JS=n=>typeof n=="number"||pt.test(n);function Gk(n,t,e,r,o,u){o?(n.opacity=ce(0,e.opacity??1,Kk(r)),n.opacityExit=ce(t.opacity??1,0,Yk(r))):u&&(n.opacity=ce(t.opacity??1,e.opacity??1,r));for(let c=0;c<Hk;c++){const m=`border${SR[c]}Radius`;let p=tA(t,m),g=tA(e,m);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||JS(p)===JS(g)?(n[m]=Math.max(ce(ZS(p),ZS(g),r),0),(Gi.test(g)||Gi.test(p))&&(n[m]+="%")):n[m]=g}(t.rotate||e.rotate)&&(n.rotate=ce(t.rotate||0,e.rotate||0,r))}function tA(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const Kk=AR(0,.5,yw),Yk=AR(.5,.95,$n);function AR(n,t,e){return r=>r<n?0:r>t?1:e(Pu(n,t,r))}function Qk(n,t,e){const r=on(n)?n:zo(n);return r.start(Hy("",r,t,e)),r.animation}function Bu(n,t,e,r={passive:!0}){return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e)}const Xk=(n,t)=>n.depth-t.depth;class $k{constructor(){this.children=[],this.isDirty=!1}add(t){Cy(this.children,t),this.isDirty=!0}remove(t){Iy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Xk),this.isDirty=!1,this.children.forEach(t)}}function Wk(n,t){const e=dn.now(),r=({timestamp:o})=>{const u=o-e;u>=t&&(Rr(r),n(u-t))};return ae.setup(r,!0),()=>Rr(r)}function Jh(n){return on(n)?n.get():n}class Zk{constructor(){this.members=[]}add(t){Cy(this.members,t),t.scheduleRender()}remove(t){if(Iy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(o=>t===o);if(e===0)return!1;let r;for(let o=e;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,e){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender();const o=r.options.layoutDependency,u=t.options.layoutDependency;o!==void 0&&u!==void 0&&o===u||(t.resumeFrom=r,e&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:m}=t.options;m===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:r}=t;e.onExitComplete&&e.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const tf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Cp=["","X","Y","Z"],Jk=1e3;let tL=0;function Ip(n,t,e,r){const{latestValues:o}=t;o[n]&&(e[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function bR(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=Hw(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",ae,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&bR(r)}function wR({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},m=t?.()){this.id=tL++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(iL),this.nodes.forEach(oL),this.nodes.forEach(lL),this.nodes.forEach(sL)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new $k)}addEventListener(c,m){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Vy),this.eventHandlers.get(c).add(m)}notifyListeners(c,...m){const p=this.eventHandlers.get(c);p&&p.notify(...m)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=eR(c)&&!nk(c),this.instance=c;const{layoutId:m,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||m)&&(this.isLayoutDirty=!0),n){let _,T=0;const S=()=>this.root.updateBlockedByResize=!1;ae.read(()=>{T=window.innerWidth}),n(c,()=>{const I=window.innerWidth;I!==T&&(T=I,this.root.updateBlockedByResize=!0,_&&_(),_=Wk(S,250),tf.hasAnimatedSinceResize&&(tf.hasAnimatedSinceResize=!1,this.nodes.forEach(iA)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&g&&(m||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:T,hasRelativeLayoutChanged:S,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||g.getDefaultTransition()||dL,{onLayoutAnimationStart:q,onLayoutAnimationComplete:j}=g.getProps(),F=!this.targetLayout||!ER(this.targetLayout,I),Z=!T&&S;if(this.options.layoutRoot||this.resumeFrom||Z||T&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Y={...qy(P,"layout"),onPlay:q,onComplete:j};(g.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y),this.setAnimationOrigin(_,Z)}else T||iA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Rr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uL),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let _=0;_<this.path.length;_++){const T=this.path[_];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(nA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(aL),this.nodes.forEach(eL),this.nodes.forEach(nL)):this.nodes.forEach(nA),this.clearAllSnapshots();const m=dn.now();Ze.delta=Yi(0,1e3/60,m-Ze.timestamp),Ze.timestamp=m,Ze.isProcessing=!0,vp.update.process(Ze),vp.preRender.process(Ze),vp.render.process(Ze),Ze.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Qy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rL),this.sharedNodes.forEach(cL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!mn(this.snapshot.measuredBox.x)&&!mn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ue(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(m=!1),m&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!TR(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,_=g!==this.prevTransformTemplateValue;c&&this.instance&&(m||ha(this.latestValues)||_)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return c&&(p=this.removeTransform(p)),mL(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ue();const m=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(pL))){const{scroll:g}=this.root;g&&(bo(m.x,g.offset.x),bo(m.y,g.offset.y))}return m}removeElementScroll(c){const m=Ue();if(ui(m,c),this.scroll?.wasRoot)return m;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:_,options:T}=g;g!==this.root&&_&&T.layoutScroll&&(_.wasRoot&&ui(m,c),bo(m.x,_.offset.x),bo(m.y,_.offset.y))}return m}applyTransform(c,m=!1){const p=Ue();ui(p,c);for(let g=0;g<this.path.length;g++){const _=this.path[g];!m&&_.options.layoutScroll&&_.scroll&&_!==_.root&&wo(p,{x:-_.scroll.offset.x,y:-_.scroll.offset.y}),ha(_.latestValues)&&wo(p,_.latestValues)}return ha(this.latestValues)&&wo(p,this.latestValues),p}removeTransform(c){const m=Ue();ui(m,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!ha(g.latestValues))continue;bg(g.latestValues)&&g.updateSnapshot();const _=Ue(),T=g.measurePageBox();ui(_,T),KS(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,_)}return ha(this.latestValues)&&KS(m,this.latestValues),m}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ze.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:T}=this.options;if(!this.layout||!(_||T))return;this.resolvedRelativeTargetAt=Ze.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ue(),this.targetWithTransforms=Ue()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Uk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ui(this.target,this.layout.layoutBox),lR(this.target,this.targetDelta)):ui(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||bg(this.parent.latestValues)||oR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,m,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),Df(this.relativeTargetOrigin,m,p),ui(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),m=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Ze.timestamp&&(p=!1),p)return;const{layout:g,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||_))return;ui(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,S=this.treeScale.y;dk(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ue());const{target:I}=c;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zS(this.prevProjectionDelta.x,this.projectionDelta.x),zS(this.prevProjectionDelta.y,this.projectionDelta.y)),Eu(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==S||!WS(this.projectionDelta.x,this.prevProjectionDelta.x)||!WS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ao(),this.projectionDelta=Ao(),this.projectionDeltaWithTransform=Ao()}setAnimationOrigin(c,m=!1){const p=this.snapshot,g=p?p.latestValues:{},_={...this.latestValues},T=Ao();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const S=Ue(),I=p?p.source:void 0,P=this.layout?this.layout.source:void 0,q=I!==P,j=this.getStack(),F=!j||j.members.length<=1,Z=!!(q&&!F&&this.options.crossfade===!0&&!this.path.some(fL));this.animationProgress=0;let Y;this.mixTargetDelta=rt=>{const ot=rt/1e3;sA(T.x,c.x,ot),sA(T.y,c.y,ot),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Df(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hL(this.relativeTarget,this.relativeTargetOrigin,S,ot),Y&&Fk(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=Ue()),ui(Y,this.relativeTarget)),q&&(this.animationValues=_,Gk(_,g,this.latestValues,ot,Z,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ot},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Rr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{tf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=zo(0)),this.currentAnimation=Qk(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),c.onUpdate&&c.onUpdate(m)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Jk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:m,target:p,layout:g,latestValues:_}=c;if(!(!m||!p||!g)){if(this!==c&&this.layout&&g&&RR(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Ue();const T=mn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+T;const S=mn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+S}ui(m,p),wo(m,_),Eu(this.projectionDeltaWithTransform,this.layoutCorrected,m,_)}}registerSharedNode(c,m){this.sharedNodes.has(c)||this.sharedNodes.set(c,new Zk),this.sharedNodes.get(c).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:m,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let m=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const g={};p.z&&Ip("z",c,g,this.animationValues);for(let _=0;_<Cp.length;_++)Ip(`rotate${Cp[_]}`,c,g,this.animationValues),Ip(`skew${Cp[_]}`,c,g,this.animationValues);c.render();for(const _ in g)c.setStaticValue(_,g[_]),this.animationValues&&(this.animationValues[_]=g[_]);c.scheduleRender()}applyProjectionStyles(c,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Jh(m?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Jh(m?.pointerEvents)||""),this.hasProjected&&!ha(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const _=g.animationValues||g.latestValues;this.applyTransformsToTarget();let T=qk(this.projectionDeltaWithTransform,this.treeScale,_);p&&(T=p(_,T)),c.transform=T;const{x:S,y:I}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${I.origin*100}% 0`,g.animationValues?c.opacity=g===this?_.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:c.opacity=g===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const P in Rg){if(_[P]===void 0)continue;const{correct:q,applyTo:j,isCSSVariable:F}=Rg[P],Z=T==="none"?_[P]:q(_[P],g);if(j){const Y=j.length;for(let rt=0;rt<Y;rt++)c[j[rt]]=Z}else F?this.options.visualElement.renderState.vars[P]=Z:c[P]=Z}this.options.layoutId&&(c.pointerEvents=g===this?Jh(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(eA),this.root.sharedNodes.clear()}}}function eL(n){n.updateLayout()}function nL(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:r}=n.layout,{animationType:o}=n.options,u=t.source!==n.layout.source;o==="size"?Qn(_=>{const T=u?t.measuredBox[_]:t.layoutBox[_],S=mn(T);T.min=e[_].min,T.max=T.min+S}):RR(o,t.layoutBox,e)&&Qn(_=>{const T=u?t.measuredBox[_]:t.layoutBox[_],S=mn(e[_]);T.max=T.min+S,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[_].max=n.relativeTarget[_].min+S)});const c=Ao();Eu(c,e,t.layoutBox);const m=Ao();u?Eu(m,n.applyTransform(r,!0),t.measuredBox):Eu(m,e,t.layoutBox);const p=!TR(c);let g=!1;if(!n.resumeFrom){const _=n.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:T,layout:S}=_;if(T&&S){const I=Ue();Df(I,t.layoutBox,T.layoutBox);const P=Ue();Df(P,e,S.layoutBox),ER(I,P)||(g=!0),_.options.layoutRoot&&(n.relativeTarget=P,n.relativeTargetOrigin=I,n.relativeParent=_)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:m,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function iL(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function sL(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function rL(n){n.clearSnapshot()}function eA(n){n.clearMeasurements()}function nA(n){n.isLayoutDirty=!1}function aL(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function iA(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function oL(n){n.resolveTargetDelta()}function lL(n){n.calcProjection()}function uL(n){n.resetSkewAndRotation()}function cL(n){n.removeLeadSnapshot()}function sA(n,t,e){n.translate=ce(t.translate,0,e),n.scale=ce(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function rA(n,t,e,r){n.min=ce(t.min,e.min,r),n.max=ce(t.max,e.max,r)}function hL(n,t,e,r){rA(n.x,t.x,e.x,r),rA(n.y,t.y,e.y,r)}function fL(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const dL={duration:.45,ease:[.4,0,.1,1]},aA=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),oA=aA("applewebkit/")&&!aA("chrome/")?Math.round:$n;function lA(n){n.min=oA(n.min),n.max=oA(n.max)}function mL(n){lA(n.x),lA(n.y)}function RR(n,t,e){return n==="position"||n==="preserve-aspect"&&!Lk($S(t),$S(e),.2)}function pL(n){return n!==n.root&&n.scroll?.wasRoot}const gL=wR({attachResizeListener:(n,t)=>Bu(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Dp={current:void 0},CR=wR({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Dp.current){const n=new gL({});n.mount(window),n.setOptions({layoutScroll:!0}),Dp.current=n}return Dp.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),t_=st.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function uA(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function yL(...n){return t=>{let e=!1;const r=n.map(o=>{const u=uA(o,t);return!e&&typeof u=="function"&&(e=!0),u});if(e)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():uA(n[o],null)}}}}function _L(...n){return st.useCallback(yL(...n),n)}class vL extends st.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const r=e.offsetParent,o=Sg(r)&&r.offsetWidth||0,u=Sg(r)&&r.offsetHeight||0,c=this.props.sizeRef.current;c.height=e.offsetHeight||0,c.width=e.offsetWidth||0,c.top=e.offsetTop,c.left=e.offsetLeft,c.right=o-c.width-c.left,c.bottom=u-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function TL({children:n,isPresent:t,anchorX:e,anchorY:r,root:o}){const u=st.useId(),c=st.useRef(null),m=st.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=st.useContext(t_),g=n.props?.ref??n?.ref,_=_L(c,g);return st.useInsertionEffect(()=>{const{width:T,height:S,top:I,left:P,right:q,bottom:j}=m.current;if(t||!c.current||!T||!S)return;const F=e==="left"?`left: ${P}`:`right: ${q}`,Z=r==="bottom"?`bottom: ${j}`:`top: ${I}`;c.current.dataset.motionPopId=u;const Y=document.createElement("style");p&&(Y.nonce=p);const rt=o??document.head;return rt.appendChild(Y),Y.sheet&&Y.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${T}px !important;
            height: ${S}px !important;
            ${F}px !important;
            ${Z}px !important;
          }
        `),()=>{rt.contains(Y)&&rt.removeChild(Y)}},[t]),et.jsx(vL,{isPresent:t,childRef:c,sizeRef:m,children:st.cloneElement(n,{ref:_})})}const EL=({children:n,initial:t,isPresent:e,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:m,anchorY:p,root:g})=>{const _=Ry(SL),T=st.useId();let S=!0,I=st.useMemo(()=>(S=!1,{id:T,initial:t,isPresent:e,custom:o,onExitComplete:P=>{_.set(P,!0);for(const q of _.values())if(!q)return;r&&r()},register:P=>(_.set(P,!1),()=>_.delete(P))}),[e,_,r]);return u&&S&&(I={...I}),st.useMemo(()=>{_.forEach((P,q)=>_.set(q,!1))},[e]),st.useEffect(()=>{!e&&!_.size&&r&&r()},[e]),c==="popLayout"&&(n=et.jsx(TL,{isPresent:e,anchorX:m,anchorY:p,root:g,children:n})),et.jsx(td.Provider,{value:I,children:n})};function SL(){return new Map}function IR(n=!0){const t=st.useContext(td);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:o}=t,u=st.useId();st.useEffect(()=>{if(n)return o(u)},[n]);const c=st.useCallback(()=>n&&r&&r(u),[u,r,n]);return!e&&r?[!1,c]:[!0]}const Bh=n=>n.key||"";function cA(n){const t=[];return st.Children.forEach(n,e=>{st.isValidElement(e)&&t.push(e)}),t}const e_=({children:n,custom:t,initial:e=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:m="left",anchorY:p="top",root:g})=>{const[_,T]=IR(c),S=st.useMemo(()=>cA(n),[n]),I=c&&!_?[]:S.map(Bh),P=st.useRef(!0),q=st.useRef(S),j=Ry(()=>new Map),F=st.useRef(new Set),[Z,Y]=st.useState(S),[rt,ot]=st.useState(S);aw(()=>{P.current=!1,q.current=S;for(let w=0;w<rt.length;w++){const R=Bh(rt[w]);I.includes(R)?(j.delete(R),F.current.delete(R)):j.get(R)!==!0&&j.set(R,!1)}},[rt,I.length,I.join("-")]);const dt=[];if(S!==Z){let w=[...S];for(let R=0;R<rt.length;R++){const M=rt[R],V=Bh(M);I.includes(V)||(w.splice(R,0,M),dt.push(M))}return u==="wait"&&dt.length&&(w=dt),ot(cA(w)),Y(S),null}const{forceRender:C}=st.useContext(wy);return et.jsx(et.Fragment,{children:rt.map(w=>{const R=Bh(w),M=c&&!_?!1:S===rt||I.includes(R),V=()=>{if(F.current.has(R))return;if(F.current.add(R),j.has(R))j.set(R,!0);else return;let L=!0;j.forEach(D=>{D||(L=!1)}),L&&(C?.(),ot(q.current),c&&T?.(),r&&r())};return et.jsx(EL,{isPresent:M,initial:!P.current||e?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:g,onExitComplete:M?void 0:V,anchorX:m,anchorY:p,children:w},R)})})},DR=st.createContext({strict:!1}),hA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let fA=!1;function AL(){if(fA)return;const n={};for(const t in hA)n[t]={isEnabled:e=>hA[t].some(r=>!!e[r])};sR(n),fA=!0}function xR(){return AL(),uk()}function bL(n){const t=xR();for(const e in n)t[e]={...t[e],...n[e]};sR(t)}const wL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xf(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||wL.has(n)}let VR=n=>!xf(n);function RL(n){typeof n=="function"&&(VR=t=>t.startsWith("on")?!xf(t):n(t))}try{RL(require("@emotion/is-prop-valid").default)}catch{}function CL(n,t,e){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(VR(o)||e===!0&&xf(o)||!t&&!xf(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const id=st.createContext({});function IL(n,t){if(nd(n)){const{initial:e,animate:r}=n;return{initial:e===!1||Uu(e)?e:void 0,animate:Uu(r)?r:void 0}}return n.inherit!==!1?t:{}}function DL(n){const{initial:t,animate:e}=IL(n,st.useContext(id));return st.useMemo(()=>({initial:t,animate:e}),[dA(t),dA(e)])}function dA(n){return Array.isArray(n)?n.join(" "):n}const n_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function MR(n,t,e){for(const r in t)!on(t[r])&&!hR(r,e)&&(n[r]=t[r])}function xL({transformTemplate:n},t){return st.useMemo(()=>{const e=n_();return Zy(e,t,n),Object.assign({},e.vars,e.style)},[t])}function VL(n,t){const e=n.style||{},r={};return MR(r,e,n),Object.assign(r,xL(n,t)),r}function ML(n,t){const e={},r=VL(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=r,e}const NR=()=>({...n_(),attrs:{}});function NL(n,t,e,r){const o=st.useMemo(()=>{const u=NR();return fR(u,t,mR(r),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};MR(u,n.style,n),o.style={...u,...o.style}}return o}const OL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function i_(n){return typeof n!="string"||n.includes("-")?!1:!!(OL.indexOf(n)>-1||/[A-Z]/u.test(n))}function PL(n,t,e,{latestValues:r},o,u=!1,c){const p=(c??i_(n)?NL:ML)(t,r,o,n),g=CL(t,typeof n=="string",u),_=n!==st.Fragment?{...g,...p,ref:e}:{},{children:T}=t,S=st.useMemo(()=>on(T)?T.get():T,[T]);return st.createElement(n,{..._,children:S})}function kL({scrapeMotionValuesFromProps:n,createRenderState:t},e,r,o){return{latestValues:LL(e,r,o,n),renderState:t()}}function LL(n,t,e,r){const o={},u=r(n,{});for(const S in u)o[S]=Jh(u[S]);let{initial:c,animate:m}=n;const p=nd(n),g=iR(n);t&&g&&!p&&n.inherit!==!1&&(c===void 0&&(c=t.initial),m===void 0&&(m=t.animate));let _=e?e.initial===!1:!1;_=_||c===!1;const T=_?m:c;if(T&&typeof T!="boolean"&&!ed(T)){const S=Array.isArray(T)?T:[T];for(let I=0;I<S.length;I++){const P=Gy(n,S[I]);if(P){const{transitionEnd:q,transition:j,...F}=P;for(const Z in F){let Y=F[Z];if(Array.isArray(Y)){const rt=_?Y.length-1:0;Y=Y[rt]}Y!==null&&(o[Z]=Y)}for(const Z in q)o[Z]=q[Z]}}}return o}const OR=n=>(t,e)=>{const r=st.useContext(id),o=st.useContext(td),u=()=>kL(n,t,r,o);return e?u():Ry(u)},UL=OR({scrapeMotionValuesFromProps:Jy,createRenderState:n_}),BL=OR({scrapeMotionValuesFromProps:pR,createRenderState:NR}),zL=Symbol.for("motionComponentSymbol");function jL(n,t,e){const r=st.useRef(e);st.useInsertionEffect(()=>{r.current=e});const o=st.useRef(null);return st.useCallback(u=>{u&&n.onMount?.(u),t&&(u?t.mount(u):t.unmount());const c=r.current;if(typeof c=="function")if(u){const m=c(u);typeof m=="function"&&(o.current=m)}else o.current?(o.current(),o.current=null):c(u);else c&&(c.current=u)},[t])}const PR=st.createContext({});function hu(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function FL(n,t,e,r,o,u){const{visualElement:c}=st.useContext(id),m=st.useContext(DR),p=st.useContext(td),g=st.useContext(t_).reducedMotion,_=st.useRef(null),T=st.useRef(!1);r=r||m.renderer,!_.current&&r&&(_.current=r(n,{visualState:t,parent:c,props:e,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g,isSVG:u}),T.current&&_.current&&(_.current.manuallyAnimateOnMount=!0));const S=_.current,I=st.useContext(PR);S&&!S.projection&&o&&(S.type==="html"||S.type==="svg")&&qL(_.current,e,o,I);const P=st.useRef(!1);st.useInsertionEffect(()=>{S&&P.current&&S.update(e,p)});const q=e[qw],j=st.useRef(!!q&&!window.MotionHandoffIsComplete?.(q)&&window.MotionHasOptimisedAnimation?.(q));return aw(()=>{T.current=!0,S&&(P.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),S.scheduleRenderMicrotask(),j.current&&S.animationState&&S.animationState.animateChanges())}),st.useEffect(()=>{S&&(!j.current&&S.animationState&&S.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(q)}),j.current=!1),S.enteringChildren=void 0)}),S}function qL(n,t,e,r){const{layoutId:o,layout:u,drag:c,dragConstraints:m,layoutScroll:p,layoutRoot:g,layoutCrossfade:_}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:kR(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||m&&hu(m),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:_,layoutScroll:p,layoutRoot:g})}function kR(n){if(n)return n.options.allowProjection!==!1?n.projection:kR(n.parent)}function xp(n,{forwardMotionProps:t=!1,type:e}={},r,o){r&&bL(r);const u=e?e==="svg":i_(n),c=u?BL:UL;function m(g,_){let T;const S={...st.useContext(t_),...g,layoutId:HL(g)},{isStatic:I}=S,P=DL(g),q=c(g,I);if(!I&&rw){GL();const j=KL(S);T=j.MeasureLayout,P.visualElement=FL(n,q,S,o,j.ProjectionNode,u)}return et.jsxs(id.Provider,{value:P,children:[T&&P.visualElement?et.jsx(T,{visualElement:P.visualElement,...S}):null,PL(n,g,jL(q,P.visualElement,_),q,I,t,u)]})}m.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const p=st.forwardRef(m);return p[zL]=n,p}function HL({layoutId:n}){const t=st.useContext(wy).id;return t&&n!==void 0?t+"-"+n:n}function GL(n,t){st.useContext(DR).strict}function KL(n){const t=xR(),{drag:e,layout:r}=t;if(!e&&!r)return{};const o={...e,...r};return{MeasureLayout:e?.isEnabled(n)||r?.isEnabled(n)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function YL(n,t){if(typeof Proxy>"u")return xp;const e=new Map,r=(u,c)=>xp(u,c,n,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(e.has(c)||e.set(c,xp(c,void 0,n,t)),e.get(c))})}const QL=(n,t)=>t.isSVG??i_(n)?new Rk(t):new Tk(t,{allowProjection:n!==st.Fragment});class XL extends Vr{constructor(t){super(t),t.animationState||(t.animationState=Vk(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ed(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let $L=0;class WL extends Vr{constructor(){super(...arguments),this.id=$L++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);e&&!t&&o.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const ZL={animation:{Feature:XL},exit:{Feature:WL}};function ec(n){return{point:{x:n.pageX,y:n.pageY}}}const JL=n=>t=>Xy(t)&&n(t,ec(t));function Su(n,t,e,r){return Bu(n,t,JL(e),r)}const LR=({current:n})=>n?n.ownerDocument.defaultView:null,mA=(n,t)=>Math.abs(n-t);function t3(n,t){const e=mA(n.x,t.x),r=mA(n.y,t.y);return Math.sqrt(e**2+r**2)}const pA=new Set(["auto","scroll"]);class UR{constructor(t,e,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3,element:m}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=I=>{this.handleScroll(I.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=Mp(this.lastMoveEventInfo,this.history),P=this.startEvent!==null,q=t3(I.offset,{x:0,y:0})>=this.distanceThreshold;if(!P&&!q)return;const{point:j}=I,{timestamp:F}=Ze;this.history.push({...j,timestamp:F});const{onStart:Z,onMove:Y}=this.handlers;P||(Z&&Z(this.lastMoveEvent,I),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,I)},this.handlePointerMove=(I,P)=>{this.lastMoveEvent=I,this.lastMoveEventInfo=Vp(P,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(I,P)=>{this.end();const{onEnd:q,onSessionEnd:j,resumeAnimation:F}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Z=Mp(I.type==="pointercancel"?this.lastMoveEventInfo:Vp(P,this.transformPagePoint),this.history);this.startEvent&&q&&q(I,Z),j&&j(I,Z)},!Xy(t))return;this.dragSnapToOrigin=u,this.handlers=e,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const p=ec(t),g=Vp(p,this.transformPagePoint),{point:_}=g,{timestamp:T}=Ze;this.history=[{..._,timestamp:T}];const{onSessionStart:S}=e;S&&S(t,Mp(g,this.history)),this.removeListeners=Zu(Su(this.contextWindow,"pointermove",this.handlePointerMove),Su(this.contextWindow,"pointerup",this.handlePointerUp),Su(this.contextWindow,"pointercancel",this.handlePointerUp)),m&&this.startScrollTracking(m)}startScrollTracking(t){let e=t.parentElement;for(;e;){const r=getComputedStyle(e);(pA.has(r.overflowX)||pA.has(r.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const r=t===window,o=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},u={x:o.x-e.x,y:o.y-e.y};u.x===0&&u.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=u.x,this.lastMoveEventInfo.point.y+=u.y):this.history.length>0&&(this.history[0].x-=u.x,this.history[0].y-=u.y),this.scrollPositions.set(t,o),ae.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Rr(this.updatePoint)}}function Vp(n,t){return t?{point:t(n.point)}:n}function gA(n,t){return{x:n.x-t.x,y:n.y-t.y}}function Mp({point:n},t){return{point:n,delta:gA(n,BR(t)),offset:gA(n,e3(t)),velocity:n3(t,.1)}}function e3(n){return n[0]}function BR(n){return n[n.length-1]}function n3(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,r=null;const o=BR(n);for(;e>=0&&(r=n[e],!(o.timestamp-r.timestamp>ps(t)));)e--;if(!r)return{x:0,y:0};const u=Xn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function i3(n,{min:t,max:e},r){return t!==void 0&&n<t?n=r?ce(t,n,r.min):Math.max(n,t):e!==void 0&&n>e&&(n=r?ce(e,n,r.max):Math.min(n,e)),n}function yA(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function s3(n,{top:t,left:e,bottom:r,right:o}){return{x:yA(n.x,e,o),y:yA(n.y,t,r)}}function _A(n,t){let e=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,r]=[r,e]),{min:e,max:r}}function r3(n,t){return{x:_A(n.x,t.x),y:_A(n.y,t.y)}}function a3(n,t){let e=.5;const r=mn(n),o=mn(t);return o>r?e=Pu(t.min,t.max-r,n.min):r>o&&(e=Pu(n.min,n.max-o,t.min)),Yi(0,1,e)}function o3(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const Cg=.35;function l3(n=Cg){return n===!1?n=0:n===!0&&(n=Cg),{x:vA(n,"left","right"),y:vA(n,"top","bottom")}}function vA(n,t,e){return{min:TA(n,t),max:TA(n,e)}}function TA(n,t){return typeof n=="number"?n:n[t]||0}const u3=new WeakMap;class c3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ue(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=T=>{e?(this.stopAnimation(),this.snapToCursor(ec(T).point)):this.pauseAnimation()},c=(T,S)=>{this.stopAnimation();const{drag:I,dragPropagation:P,onDragStart:q}=this.getProps();if(I&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=W4(I),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qn(F=>{let Z=this.getAxisMotionValue(F).get()||0;if(Gi.test(Z)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const rt=Y.layout.layoutBox[F];rt&&(Z=mn(rt)*(parseFloat(Z)/100))}}this.originPoint[F]=Z}),q&&ae.postRender(()=>q(T,S)),vg(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},m=(T,S)=>{this.latestPointerEvent=T,this.latestPanInfo=S;const{dragPropagation:I,dragDirectionLock:P,onDirectionLock:q,onDrag:j}=this.getProps();if(!I&&!this.openDragLock)return;const{offset:F}=S;if(P&&this.currentDirection===null){this.currentDirection=h3(F),this.currentDirection!==null&&q&&q(this.currentDirection);return}this.updateAxis("x",S.point,F),this.updateAxis("y",S.point,F),this.visualElement.render(),j&&j(T,S)},p=(T,S)=>{this.latestPointerEvent=T,this.latestPanInfo=S,this.stop(T,S),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Qn(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:_}=this.getProps();this.panSession=new UR(t,{onSessionStart:u,onStart:c,onMove:m,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:_,distanceThreshold:r,contextWindow:LR(this.visualElement),element:this.visualElement.current})}stop(t,e){const r=t||this.latestPointerEvent,o=e||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:m}=this.getProps();m&&ae.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,e,r){const{drag:o}=this.getProps();if(!r||!zh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=i3(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&hu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=s3(r.layoutBox,t):this.constraints=!1,this.elastic=l3(e),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Qn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=o3(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!hu(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=mk(r,o.root,this.visualElement.getTransformPagePoint());let c=r3(o.layout.layoutBox,u);if(e){const m=e(hk(c));this.hasMutatedConstraints=!!m,m&&(c=aR(m))}return c}startAnimation(t){const{drag:e,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},g=Qn(_=>{if(!zh(_,e,this.currentDirection))return;let T=p&&p[_]||{};c&&(T={min:0,max:0});const S=o?200:1e6,I=o?40:1e7,P={type:"inertia",velocity:r?t[_]:0,bounceStiffness:S,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...u,...T};return this.startAxisValueAnimation(_,P)});return Promise.all(g).then(m)}startAxisValueAnimation(t,e){const r=this.getAxisMotionValue(t);return vg(this.visualElement,t),r.start(Hy(t,r,0,e,this.visualElement,!1))}stopAnimation(){Qn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Qn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[e];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Qn(e=>{const{drag:r}=this.getProps();if(!zh(e,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(e);if(o&&o.layout){const{min:c,max:m}=o.layout.layoutBox[e],p=u.get()||0;u.set(t[e]-ce(c,m,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:r}=this.visualElement;if(!hu(e)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Qn(c=>{const m=this.getAxisMotionValue(c);if(m&&this.constraints!==!1){const p=m.get();o[c]=a3({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Qn(c=>{if(!zh(c,t,null))return;const m=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];m.set(ce(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;u3.set(this.visualElement,this);const t=this.visualElement.current,e=Su(t,"pointerdown",p=>{const{drag:g,dragListener:_=!0}=this.getProps(),T=p.target,S=T!==t&&tR(T);g&&_&&!S&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();hu(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ae.read(r);const c=Bu(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Qn(_=>{const T=this.getAxisMotionValue(_);T&&(this.originPoint[_]+=p[_].translate,T.set(T.get()+p[_].translate))}),this.visualElement.render())}));return()=>{c(),e(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Cg,dragMomentum:m=!0}=t;return{...t,drag:e,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:m}}}function zh(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function h3(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class f3 extends Vr{constructor(t){super(t),this.removeGroupControls=$n,this.removeListeners=$n,this.controls=new c3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$n}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const EA=n=>(t,e)=>{n&&ae.postRender(()=>n(t,e))};class d3 extends Vr{constructor(){super(...arguments),this.removePointerDownListener=$n}onPointerDown(t){this.session=new UR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:LR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:EA(t),onStart:EA(e),onMove:r,onEnd:(u,c)=>{delete this.session,o&&ae.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Su(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Np=!1;class m3 extends st.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;u&&(e.group&&e.group.add(u),r&&r.register&&o&&r.register(u),Np&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),tf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,t.layoutDependency!==e&&c.setOptions({...c.options,layoutDependency:e}),Np=!0,o||t.layoutDependency!==e||e===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||ae.postRender(()=>{const m=c.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Qy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r}=this.props,{projection:o}=t;Np=!0,o&&(o.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function zR(n){const[t,e]=IR(),r=st.useContext(wy);return et.jsx(m3,{...n,layoutGroup:r,switchLayoutGroup:st.useContext(PR),isPresent:t,safeToRemove:e})}const p3={pan:{Feature:d3},drag:{Feature:f3,ProjectionNode:CR,MeasureLayout:zR}};function SA(n,t,e){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",e==="Start");const o="onHover"+e,u=r[o];u&&ae.postRender(()=>u(t,ec(t)))}class g3 extends Vr{mount(){const{current:t}=this.node;t&&(this.unmount=Z4(t,(e,r)=>(SA(this.node,r,"Start"),o=>SA(this.node,o,"End"))))}unmount(){}}class y3 extends Vr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zu(Bu(this.node.current,"focus",()=>this.onFocus()),Bu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function AA(n,t,e){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",e==="Start");const o="onTap"+(e==="End"?"":e),u=r[o];u&&ae.postRender(()=>u(t,ec(t)))}class _3 extends Vr{mount(){const{current:t}=this.node;t&&(this.unmount=ek(t,(e,r)=>(AA(this.node,r,"Start"),(o,{success:u})=>AA(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ig=new WeakMap,Op=new WeakMap,v3=n=>{const t=Ig.get(n.target);t&&t(n)},T3=n=>{n.forEach(v3)};function E3({root:n,...t}){const e=n||document;Op.has(e)||Op.set(e,{});const r=Op.get(e),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(T3,{root:n,...t})),r[o]}function S3(n,t,e){const r=E3(t);return Ig.set(n,e),r.observe(n),()=>{Ig.delete(n),r.unobserve(n)}}const A3={some:0,all:1};class b3 extends Vr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:r,amount:o="some",once:u}=t,c={root:e?e.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:A3[o]},m=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:_,onViewportLeave:T}=this.node.getProps(),S=g?_:T;S&&S(p)};return S3(this.node.current,c,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(w3(t,e))&&this.startObserver()}unmount(){}}function w3({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const R3={inView:{Feature:b3},tap:{Feature:_3},focus:{Feature:y3},hover:{Feature:g3}},C3={layout:{ProjectionNode:CR,MeasureLayout:zR}},I3={...ZL,...R3,...p3,...C3},lr=YL(I3,QL);var D3=wA();const x3=({isOpen:n,onConfirm:t,onCancel:e,title:r="",message:o=""})=>D3.createPortal(et.jsx(e_,{children:n&&et.jsx(lr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(31, 41, 55, 0.7)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(12px)",padding:"20px"},onClick:u=>{u.target===u.currentTarget&&e()},children:et.jsxs(lr.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"glass-card",style:{maxWidth:"400px",width:"100%",padding:"32px",textAlign:"center",border:"1px solid rgba(255,255,255,0.5)",background:"rgba(255,255,255,0.85)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",maxHeight:"90vh",overflowY:"auto"},children:[et.jsx("div",{style:{fontSize:"4rem",marginBottom:"16px",filter:"drop-shadow(0 4px 6px rgba(0,0,0,0.1))",animation:"bounce 1s infinite"},children:""}),et.jsx("h3",{style:{justifyContent:"center",fontSize:"1.75rem",marginBottom:"12px",background:"linear-gradient(135deg, #b91c1c 0%, #ef4444 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:800},children:r}),et.jsx("p",{style:{color:"#4b5563",marginBottom:"32px",lineHeight:"1.6",fontSize:"1.1rem"},children:o}),et.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[et.jsx("button",{onClick:e,className:"btn-secondary",style:{padding:"16px",fontSize:"1.1rem",background:"#f3f4f6",border:"1px solid #e5e7eb",color:"#374151"},children:""}),et.jsx("button",{onClick:t,className:"btn-primary",style:{padding:"16px",fontSize:"1.1rem",background:"linear-gradient(135deg, #dc2626 0%, #ef4444 100%)",boxShadow:"0 4px 12px rgba(220, 38, 38, 0.3)"},children:""})]})]})})}),document.body),V3=()=>{const{slots:n,loading:t}=sw(),{selection:e,selectSession:r,isAdmin:o}=by(),[u,c]=st.useState(null),[m,p]=st.useState(!1),g=(I,P)=>{const q=!!e.selectedA||!!e.selectedB,j=!!e.selectedC,F=!!e.selectedD;let Z=!1;q?(P==="C"||P==="D")&&(Z=!0):j?["A","B","D"].includes(P)&&(Z=!0):F&&["A","B","C"].includes(P)&&(Z=!0),Z?(c({id:I,type:P}),p(!0)):r(I,P)},_=()=>{u&&(r(u.id,u.type),c(null),p(!1))};if(t)return et.jsx("div",{className:"loading-spinner",children:"... ()"});const T=n.filter(I=>!!I.title);if(T.length===0)return et.jsxs(lr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"empty-state",style:{textAlign:"center",padding:"40px",color:"#64748b"},children:[et.jsx("div",{style:{fontSize:"3rem",marginBottom:"20px"},children:""}),et.jsx("p",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:""}),et.jsx("p",{children:"No active sessions found."}),o?et.jsxs("div",{style:{marginTop:"20px"},children:[et.jsx("p",{style:{color:"#ef4444",marginBottom:"10px"},children:" "}),et.jsx(YO,{})]}):et.jsxs("p",{style:{marginTop:"20px",fontSize:"0.9rem",opacity:.7},children:["",et.jsx("br",{}),"Please contact the administrator to initialize the system."]})]});const S=(I,P,q)=>{const j=T.filter(F=>P.includes(F.type));return et.jsxs("div",{className:"section-container",children:[et.jsxs("h3",{children:[I," ",et.jsx("span",{style:{fontSize:"0.8em",fontWeight:"normal",marginLeft:"10px",opacity:.7},children:q})]}),et.jsx("div",{className:"slot-grid",children:et.jsx(e_,{children:j.map(F=>{const Z=e.selectedA===F.id||e.selectedB===F.id||e.selectedC===F.id||e.selectedD===F.id;let Y=!1;e.selectedC&&e.selectedC!==F.id&&(["A","B","D"].includes(F.type)&&(Y=!0),F.type==="C"&&(Y=!0)),e.selectedD&&e.selectedD!==F.id&&(["A","B","C"].includes(F.type)&&(Y=!0),F.type==="D"&&(Y=!0)),(e.selectedA||e.selectedB)&&(F.type==="C"||F.type==="D")&&(Y=!0);const rt=F.booked>=F.capacity,ot=F.capacity-F.booked,dt=F.booked/F.capacity*100;let C="#10b981",w="",R="";return ot===0?(C="#64748b",w="",R=""):ot<=20?(C="#ef4444",w="",R=""):dt>=70&&(C="#f59e0b",w="",R=""),et.jsxs(lr.div,{layoutId:F.id,initial:{opacity:0,scale:.9},animate:{opacity:Y?.4:1,scale:Z?1.02:1,filter:rt?"grayscale(100%)":"none"},whileHover:!rt&&!Y?{y:-5,boxShadow:"0 10px 20px rgba(0,0,0,0.1)"}:{},onClick:()=>!rt&&g(F.id,F.type),className:`slot-card type-${F.type} ${Z?"selected":""} ${rt?"full":""}`,children:[Z&&et.jsx(lr.div,{initial:{scale:0},animate:{scale:1},className:"check-mark",children:""}),rt&&et.jsx("div",{className:"sold-out-overlay-text",children:"SOLD OUT"}),et.jsx("span",{className:"slot-name",children:F.title}),et.jsxs("div",{className:"slot-location",children:[" ",F.location]}),et.jsx("p",{className:"slot-description",children:F.description}),et.jsxs("div",{className:"slot-footer",style:{flexDirection:"column",alignItems:"stretch",gap:"12px"},children:[et.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[et.jsxs("span",{className:"slot-time",children:[" ",F.startTime]}),et.jsx("div",{style:{textAlign:"right"},children:et.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"2px"},children:[et.jsxs("span",{style:{fontSize:"0.8rem",fontWeight:700,color:C,background:`${C}15`,padding:"2px 8px",borderRadius:"12px",marginBottom:"2px"},children:[R," ",w]}),et.jsxs("span",{style:{fontSize:"1.2rem",fontWeight:800,color:"#334155"},children:[" ",et.jsx("span",{style:{color:C,fontSize:"1.4rem"},children:ot})," "]})]})})]}),et.jsx("div",{style:{width:"100%",height:"8px",background:"#e2e8f0",borderRadius:"4px",overflow:"hidden"},children:et.jsx(lr.div,{initial:{width:0},animate:{width:`${F.booked/F.capacity*100}%`},transition:{duration:1,ease:"easeOut"},style:{height:"100%",background:C,borderRadius:"4px"}})})]})]},F.id)})})})]})};return et.jsxs(lr.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"selection-container",children:[et.jsxs("div",{className:"combo-row",children:[S(" (A)",["A"]," B"),S(" (B)",["B"]," A")]}),et.jsx("div",{className:"sc-divider",children:"OR"}),et.jsxs("div",{className:"combo-row",children:[S(" (C)",["C"]," 40 "),S(" (D)",["D"]," 40 ")]}),et.jsx(x3,{isOpen:m,onConfirm:_,onCancel:()=>p(!1)})]})},M3=({onSubmit:n,onCancel:t,loading:e})=>{const[r,o]=st.useState({name:"",studentId:""}),u=c=>{c.preventDefault(),n(r)};return et.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(31, 41, 55, 0.4)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(12px)",padding:"20px"},children:et.jsxs("div",{className:"glass-card",style:{maxWidth:"450px",width:"100%",padding:"32px",background:"rgba(255,255,255,0.9)",boxShadow:"0 20px 60px -10px rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.8)"},children:[et.jsx("h2",{style:{textAlign:"left",marginBottom:"24px",fontSize:"1.8rem",background:"linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:800},children:et.jsx("span",{style:{borderLeft:"6px solid #6366f1",paddingLeft:"16px",display:"block",lineHeight:"1.2"},children:""})}),et.jsxs("form",{onSubmit:u,style:{display:"flex",flexDirection:"column",gap:"24px"},children:[et.jsxs("div",{children:[et.jsx("label",{className:"slot-name",style:{fontSize:"1.1rem",marginBottom:"10px",display:"block",color:"#374151"},children:"  Name"}),et.jsx("input",{required:!0,type:"text",placeholder:" / Your Name",value:r.name,onChange:c=>o(m=>({...m,name:c.target.value})),style:{background:"#f9fafb"}})]}),et.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:"16px",marginTop:"12px"},children:[et.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:e,style:{borderRadius:"16px",fontSize:"1.1rem",justifyContent:"center"},children:""}),et.jsx("button",{type:"submit",className:"btn-primary",disabled:e,style:{borderRadius:"16px",fontSize:"1.1rem",justifyContent:"center",boxShadow:"0 4px 15px rgba(79, 70, 229, 0.4)"},children:e?"...":" "})]})]})]})})},N3=({isOpen:n,onClose:t})=>{const[e,r]=st.useState(""),{login:o}=by(),[u,c]=st.useState(!1),m=p=>{p.preventDefault(),o(e)?(t(),r(""),c(!1)):(c(!0),setTimeout(()=>c(!1),2e3))};return et.jsx(e_,{children:n&&et.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",zIndex:3e3,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(8px)"},children:et.jsxs(lr.div,{initial:{scale:.9,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:30},className:"glass-card",style:{maxWidth:"350px",width:"90%",padding:"30px",border:"1px solid rgba(255,255,255,0.4)",background:"rgba(255,255,255,0.85)"},children:[et.jsx("h3",{style:{textAlign:"center",marginBottom:"20px",color:"#1e293b"},children:" "}),et.jsxs("form",{onSubmit:m,children:[et.jsx("input",{type:"password",autoFocus:!0,placeholder:"...",value:e,onChange:p=>r(p.target.value),style:{marginBottom:"15px",border:u?"2px solid #ef4444":void 0,background:"white"}}),u&&et.jsx("p",{style:{color:"#ef4444",fontSize:"0.9rem",marginBottom:"15px",textAlign:"center"},children:""}),et.jsxs("div",{style:{display:"flex",gap:"10px"},children:[et.jsx("button",{type:"button",onClick:t,className:"btn-secondary",style:{flex:1},children:""}),et.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1,padding:"12px",fontSize:"1rem"},children:""})]})]})]})})})},O3=n=>new Promise(t=>setTimeout(t,n)),P3=async(n,t)=>{if(!Af.currentUser)throw new Error("Must be logged in");const e=5;let r=0;for(;r<e;)try{const o=Ou(Nu(fi,"bookings"));return await BO(fi,async u=>{const c=[];if(n.selectedC&&c.push(n.selectedC),n.selectedD&&c.push(n.selectedD),n.selectedA&&c.push(n.selectedA),n.selectedB&&c.push(n.selectedB),c.length===0)throw new Error("No sessions selected");const m=await Promise.all(c.map(p=>u.get(Ou(fi,"slots",p))));m.forEach(p=>{if(!p.exists())throw new Error(`Slot ${p.id} not found`);const g=p.data();if(g.booked>=g.capacity)throw new Error(` ${g.name} `)}),m.forEach(p=>{const g=p.data();if(!g)throw new Error("Slot data missing");u.update(p.ref,{booked:g.booked+1})}),u.set(o,{userId:Af.currentUser.uid,userName:t.name,slots:c,selectionData:n,timestamp:VO(),status:"confirmed"})}),o.id}catch(o){if(console.warn(`Booking attempt ${r+1} failed:`,o),o.message&&o.message.includes(""))throw o;if(r++,r>=e)throw new Error("System is busy (Max Retries), please try again.");const u=Math.pow(2,r)*100+Math.random()*200;await O3(u)}throw new Error("Unexpected booking failure")},H3=async()=>{const n=W1(Nu(fi,"bookings"),Z1("timestamp","desc"));return(await rg(n)).docs.map(e=>{const r=e.data();return{id:e.id,bookingId:r.bookingId||"UNKNOWN",name:r.userName||r.name||"Unknown",studentId:r.studentId||"",department:r.department||"",slots:r.slots||[],timestamp:r.timestamp,status:r.status||"confirmed"}})},k3=st.lazy(()=>RA(()=>import("./AdminDashboard-Eht_ToU0.js"),[]).then(n=>({default:n.AdminDashboard}))),L3=st.lazy(()=>RA(()=>import("./TicketView-DtrCkx1u.js"),[]).then(n=>({default:n.TicketView}))),bA=()=>et.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",flexDirection:"column",gap:"15px"},children:[et.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite"}}),et.jsx("span",{style:{color:"#64748b"},children:"Loading..."}),et.jsx("style",{children:`
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    `})]}),U3=()=>{const{isValid:n,selection:t,isAdmin:e}=by(),{slots:r}=sw(),[o,u]=st.useState(!1),[c,m]=st.useState(!1),[p,g]=st.useState(!1),[_,T]=st.useState(null);st.useEffect(()=>{(async()=>{const j=localStorage.getItem("soka_ticket_2026");if(!j)return;let F;try{F=JSON.parse(j)}catch(Z){console.error("Failed to parse saved ticket",Z),localStorage.removeItem("soka_ticket_2026");return}try{const Z=await zO(Ou(fi,"system","config"));if(Z.exists()){const Y=Z.data();if(Y.lastReset){const rt=new Date(Y.lastReset).getTime(),ot=F.timestamp||0;if(rt>ot){console.log("System reset detected. Clearing local ticket."),localStorage.removeItem("soka_ticket_2026"),T(null);return}}}}catch(Z){console.error("Failed to check system status:",Z)}T(F)})()},[]);const S=()=>{n&&u(!0)},I=async q=>{const j=[];t.selectedC&&j.push(t.selectedC),t.selectedD&&j.push(t.selectedD),t.selectedA&&j.push(t.selectedA),t.selectedB&&j.push(t.selectedB);const Z=`

- ${j.map(Y=>{const rt=r.find(ot=>ot.id===Y);return rt?`[${rt.type}-${rt.location}] ${rt.title}`:null}).filter(Boolean).join(`
- `)}

 


`;if(window.confirm(Z)){m(!0);try{const rt={bookingId:await P3(t,q),userDetails:q,selectedSlotIds:j,timestamp:Date.now()};localStorage.setItem("soka_ticket_2026",JSON.stringify(rt)),T(rt),u(!1)}catch(Y){alert(`: ${Y.message}`)}finally{m(!1)}}},P=()=>{window.location.reload()};return _?et.jsx("div",{className:"container",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:et.jsx(st.Suspense,{fallback:et.jsx(bA,{}),children:et.jsx(L3,{bookingId:_.bookingId,userDetails:_.userDetails,selectedSlotIds:_.selectedSlotIds,onClose:P})})}):et.jsxs("div",{className:"container",children:[et.jsxs("div",{className:"glass-card",children:[et.jsx("h1",{children:"2026  EXPO"}),et.jsx("h2",{children:" - "}),et.jsxs("p",{className:"description",style:{textAlign:"center",color:"#64748b",marginBottom:"30px"},children:["",et.jsx("br",{}),"(A+B C  D )"]}),et.jsx(V3,{}),et.jsx("div",{style:{textAlign:"center",marginTop:"30px"},children:et.jsx("button",{className:"btn-primary",disabled:!n,style:{opacity:n?1:.5,fontSize:"1.2rem",padding:"15px 40px"},onClick:S,children:n?"":" Let's Go"})})]}),o&&et.jsx(M3,{onSubmit:I,onCancel:()=>u(!1),loading:c}),e&&et.jsx("div",{style:{padding:"30px",background:"rgba(255,255,255,0.85)",backdropFilter:"blur(10px)",borderRadius:"24px",marginTop:"40px",border:"1px solid rgba(255,255,255,0.5)",boxShadow:"0 20px 40px -10px rgba(0,0,0,0.1)"},children:et.jsx(st.Suspense,{fallback:et.jsx(bA,{}),children:et.jsx(k3,{})})}),et.jsxs("footer",{style:{textAlign:"center",padding:"40px 0",color:"#94a3b8",fontSize:"0.9rem"},children:[" 2026 Soka Education EXPO. All rights reserved.",et.jsx("br",{}),et.jsx("span",{onClick:()=>g(!0),style:{cursor:"pointer",opacity:.3,marginTop:"10px",display:"inline-block"},children:"Admin Access"})]}),et.jsx(N3,{isOpen:p,onClose:()=>g(!1)})]})};function B3(){return et.jsx(GO,{children:et.jsx(KO,{children:et.jsx(U3,{})})})}II.createRoot(document.getElementById("root")).render(et.jsx(st.StrictMode,{children:et.jsx(B3,{})}));export{z3 as R,YO as S,Dg as a,D3 as b,H3 as c,SI as d,_I as g,et as j,lr as m,st as r,sw as u};
