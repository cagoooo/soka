function YV(n,t){for(var e=0;e<t.length;e++){const s=t[e];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function QV(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qg={exports:{}},ic={};var Bb;function $V(){if(Bb)return ic;Bb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:n,type:s,key:u,ref:a!==void 0?a:null,props:l}}return ic.Fragment=t,ic.jsx=e,ic.jsxs=e,ic}var zb;function XV(){return zb||(zb=1,qg.exports=$V()),qg.exports}var j=XV(),Hg={exports:{}},Rt={};var jb;function WV(){if(jb)return Rt;jb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function I(O){return O===null||typeof O!="object"?null:(O=E&&O[E]||O["@@iterator"],typeof O=="function"?O:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,L={};function Y(O,st,ft){this.props=O,this.context=st,this.refs=L,this.updater=ft||N}Y.prototype.isReactComponent={},Y.prototype.setState=function(O,st){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,st,"setState")},Y.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function W(){}W.prototype=Y.prototype;function z(O,st,ft){this.props=O,this.context=st,this.refs=L,this.updater=ft||N}var Q=z.prototype=new W;Q.constructor=z,U(Q,Y.prototype),Q.isPureReactComponent=!0;var rt=Array.isArray;function at(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function x(O,st,ft){var pt=ft.ref;return{$$typeof:n,type:O,key:st,ref:pt!==void 0?pt:null,props:ft}}function M(O,st){return x(O.type,st,O.props)}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function k(O){var st={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ft){return st[ft]})}var C=/\/+/g;function Gt(O,st){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):st.toString(36)}function Xt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(at,at):(O.status="pending",O.then(function(st){O.status==="pending"&&(O.status="fulfilled",O.value=st)},function(st){O.status==="pending"&&(O.status="rejected",O.reason=st)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function tt(O,st,ft,pt,wt){var Vt=typeof O;(Vt==="undefined"||Vt==="boolean")&&(O=null);var Ft=!1;if(O===null)Ft=!0;else switch(Vt){case"bigint":case"string":case"number":Ft=!0;break;case"object":switch(O.$$typeof){case n:case t:Ft=!0;break;case y:return Ft=O._init,tt(Ft(O._payload),st,ft,pt,wt)}}if(Ft)return wt=wt(O),Ft=pt===""?"."+Gt(O,0):pt,rt(wt)?(ft="",Ft!=null&&(ft=Ft.replace(C,"$&/")+"/"),tt(wt,st,ft,"",function(na){return na})):wt!=null&&(V(wt)&&(wt=M(wt,ft+(wt.key==null||O&&O.key===wt.key?"":(""+wt.key).replace(C,"$&/")+"/")+Ft)),st.push(wt)),1;Ft=0;var je=pt===""?".":pt+":";if(rt(O))for(var he=0;he<O.length;he++)pt=O[he],Vt=je+Gt(pt,he),Ft+=tt(pt,st,ft,Vt,wt);else if(he=I(O),typeof he=="function")for(O=he.call(O),he=0;!(pt=O.next()).done;)pt=pt.value,Vt=je+Gt(pt,he++),Ft+=tt(pt,st,ft,Vt,wt);else if(Vt==="object"){if(typeof O.then=="function")return tt(Xt(O),st,ft,pt,wt);throw st=String(O),Error("Objects are not valid as a React child (found: "+(st==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":st)+"). If you meant to render a collection of children, use an array instead.")}return Ft}function ot(O,st,ft){if(O==null)return O;var pt=[],wt=0;return tt(O,pt,"","",function(Vt){return st.call(ft,Vt,wt++)}),pt}function dt(O){if(O._status===-1){var st=O._result;st=st(),st.then(function(ft){(O._status===0||O._status===-1)&&(O._status=1,O._result=ft)},function(ft){(O._status===0||O._status===-1)&&(O._status=2,O._result=ft)}),O._status===-1&&(O._status=0,O._result=st)}if(O._status===1)return O._result.default;throw O._result}var Dt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var st=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(st))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},kt={map:ot,forEach:function(O,st,ft){ot(O,function(){st.apply(this,arguments)},ft)},count:function(O){var st=0;return ot(O,function(){st++}),st},toArray:function(O){return ot(O,function(st){return st})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Rt.Activity=v,Rt.Children=kt,Rt.Component=Y,Rt.Fragment=e,Rt.Profiler=a,Rt.PureComponent=z,Rt.StrictMode=s,Rt.Suspense=m,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return R.H.useMemoCache(O)}},Rt.cache=function(O){return function(){return O.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(O,st,ft){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var pt=U({},O.props),wt=O.key;if(st!=null)for(Vt in st.key!==void 0&&(wt=""+st.key),st)!A.call(st,Vt)||Vt==="key"||Vt==="__self"||Vt==="__source"||Vt==="ref"&&st.ref===void 0||(pt[Vt]=st[Vt]);var Vt=arguments.length-2;if(Vt===1)pt.children=ft;else if(1<Vt){for(var Ft=Array(Vt),je=0;je<Vt;je++)Ft[je]=arguments[je+2];pt.children=Ft}return x(O.type,wt,pt)},Rt.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:l,_context:O},O},Rt.createElement=function(O,st,ft){var pt,wt={},Vt=null;if(st!=null)for(pt in st.key!==void 0&&(Vt=""+st.key),st)A.call(st,pt)&&pt!=="key"&&pt!=="__self"&&pt!=="__source"&&(wt[pt]=st[pt]);var Ft=arguments.length-2;if(Ft===1)wt.children=ft;else if(1<Ft){for(var je=Array(Ft),he=0;he<Ft;he++)je[he]=arguments[he+2];wt.children=je}if(O&&O.defaultProps)for(pt in Ft=O.defaultProps,Ft)wt[pt]===void 0&&(wt[pt]=Ft[pt]);return x(O,Vt,wt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(O){return{$$typeof:h,render:O}},Rt.isValidElement=V,Rt.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:dt}},Rt.memo=function(O,st){return{$$typeof:p,type:O,compare:st===void 0?null:st}},Rt.startTransition=function(O){var st=R.T,ft={};R.T=ft;try{var pt=O(),wt=R.S;wt!==null&&wt(ft,pt),typeof pt=="object"&&pt!==null&&typeof pt.then=="function"&&pt.then(at,Dt)}catch(Vt){Dt(Vt)}finally{st!==null&&ft.types!==null&&(st.types=ft.types),R.T=st}},Rt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Rt.use=function(O){return R.H.use(O)},Rt.useActionState=function(O,st,ft){return R.H.useActionState(O,st,ft)},Rt.useCallback=function(O,st){return R.H.useCallback(O,st)},Rt.useContext=function(O){return R.H.useContext(O)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(O,st){return R.H.useDeferredValue(O,st)},Rt.useEffect=function(O,st){return R.H.useEffect(O,st)},Rt.useEffectEvent=function(O){return R.H.useEffectEvent(O)},Rt.useId=function(){return R.H.useId()},Rt.useImperativeHandle=function(O,st,ft){return R.H.useImperativeHandle(O,st,ft)},Rt.useInsertionEffect=function(O,st){return R.H.useInsertionEffect(O,st)},Rt.useLayoutEffect=function(O,st){return R.H.useLayoutEffect(O,st)},Rt.useMemo=function(O,st){return R.H.useMemo(O,st)},Rt.useOptimistic=function(O,st){return R.H.useOptimistic(O,st)},Rt.useReducer=function(O,st,ft){return R.H.useReducer(O,st,ft)},Rt.useRef=function(O){return R.H.useRef(O)},Rt.useState=function(O){return R.H.useState(O)},Rt.useSyncExternalStore=function(O,st,ft){return R.H.useSyncExternalStore(O,st,ft)},Rt.useTransition=function(){return R.H.useTransition()},Rt.version="19.2.4",Rt}var Fb;function D_(){return Fb||(Fb=1,Hg.exports=WV()),Hg.exports}var J=D_();const Is=QV(J),xB=YV({__proto__:null,default:Is},[J]);var Gg={exports:{}},sc={},Kg={exports:{}},Yg={};var qb;function ZV(){return qb||(qb=1,(function(n){function t(tt,ot){var dt=tt.length;tt.push(ot);t:for(;0<dt;){var Dt=dt-1>>>1,kt=tt[Dt];if(0<a(kt,ot))tt[Dt]=ot,tt[dt]=kt,dt=Dt;else break t}}function e(tt){return tt.length===0?null:tt[0]}function s(tt){if(tt.length===0)return null;var ot=tt[0],dt=tt.pop();if(dt!==ot){tt[0]=dt;t:for(var Dt=0,kt=tt.length,O=kt>>>1;Dt<O;){var st=2*(Dt+1)-1,ft=tt[st],pt=st+1,wt=tt[pt];if(0>a(ft,dt))pt<kt&&0>a(wt,ft)?(tt[Dt]=wt,tt[pt]=dt,Dt=pt):(tt[Dt]=ft,tt[st]=dt,Dt=st);else if(pt<kt&&0>a(wt,dt))tt[Dt]=wt,tt[pt]=dt,Dt=pt;else break t}}return ot}function a(tt,ot){var dt=tt.sortIndex-ot.sortIndex;return dt!==0?dt:tt.id-ot.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var m=[],p=[],y=1,v=null,E=3,I=!1,N=!1,U=!1,L=!1,Y=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function Q(tt){for(var ot=e(p);ot!==null;){if(ot.callback===null)s(p);else if(ot.startTime<=tt)s(p),ot.sortIndex=ot.expirationTime,t(m,ot);else break;ot=e(p)}}function rt(tt){if(U=!1,Q(tt),!N)if(e(m)!==null)N=!0,at||(at=!0,k());else{var ot=e(p);ot!==null&&Xt(rt,ot.startTime-tt)}}var at=!1,R=-1,A=5,x=-1;function M(){return L?!0:!(n.unstable_now()-x<A)}function V(){if(L=!1,at){var tt=n.unstable_now();x=tt;var ot=!0;try{t:{N=!1,U&&(U=!1,W(R),R=-1),I=!0;var dt=E;try{e:{for(Q(tt),v=e(m);v!==null&&!(v.expirationTime>tt&&M());){var Dt=v.callback;if(typeof Dt=="function"){v.callback=null,E=v.priorityLevel;var kt=Dt(v.expirationTime<=tt);if(tt=n.unstable_now(),typeof kt=="function"){v.callback=kt,Q(tt),ot=!0;break e}v===e(m)&&s(m),Q(tt)}else s(m);v=e(m)}if(v!==null)ot=!0;else{var O=e(p);O!==null&&Xt(rt,O.startTime-tt),ot=!1}}break t}finally{v=null,E=dt,I=!1}ot=void 0}}finally{ot?k():at=!1}}}var k;if(typeof z=="function")k=function(){z(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Gt=C.port2;C.port1.onmessage=V,k=function(){Gt.postMessage(null)}}else k=function(){Y(V,0)};function Xt(tt,ot){R=Y(function(){tt(n.unstable_now())},ot)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(tt){tt.callback=null},n.unstable_forceFrameRate=function(tt){0>tt||125<tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<tt?Math.floor(1e3/tt):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(tt){switch(E){case 1:case 2:case 3:var ot=3;break;default:ot=E}var dt=E;E=ot;try{return tt()}finally{E=dt}},n.unstable_requestPaint=function(){L=!0},n.unstable_runWithPriority=function(tt,ot){switch(tt){case 1:case 2:case 3:case 4:case 5:break;default:tt=3}var dt=E;E=tt;try{return ot()}finally{E=dt}},n.unstable_scheduleCallback=function(tt,ot,dt){var Dt=n.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Dt+dt:Dt):dt=Dt,tt){case 1:var kt=-1;break;case 2:kt=250;break;case 5:kt=1073741823;break;case 4:kt=1e4;break;default:kt=5e3}return kt=dt+kt,tt={id:y++,callback:ot,priorityLevel:tt,startTime:dt,expirationTime:kt,sortIndex:-1},dt>Dt?(tt.sortIndex=dt,t(p,tt),e(m)===null&&tt===e(p)&&(U?(W(R),R=-1):U=!0,Xt(rt,dt-Dt))):(tt.sortIndex=kt,t(m,tt),N||I||(N=!0,at||(at=!0,k()))),tt},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(tt){var ot=E;return function(){var dt=E;E=ot;try{return tt.apply(this,arguments)}finally{E=dt}}}})(Yg)),Yg}var Hb;function JV(){return Hb||(Hb=1,Kg.exports=ZV()),Kg.exports}var Qg={exports:{}},cn={};var Gb;function t2(){if(Gb)return cn;Gb=1;var n=D_();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:m,containerInfo:p,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,cn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},cn.flushSync=function(m){var p=u.T,y=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=p,s.p=y,s.d.f()}},cn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},cn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},cn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,I=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:I}):y==="script"&&s.d.X(m,{crossOrigin:v,integrity:E,fetchPriority:I,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},cn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},cn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},cn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=h(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},cn.requestFormReset=function(m){s.d.r(m)},cn.unstable_batchedUpdates=function(m,p){return m(p)},cn.useFormState=function(m,p,y){return u.H.useFormState(m,p,y)},cn.useFormStatus=function(){return u.H.useHostTransitionStatus()},cn.version="19.2.4",cn}var Kb;function cw(){if(Kb)return Qg.exports;Kb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Qg.exports=t2(),Qg.exports}var Yb;function e2(){if(Yb)return sc;Yb=1;var n=JV(),t=D_(),e=cw();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),i;if(g===c)return m(d),r;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=d,c=g;else{for(var T=!1,S=d.child;S;){if(S===o){T=!0,o=d,c=g;break}if(S===c){T=!0,c=d,o=g;break}S=S.sibling}if(!T){for(S=g.child;S;){if(S===o){T=!0,o=g,c=d;break}if(S===c){T=!0,c=g,o=d;break}S=S.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),z=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var C=Symbol.for("react.client.reference");function Gt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===C?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case U:return"Fragment";case Y:return"Profiler";case L:return"StrictMode";case rt:return"Suspense";case at:return"SuspenseList";case x:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case z:return i.displayName||"Context";case W:return(i._context.displayName||"Context")+".Consumer";case Q:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return r=i.displayName||null,r!==null?r:Gt(i.type)||"Memo";case A:r=i._payload,i=i._init;try{return Gt(i(r))}catch{}}return null}var Xt=Array.isArray,tt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Dt=[],kt=-1;function O(i){return{current:i}}function st(i){0>kt||(i.current=Dt[kt],Dt[kt]=null,kt--)}function ft(i,r){kt++,Dt[kt]=i.current,i.current=r}var pt=O(null),wt=O(null),Vt=O(null),Ft=O(null);function je(i,r){switch(ft(Vt,r),ft(wt,i),ft(pt,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?lb(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=lb(r),i=ub(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}st(pt),ft(pt,i)}function he(){st(pt),st(wt),st(Vt)}function na(i){i.memoizedState!==null&&ft(Ft,i);var r=pt.current,o=ub(r,i.type);r!==o&&(ft(wt,i),ft(pt,o))}function co(i){wt.current===i&&(st(pt),st(wt)),Ft.current===i&&(st(Ft),Ju._currentValue=dt)}var ho,fo;function Ri(i){if(ho===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);ho=r&&r[1]||"",fo=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ho+i+fo}var Jl=!1;function ia(i,r){if(!i||Jl)return"";Jl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(X){var K=X}Reflect.construct(i,[],it)}else{try{it.call()}catch(X){K=X}i.call(it.prototype)}}else{try{throw Error()}catch(X){K=X}(it=i())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],S=g[1];if(T&&S){var D=T.split(`
`),G=S.split(`
`);for(d=c=0;c<D.length&&!D[c].includes("DetermineComponentFrameRoot");)c++;for(;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;if(c===D.length||d===G.length)for(c=D.length-1,d=G.length-1;1<=c&&0<=d&&D[c]!==G[d];)d--;for(;1<=c&&0<=d;c--,d--)if(D[c]!==G[d]){if(c!==1||d!==1)do if(c--,d--,0>d||D[c]!==G[d]){var et=`
`+D[c].replace(" at new "," at ");return i.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",i.displayName)),et}while(1<=c&&0<=d);break}}}finally{Jl=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ri(o):""}function tu(i,r){switch(i.tag){case 26:case 27:case 5:return Ri(i.type);case 16:return Ri("Lazy");case 13:return i.child!==r&&r!==null?Ri("Suspense Fallback"):Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 15:return ia(i.type,!1);case 11:return ia(i.type.render,!1);case 1:return ia(i.type,!0);case 31:return Ri("Activity");default:return""}}function eu(i){try{var r="",o=null;do r+=tu(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Re=Object.prototype.hasOwnProperty,Fe=n.unstable_scheduleCallback,qs=n.unstable_cancelCallback,Gm=n.unstable_shouldYield,wh=n.unstable_requestPaint,pn=n.unstable_now,sa=n.unstable_getCurrentPriorityLevel,nu=n.unstable_ImmediatePriority,iu=n.unstable_UserBlockingPriority,Hs=n.unstable_NormalPriority,Km=n.unstable_LowPriority,Ih=n.unstable_IdlePriority,Rh=n.log,xh=n.unstable_setDisableYieldValue,li=null,tn=null;function qn(i){if(typeof Rh=="function"&&xh(i),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(li,i)}catch{}}var be=Math.clz32?Math.clz32:Dh,Ch=Math.log,mo=Math.LN2;function Dh(i){return i>>>=0,i===0?32:31-(Ch(i)/mo|0)|0}var xi=256,ra=262144,xe=4194304;function Ci(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Di(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var d=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var S=c&134217727;return S!==0?(c=S&~g,c!==0?d=Ci(c):(T&=S,T!==0?d=Ci(T):o||(o=S&~i,o!==0&&(d=Ci(o))))):(S=c&~g,S!==0?d=Ci(S):T!==0?d=Ci(T):o||(o=c&~i,o!==0&&(d=Ci(o)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:d}function ui(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Ym(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vh(){var i=xe;return xe<<=1,(xe&62914560)===0&&(xe=4194304),i}function Vi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function aa(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Qm(i,r,o,c,d,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,D=i.expirationTimes,G=i.hiddenUpdates;for(o=T&~o;0<o;){var et=31-be(o),it=1<<et;S[et]=0,D[et]=-1;var K=G[et];if(K!==null)for(G[et]=null,et=0;et<K.length;et++){var X=K[et];X!==null&&(X.lane&=-536870913)}o&=~it}c!==0&&oa(i,c,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~r))}function oa(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-be(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function su(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-be(o),d=1<<c;d&r|i[c]&r&&(i[c]|=r),o&=~d}}function ru(i,r){var o=r&-r;return o=(o&42)!==0?1:la(o),(o&(i.suspendedLanes|r))!==0?0:o}function la(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function as(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Mh(){var i=ot.p;return i!==0?i:(i=window.event,i===void 0?32:Mb(i.type))}function ci(i,r){var o=ot.p;try{return ot.p=i,r()}finally{ot.p=o}}var hi=Math.random().toString(36).slice(2),Ce="__reactFiber$"+hi,$e="__reactProps$"+hi,Mi="__reactContainer$"+hi,po="__reactEvents$"+hi,$m="__reactListeners$"+hi,Nh="__reactHandles$"+hi,Ph="__reactResources$"+hi,Ni="__reactMarker$"+hi;function go(i){delete i[Ce],delete i[$e],delete i[po],delete i[$m],delete i[Nh]}function Pi(i){var r=i[Ce];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Mi]||o[Ce]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=gb(i);i!==null;){if(o=i[Ce])return o;i=gb(i)}return r}i=o,o=i.parentNode}return null}function Hn(i){if(i=i[Ce]||i[Mi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Dn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Oi(i){var r=i[Ph];return r||(r=i[Ph]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function De(i){i[Ni]=!0}var au=new Set,ou={};function ki(i,r){Li(i,r),Li(i+"Capture",r)}function Li(i,r){for(ou[i]=r,i=0;i<r.length;i++)au.add(r[i])}var lu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uu={},cu={};function Oh(i){return Re.call(cu,i)?!0:Re.call(uu,i)?!1:lu.test(i)?cu[i]=!0:(uu[i]=!0,!1)}function yo(i,r,o){if(Oh(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Vn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Ve(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function Xe(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Gs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function hu(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,g=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Wt(i){if(!i._valueTracker){var r=Gs(i)?"checked":"value";i._valueTracker=hu(i,r,""+i[r])}}function ua(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=Gs(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function Ui(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ca=/[\n"\\]/g;function bn(i){return i.replace(ca,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function _o(i,r,o,c,d,g,T,S){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Xe(r)):i.value!==""+Xe(r)&&(i.value=""+Xe(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?fu(i,T,Xe(r)):o!=null?fu(i,T,Xe(o)):c!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+Xe(S):i.removeAttribute("name")}function kh(i,r,o,c,d,g,T,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Wt(i);return}o=o!=null?""+Xe(o):"",r=r!=null?""+Xe(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=S?i.checked:!!c,i.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),Wt(i)}function fu(i,r,o){r==="number"&&Ui(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ks(i,r,o,c){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Xe(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,c&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function Lh(i,r,o){if(r!=null&&(r=""+Xe(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Xe(o):""}function Ys(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(Xt(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=Xe(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),Wt(i)}function Sn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Uh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function du(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||Uh.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function mu(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var d in r)c=r[d],r.hasOwnProperty(d)&&o[d]!==c&&du(i,d,c)}else for(var g in r)r.hasOwnProperty(g)&&du(i,g,r[g])}function vo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function To(i){return Qs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function fi(){}var pu=null;function Gn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var $s=null,Bi=null;function ha(i){var r=Hn(i);if(r&&(i=r.stateNode)){var o=i[$e]||null;t:switch(i=r.stateNode,r.type){case"input":if(_o(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+bn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var d=c[$e]||null;if(!d)throw Error(s(90));_o(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&ua(c)}break t;case"textarea":Lh(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Ks(i,!!o.multiple,r,!1)}}}var Eo=!1;function Xs(i,r,o){if(Eo)return i(r,o);Eo=!0;try{var c=i(r);return c}finally{if(Eo=!1,($s!==null||Bi!==null)&&(Nf(),$s&&(r=$s,i=Bi,Bi=$s=null,ha(r),i)))for(r=0;r<i.length;r++)ha(i[r])}}function di(i,r){var o=i.stateNode;if(o===null)return null;var c=o[$e]||null;if(c===null)return null;o=c[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fa=!1;if(Kn)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){fa=!0}}),window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{fa=!1}var zi=null,gu=null,da=null;function yu(){if(da)return da;var i,r=gu,o=r.length,c,d="value"in zi?zi.value:zi.textContent,g=d.length;for(i=0;i<o&&r[i]===d[i];i++);var T=o-i;for(c=1;c<=T&&r[o-c]===d[g-c];c++);return da=d.slice(i,1<c?1-c:void 0)}function ma(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function os(){return!0}function mi(){return!1}function en(i){function r(o,c,d,g,T){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?os:mi,this.isPropagationStopped=mi,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),r}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=en(ls),Ws=v({},ls,{view:0,detail:0}),_u=en(Ws),Zs,bo,Fi,So=v({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Fi&&(Fi&&i.type==="mousemove"?(Zs=i.screenX-Fi.screenX,bo=i.screenY-Fi.screenY):bo=Zs=0,Fi=i),Zs)},movementY:function(i){return"movementY"in i?i.movementY:bo}}),vu=en(So),pa=v({},So,{dataTransfer:0}),zh=en(pa),jh=v({},Ws,{relatedTarget:0}),ga=en(jh),Tu=v({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),Fh=en(Tu),Ao=v({},ls,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),qh=en(Ao),Hh=v({},ls,{data:0}),qi=en(Hh),Gh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Yh[i])?!!r[i]:!1}function Js(){return Qh}var gn=v({},Ws,{key:function(i){if(i.key){var r=Gh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=ma(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Kh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(i){return i.type==="keypress"?ma(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ma(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),$h=en(gn),Xh=v({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),us=en(Xh),f=v({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),_=en(f),b=v({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=en(b),q=v({},So,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$=en(q),ct=v({},ls,{newState:0,oldState:0}),xt=en(ct),Se=[9,13,27,32],Qt=Kn&&"CompositionEvent"in window,fe=null;Kn&&"documentMode"in document&&(fe=document.documentMode);var Yn=Kn&&"TextEvent"in window&&!fe,Hi=Kn&&(!Qt||fe&&8<fe&&11>=fe),pi=" ",gi=!1;function ya(i,r){switch(i){case"keyup":return Se.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Io=!1;function yD(i,r){switch(i){case"compositionend":return wo(r);case"keypress":return r.which!==32?null:(gi=!0,pi);case"textInput":return i=r.data,i===pi&&gi?null:i;default:return null}}function _D(i,r){if(Io)return i==="compositionend"||!Qt&&ya(i,r)?(i=yu(),da=gu=zi=null,Io=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Hi&&r.locale!=="ko"?null:r.data;default:return null}}var vD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function v0(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!vD[i.type]:r==="textarea"}function T0(i,r,o,c){$s?Bi?Bi.push(c):Bi=[c]:$s=c,r=zf(r,"onChange"),0<r.length&&(o=new ji("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var Eu=null,bu=null;function TD(i){nb(i,0)}function Wh(i){var r=Dn(i);if(ua(r))return i}function E0(i,r){if(i==="change")return r}var b0=!1;if(Kn){var Xm;if(Kn){var Wm="oninput"in document;if(!Wm){var S0=document.createElement("div");S0.setAttribute("oninput","return;"),Wm=typeof S0.oninput=="function"}Xm=Wm}else Xm=!1;b0=Xm&&(!document.documentMode||9<document.documentMode)}function A0(){Eu&&(Eu.detachEvent("onpropertychange",w0),bu=Eu=null)}function w0(i){if(i.propertyName==="value"&&Wh(bu)){var r=[];T0(r,bu,i,Gn(i)),Xs(TD,r)}}function ED(i,r,o){i==="focusin"?(A0(),Eu=r,bu=o,Eu.attachEvent("onpropertychange",w0)):i==="focusout"&&A0()}function bD(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Wh(bu)}function SD(i,r){if(i==="click")return Wh(r)}function AD(i,r){if(i==="input"||i==="change")return Wh(r)}function wD(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Mn=typeof Object.is=="function"?Object.is:wD;function Su(i,r){if(Mn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!Re.call(r,d)||!Mn(i[d],r[d]))return!1}return!0}function I0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function R0(i,r){var o=I0(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=I0(o)}}function x0(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?x0(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function C0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ui(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Ui(i.document)}return r}function Zm(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var ID=Kn&&"documentMode"in document&&11>=document.documentMode,Ro=null,Jm=null,Au=null,tp=!1;function D0(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;tp||Ro==null||Ro!==Ui(c)||(c=Ro,"selectionStart"in c&&Zm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Au&&Su(Au,c)||(Au=c,c=zf(Jm,"onSelect"),0<c.length&&(r=new ji("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=Ro)))}function _a(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var xo={animationend:_a("Animation","AnimationEnd"),animationiteration:_a("Animation","AnimationIteration"),animationstart:_a("Animation","AnimationStart"),transitionrun:_a("Transition","TransitionRun"),transitionstart:_a("Transition","TransitionStart"),transitioncancel:_a("Transition","TransitionCancel"),transitionend:_a("Transition","TransitionEnd")},ep={},V0={};Kn&&(V0=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function va(i){if(ep[i])return ep[i];if(!xo[i])return i;var r=xo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in V0)return ep[i]=r[o];return i}var M0=va("animationend"),N0=va("animationiteration"),P0=va("animationstart"),RD=va("transitionrun"),xD=va("transitionstart"),CD=va("transitioncancel"),O0=va("transitionend"),k0=new Map,np="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");np.push("scrollEnd");function yi(i,r){k0.set(i,r),ki(r,[i])}var Zh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Qn=[],Co=0,ip=0;function Jh(){for(var i=Co,r=ip=Co=0;r<i;){var o=Qn[r];Qn[r++]=null;var c=Qn[r];Qn[r++]=null;var d=Qn[r];Qn[r++]=null;var g=Qn[r];if(Qn[r++]=null,c!==null&&d!==null){var T=c.pending;T===null?d.next=d:(d.next=T.next,T.next=d),c.pending=d}g!==0&&L0(o,d,g)}}function tf(i,r,o,c){Qn[Co++]=i,Qn[Co++]=r,Qn[Co++]=o,Qn[Co++]=c,ip|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function sp(i,r,o,c){return tf(i,r,o,c),ef(i)}function Ta(i,r){return tf(i,null,null,r),ef(i)}function L0(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&r!==null&&(d=31-be(o),i=g.hiddenUpdates,c=i[d],c===null?i[d]=[r]:c.push(r),r.lane=o|536870912),g):null}function ef(i){if(50<Ku)throw Ku=0,dg=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Do={};function DD(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(i,r,o,c){return new DD(i,r,o,c)}function rp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function cs(i,r){var o=i.alternate;return o===null?(o=Nn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function U0(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function nf(i,r,o,c,d,g){var T=0;if(c=i,typeof i=="function")rp(i)&&(T=1);else if(typeof i=="string")T=OV(i,o,pt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case x:return i=Nn(31,o,r,d),i.elementType=x,i.lanes=g,i;case U:return Ea(o.children,d,g,r);case L:T=8,d|=24;break;case Y:return i=Nn(12,o,r,d|2),i.elementType=Y,i.lanes=g,i;case rt:return i=Nn(13,o,r,d),i.elementType=rt,i.lanes=g,i;case at:return i=Nn(19,o,r,d),i.elementType=at,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:T=10;break t;case W:T=9;break t;case Q:T=11;break t;case R:T=14;break t;case A:T=16,c=null;break t}T=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=Nn(T,o,r,d),r.elementType=i,r.type=c,r.lanes=g,r}function Ea(i,r,o,c){return i=Nn(7,i,c,r),i.lanes=o,i}function ap(i,r,o){return i=Nn(6,i,null,r),i.lanes=o,i}function B0(i){var r=Nn(18,null,null,0);return r.stateNode=i,r}function op(i,r,o){return r=Nn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var z0=new WeakMap;function $n(i,r){if(typeof i=="object"&&i!==null){var o=z0.get(i);return o!==void 0?o:(r={value:i,source:r,stack:eu(r)},z0.set(i,r),r)}return{value:i,source:r,stack:eu(r)}}var Vo=[],Mo=0,sf=null,wu=0,Xn=[],Wn=0,tr=null,Gi=1,Ki="";function hs(i,r){Vo[Mo++]=wu,Vo[Mo++]=sf,sf=i,wu=r}function j0(i,r,o){Xn[Wn++]=Gi,Xn[Wn++]=Ki,Xn[Wn++]=tr,tr=i;var c=Gi;i=Ki;var d=32-be(c)-1;c&=~(1<<d),o+=1;var g=32-be(r)+d;if(30<g){var T=d-d%5;g=(c&(1<<T)-1).toString(32),c>>=T,d-=T,Gi=1<<32-be(r)+d|o<<d|c,Ki=g+i}else Gi=1<<g|o<<d|c,Ki=i}function lp(i){i.return!==null&&(hs(i,1),j0(i,1,0))}function up(i){for(;i===sf;)sf=Vo[--Mo],Vo[Mo]=null,wu=Vo[--Mo],Vo[Mo]=null;for(;i===tr;)tr=Xn[--Wn],Xn[Wn]=null,Ki=Xn[--Wn],Xn[Wn]=null,Gi=Xn[--Wn],Xn[Wn]=null}function F0(i,r){Xn[Wn++]=Gi,Xn[Wn++]=Ki,Xn[Wn++]=tr,Gi=r.id,Ki=r.overflow,tr=i}var nn=null,le=null,jt=!1,er=null,Zn=!1,cp=Error(s(519));function nr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Iu($n(r,i)),cp}function q0(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[Ce]=i,r[$e]=c,o){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(o=0;o<Qu.length;o++)Ot(Qu[o],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":Ot("invalid",r),kh(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ot("invalid",r);break;case"textarea":Ot("invalid",r),Ys(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||ab(r.textContent,o)?(c.popover!=null&&(Ot("beforetoggle",r),Ot("toggle",r)),c.onScroll!=null&&Ot("scroll",r),c.onScrollEnd!=null&&Ot("scrollend",r),c.onClick!=null&&(r.onclick=fi),r=!0):r=!1,r||nr(i,!0)}function H0(i){for(nn=i.return;nn;)switch(nn.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:nn=nn.return}}function No(i){if(i!==nn)return!1;if(!jt)return H0(i),jt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||xg(i.type,i.memoizedProps)),o=!o),o&&le&&nr(i),H0(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));le=pb(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));le=pb(i)}else r===27?(r=le,gr(i.type)?(i=Ng,Ng=null,le=i):le=r):le=nn?ti(i.stateNode.nextSibling):null;return!0}function ba(){le=nn=null,jt=!1}function hp(){var i=er;return i!==null&&(Rn===null?Rn=i:Rn.push.apply(Rn,i),er=null),i}function Iu(i){er===null?er=[i]:er.push(i)}var fp=O(null),Sa=null,fs=null;function ir(i,r,o){ft(fp,r._currentValue),r._currentValue=o}function ds(i){i._currentValue=fp.current,st(fp)}function dp(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function mp(i,r,o,c){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var T=d.child;g=g.firstContext;t:for(;g!==null;){var S=g;g=d;for(var D=0;D<r.length;D++)if(S.context===r[D]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),dp(g.return,o,i),c||(T=null);break t}g=S.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(s(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),dp(T,o,i),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===i){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Po(i,r,o,c){i=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var S=d.type;Mn(d.pendingProps.value,T.value)||(i!==null?i.push(S):i=[S])}}else if(d===Ft.current){if(T=d.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Ju):i=[Ju])}d=d.return}i!==null&&mp(r,i,o,c),r.flags|=262144}function rf(i){for(i=i.firstContext;i!==null;){if(!Mn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Aa(i){Sa=i,fs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function sn(i){return G0(Sa,i)}function af(i,r){return Sa===null&&Aa(i),G0(i,r)}function G0(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},fs===null){if(i===null)throw Error(s(308));fs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else fs=fs.next=r;return o}var VD=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},MD=n.unstable_scheduleCallback,ND=n.unstable_NormalPriority,Me={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pp(){return{controller:new VD,data:new Map,refCount:0}}function Ru(i){i.refCount--,i.refCount===0&&MD(ND,function(){i.controller.abort()})}var xu=null,gp=0,Oo=0,ko=null;function PD(i,r){if(xu===null){var o=xu=[];gp=0,Oo=vg(),ko={status:"pending",value:void 0,then:function(c){o.push(c)}}}return gp++,r.then(K0,K0),r}function K0(){if(--gp===0&&xu!==null){ko!==null&&(ko.status="fulfilled");var i=xu;xu=null,Oo=0,ko=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function OD(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var Y0=tt.S;tt.S=function(i,r){DE=pn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&PD(i,r),Y0!==null&&Y0(i,r)};var wa=O(null);function yp(){var i=wa.current;return i!==null?i:oe.pooledCache}function of(i,r){r===null?ft(wa,wa.current):ft(wa,r.pool)}function Q0(){var i=yp();return i===null?null:{parent:Me._currentValue,pool:i}}var Lo=Error(s(460)),_p=Error(s(474)),lf=Error(s(542)),uf={then:function(){}};function $0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function X0(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(fi,fi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Z0(i),i;default:if(typeof r.status=="string")r.then(fi,fi);else{if(i=oe,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=c}},function(c){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Z0(i),i}throw Ra=r,Lo}}function Ia(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ra=o,Lo):o}}var Ra=null;function W0(){if(Ra===null)throw Error(s(459));var i=Ra;return Ra=null,i}function Z0(i){if(i===Lo||i===lf)throw Error(s(483))}var Uo=null,Cu=0;function cf(i){var r=Cu;return Cu+=1,Uo===null&&(Uo=[]),X0(Uo,i,r)}function Du(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function hf(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function J0(i){function r(B,P){if(i){var H=B.deletions;H===null?(B.deletions=[P],B.flags|=16):H.push(P)}}function o(B,P){if(!i)return null;for(;P!==null;)r(B,P),P=P.sibling;return null}function c(B){for(var P=new Map;B!==null;)B.key!==null?P.set(B.key,B):P.set(B.index,B),B=B.sibling;return P}function d(B,P){return B=cs(B,P),B.index=0,B.sibling=null,B}function g(B,P,H){return B.index=H,i?(H=B.alternate,H!==null?(H=H.index,H<P?(B.flags|=67108866,P):H):(B.flags|=67108866,P)):(B.flags|=1048576,P)}function T(B){return i&&B.alternate===null&&(B.flags|=67108866),B}function S(B,P,H,nt){return P===null||P.tag!==6?(P=ap(H,B.mode,nt),P.return=B,P):(P=d(P,H),P.return=B,P)}function D(B,P,H,nt){var Et=H.type;return Et===U?et(B,P,H.props.children,nt,H.key):P!==null&&(P.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===A&&Ia(Et)===P.type)?(P=d(P,H.props),Du(P,H),P.return=B,P):(P=nf(H.type,H.key,H.props,null,B.mode,nt),Du(P,H),P.return=B,P)}function G(B,P,H,nt){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=op(H,B.mode,nt),P.return=B,P):(P=d(P,H.children||[]),P.return=B,P)}function et(B,P,H,nt,Et){return P===null||P.tag!==7?(P=Ea(H,B.mode,nt,Et),P.return=B,P):(P=d(P,H),P.return=B,P)}function it(B,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=ap(""+P,B.mode,H),P.return=B,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case I:return H=nf(P.type,P.key,P.props,null,B.mode,H),Du(H,P),H.return=B,H;case N:return P=op(P,B.mode,H),P.return=B,P;case A:return P=Ia(P),it(B,P,H)}if(Xt(P)||k(P))return P=Ea(P,B.mode,H,null),P.return=B,P;if(typeof P.then=="function")return it(B,cf(P),H);if(P.$$typeof===z)return it(B,af(B,P),H);hf(B,P)}return null}function K(B,P,H,nt){var Et=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Et!==null?null:S(B,P,""+H,nt);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case I:return H.key===Et?D(B,P,H,nt):null;case N:return H.key===Et?G(B,P,H,nt):null;case A:return H=Ia(H),K(B,P,H,nt)}if(Xt(H)||k(H))return Et!==null?null:et(B,P,H,nt,null);if(typeof H.then=="function")return K(B,P,cf(H),nt);if(H.$$typeof===z)return K(B,P,af(B,H),nt);hf(B,H)}return null}function X(B,P,H,nt,Et){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return B=B.get(H)||null,S(P,B,""+nt,Et);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case I:return B=B.get(nt.key===null?H:nt.key)||null,D(P,B,nt,Et);case N:return B=B.get(nt.key===null?H:nt.key)||null,G(P,B,nt,Et);case A:return nt=Ia(nt),X(B,P,H,nt,Et)}if(Xt(nt)||k(nt))return B=B.get(H)||null,et(P,B,nt,Et,null);if(typeof nt.then=="function")return X(B,P,H,cf(nt),Et);if(nt.$$typeof===z)return X(B,P,H,af(P,nt),Et);hf(P,nt)}return null}function gt(B,P,H,nt){for(var Et=null,Kt=null,vt=P,Mt=P=0,Ut=null;vt!==null&&Mt<H.length;Mt++){vt.index>Mt?(Ut=vt,vt=null):Ut=vt.sibling;var Yt=K(B,vt,H[Mt],nt);if(Yt===null){vt===null&&(vt=Ut);break}i&&vt&&Yt.alternate===null&&r(B,vt),P=g(Yt,P,Mt),Kt===null?Et=Yt:Kt.sibling=Yt,Kt=Yt,vt=Ut}if(Mt===H.length)return o(B,vt),jt&&hs(B,Mt),Et;if(vt===null){for(;Mt<H.length;Mt++)vt=it(B,H[Mt],nt),vt!==null&&(P=g(vt,P,Mt),Kt===null?Et=vt:Kt.sibling=vt,Kt=vt);return jt&&hs(B,Mt),Et}for(vt=c(vt);Mt<H.length;Mt++)Ut=X(vt,B,Mt,H[Mt],nt),Ut!==null&&(i&&Ut.alternate!==null&&vt.delete(Ut.key===null?Mt:Ut.key),P=g(Ut,P,Mt),Kt===null?Et=Ut:Kt.sibling=Ut,Kt=Ut);return i&&vt.forEach(function(Er){return r(B,Er)}),jt&&hs(B,Mt),Et}function bt(B,P,H,nt){if(H==null)throw Error(s(151));for(var Et=null,Kt=null,vt=P,Mt=P=0,Ut=null,Yt=H.next();vt!==null&&!Yt.done;Mt++,Yt=H.next()){vt.index>Mt?(Ut=vt,vt=null):Ut=vt.sibling;var Er=K(B,vt,Yt.value,nt);if(Er===null){vt===null&&(vt=Ut);break}i&&vt&&Er.alternate===null&&r(B,vt),P=g(Er,P,Mt),Kt===null?Et=Er:Kt.sibling=Er,Kt=Er,vt=Ut}if(Yt.done)return o(B,vt),jt&&hs(B,Mt),Et;if(vt===null){for(;!Yt.done;Mt++,Yt=H.next())Yt=it(B,Yt.value,nt),Yt!==null&&(P=g(Yt,P,Mt),Kt===null?Et=Yt:Kt.sibling=Yt,Kt=Yt);return jt&&hs(B,Mt),Et}for(vt=c(vt);!Yt.done;Mt++,Yt=H.next())Yt=X(vt,B,Mt,Yt.value,nt),Yt!==null&&(i&&Yt.alternate!==null&&vt.delete(Yt.key===null?Mt:Yt.key),P=g(Yt,P,Mt),Kt===null?Et=Yt:Kt.sibling=Yt,Kt=Yt);return i&&vt.forEach(function(KV){return r(B,KV)}),jt&&hs(B,Mt),Et}function ae(B,P,H,nt){if(typeof H=="object"&&H!==null&&H.type===U&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case I:t:{for(var Et=H.key;P!==null;){if(P.key===Et){if(Et=H.type,Et===U){if(P.tag===7){o(B,P.sibling),nt=d(P,H.props.children),nt.return=B,B=nt;break t}}else if(P.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===A&&Ia(Et)===P.type){o(B,P.sibling),nt=d(P,H.props),Du(nt,H),nt.return=B,B=nt;break t}o(B,P);break}else r(B,P);P=P.sibling}H.type===U?(nt=Ea(H.props.children,B.mode,nt,H.key),nt.return=B,B=nt):(nt=nf(H.type,H.key,H.props,null,B.mode,nt),Du(nt,H),nt.return=B,B=nt)}return T(B);case N:t:{for(Et=H.key;P!==null;){if(P.key===Et)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){o(B,P.sibling),nt=d(P,H.children||[]),nt.return=B,B=nt;break t}else{o(B,P);break}else r(B,P);P=P.sibling}nt=op(H,B.mode,nt),nt.return=B,B=nt}return T(B);case A:return H=Ia(H),ae(B,P,H,nt)}if(Xt(H))return gt(B,P,H,nt);if(k(H)){if(Et=k(H),typeof Et!="function")throw Error(s(150));return H=Et.call(H),bt(B,P,H,nt)}if(typeof H.then=="function")return ae(B,P,cf(H),nt);if(H.$$typeof===z)return ae(B,P,af(B,H),nt);hf(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(o(B,P.sibling),nt=d(P,H),nt.return=B,B=nt):(o(B,P),nt=ap(H,B.mode,nt),nt.return=B,B=nt),T(B)):o(B,P)}return function(B,P,H,nt){try{Cu=0;var Et=ae(B,P,H,nt);return Uo=null,Et}catch(vt){if(vt===Lo||vt===lf)throw vt;var Kt=Nn(29,vt,null,B.mode);return Kt.lanes=nt,Kt.return=B,Kt}}}var xa=J0(!0),tT=J0(!1),sr=!1;function vp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tp(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function rr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ar(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,($t&2)!==0){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,r=ef(i),L0(i,null,o),r}return tf(i,c,r,o),ef(i)}function Vu(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,su(i,o)}}function Ep(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?d=g=r:g=g.next=r}else d=g=r;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var bp=!1;function Mu(){if(bp){var i=ko;if(i!==null)throw i}}function Nu(i,r,o,c){bp=!1;var d=i.updateQueue;sr=!1;var g=d.firstBaseUpdate,T=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var D=S,G=D.next;D.next=null,T===null?g=G:T.next=G,T=D;var et=i.alternate;et!==null&&(et=et.updateQueue,S=et.lastBaseUpdate,S!==T&&(S===null?et.firstBaseUpdate=G:S.next=G,et.lastBaseUpdate=D))}if(g!==null){var it=d.baseState;T=0,et=G=D=null,S=g;do{var K=S.lane&-536870913,X=K!==S.lane;if(X?(Lt&K)===K:(c&K)===K){K!==0&&K===Oo&&(bp=!0),et!==null&&(et=et.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var gt=i,bt=S;K=r;var ae=o;switch(bt.tag){case 1:if(gt=bt.payload,typeof gt=="function"){it=gt.call(ae,it,K);break t}it=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=bt.payload,K=typeof gt=="function"?gt.call(ae,it,K):gt,K==null)break t;it=v({},it,K);break t;case 2:sr=!0}}K=S.callback,K!==null&&(i.flags|=64,X&&(i.flags|=8192),X=d.callbacks,X===null?d.callbacks=[K]:X.push(K))}else X={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},et===null?(G=et=X,D=it):et=et.next=X,T|=K;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;X=S,S=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);et===null&&(D=it),d.baseState=D,d.firstBaseUpdate=G,d.lastBaseUpdate=et,g===null&&(d.shared.lanes=0),hr|=T,i.lanes=T,i.memoizedState=it}}function eT(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function nT(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)eT(o[i],r)}var Bo=O(null),ff=O(0);function iT(i,r){i=bs,ft(ff,i),ft(Bo,r),bs=i|r.baseLanes}function Sp(){ft(ff,bs),ft(Bo,Bo.current)}function Ap(){bs=ff.current,st(Bo),st(ff)}var Pn=O(null),Jn=null;function or(i){var r=i.alternate;ft(Ae,Ae.current&1),ft(Pn,i),Jn===null&&(r===null||Bo.current!==null||r.memoizedState!==null)&&(Jn=i)}function wp(i){ft(Ae,Ae.current),ft(Pn,i),Jn===null&&(Jn=i)}function sT(i){i.tag===22?(ft(Ae,Ae.current),ft(Pn,i),Jn===null&&(Jn=i)):lr()}function lr(){ft(Ae,Ae.current),ft(Pn,Pn.current)}function On(i){st(Pn),Jn===i&&(Jn=null),st(Ae)}var Ae=O(0);function df(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Vg(o)||Mg(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ms=0,Ct=null,se=null,Ne=null,mf=!1,zo=!1,Ca=!1,pf=0,Pu=0,jo=null,kD=0;function ve(){throw Error(s(321))}function Ip(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Mn(i[o],r[o]))return!1;return!0}function Rp(i,r,o,c,d,g){return ms=g,Ct=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,tt.H=i===null||i.memoizedState===null?jT:Fp,Ca=!1,g=o(c,d),Ca=!1,zo&&(g=aT(r,o,c,d)),rT(i),g}function rT(i){tt.H=Lu;var r=se!==null&&se.next!==null;if(ms=0,Ne=se=Ct=null,mf=!1,Pu=0,jo=null,r)throw Error(s(300));i===null||Pe||(i=i.dependencies,i!==null&&rf(i)&&(Pe=!0))}function aT(i,r,o,c){Ct=i;var d=0;do{if(zo&&(jo=null),Pu=0,zo=!1,25<=d)throw Error(s(301));if(d+=1,Ne=se=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}tt.H=FT,g=r(o,c)}while(zo);return g}function LD(){var i=tt.H,r=i.useState()[0];return r=typeof r.then=="function"?Ou(r):r,i=i.useState()[0],(se!==null?se.memoizedState:null)!==i&&(Ct.flags|=1024),r}function xp(){var i=pf!==0;return pf=0,i}function Cp(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Dp(i){if(mf){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}mf=!1}ms=0,Ne=se=Ct=null,zo=!1,Pu=pf=0,jo=null}function yn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?Ct.memoizedState=Ne=i:Ne=Ne.next=i,Ne}function we(){if(se===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=se.next;var r=Ne===null?Ct.memoizedState:Ne.next;if(r!==null)Ne=r,se=i;else{if(i===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));se=i,i={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},Ne===null?Ct.memoizedState=Ne=i:Ne=Ne.next=i}return Ne}function gf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ou(i){var r=Pu;return Pu+=1,jo===null&&(jo=[]),i=X0(jo,i,r),r=Ct,(Ne===null?r.memoizedState:Ne.next)===null&&(r=r.alternate,tt.H=r===null||r.memoizedState===null?jT:Fp),i}function yf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ou(i);if(i.$$typeof===z)return sn(i)}throw Error(s(438,String(i)))}function Vp(i){var r=null,o=Ct.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Ct.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=gf(),Ct.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=M;return r.index++,o}function ps(i,r){return typeof r=="function"?r(i):r}function _f(i){var r=we();return Mp(r,se,i)}function Mp(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var d=i.baseQueue,g=c.pending;if(g!==null){if(d!==null){var T=d.next;d.next=g.next,g.next=T}r.baseQueue=d=g,c.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{r=d.next;var S=T=null,D=null,G=r,et=!1;do{var it=G.lane&-536870913;if(it!==G.lane?(Lt&it)===it:(ms&it)===it){var K=G.revertLane;if(K===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),it===Oo&&(et=!0);else if((ms&K)===K){G=G.next,K===Oo&&(et=!0);continue}else it={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(S=D=it,T=g):D=D.next=it,Ct.lanes|=K,hr|=K;it=G.action,Ca&&o(g,it),g=G.hasEagerState?G.eagerState:o(g,it)}else K={lane:it,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(S=D=K,T=g):D=D.next=K,Ct.lanes|=it,hr|=it;G=G.next}while(G!==null&&G!==r);if(D===null?T=g:D.next=S,!Mn(g,i.memoizedState)&&(Pe=!0,et&&(o=ko,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=D,c.lastRenderedState=g}return d===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Np(i){var r=we(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,d=o.pending,g=r.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do g=i(g,T.action),T=T.next;while(T!==d);Mn(g,r.memoizedState)||(Pe=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function oT(i,r,o){var c=Ct,d=we(),g=jt;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!Mn((se||d).memoizedState,o);if(T&&(d.memoizedState=o,Pe=!0),d=d.queue,kp(cT.bind(null,c,d,i),[i]),d.getSnapshot!==r||T||Ne!==null&&Ne.memoizedState.tag&1){if(c.flags|=2048,Fo(9,{destroy:void 0},uT.bind(null,c,d,o,r),null),oe===null)throw Error(s(349));g||(ms&127)!==0||lT(c,r,o)}return o}function lT(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ct.updateQueue,r===null?(r=gf(),Ct.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function uT(i,r,o,c){r.value=o,r.getSnapshot=c,hT(r)&&fT(i)}function cT(i,r,o){return o(function(){hT(r)&&fT(i)})}function hT(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Mn(i,o)}catch{return!0}}function fT(i){var r=Ta(i,2);r!==null&&xn(r,i,2)}function Pp(i){var r=yn();if(typeof i=="function"){var o=i;if(i=o(),Ca){qn(!0);try{o()}finally{qn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:i},r}function dT(i,r,o,c){return i.baseState=o,Mp(i,se,typeof c=="function"?c:ps)}function UD(i,r,o,c,d){if(Ef(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};tt.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,mT(r,g)):(g.next=o.next,r.pending=o.next=g)}}function mT(i,r){var o=r.action,c=r.payload,d=i.state;if(r.isTransition){var g=tt.T,T={};tt.T=T;try{var S=o(d,c),D=tt.S;D!==null&&D(T,S),pT(i,r,S)}catch(G){Op(i,r,G)}finally{g!==null&&T.types!==null&&(g.types=T.types),tt.T=g}}else try{g=o(d,c),pT(i,r,g)}catch(G){Op(i,r,G)}}function pT(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){gT(i,r,c)},function(c){return Op(i,r,c)}):gT(i,r,o)}function gT(i,r,o){r.status="fulfilled",r.value=o,yT(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,mT(i,o)))}function Op(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,yT(r),r=r.next;while(r!==c)}i.action=null}function yT(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function _T(i,r){return r}function vT(i,r){if(jt){var o=oe.formState;if(o!==null){t:{var c=Ct;if(jt){if(le){e:{for(var d=le,g=Zn;d.nodeType!==8;){if(!g){d=null;break e}if(d=ti(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){le=ti(d.nextSibling),c=d.data==="F!";break t}}nr(c)}c=!1}c&&(r=o[0])}}return o=yn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_T,lastRenderedState:r},o.queue=c,o=UT.bind(null,Ct,c),c.dispatch=o,c=Pp(!1),g=jp.bind(null,Ct,!1,c.queue),c=yn(),d={state:r,dispatch:null,action:i,pending:null},c.queue=d,o=UD.bind(null,Ct,d,g,o),d.dispatch=o,c.memoizedState=i,[r,o,!1]}function TT(i){var r=we();return ET(r,se,i)}function ET(i,r,o){if(r=Mp(i,r,_T)[0],i=_f(ps)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Ou(r)}catch(T){throw T===Lo?lf:T}else c=r;r=we();var d=r.queue,g=d.dispatch;return o!==r.memoizedState&&(Ct.flags|=2048,Fo(9,{destroy:void 0},BD.bind(null,d,o),null)),[c,g,i]}function BD(i,r){i.action=r}function bT(i){var r=we(),o=se;if(o!==null)return ET(r,o,i);we(),r=r.memoizedState,o=we();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function Fo(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=Ct.updateQueue,r===null&&(r=gf(),Ct.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function ST(){return we().memoizedState}function vf(i,r,o,c){var d=yn();Ct.flags|=i,d.memoizedState=Fo(1|r,{destroy:void 0},o,c===void 0?null:c)}function Tf(i,r,o,c){var d=we();c=c===void 0?null:c;var g=d.memoizedState.inst;se!==null&&c!==null&&Ip(c,se.memoizedState.deps)?d.memoizedState=Fo(r,g,o,c):(Ct.flags|=i,d.memoizedState=Fo(1|r,g,o,c))}function AT(i,r){vf(8390656,8,i,r)}function kp(i,r){Tf(2048,8,i,r)}function zD(i){Ct.flags|=4;var r=Ct.updateQueue;if(r===null)r=gf(),Ct.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function wT(i){var r=we().memoizedState;return zD({ref:r,nextImpl:i}),function(){if(($t&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function IT(i,r){return Tf(4,2,i,r)}function RT(i,r){return Tf(4,4,i,r)}function xT(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function CT(i,r,o){o=o!=null?o.concat([i]):null,Tf(4,4,xT.bind(null,r,i),o)}function Lp(){}function DT(i,r){var o=we();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Ip(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function VT(i,r){var o=we();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Ip(r,c[1]))return c[0];if(c=i(),Ca){qn(!0);try{i()}finally{qn(!1)}}return o.memoizedState=[c,r],c}function Up(i,r,o){return o===void 0||(ms&1073741824)!==0&&(Lt&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=ME(),Ct.lanes|=i,hr|=i,o)}function MT(i,r,o,c){return Mn(o,r)?o:Bo.current!==null?(i=Up(i,o,c),Mn(i,r)||(Pe=!0),i):(ms&42)===0||(ms&1073741824)!==0&&(Lt&261930)===0?(Pe=!0,i.memoizedState=o):(i=ME(),Ct.lanes|=i,hr|=i,r)}function NT(i,r,o,c,d){var g=ot.p;ot.p=g!==0&&8>g?g:8;var T=tt.T,S={};tt.T=S,jp(i,!1,r,o);try{var D=d(),G=tt.S;if(G!==null&&G(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var et=OD(D,c);ku(i,r,et,Un(i))}else ku(i,r,c,Un(i))}catch(it){ku(i,r,{then:function(){},status:"rejected",reason:it},Un())}finally{ot.p=g,T!==null&&S.types!==null&&(T.types=S.types),tt.T=T}}function jD(){}function Bp(i,r,o,c){if(i.tag!==5)throw Error(s(476));var d=PT(i).queue;NT(i,d,r,dt,o===null?jD:function(){return OT(i),o(c)})}function PT(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:dt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function OT(i){var r=PT(i);r.next===null&&(r=i.alternate.memoizedState),ku(i,r.next.queue,{},Un())}function zp(){return sn(Ju)}function kT(){return we().memoizedState}function LT(){return we().memoizedState}function FD(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Un();i=rr(o);var c=ar(r,i,o);c!==null&&(xn(c,r,o),Vu(c,r,o)),r={cache:pp()},i.payload=r;return}r=r.return}}function qD(i,r,o){var c=Un();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ef(i)?BT(r,o):(o=sp(i,r,o,c),o!==null&&(xn(o,i,c),zT(o,r,c)))}function UT(i,r,o){var c=Un();ku(i,r,o,c)}function ku(i,r,o,c){var d={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ef(i))BT(r,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,S=g(T,o);if(d.hasEagerState=!0,d.eagerState=S,Mn(S,T))return tf(i,r,d,0),oe===null&&Jh(),!1}catch{}if(o=sp(i,r,d,c),o!==null)return xn(o,i,c),zT(o,r,c),!0}return!1}function jp(i,r,o,c){if(c={lane:2,revertLane:vg(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ef(i)){if(r)throw Error(s(479))}else r=sp(i,o,c,2),r!==null&&xn(r,i,2)}function Ef(i){var r=i.alternate;return i===Ct||r!==null&&r===Ct}function BT(i,r){zo=mf=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function zT(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,su(i,o)}}var Lu={readContext:sn,use:yf,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve};Lu.useEffectEvent=ve;var jT={readContext:sn,use:yf,useCallback:function(i,r){return yn().memoizedState=[i,r===void 0?null:r],i},useContext:sn,useEffect:AT,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,vf(4194308,4,xT.bind(null,r,i),o)},useLayoutEffect:function(i,r){return vf(4194308,4,i,r)},useInsertionEffect:function(i,r){vf(4,2,i,r)},useMemo:function(i,r){var o=yn();r=r===void 0?null:r;var c=i();if(Ca){qn(!0);try{i()}finally{qn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=yn();if(o!==void 0){var d=o(r);if(Ca){qn(!0);try{o(r)}finally{qn(!1)}}}else d=r;return c.memoizedState=c.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},c.queue=i,i=i.dispatch=qD.bind(null,Ct,i),[c.memoizedState,i]},useRef:function(i){var r=yn();return i={current:i},r.memoizedState=i},useState:function(i){i=Pp(i);var r=i.queue,o=UT.bind(null,Ct,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Lp,useDeferredValue:function(i,r){var o=yn();return Up(o,i,r)},useTransition:function(){var i=Pp(!1);return i=NT.bind(null,Ct,i.queue,!0,!1),yn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=Ct,d=yn();if(jt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),oe===null)throw Error(s(349));(Lt&127)!==0||lT(c,r,o)}d.memoizedState=o;var g={value:o,getSnapshot:r};return d.queue=g,AT(cT.bind(null,c,g,i),[i]),c.flags|=2048,Fo(9,{destroy:void 0},uT.bind(null,c,g,o,r),null),o},useId:function(){var i=yn(),r=oe.identifierPrefix;if(jt){var o=Ki,c=Gi;o=(c&~(1<<32-be(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=pf++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=kD++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:zp,useFormState:vT,useActionState:vT,useOptimistic:function(i){var r=yn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=jp.bind(null,Ct,!0,o),o.dispatch=r,[i,r]},useMemoCache:Vp,useCacheRefresh:function(){return yn().memoizedState=FD.bind(null,Ct)},useEffectEvent:function(i){var r=yn(),o={impl:i};return r.memoizedState=o,function(){if(($t&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Fp={readContext:sn,use:yf,useCallback:DT,useContext:sn,useEffect:kp,useImperativeHandle:CT,useInsertionEffect:IT,useLayoutEffect:RT,useMemo:VT,useReducer:_f,useRef:ST,useState:function(){return _f(ps)},useDebugValue:Lp,useDeferredValue:function(i,r){var o=we();return MT(o,se.memoizedState,i,r)},useTransition:function(){var i=_f(ps)[0],r=we().memoizedState;return[typeof i=="boolean"?i:Ou(i),r]},useSyncExternalStore:oT,useId:kT,useHostTransitionStatus:zp,useFormState:TT,useActionState:TT,useOptimistic:function(i,r){var o=we();return dT(o,se,i,r)},useMemoCache:Vp,useCacheRefresh:LT};Fp.useEffectEvent=wT;var FT={readContext:sn,use:yf,useCallback:DT,useContext:sn,useEffect:kp,useImperativeHandle:CT,useInsertionEffect:IT,useLayoutEffect:RT,useMemo:VT,useReducer:Np,useRef:ST,useState:function(){return Np(ps)},useDebugValue:Lp,useDeferredValue:function(i,r){var o=we();return se===null?Up(o,i,r):MT(o,se.memoizedState,i,r)},useTransition:function(){var i=Np(ps)[0],r=we().memoizedState;return[typeof i=="boolean"?i:Ou(i),r]},useSyncExternalStore:oT,useId:kT,useHostTransitionStatus:zp,useFormState:bT,useActionState:bT,useOptimistic:function(i,r){var o=we();return se!==null?dT(o,se,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Vp,useCacheRefresh:LT};FT.useEffectEvent=wT;function qp(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Hp={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=Un(),d=rr(c);d.payload=r,o!=null&&(d.callback=o),r=ar(i,d,c),r!==null&&(xn(r,i,c),Vu(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=Un(),d=rr(c);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=ar(i,d,c),r!==null&&(xn(r,i,c),Vu(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Un(),c=rr(o);c.tag=2,r!=null&&(c.callback=r),r=ar(i,c,o),r!==null&&(xn(r,i,o),Vu(r,i,o))}};function qT(i,r,o,c,d,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,T):r.prototype&&r.prototype.isPureReactComponent?!Su(o,c)||!Su(d,g):!0}function HT(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&Hp.enqueueReplaceState(r,r.state,null)}function Da(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function GT(i){Zh(i)}function KT(i){console.error(i)}function YT(i){Zh(i)}function bf(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function QT(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Gp(i,r,o){return o=rr(o),o.tag=3,o.payload={element:null},o.callback=function(){bf(i,r)},o}function $T(i){return i=rr(i),i.tag=3,i}function XT(i,r,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=c.value;i.payload=function(){return d(g)},i.callback=function(){QT(r,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){QT(r,o,c),typeof d!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function HD(i,r,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Po(r,o,d,!0),o=Pn.current,o!==null){switch(o.tag){case 31:case 13:return Jn===null?Pf():o.alternate===null&&Te===0&&(Te=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===uf?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),gg(i,c,d)),!1;case 22:return o.flags|=65536,c===uf?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),gg(i,c,d)),!1}throw Error(s(435,o.tag))}return gg(i,c,d),Pf(),!1}if(jt)return r=Pn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,c!==cp&&(i=Error(s(422),{cause:c}),Iu($n(i,o)))):(c!==cp&&(r=Error(s(423),{cause:c}),Iu($n(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,c=$n(c,o),d=Gp(i.stateNode,c,d),Ep(i,d),Te!==4&&(Te=2)),!1;var g=Error(s(520),{cause:c});if(g=$n(g,o),Gu===null?Gu=[g]:Gu.push(g),Te!==4&&(Te=2),r===null)return!0;c=$n(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=Gp(o.stateNode,c,i),Ep(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(fr===null||!fr.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=$T(d),XT(d,i,o,c),Ep(o,d),!1}o=o.return}while(o!==null);return!1}var Kp=Error(s(461)),Pe=!1;function rn(i,r,o,c){r.child=i===null?tT(r,null,o,c):xa(r,i.child,o,c)}function WT(i,r,o,c,d){o=o.render;var g=r.ref;if("ref"in c){var T={};for(var S in c)S!=="ref"&&(T[S]=c[S])}else T=c;return Aa(r),c=Rp(i,r,o,T,g,d),S=xp(),i!==null&&!Pe?(Cp(i,r,d),gs(i,r,d)):(jt&&S&&lp(r),r.flags|=1,rn(i,r,c,d),r.child)}function ZT(i,r,o,c,d){if(i===null){var g=o.type;return typeof g=="function"&&!rp(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,JT(i,r,g,c,d)):(i=nf(o.type,null,c,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!tg(i,d)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Su,o(T,c)&&i.ref===r.ref)return gs(i,r,d)}return r.flags|=1,i=cs(g,c),i.ref=r.ref,i.return=r,r.child=i}function JT(i,r,o,c,d){if(i!==null){var g=i.memoizedProps;if(Su(g,c)&&i.ref===r.ref)if(Pe=!1,r.pendingProps=c=g,tg(i,d))(i.flags&131072)!==0&&(Pe=!0);else return r.lanes=i.lanes,gs(i,r,d)}return Yp(i,r,o,c,d)}function tE(i,r,o,c){var d=c.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=r.child=i.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~g}else c=0,r.child=null;return eE(i,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&of(r,g!==null?g.cachePool:null),g!==null?iT(r,g):Sp(),sT(r);else return c=r.lanes=536870912,eE(i,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(of(r,g.cachePool),iT(r,g),lr(),r.memoizedState=null):(i!==null&&of(r,null),Sp(),lr());return rn(i,r,d,o),r.child}function Uu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function eE(i,r,o,c,d){var g=yp();return g=g===null?null:{parent:Me._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&of(r,null),Sp(),sT(r),i!==null&&Po(i,r,c,!0),r.childLanes=d,null}function Sf(i,r){return r=wf({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function nE(i,r,o){return xa(r,i.child,null,o),i=Sf(r,r.pendingProps),i.flags|=2,On(r),r.memoizedState=null,i}function GD(i,r,o){var c=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(jt){if(c.mode==="hidden")return i=Sf(r,c),r.lanes=536870912,Uu(null,i);if(wp(r),(i=le)?(i=mb(i,Zn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:tr!==null?{id:Gi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},o=B0(i),o.return=r,r.child=o,nn=r,le=null)):i=null,i===null)throw nr(r);return r.lanes=536870912,null}return Sf(r,c)}var g=i.memoizedState;if(g!==null){var T=g.dehydrated;if(wp(r),d)if(r.flags&256)r.flags&=-257,r=nE(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Pe||Po(i,r,o,!1),d=(o&i.childLanes)!==0,Pe||d){if(c=oe,c!==null&&(T=ru(c,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,Ta(i,T),xn(c,i,T),Kp;Pf(),r=nE(i,r,o)}else i=g.treeContext,le=ti(T.nextSibling),nn=r,jt=!0,er=null,Zn=!1,i!==null&&F0(r,i),r=Sf(r,c),r.flags|=4096;return r}return i=cs(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Af(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Yp(i,r,o,c,d){return Aa(r),o=Rp(i,r,o,c,void 0,d),c=xp(),i!==null&&!Pe?(Cp(i,r,d),gs(i,r,d)):(jt&&c&&lp(r),r.flags|=1,rn(i,r,o,d),r.child)}function iE(i,r,o,c,d,g){return Aa(r),r.updateQueue=null,o=aT(r,c,o,d),rT(i),c=xp(),i!==null&&!Pe?(Cp(i,r,g),gs(i,r,g)):(jt&&c&&lp(r),r.flags|=1,rn(i,r,o,g),r.child)}function sE(i,r,o,c,d){if(Aa(r),r.stateNode===null){var g=Do,T=o.contextType;typeof T=="object"&&T!==null&&(g=sn(T)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Hp,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},vp(r),T=o.contextType,g.context=typeof T=="object"&&T!==null?sn(T):Do,g.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(qp(r,o,T,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Hp.enqueueReplaceState(g,g.state,null),Nu(r,c,g,d),Mu(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){g=r.stateNode;var S=r.memoizedProps,D=Da(o,S);g.props=D;var G=g.context,et=o.contextType;T=Do,typeof et=="object"&&et!==null&&(T=sn(et));var it=o.getDerivedStateFromProps;et=typeof it=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,et||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||G!==T)&&HT(r,g,c,T),sr=!1;var K=r.memoizedState;g.state=K,Nu(r,c,g,d),Mu(),G=r.memoizedState,S||K!==G||sr?(typeof it=="function"&&(qp(r,o,it,c),G=r.memoizedState),(D=sr||qT(r,o,D,c,K,G,T))?(et||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=G),g.props=c,g.state=G,g.context=T,c=D):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,Tp(i,r),T=r.memoizedProps,et=Da(o,T),g.props=et,it=r.pendingProps,K=g.context,G=o.contextType,D=Do,typeof G=="object"&&G!==null&&(D=sn(G)),S=o.getDerivedStateFromProps,(G=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==it||K!==D)&&HT(r,g,c,D),sr=!1,K=r.memoizedState,g.state=K,Nu(r,c,g,d),Mu();var X=r.memoizedState;T!==it||K!==X||sr||i!==null&&i.dependencies!==null&&rf(i.dependencies)?(typeof S=="function"&&(qp(r,o,S,c),X=r.memoizedState),(et=sr||qT(r,o,et,c,K,X,D)||i!==null&&i.dependencies!==null&&rf(i.dependencies))?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,X,D),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,X,D)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=X),g.props=c,g.state=X,g.context=D,c=et):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),c=!1)}return g=c,Af(i,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&c?(r.child=xa(r,i.child,null,d),r.child=xa(r,null,o,d)):rn(i,r,o,d),r.memoizedState=g.state,i=r.child):i=gs(i,r,d),i}function rE(i,r,o,c){return ba(),r.flags|=256,rn(i,r,o,c),r.child}var Qp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $p(i){return{baseLanes:i,cachePool:Q0()}}function Xp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Ln),i}function aE(i,r,o){var c=r.pendingProps,d=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(Ae.current&2)!==0),T&&(d=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(jt){if(d?or(r):lr(),(i=le)?(i=mb(i,Zn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:tr!==null?{id:Gi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},o=B0(i),o.return=r,r.child=o,nn=r,le=null)):i=null,i===null)throw nr(r);return Mg(i)?r.lanes=32:r.lanes=536870912,null}var S=c.children;return c=c.fallback,d?(lr(),d=r.mode,S=wf({mode:"hidden",children:S},d),c=Ea(c,d,o,null),S.return=r,c.return=r,S.sibling=c,r.child=S,c=r.child,c.memoizedState=$p(o),c.childLanes=Xp(i,T,o),r.memoizedState=Qp,Uu(null,c)):(or(r),Wp(r,S))}var D=i.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(g)r.flags&256?(or(r),r.flags&=-257,r=Zp(i,r,o)):r.memoizedState!==null?(lr(),r.child=i.child,r.flags|=128,r=null):(lr(),S=c.fallback,d=r.mode,c=wf({mode:"visible",children:c.children},d),S=Ea(S,d,o,null),S.flags|=2,c.return=r,S.return=r,c.sibling=S,r.child=c,xa(r,i.child,null,o),c=r.child,c.memoizedState=$p(o),c.childLanes=Xp(i,T,o),r.memoizedState=Qp,r=Uu(null,c));else if(or(r),Mg(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var G=T.dgst;T=G,c=Error(s(419)),c.stack="",c.digest=T,Iu({value:c,source:null,stack:null}),r=Zp(i,r,o)}else if(Pe||Po(i,r,o,!1),T=(o&i.childLanes)!==0,Pe||T){if(T=oe,T!==null&&(c=ru(T,o),c!==0&&c!==D.retryLane))throw D.retryLane=c,Ta(i,c),xn(T,i,c),Kp;Vg(S)||Pf(),r=Zp(i,r,o)}else Vg(S)?(r.flags|=192,r.child=i.child,r=null):(i=D.treeContext,le=ti(S.nextSibling),nn=r,jt=!0,er=null,Zn=!1,i!==null&&F0(r,i),r=Wp(r,c.children),r.flags|=4096);return r}return d?(lr(),S=c.fallback,d=r.mode,D=i.child,G=D.sibling,c=cs(D,{mode:"hidden",children:c.children}),c.subtreeFlags=D.subtreeFlags&65011712,G!==null?S=cs(G,S):(S=Ea(S,d,o,null),S.flags|=2),S.return=r,c.return=r,c.sibling=S,r.child=c,Uu(null,c),c=r.child,S=i.child.memoizedState,S===null?S=$p(o):(d=S.cachePool,d!==null?(D=Me._currentValue,d=d.parent!==D?{parent:D,pool:D}:d):d=Q0(),S={baseLanes:S.baseLanes|o,cachePool:d}),c.memoizedState=S,c.childLanes=Xp(i,T,o),r.memoizedState=Qp,Uu(i.child,c)):(or(r),o=i.child,i=o.sibling,o=cs(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function Wp(i,r){return r=wf({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function wf(i,r){return i=Nn(22,i,null,r),i.lanes=0,i}function Zp(i,r,o){return xa(r,i.child,null,o),i=Wp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function oE(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),dp(i.return,r,o)}function Jp(i,r,o,c,d,g){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d,treeForkCount:g}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=d,T.treeForkCount=g)}function lE(i,r,o){var c=r.pendingProps,d=c.revealOrder,g=c.tail;c=c.children;var T=Ae.current,S=(T&2)!==0;if(S?(T=T&1|2,r.flags|=128):T&=1,ft(Ae,T),rn(i,r,c,o),c=jt?wu:0,!S&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&oE(i,o,r);else if(i.tag===19)oE(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&df(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),Jp(r,!1,d,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&df(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}Jp(r,!0,o,null,g,c);break;case"together":Jp(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function gs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),hr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Po(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=cs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=cs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function tg(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&rf(i)))}function KD(i,r,o){switch(r.tag){case 3:je(r,r.stateNode.containerInfo),ir(r,Me,i.memoizedState.cache),ba();break;case 27:case 5:na(r);break;case 4:je(r,r.stateNode.containerInfo);break;case 10:ir(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,wp(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(or(r),r.flags|=128,null):(o&r.child.childLanes)!==0?aE(i,r,o):(or(r),i=gs(i,r,o),i!==null?i.sibling:null);or(r);break;case 19:var d=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Po(i,r,o,!1),c=(o&r.childLanes)!==0),d){if(c)return lE(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ft(Ae,Ae.current),c)break;return null;case 22:return r.lanes=0,tE(i,r,o,r.pendingProps);case 24:ir(r,Me,i.memoizedState.cache)}return gs(i,r,o)}function uE(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Pe=!0;else{if(!tg(i,o)&&(r.flags&128)===0)return Pe=!1,KD(i,r,o);Pe=(i.flags&131072)!==0}else Pe=!1,jt&&(r.flags&1048576)!==0&&j0(r,wu,r.index);switch(r.lanes=0,r.tag){case 16:t:{var c=r.pendingProps;if(i=Ia(r.elementType),r.type=i,typeof i=="function")rp(i)?(c=Da(i,c),r.tag=1,r=sE(null,r,i,c,o)):(r.tag=0,r=Yp(null,r,i,c,o));else{if(i!=null){var d=i.$$typeof;if(d===Q){r.tag=11,r=WT(null,r,i,c,o);break t}else if(d===R){r.tag=14,r=ZT(null,r,i,c,o);break t}}throw r=Gt(i)||i,Error(s(306,r,""))}}return r;case 0:return Yp(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,d=Da(c,r.pendingProps),sE(i,r,c,d,o);case 3:t:{if(je(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var g=r.memoizedState;d=g.element,Tp(i,r),Nu(r,c,null,o);var T=r.memoizedState;if(c=T.cache,ir(r,Me,c),c!==g.cache&&mp(r,[Me],o,!0),Mu(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=rE(i,r,c,o);break t}else if(c!==d){d=$n(Error(s(424)),r),Iu(d),r=rE(i,r,c,o);break t}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,le=ti(i.firstChild),nn=r,jt=!0,er=null,Zn=!0,o=tT(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ba(),c===d){r=gs(i,r,o);break t}rn(i,r,c,o)}r=r.child}return r;case 26:return Af(i,r),i===null?(o=Tb(r.type,null,r.pendingProps,null))?r.memoizedState=o:jt||(o=r.type,i=r.pendingProps,c=jf(Vt.current).createElement(o),c[Ce]=r,c[$e]=i,an(c,o,i),De(c),r.stateNode=c):r.memoizedState=Tb(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return na(r),i===null&&jt&&(c=r.stateNode=yb(r.type,r.pendingProps,Vt.current),nn=r,Zn=!0,d=le,gr(r.type)?(Ng=d,le=ti(c.firstChild)):le=d),rn(i,r,r.pendingProps.children,o),Af(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&jt&&((d=c=le)&&(c=bV(c,r.type,r.pendingProps,Zn),c!==null?(r.stateNode=c,nn=r,le=ti(c.firstChild),Zn=!1,d=!0):d=!1),d||nr(r)),na(r),d=r.type,g=r.pendingProps,T=i!==null?i.memoizedProps:null,c=g.children,xg(d,g)?c=null:T!==null&&xg(d,T)&&(r.flags|=32),r.memoizedState!==null&&(d=Rp(i,r,LD,null,null,o),Ju._currentValue=d),Af(i,r),rn(i,r,c,o),r.child;case 6:return i===null&&jt&&((i=o=le)&&(o=SV(o,r.pendingProps,Zn),o!==null?(r.stateNode=o,nn=r,le=null,i=!0):i=!1),i||nr(r)),null;case 13:return aE(i,r,o);case 4:return je(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=xa(r,null,c,o):rn(i,r,c,o),r.child;case 11:return WT(i,r,r.type,r.pendingProps,o);case 7:return rn(i,r,r.pendingProps,o),r.child;case 8:return rn(i,r,r.pendingProps.children,o),r.child;case 12:return rn(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,ir(r,r.type,c.value),rn(i,r,c.children,o),r.child;case 9:return d=r.type._context,c=r.pendingProps.children,Aa(r),d=sn(d),c=c(d),r.flags|=1,rn(i,r,c,o),r.child;case 14:return ZT(i,r,r.type,r.pendingProps,o);case 15:return JT(i,r,r.type,r.pendingProps,o);case 19:return lE(i,r,o);case 31:return GD(i,r,o);case 22:return tE(i,r,o,r.pendingProps);case 24:return Aa(r),c=sn(Me),i===null?(d=yp(),d===null&&(d=oe,g=pp(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),r.memoizedState={parent:c,cache:d},vp(r),ir(r,Me,d)):((i.lanes&o)!==0&&(Tp(i,r),Nu(r,null,null,o),Mu()),d=i.memoizedState,g=r.memoizedState,d.parent!==c?(d={parent:c,cache:c},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),ir(r,Me,c)):(c=g.cache,ir(r,Me,c),c!==d.cache&&mp(r,[Me],o,!0))),rn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ys(i){i.flags|=4}function eg(i,r,o,c,d){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(kE())i.flags|=8192;else throw Ra=uf,_p}else i.flags&=-16777217}function cE(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!wb(r))if(kE())i.flags|=8192;else throw Ra=uf,_p}function If(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Vh():536870912,i.lanes|=r,Ko|=r)}function Bu(i,r){if(!jt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function ue(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function YD(i,r,o){var c=r.pendingProps;switch(up(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(r),null;case 1:return ue(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),ds(Me),he(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(No(r)?ys(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,hp())),ue(r),null;case 26:var d=r.type,g=r.memoizedState;return i===null?(ys(r),g!==null?(ue(r),cE(r,g)):(ue(r),eg(r,d,null,c,o))):g?g!==i.memoizedState?(ys(r),ue(r),cE(r,g)):(ue(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&ys(r),ue(r),eg(r,d,i,c,o)),null;case 27:if(co(r),o=Vt.current,d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&ys(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ue(r),null}i=pt.current,No(r)?q0(r):(i=yb(d,c,o),r.stateNode=i,ys(r))}return ue(r),null;case 5:if(co(r),d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&ys(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ue(r),null}if(g=pt.current,No(r))q0(r);else{var T=jf(Vt.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?T.createElement(d,{is:c.is}):T.createElement(d)}}g[Ce]=r,g[$e]=c;t:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break t;for(;T.sibling===null;){if(T.return===null||T.return===r)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=g;t:switch(an(g,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&ys(r)}}return ue(r),eg(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&ys(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=Vt.current,No(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,d=nn,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}i[Ce]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||ab(i.nodeValue,o)),i||nr(r,!0)}else i=jf(i).createTextNode(c),i[Ce]=r,r.stateNode=i}return ue(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=No(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Ce]=r}else ba(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ue(r),i=!1}else o=hp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(On(r),r):(On(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ue(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=No(r),c!==null&&c.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Ce]=r}else ba(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ue(r),d=!1}else d=hp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(On(r),r):(On(r),null)}return On(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),If(r,r.updateQueue),ue(r),null);case 4:return he(),i===null&&Sg(r.stateNode.containerInfo),ue(r),null;case 10:return ds(r.type),ue(r),null;case 19:if(st(Ae),c=r.memoizedState,c===null)return ue(r),null;if(d=(r.flags&128)!==0,g=c.rendering,g===null)if(d)Bu(c,!1);else{if(Te!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=df(i),g!==null){for(r.flags|=128,Bu(c,!1),i=g.updateQueue,r.updateQueue=i,If(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)U0(o,i),o=o.sibling;return ft(Ae,Ae.current&1|2),jt&&hs(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&pn()>Vf&&(r.flags|=128,d=!0,Bu(c,!1),r.lanes=4194304)}else{if(!d)if(i=df(g),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,If(r,i),Bu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!jt)return ue(r),null}else 2*pn()-c.renderingStartTime>Vf&&o!==536870912&&(r.flags|=128,d=!0,Bu(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(i=c.last,i!==null?i.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=pn(),i.sibling=null,o=Ae.current,ft(Ae,d?o&1|2:o&1),jt&&hs(r,c.treeForkCount),i):(ue(r),null);case 22:case 23:return On(r),Ap(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(ue(r),r.subtreeFlags&6&&(r.flags|=8192)):ue(r),o=r.updateQueue,o!==null&&If(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&st(wa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ds(Me),ue(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function QD(i,r){switch(up(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ds(Me),he(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return co(r),null;case 31:if(r.memoizedState!==null){if(On(r),r.alternate===null)throw Error(s(340));ba()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(On(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ba()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return st(Ae),null;case 4:return he(),null;case 10:return ds(r.type),null;case 22:case 23:return On(r),Ap(),i!==null&&st(wa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ds(Me),null;case 25:return null;default:return null}}function hE(i,r){switch(up(r),r.tag){case 3:ds(Me),he();break;case 26:case 27:case 5:co(r);break;case 4:he();break;case 31:r.memoizedState!==null&&On(r);break;case 13:On(r);break;case 19:st(Ae);break;case 10:ds(r.type);break;case 22:case 23:On(r),Ap(),i!==null&&st(wa);break;case 24:ds(Me)}}function zu(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&i)===i){c=void 0;var g=o.create,T=o.inst;c=g(),T.destroy=c}o=o.next}while(o!==d)}}catch(S){Jt(r,r.return,S)}}function ur(i,r,o){try{var c=r.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&i)===i){var T=c.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,d=r;var D=o,G=S;try{G()}catch(et){Jt(d,D,et)}}}c=c.next}while(c!==g)}}catch(et){Jt(r,r.return,et)}}function fE(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{nT(r,o)}catch(c){Jt(i,i.return,c)}}}function dE(i,r,o){o.props=Da(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){Jt(i,r,c)}}function ju(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(d){Jt(i,r,d)}}function Yi(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){Jt(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Jt(i,r,d)}else o.current=null}function mE(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){Jt(i,i.return,d)}}function ng(i,r,o){try{var c=i.stateNode;gV(c,i.type,o,r),c[$e]=r}catch(d){Jt(i,i.return,d)}}function pE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&gr(i.type)||i.tag===4}function ig(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||pE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&gr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function sg(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=fi));else if(c!==4&&(c===27&&gr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(sg(i,r,o),i=i.sibling;i!==null;)sg(i,r,o),i=i.sibling}function Rf(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&gr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Rf(i,r,o),i=i.sibling;i!==null;)Rf(i,r,o),i=i.sibling}function gE(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);an(r,c,o),r[Ce]=i,r[$e]=o}catch(g){Jt(i,i.return,g)}}var _s=!1,Oe=!1,rg=!1,yE=typeof WeakSet=="function"?WeakSet:Set,We=null;function $D(i,r){if(i=i.containerInfo,Ig=Qf,i=C0(i),Zm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var T=0,S=-1,D=-1,G=0,et=0,it=i,K=null;e:for(;;){for(var X;it!==o||d!==0&&it.nodeType!==3||(S=T+d),it!==g||c!==0&&it.nodeType!==3||(D=T+c),it.nodeType===3&&(T+=it.nodeValue.length),(X=it.firstChild)!==null;)K=it,it=X;for(;;){if(it===i)break e;if(K===o&&++G===d&&(S=T),K===g&&++et===c&&(D=T),(X=it.nextSibling)!==null)break;it=K,K=it.parentNode}it=X}o=S===-1||D===-1?null:{start:S,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(Rg={focusedElem:i,selectionRange:o},Qf=!1,We=r;We!==null;)if(r=We,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,We=i;else for(;We!==null;){switch(r=We,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,d=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var gt=Da(o.type,d);i=c.getSnapshotBeforeUpdate(gt,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(bt){Jt(o,o.return,bt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Dg(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Dg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,We=i;break}We=r.return}}function _E(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Ts(i,o),c&4&&zu(5,o);break;case 1:if(Ts(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){Jt(o,o.return,T)}else{var d=Da(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Jt(o,o.return,T)}}c&64&&fE(o),c&512&&ju(o,o.return);break;case 3:if(Ts(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{nT(i,r)}catch(T){Jt(o,o.return,T)}}break;case 27:r===null&&c&4&&gE(o);case 26:case 5:Ts(i,o),r===null&&c&4&&mE(o),c&512&&ju(o,o.return);break;case 12:Ts(i,o);break;case 31:Ts(i,o),c&4&&EE(i,o);break;case 13:Ts(i,o),c&4&&bE(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=sV.bind(null,o),AV(i,o))));break;case 22:if(c=o.memoizedState!==null||_s,!c){r=r!==null&&r.memoizedState!==null||Oe,d=_s;var g=Oe;_s=c,(Oe=r)&&!g?Es(i,o,(o.subtreeFlags&8772)!==0):Ts(i,o),_s=d,Oe=g}break;case 30:break;default:Ts(i,o)}}function vE(i){var r=i.alternate;r!==null&&(i.alternate=null,vE(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&go(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var de=null,An=!1;function vs(i,r,o){for(o=o.child;o!==null;)TE(i,r,o),o=o.sibling}function TE(i,r,o){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(li,o)}catch{}switch(o.tag){case 26:Oe||Yi(o,r),vs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Oe||Yi(o,r);var c=de,d=An;gr(o.type)&&(de=o.stateNode,An=!1),vs(i,r,o),Xu(o.stateNode),de=c,An=d;break;case 5:Oe||Yi(o,r);case 6:if(c=de,d=An,de=null,vs(i,r,o),de=c,An=d,de!==null)if(An)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(o.stateNode)}catch(g){Jt(o,r,g)}else try{de.removeChild(o.stateNode)}catch(g){Jt(o,r,g)}break;case 18:de!==null&&(An?(i=de,fb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),tl(i)):fb(de,o.stateNode));break;case 4:c=de,d=An,de=o.stateNode.containerInfo,An=!0,vs(i,r,o),de=c,An=d;break;case 0:case 11:case 14:case 15:ur(2,o,r),Oe||ur(4,o,r),vs(i,r,o);break;case 1:Oe||(Yi(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&dE(o,r,c)),vs(i,r,o);break;case 21:vs(i,r,o);break;case 22:Oe=(c=Oe)||o.memoizedState!==null,vs(i,r,o),Oe=c;break;default:vs(i,r,o)}}function EE(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{tl(i)}catch(o){Jt(r,r.return,o)}}}function bE(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{tl(i)}catch(o){Jt(r,r.return,o)}}function XD(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new yE),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new yE),r;default:throw Error(s(435,i.tag))}}function xf(i,r){var o=XD(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var d=rV.bind(null,i,c);c.then(d,d)}})}function wn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],g=i,T=r,S=T;t:for(;S!==null;){switch(S.tag){case 27:if(gr(S.type)){de=S.stateNode,An=!1;break t}break;case 5:de=S.stateNode,An=!1;break t;case 3:case 4:de=S.stateNode.containerInfo,An=!0;break t}S=S.return}if(de===null)throw Error(s(160));TE(g,T,d),de=null,An=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)SE(r,i),r=r.sibling}var _i=null;function SE(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:wn(r,i),In(i),c&4&&(ur(3,i,i.return),zu(3,i),ur(5,i,i.return));break;case 1:wn(r,i),In(i),c&512&&(Oe||o===null||Yi(o,o.return)),c&64&&_s&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=_i;if(wn(r,i),In(i),c&512&&(Oe||o===null||Yi(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){t:{c=i.type,o=i.memoizedProps,d=d.ownerDocument||d;e:switch(c){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Ni]||g[Ce]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(c),d.head.insertBefore(g,d.querySelector("head > title"))),an(g,c,o),g[Ce]=i,De(g),c=g;break t;case"link":var T=Sb("link","href",d).get(c+(o.href||""));if(T){for(var S=0;S<T.length;S++)if(g=T[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(S,1);break e}}g=d.createElement(c),an(g,c,o),d.head.appendChild(g);break;case"meta":if(T=Sb("meta","content",d).get(c+(o.content||""))){for(S=0;S<T.length;S++)if(g=T[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(S,1);break e}}g=d.createElement(c),an(g,c,o),d.head.appendChild(g);break;default:throw Error(s(468,c))}g[Ce]=i,De(g),c=g}i.stateNode=c}else Ab(d,i.type,i.stateNode);else i.stateNode=bb(d,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?Ab(d,i.type,i.stateNode):bb(d,c,i.memoizedProps)):c===null&&i.stateNode!==null&&ng(i,i.memoizedProps,o.memoizedProps)}break;case 27:wn(r,i),In(i),c&512&&(Oe||o===null||Yi(o,o.return)),o!==null&&c&4&&ng(i,i.memoizedProps,o.memoizedProps);break;case 5:if(wn(r,i),In(i),c&512&&(Oe||o===null||Yi(o,o.return)),i.flags&32){d=i.stateNode;try{Sn(d,"")}catch(gt){Jt(i,i.return,gt)}}c&4&&i.stateNode!=null&&(d=i.memoizedProps,ng(i,d,o!==null?o.memoizedProps:d)),c&1024&&(rg=!0);break;case 6:if(wn(r,i),In(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(gt){Jt(i,i.return,gt)}}break;case 3:if(Hf=null,d=_i,_i=Ff(r.containerInfo),wn(r,i),_i=d,In(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{tl(r.containerInfo)}catch(gt){Jt(i,i.return,gt)}rg&&(rg=!1,AE(i));break;case 4:c=_i,_i=Ff(i.stateNode.containerInfo),wn(r,i),In(i),_i=c;break;case 12:wn(r,i),In(i);break;case 31:wn(r,i),In(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,xf(i,c)));break;case 13:wn(r,i),In(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Df=pn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,xf(i,c)));break;case 22:d=i.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,G=_s,et=Oe;if(_s=G||d,Oe=et||D,wn(r,i),Oe=et,_s=G,In(i),c&8192)t:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||D||_s||Oe||Va(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){D=o=r;try{if(g=D.stateNode,d)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=D.stateNode;var it=D.memoizedProps.style,K=it!=null&&it.hasOwnProperty("display")?it.display:null;S.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(gt){Jt(D,D.return,gt)}}}else if(r.tag===6){if(o===null){D=r;try{D.stateNode.nodeValue=d?"":D.memoizedProps}catch(gt){Jt(D,D.return,gt)}}}else if(r.tag===18){if(o===null){D=r;try{var X=D.stateNode;d?db(X,!0):db(D.stateNode,!1)}catch(gt){Jt(D,D.return,gt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,xf(i,o))));break;case 19:wn(r,i),In(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,xf(i,c)));break;case 30:break;case 21:break;default:wn(r,i),In(i)}}function In(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(pE(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,g=ig(i);Rf(i,g,d);break;case 5:var T=o.stateNode;o.flags&32&&(Sn(T,""),o.flags&=-33);var S=ig(i);Rf(i,S,T);break;case 3:case 4:var D=o.stateNode.containerInfo,G=ig(i);sg(i,G,D);break;default:throw Error(s(161))}}catch(et){Jt(i,i.return,et)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function AE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;AE(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Ts(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)_E(i,r.alternate,r),r=r.sibling}function Va(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:ur(4,r,r.return),Va(r);break;case 1:Yi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&dE(r,r.return,o),Va(r);break;case 27:Xu(r.stateNode);case 26:case 5:Yi(r,r.return),Va(r);break;case 22:r.memoizedState===null&&Va(r);break;case 30:Va(r);break;default:Va(r)}i=i.sibling}}function Es(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,d=i,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:Es(d,g,o),zu(4,g);break;case 1:if(Es(d,g,o),c=g,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(G){Jt(c,c.return,G)}if(c=g,d=c.updateQueue,d!==null){var S=c.stateNode;try{var D=d.shared.hiddenCallbacks;if(D!==null)for(d.shared.hiddenCallbacks=null,d=0;d<D.length;d++)eT(D[d],S)}catch(G){Jt(c,c.return,G)}}o&&T&64&&fE(g),ju(g,g.return);break;case 27:gE(g);case 26:case 5:Es(d,g,o),o&&c===null&&T&4&&mE(g),ju(g,g.return);break;case 12:Es(d,g,o);break;case 31:Es(d,g,o),o&&T&4&&EE(d,g);break;case 13:Es(d,g,o),o&&T&4&&bE(d,g);break;case 22:g.memoizedState===null&&Es(d,g,o),ju(g,g.return);break;case 30:break;default:Es(d,g,o)}r=r.sibling}}function ag(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Ru(o))}function og(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ru(i))}function vi(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)wE(i,r,o,c),r=r.sibling}function wE(i,r,o,c){var d=r.flags;switch(r.tag){case 0:case 11:case 15:vi(i,r,o,c),d&2048&&zu(9,r);break;case 1:vi(i,r,o,c);break;case 3:vi(i,r,o,c),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ru(i)));break;case 12:if(d&2048){vi(i,r,o,c),i=r.stateNode;try{var g=r.memoizedProps,T=g.id,S=g.onPostCommit;typeof S=="function"&&S(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){Jt(r,r.return,D)}}else vi(i,r,o,c);break;case 31:vi(i,r,o,c);break;case 13:vi(i,r,o,c);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?vi(i,r,o,c):Fu(i,r):g._visibility&2?vi(i,r,o,c):(g._visibility|=2,qo(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),d&2048&&ag(T,r);break;case 24:vi(i,r,o,c),d&2048&&og(r.alternate,r);break;default:vi(i,r,o,c)}}function qo(i,r,o,c,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,T=r,S=o,D=c,G=T.flags;switch(T.tag){case 0:case 11:case 15:qo(g,T,S,D,d),zu(8,T);break;case 23:break;case 22:var et=T.stateNode;T.memoizedState!==null?et._visibility&2?qo(g,T,S,D,d):Fu(g,T):(et._visibility|=2,qo(g,T,S,D,d)),d&&G&2048&&ag(T.alternate,T);break;case 24:qo(g,T,S,D,d),d&&G&2048&&og(T.alternate,T);break;default:qo(g,T,S,D,d)}r=r.sibling}}function Fu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,d=c.flags;switch(c.tag){case 22:Fu(o,c),d&2048&&ag(c.alternate,c);break;case 24:Fu(o,c),d&2048&&og(c.alternate,c);break;default:Fu(o,c)}r=r.sibling}}var qu=8192;function Ho(i,r,o){if(i.subtreeFlags&qu)for(i=i.child;i!==null;)IE(i,r,o),i=i.sibling}function IE(i,r,o){switch(i.tag){case 26:Ho(i,r,o),i.flags&qu&&i.memoizedState!==null&&kV(o,_i,i.memoizedState,i.memoizedProps);break;case 5:Ho(i,r,o);break;case 3:case 4:var c=_i;_i=Ff(i.stateNode.containerInfo),Ho(i,r,o),_i=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=qu,qu=16777216,Ho(i,r,o),qu=c):Ho(i,r,o));break;default:Ho(i,r,o)}}function RE(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Hu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];We=c,CE(c,i)}RE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)xE(i),i=i.sibling}function xE(i){switch(i.tag){case 0:case 11:case 15:Hu(i),i.flags&2048&&ur(9,i,i.return);break;case 3:Hu(i);break;case 12:Hu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Cf(i)):Hu(i);break;default:Hu(i)}}function Cf(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];We=c,CE(c,i)}RE(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:ur(8,r,r.return),Cf(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Cf(r));break;default:Cf(r)}i=i.sibling}}function CE(i,r){for(;We!==null;){var o=We;switch(o.tag){case 0:case 11:case 15:ur(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ru(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,We=c;else t:for(o=i;We!==null;){c=We;var d=c.sibling,g=c.return;if(vE(c),c===o){We=null;break t}if(d!==null){d.return=g,We=d;break t}We=g}}}var WD={getCacheForType:function(i){var r=sn(Me),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return sn(Me).controller.signal}},ZD=typeof WeakMap=="function"?WeakMap:Map,$t=0,oe=null,Pt=null,Lt=0,Zt=0,kn=null,cr=!1,Go=!1,lg=!1,bs=0,Te=0,hr=0,Ma=0,ug=0,Ln=0,Ko=0,Gu=null,Rn=null,cg=!1,Df=0,DE=0,Vf=1/0,Mf=null,fr=null,qe=0,dr=null,Yo=null,Ss=0,hg=0,fg=null,VE=null,Ku=0,dg=null;function Un(){return($t&2)!==0&&Lt!==0?Lt&-Lt:tt.T!==null?vg():Mh()}function ME(){if(Ln===0)if((Lt&536870912)===0||jt){var i=ra;ra<<=1,(ra&3932160)===0&&(ra=262144),Ln=i}else Ln=536870912;return i=Pn.current,i!==null&&(i.flags|=32),Ln}function xn(i,r,o){(i===oe&&(Zt===2||Zt===9)||i.cancelPendingCommit!==null)&&(Qo(i,0),mr(i,Lt,Ln,!1)),aa(i,o),(($t&2)===0||i!==oe)&&(i===oe&&(($t&2)===0&&(Ma|=o),Te===4&&mr(i,Lt,Ln,!1)),Qi(i))}function NE(i,r,o){if(($t&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ui(i,r),d=c?eV(i,r):pg(i,r,!0),g=c;do{if(d===0){Go&&!c&&mr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!JD(o)){d=pg(i,r,!1),g=!1;continue}if(d===2){if(g=r,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var S=i;d=Gu;var D=S.current.memoizedState.isDehydrated;if(D&&(Qo(S,T).flags|=256),T=pg(S,T,!1),T!==2){if(lg&&!D){S.errorRecoveryDisabledLanes|=g,Ma|=g,d=4;break t}g=Rn,Rn=d,g!==null&&(Rn===null?Rn=g:Rn.push.apply(Rn,g))}d=T}if(g=!1,d!==2)continue}}if(d===1){Qo(i,0),mr(i,r,0,!0);break}t:{switch(c=i,g=d,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:mr(c,r,Ln,!cr);break t;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=Df+300-pn(),10<d)){if(mr(c,r,Ln,!cr),Di(c,0,!0)!==0)break t;Ss=r,c.timeoutHandle=cb(PE.bind(null,c,o,Rn,Mf,cg,r,Ln,Ma,Ko,cr,g,"Throttled",-0,0),d);break t}PE(c,o,Rn,Mf,cg,r,Ln,Ma,Ko,cr,g,null,-0,0)}}break}while(!0);Qi(i)}function PE(i,r,o,c,d,g,T,S,D,G,et,it,K,X){if(i.timeoutHandle=-1,it=r.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},IE(r,g,it);var gt=(g&62914560)===g?Df-pn():(g&4194048)===g?DE-pn():0;if(gt=LV(it,gt),gt!==null){Ss=g,i.cancelPendingCommit=gt(FE.bind(null,i,r,g,o,c,d,T,S,D,et,it,null,K,X)),mr(i,g,T,!G);return}}FE(i,r,g,o,c,d,T,S,D)}function JD(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],g=d.getSnapshot;d=d.value;try{if(!Mn(g(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function mr(i,r,o,c){r&=~ug,r&=~Ma,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var d=r;0<d;){var g=31-be(d),T=1<<g;c[g]=-1,d&=~T}o!==0&&oa(i,o,r)}function Nf(){return($t&6)===0?(Yu(0),!1):!0}function mg(){if(Pt!==null){if(Zt===0)var i=Pt.return;else i=Pt,fs=Sa=null,Dp(i),Uo=null,Cu=0,i=Pt;for(;i!==null;)hE(i.alternate,i),i=i.return;Pt=null}}function Qo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,vV(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Ss=0,mg(),oe=i,Pt=o=cs(i.current,null),Lt=r,Zt=0,kn=null,cr=!1,Go=ui(i,r),lg=!1,Ko=Ln=ug=Ma=hr=Te=0,Rn=Gu=null,cg=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var d=31-be(c),g=1<<d;r|=i[d],c&=~g}return bs=r,Jh(),o}function OE(i,r){Ct=null,tt.H=Lu,r===Lo||r===lf?(r=W0(),Zt=3):r===_p?(r=W0(),Zt=4):Zt=r===Kp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,kn=r,Pt===null&&(Te=1,bf(i,$n(r,i.current)))}function kE(){var i=Pn.current;return i===null?!0:(Lt&4194048)===Lt?Jn===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?i===Jn:!1}function LE(){var i=tt.H;return tt.H=Lu,i===null?Lu:i}function UE(){var i=tt.A;return tt.A=WD,i}function Pf(){Te=4,cr||(Lt&4194048)!==Lt&&Pn.current!==null||(Go=!0),(hr&134217727)===0&&(Ma&134217727)===0||oe===null||mr(oe,Lt,Ln,!1)}function pg(i,r,o){var c=$t;$t|=2;var d=LE(),g=UE();(oe!==i||Lt!==r)&&(Mf=null,Qo(i,r)),r=!1;var T=Te;t:do try{if(Zt!==0&&Pt!==null){var S=Pt,D=kn;switch(Zt){case 8:mg(),T=6;break t;case 3:case 2:case 9:case 6:Pn.current===null&&(r=!0);var G=Zt;if(Zt=0,kn=null,$o(i,S,D,G),o&&Go){T=0;break t}break;default:G=Zt,Zt=0,kn=null,$o(i,S,D,G)}}tV(),T=Te;break}catch(et){OE(i,et)}while(!0);return r&&i.shellSuspendCounter++,fs=Sa=null,$t=c,tt.H=d,tt.A=g,Pt===null&&(oe=null,Lt=0,Jh()),T}function tV(){for(;Pt!==null;)BE(Pt)}function eV(i,r){var o=$t;$t|=2;var c=LE(),d=UE();oe!==i||Lt!==r?(Mf=null,Vf=pn()+500,Qo(i,r)):Go=ui(i,r);t:do try{if(Zt!==0&&Pt!==null){r=Pt;var g=kn;e:switch(Zt){case 1:Zt=0,kn=null,$o(i,r,g,1);break;case 2:case 9:if($0(g)){Zt=0,kn=null,zE(r);break}r=function(){Zt!==2&&Zt!==9||oe!==i||(Zt=7),Qi(i)},g.then(r,r);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:$0(g)?(Zt=0,kn=null,zE(r)):(Zt=0,kn=null,$o(i,r,g,7));break;case 5:var T=null;switch(Pt.tag){case 26:T=Pt.memoizedState;case 5:case 27:var S=Pt;if(T?wb(T):S.stateNode.complete){Zt=0,kn=null;var D=S.sibling;if(D!==null)Pt=D;else{var G=S.return;G!==null?(Pt=G,Of(G)):Pt=null}break e}}Zt=0,kn=null,$o(i,r,g,5);break;case 6:Zt=0,kn=null,$o(i,r,g,6);break;case 8:mg(),Te=6;break t;default:throw Error(s(462))}}nV();break}catch(et){OE(i,et)}while(!0);return fs=Sa=null,tt.H=c,tt.A=d,$t=o,Pt!==null?0:(oe=null,Lt=0,Jh(),Te)}function nV(){for(;Pt!==null&&!Gm();)BE(Pt)}function BE(i){var r=uE(i.alternate,i,bs);i.memoizedProps=i.pendingProps,r===null?Of(i):Pt=r}function zE(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=iE(o,r,r.pendingProps,r.type,void 0,Lt);break;case 11:r=iE(o,r,r.pendingProps,r.type.render,r.ref,Lt);break;case 5:Dp(r);default:hE(o,r),r=Pt=U0(r,bs),r=uE(o,r,bs)}i.memoizedProps=i.pendingProps,r===null?Of(i):Pt=r}function $o(i,r,o,c){fs=Sa=null,Dp(r),Uo=null,Cu=0;var d=r.return;try{if(HD(i,d,r,o,Lt)){Te=1,bf(i,$n(o,i.current)),Pt=null;return}}catch(g){if(d!==null)throw Pt=d,g;Te=1,bf(i,$n(o,i.current)),Pt=null;return}r.flags&32768?(jt||c===1?i=!0:Go||(Lt&536870912)!==0?i=!1:(cr=i=!0,(c===2||c===9||c===3||c===6)&&(c=Pn.current,c!==null&&c.tag===13&&(c.flags|=16384))),jE(r,i)):Of(r)}function Of(i){var r=i;do{if((r.flags&32768)!==0){jE(r,cr);return}i=r.return;var o=YD(r.alternate,r,bs);if(o!==null){Pt=o;return}if(r=r.sibling,r!==null){Pt=r;return}Pt=r=i}while(r!==null);Te===0&&(Te=5)}function jE(i,r){do{var o=QD(i.alternate,i);if(o!==null){o.flags&=32767,Pt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Pt=i;return}Pt=i=o}while(i!==null);Te=6,Pt=null}function FE(i,r,o,c,d,g,T,S,D){i.cancelPendingCommit=null;do kf();while(qe!==0);if(($t&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=ip,Qm(i,o,g,T,S,D),i===oe&&(Pt=oe=null,Lt=0),Yo=r,dr=i,Ss=o,hg=g,fg=d,VE=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,aV(Hs,function(){return YE(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=tt.T,tt.T=null,d=ot.p,ot.p=2,T=$t,$t|=4;try{$D(i,r,o)}finally{$t=T,ot.p=d,tt.T=c}}qe=1,qE(),HE(),GE()}}function qE(){if(qe===1){qe=0;var i=dr,r=Yo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=tt.T,tt.T=null;var c=ot.p;ot.p=2;var d=$t;$t|=4;try{SE(r,i);var g=Rg,T=C0(i.containerInfo),S=g.focusedElem,D=g.selectionRange;if(T!==S&&S&&S.ownerDocument&&x0(S.ownerDocument.documentElement,S)){if(D!==null&&Zm(S)){var G=D.start,et=D.end;if(et===void 0&&(et=G),"selectionStart"in S)S.selectionStart=G,S.selectionEnd=Math.min(et,S.value.length);else{var it=S.ownerDocument||document,K=it&&it.defaultView||window;if(K.getSelection){var X=K.getSelection(),gt=S.textContent.length,bt=Math.min(D.start,gt),ae=D.end===void 0?bt:Math.min(D.end,gt);!X.extend&&bt>ae&&(T=ae,ae=bt,bt=T);var B=R0(S,bt),P=R0(S,ae);if(B&&P&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==P.node||X.focusOffset!==P.offset)){var H=it.createRange();H.setStart(B.node,B.offset),X.removeAllRanges(),bt>ae?(X.addRange(H),X.extend(P.node,P.offset)):(H.setEnd(P.node,P.offset),X.addRange(H))}}}}for(it=[],X=S;X=X.parentNode;)X.nodeType===1&&it.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<it.length;S++){var nt=it[S];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}Qf=!!Ig,Rg=Ig=null}finally{$t=d,ot.p=c,tt.T=o}}i.current=r,qe=2}}function HE(){if(qe===2){qe=0;var i=dr,r=Yo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=tt.T,tt.T=null;var c=ot.p;ot.p=2;var d=$t;$t|=4;try{_E(i,r.alternate,r)}finally{$t=d,ot.p=c,tt.T=o}}qe=3}}function GE(){if(qe===4||qe===3){qe=0,wh();var i=dr,r=Yo,o=Ss,c=VE;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?qe=5:(qe=0,Yo=dr=null,KE(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(fr=null),as(o),r=r.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(li,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=tt.T,d=ot.p,ot.p=2,tt.T=null;try{for(var g=i.onRecoverableError,T=0;T<c.length;T++){var S=c[T];g(S.value,{componentStack:S.stack})}}finally{tt.T=r,ot.p=d}}(Ss&3)!==0&&kf(),Qi(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===dg?Ku++:(Ku=0,dg=i):Ku=0,Yu(0)}}function KE(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Ru(r)))}function kf(){return qE(),HE(),GE(),YE()}function YE(){if(qe!==5)return!1;var i=dr,r=hg;hg=0;var o=as(Ss),c=tt.T,d=ot.p;try{ot.p=32>o?32:o,tt.T=null,o=fg,fg=null;var g=dr,T=Ss;if(qe=0,Yo=dr=null,Ss=0,($t&6)!==0)throw Error(s(331));var S=$t;if($t|=4,xE(g.current),wE(g,g.current,T,o),$t=S,Yu(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(li,g)}catch{}return!0}finally{ot.p=d,tt.T=c,KE(i,r)}}function QE(i,r,o){r=$n(o,r),r=Gp(i.stateNode,r,2),i=ar(i,r,2),i!==null&&(aa(i,2),Qi(i))}function Jt(i,r,o){if(i.tag===3)QE(i,i,o);else for(;r!==null;){if(r.tag===3){QE(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(fr===null||!fr.has(c))){i=$n(o,i),o=$T(2),c=ar(r,o,2),c!==null&&(XT(o,c,r,i),aa(c,2),Qi(c));break}}r=r.return}}function gg(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new ZD;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(o)||(lg=!0,d.add(o),i=iV.bind(null,i,r,o),r.then(i,i))}function iV(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,oe===i&&(Lt&o)===o&&(Te===4||Te===3&&(Lt&62914560)===Lt&&300>pn()-Df?($t&2)===0&&Qo(i,0):ug|=o,Ko===Lt&&(Ko=0)),Qi(i)}function $E(i,r){r===0&&(r=Vh()),i=Ta(i,r),i!==null&&(aa(i,r),Qi(i))}function sV(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),$E(i,o)}function rV(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),$E(i,o)}function aV(i,r){return Fe(i,r)}var Lf=null,Xo=null,yg=!1,Uf=!1,_g=!1,pr=0;function Qi(i){i!==Xo&&i.next===null&&(Xo===null?Lf=Xo=i:Xo=Xo.next=i),Uf=!0,yg||(yg=!0,lV())}function Yu(i,r){if(!_g&&Uf){_g=!0;do for(var o=!1,c=Lf;c!==null;){if(i!==0){var d=c.pendingLanes;if(d===0)var g=0;else{var T=c.suspendedLanes,S=c.pingedLanes;g=(1<<31-be(42|i)+1)-1,g&=d&~(T&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,JE(c,g))}else g=Lt,g=Di(c,c===oe?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||ui(c,g)||(o=!0,JE(c,g));c=c.next}while(o);_g=!1}}function oV(){XE()}function XE(){Uf=yg=!1;var i=0;pr!==0&&_V()&&(i=pr);for(var r=pn(),o=null,c=Lf;c!==null;){var d=c.next,g=WE(c,r);g===0?(c.next=null,o===null?Lf=d:o.next=d,d===null&&(Xo=o)):(o=c,(i!==0||(g&3)!==0)&&(Uf=!0)),c=d}qe!==0&&qe!==5||Yu(i),pr!==0&&(pr=0)}function WE(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-be(g),S=1<<T,D=d[T];D===-1?((S&o)===0||(S&c)!==0)&&(d[T]=Ym(S,r)):D<=r&&(i.expiredLanes|=S),g&=~S}if(r=oe,o=Lt,o=Di(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(Zt===2||Zt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&qs(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ui(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&qs(c),as(o)){case 2:case 8:o=iu;break;case 32:o=Hs;break;case 268435456:o=Ih;break;default:o=Hs}return c=ZE.bind(null,i),o=Fe(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&qs(c),i.callbackPriority=2,i.callbackNode=null,2}function ZE(i,r){if(qe!==0&&qe!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(kf()&&i.callbackNode!==o)return null;var c=Lt;return c=Di(i,i===oe?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(NE(i,c,r),WE(i,pn()),i.callbackNode!=null&&i.callbackNode===o?ZE.bind(null,i):null)}function JE(i,r){if(kf())return null;NE(i,r,!0)}function lV(){TV(function(){($t&6)!==0?Fe(nu,oV):XE()})}function vg(){if(pr===0){var i=Oo;i===0&&(i=xi,xi<<=1,(xi&261888)===0&&(xi=256)),pr=i}return pr}function tb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:To(""+i)}function eb(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function uV(i,r,o,c,d){if(r==="submit"&&o&&o.stateNode===d){var g=tb((d[$e]||null).action),T=c.submitter;T&&(r=(r=T[$e]||null)?tb(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var S=new ji("action","action",null,c,d);i.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(pr!==0){var D=T?eb(d,T):new FormData(d);Bp(o,{pending:!0,data:D,method:d.method,action:g},null,D)}}else typeof g=="function"&&(S.preventDefault(),D=T?eb(d,T):new FormData(d),Bp(o,{pending:!0,data:D,method:d.method,action:g},g,D))},currentTarget:d}]})}}for(var Tg=0;Tg<np.length;Tg++){var Eg=np[Tg],cV=Eg.toLowerCase(),hV=Eg[0].toUpperCase()+Eg.slice(1);yi(cV,"on"+hV)}yi(M0,"onAnimationEnd"),yi(N0,"onAnimationIteration"),yi(P0,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(RD,"onTransitionRun"),yi(xD,"onTransitionStart"),yi(CD,"onTransitionCancel"),yi(O0,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function nb(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],d=c.event;c=c.listeners;t:{var g=void 0;if(r)for(var T=c.length-1;0<=T;T--){var S=c[T],D=S.instance,G=S.currentTarget;if(S=S.listener,D!==g&&d.isPropagationStopped())break t;g=S,d.currentTarget=G;try{g(d)}catch(et){Zh(et)}d.currentTarget=null,g=D}else for(T=0;T<c.length;T++){if(S=c[T],D=S.instance,G=S.currentTarget,S=S.listener,D!==g&&d.isPropagationStopped())break t;g=S,d.currentTarget=G;try{g(d)}catch(et){Zh(et)}d.currentTarget=null,g=D}}}}function Ot(i,r){var o=r[po];o===void 0&&(o=r[po]=new Set);var c=i+"__bubble";o.has(c)||(ib(r,i,2,!1),o.add(c))}function bg(i,r,o){var c=0;r&&(c|=4),ib(o,i,c,r)}var Bf="_reactListening"+Math.random().toString(36).slice(2);function Sg(i){if(!i[Bf]){i[Bf]=!0,au.forEach(function(o){o!=="selectionchange"&&(fV.has(o)||bg(o,!1,i),bg(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Bf]||(r[Bf]=!0,bg("selectionchange",!1,r))}}function ib(i,r,o,c){switch(Mb(r)){case 2:var d=zV;break;case 8:d=jV;break;default:d=Ug}o=d.bind(null,r,o,i),d=void 0,!fa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function Ag(i,r,o,c,d){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)t:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var S=c.stateNode.containerInfo;if(S===d)break;if(T===4)for(T=c.return;T!==null;){var D=T.tag;if((D===3||D===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;S!==null;){if(T=Pi(S),T===null)return;if(D=T.tag,D===5||D===6||D===26||D===27){c=g=T;continue t}S=S.parentNode}}c=c.return}Xs(function(){var G=g,et=Gn(o),it=[];t:{var K=k0.get(i);if(K!==void 0){var X=ji,gt=i;switch(i){case"keypress":if(ma(o)===0)break t;case"keydown":case"keyup":X=$h;break;case"focusin":gt="focus",X=ga;break;case"focusout":gt="blur",X=ga;break;case"beforeblur":case"afterblur":X=ga;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=vu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=zh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=_;break;case M0:case N0:case P0:X=Fh;break;case O0:X=w;break;case"scroll":case"scrollend":X=_u;break;case"wheel":X=$;break;case"copy":case"cut":case"paste":X=qh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=us;break;case"toggle":case"beforetoggle":X=xt}var bt=(r&4)!==0,ae=!bt&&(i==="scroll"||i==="scrollend"),B=bt?K!==null?K+"Capture":null:K;bt=[];for(var P=G,H;P!==null;){var nt=P;if(H=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||H===null||B===null||(nt=di(P,B),nt!=null&&bt.push($u(P,nt,H))),ae)break;P=P.return}0<bt.length&&(K=new X(K,gt,null,o,et),it.push({event:K,listeners:bt}))}}if((r&7)===0){t:{if(K=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",K&&o!==pu&&(gt=o.relatedTarget||o.fromElement)&&(Pi(gt)||gt[Mi]))break t;if((X||K)&&(K=et.window===et?et:(K=et.ownerDocument)?K.defaultView||K.parentWindow:window,X?(gt=o.relatedTarget||o.toElement,X=G,gt=gt?Pi(gt):null,gt!==null&&(ae=l(gt),bt=gt.tag,gt!==ae||bt!==5&&bt!==27&&bt!==6)&&(gt=null)):(X=null,gt=G),X!==gt)){if(bt=vu,nt="onMouseLeave",B="onMouseEnter",P="mouse",(i==="pointerout"||i==="pointerover")&&(bt=us,nt="onPointerLeave",B="onPointerEnter",P="pointer"),ae=X==null?K:Dn(X),H=gt==null?K:Dn(gt),K=new bt(nt,P+"leave",X,o,et),K.target=ae,K.relatedTarget=H,nt=null,Pi(et)===G&&(bt=new bt(B,P+"enter",gt,o,et),bt.target=H,bt.relatedTarget=ae,nt=bt),ae=nt,X&&gt)e:{for(bt=dV,B=X,P=gt,H=0,nt=B;nt;nt=bt(nt))H++;nt=0;for(var Et=P;Et;Et=bt(Et))nt++;for(;0<H-nt;)B=bt(B),H--;for(;0<nt-H;)P=bt(P),nt--;for(;H--;){if(B===P||P!==null&&B===P.alternate){bt=B;break e}B=bt(B),P=bt(P)}bt=null}else bt=null;X!==null&&sb(it,K,X,bt,!1),gt!==null&&ae!==null&&sb(it,ae,gt,bt,!0)}}t:{if(K=G?Dn(G):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var Kt=E0;else if(v0(K))if(b0)Kt=AD;else{Kt=bD;var vt=ED}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&vo(G.elementType)&&(Kt=E0):Kt=SD;if(Kt&&(Kt=Kt(i,G))){T0(it,Kt,o,et);break t}vt&&vt(i,K,G),i==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&fu(K,"number",K.value)}switch(vt=G?Dn(G):window,i){case"focusin":(v0(vt)||vt.contentEditable==="true")&&(Ro=vt,Jm=G,Au=null);break;case"focusout":Au=Jm=Ro=null;break;case"mousedown":tp=!0;break;case"contextmenu":case"mouseup":case"dragend":tp=!1,D0(it,o,et);break;case"selectionchange":if(ID)break;case"keydown":case"keyup":D0(it,o,et)}var Mt;if(Qt)t:{switch(i){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else Io?ya(i,o)&&(Ut="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ut="onCompositionStart");Ut&&(Hi&&o.locale!=="ko"&&(Io||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&Io&&(Mt=yu()):(zi=et,gu="value"in zi?zi.value:zi.textContent,Io=!0)),vt=zf(G,Ut),0<vt.length&&(Ut=new qi(Ut,i,null,o,et),it.push({event:Ut,listeners:vt}),Mt?Ut.data=Mt:(Mt=wo(o),Mt!==null&&(Ut.data=Mt)))),(Mt=Yn?yD(i,o):_D(i,o))&&(Ut=zf(G,"onBeforeInput"),0<Ut.length&&(vt=new qi("onBeforeInput","beforeinput",null,o,et),it.push({event:vt,listeners:Ut}),vt.data=Mt)),uV(it,i,G,o,et)}nb(it,r)})}function $u(i,r,o){return{instance:i,listener:r,currentTarget:o}}function zf(i,r){for(var o=r+"Capture",c=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=di(i,o),d!=null&&c.unshift($u(i,d,g)),d=di(i,r),d!=null&&c.push($u(i,d,g))),i.tag===3)return c;i=i.return}return[]}function dV(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function sb(i,r,o,c,d){for(var g=r._reactName,T=[];o!==null&&o!==c;){var S=o,D=S.alternate,G=S.stateNode;if(S=S.tag,D!==null&&D===c)break;S!==5&&S!==26&&S!==27||G===null||(D=G,d?(G=di(o,g),G!=null&&T.unshift($u(o,G,D))):d||(G=di(o,g),G!=null&&T.push($u(o,G,D)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var mV=/\r\n?/g,pV=/\u0000|\uFFFD/g;function rb(i){return(typeof i=="string"?i:""+i).replace(mV,`
`).replace(pV,"")}function ab(i,r){return r=rb(r),rb(i)===r}function re(i,r,o,c,d,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Sn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Sn(i,""+c);break;case"className":Vn(i,"class",c);break;case"tabIndex":Vn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(i,o,c);break;case"style":mu(i,c,g);break;case"data":if(r!=="object"){Vn(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=To(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&re(i,r,"name",d.name,d,null),re(i,r,"formEncType",d.formEncType,d,null),re(i,r,"formMethod",d.formMethod,d,null),re(i,r,"formTarget",d.formTarget,d,null)):(re(i,r,"encType",d.encType,d,null),re(i,r,"method",d.method,d,null),re(i,r,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=To(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=fi);break;case"onScroll":c!=null&&Ot("scroll",i);break;case"onScrollEnd":c!=null&&Ot("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=To(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Ot("beforetoggle",i),Ot("toggle",i),yo(i,"popover",c);break;case"xlinkActuate":Ve(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ve(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ve(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ve(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ve(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ve(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ve(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ve(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ve(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":yo(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Bh.get(o)||o,yo(i,o,c))}}function wg(i,r,o,c,d,g){switch(o){case"style":mu(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Sn(i,c):(typeof c=="number"||typeof c=="bigint")&&Sn(i,""+c);break;case"onScroll":c!=null&&Ot("scroll",i);break;case"onScrollEnd":c!=null&&Ot("scrollend",i);break;case"onClick":c!=null&&(i.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ou.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),g=i[$e]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,d),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,d);break t}o in i?i[o]=c:c===!0?i.setAttribute(o,""):yo(i,o,c)}}}function an(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",i),Ot("load",i);var c=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:re(i,r,g,T,o,null)}}d&&re(i,r,"srcSet",o.srcSet,o,null),c&&re(i,r,"src",o.src,o,null);return;case"input":Ot("invalid",i);var S=g=T=d=null,D=null,G=null;for(c in o)if(o.hasOwnProperty(c)){var et=o[c];if(et!=null)switch(c){case"name":d=et;break;case"type":T=et;break;case"checked":D=et;break;case"defaultChecked":G=et;break;case"value":g=et;break;case"defaultValue":S=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(s(137,r));break;default:re(i,r,c,et,o,null)}}kh(i,g,S,D,G,T,d,!1);return;case"select":Ot("invalid",i),c=T=g=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":g=S;break;case"defaultValue":T=S;break;case"multiple":c=S;default:re(i,r,d,S,o,null)}r=g,o=T,i.multiple=!!c,r!=null?Ks(i,!!c,r,!1):o!=null&&Ks(i,!!c,o,!0);return;case"textarea":Ot("invalid",i),g=d=c=null;for(T in o)if(o.hasOwnProperty(T)&&(S=o[T],S!=null))switch(T){case"value":c=S;break;case"defaultValue":d=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:re(i,r,T,S,o,null)}Ys(i,c,d,g);return;case"option":for(D in o)o.hasOwnProperty(D)&&(c=o[D],c!=null)&&(D==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":re(i,r,D,c,o,null));return;case"dialog":Ot("beforetoggle",i),Ot("toggle",i),Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":Ot("load",i);break;case"video":case"audio":for(c=0;c<Qu.length;c++)Ot(Qu[c],i);break;case"image":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"embed":case"source":case"link":Ot("error",i),Ot("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(c=o[G],c!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:re(i,r,G,c,o,null)}return;default:if(vo(r)){for(et in o)o.hasOwnProperty(et)&&(c=o[et],c!==void 0&&wg(i,r,et,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&re(i,r,S,c,o,null))}function gV(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,T=null,S=null,D=null,G=null,et=null;for(X in o){var it=o[X];if(o.hasOwnProperty(X)&&it!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=it;default:c.hasOwnProperty(X)||re(i,r,X,null,c,it)}}for(var K in c){var X=c[K];if(it=o[K],c.hasOwnProperty(K)&&(X!=null||it!=null))switch(K){case"type":g=X;break;case"name":d=X;break;case"checked":G=X;break;case"defaultChecked":et=X;break;case"value":T=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==it&&re(i,r,K,X,c,it)}}_o(i,T,S,D,G,et,g,d);return;case"select":X=T=S=K=null;for(g in o)if(D=o[g],o.hasOwnProperty(g)&&D!=null)switch(g){case"value":break;case"multiple":X=D;default:c.hasOwnProperty(g)||re(i,r,g,null,c,D)}for(d in c)if(g=c[d],D=o[d],c.hasOwnProperty(d)&&(g!=null||D!=null))switch(d){case"value":K=g;break;case"defaultValue":S=g;break;case"multiple":T=g;default:g!==D&&re(i,r,d,g,c,D)}r=S,o=T,c=X,K!=null?Ks(i,!!o,K,!1):!!c!=!!o&&(r!=null?Ks(i,!!o,r,!0):Ks(i,!!o,o?[]:"",!1));return;case"textarea":X=K=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:re(i,r,S,null,c,d)}for(T in c)if(d=c[T],g=o[T],c.hasOwnProperty(T)&&(d!=null||g!=null))switch(T){case"value":K=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&re(i,r,T,d,c,g)}Lh(i,K,X);return;case"option":for(var gt in o)K=o[gt],o.hasOwnProperty(gt)&&K!=null&&!c.hasOwnProperty(gt)&&(gt==="selected"?i.selected=!1:re(i,r,gt,null,c,K));for(D in c)K=c[D],X=o[D],c.hasOwnProperty(D)&&K!==X&&(K!=null||X!=null)&&(D==="selected"?i.selected=K&&typeof K!="function"&&typeof K!="symbol":re(i,r,D,K,c,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in o)K=o[bt],o.hasOwnProperty(bt)&&K!=null&&!c.hasOwnProperty(bt)&&re(i,r,bt,null,c,K);for(G in c)if(K=c[G],X=o[G],c.hasOwnProperty(G)&&K!==X&&(K!=null||X!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:re(i,r,G,K,c,X)}return;default:if(vo(r)){for(var ae in o)K=o[ae],o.hasOwnProperty(ae)&&K!==void 0&&!c.hasOwnProperty(ae)&&wg(i,r,ae,void 0,c,K);for(et in c)K=c[et],X=o[et],!c.hasOwnProperty(et)||K===X||K===void 0&&X===void 0||wg(i,r,et,K,c,X);return}}for(var B in o)K=o[B],o.hasOwnProperty(B)&&K!=null&&!c.hasOwnProperty(B)&&re(i,r,B,null,c,K);for(it in c)K=c[it],X=o[it],!c.hasOwnProperty(it)||K===X||K==null&&X==null||re(i,r,it,K,c,X)}function ob(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yV(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var d=o[c],g=d.transferSize,T=d.initiatorType,S=d.duration;if(g&&S&&ob(T)){for(T=0,S=d.responseEnd,c+=1;c<o.length;c++){var D=o[c],G=D.startTime;if(G>S)break;var et=D.transferSize,it=D.initiatorType;et&&ob(it)&&(D=D.responseEnd,T+=et*(D<S?1:(S-G)/(D-G)))}if(--c,r+=8*(g+T)/(d.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Ig=null,Rg=null;function jf(i){return i.nodeType===9?i:i.ownerDocument}function lb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ub(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function xg(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Cg=null;function _V(){var i=window.event;return i&&i.type==="popstate"?i===Cg?!1:(Cg=i,!0):(Cg=null,!1)}var cb=typeof setTimeout=="function"?setTimeout:void 0,vV=typeof clearTimeout=="function"?clearTimeout:void 0,hb=typeof Promise=="function"?Promise:void 0,TV=typeof queueMicrotask=="function"?queueMicrotask:typeof hb<"u"?function(i){return hb.resolve(null).then(i).catch(EV)}:cb;function EV(i){setTimeout(function(){throw i})}function gr(i){return i==="head"}function fb(i,r){var o=r,c=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(d),tl(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Xu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Xu(o);for(var g=o.firstChild;g;){var T=g.nextSibling,S=g.nodeName;g[Ni]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&Xu(i.ownerDocument.body);o=d}while(o);tl(r)}function db(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function Dg(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Dg(o),go(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function bV(i,r,o,c){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Ni])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=ti(i.nextSibling),i===null)break}return null}function SV(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ti(i.nextSibling),i===null))return null;return i}function mb(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=ti(i.nextSibling),i===null))return null;return i}function Vg(i){return i.data==="$?"||i.data==="$~"}function Mg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function AV(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function ti(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Ng=null;function pb(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return ti(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function gb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function yb(i,r,o){switch(r=jf(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Xu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);go(i)}var ei=new Map,_b=new Set;function Ff(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var As=ot.d;ot.d={f:wV,r:IV,D:RV,C:xV,L:CV,m:DV,X:MV,S:VV,M:NV};function wV(){var i=As.f(),r=Nf();return i||r}function IV(i){var r=Hn(i);r!==null&&r.tag===5&&r.type==="form"?OT(r):As.r(i)}var Wo=typeof document>"u"?null:document;function vb(i,r,o){var c=Wo;if(c&&typeof r=="string"&&r){var d=bn(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),_b.has(d)||(_b.add(d),i={rel:i,crossOrigin:o,href:r},c.querySelector(d)===null&&(r=c.createElement("link"),an(r,"link",i),De(r),c.head.appendChild(r)))}}function RV(i){As.D(i),vb("dns-prefetch",i,null)}function xV(i,r){As.C(i,r),vb("preconnect",i,r)}function CV(i,r,o){As.L(i,r,o);var c=Wo;if(c&&i&&r){var d='link[rel="preload"][as="'+bn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+bn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+bn(o.imageSizes)+'"]')):d+='[href="'+bn(i)+'"]';var g=d;switch(r){case"style":g=Zo(i);break;case"script":g=Jo(i)}ei.has(g)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ei.set(g,i),c.querySelector(d)!==null||r==="style"&&c.querySelector(Wu(g))||r==="script"&&c.querySelector(Zu(g))||(r=c.createElement("link"),an(r,"link",i),De(r),c.head.appendChild(r)))}}function DV(i,r){As.m(i,r);var o=Wo;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+bn(c)+'"][href="'+bn(i)+'"]',g=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Jo(i)}if(!ei.has(g)&&(i=v({rel:"modulepreload",href:i},r),ei.set(g,i),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Zu(g)))return}c=o.createElement("link"),an(c,"link",i),De(c),o.head.appendChild(c)}}}function VV(i,r,o){As.S(i,r,o);var c=Wo;if(c&&i){var d=Oi(c).hoistableStyles,g=Zo(i);r=r||"default";var T=d.get(g);if(!T){var S={loading:0,preload:null};if(T=c.querySelector(Wu(g)))S.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ei.get(g))&&Pg(i,o);var D=T=c.createElement("link");De(D),an(D,"link",i),D._p=new Promise(function(G,et){D.onload=G,D.onerror=et}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,qf(T,r,c)}T={type:"stylesheet",instance:T,count:1,state:S},d.set(g,T)}}}function MV(i,r){As.X(i,r);var o=Wo;if(o&&i){var c=Oi(o).hoistableScripts,d=Jo(i),g=c.get(d);g||(g=o.querySelector(Zu(d)),g||(i=v({src:i,async:!0},r),(r=ei.get(d))&&Og(i,r),g=o.createElement("script"),De(g),an(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function NV(i,r){As.M(i,r);var o=Wo;if(o&&i){var c=Oi(o).hoistableScripts,d=Jo(i),g=c.get(d);g||(g=o.querySelector(Zu(d)),g||(i=v({src:i,async:!0,type:"module"},r),(r=ei.get(d))&&Og(i,r),g=o.createElement("script"),De(g),an(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function Tb(i,r,o,c){var d=(d=Vt.current)?Ff(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Zo(o.href),o=Oi(d).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Zo(o.href);var g=Oi(d).hoistableStyles,T=g.get(i);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=d.querySelector(Wu(i)))&&!g._p&&(T.instance=g,T.state.loading=5),ei.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ei.set(i,o),g||PV(d,i,o,T.state))),r&&c===null)throw Error(s(528,""));return T}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Jo(o),o=Oi(d).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Zo(i){return'href="'+bn(i)+'"'}function Wu(i){return'link[rel="stylesheet"]['+i+"]"}function Eb(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function PV(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),an(r,"link",o),De(r),i.head.appendChild(r))}function Jo(i){return'[src="'+bn(i)+'"]'}function Zu(i){return"script[async]"+i}function bb(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+bn(o.href)+'"]');if(c)return r.instance=c,De(c),c;var d=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),De(c),an(c,"style",d),qf(c,o.precedence,i),r.instance=c;case"stylesheet":d=Zo(o.href);var g=i.querySelector(Wu(d));if(g)return r.state.loading|=4,r.instance=g,De(g),g;c=Eb(o),(d=ei.get(d))&&Pg(c,d),g=(i.ownerDocument||i).createElement("link"),De(g);var T=g;return T._p=new Promise(function(S,D){T.onload=S,T.onerror=D}),an(g,"link",c),r.state.loading|=4,qf(g,o.precedence,i),r.instance=g;case"script":return g=Jo(o.src),(d=i.querySelector(Zu(g)))?(r.instance=d,De(d),d):(c=o,(d=ei.get(g))&&(c=v({},o),Og(c,d)),i=i.ownerDocument||i,d=i.createElement("script"),De(d),an(d,"link",c),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,qf(c,o.precedence,i));return r.instance}function qf(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,g=d,T=0;T<c.length;T++){var S=c[T];if(S.dataset.precedence===r)g=S;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Pg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Og(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Hf=null;function Sb(i,r,o){if(Hf===null){var c=new Map,d=Hf=new Map;d.set(o,c)}else d=Hf,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Ni]||g[Ce]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=i+T;var S=c.get(T);S?S.push(g):c.set(T,[g])}}return c}function Ab(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function OV(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function wb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function kV(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Zo(c.href),g=r.querySelector(Wu(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Gf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,De(g);return}g=r.ownerDocument||r,c=Eb(c),(d=ei.get(d))&&Pg(c,d),g=g.createElement("link"),De(g);var T=g;T._p=new Promise(function(S,D){T.onload=S,T.onerror=D}),an(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Gf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var kg=0;function LV(i,r){return i.stylesheets&&i.count===0&&Yf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&Yf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&kg===0&&(kg=62500*yV());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Yf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>kg?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function Gf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Kf=null;function Yf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Kf=new Map,r.forEach(UV,i),Kf=null,Gf.call(i))}function UV(i,r){if(!(r.state.loading&4)){var o=Kf.get(i);if(o)var c=o.get(null);else{o=new Map,Kf.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var T=d[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}d=r.instance,T=d.getAttribute("data-precedence"),g=o.get(T)||c,g===c&&o.set(null,d),o.set(T,d),this.count++,c=Gf.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var Ju={$$typeof:z,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function BV(i,r,o,c,d,g,T,S,D){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.hiddenUpdates=Vi(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Ib(i,r,o,c,d,g,T,S,D,G,et,it){return i=new BV(i,r,o,T,D,G,et,it,S),r=1,g===!0&&(r|=24),g=Nn(3,null,null,r),i.current=g,g.stateNode=i,r=pp(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},vp(g),i}function Rb(i){return i?(i=Do,i):Do}function xb(i,r,o,c,d,g){d=Rb(d),c.context===null?c.context=d:c.pendingContext=d,c=rr(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=ar(i,c,r),o!==null&&(xn(o,i,r),Vu(o,i,r))}function Cb(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Lg(i,r){Cb(i,r),(i=i.alternate)&&Cb(i,r)}function Db(i){if(i.tag===13||i.tag===31){var r=Ta(i,67108864);r!==null&&xn(r,i,67108864),Lg(i,67108864)}}function Vb(i){if(i.tag===13||i.tag===31){var r=Un();r=la(r);var o=Ta(i,r);o!==null&&xn(o,i,r),Lg(i,r)}}var Qf=!0;function zV(i,r,o,c){var d=tt.T;tt.T=null;var g=ot.p;try{ot.p=2,Ug(i,r,o,c)}finally{ot.p=g,tt.T=d}}function jV(i,r,o,c){var d=tt.T;tt.T=null;var g=ot.p;try{ot.p=8,Ug(i,r,o,c)}finally{ot.p=g,tt.T=d}}function Ug(i,r,o,c){if(Qf){var d=Bg(c);if(d===null)Ag(i,r,c,$f,o),Nb(i,c);else if(qV(d,i,r,o,c))c.stopPropagation();else if(Nb(i,c),r&4&&-1<FV.indexOf(i)){for(;d!==null;){var g=Hn(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Ci(g.pendingLanes);if(T!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var D=1<<31-be(T);S.entanglements[1]|=D,T&=~D}Qi(g),($t&6)===0&&(Vf=pn()+500,Yu(0))}}break;case 31:case 13:S=Ta(g,2),S!==null&&xn(S,g,2),Nf(),Lg(g,2)}if(g=Bg(c),g===null&&Ag(i,r,c,$f,o),g===d)break;d=g}d!==null&&c.stopPropagation()}else Ag(i,r,c,null,o)}}function Bg(i){return i=Gn(i),zg(i)}var $f=null;function zg(i){if($f=null,i=Pi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=h(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return $f=i,null}function Mb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sa()){case nu:return 2;case iu:return 8;case Hs:case Km:return 32;case Ih:return 268435456;default:return 32}default:return 32}}var jg=!1,yr=null,_r=null,vr=null,tc=new Map,ec=new Map,Tr=[],FV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nb(i,r){switch(i){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":tc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(r.pointerId)}}function nc(i,r,o,c,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},r!==null&&(r=Hn(r),r!==null&&Db(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function qV(i,r,o,c,d){switch(r){case"focusin":return yr=nc(yr,i,r,o,c,d),!0;case"dragenter":return _r=nc(_r,i,r,o,c,d),!0;case"mouseover":return vr=nc(vr,i,r,o,c,d),!0;case"pointerover":var g=d.pointerId;return tc.set(g,nc(tc.get(g)||null,i,r,o,c,d)),!0;case"gotpointercapture":return g=d.pointerId,ec.set(g,nc(ec.get(g)||null,i,r,o,c,d)),!0}return!1}function Pb(i){var r=Pi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,ci(i.priority,function(){Vb(o)});return}}else if(r===31){if(r=h(o),r!==null){i.blockedOn=r,ci(i.priority,function(){Vb(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Bg(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);pu=c,o.target.dispatchEvent(c),pu=null}else return r=Hn(o),r!==null&&Db(r),i.blockedOn=o,!1;r.shift()}return!0}function Ob(i,r,o){Xf(i)&&o.delete(r)}function HV(){jg=!1,yr!==null&&Xf(yr)&&(yr=null),_r!==null&&Xf(_r)&&(_r=null),vr!==null&&Xf(vr)&&(vr=null),tc.forEach(Ob),ec.forEach(Ob)}function Wf(i,r){i.blockedOn===r&&(i.blockedOn=null,jg||(jg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,HV)))}var Zf=null;function kb(i){Zf!==i&&(Zf=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Zf===i&&(Zf=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],d=i[r+2];if(typeof c!="function"){if(zg(c||o)===null)continue;break}var g=Hn(o);g!==null&&(i.splice(r,3),r-=3,Bp(g,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function tl(i){function r(D){return Wf(D,i)}yr!==null&&Wf(yr,i),_r!==null&&Wf(_r,i),vr!==null&&Wf(vr,i),tc.forEach(r),ec.forEach(r);for(var o=0;o<Tr.length;o++){var c=Tr[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Tr.length&&(o=Tr[0],o.blockedOn===null);)Pb(o),o.blockedOn===null&&Tr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],g=o[c+1],T=d[$e]||null;if(typeof g=="function")T||kb(o);else if(T){var S=null;if(g&&g.hasAttribute("formAction")){if(d=g,T=g[$e]||null)S=T.formAction;else if(zg(d)!==null)continue}else S=T.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),kb(o)}}}function Lb(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function Fg(i){this._internalRoot=i}Jf.prototype.render=Fg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=Un();xb(o,c,i,r,null,null)},Jf.prototype.unmount=Fg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;xb(i.current,2,null,i,null,null),Nf(),r[Mi]=null}};function Jf(i){this._internalRoot=i}Jf.prototype.unstable_scheduleHydration=function(i){if(i){var r=Mh();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Tr.length&&r!==0&&r<Tr[o].priority;o++);Tr.splice(o,0,i),o===0&&Pb(i)}};var Ub=t.version;if(Ub!=="19.2.4")throw Error(s(527,Ub,"19.2.4"));ot.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var GV={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:tt,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!td.isDisabled&&td.supportsFiber)try{li=td.inject(GV),tn=td}catch{}}return sc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",d=GT,g=KT,T=YT;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=Ib(i,1,!1,null,null,o,c,null,d,g,T,Lb),i[Mi]=r.current,Sg(i),new Fg(r)},sc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,d="",g=GT,T=KT,S=YT,D=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(D=o.formState)),r=Ib(i,1,!0,r,o??null,c,d,D,g,T,S,Lb),r.context=Rb(null),o=r.current,c=Un(),c=la(c),d=rr(c),d.callback=null,ar(o,d,c),o=c,r.current.lanes=o,aa(r,o),Qi(r),i[Mi]=r.current,Sg(i),new Jf(r)},sc.version="19.2.4",sc}var Qb;function n2(){if(Qb)return Gg.exports;Qb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Gg.exports=e2(),Gg.exports}var i2=n2();const s2="modulepreload",r2=function(n){return"/soka/"+n},$b={},hw=function(t,e,s){let a=Promise.resolve();if(e&&e.length>0){let m=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");a=m(e.map(p=>{if(p=r2(p),p in $b)return;$b[p]=!0;const y=p.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const E=document.createElement("link");if(E.rel=y?"stylesheet":s2,y||(E.as="script"),E.crossOrigin="",E.href=p,h&&E.setAttribute("nonce",h),document.head.appendChild(E),y)return new Promise((I,N)=>{E.addEventListener("load",I),E.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&l(h.reason);return t().catch(l)})},a2=()=>{};var Xb={};const fw=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},o2=function(n){const t=[];let e=0,s=0;for(;e<n.length;){const a=n[e++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[e++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[e++],u=n[e++],h=n[e++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const l=n[e++],u=n[e++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return t.join("")},dw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,h=u?n[a+1]:0,m=a+2<n.length,p=m?n[a+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let E=(h&15)<<2|p>>6,I=p&63;m||(I=64,u||(E=64)),s.push(e[y],e[v],e[E],e[I])}return s.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(fw(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):o2(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const l=e[n.charAt(a++)],h=a<n.length?e[n.charAt(a)]:0;++a;const p=a<n.length?e[n.charAt(a)]:64;++a;const v=a<n.length?e[n.charAt(a)]:64;if(++a,l==null||h==null||p==null||v==null)throw new l2;const E=l<<2|h>>4;if(s.push(E),p!==64){const I=h<<4&240|p>>2;if(s.push(I),v!==64){const N=p<<6&192|v;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class l2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u2=function(n){const t=fw(n);return dw.encodeByteArray(t,!0)},mw=function(n){return u2(n).replace(/\./g,"")},pw=function(n){try{return dw.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function gw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const c2=()=>gw().__FIREBASE_DEFAULTS__,h2=()=>{if(typeof process>"u"||typeof Xb>"u")return;const n=Xb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},f2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&pw(n[1]);return t&&JSON.parse(t)},dm=()=>{try{return a2()||c2()||h2()||f2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},d2=n=>dm()?.emulatorHosts?.[n],yw=()=>dm()?.config,_w=n=>dm()?.[`_${n}`];class m2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}function Fl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vw(n){return(await fetch(n,{credentials:"include"})).ok}const _c={};function p2(){const n={prod:[],emulator:[]};for(const t of Object.keys(_c))_c[t]?n.emulator.push(t):n.prod.push(t);return n}function g2(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Wb=!1;function y2(n,t){if(typeof window>"u"||typeof document>"u"||!Fl(window.location.host)||_c[n]===t||_c[n]||Wb)return;_c[n]=t;function e(E){return`__firebase__banner__${E}`}const s="__firebase__banner",l=p2().prod.length>0;function u(){const E=document.getElementById(s);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,I){E.setAttribute("width","24"),E.setAttribute("id",I),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Wb=!0,u()},E}function y(E,I){E.setAttribute("id",I),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=g2(s),I=e("text"),N=document.getElementById(I)||document.createElement("span"),U=e("learnmore"),L=document.getElementById(U)||document.createElement("a"),Y=e("preprendIcon"),W=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const z=E.element;h(z),y(L,U);const Q=p();m(W,Y),z.append(W,N,L,Q),document.body.appendChild(z)}l?(N.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function Tw(){const n=dm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function v2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function T2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function E2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b2(){const n=Ke();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Ew(){return!Tw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bw(){return!Tw()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Sw(){try{return typeof indexedDB=="object"}catch{return!1}}function S2(){return new Promise((n,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}const A2="FirebaseError";class zs extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=A2,Object.setPrototypeOf(this,zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ih.prototype.create)}}class ih{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],u=l?w2(l,s):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new zs(a,h,s)}}function w2(n,t){return n.replace(I2,(e,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const I2=/\{\$([^}]+)}/g;function R2(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Wa(n,t){if(n===t)return!0;const e=Object.keys(n),s=Object.keys(t);for(const a of e){if(!s.includes(a))return!1;const l=n[a],u=t[a];if(Zb(l)&&Zb(u)){if(!Wa(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!e.includes(a))return!1;return!0}function Zb(n){return n!==null&&typeof n=="object"}function sh(n){const t=[];for(const[e,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function x2(n,t){const e=new C2(n,t);return e.subscribe.bind(e)}class C2{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let a;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");D2(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:s},a.next===void 0&&(a.next=$g),a.error===void 0&&(a.error=$g),a.complete===void 0&&(a.complete=$g);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D2(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function $g(){}function Ye(n){return n&&n._delegate?n._delegate:n}class Za{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ka="[DEFAULT]";class V2{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new m2;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(N2(t))try{this.getOrInitializeService({instanceIdentifier:ka})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=ka){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ka){return this.instances.has(t)}getOptions(t=ka){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&u.resolve(a)}return a}onInit(t,e){const s=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const a of s)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:M2(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ka){return this.component?this.component.multipleInstances?t:ka:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function M2(n){return n===ka?void 0:n}function N2(n){return n.instantiationMode==="EAGER"}class P2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new V2(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Bt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Bt||(Bt={}));const O2={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},k2=Bt.INFO,L2={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},U2=(n,t,...e)=>{if(t<n.logLevel)return;const s=new Date().toISOString(),a=L2[t];if(a)console[a](`[${s}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class V_{constructor(t){this.name=t,this._logLevel=k2,this._logHandler=U2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?O2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const B2=(n,t)=>t.some(e=>n instanceof e);let Jb,tS;function z2(){return Jb||(Jb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j2(){return tS||(tS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Aw=new WeakMap,wy=new WeakMap,ww=new WeakMap,Xg=new WeakMap,M_=new WeakMap;function F2(n){const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{e(kr(n.result)),a()},u=()=>{s(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&Aw.set(e,n)}).catch(()=>{}),M_.set(t,n),t}function q2(n){if(wy.has(n))return;const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{e(),a()},u=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});wy.set(n,t)}let Iy={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return wy.get(n);if(t==="objectStoreNames")return n.objectStoreNames||ww.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return kr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function H2(n){Iy=n(Iy)}function G2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=n.call(Wg(this),t,...e);return ww.set(s,t.sort?t.sort():[t]),kr(s)}:j2().includes(n)?function(...t){return n.apply(Wg(this),t),kr(Aw.get(this))}:function(...t){return kr(n.apply(Wg(this),t))}}function K2(n){return typeof n=="function"?G2(n):(n instanceof IDBTransaction&&q2(n),B2(n,z2())?new Proxy(n,Iy):n)}function kr(n){if(n instanceof IDBRequest)return F2(n);if(Xg.has(n))return Xg.get(n);const t=K2(n);return t!==n&&(Xg.set(n,t),M_.set(t,n)),t}const Wg=n=>M_.get(n);function Y2(n,t,{blocked:e,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(n,t),h=kr(u);return s&&u.addEventListener("upgradeneeded",m=>{s(kr(u.result),m.oldVersion,m.newVersion,kr(u.transaction),m)}),e&&u.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),h.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const Q2=["get","getKey","getAll","getAllKeys","count"],$2=["put","add","delete","clear"],Zg=new Map;function eS(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Zg.get(t))return Zg.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,a=$2.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(a||Q2.includes(e)))return;const l=async function(u,...h){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(h.shift())),(await Promise.all([p[e](...h),a&&m.done]))[0]};return Zg.set(t,l),l}H2(n=>({...n,get:(t,e,s)=>eS(t,e)||n.get(t,e,s),has:(t,e)=>!!eS(t,e)||n.has(t,e)}));class X2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(W2(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function W2(n){return n.getComponent()?.type==="VERSION"}const Ry="@firebase/app",nS="0.14.7";const Ns=new V_("@firebase/app"),Z2="@firebase/app-compat",J2="@firebase/analytics-compat",tM="@firebase/analytics",eM="@firebase/app-check-compat",nM="@firebase/app-check",iM="@firebase/auth",sM="@firebase/auth-compat",rM="@firebase/database",aM="@firebase/data-connect",oM="@firebase/database-compat",lM="@firebase/functions",uM="@firebase/functions-compat",cM="@firebase/installations",hM="@firebase/installations-compat",fM="@firebase/messaging",dM="@firebase/messaging-compat",mM="@firebase/performance",pM="@firebase/performance-compat",gM="@firebase/remote-config",yM="@firebase/remote-config-compat",_M="@firebase/storage",vM="@firebase/storage-compat",TM="@firebase/firestore",EM="@firebase/ai",bM="@firebase/firestore-compat",SM="firebase",AM="12.8.0";const xy="[DEFAULT]",wM={[Ry]:"fire-core",[Z2]:"fire-core-compat",[tM]:"fire-analytics",[J2]:"fire-analytics-compat",[nM]:"fire-app-check",[eM]:"fire-app-check-compat",[iM]:"fire-auth",[sM]:"fire-auth-compat",[rM]:"fire-rtdb",[aM]:"fire-data-connect",[oM]:"fire-rtdb-compat",[lM]:"fire-fn",[uM]:"fire-fn-compat",[cM]:"fire-iid",[hM]:"fire-iid-compat",[fM]:"fire-fcm",[dM]:"fire-fcm-compat",[mM]:"fire-perf",[pM]:"fire-perf-compat",[gM]:"fire-rc",[yM]:"fire-rc-compat",[_M]:"fire-gcs",[vM]:"fire-gcs-compat",[TM]:"fire-fst",[bM]:"fire-fst-compat",[EM]:"fire-vertex","fire-js":"fire-js",[SM]:"fire-js-all"};const Od=new Map,IM=new Map,Cy=new Map;function iS(n,t){try{n.container.addComponent(t)}catch(e){Ns.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Al(n){const t=n.name;if(Cy.has(t))return Ns.debug(`There were multiple attempts to register component ${t}.`),!1;Cy.set(t,n);for(const e of Od.values())iS(e,n);for(const e of IM.values())iS(e,n);return!0}function N_(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Si(n){return n==null?!1:n.settings!==void 0}const RM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lr=new ih("app","Firebase",RM);class xM{constructor(t,e,s){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Za("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}const ql=AM;function Iw(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const s={name:xy,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw Lr.create("bad-app-name",{appName:String(a)});if(e||(e=yw()),!e)throw Lr.create("no-options");const l=Od.get(a);if(l){if(Wa(e,l.options)&&Wa(s,l.config))return l;throw Lr.create("duplicate-app",{appName:a})}const u=new P2(a);for(const m of Cy.values())u.addComponent(m);const h=new xM(e,s,u);return Od.set(a,h),h}function CM(n=xy){const t=Od.get(n);if(!t&&n===xy&&yw())return Iw();if(!t)throw Lr.create("no-app",{appName:n});return t}function Ur(n,t,e){let s=wM[n]??n;e&&(s+=`-${e}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${t}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ns.warn(u.join(" "));return}Al(new Za(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const DM="firebase-heartbeat-database",VM=1,Nc="firebase-heartbeat-store";let Jg=null;function Rw(){return Jg||(Jg=Y2(DM,VM,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Nc)}catch(e){console.warn(e)}}}}).catch(n=>{throw Lr.create("idb-open",{originalErrorMessage:n.message})})),Jg}async function MM(n){try{const e=(await Rw()).transaction(Nc),s=await e.objectStore(Nc).get(xw(n));return await e.done,s}catch(t){if(t instanceof zs)Ns.warn(t.message);else{const e=Lr.create("idb-get",{originalErrorMessage:t?.message});Ns.warn(e.message)}}}async function sS(n,t){try{const s=(await Rw()).transaction(Nc,"readwrite");await s.objectStore(Nc).put(t,xw(n)),await s.done}catch(e){if(e instanceof zs)Ns.warn(e.message);else{const s=Lr.create("idb-set",{originalErrorMessage:e?.message});Ns.warn(s.message)}}}function xw(n){return`${n.name}!${n.options.appId}`}const NM=1024,PM=30;class OM{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new LM(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=rS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:e}),this._heartbeatsCache.heartbeats.length>PM){const a=UM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ns.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=rS(),{heartbeatsToSend:e,unsentEntries:s}=kM(this._heartbeatsCache.heartbeats),a=mw(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ns.warn(t),""}}}function rS(){return new Date().toISOString().substring(0,10)}function kM(n,t=NM){const e=[];let s=n.slice();for(const a of n){const l=e.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),aS(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),aS(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class LM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sw()?S2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await MM(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return sS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return sS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function aS(n){return mw(JSON.stringify({version:2,heartbeats:n})).length}function UM(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let s=1;s<n.length;s++)n[s].date<e&&(e=n[s].date,t=s);return t}function BM(n){Al(new Za("platform-logger",t=>new X2(t),"PRIVATE")),Al(new Za("heartbeat",t=>new OM(t),"PRIVATE")),Ur(Ry,nS,n),Ur(Ry,nS,"esm2020"),Ur("fire-js","")}BM("");function Cw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zM=Cw,Dw=new ih("auth","Firebase",Cw());const kd=new V_("@firebase/auth");function jM(n,...t){kd.logLevel<=Bt.WARN&&kd.warn(`Auth (${ql}): ${n}`,...t)}function md(n,...t){kd.logLevel<=Bt.ERROR&&kd.error(`Auth (${ql}): ${n}`,...t)}function Ps(n,...t){throw P_(n,...t)}function ts(n,...t){return P_(n,...t)}function Vw(n,t,e){const s={...zM(),[t]:e};return new ih("auth","Firebase",s).create(t,{appName:n.name})}function Br(n){return Vw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function P_(n,...t){if(typeof n!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(e,...s)}return Dw.create(n,...t)}function St(n,t,...e){if(!n)throw P_(t,...e)}function Rs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw md(t),new Error(t)}function Os(n,t){n||Rs(t)}function Dy(){return typeof self<"u"&&self.location?.href||""}function FM(){return oS()==="http:"||oS()==="https:"}function oS(){return typeof self<"u"&&self.location?.protocol||null}function qM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FM()||T2()||"connection"in navigator)?navigator.onLine:!0}function HM(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class rh{constructor(t,e){this.shortDelay=t,this.longDelay=e,Os(e>t,"Short delay should be less than long delay!"),this.isMobile=_2()||E2()}get(){return qM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function O_(n,t){Os(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class Mw{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const GM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const KM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YM=new rh(3e4,6e4);function mm(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Hl(n,t,e,s,a={}){return Nw(n,a,async()=>{let l={},u={};s&&(t==="GET"?u=s:l={body:JSON.stringify(s)});const h=sh({key:n.config.apiKey,...u}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p={method:t,headers:m,...l};return v2()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Fl(n.emulatorConfig.host)&&(p.credentials="include"),Mw.fetch()(await Ow(n,n.config.apiHost,e,h),p)})}async function Nw(n,t,e){n._canInitEmulator=!1;const s={...GM,...t};try{const a=new QM(n),l=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw ed(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[m,p]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw ed(n,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw ed(n,"email-already-in-use",u);if(m==="USER_DISABLED")throw ed(n,"user-disabled",u);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Vw(n,y,p);Ps(n,y)}}catch(a){if(a instanceof zs)throw a;Ps(n,"network-request-failed",{message:String(a)})}}async function Pw(n,t,e,s,a={}){const l=await Hl(n,t,e,s,a);return"mfaPendingCredential"in l&&Ps(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Ow(n,t,e,s){const a=`${t}${e}?${s}`,l=n,u=l.config.emulator?O_(n.config,a):`${n.config.apiScheme}://${a}`;return KM.includes(e)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class QM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(ts(this.auth,"network-request-failed")),YM.get())})}}function ed(n,t,e){const s={appName:n.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const a=ts(n,t,s);return a.customData._tokenResponse=e,a}async function $M(n,t){return Hl(n,"POST","/v1/accounts:delete",t)}async function Ld(n,t){return Hl(n,"POST","/v1/accounts:lookup",t)}function vc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function XM(n,t=!1){const e=Ye(n),s=await e.getIdToken(t),a=k_(s);St(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:vc(ty(a.auth_time)),issuedAtTime:vc(ty(a.iat)),expirationTime:vc(ty(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function ty(n){return Number(n)*1e3}function k_(n){const[t,e,s]=n.split(".");if(t===void 0||e===void 0||s===void 0)return md("JWT malformed, contained fewer than 3 sections"),null;try{const a=pw(e);return a?JSON.parse(a):(md("Failed to decode base64 JWT payload"),null)}catch(a){return md("Caught error parsing JWT payload as JSON",a?.toString()),null}}function lS(n){const t=k_(n);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Pc(n,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof zs&&WM(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function WM({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class ZM{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Vy{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=vc(this.lastLoginAt),this.creationTime=vc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ud(n){const t=n.auth,e=await n.getIdToken(),s=await Pc(n,Ld(t,{idToken:e}));St(s?.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?kw(a.providerUserInfo):[],u=tN(n.providerData,l),h=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!u?.length,p=h?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Vy(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,y)}async function JM(n){const t=Ye(n);await Ud(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function tN(n,t){return[...n.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function kw(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function eN(n,t){const e=await Nw(n,{},async()=>{const s=sh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=await Ow(n,a,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:h,body:s};return n.emulatorConfig&&Fl(n.emulatorConfig.host)&&(m.credentials="include"),Mw.fetch()(u,m)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function nN(n,t){return Hl(n,"POST","/v2/accounts:revokeToken",mm(n,t))}class _l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):lS(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){St(t.length!==0,"internal-error");const e=lS(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:a,expiresIn:l}=await eN(t,e);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:a,expirationTime:l}=e,u=new _l;return s&&(St(typeof s=="string","internal-error",{appName:t}),u.refreshToken=s),a&&(St(typeof a=="string","internal-error",{appName:t}),u.accessToken=a),l&&(St(typeof l=="number","internal-error",{appName:t}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new _l,this.toJSON())}_performRefresh(){return Rs("not implemented")}}function br(n,t){St(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Ai{constructor({uid:t,auth:e,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new ZM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Vy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await Pc(this,this.stsTokenManager.getToken(this.auth,t));return St(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return XM(this,t)}reload(){return JM(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Ai({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await Ud(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Si(this.auth.app))return Promise.reject(Br(this.auth));const t=await this.getIdToken();return await Pc(this,$M(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const s=e.displayName??void 0,a=e.email??void 0,l=e.phoneNumber??void 0,u=e.photoURL??void 0,h=e.tenantId??void 0,m=e._redirectEventId??void 0,p=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:I,providerData:N,stsTokenManager:U}=e;St(v&&U,t,"internal-error");const L=_l.fromJSON(this.name,U);St(typeof v=="string",t,"internal-error"),br(s,t.name),br(a,t.name),St(typeof E=="boolean",t,"internal-error"),St(typeof I=="boolean",t,"internal-error"),br(l,t.name),br(u,t.name),br(h,t.name),br(m,t.name),br(p,t.name),br(y,t.name);const Y=new Ai({uid:v,auth:t,email:a,emailVerified:E,displayName:s,isAnonymous:I,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:L,createdAt:p,lastLoginAt:y});return N&&Array.isArray(N)&&(Y.providerData=N.map(W=>({...W}))),m&&(Y._redirectEventId=m),Y}static async _fromIdTokenResponse(t,e,s=!1){const a=new _l;a.updateFromServerResponse(e);const l=new Ai({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await Ud(l),l}static async _fromGetAccountInfoResponse(t,e,s){const a=e.users[0];St(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?kw(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new _l;h.updateFromIdToken(s);const m=new Ai({uid:a.localId,auth:t,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Vy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const uS=new Map;function xs(n){Os(n instanceof Function,"Expected a class definition");let t=uS.get(n);return t?(Os(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,uS.set(n,t),t)}class Lw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Lw.type="NONE";const cS=Lw;function pd(n,t,e){return`firebase:${n}:${t}:${e}`}class vl{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=pd(this.userKey,a.apiKey,l),this.fullPersistenceKey=pd("persistence",a.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Ld(this.auth,{idToken:t}).catch(()=>{});return e?Ai._fromGetAccountInfoResponse(this.auth,e,t):null}return Ai._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new vl(xs(cS),t,s);const a=(await Promise.all(e.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||xs(cS);const u=pd(s,t.config.apiKey,t.name);let h=null;for(const p of e)try{const y=await p._get(u);if(y){let v;if(typeof y=="string"){const E=await Ld(t,{idToken:y}).catch(()=>{});if(!E)break;v=await Ai._fromGetAccountInfoResponse(t,E,y)}else v=Ai._fromJSON(t,y);p!==l&&(h=v),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new vl(l,t,s):(l=m[0],h&&await l._set(u,h.toJSON()),await Promise.all(e.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new vl(l,t,s))}}function hS(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(jw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Uw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(qw(t))return"Blackberry";if(Hw(t))return"Webos";if(Bw(t))return"Safari";if((t.includes("chrome/")||zw(t))&&!t.includes("edge/"))return"Chrome";if(Fw(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(e);if(s?.length===2)return s[1]}return"Other"}function Uw(n=Ke()){return/firefox\//i.test(n)}function Bw(n=Ke()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function zw(n=Ke()){return/crios\//i.test(n)}function jw(n=Ke()){return/iemobile/i.test(n)}function Fw(n=Ke()){return/android/i.test(n)}function qw(n=Ke()){return/blackberry/i.test(n)}function Hw(n=Ke()){return/webos/i.test(n)}function L_(n=Ke()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function iN(n=Ke()){return L_(n)&&!!window.navigator?.standalone}function sN(){return b2()&&document.documentMode===10}function Gw(n=Ke()){return L_(n)||Fw(n)||Hw(n)||qw(n)||/windows phone/i.test(n)||jw(n)}function Kw(n,t=[]){let e;switch(n){case"Browser":e=hS(Ke());break;case"Worker":e=`${hS(Ke())}-${n}`;break;default:e=n}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${ql}/${s}`}class rN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=l=>new Promise((u,h)=>{try{const m=t(l);u(m)}catch(m){h(m)}});s.onAbort=e,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function aN(n,t={}){return Hl(n,"GET","/v2/passwordPolicy",mm(n,t))}const oN=6;class lN{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??oN,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}class uN{constructor(t,e,s,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fS(this),this.idTokenSubscription=new fS(this),this.beforeStateQueue=new rN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=xs(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Ld(this,{idToken:t}),s=await Ai._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Si(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let s=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,h=await this.tryRedirectSignIn(t);(!l||l===u)&&h?.user&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Ud(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=HM()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Si(this.app))return Promise.reject(Br(this));const e=t?Ye(t):null;return e&&St(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Si(this.app)?Promise.reject(Br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Si(this.app)?Promise.reject(Br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await aN(this),e=new lN(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ih("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await nN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&xs(t)||this._popupRedirectResolver;St(e,this,"argument-error"),this.redirectPersistenceManager=await vl.create(this,[xs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,a){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof e=="function"){const m=t.addObserver(e,s,a);return()=>{u=!0,m()}}else{const m=t.addObserver(e);return()=>{u=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Kw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&jM(`Error while retrieving App Check token: ${t.error}`),t?.token}}function pm(n){return Ye(n)}class fS{constructor(t){this.auth=t,this.observer=null,this.addObserver=x2(e=>this.observer=e)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let U_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cN(n){U_=n}function hN(n){return U_.loadJS(n)}function fN(){return U_.gapiScript}function dN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function mN(n,t){const e=N_(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),l=e.getOptions();if(Wa(l,t??{}))return a;Ps(a,"already-initialized")}return e.initialize({options:t})}function pN(n,t){const e=t?.persistence||[],s=(Array.isArray(e)?e:[e]).map(xs);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(s,t?.popupRedirectResolver)}function gN(n,t,e){const s=pm(n);St(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,l=Yw(t),{host:u,port:h}=yN(t),m=h===null?"":`:${h}`,p={url:`${l}//${u}${m}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){St(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),St(Wa(p,s.config.emulator)&&Wa(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Fl(u)?(vw(`${l}//${u}${m}`),y2("Auth",!0)):_N()}function Yw(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function yN(n){const t=Yw(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:dS(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:dS(u)}}}function dS(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function _N(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Qw{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Rs("not implemented")}_getIdTokenResponse(t){return Rs("not implemented")}_linkToIdToken(t,e){return Rs("not implemented")}_getReauthenticationResolver(t){return Rs("not implemented")}}async function Tl(n,t){return Pw(n,"POST","/v1/accounts:signInWithIdp",mm(n,t))}const vN="http://localhost";class Ja extends Qw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ja(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ps("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a,...l}=e;if(!s||!a)return null;const u=new Ja(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(t){const e=this.buildRequest();return Tl(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,Tl(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Tl(t,e)}buildRequest(){const t={requestUri:vN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=sh(e)}return t}}class $w{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ah extends $w{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Rr extends ah{constructor(){super("facebook.com")}static credential(t){return Ja._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Rr.credentialFromTaggedObject(t)}static credentialFromError(t){return Rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Rr.credential(t.oauthAccessToken)}catch{return null}}}Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rr.PROVIDER_ID="facebook.com";class xr extends ah{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ja._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return xr.credential(e,s)}catch{return null}}}xr.GOOGLE_SIGN_IN_METHOD="google.com";xr.PROVIDER_ID="google.com";class Cr extends ah{constructor(){super("github.com")}static credential(t){return Ja._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Cr.credentialFromTaggedObject(t)}static credentialFromError(t){return Cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Cr.credential(t.oauthAccessToken)}catch{return null}}}Cr.GITHUB_SIGN_IN_METHOD="github.com";Cr.PROVIDER_ID="github.com";class Dr extends ah{constructor(){super("twitter.com")}static credential(t,e){return Ja._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Dr.credentialFromTaggedObject(t)}static credentialFromError(t){return Dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return Dr.credential(e,s)}catch{return null}}}Dr.TWITTER_SIGN_IN_METHOD="twitter.com";Dr.PROVIDER_ID="twitter.com";async function TN(n,t){return Pw(n,"POST","/v1/accounts:signUp",mm(n,t))}class Hr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,a=!1){const l=await Ai._fromIdTokenResponse(t,s,a),u=mS(s);return new Hr({user:l,providerId:u,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const a=mS(s);return new Hr({user:t,providerId:a,_tokenResponse:s,operationType:e})}}function mS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function EN(n){if(Si(n.app))return Promise.reject(Br(n));const t=pm(n);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Hr({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await TN(t,{returnSecureToken:!0}),s=await Hr._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(s.user),s}class Bd extends zs{constructor(t,e,s,a){super(e.code,e.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Bd.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,a){return new Bd(t,e,s,a)}}function Xw(n,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Bd._fromErrorAndOperation(n,l,t,s):l})}async function bN(n,t,e=!1){const s=await Pc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Hr._forOperation(n,"link",s)}async function SN(n,t,e=!1){const{auth:s}=n;if(Si(s.app))return Promise.reject(Br(s));const a="reauthenticate";try{const l=await Pc(n,Xw(s,a,t,n),e);St(l.idToken,s,"internal-error");const u=k_(l.idToken);St(u,s,"internal-error");const{sub:h}=u;return St(n.uid===h,s,"user-mismatch"),Hr._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ps(s,"user-mismatch"),l}}async function AN(n,t,e=!1){if(Si(n.app))return Promise.reject(Br(n));const s="signIn",a=await Xw(n,s,t),l=await Hr._fromIdTokenResponse(n,s,a);return e||await n._updateCurrentUser(l.user),l}function wN(n,t,e,s){return Ye(n).onIdTokenChanged(t,e,s)}function IN(n,t,e){return Ye(n).beforeAuthStateChanged(t,e)}function RN(n,t,e,s){return Ye(n).onAuthStateChanged(t,e,s)}const zd="__sak";class Ww{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(zd,"1"),this.storage.removeItem(zd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const xN=1e3,CN=10;class Zw extends Ww{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Gw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),a=this.localCache[e];s!==a&&t(e,a,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((u,h,m)=>{this.notifyListeners(u,m)});return}const s=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!e&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);sN()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,CN):a()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},xN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Zw.type="LOCAL";const DN=Zw;class Jw extends Ww{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Jw.type="SESSION";const tI=Jw;function VN(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class gm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const s=new gm(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:a,data:l}=e.data,u=this.handlersMap[a];if(!u?.size)return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const h=Array.from(u).map(async p=>p(e.origin,l)),m=await VN(h);e.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gm.receivers=[];function B_(n="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return n+e}class MN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,m)=>{const p=B_("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(E.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:p,data:e},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function es(){return window}function NN(n){es().location.href=n}function eI(){return typeof es().WorkerGlobalScope<"u"&&typeof es().importScripts=="function"}async function PN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ON(){return navigator?.serviceWorker?.controller||null}function kN(){return eI()?self:null}const nI="firebaseLocalStorageDb",LN=1,jd="firebaseLocalStorage",iI="fbase_key";class oh{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function ym(n,t){return n.transaction([jd],t?"readwrite":"readonly").objectStore(jd)}function UN(){const n=indexedDB.deleteDatabase(nI);return new oh(n).toPromise()}function My(){const n=indexedDB.open(nI,LN);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(jd,{keyPath:iI})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(jd)?t(s):(s.close(),await UN(),t(await My()))})})}async function pS(n,t,e){const s=ym(n,!0).put({[iI]:t,value:e});return new oh(s).toPromise()}async function BN(n,t){const e=ym(n,!1).get(t),s=await new oh(e).toPromise();return s===void 0?null:s.value}function gS(n,t){const e=ym(n,!0).delete(t);return new oh(e).toPromise()}const zN=800,jN=3;class sI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await My(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>jN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gm._getInstance(kN()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await PN(),!this.activeServiceWorker)return;this.sender=new MN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||ON()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await My();return await pS(t,zd,"1"),await gS(t,zd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>pS(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>BN(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>gS(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=ym(a,!1).getAll();return new oh(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sI.type="LOCAL";const FN=sI;new rh(3e4,6e4);function qN(n,t){return t?xs(t):(St(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class z_ extends Qw{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Tl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Tl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Tl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function HN(n){return AN(n.auth,new z_(n),n.bypassAuthState)}function GN(n){const{auth:t,user:e}=n;return St(e,t,"internal-error"),SN(e,new z_(n),n.bypassAuthState)}async function KN(n){const{auth:t,user:e}=n;return St(e,t,"internal-error"),bN(e,new z_(n),n.bypassAuthState)}class rI{constructor(t,e,s,a,l=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:a,tenantId:l,error:u,type:h}=t;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:e,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return HN;case"linkViaPopup":case"linkViaRedirect":return KN;case"reauthViaPopup":case"reauthViaRedirect":return GN;default:Ps(this.auth,"internal-error")}}resolve(t){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const YN=new rh(2e3,1e4);class fl extends rI{constructor(t,e,s,a,l){super(t,e,a,l),this.provider=s,this.authWindow=null,this.pollId=null,fl.currentPopupAction&&fl.currentPopupAction.cancel(),fl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){Os(this.filter.length===1,"Popup operations only handle one event");const t=B_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ts(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ts(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fl.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ts(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,YN.get())};t()}}fl.currentPopupAction=null;const QN="pendingRedirect",gd=new Map;class $N extends rI{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=gd.get(this.auth._key());if(!t){try{const s=await XN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}gd.set(this.auth._key(),t)}return this.bypassAuthState||gd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XN(n,t){const e=JN(t),s=ZN(n);if(!await s._isAvailable())return!1;const a=await s._get(e)==="true";return await s._remove(e),a}function WN(n,t){gd.set(n._key(),t)}function ZN(n){return xs(n._redirectPersistence)}function JN(n){return pd(QN,n.config.apiKey,n.name)}async function tP(n,t,e=!1){if(Si(n.app))return Promise.reject(Br(n));const s=pm(n),a=qN(s,t),u=await new $N(s,a,e).execute();return u&&!e&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,t)),u}const eP=600*1e3;class nP{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!iP(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!aI(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";e.onError(ts(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=eP&&this.cachedEventUids.clear(),this.cachedEventUids.has(yS(t))}saveEventToCache(t){this.cachedEventUids.add(yS(t)),this.lastProcessedEventTime=Date.now()}}function yS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function aI({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function iP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aI(n);default:return!1}}async function sP(n,t={}){return Hl(n,"GET","/v1/projects",t)}const rP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aP=/^https?/;async function oP(n){if(n.config.emulator)return;const{authorizedDomains:t}=await sP(n);for(const e of t)try{if(lP(e))return}catch{}Ps(n,"unauthorized-domain")}function lP(n){const t=Dy(),{protocol:e,hostname:s}=new URL(t);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&s===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&u.hostname===s}if(!aP.test(e))return!1;if(rP.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const uP=new rh(3e4,6e4);function _S(){const n=es().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function cP(n){return new Promise((t,e)=>{function s(){_S(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{_S(),e(ts(n,"network-request-failed"))},timeout:uP.get()})}if(es().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(es().gapi?.load)s();else{const a=dN("iframefcb");return es()[a]=()=>{gapi.load?s():e(ts(n,"network-request-failed"))},hN(`${fN()}?onload=${a}`).catch(l=>e(l))}}).catch(t=>{throw yd=null,t})}let yd=null;function hP(n){return yd=yd||cP(n),yd}const fP=new rh(5e3,15e3),dP="__/auth/iframe",mP="emulator/auth/iframe",pP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yP(n){const t=n.config;St(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?O_(t,mP):`https://${n.config.authDomain}/${dP}`,s={apiKey:t.apiKey,appName:n.name,v:ql},a=gP.get(n.config.apiHost);a&&(s.eid=a);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${e}?${sh(s).slice(1)}`}async function _P(n){const t=await hP(n),e=es().gapi;return St(e,n,"internal-error"),t.open({where:document.body,url:yP(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pP,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=ts(n,"network-request-failed"),h=es().setTimeout(()=>{l(u)},fP.get());function m(){es().clearTimeout(h),a(s)}s.ping(m).then(m,()=>{l(u)})}))}const vP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TP=500,EP=600,bP="_blank",SP="http://localhost";class vS{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AP(n,t,e,s=TP,a=EP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const m={...vP,width:s.toString(),height:a.toString(),top:l,left:u},p=Ke().toLowerCase();e&&(h=zw(p)?bP:e),Uw(p)&&(t=t||SP,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[I,N])=>`${E}${I}=${N},`,"");if(iN(p)&&h!=="_self")return wP(t||"",h),new vS(null);const v=window.open(t||"",h,y);St(v,n,"popup-blocked");try{v.focus()}catch{}return new vS(v)}function wP(n,t){const e=document.createElement("a");e.href=n,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}const IP="__/auth/handler",RP="emulator/auth/handler",xP=encodeURIComponent("fac");async function TS(n,t,e,s,a,l){St(n.config.authDomain,n,"auth-domain-config-required"),St(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:s,v:ql,eventId:a};if(t instanceof $w){t.setDefaultLanguage(n.languageCode),u.providerId=t.providerId||"",R2(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(t instanceof ah){const y=t.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const m=await n._getAppCheckToken(),p=m?`#${xP}=${encodeURIComponent(m)}`:"";return`${CP(n)}?${sh(h).slice(1)}${p}`}function CP({config:n}){return n.emulator?O_(n,RP):`https://${n.authDomain}/${IP}`}const ey="webStorageSupport";class DP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tI,this._completeRedirectFn=tP,this._overrideRedirectResult=WN}async _openPopup(t,e,s,a){Os(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await TS(t,e,s,Dy(),a);return AP(t,l,B_())}async _openRedirect(t,e,s,a){await this._originValidation(t);const l=await TS(t,e,s,Dy(),a);return NN(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:l}=this.eventManagers[e];return a?Promise.resolve(a):(Os(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await _P(t),s=new nP(t);return e.register("authEvent",a=>(St(a?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(ey,{type:ey},a=>{const l=a?.[0]?.[ey];l!==void 0&&e(!!l),Ps(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=oP(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Gw()||Bw()||L_()}}const VP=DP;var ES="@firebase/auth",bS="1.12.0";class MP{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function NP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PP(n){Al(new Za("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=s.options;St(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kw(n)},p=new uN(s,a,l,m);return pN(p,e),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),Al(new Za("auth-internal",t=>{const e=pm(t.getProvider("auth").getImmediate());return(s=>new MP(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ur(ES,bS,NP(n)),Ur(ES,bS,"esm2020")}const OP=300,kP=_w("authIdTokenMaxAge")||OP;let SS=null;const LP=n=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>kP)return;const a=e?.token;SS!==a&&(SS=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function UP(n=CM()){const t=N_(n,"auth");if(t.isInitialized())return t.getImmediate();const e=mN(n,{popupRedirectResolver:VP,persistence:[FN,DN,tI]}),s=_w("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=LP(l.toString());IN(e,u,()=>u(e.currentUser)),wN(e,h=>u(h))}}const a=d2("auth");return a&&gN(e,`http://${a}`),e}function BP(){return document.getElementsByTagName("head")?.[0]??document}cN({loadJS(n){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=t,s.onerror=a=>{const l=ts("internal-error");l.customData=a,e(l)},s.type="text/javascript",s.charset="UTF-8",BP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PP("Browser");var zP="firebase",jP="12.8.0";Ur(zP,jP,"app");var AS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zr,oI;(function(){var n;function t(R,A){function x(){}x.prototype=A.prototype,R.F=A.prototype,R.prototype=new x,R.prototype.constructor=R,R.D=function(M,V,k){for(var C=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)C[Gt-2]=arguments[Gt];return A.prototype[V].apply(M,C)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,e),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,A,x){x||(x=0);const M=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)M[V]=A.charCodeAt(x++)|A.charCodeAt(x++)<<8|A.charCodeAt(x++)<<16|A.charCodeAt(x++)<<24;else for(V=0;V<16;++V)M[V]=A[x++]|A[x++]<<8|A[x++]<<16|A[x++]<<24;A=R.g[0],x=R.g[1],V=R.g[2];let k=R.g[3],C;C=A+(k^x&(V^k))+M[0]+3614090360&4294967295,A=x+(C<<7&4294967295|C>>>25),C=k+(V^A&(x^V))+M[1]+3905402710&4294967295,k=A+(C<<12&4294967295|C>>>20),C=V+(x^k&(A^x))+M[2]+606105819&4294967295,V=k+(C<<17&4294967295|C>>>15),C=x+(A^V&(k^A))+M[3]+3250441966&4294967295,x=V+(C<<22&4294967295|C>>>10),C=A+(k^x&(V^k))+M[4]+4118548399&4294967295,A=x+(C<<7&4294967295|C>>>25),C=k+(V^A&(x^V))+M[5]+1200080426&4294967295,k=A+(C<<12&4294967295|C>>>20),C=V+(x^k&(A^x))+M[6]+2821735955&4294967295,V=k+(C<<17&4294967295|C>>>15),C=x+(A^V&(k^A))+M[7]+4249261313&4294967295,x=V+(C<<22&4294967295|C>>>10),C=A+(k^x&(V^k))+M[8]+1770035416&4294967295,A=x+(C<<7&4294967295|C>>>25),C=k+(V^A&(x^V))+M[9]+2336552879&4294967295,k=A+(C<<12&4294967295|C>>>20),C=V+(x^k&(A^x))+M[10]+4294925233&4294967295,V=k+(C<<17&4294967295|C>>>15),C=x+(A^V&(k^A))+M[11]+2304563134&4294967295,x=V+(C<<22&4294967295|C>>>10),C=A+(k^x&(V^k))+M[12]+1804603682&4294967295,A=x+(C<<7&4294967295|C>>>25),C=k+(V^A&(x^V))+M[13]+4254626195&4294967295,k=A+(C<<12&4294967295|C>>>20),C=V+(x^k&(A^x))+M[14]+2792965006&4294967295,V=k+(C<<17&4294967295|C>>>15),C=x+(A^V&(k^A))+M[15]+1236535329&4294967295,x=V+(C<<22&4294967295|C>>>10),C=A+(V^k&(x^V))+M[1]+4129170786&4294967295,A=x+(C<<5&4294967295|C>>>27),C=k+(x^V&(A^x))+M[6]+3225465664&4294967295,k=A+(C<<9&4294967295|C>>>23),C=V+(A^x&(k^A))+M[11]+643717713&4294967295,V=k+(C<<14&4294967295|C>>>18),C=x+(k^A&(V^k))+M[0]+3921069994&4294967295,x=V+(C<<20&4294967295|C>>>12),C=A+(V^k&(x^V))+M[5]+3593408605&4294967295,A=x+(C<<5&4294967295|C>>>27),C=k+(x^V&(A^x))+M[10]+38016083&4294967295,k=A+(C<<9&4294967295|C>>>23),C=V+(A^x&(k^A))+M[15]+3634488961&4294967295,V=k+(C<<14&4294967295|C>>>18),C=x+(k^A&(V^k))+M[4]+3889429448&4294967295,x=V+(C<<20&4294967295|C>>>12),C=A+(V^k&(x^V))+M[9]+568446438&4294967295,A=x+(C<<5&4294967295|C>>>27),C=k+(x^V&(A^x))+M[14]+3275163606&4294967295,k=A+(C<<9&4294967295|C>>>23),C=V+(A^x&(k^A))+M[3]+4107603335&4294967295,V=k+(C<<14&4294967295|C>>>18),C=x+(k^A&(V^k))+M[8]+1163531501&4294967295,x=V+(C<<20&4294967295|C>>>12),C=A+(V^k&(x^V))+M[13]+2850285829&4294967295,A=x+(C<<5&4294967295|C>>>27),C=k+(x^V&(A^x))+M[2]+4243563512&4294967295,k=A+(C<<9&4294967295|C>>>23),C=V+(A^x&(k^A))+M[7]+1735328473&4294967295,V=k+(C<<14&4294967295|C>>>18),C=x+(k^A&(V^k))+M[12]+2368359562&4294967295,x=V+(C<<20&4294967295|C>>>12),C=A+(x^V^k)+M[5]+4294588738&4294967295,A=x+(C<<4&4294967295|C>>>28),C=k+(A^x^V)+M[8]+2272392833&4294967295,k=A+(C<<11&4294967295|C>>>21),C=V+(k^A^x)+M[11]+1839030562&4294967295,V=k+(C<<16&4294967295|C>>>16),C=x+(V^k^A)+M[14]+4259657740&4294967295,x=V+(C<<23&4294967295|C>>>9),C=A+(x^V^k)+M[1]+2763975236&4294967295,A=x+(C<<4&4294967295|C>>>28),C=k+(A^x^V)+M[4]+1272893353&4294967295,k=A+(C<<11&4294967295|C>>>21),C=V+(k^A^x)+M[7]+4139469664&4294967295,V=k+(C<<16&4294967295|C>>>16),C=x+(V^k^A)+M[10]+3200236656&4294967295,x=V+(C<<23&4294967295|C>>>9),C=A+(x^V^k)+M[13]+681279174&4294967295,A=x+(C<<4&4294967295|C>>>28),C=k+(A^x^V)+M[0]+3936430074&4294967295,k=A+(C<<11&4294967295|C>>>21),C=V+(k^A^x)+M[3]+3572445317&4294967295,V=k+(C<<16&4294967295|C>>>16),C=x+(V^k^A)+M[6]+76029189&4294967295,x=V+(C<<23&4294967295|C>>>9),C=A+(x^V^k)+M[9]+3654602809&4294967295,A=x+(C<<4&4294967295|C>>>28),C=k+(A^x^V)+M[12]+3873151461&4294967295,k=A+(C<<11&4294967295|C>>>21),C=V+(k^A^x)+M[15]+530742520&4294967295,V=k+(C<<16&4294967295|C>>>16),C=x+(V^k^A)+M[2]+3299628645&4294967295,x=V+(C<<23&4294967295|C>>>9),C=A+(V^(x|~k))+M[0]+4096336452&4294967295,A=x+(C<<6&4294967295|C>>>26),C=k+(x^(A|~V))+M[7]+1126891415&4294967295,k=A+(C<<10&4294967295|C>>>22),C=V+(A^(k|~x))+M[14]+2878612391&4294967295,V=k+(C<<15&4294967295|C>>>17),C=x+(k^(V|~A))+M[5]+4237533241&4294967295,x=V+(C<<21&4294967295|C>>>11),C=A+(V^(x|~k))+M[12]+1700485571&4294967295,A=x+(C<<6&4294967295|C>>>26),C=k+(x^(A|~V))+M[3]+2399980690&4294967295,k=A+(C<<10&4294967295|C>>>22),C=V+(A^(k|~x))+M[10]+4293915773&4294967295,V=k+(C<<15&4294967295|C>>>17),C=x+(k^(V|~A))+M[1]+2240044497&4294967295,x=V+(C<<21&4294967295|C>>>11),C=A+(V^(x|~k))+M[8]+1873313359&4294967295,A=x+(C<<6&4294967295|C>>>26),C=k+(x^(A|~V))+M[15]+4264355552&4294967295,k=A+(C<<10&4294967295|C>>>22),C=V+(A^(k|~x))+M[6]+2734768916&4294967295,V=k+(C<<15&4294967295|C>>>17),C=x+(k^(V|~A))+M[13]+1309151649&4294967295,x=V+(C<<21&4294967295|C>>>11),C=A+(V^(x|~k))+M[4]+4149444226&4294967295,A=x+(C<<6&4294967295|C>>>26),C=k+(x^(A|~V))+M[11]+3174756917&4294967295,k=A+(C<<10&4294967295|C>>>22),C=V+(A^(k|~x))+M[2]+718787259&4294967295,V=k+(C<<15&4294967295|C>>>17),C=x+(k^(V|~A))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+k&4294967295}s.prototype.v=function(R,A){A===void 0&&(A=R.length);const x=A-this.blockSize,M=this.C;let V=this.h,k=0;for(;k<A;){if(V==0)for(;k<=x;)a(this,R,k),k+=this.blockSize;if(typeof R=="string"){for(;k<A;)if(M[V++]=R.charCodeAt(k++),V==this.blockSize){a(this,M),V=0;break}}else for(;k<A;)if(M[V++]=R[k++],V==this.blockSize){a(this,M),V=0;break}}this.h=V,this.o+=A},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var x=R.length-8;x<R.length;++x)R[x]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,x=0;x<4;++x)for(let M=0;M<32;M+=8)R[A++]=this.g[x]>>>M&255;return R};function l(R,A){var x=h;return Object.prototype.hasOwnProperty.call(x,R)?x[R]:x[R]=A(R)}function u(R,A){this.h=A;const x=[];let M=!0;for(let V=R.length-1;V>=0;V--){const k=R[V]|0;M&&k==A||(x[V]=k,M=!1)}this.g=x}var h={};function m(R){return-128<=R&&R<128?l(R,function(A){return new u([A|0],A<0?-1:0)}):new u([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return v;if(R<0)return L(p(-R));const A=[];let x=1;for(let M=0;R>=x;M++)A[M]=R/x|0,x*=4294967296;return new u(A,0)}function y(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return L(y(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=p(Math.pow(A,8));let M=v;for(let k=0;k<R.length;k+=8){var V=Math.min(8,R.length-k);const C=parseInt(R.substring(k,k+V),A);V<8?(V=p(Math.pow(A,V)),M=M.j(V).add(p(C))):(M=M.j(x),M=M.add(p(C)))}return M}var v=m(0),E=m(1),I=m(16777216);n=u.prototype,n.m=function(){if(U(this))return-L(this).m();let R=0,A=1;for(let x=0;x<this.g.length;x++){const M=this.i(x);R+=(M>=0?M:4294967296+M)*A,A*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N(this))return"0";if(U(this))return"-"+L(this).toString(R);const A=p(Math.pow(R,6));var x=this;let M="";for(;;){const V=Q(x,A).g;x=Y(x,V.j(A));let k=((x.g.length>0?x.g[0]:x.h)>>>0).toString(R);if(x=V,N(x))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function N(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function U(R){return R.h==-1}n.l=function(R){return R=Y(this,R),U(R)?-1:N(R)?0:1};function L(R){const A=R.g.length,x=[];for(let M=0;M<A;M++)x[M]=~R.g[M];return new u(x,~R.h).add(E)}n.abs=function(){return U(this)?L(this):this},n.add=function(R){const A=Math.max(this.g.length,R.g.length),x=[];let M=0;for(let V=0;V<=A;V++){let k=M+(this.i(V)&65535)+(R.i(V)&65535),C=(k>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);M=C>>>16,k&=65535,C&=65535,x[V]=C<<16|k}return new u(x,x[x.length-1]&-2147483648?-1:0)};function Y(R,A){return R.add(L(A))}n.j=function(R){if(N(this)||N(R))return v;if(U(this))return U(R)?L(this).j(L(R)):L(L(this).j(R));if(U(R))return L(this.j(L(R)));if(this.l(I)<0&&R.l(I)<0)return p(this.m()*R.m());const A=this.g.length+R.g.length,x=[];for(var M=0;M<2*A;M++)x[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<R.g.length;V++){const k=this.i(M)>>>16,C=this.i(M)&65535,Gt=R.i(V)>>>16,Xt=R.i(V)&65535;x[2*M+2*V]+=C*Xt,W(x,2*M+2*V),x[2*M+2*V+1]+=k*Xt,W(x,2*M+2*V+1),x[2*M+2*V+1]+=C*Gt,W(x,2*M+2*V+1),x[2*M+2*V+2]+=k*Gt,W(x,2*M+2*V+2)}for(R=0;R<A;R++)x[R]=x[2*R+1]<<16|x[2*R];for(R=A;R<2*A;R++)x[R]=0;return new u(x,0)};function W(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function z(R,A){this.g=R,this.h=A}function Q(R,A){if(N(A))throw Error("division by zero");if(N(R))return new z(v,v);if(U(R))return A=Q(L(R),A),new z(L(A.g),L(A.h));if(U(A))return A=Q(R,L(A)),new z(L(A.g),A.h);if(R.g.length>30){if(U(R)||U(A))throw Error("slowDivide_ only works with positive integers.");for(var x=E,M=A;M.l(R)<=0;)x=rt(x),M=rt(M);var V=at(x,1),k=at(M,1);for(M=at(M,2),x=at(x,2);!N(M);){var C=k.add(M);C.l(R)<=0&&(V=V.add(x),k=C),M=at(M,1),x=at(x,1)}return A=Y(R,V.j(A)),new z(V,A)}for(V=v;R.l(A)>=0;){for(x=Math.max(1,Math.floor(R.m()/A.m())),M=Math.ceil(Math.log(x)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=p(x),C=k.j(A);U(C)||C.l(R)>0;)x-=M,k=p(x),C=k.j(A);N(k)&&(k=E),V=V.add(k),R=Y(R,C)}return new z(V,R)}n.B=function(R){return Q(this,R).h},n.and=function(R){const A=Math.max(this.g.length,R.g.length),x=[];for(let M=0;M<A;M++)x[M]=this.i(M)&R.i(M);return new u(x,this.h&R.h)},n.or=function(R){const A=Math.max(this.g.length,R.g.length),x=[];for(let M=0;M<A;M++)x[M]=this.i(M)|R.i(M);return new u(x,this.h|R.h)},n.xor=function(R){const A=Math.max(this.g.length,R.g.length),x=[];for(let M=0;M<A;M++)x[M]=this.i(M)^R.i(M);return new u(x,this.h^R.h)};function rt(R){const A=R.g.length+1,x=[];for(let M=0;M<A;M++)x[M]=R.i(M)<<1|R.i(M-1)>>>31;return new u(x,R.h)}function at(R,A){const x=A>>5;A%=32;const M=R.g.length-x,V=[];for(let k=0;k<M;k++)V[k]=A>0?R.i(k+x)>>>A|R.i(k+x+1)<<32-A:R.i(k+x);return new u(V,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,oI=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,zr=u}).apply(typeof AS<"u"?AS:typeof self<"u"?self:typeof window<"u"?window:{});var nd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lI,fc,uI,_d,Ny,cI,hI,fI;(function(){var n,t=Object.defineProperty;function e(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof nd=="object"&&nd];for(var _=0;_<f.length;++_){var b=f[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=e(this);function a(f,_){if(_)t:{var b=s;f=f.split(".");for(var w=0;w<f.length-1;w++){var q=f[w];if(!(q in b))break t;b=b[q]}f=f[f.length-1],w=b[f],_=_(w),_!=w&&_!=null&&t(b,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var b=[],w;for(w in _)Object.prototype.hasOwnProperty.call(_,w)&&b.push([w,_[w]]);return b}});var l=l||{},u=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function m(f,_,b){return f.call.apply(f.bind,arguments)}function p(f,_,b){return p=m,p.apply(null,arguments)}function y(f,_){var b=Array.prototype.slice.call(arguments,1);return function(){var w=b.slice();return w.push.apply(w,arguments),f.apply(this,w)}}function v(f,_){function b(){}b.prototype=_.prototype,f.Z=_.prototype,f.prototype=new b,f.prototype.constructor=f,f.Ob=function(w,q,$){for(var ct=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)ct[xt-2]=arguments[xt];return _.prototype[q].apply(w,ct)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function I(f){const _=f.length;if(_>0){const b=Array(_);for(let w=0;w<_;w++)b[w]=f[w];return b}return[]}function N(f,_){for(let w=1;w<arguments.length;w++){const q=arguments[w];var b=typeof q;if(b=b!="object"?b:q?Array.isArray(q)?"array":b:"null",b=="array"||b=="object"&&typeof q.length=="number"){b=f.length||0;const $=q.length||0;f.length=b+$;for(let ct=0;ct<$;ct++)f[b+ct]=q[ct]}else f.push(q)}}class U{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function L(f){u.setTimeout(()=>{throw f},0)}function Y(){var f=R;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class W{constructor(){this.h=this.g=null}add(_,b){const w=z.get();w.set(_,b),this.h?this.h.next=w:this.g=w,this.h=w}}var z=new U(()=>new Q,f=>f.reset());class Q{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,at=!1,R=new W,A=()=>{const f=Promise.resolve(void 0);rt=()=>{f.then(x)}};function x(){for(var f;f=Y();){try{f.h.call(f.g)}catch(b){L(b)}var _=z;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}at=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};u.addEventListener("test",b,_),u.removeEventListener("test",b,_)}catch{}return f})();function C(f){return/^[\s\xa0]*$/.test(f)}function Gt(f,_){V.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(Gt,V),Gt.prototype.init=function(f,_){const b=this.type=f.type,w=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(b=="mouseover"?_=f.fromElement:b=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Gt.Z.h.call(this)},Gt.prototype.h=function(){Gt.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Xt="closure_listenable_"+(Math.random()*1e6|0),tt=0;function ot(f,_,b,w,q){this.listener=f,this.proxy=null,this.src=_,this.type=b,this.capture=!!w,this.ha=q,this.key=++tt,this.da=this.fa=!1}function dt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Dt(f,_,b){for(const w in f)_.call(b,f[w],w,f)}function kt(f,_){for(const b in f)_.call(void 0,f[b],b,f)}function O(f){const _={};for(const b in f)_[b]=f[b];return _}const st="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ft(f,_){let b,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(b in w)f[b]=w[b];for(let $=0;$<st.length;$++)b=st[$],Object.prototype.hasOwnProperty.call(w,b)&&(f[b]=w[b])}}function pt(f){this.src=f,this.g={},this.h=0}pt.prototype.add=function(f,_,b,w,q){const $=f.toString();f=this.g[$],f||(f=this.g[$]=[],this.h++);const ct=Vt(f,_,w,q);return ct>-1?(_=f[ct],b||(_.fa=!1)):(_=new ot(_,this.src,$,!!w,q),_.fa=b,f.push(_)),_};function wt(f,_){const b=_.type;if(b in f.g){var w=f.g[b],q=Array.prototype.indexOf.call(w,_,void 0),$;($=q>=0)&&Array.prototype.splice.call(w,q,1),$&&(dt(_),f.g[b].length==0&&(delete f.g[b],f.h--))}}function Vt(f,_,b,w){for(let q=0;q<f.length;++q){const $=f[q];if(!$.da&&$.listener==_&&$.capture==!!b&&$.ha==w)return q}return-1}var Ft="closure_lm_"+(Math.random()*1e6|0),je={};function he(f,_,b,w,q){if(Array.isArray(_)){for(let $=0;$<_.length;$++)he(f,_[$],b,w,q);return null}return b=eu(b),f&&f[Xt]?f.J(_,b,h(w)?!!w.capture:!1,q):na(f,_,b,!1,w,q)}function na(f,_,b,w,q,$){if(!_)throw Error("Invalid event type");const ct=h(q)?!!q.capture:!!q;let xt=ia(f);if(xt||(f[Ft]=xt=new pt(f)),b=xt.add(_,b,w,ct,$),b.proxy)return b;if(w=co(),b.proxy=w,w.src=f,w.listener=b,f.addEventListener)k||(q=ct),q===void 0&&(q=!1),f.addEventListener(_.toString(),w,q);else if(f.attachEvent)f.attachEvent(Ri(_.toString()),w);else if(f.addListener&&f.removeListener)f.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return b}function co(){function f(b){return _.call(f.src,f.listener,b)}const _=Jl;return f}function ho(f,_,b,w,q){if(Array.isArray(_))for(var $=0;$<_.length;$++)ho(f,_[$],b,w,q);else w=h(w)?!!w.capture:!!w,b=eu(b),f&&f[Xt]?(f=f.i,$=String(_).toString(),$ in f.g&&(_=f.g[$],b=Vt(_,b,w,q),b>-1&&(dt(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete f.g[$],f.h--)))):f&&(f=ia(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Vt(_,b,w,q)),(b=f>-1?_[f]:null)&&fo(b))}function fo(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Xt])wt(_.i,f);else{var b=f.type,w=f.proxy;_.removeEventListener?_.removeEventListener(b,w,f.capture):_.detachEvent?_.detachEvent(Ri(b),w):_.addListener&&_.removeListener&&_.removeListener(w),(b=ia(_))?(wt(b,f),b.h==0&&(b.src=null,_[Ft]=null)):dt(f)}}}function Ri(f){return f in je?je[f]:je[f]="on"+f}function Jl(f,_){if(f.da)f=!0;else{_=new Gt(_,this);const b=f.listener,w=f.ha||f.src;f.fa&&fo(f),f=b.call(w,_)}return f}function ia(f){return f=f[Ft],f instanceof pt?f:null}var tu="__closure_events_fn_"+(Math.random()*1e9>>>0);function eu(f){return typeof f=="function"?f:(f[tu]||(f[tu]=function(_){return f.handleEvent(_)}),f[tu])}function Re(){M.call(this),this.i=new pt(this),this.M=this,this.G=null}v(Re,M),Re.prototype[Xt]=!0,Re.prototype.removeEventListener=function(f,_,b,w){ho(this,f,_,b,w)};function Fe(f,_){var b,w=f.G;if(w)for(b=[];w;w=w.G)b.push(w);if(f=f.M,w=_.type||_,typeof _=="string")_=new V(_,f);else if(_ instanceof V)_.target=_.target||f;else{var q=_;_=new V(w,f),ft(_,q)}q=!0;let $,ct;if(b)for(ct=b.length-1;ct>=0;ct--)$=_.g=b[ct],q=qs($,w,!0,_)&&q;if($=_.g=f,q=qs($,w,!0,_)&&q,q=qs($,w,!1,_)&&q,b)for(ct=0;ct<b.length;ct++)$=_.g=b[ct],q=qs($,w,!1,_)&&q}Re.prototype.N=function(){if(Re.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const b=f.g[_];for(let w=0;w<b.length;w++)dt(b[w]);delete f.g[_],f.h--}}this.G=null},Re.prototype.J=function(f,_,b,w){return this.i.add(String(f),_,!1,b,w)},Re.prototype.K=function(f,_,b,w){return this.i.add(String(f),_,!0,b,w)};function qs(f,_,b,w){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let q=!0;for(let $=0;$<_.length;++$){const ct=_[$];if(ct&&!ct.da&&ct.capture==b){const xt=ct.listener,Se=ct.ha||ct.src;ct.fa&&wt(f.i,ct),q=xt.call(Se,w)!==!1&&q}}return q&&!w.defaultPrevented}function Gm(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(f,_||0)}function wh(f){f.g=Gm(()=>{f.g=null,f.i&&(f.i=!1,wh(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class pn extends M{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:wh(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sa(f){M.call(this),this.h=f,this.g={}}v(sa,M);var nu=[];function iu(f){Dt(f.g,function(_,b){this.g.hasOwnProperty(b)&&fo(_)},f),f.g={}}sa.prototype.N=function(){sa.Z.N.call(this),iu(this)},sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hs=u.JSON.stringify,Km=u.JSON.parse,Ih=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function Rh(){}function xh(){}var li={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tn(){V.call(this,"d")}v(tn,V);function qn(){V.call(this,"c")}v(qn,V);var be={},Ch=null;function mo(){return Ch=Ch||new Re}be.Ia="serverreachability";function Dh(f){V.call(this,be.Ia,f)}v(Dh,V);function xi(f){const _=mo();Fe(_,new Dh(_))}be.STAT_EVENT="statevent";function ra(f,_){V.call(this,be.STAT_EVENT,f),this.stat=_}v(ra,V);function xe(f){const _=mo();Fe(_,new ra(_,f))}be.Ja="timingevent";function Ci(f,_){V.call(this,be.Ja,f),this.size=_}v(Ci,V);function Di(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},_)}function ui(){this.g=!0}ui.prototype.ua=function(){this.g=!1};function Ym(f,_,b,w,q,$){f.info(function(){if(f.g)if($){var ct="",xt=$.split("&");for(let Qt=0;Qt<xt.length;Qt++){var Se=xt[Qt].split("=");if(Se.length>1){const fe=Se[0];Se=Se[1];const Yn=fe.split("_");ct=Yn.length>=2&&Yn[1]=="type"?ct+(fe+"="+Se+"&"):ct+(fe+"=redacted&")}}}else ct=null;else ct=$;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+_+`
`+b+`
`+ct})}function Vh(f,_,b,w,q,$,ct){f.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+_+`
`+b+`
`+$+" "+ct})}function Vi(f,_,b,w){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+Qm(f,b)+(w?" "+w:"")})}function aa(f,_){f.info(function(){return"TIMEOUT: "+_})}ui.prototype.info=function(){};function Qm(f,_){if(!f.g)return _;if(!_)return null;try{const $=JSON.parse(_);if($){for(f=0;f<$.length;f++)if(Array.isArray($[f])){var b=$[f];if(!(b.length<2)){var w=b[1];if(Array.isArray(w)&&!(w.length<1)){var q=w[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ct=1;ct<w.length;ct++)w[ct]=""}}}}return Hs($)}catch{return _}}var oa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},su={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ru;function la(){}v(la,Rh),la.prototype.g=function(){return new XMLHttpRequest},ru=new la;function as(f){return encodeURIComponent(String(f))}function Mh(f){var _=1;f=f.split(":");const b=[];for(;_>0&&f.length;)b.push(f.shift()),_--;return f.length&&b.push(f.join(":")),b}function ci(f,_,b,w){this.j=f,this.i=_,this.l=b,this.S=w||1,this.V=new sa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hi}function hi(){this.i=null,this.g="",this.h=!1}var Ce={},$e={};function Mi(f,_,b){f.M=1,f.A=ua(Ve(_)),f.u=b,f.R=!0,po(f,null)}function po(f,_){f.F=Date.now(),Ni(f),f.B=Ve(f.A);var b=f.B,w=f.S;Array.isArray(w)||(w=[String(w)]),vo(b.i,"t",w),f.C=0,b=f.j.L,f.h=new hi,f.g=Yh(f.j,b?_:null,!f.u),f.P>0&&(f.O=new pn(p(f.Y,f,f.g),f.P)),_=f.V,b=f.g,w=f.ba;var q="readystatechange";Array.isArray(q)||(q&&(nu[0]=q.toString()),q=nu);for(let $=0;$<q.length;$++){const ct=he(b,q[$],w||_.handleEvent,!1,_.h||_);if(!ct)break;_.g[ct.key]=ct}_=f.J?O(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),xi(),Ym(f.i,f.v,f.B,f.l,f.S,f.u)}ci.prototype.ba=function(f){f=f.target;const _=this.O;_&&mi(f)==3?_.j():this.Y(f)},ci.prototype.Y=function(f){try{if(f==this.g)t:{const xt=mi(this.g),Se=this.g.ya(),Qt=this.g.ca();if(!(xt<3)&&(xt!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||xt!=4||Se==7||(Se==8||Qt<=0?xi(3):xi(2)),Pi(this);var _=this.g.ca();this.X=_;var b=$m(this);if(this.o=_==200,Vh(this.i,this.v,this.B,this.l,this.S,xt,_),this.o){if(this.U&&!this.L){e:{if(this.g){var w,q=this.g;if((w=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(w)){var $=w;break e}}$=null}if(f=$)Vi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Oi(this,f);else{this.o=!1,this.m=3,xe(12),Dn(this),Hn(this);break t}}if(this.R){f=!0;let fe;for(;!this.K&&this.C<b.length;)if(fe=Ph(this,b),fe==$e){xt==4&&(this.m=4,xe(14),f=!1),Vi(this.i,this.l,null,"[Incomplete Response]");break}else if(fe==Ce){this.m=4,xe(15),Vi(this.i,this.l,b,"[Invalid Chunk]"),f=!1;break}else Vi(this.i,this.l,fe,null),Oi(this,fe);if(Nh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||b.length!=0||this.h.h||(this.m=1,xe(16),f=!1),this.o=this.o&&f,!f)Vi(this.i,this.l,b,"[Invalid Chunked Response]"),Dn(this),Hn(this);else if(b.length>0&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.aa&&!ct.P&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Tu(ct),ct.P=!0,xe(11))}}else Vi(this.i,this.l,b,null),Oi(this,b);xt==4&&Dn(this),this.o&&!this.K&&(xt==4?qh(this.j,this):(this.o=!1,Ni(this)))}else ls(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,xe(12)):(this.m=0,xe(13)),Dn(this),Hn(this)}}}catch{}};function $m(f){if(!Nh(f))return f.g.la();const _=en(f.g);if(_==="")return"";let b="";const w=_.length,q=mi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Dn(f),Hn(f),"";f.h.i=new u.TextDecoder}for(let $=0;$<w;$++)f.h.h=!0,b+=f.h.i.decode(_[$],{stream:!(q&&$==w-1)});return _.length=0,f.h.g+=b,f.C=0,f.h.g}function Nh(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Ph(f,_){var b=f.C,w=_.indexOf(`
`,b);return w==-1?$e:(b=Number(_.substring(b,w)),isNaN(b)?Ce:(w+=1,w+b>_.length?$e:(_=_.slice(w,w+b),f.C=w+b,_)))}ci.prototype.cancel=function(){this.K=!0,Dn(this)};function Ni(f){f.T=Date.now()+f.H,go(f,f.H)}function go(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Di(p(f.aa,f),_)}function Pi(f){f.D&&(u.clearTimeout(f.D),f.D=null)}ci.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(aa(this.i,this.B),this.M!=2&&(xi(),xe(17)),Dn(this),this.m=2,Hn(this)):go(this,this.T-f)};function Hn(f){f.j.I==0||f.K||qh(f.j,f)}function Dn(f){Pi(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,iu(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function Oi(f,_){try{var b=f.j;if(b.I!=0&&(b.g==f||Li(b.h,f))){if(!f.L&&Li(b.h,f)&&b.I==3){try{var w=b.Ba.g.parse(_)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){t:if(!b.v){if(b.g)if(b.g.F+3e3<f.F)Ao(b),Zs(b);else break t;ga(b),xe(18)}}else b.xa=q[1],0<b.xa-b.K&&q[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Di(p(b.Va,b),6e3));ki(b.h)<=1&&b.ta&&(b.ta=void 0)}else qi(b,11)}else if((f.L||b.g==f)&&Ao(b),!C(_))for(q=b.Ba.g.parse(_),_=0;_<q.length;_++){let Qt=q[_];const fe=Qt[0];if(!(fe<=b.K))if(b.K=fe,Qt=Qt[1],b.I==2)if(Qt[0]=="c"){b.M=Qt[1],b.ba=Qt[2];const Yn=Qt[3];Yn!=null&&(b.ka=Yn,b.j.info("VER="+b.ka));const Hi=Qt[4];Hi!=null&&(b.za=Hi,b.j.info("SVER="+b.za));const pi=Qt[5];pi!=null&&typeof pi=="number"&&pi>0&&(w=1.5*pi,b.O=w,b.j.info("backChannelRequestTimeoutMs_="+w)),w=b;const gi=f.g;if(gi){const ya=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ya){var $=w.h;$.g||ya.indexOf("spdy")==-1&&ya.indexOf("quic")==-1&&ya.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(lu($,$.h),$.h=null))}if(w.G){const wo=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;wo&&(w.wa=wo,Wt(w.J,w.G,wo))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-f.F,b.j.info("Handshake RTT: "+b.T+"ms")),w=b;var ct=f;if(w.na=Kh(w,w.L?w.ba:null,w.W),ct.L){uu(w.h,ct);var xt=ct,Se=w.O;Se&&(xt.H=Se),xt.D&&(Pi(xt),Ni(xt)),w.g=ct}else jh(w);b.i.length>0&&Fi(b)}else Qt[0]!="stop"&&Qt[0]!="close"||qi(b,7);else b.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?qi(b,7):_u(b):Qt[0]!="noop"&&b.l&&b.l.qa(Qt),b.A=0)}}xi(4)}catch{}}var De=class{constructor(f,_){this.g=f,this.map=_}};function au(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ou(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ki(f){return f.h?1:f.g?f.g.size:0}function Li(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function lu(f,_){f.g?f.g.add(_):f.h=_}function uu(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}au.prototype.cancel=function(){if(this.i=cu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function cu(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const b of f.g.values())_=_.concat(b.G);return _}return I(f.i)}var Oh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yo(f,_){if(f){f=f.split("&");for(let b=0;b<f.length;b++){const w=f[b].indexOf("=");let q,$=null;w>=0?(q=f[b].substring(0,w),$=f[b].substring(w+1)):q=f[b],_(q,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Vn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof Vn?(this.l=f.l,Xe(this,f.j),this.o=f.o,this.g=f.g,Gs(this,f.u),this.h=f.h,hu(this,Bh(f.i)),this.m=f.m):f&&(_=String(f).match(Oh))?(this.l=!1,Xe(this,_[1]||"",!0),this.o=Ui(_[2]||""),this.g=Ui(_[3]||"",!0),Gs(this,_[4]),this.h=Ui(_[5]||"",!0),hu(this,_[6]||"",!0),this.m=Ui(_[7]||"")):(this.l=!1,this.i=new Ys(null,this.l))}Vn.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(ca(_,_o,!0),":");var b=this.g;return(b||_=="file")&&(f.push("//"),(_=this.o)&&f.push(ca(_,_o,!0),"@"),f.push(as(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&f.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(ca(b,b.charAt(0)=="/"?fu:kh,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",ca(b,Lh)),f.join("")},Vn.prototype.resolve=function(f){const _=Ve(this);let b=!!f.j;b?Xe(_,f.j):b=!!f.o,b?_.o=f.o:b=!!f.g,b?_.g=f.g:b=f.u!=null;var w=f.h;if(b)Gs(_,f.u);else if(b=!!f.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var q=_.h.lastIndexOf("/");q!=-1&&(w=_.h.slice(0,q+1)+w)}if(q=w,q==".."||q==".")w="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){w=q.lastIndexOf("/",0)==0,q=q.split("/");const $=[];for(let ct=0;ct<q.length;){const xt=q[ct++];xt=="."?w&&ct==q.length&&$.push(""):xt==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),w&&ct==q.length&&$.push("")):($.push(xt),w=!0)}w=$.join("/")}else w=q}return b?_.h=w:b=f.i.toString()!=="",b?hu(_,Bh(f.i)):b=!!f.m,b&&(_.m=f.m),_};function Ve(f){return new Vn(f)}function Xe(f,_,b){f.j=b?Ui(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Gs(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function hu(f,_,b){_ instanceof Ys?(f.i=_,To(f.i,f.l)):(b||(_=ca(_,Ks)),f.i=new Ys(_,f.l))}function Wt(f,_,b){f.i.set(_,b)}function ua(f){return Wt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Ui(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ca(f,_,b){return typeof f=="string"?(f=encodeURI(f).replace(_,bn),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function bn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var _o=/[#\/\?@]/g,kh=/[#\?:]/g,fu=/[#\?]/g,Ks=/[#\?@]/g,Lh=/#/g;function Ys(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Sn(f){f.g||(f.g=new Map,f.h=0,f.i&&yo(f.i,function(_,b){f.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}n=Ys.prototype,n.add=function(f,_){Sn(this),this.i=null,f=Qs(this,f);let b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(_),this.h+=1,this};function Uh(f,_){Sn(f),_=Qs(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function du(f,_){return Sn(f),_=Qs(f,_),f.g.has(_)}n.forEach=function(f,_){Sn(this),this.g.forEach(function(b,w){b.forEach(function(q){f.call(_,q,w,this)},this)},this)};function mu(f,_){Sn(f);let b=[];if(typeof _=="string")du(f,_)&&(b=b.concat(f.g.get(Qs(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)b=b.concat(f[_]);return b}n.set=function(f,_){return Sn(this),this.i=null,f=Qs(this,f),du(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},n.get=function(f,_){return f?(f=mu(this,f),f.length>0?String(f[0]):_):_};function vo(f,_,b){Uh(f,_),b.length>0&&(f.i=null,f.g.set(Qs(f,_),I(b)),f.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let w=0;w<_.length;w++){var b=_[w];const q=as(b);b=mu(this,b);for(let $=0;$<b.length;$++){let ct=q;b[$]!==""&&(ct+="="+as(b[$])),f.push(ct)}}return this.i=f.join("&")};function Bh(f){const _=new Ys;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function Qs(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function To(f,_){_&&!f.j&&(Sn(f),f.i=null,f.g.forEach(function(b,w){const q=w.toLowerCase();w!=q&&(Uh(this,w),vo(this,q,b))},f)),f.j=_}function fi(f,_){const b=new ui;if(u.Image){const w=new Image;w.onload=y(Gn,b,"TestLoadImage: loaded",!0,_,w),w.onerror=y(Gn,b,"TestLoadImage: error",!1,_,w),w.onabort=y(Gn,b,"TestLoadImage: abort",!1,_,w),w.ontimeout=y(Gn,b,"TestLoadImage: timeout",!1,_,w),u.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=f}else _(!1)}function pu(f,_){const b=new ui,w=new AbortController,q=setTimeout(()=>{w.abort(),Gn(b,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:w.signal}).then($=>{clearTimeout(q),$.ok?Gn(b,"TestPingServer: ok",!0,_):Gn(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),Gn(b,"TestPingServer: error",!1,_)})}function Gn(f,_,b,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(b)}catch{}}function $s(){this.g=new Ih}function Bi(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Bi,Rh),Bi.prototype.g=function(){return new ha(this.i,this.h)};function ha(f,_){Re.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(ha,Re),n=ha.prototype,n.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,di(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xs(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Eo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Eo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Xs(this):di(this),this.readyState==3&&Eo(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,Xs(this))},n.Na=function(f){this.g&&(this.response=f,Xs(this))},n.ga=function(){this.g&&Xs(this)};function Xs(f){f.readyState=4,f.l=null,f.j=null,f.B=null,di(f)}n.setRequestHeader=function(f,_){this.A.append(f,_)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=_.next();return f.join(`\r
`)};function di(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ha.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Kn(f){let _="";return Dt(f,function(b,w){_+=w,_+=":",_+=b,_+=`\r
`}),_}function fa(f,_,b){t:{for(w in b){var w=!1;break t}w=!0}w||(b=Kn(b),typeof f=="string"?b!=null&&as(b):Wt(f,_,b))}function ie(f){Re.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(ie,Re);var zi=/^https?$/i,gu=["POST","PUT"];n=ie.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,_,b,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ru.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch($){da(this,$);return}if(f=b||"",b=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)b.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())b.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(b.keys()).find($=>$.toLowerCase()=="content-type"),q=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(gu,_,void 0)>=0)||w||q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ct]of b)this.g.setRequestHeader($,ct);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch($){da(this,$)}};function da(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,yu(f),os(f)}function yu(f){f.A||(f.A=!0,Fe(f,"complete"),Fe(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Fe(this,"complete"),Fe(this,"abort"),os(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),os(this,!0)),ie.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ma(this):this.Xa())},n.Xa=function(){ma(this)};function ma(f){if(f.h&&typeof l<"u"){if(f.v&&mi(f)==4)setTimeout(f.Ca.bind(f),0);else if(Fe(f,"readystatechange"),mi(f)==4){f.h=!1;try{const $=f.ca();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var b;if(!(b=_)){var w;if(w=$===0){let ct=String(f.D).match(Oh)[1]||null;!ct&&u.self&&u.self.location&&(ct=u.self.location.protocol.slice(0,-1)),w=!zi.test(ct?ct.toLowerCase():"")}b=w}if(b)Fe(f,"complete"),Fe(f,"success");else{f.o=6;try{var q=mi(f)>2?f.g.statusText:""}catch{q=""}f.l=q+" ["+f.ca()+"]",yu(f)}}finally{os(f)}}}}function os(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const b=f.g;f.g=null,_||Fe(f,"ready");try{b.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function mi(f){return f.g?f.g.readyState:0}n.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Km(_)}};function en(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ls(f){const _={};f=(f.g&&mi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<f.length;w++){if(C(f[w]))continue;var b=Mh(f[w]);const q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const $=_[q]||[];_[q]=$,$.push(b)}kt(_,function(w){return w.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ji(f,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||_}function Ws(f){this.za=0,this.i=[],this.j=new ui,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ji("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ji("baseRetryDelayMs",5e3,f),this.Za=ji("retryDelaySeedMs",1e4,f),this.Ta=ji("forwardChannelMaxRetries",2,f),this.va=ji("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new au(f&&f.concurrentRequestLimit),this.Ba=new $s,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ws.prototype,n.ka=8,n.I=1,n.connect=function(f,_,b,w){xe(0),this.W=f,this.H=_||{},b&&w!==void 0&&(this.H.OSID=b,this.H.OAID=w),this.F=this.X,this.J=Kh(this,null,this.W),Fi(this)};function _u(f){if(bo(f),f.I==3){var _=f.V++,b=Ve(f.J);if(Wt(b,"SID",f.M),Wt(b,"RID",_),Wt(b,"TYPE","terminate"),pa(f,b),_=new ci(f,f.j,_),_.M=2,_.A=ua(Ve(b)),b=!1,u.navigator&&u.navigator.sendBeacon)try{b=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&u.Image&&(new Image().src=_.A,b=!0),b||(_.g=Yh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Ni(_)}Gh(f)}function Zs(f){f.g&&(Tu(f),f.g.cancel(),f.g=null)}function bo(f){Zs(f),f.v&&(u.clearTimeout(f.v),f.v=null),Ao(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function Fi(f){if(!ou(f.h)&&!f.m){f.m=!0;var _=f.Ea;rt||A(),at||(rt(),at=!0),R.add(_,f),f.D=0}}function So(f,_){return ki(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Di(p(f.Ea,f,_),Hh(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const q=new ci(this,this.j,f);let $=this.o;if(this.U&&($?($=O($),ft($,this.U)):$=this.U),this.u!==null||this.R||(q.J=$,$=null),this.S)t:{for(var _=0,b=0;b<this.i.length;b++){e:{var w=this.i[b];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(_+=w,_>4096){_=b;break t}if(_===4096||b===this.i.length-1){_=b+1;break t}}_=1e3}else _=1e3;_=zh(this,q,_),b=Ve(this.J),Wt(b,"RID",f),Wt(b,"CVER",22),this.G&&Wt(b,"X-HTTP-Session-Id",this.G),pa(this,b),$&&(this.R?_="headers="+as(Kn($))+"&"+_:this.u&&fa(b,this.u,$)),lu(this.h,q),this.Ra&&Wt(b,"TYPE","init"),this.S?(Wt(b,"$req",_),Wt(b,"SID","null"),q.U=!0,Mi(q,b,null)):Mi(q,b,_),this.I=2}}else this.I==3&&(f?vu(this,f):this.i.length==0||ou(this.h)||vu(this))};function vu(f,_){var b;_?b=_.l:b=f.V++;const w=Ve(f.J);Wt(w,"SID",f.M),Wt(w,"RID",b),Wt(w,"AID",f.K),pa(f,w),f.u&&f.o&&fa(w,f.u,f.o),b=new ci(f,f.j,b,f.D+1),f.u===null&&(b.J=f.o),_&&(f.i=_.G.concat(f.i)),_=zh(f,b,1e3),b.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),lu(f.h,b),Mi(b,w,_)}function pa(f,_){f.H&&Dt(f.H,function(b,w){Wt(_,w,b)}),f.l&&Dt({},function(b,w){Wt(_,w,b)})}function zh(f,_,b){b=Math.min(f.i.length,b);const w=f.l?p(f.l.Ka,f.l,f):null;t:{var q=f.i;let xt=-1;for(;;){const Se=["count="+b];xt==-1?b>0?(xt=q[0].g,Se.push("ofs="+xt)):xt=0:Se.push("ofs="+xt);let Qt=!0;for(let fe=0;fe<b;fe++){var $=q[fe].g;const Yn=q[fe].map;if($-=xt,$<0)xt=Math.max(0,q[fe].g-100),Qt=!1;else try{$="req"+$+"_"||"";try{var ct=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Hi,pi]of ct){let gi=pi;h(pi)&&(gi=Hs(pi)),Se.push($+Hi+"="+encodeURIComponent(gi))}}catch(Hi){throw Se.push($+"type="+encodeURIComponent("_badmap")),Hi}}catch{w&&w(Yn)}}if(Qt){ct=Se.join("&");break t}}ct=void 0}return f=f.i.splice(0,b),_.G=f,ct}function jh(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;rt||A(),at||(rt(),at=!0),R.add(_,f),f.A=0}}function ga(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Di(p(f.Da,f),Hh(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,Fh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Di(p(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xe(10),Zs(this),Fh(this))};function Tu(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function Fh(f){f.g=new ci(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=Ve(f.na);Wt(_,"RID","rpc"),Wt(_,"SID",f.M),Wt(_,"AID",f.K),Wt(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&Wt(_,"TO",f.ia),Wt(_,"TYPE","xmlhttp"),pa(f,_),f.u&&f.o&&fa(_,f.u,f.o),f.O&&(f.g.H=f.O);var b=f.g;f=f.ba,b.M=1,b.A=ua(Ve(_)),b.u=null,b.R=!0,po(b,f)}n.Va=function(){this.C!=null&&(this.C=null,Zs(this),ga(this),xe(19))};function Ao(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function qh(f,_){var b=null;if(f.g==_){Ao(f),Tu(f),f.g=null;var w=2}else if(Li(f.h,_))b=_.G,uu(f.h,_),w=1;else return;if(f.I!=0){if(_.o)if(w==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var q=f.D;w=mo(),Fe(w,new Ci(w,b)),Fi(f)}else jh(f);else if(q=_.m,q==3||q==0&&_.X>0||!(w==1&&So(f,_)||w==2&&ga(f)))switch(b&&b.length>0&&(_=f.h,_.i=_.i.concat(b)),q){case 1:qi(f,5);break;case 4:qi(f,10);break;case 3:qi(f,6);break;default:qi(f,2)}}}function Hh(f,_){let b=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(b*=2),b*_}function qi(f,_){if(f.j.info("Error code "+_),_==2){var b=p(f.bb,f),w=f.Ua;const q=!w;w=new Vn(w||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Xe(w,"https"),ua(w),q?fi(w.toString(),b):pu(w.toString(),b)}else xe(2);f.I=0,f.l&&f.l.pa(_),Gh(f),bo(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))};function Gh(f){if(f.I=0,f.ja=[],f.l){const _=cu(f.h);(_.length!=0||f.i.length!=0)&&(N(f.ja,_),N(f.ja,f.i),f.h.i.length=0,I(f.i),f.i.length=0),f.l.oa()}}function Kh(f,_,b){var w=b instanceof Vn?Ve(b):new Vn(b);if(w.g!="")_&&(w.g=_+"."+w.g),Gs(w,w.u);else{var q=u.location;w=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;const $=new Vn(null);w&&Xe($,w),_&&($.g=_),q&&Gs($,q),b&&($.h=b),w=$}return b=f.G,_=f.wa,b&&_&&Wt(w,b,_),Wt(w,"VER",f.ka),pa(f,w),w}function Yh(f,_,b){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new ie(new Bi({ab:b})):new ie(f.ma),_.Fa(f.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qh(){}n=Qh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Js(){}Js.prototype.g=function(f,_){return new gn(f,_)};function gn(f,_){Re.call(this),this.g=new Ws(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!C(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!C(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new us(this)}v(gn,Re),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){_u(this.g)},gn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.v&&(b={},b.__data__=Hs(f),f=b);_.i.push(new De(_.Ya++,f)),_.I==3&&Fi(_)},gn.prototype.N=function(){this.g.l=null,delete this.j,_u(this.g),delete this.g,gn.Z.N.call(this)};function $h(f){tn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){t:{for(const b in _){f=b;break t}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v($h,tn);function Xh(){qn.call(this),this.status=1}v(Xh,qn);function us(f){this.g=f}v(us,Qh),us.prototype.ra=function(){Fe(this.g,"a")},us.prototype.qa=function(f){Fe(this.g,new $h(f))},us.prototype.pa=function(f){Fe(this.g,new Xh)},us.prototype.oa=function(){Fe(this.g,"b")},Js.prototype.createWebChannel=Js.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,fI=function(){return new Js},hI=function(){return mo()},cI=be,Ny={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},oa.NO_ERROR=0,oa.TIMEOUT=8,oa.HTTP_ERROR=6,_d=oa,su.COMPLETE="complete",uI=su,xh.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",Re.prototype.listen=Re.prototype.J,fc=xh,ie.prototype.listenOnce=ie.prototype.K,ie.prototype.getLastError=ie.prototype.Ha,ie.prototype.getLastErrorCode=ie.prototype.ya,ie.prototype.getStatus=ie.prototype.ca,ie.prototype.getResponseJson=ie.prototype.La,ie.prototype.getResponseText=ie.prototype.la,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Fa,lI=ie}).apply(typeof nd<"u"?nd:typeof self<"u"?self:typeof window<"u"?window:{});class _n{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");let Gl="12.8.0";function FP(n){Gl=n}const to=new V_("@firebase/firestore");function ol(){return to.logLevel}function lt(n,...t){if(to.logLevel<=Bt.DEBUG){const e=t.map(j_);to.debug(`Firestore (${Gl}): ${n}`,...e)}}function vn(n,...t){if(to.logLevel<=Bt.ERROR){const e=t.map(j_);to.error(`Firestore (${Gl}): ${n}`,...e)}}function Oc(n,...t){if(to.logLevel<=Bt.WARN){const e=t.map(j_);to.warn(`Firestore (${Gl}): ${n}`,...e)}}function j_(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function mt(n,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,dI(n,s,e)}function dI(n,t,e){let s=`FIRESTORE (${Gl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw vn(s),new Error(s)}function _t(n,t,e,s){let a="Unexpected state";typeof e=="string"?a=e:s=e,n||dI(t,a,s)}function At(n,t){return n}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends zs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wi{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class qP{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class HP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(_n.UNAUTHENTICATED)))}shutdown(){}}class GP{constructor(t){this.t=t,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){_t(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,e(m)):Promise.resolve();let l=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new wi,t.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},h=m=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>h(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new wi)}}),0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((s=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(_t(typeof s.accessToken=="string",31837,{l:s}),new qP(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return _t(t===null||typeof t=="string",2055,{h:t}),new _n(t)}}class KP{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class YP{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new KP(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(_n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wS{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QP{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Si(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){_t(this.o===void 0,3512);const s=l=>{l.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,lt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const a=l=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new wS(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(_t(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new wS(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function $P(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<n;s++)e[s]=Math.floor(256*Math.random());return e}class F_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=$P(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<e&&(s+=t.charAt(a[l]%62))}return s}}function It(n,t){return n<t?-1:n>t?1:0}function Py(n,t){const e=Math.min(n.length,t.length);for(let s=0;s<e;s++){const a=n.charAt(s),l=t.charAt(s);if(a!==l)return ny(a)===ny(l)?It(a,l):ny(a)?1:-1}return It(n.length,t.length)}const XP=55296,WP=57343;function ny(n){const t=n.charCodeAt(0);return t>=XP&&t<=WP}function wl(n,t,e){return n.length===t.length&&n.every(((s,a)=>e(s,t[a])))}function mI(n){return n+"\0"}const IS="__name__";class $i{constructor(t,e,s){e===void 0?e=0:e>t.length&&mt(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&mt(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return $i.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof $i?t.forEach((s=>{e.push(s)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let a=0;a<s;a++){const l=$i.compareSegments(t.get(a),e.get(a));if(l!==0)return l}return It(t.length,e.length)}static compareSegments(t,e){const s=$i.isNumericId(t),a=$i.isNumericId(e);return s&&!a?-1:!s&&a?1:s&&a?$i.extractNumericId(t).compare($i.extractNumericId(e)):Py(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return zr.fromString(t.substring(4,t.length-2))}}class Ht extends $i{construct(t,e,s){return new Ht(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new ut(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter((a=>a.length>0)))}return new Ht(e)}static emptyPath(){return new Ht([])}}const ZP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ye extends $i{construct(t,e,s){return new ye(t,e,s)}static isValidIdentifier(t){return ZP.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IS}static keyField(){return new ye([IS])}static fromServerFormat(t){const e=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let u=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new ut(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ut(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(s+=h,a++):(l(),a++)}if(l(),u)throw new ut(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ye(e)}static emptyPath(){return new ye([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(Ht.fromString(t))}static fromName(t){return new ht(Ht.fromString(t).popFirst(5))}static empty(){return new ht(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ht.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Ht.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new Ht(t.slice()))}}function pI(n,t,e){if(!e)throw new ut(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function JP(n,t,e,s){if(t===!0&&s===!0)throw new ut(Z.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function RS(n){if(!ht.isDocumentKey(n))throw new ut(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xS(n){if(ht.isDocumentKey(n))throw new ut(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function gI(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function _m(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":mt(12329,{type:typeof n})}function Ds(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ut(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=_m(n);throw new ut(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Be(n,t){const e={typeString:n};return t&&(e.value=t),e}function lh(n,t){if(!gI(n))throw new ut(Z.INVALID_ARGUMENT,"JSON must be an object");let e;for(const s in t)if(t[s]){const a=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in n)){e=`JSON missing required field: '${s}'`;break}const u=n[s];if(a&&typeof u!==a){e=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){e=`Expected '${s}' field to equal '${l.value}'`;break}}if(e)throw new ut(Z.INVALID_ARGUMENT,e);return!0}const CS=-62135596800,DS=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(t){return te.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*DS);return new te(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<CS)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/DS}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(lh(t,te._jsonSchema))return new te(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-CS;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:Be("string",te._jsonSchemaVersion),seconds:Be("number"),nanoseconds:Be("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new te(0,0))}static max(){return new Tt(new te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const kc=-1;class Fd{constructor(t,e,s,a){this.indexId=t,this.collectionGroup=e,this.fields=s,this.indexState=a}}function Oy(n){return n.fields.find((t=>t.kind===2))}function La(n){return n.fields.filter((t=>t.kind!==2))}Fd.UNKNOWN_ID=-1;class vd{constructor(t,e){this.fieldPath=t,this.kind=e}}class Lc{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Lc(0,Fn.min())}}function tO(n,t){const e=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=Tt.fromTimestamp(s===1e9?new te(e+1,0):new te(e,s));return new Fn(a,ht.empty(),t)}function yI(n){return new Fn(n.readTime,n.key,kc)}class Fn{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new Fn(Tt.min(),ht.empty(),kc)}static max(){return new Fn(Tt.max(),ht.empty(),kc)}}function q_(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=ht.comparator(n.documentKey,t.documentKey),e!==0?e:It(n.largestBatchId,t.largestBatchId))}const _I="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function lo(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==_I)throw n;lt("LocalStore","Unexpectedly lost primary lease")}class F{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new F(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(s,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof F?e:F.resolve(e)}catch(e){return F.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):F.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):F.reject(e)}static resolve(t){return new F(((e,s)=>{e(t)}))}static reject(t){return new F(((e,s)=>{s(t)}))}static waitFor(t){return new F(((e,s)=>{let a=0,l=0,u=!1;t.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&e()}),(m=>s(m)))})),u=!0,l===a&&e()}))}static or(t){let e=F.resolve(!1);for(const s of t)e=e.next((a=>a?F.resolve(a):s()));return e}static forEach(t,e){const s=[];return t.forEach(((a,l)=>{s.push(e.call(this,a,l))})),this.waitFor(s)}static mapArray(t,e){return new F(((s,a)=>{const l=t.length,u=new Array(l);let h=0;for(let m=0;m<l;m++){const p=m;e(t[p]).next((y=>{u[p]=y,++h,h===l&&s(u)}),(y=>a(y)))}}))}static doWhile(t,e){return new F(((s,a)=>{const l=()=>{t()===!0?e().next((()=>{l()}),a):s()};l()}))}}const Bn="SimpleDb";class vm{static open(t,e,s,a){try{return new vm(e,t.transaction(a,s))}catch(l){throw new Tc(e,l)}}constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.S=new wi,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{e.error?this.S.reject(new Tc(t,e.error)):this.S.resolve()},this.transaction.onerror=s=>{const a=H_(s.target.error);this.S.reject(new Tc(t,a))}}get D(){return this.S.promise}abort(t){t&&this.S.reject(t),this.aborted||(lt(Bn,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const e=this.transaction.objectStore(t);return new nO(e)}}class jr{static delete(t){return lt(Bn,"Removing database:",t),za(gw().indexedDB.deleteDatabase(t)).toPromise()}static v(){if(!Sw())return!1;if(jr.F())return!0;const t=Ke(),e=jr.M(t),s=0<e&&e<10,a=TI(t),l=0<a&&a<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||s||l)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(t,e){return t.store(e)}static M(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(s)}constructor(t,e,s){this.name=t,this.version=e,this.N=s,this.B=null,jr.M(Ke())===12.2&&vn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(t){return this.db||(lt(Bn,"Opening database:",this.name),this.db=await new Promise(((e,s)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=l=>{const u=l.target.result;e(u)},a.onblocked=()=>{s(new Tc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const u=l.target.error;u.name==="VersionError"?s(new ut(Z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?s(new ut(Z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):s(new Tc(t,u))},a.onupgradeneeded=l=>{lt(Bn,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const u=l.target.result;this.N.k(u,a.transaction,l.oldVersion,this.version).next((()=>{lt(Bn,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=e=>this.K(e)),this.db}q(t){this.K=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,s,a){const l=e==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(t);const h=vm.open(this.db,t,l?"readonly":"readwrite",s),m=a(h).next((p=>(h.C(),p))).catch((p=>(h.abort(p),F.reject(p)))).toPromise();return m.catch((()=>{})),await h.D,m}catch(h){const m=h,p=m.name!=="FirebaseError"&&u<3;if(lt(Bn,"Transaction failed with error:",m.message,"Retrying:",p),this.close(),!p)return Promise.reject(m)}}}close(){this.db&&this.db.close(),this.db=void 0}}function TI(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}class eO{constructor(t){this.U=t,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(t){this.U=t}done(){this.$=!0}j(t){this.W=t}delete(){return za(this.U.delete())}}class Tc extends ut{constructor(t,e){super(Z.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Wr(n){return n.name==="IndexedDbTransactionError"}class nO{constructor(t){this.store=t}put(t,e){let s;return e!==void 0?(lt(Bn,"PUT",this.store.name,t,e),s=this.store.put(e,t)):(lt(Bn,"PUT",this.store.name,"<auto-key>",t),s=this.store.put(t)),za(s)}add(t){return lt(Bn,"ADD",this.store.name,t,t),za(this.store.add(t))}get(t){return za(this.store.get(t)).next((e=>(e===void 0&&(e=null),lt(Bn,"GET",this.store.name,t,e),e)))}delete(t){return lt(Bn,"DELETE",this.store.name,t),za(this.store.delete(t))}count(){return lt(Bn,"COUNT",this.store.name),za(this.store.count())}H(t,e){const s=this.options(t,e),a=s.index?this.store.index(s.index):this.store;if(typeof a.getAll=="function"){const l=a.getAll(s.range);return new F(((u,h)=>{l.onerror=m=>{h(m.target.error)},l.onsuccess=m=>{u(m.target.result)}}))}{const l=this.cursor(s),u=[];return this.J(l,((h,m)=>{u.push(m)})).next((()=>u))}}Z(t,e){const s=this.store.getAll(t,e===null?void 0:e);return new F(((a,l)=>{s.onerror=u=>{l(u.target.error)},s.onsuccess=u=>{a(u.target.result)}}))}X(t,e){lt(Bn,"DELETE ALL",this.store.name);const s=this.options(t,e);s.Y=!1;const a=this.cursor(s);return this.J(a,((l,u,h)=>h.delete()))}ee(t,e){let s;e?s=t:(s={},e=t);const a=this.cursor(s);return this.J(a,e)}te(t){const e=this.cursor({});return new F(((s,a)=>{e.onerror=l=>{const u=H_(l.target.error);a(u)},e.onsuccess=l=>{const u=l.target.result;u?t(u.primaryKey,u.value).next((h=>{h?u.continue():s()})):s()}}))}J(t,e){const s=[];return new F(((a,l)=>{t.onerror=u=>{l(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void a();const m=new eO(h),p=e(h.primaryKey,h.value,m);if(p instanceof F){const y=p.catch((v=>(m.done(),F.reject(v))));s.push(y)}m.isDone?a():m.G===null?h.continue():h.continue(m.G)}})).next((()=>F.waitFor(s)))}options(t,e){let s;return t!==void 0&&(typeof t=="string"?s=t:e=t),{index:s,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const s=this.store.index(t.index);return t.Y?s.openKeyCursor(t.range,e):s.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function za(n){return new F(((t,e)=>{n.onsuccess=s=>{const a=s.target.result;t(a)},n.onerror=s=>{const a=H_(s.target.error);e(a)}}))}let VS=!1;function H_(n){const t=jr.M(Ke());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const s=new ut("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return VS||(VS=!0,setTimeout((()=>{throw s}),0)),s}}return n}const Ec="IndexBackfiller";class iO{constructor(t,e){this.asyncQueue=t,this.ne=e,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(t){lt(Ec,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(async()=>{this.task=null;try{const e=await this.ne.ie();lt(Ec,`Documents written: ${e}`)}catch(e){Wr(e)?lt(Ec,"Ignoring IndexedDB error during index backfill: ",e):await lo(e)}await this.re(6e4)}))}}class sO{constructor(t,e){this.localStore=t,this.persistence=e}async ie(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(e=>this.se(e,t)))}se(t,e){const s=new Set;let a=e,l=!0;return F.doWhile((()=>l===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next((u=>{if(u!==null&&!s.has(u))return lt(Ec,`Processing collection: ${u}`),this.oe(t,u,a).next((h=>{a-=h,s.add(u)}));l=!1})))).next((()=>e-a))}oe(t,e,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next((a=>this.localStore.localDocuments.getNextDocuments(t,e,a,s).next((l=>{const u=l.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next((()=>this._e(a,l))).next((h=>(lt(Ec,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h)))).next((()=>u.size))}))))}_e(t,e){let s=t;return e.changes.forEach(((a,l)=>{const u=yI(l);q_(u,s)>0&&(s=u)})),new Fn(s.readTime,s.documentKey,Math.max(e.batchId,t.largestBatchId))}}class si{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>e.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}si.ce=-1;const Ya=-1;function uh(n){return n==null}function Uc(n){return n===0&&1/n==-1/0}function rO(n){return typeof n=="number"&&Number.isInteger(n)&&!Uc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const qd="";function mn(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=MS(t)),t=aO(n.get(e),t);return MS(t)}function aO(n,t){let e=t;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":e+="";break;case qd:e+="";break;default:e+=l}}return e}function MS(n){return n+qd+""}function Wi(n){const t=n.length;if(_t(t>=2,64408,{path:n}),t===2)return _t(n.charAt(0)===qd&&n.charAt(1)==="",56145,{path:n}),Ht.emptyPath();const e=t-2,s=[];let a="";for(let l=0;l<t;){const u=n.indexOf(qd,l);switch((u<0||u>e)&&mt(50515,{path:n}),n.charAt(u+1)){case"":const h=n.substring(l,u);let m;a.length===0?m=h:(a+=h,m=a,a=""),s.push(m);break;case"":a+=n.substring(l,u),a+="\0";break;case"":a+=n.substring(l,u+1);break;default:mt(61167,{path:n})}l=u+2}return new Ht(s)}const Ua="remoteDocuments",ch="owner",el="owner",Bc="mutationQueues",oO="userId",bi="mutations",NS="batchId",Ha="userMutationsIndex",PS=["userId","batchId"];function Td(n,t){return[n,mn(t)]}function EI(n,t,e){return[n,mn(t),e]}const lO={},Il="documentMutations",Hd="remoteDocumentsV14",uO=["prefixPath","collectionGroup","readTime","documentId"],Ed="documentKeyIndex",cO=["prefixPath","collectionGroup","documentId"],bI="collectionGroupIndex",hO=["collectionGroup","readTime","prefixPath","documentId"],zc="remoteDocumentGlobal",ky="remoteDocumentGlobalKey",Rl="targets",SI="queryTargetsIndex",fO=["canonicalId","targetId"],xl="targetDocuments",dO=["targetId","path"],G_="documentTargetsIndex",mO=["path","targetId"],Gd="targetGlobalKey",Qa="targetGlobal",jc="collectionParents",pO=["collectionId","parent"],Cl="clientMetadata",gO="clientId",Tm="bundles",yO="bundleId",Em="namedQueries",_O="name",K_="indexConfiguration",vO="indexId",Ly="collectionGroupIndex",TO="collectionGroup",bc="indexState",EO=["indexId","uid"],AI="sequenceNumberIndex",bO=["uid","sequenceNumber"],Sc="indexEntries",SO=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],wI="documentKeyIndex",AO=["indexId","uid","orderedDocumentKey"],bm="documentOverlays",wO=["userId","collectionPath","documentId"],Uy="collectionPathOverlayIndex",IO=["userId","collectionPath","largestBatchId"],II="collectionGroupOverlayIndex",RO=["userId","collectionGroup","largestBatchId"],Y_="globals",xO="name",RI=[Bc,bi,Il,Ua,Rl,ch,Qa,xl,Cl,zc,jc,Tm,Em],CO=[...RI,bm],xI=[Bc,bi,Il,Hd,Rl,ch,Qa,xl,Cl,zc,jc,Tm,Em,bm],CI=xI,Q_=[...CI,K_,bc,Sc],DO=Q_,DI=[...Q_,Y_],VO=DI;class By extends vI{constructor(t,e){super(),this.le=t,this.currentSequenceNumber=e}}function Qe(n,t){const e=At(n);return jr.O(e.le,t)}function OS(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Zr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function VI(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ge{constructor(t,e){this.comparator=t,this.root=e||ln.EMPTY}insert(t,e){return new ge(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ln.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return e+s.left.size;a<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,s)=>(t(e,s),!1)))}toString(){const t=[];return this.inorderTraversal(((e,s)=>(t.push(`${e}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new id(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new id(this.root,t,this.comparator,!1)}getReverseIterator(){return new id(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new id(this.root,t,this.comparator,!0)}}class id{constructor(t,e,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?s(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ln{constructor(t,e,s,a,l){this.key=t,this.value=e,this.color=s??ln.RED,this.left=a??ln.EMPTY,this.right=l??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,a,l){return new ln(t??this.key,e??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,s),null):l===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return ln.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,e,s,a,l){return this}insert(t,e,s){return new ln(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ne{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,s)=>(t(e),!1)))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new kS(this.data.getIterator())}getIteratorFrom(t){return new kS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((s=>{e=e.add(s)})),e}isEqual(t){if(!(t instanceof ne)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new ne(this.comparator);return e.data=t,e}}class kS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function nl(n){return n.hasNext()?n.getNext():void 0}class Cn{constructor(t){this.fields=t,t.sort(ye.comparator)}static empty(){return new Cn([])}unionWith(t){let e=new ne(ye.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new Cn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return wl(this.fields,t.fields,((e,s)=>e.isEqual(s)))}}class MI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ze{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new MI("Invalid base64 string: "+l):l}})(t);return new ze(e)}static fromUint8Array(t){const e=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(t);return new ze(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const s=new Uint8Array(e.length);for(let a=0;a<e.length;a++)s[a]=e.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ze.EMPTY_BYTE_STRING=new ze("");const MO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ks(n){if(_t(!!n,39018),typeof n=="string"){let t=0;const e=MO.exec(n);if(_t(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:me(n.seconds),nanos:me(n.nanos)}}function me(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ls(n){return typeof n=="string"?ze.fromBase64String(n):ze.fromUint8Array(n)}const NI="server_timestamp",PI="__type__",OI="__previous_value__",kI="__local_write_time__";function $_(n){return(n?.mapValue?.fields||{})[PI]?.stringValue===NI}function Sm(n){const t=n.mapValue.fields[OI];return $_(t)?Sm(t):t}function Fc(n){const t=ks(n.mapValue.fields[kI].timestampValue);return new te(t.seconds,t.nanos)}class NO{constructor(t,e,s,a,l,u,h,m,p,y,v){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=v}}const Kd="(default)";class eo{constructor(t,e){this.projectId=t,this.database=e||Kd}static empty(){return new eo("","")}get isDefaultDatabase(){return this.database===Kd}isEqual(t){return t instanceof eo&&t.projectId===this.projectId&&t.database===this.database}}function PO(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ut(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eo(n.options.projectId,t)}const X_="__type__",LI="__max__",Nr={mapValue:{fields:{__type__:{stringValue:LI}}}},W_="__vector__",Dl="value",bd={nullValue:"NULL_VALUE"};function Gr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$_(n)?4:UI(n)?9007199254740991:Am(n)?10:11:mt(28295,{value:n})}function ss(n,t){if(n===t)return!0;const e=Gr(n);if(e!==Gr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Fc(n).isEqual(Fc(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=ks(a.timestampValue),h=ks(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,l){return Ls(a.bytesValue).isEqual(Ls(l.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,l){return me(a.geoPointValue.latitude)===me(l.geoPointValue.latitude)&&me(a.geoPointValue.longitude)===me(l.geoPointValue.longitude)})(n,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return me(a.integerValue)===me(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=me(a.doubleValue),h=me(l.doubleValue);return u===h?Uc(u)===Uc(h):isNaN(u)&&isNaN(h)}return!1})(n,t);case 9:return wl(n.arrayValue.values||[],t.arrayValue.values||[],ss);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(OS(u)!==OS(h))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(h[m]===void 0||!ss(u[m],h[m])))return!1;return!0})(n,t);default:return mt(52216,{left:n})}}function qc(n,t){return(n.values||[]).find((e=>ss(e,t)))!==void 0}function Kr(n,t){if(n===t)return 0;const e=Gr(n),s=Gr(t);if(e!==s)return It(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return It(n.booleanValue,t.booleanValue);case 2:return(function(l,u){const h=me(l.integerValue||l.doubleValue),m=me(u.integerValue||u.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1})(n,t);case 3:return LS(n.timestampValue,t.timestampValue);case 4:return LS(Fc(n),Fc(t));case 5:return Py(n.stringValue,t.stringValue);case 6:return(function(l,u){const h=Ls(l),m=Ls(u);return h.compareTo(m)})(n.bytesValue,t.bytesValue);case 7:return(function(l,u){const h=l.split("/"),m=u.split("/");for(let p=0;p<h.length&&p<m.length;p++){const y=It(h[p],m[p]);if(y!==0)return y}return It(h.length,m.length)})(n.referenceValue,t.referenceValue);case 8:return(function(l,u){const h=It(me(l.latitude),me(u.latitude));return h!==0?h:It(me(l.longitude),me(u.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return US(n.arrayValue,t.arrayValue);case 10:return(function(l,u){const h=l.fields||{},m=u.fields||{},p=h[Dl]?.arrayValue,y=m[Dl]?.arrayValue,v=It(p?.values?.length||0,y?.values?.length||0);return v!==0?v:US(p,y)})(n.mapValue,t.mapValue);case 11:return(function(l,u){if(l===Nr.mapValue&&u===Nr.mapValue)return 0;if(l===Nr.mapValue)return 1;if(u===Nr.mapValue)return-1;const h=l.fields||{},m=Object.keys(h),p=u.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let v=0;v<m.length&&v<y.length;++v){const E=Py(m[v],y[v]);if(E!==0)return E;const I=Kr(h[m[v]],p[y[v]]);if(I!==0)return I}return It(m.length,y.length)})(n.mapValue,t.mapValue);default:throw mt(23264,{he:e})}}function LS(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return It(n,t);const e=ks(n),s=ks(t),a=It(e.seconds,s.seconds);return a!==0?a:It(e.nanos,s.nanos)}function US(n,t){const e=n.values||[],s=t.values||[];for(let a=0;a<e.length&&a<s.length;++a){const l=Kr(e[a],s[a]);if(l)return l}return It(e.length,s.length)}function Vl(n){return zy(n)}function zy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const s=ks(e);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Ls(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return ht.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let s="[",a=!0;for(const l of e.values||[])a?a=!1:s+=",",s+=zy(l);return s+"]"})(n.arrayValue):"mapValue"in n?(function(e){const s=Object.keys(e.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${zy(e.fields[u])}`;return a+"}"})(n.mapValue):mt(61005,{value:n})}function Sd(n){switch(Gr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Sm(n);return t?16+Sd(t):16;case 5:return 2*n.stringValue.length;case 6:return Ls(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Sd(l)),0)})(n.arrayValue);case 10:case 11:return(function(s){let a=0;return Zr(s.fields,((l,u)=>{a+=l.length+Sd(u)})),a})(n.mapValue);default:throw mt(13486,{value:n})}}function Hc(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function jy(n){return!!n&&"integerValue"in n}function Gc(n){return!!n&&"arrayValue"in n}function BS(n){return!!n&&"nullValue"in n}function zS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ad(n){return!!n&&"mapValue"in n}function Am(n){return(n?.mapValue?.fields||{})[X_]?.stringValue===W_}function Ac(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Zr(n.mapValue.fields,((e,s)=>t.mapValue.fields[e]=Ac(s))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Ac(n.arrayValue.values[e]);return t}return{...n}}function UI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===LI}const BI={mapValue:{fields:{[X_]:{stringValue:W_},[Dl]:{arrayValue:{}}}}};function OO(n){return"nullValue"in n?bd:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Hc(eo.empty(),ht.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Am(n)?BI:{mapValue:{}}:mt(35942,{value:n})}function kO(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Hc(eo.empty(),ht.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?BI:"mapValue"in n?Am(n)?{mapValue:{}}:Nr:mt(61959,{value:n})}function jS(n,t){const e=Kr(n.value,t.value);return e!==0?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function FS(n,t){const e=Kr(n.value,t.value);return e!==0?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class un{constructor(t){this.value=t}static empty(){return new un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!Ad(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ac(e)}setAll(t){let e=ye.emptyPath(),s={},a=[];t.forEach(((u,h)=>{if(!e.isImmediateParentOf(h)){const m=this.getFieldsMap(e);this.applyChanges(m,s,a),s={},a=[],e=h.popLast()}u?s[h.lastSegment()]=Ac(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(e);this.applyChanges(l,s,a)}delete(t){const e=this.field(t.popLast());Ad(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ss(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=e.mapValue.fields[t.get(s)];Ad(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,s){Zr(e,((a,l)=>t[a]=l));for(const a of s)delete t[a]}clone(){return new un(Ac(this.value))}}function zI(n){const t=[];return Zr(n.fields,((e,s)=>{const a=new ye([e]);if(Ad(s)){const l=zI(s.mapValue).fields;if(l.length===0)t.push(a);else for(const u of l)t.push(a.child(u))}else t.push(a)})),new Cn(t)}class pe{constructor(t,e,s,a,l,u,h){this.key=t,this.documentType=e,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(t){return new pe(t,0,Tt.min(),Tt.min(),Tt.min(),un.empty(),0)}static newFoundDocument(t,e,s,a){return new pe(t,1,e,Tt.min(),s,a,0)}static newNoDocument(t,e){return new pe(t,2,e,Tt.min(),Tt.min(),un.empty(),0)}static newUnknownDocument(t,e){return new pe(t,3,e,Tt.min(),Tt.min(),un.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof pe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new pe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ml{constructor(t,e){this.position=t,this.inclusive=e}}function qS(n,t,e){let s=0;for(let a=0;a<n.position.length;a++){const l=t[a],u=n.position[a];if(l.field.isKeyField()?s=ht.comparator(ht.fromName(u.referenceValue),e.key):s=Kr(u,e.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function HS(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ss(n.position[e],t.position[e]))return!1;return!0}class Kc{constructor(t,e="asc"){this.field=t,this.dir=e}}function LO(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class jI{}class zt extends jI{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new UO(t,e,s):e==="array-contains"?new jO(t,s):e==="in"?new YI(t,s):e==="not-in"?new FO(t,s):e==="array-contains-any"?new qO(t,s):new zt(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new BO(t,s):new zO(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Kr(e,this.value)):e!==null&&Gr(this.value)===Gr(e)&&this.matchesComparison(Kr(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ee extends jI{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new ee(t,e)}matches(t){return Nl(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Nl(n){return n.op==="and"}function Fy(n){return n.op==="or"}function Z_(n){return FI(n)&&Nl(n)}function FI(n){for(const t of n.filters)if(t instanceof ee)return!1;return!0}function qy(n){if(n instanceof zt)return n.field.canonicalString()+n.op.toString()+Vl(n.value);if(Z_(n))return n.filters.map((t=>qy(t))).join(",");{const t=n.filters.map((e=>qy(e))).join(",");return`${n.op}(${t})`}}function qI(n,t){return n instanceof zt?(function(s,a){return a instanceof zt&&s.op===a.op&&s.field.isEqual(a.field)&&ss(s.value,a.value)})(n,t):n instanceof ee?(function(s,a){return a instanceof ee&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,h)=>l&&qI(u,a.filters[h])),!0):!1})(n,t):void mt(19439)}function HI(n,t){const e=n.filters.concat(t);return ee.create(e,n.op)}function GI(n){return n instanceof zt?(function(e){return`${e.field.canonicalString()} ${e.op} ${Vl(e.value)}`})(n):n instanceof ee?(function(e){return e.op.toString()+" {"+e.getFilters().map(GI).join(" ,")+"}"})(n):"Filter"}class UO extends zt{constructor(t,e,s){super(t,e,s),this.key=ht.fromName(s.referenceValue)}matches(t){const e=ht.comparator(t.key,this.key);return this.matchesComparison(e)}}class BO extends zt{constructor(t,e){super(t,"in",e),this.keys=KI("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class zO extends zt{constructor(t,e){super(t,"not-in",e),this.keys=KI("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function KI(n,t){return(t.arrayValue?.values||[]).map((e=>ht.fromName(e.referenceValue)))}class jO extends zt{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Gc(e)&&qc(e.arrayValue,this.value)}}class YI extends zt{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&qc(this.value.arrayValue,e)}}class FO extends zt{constructor(t,e){super(t,"not-in",e)}matches(t){if(qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!qc(this.value.arrayValue,e)}}class qO extends zt{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Gc(e)||!e.arrayValue.values)&&e.arrayValue.values.some((s=>qc(this.value.arrayValue,s)))}}class HO{constructor(t,e=null,s=[],a=[],l=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function Hy(n,t=null,e=[],s=[],a=null,l=null,u=null){return new HO(n,t,e,s,a,l,u)}function no(n){const t=At(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((s=>qy(s))).join(","),e+="|ob:",e+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),uh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((s=>Vl(s))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((s=>Vl(s))).join(",")),t.Te=e}return t.Te}function hh(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!LO(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!qI(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!HS(n.startAt,t.startAt)&&HS(n.endAt,t.endAt)}function Yd(n){return ht.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Qd(n,t){return n.filters.filter((e=>e instanceof zt&&e.field.isEqual(t)))}function GS(n,t,e){let s=bd,a=!0;for(const l of Qd(n,t)){let u=bd,h=!0;switch(l.op){case"<":case"<=":u=OO(l.value);break;case"==":case"in":case">=":u=l.value;break;case">":u=l.value,h=!1;break;case"!=":case"not-in":u=bd}jS({value:s,inclusive:a},{value:u,inclusive:h})<0&&(s=u,a=h)}if(e!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const u=e.position[l];jS({value:s,inclusive:a},{value:u,inclusive:e.inclusive})<0&&(s=u,a=e.inclusive);break}}return{value:s,inclusive:a}}function KS(n,t,e){let s=Nr,a=!0;for(const l of Qd(n,t)){let u=Nr,h=!0;switch(l.op){case">=":case">":u=kO(l.value),h=!1;break;case"==":case"in":case"<=":u=l.value;break;case"<":u=l.value,h=!1;break;case"!=":case"not-in":u=Nr}FS({value:s,inclusive:a},{value:u,inclusive:h})>0&&(s=u,a=h)}if(e!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const u=e.position[l];FS({value:s,inclusive:a},{value:u,inclusive:e.inclusive})>0&&(s=u,a=e.inclusive);break}}return{value:s,inclusive:a}}class Kl{constructor(t,e=null,s=[],a=[],l=null,u="F",h=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function GO(n,t,e,s,a,l,u,h){return new Kl(n,t,e,s,a,l,u,h)}function fh(n){return new Kl(n)}function YS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function KO(n){return ht.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function QI(n){return n.collectionGroup!==null}function wc(n){const t=At(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),e.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new ne(ye.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(t).forEach((l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Kc(l,s))})),e.has(ye.keyField().canonicalString())||t.Ie.push(new Kc(ye.keyField(),s))}return t.Ie}function ai(n){const t=At(n);return t.Ee||(t.Ee=YO(t,wc(n))),t.Ee}function YO(n,t){if(n.limitType==="F")return Hy(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Kc(a.field,l)}));const e=n.endAt?new Ml(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Ml(n.startAt.position,n.startAt.inclusive):null;return Hy(n.path,n.collectionGroup,t,n.filters,n.limit,e,s)}}function Gy(n,t){const e=n.filters.concat([t]);return new Kl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function QO(n,t){const e=n.explicitOrderBy.concat([t]);return new Kl(n.path,n.collectionGroup,e,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function Ky(n,t,e){return new Kl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function wm(n,t){return hh(ai(n),ai(t))&&n.limitType===t.limitType}function $I(n){return`${no(ai(n))}|lt:${n.limitType}`}function ll(n){return`Query(target=${(function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map((a=>GI(a))).join(", ")}]`),uh(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((a=>Vl(a))).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((a=>Vl(a))).join(",")),`Target(${s})`})(ai(n))}; limitType=${n.limitType})`}function dh(n,t){return t.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ht.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(n,t)&&(function(s,a){for(const l of wc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,t)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(n,t)&&(function(s,a){return!(s.startAt&&!(function(u,h,m){const p=qS(u,h,m);return u.inclusive?p<=0:p<0})(s.startAt,wc(s),a)||s.endAt&&!(function(u,h,m){const p=qS(u,h,m);return u.inclusive?p>=0:p>0})(s.endAt,wc(s),a))})(n,t)}function $O(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function XI(n){return(t,e)=>{let s=!1;for(const a of wc(n)){const l=XO(a,t,e);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function XO(n,t,e){const s=n.field.isKeyField()?ht.comparator(t.key,e.key):(function(l,u,h){const m=u.data.field(l),p=h.data.field(l);return m!==null&&p!==null?Kr(m,p):mt(42886)})(n.field,t,e);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return mt(19790,{direction:n.dir})}}class js{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[e]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Zr(this.inner,((e,s)=>{for(const[a,l]of s)t(a,l)}))}isEmpty(){return VI(this.inner)}size(){return this.innerSize}}const WO=new ge(ht.comparator);function jn(){return WO}const WI=new ge(ht.comparator);function dc(...n){let t=WI;for(const e of n)t=t.insert(e.key,e);return t}function ZI(n){let t=WI;return n.forEach(((e,s)=>t=t.insert(e,s.overlayedDocument))),t}function Zi(){return Ic()}function JI(){return Ic()}function Ic(){return new js((n=>n.toString()),((n,t)=>n.isEqual(t)))}const ZO=new ge(ht.comparator),JO=new ne(ht.comparator);function Nt(...n){let t=JO;for(const e of n)t=t.add(e);return t}const tk=new ne(It);function ek(){return tk}function J_(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uc(t)?"-0":t}}function tR(n){return{integerValue:""+n}}function nk(n,t){return rO(t)?tR(t):J_(n,t)}class Im{constructor(){this._=void 0}}function ik(n,t,e){return n instanceof Pl?(function(a,l){const u={fields:{[PI]:{stringValue:NI},[kI]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&$_(l)&&(l=Sm(l)),l&&(u.fields[OI]=l),{mapValue:u}})(e,t):n instanceof Ol?nR(n,t):n instanceof kl?iR(n,t):(function(a,l){const u=eR(a,l),h=QS(u)+QS(a.Ae);return jy(u)&&jy(a.Ae)?tR(h):J_(a.serializer,h)})(n,t)}function sk(n,t,e){return n instanceof Ol?nR(n,t):n instanceof kl?iR(n,t):e}function eR(n,t){return n instanceof Yc?(function(s){return jy(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class Pl extends Im{}class Ol extends Im{constructor(t){super(),this.elements=t}}function nR(n,t){const e=sR(t);for(const s of n.elements)e.some((a=>ss(a,s)))||e.push(s);return{arrayValue:{values:e}}}class kl extends Im{constructor(t){super(),this.elements=t}}function iR(n,t){let e=sR(t);for(const s of n.elements)e=e.filter((a=>!ss(a,s)));return{arrayValue:{values:e}}}class Yc extends Im{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function QS(n){return me(n.integerValue||n.doubleValue)}function sR(n){return Gc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class rR{constructor(t,e){this.field=t,this.transform=e}}function rk(n,t){return n.field.isEqual(t.field)&&(function(s,a){return s instanceof Ol&&a instanceof Ol||s instanceof kl&&a instanceof kl?wl(s.elements,a.elements,ss):s instanceof Yc&&a instanceof Yc?ss(s.Ae,a.Ae):s instanceof Pl&&a instanceof Pl})(n.transform,t.transform)}class ak{constructor(t,e){this.version=t,this.transformResults=e}}class Ue{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ue}static exists(t){return new Ue(void 0,t)}static updateTime(t){return new Ue(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function wd(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Rm{}function aR(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new mh(n.key,Ue.none()):new Yl(n.key,n.data,Ue.none());{const e=n.data,s=un.empty();let a=new ne(ye.comparator);for(let l of t.fields)if(!a.has(l)){let u=e.field(l);u===null&&l.length>1&&(l=l.popLast(),u=e.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Fs(n.key,s,new Cn(a.toArray()),Ue.none())}}function ok(n,t,e){n instanceof Yl?(function(a,l,u){const h=a.value.clone(),m=XS(a.fieldTransforms,l,u.transformResults);h.setAll(m),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,t,e):n instanceof Fs?(function(a,l,u){if(!wd(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=XS(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(oR(a)),m.setAll(h),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(n,t,e):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,t,e)}function Rc(n,t,e,s){return n instanceof Yl?(function(l,u,h,m){if(!wd(l.precondition,u))return h;const p=l.value.clone(),y=WS(l.fieldTransforms,m,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,t,e,s):n instanceof Fs?(function(l,u,h,m){if(!wd(l.precondition,u))return h;const p=WS(l.fieldTransforms,m,u),y=u.data;return y.setAll(oR(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(n,t,e,s):(function(l,u,h){return wd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,t,e)}function lk(n,t){let e=null;for(const s of n.fieldTransforms){const a=t.data.field(s.field),l=eR(s.transform,a||null);l!=null&&(e===null&&(e=un.empty()),e.set(s.field,l))}return e||null}function $S(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&wl(s,a,((l,u)=>rk(l,u)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Yl extends Rm{constructor(t,e,s,a=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Fs extends Rm{constructor(t,e,s,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function oR(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const s=n.data.field(e);t.set(e,s)}})),t}function XS(n,t,e){const s=new Map;_t(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let a=0;a<e.length;a++){const l=n[a],u=l.transform,h=t.data.field(l.field);s.set(l.field,sk(u,h,e[a]))}return s}function WS(n,t,e){const s=new Map;for(const a of n){const l=a.transform,u=e.data.field(a.field);s.set(a.field,ik(l,u,t))}return s}class mh extends Rm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tv extends Rm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ev{constructor(t,e,s,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&ok(l,t,s[a])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=Rc(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=Rc(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=JI();return this.mutations.forEach((a=>{const l=t.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=e.has(a.key)?null:h;const m=aR(u,h);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Tt.min())})),s}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Nt())}isEqual(t){return this.batchId===t.batchId&&wl(this.mutations,t.mutations,((e,s)=>$S(e,s)))&&wl(this.baseMutations,t.baseMutations,((e,s)=>$S(e,s)))}}class nv{constructor(t,e,s,a){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=a}static from(t,e,s){_t(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let a=(function(){return ZO})();const l=t.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new nv(t,e,s,a)}}class iv{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class uk{constructor(t,e){this.count=t,this.unchangedNames=e}}var ke,qt;function lR(n){switch(n){case Z.OK:return mt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return mt(15467,{code:n})}}function uR(n){if(n===void 0)return vn("GRPC error has no .code"),Z.UNKNOWN;switch(n){case ke.OK:return Z.OK;case ke.CANCELLED:return Z.CANCELLED;case ke.UNKNOWN:return Z.UNKNOWN;case ke.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case ke.INTERNAL:return Z.INTERNAL;case ke.UNAVAILABLE:return Z.UNAVAILABLE;case ke.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case ke.NOT_FOUND:return Z.NOT_FOUND;case ke.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case ke.ABORTED:return Z.ABORTED;case ke.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case ke.DATA_LOSS:return Z.DATA_LOSS;default:return mt(39323,{code:n})}}(qt=ke||(ke={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function ck(){return new TextEncoder}const hk=new zr([4294967295,4294967295],0);function ZS(n){const t=ck().encode(n),e=new oI;return e.update(t),new Uint8Array(e.digest())}function JS(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new zr([e,s],0),new zr([a,l],0)]}class sv{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new mc(`Invalid padding: ${e}`);if(s<0)throw new mc(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new mc(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new mc(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=zr.fromNumber(this.ge)}ye(t,e,s){let a=t.add(e.multiply(zr.fromNumber(s)));return a.compare(hk)===1&&(a=new zr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=ZS(t),[s,a]=JS(e);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(t,e,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),u=new sv(l,a,e);return s.forEach((h=>u.insert(h))),u}insert(t){if(this.ge===0)return;const e=ZS(t),[s,a]=JS(e);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.be(u)}}be(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xm{constructor(t,e,s,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const a=new Map;return a.set(t,ph.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new xm(Tt.min(),a,new ge(It),jn(),Nt())}}class ph{constructor(t,e,s,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new ph(s,e,Nt(),Nt(),Nt())}}class Id{constructor(t,e,s,a){this.Se=t,this.removedTargetIds=e,this.key=s,this.De=a}}class cR{constructor(t,e){this.targetId=t,this.Ce=e}}class hR{constructor(t,e,s=ze.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=a}}class tA{constructor(){this.ve=0,this.Fe=eA(),this.Me=ze.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Nt(),e=Nt(),s=Nt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:s=s.add(a);break;default:mt(38017,{changeType:l})}})),new ph(this.Me,this.xe,t,e,s)}Ke(){this.Oe=!1,this.Fe=eA()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,_t(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class fk{constructor(t){this.Ge=t,this.ze=new Map,this.je=jn(),this.He=sd(),this.Je=sd(),this.Ze=new ge(It)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const s=this.nt(e);switch(t.state){case 0:this.rt(e)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),s.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((s,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,s=t.Ce.count,a=this.ot(e);if(a){const l=a.target;if(Yd(l))if(s===0){const u=new ht(l.path);this.et(e,u,pe.newNoDocument(u,Tt.min()))}else _t(s===1,20013,{expectedCount:s});else{const u=this._t(e);if(u!==s){const h=this.ut(t),m=h?this.ct(h,t,u):1;if(m!==0){this.it(e);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,p)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=e;let u,h;try{u=Ls(s).toUint8Array()}catch(m){if(m instanceof MI)return Oc("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new sv(u,a,l)}catch(m){return Oc(m instanceof mc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.ge===0?null:h}ct(t,e,s){return e.Ce.count===s-this.Pt(t,e.targetId)?0:2}Pt(t,e){const s=this.Ge.getRemoteKeysForTarget(e);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;t.mightContain(h)||(this.et(e,l,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&Yd(h.target)){const m=new ht(h.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,pe.newNoDocument(m,t))}l.Be&&(e.set(u,l.ke()),l.Ke())}}));let s=Nt();this.Je.forEach(((l,u)=>{let h=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(t)));const a=new xm(t,e,this.Ze,this.je,s);return this.je=jn(),this.He=sd(),this.Je=sd(),this.Ze=new ge(It),a}Ye(t,e){if(!this.rt(t))return;const s=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,s),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,s){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.qe(e,1):a.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),s&&(this.je=this.je.insert(e,s))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new tA,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new ne(It),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new ne(It),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||lt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new tA),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function sd(){return new ge(ht.comparator)}function eA(){return new ge(ht.comparator)}const dk={asc:"ASCENDING",desc:"DESCENDING"},mk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pk={and:"AND",or:"OR"};class gk{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Yy(n,t){return n.useProto3Json||uh(t)?t:{value:t}}function Ll(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fR(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function yk(n,t){return Ll(n,t.toTimestamp())}function Je(n){return _t(!!n,49232),Tt.fromTimestamp((function(e){const s=ks(e);return new te(s.seconds,s.nanos)})(n))}function rv(n,t){return Qy(n,t).canonicalString()}function Qy(n,t){const e=(function(a){return new Ht(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function dR(n){const t=Ht.fromString(n);return _t(bR(t),10190,{key:t.toString()}),t}function Qc(n,t){return rv(n.databaseId,t.path)}function Vs(n,t){const e=dR(t);if(e.get(1)!==n.databaseId.projectId)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new ht(gR(e))}function mR(n,t){return rv(n.databaseId,t)}function pR(n){const t=dR(n);return t.length===4?Ht.emptyPath():gR(t)}function $y(n){return new Ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function gR(n){return _t(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function nA(n,t,e){return{name:Qc(n,t),fields:e.value.mapValue.fields}}function _k(n,t,e){const s=Vs(n,t.name),a=Je(t.updateTime),l=t.createTime?Je(t.createTime):Tt.min(),u=new un({mapValue:{fields:t.fields}}),h=pe.newFoundDocument(s,a,l,u);return e&&h.setHasCommittedMutations(),e?h.setHasCommittedMutations():h}function vk(n,t){return"found"in t?(function(s,a){_t(!!a.found,43571),a.found.name,a.found.updateTime;const l=Vs(s,a.found.name),u=Je(a.found.updateTime),h=a.found.createTime?Je(a.found.createTime):Tt.min(),m=new un({mapValue:{fields:a.found.fields}});return pe.newFoundDocument(l,u,h,m)})(n,t):"missing"in t?(function(s,a){_t(!!a.missing,3894),_t(!!a.readTime,22933);const l=Vs(s,a.missing),u=Je(a.readTime);return pe.newNoDocument(l,u)})(n,t):mt(7234,{result:t})}function Tk(n,t){let e;if("targetChange"in t){t.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:mt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(_t(y===void 0||typeof y=="string",58123),ze.fromBase64String(y||"")):(_t(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),ze.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&(function(p){const y=p.code===void 0?Z.UNKNOWN:uR(p.code);return new ut(y,p.message||"")})(u);e=new hR(s,a,l,h||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=Vs(n,s.document.name),l=Je(s.document.updateTime),u=s.document.createTime?Je(s.document.createTime):Tt.min(),h=new un({mapValue:{fields:s.document.fields}}),m=pe.newFoundDocument(a,l,u,h),p=s.targetIds||[],y=s.removedTargetIds||[];e=new Id(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=Vs(n,s.document),l=s.readTime?Je(s.readTime):Tt.min(),u=pe.newNoDocument(a,l),h=s.removedTargetIds||[];e=new Id([],h,u.key,u)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=Vs(n,s.document),l=s.removedTargetIds||[];e=new Id([],l,a,null)}else{if(!("filter"in t))return mt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new uk(a,l),h=s.targetId;e=new cR(h,u)}}return e}function $c(n,t){let e;if(t instanceof Yl)e={update:nA(n,t.key,t.value)};else if(t instanceof mh)e={delete:Qc(n,t.key)};else if(t instanceof Fs)e={update:nA(n,t.key,t.data),updateMask:Ik(t.fieldMask)};else{if(!(t instanceof tv))return mt(16599,{dt:t.type});e={verify:Qc(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((s=>(function(l,u){const h=u.transform;if(h instanceof Pl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ol)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof kl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Yc)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw mt(20930,{transform:u.transform})})(0,s)))),t.precondition.isNone||(e.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:yk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:mt(27497)})(n,t.precondition)),e}function Xy(n,t){const e=t.currentDocument?(function(l){return l.updateTime!==void 0?Ue.updateTime(Je(l.updateTime)):l.exists!==void 0?Ue.exists(l.exists):Ue.none()})(t.currentDocument):Ue.none(),s=t.updateTransforms?t.updateTransforms.map((a=>(function(u,h){let m=null;if("setToServerValue"in h)_t(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),m=new Pl;else if("appendMissingElements"in h){const y=h.appendMissingElements.values||[];m=new Ol(y)}else if("removeAllFromArray"in h){const y=h.removeAllFromArray.values||[];m=new kl(y)}else"increment"in h?m=new Yc(u,h.increment):mt(16584,{proto:h});const p=ye.fromServerFormat(h.fieldPath);return new rR(p,m)})(n,a))):[];if(t.update){t.update.name;const a=Vs(n,t.update.name),l=new un({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=(function(m){const p=m.fieldPaths||[];return new Cn(p.map((y=>ye.fromServerFormat(y))))})(t.updateMask);return new Fs(a,l,u,e,s)}return new Yl(a,l,e,s)}if(t.delete){const a=Vs(n,t.delete);return new mh(a,e)}if(t.verify){const a=Vs(n,t.verify);return new tv(a,e)}return mt(1463,{proto:t})}function Ek(n,t){return n&&n.length>0?(_t(t!==void 0,14353),n.map((e=>(function(a,l){let u=a.updateTime?Je(a.updateTime):Je(l);return u.isEqual(Tt.min())&&(u=Je(l)),new ak(u,a.transformResults||[])})(e,t)))):[]}function yR(n,t){return{documents:[mR(n,t.path)]}}function _R(n,t){const e={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=mR(n,a);const l=(function(p){if(p.length!==0)return ER(ee.create(p,"and"))})(t.filters);l&&(e.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(E){return{field:ul(E.field),direction:Sk(E.dir)}})(y)))})(t.orderBy);u&&(e.structuredQuery.orderBy=u);const h=Yy(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:e,parent:a}}function vR(n){let t=pR(n.parent);const e=n.structuredQuery,s=e.from?e.from.length:0;let a=null;if(s>0){_t(s===1,65062);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];e.where&&(l=(function(v){const E=TR(v);return E instanceof ee&&Z_(E)?E.getFilters():[E]})(e.where));let u=[];e.orderBy&&(u=(function(v){return v.map((E=>(function(N){return new Kc(cl(N.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(E)))})(e.orderBy));let h=null;e.limit&&(h=(function(v){let E;return E=typeof v=="object"?v.value:v,uh(E)?null:E})(e.limit));let m=null;e.startAt&&(m=(function(v){const E=!!v.before,I=v.values||[];return new Ml(I,E)})(e.startAt));let p=null;return e.endAt&&(p=(function(v){const E=!v.before,I=v.values||[];return new Ml(I,E)})(e.endAt)),GO(t,a,u,l,h,"F",m,p)}function bk(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function TR(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=cl(e.unaryFilter.field);return zt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=cl(e.unaryFilter.field);return zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=cl(e.unaryFilter.field);return zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=cl(e.unaryFilter.field);return zt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return zt.create(cl(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return ee.create(e.compositeFilter.filters.map((s=>TR(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(e.compositeFilter.op))})(n):mt(30097,{filter:n})}function Sk(n){return dk[n]}function Ak(n){return mk[n]}function wk(n){return pk[n]}function ul(n){return{fieldPath:n.canonicalString()}}function cl(n){return ye.fromServerFormat(n.fieldPath)}function ER(n){return n instanceof zt?(function(e){if(e.op==="=="){if(zS(e.value))return{unaryFilter:{field:ul(e.field),op:"IS_NAN"}};if(BS(e.value))return{unaryFilter:{field:ul(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(zS(e.value))return{unaryFilter:{field:ul(e.field),op:"IS_NOT_NAN"}};if(BS(e.value))return{unaryFilter:{field:ul(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ul(e.field),op:Ak(e.op),value:e.value}}})(n):n instanceof ee?(function(e){const s=e.getFilters().map((a=>ER(a)));return s.length===1?s[0]:{compositeFilter:{op:wk(e.op),filters:s}}})(n):mt(54877,{filter:n})}function Ik(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function bR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function SR(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Cs{constructor(t,e,s,a,l=Tt.min(),u=Tt.min(),h=ze.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(t){return new Cs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class AR{constructor(t){this.yt=t}}function Rk(n,t){let e;if(t.document)e=_k(n.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const s=ht.fromSegments(t.noDocument.path),a=so(t.noDocument.readTime);e=pe.newNoDocument(s,a),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return mt(56709);{const s=ht.fromSegments(t.unknownDocument.path),a=so(t.unknownDocument.version);e=pe.newUnknownDocument(s,a)}}return t.readTime&&e.setReadTime((function(a){const l=new te(a[0],a[1]);return Tt.fromTimestamp(l)})(t.readTime)),e}function iA(n,t){const e=t.key,s={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:$d(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())s.document=(function(l,u){return{name:Qc(l,u.key),fields:u.data.value.mapValue.fields,updateTime:Ll(l,u.version.toTimestamp()),createTime:Ll(l,u.createTime.toTimestamp())}})(n.yt,t);else if(t.isNoDocument())s.noDocument={path:e.path.toArray(),readTime:io(t.version)};else{if(!t.isUnknownDocument())return mt(57904,{document:t});s.unknownDocument={path:e.path.toArray(),version:io(t.version)}}return s}function $d(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function io(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function so(n){const t=new te(n.seconds,n.nanoseconds);return Tt.fromTimestamp(t)}function ja(n,t){const e=(t.baseMutations||[]).map((l=>Xy(n.yt,l)));for(let l=0;l<t.mutations.length-1;++l){const u=t.mutations[l];if(l+1<t.mutations.length&&t.mutations[l+1].transform!==void 0){const h=t.mutations[l+1];u.updateTransforms=h.transform.fieldTransforms,t.mutations.splice(l+1,1),++l}}const s=t.mutations.map((l=>Xy(n.yt,l))),a=te.fromMillis(t.localWriteTimeMs);return new ev(t.batchId,a,e,s)}function pc(n){const t=so(n.readTime),e=n.lastLimboFreeSnapshotVersion!==void 0?so(n.lastLimboFreeSnapshotVersion):Tt.min();let s;return s=(function(l){return l.documents!==void 0})(n.query)?(function(l){const u=l.documents.length;return _t(u===1,1966,{count:u}),ai(fh(pR(l.documents[0])))})(n.query):(function(l){return ai(vR(l))})(n.query),new Cs(s,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,ze.fromBase64String(n.resumeToken))}function wR(n,t){const e=io(t.snapshotVersion),s=io(t.lastLimboFreeSnapshotVersion);let a;a=Yd(t.target)?yR(n.yt,t.target):_R(n.yt,t.target).ft;const l=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:no(t.target),readTime:e,resumeToken:l,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function IR(n){const t=vR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ky(t,t.limit,"L"):t}function iy(n,t){return new iv(t.largestBatchId,Xy(n.yt,t.overlayMutation))}function sA(n,t){const e=t.path.lastSegment();return[n,mn(t.path.popLast()),e]}function rA(n,t,e,s){return{indexId:n,uid:t,sequenceNumber:e,readTime:io(s.readTime),documentKey:mn(s.documentKey.path),largestBatchId:s.largestBatchId}}class xk{getBundleMetadata(t,e){return aA(t).get(e).next((s=>{if(s)return(function(l){return{id:l.bundleId,createTime:so(l.createTime),version:l.version}})(s)}))}saveBundleMetadata(t,e){return aA(t).put((function(a){return{bundleId:a.id,createTime:io(Je(a.createTime)),version:a.version}})(e))}getNamedQuery(t,e){return oA(t).get(e).next((s=>{if(s)return(function(l){return{name:l.name,query:IR(l.bundledQuery),readTime:so(l.readTime)}})(s)}))}saveNamedQuery(t,e){return oA(t).put((function(a){return{name:a.name,readTime:io(Je(a.readTime)),bundledQuery:a.bundledQuery}})(e))}}function aA(n){return Qe(n,Tm)}function oA(n){return Qe(n,Em)}class Cm{constructor(t,e){this.serializer=t,this.userId=e}static wt(t,e){const s=e.uid||"";return new Cm(t,s)}getOverlay(t,e){return rc(t).get(sA(this.userId,e)).next((s=>s?iy(this.serializer,s):null))}getOverlays(t,e){const s=Zi();return F.forEach(e,(a=>this.getOverlay(t,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(t,e,s){const a=[];return s.forEach(((l,u)=>{const h=new iv(e,u);a.push(this.bt(t,h))})),F.waitFor(a)}removeOverlaysForBatchId(t,e,s){const a=new Set;e.forEach((u=>a.add(mn(u.getCollectionPath()))));const l=[];return a.forEach((u=>{const h=IDBKeyRange.bound([this.userId,u,s],[this.userId,u,s+1],!1,!0);l.push(rc(t).X(Uy,h))})),F.waitFor(l)}getOverlaysForCollection(t,e,s){const a=Zi(),l=mn(e),u=IDBKeyRange.bound([this.userId,l,s],[this.userId,l,Number.POSITIVE_INFINITY],!0);return rc(t).H(Uy,u).next((h=>{for(const m of h){const p=iy(this.serializer,m);a.set(p.getKey(),p)}return a}))}getOverlaysForCollectionGroup(t,e,s,a){const l=Zi();let u;const h=IDBKeyRange.bound([this.userId,e,s],[this.userId,e,Number.POSITIVE_INFINITY],!0);return rc(t).ee({index:II,range:h},((m,p,y)=>{const v=iy(this.serializer,p);l.size()<a||v.largestBatchId===u?(l.set(v.getKey(),v),u=v.largestBatchId):y.done()})).next((()=>l))}bt(t,e){return rc(t).put((function(a,l,u){const[h,m,p]=sA(l,u.mutation.key);return{userId:l,collectionPath:m,documentId:p,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:$c(a.yt,u.mutation)}})(this.serializer,this.userId,e))}}function rc(n){return Qe(n,bm)}class Ck{St(t){return Qe(t,Y_)}getSessionToken(t){return this.St(t).get("sessionToken").next((e=>{const s=e?.value;return s?ze.fromUint8Array(s):ze.EMPTY_BYTE_STRING}))}setSessionToken(t,e){return this.St(t).put({name:"sessionToken",value:e.toUint8Array()})}}class Fa{constructor(){}Dt(t,e){this.Ct(t,e),e.vt()}Ct(t,e){if("nullValue"in t)this.Ft(e,5);else if("booleanValue"in t)this.Ft(e,10),e.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(e,15),e.Mt(me(t.integerValue));else if("doubleValue"in t){const s=me(t.doubleValue);isNaN(s)?this.Ft(e,13):(this.Ft(e,15),Uc(s)?e.Mt(0):e.Mt(s))}else if("timestampValue"in t){let s=t.timestampValue;this.Ft(e,20),typeof s=="string"&&(s=ks(s)),e.xt(`${s.seconds||""}`),e.Mt(s.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,e),this.Nt(e);else if("bytesValue"in t)this.Ft(e,30),e.Bt(Ls(t.bytesValue)),this.Nt(e);else if("referenceValue"in t)this.Lt(t.referenceValue,e);else if("geoPointValue"in t){const s=t.geoPointValue;this.Ft(e,45),e.Mt(s.latitude||0),e.Mt(s.longitude||0)}else"mapValue"in t?UI(t)?this.Ft(e,Number.MAX_SAFE_INTEGER):Am(t)?this.kt(t.mapValue,e):(this.Kt(t.mapValue,e),this.Nt(e)):"arrayValue"in t?(this.qt(t.arrayValue,e),this.Nt(e)):mt(19022,{Ut:t})}Ot(t,e){this.Ft(e,25),this.$t(t,e)}$t(t,e){e.xt(t)}Kt(t,e){const s=t.fields||{};this.Ft(e,55);for(const a of Object.keys(s))this.Ot(a,e),this.Ct(s[a],e)}kt(t,e){const s=t.fields||{};this.Ft(e,53);const a=Dl,l=s[a].arrayValue?.values?.length||0;this.Ft(e,15),e.Mt(me(l)),this.Ot(a,e),this.Ct(s[a],e)}qt(t,e){const s=t.values||[];this.Ft(e,50);for(const a of s)this.Ct(a,e)}Lt(t,e){this.Ft(e,37),ht.fromName(t).path.forEach((s=>{this.Ft(e,60),this.$t(s,e)}))}Ft(t,e){t.Mt(e)}Nt(t){t.Mt(2)}}Fa.Wt=new Fa;const il=255;function Dk(n){if(n===0)return 8;let t=0;return n>>4||(t+=4,n<<=4),n>>6||(t+=2,n<<=2),n>>7||(t+=1),t}function lA(n){const t=64-(function(s){let a=0;for(let l=0;l<8;++l){const u=Dk(255&s[l]);if(a+=u,u!==8)break}return a})(n);return Math.ceil(t/8)}class Vk{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(t){const e=t[Symbol.iterator]();let s=e.next();for(;!s.done;)this.Gt(s.value),s=e.next();this.zt()}jt(t){const e=t[Symbol.iterator]();let s=e.next();for(;!s.done;)this.Ht(s.value),s=e.next();this.Jt()}Zt(t){for(const e of t){const s=e.charCodeAt(0);if(s<128)this.Gt(s);else if(s<2048)this.Gt(960|s>>>6),this.Gt(128|63&s);else if(e<"\uD800"||"\uDBFF"<e)this.Gt(480|s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s);else{const a=e.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Xt(t){for(const e of t){const s=e.charCodeAt(0);if(s<128)this.Ht(s);else if(s<2048)this.Ht(960|s>>>6),this.Ht(128|63&s);else if(e<"\uD800"||"\uDBFF"<e)this.Ht(480|s>>>12),this.Ht(128|63&s>>>6),this.Ht(128|63&s);else{const a=e.codePointAt(0);this.Ht(240|a>>>18),this.Ht(128|63&a>>>12),this.Ht(128|63&a>>>6),this.Ht(128|63&a)}}this.Jt()}Yt(t){const e=this.en(t),s=lA(e);this.tn(1+s),this.buffer[this.position++]=255&s;for(let a=e.length-s;a<e.length;++a)this.buffer[this.position++]=255&e[a]}nn(t){const e=this.en(t),s=lA(e);this.tn(1+s),this.buffer[this.position++]=~(255&s);for(let a=e.length-s;a<e.length;++a)this.buffer[this.position++]=~(255&e[a])}rn(){this.sn(il),this.sn(255)}_n(){this.an(il),this.an(255)}reset(){this.position=0}seed(t){this.tn(t.length),this.buffer.set(t,this.position),this.position+=t.length}un(){return this.buffer.slice(0,this.position)}en(t){const e=(function(l){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,l,!1),new Uint8Array(u.buffer)})(t),s=!!(128&e[0]);e[0]^=s?255:128;for(let a=1;a<e.length;++a)e[a]^=s?255:0;return e}Gt(t){const e=255&t;e===0?(this.sn(0),this.sn(255)):e===il?(this.sn(il),this.sn(0)):this.sn(e)}Ht(t){const e=255&t;e===0?(this.an(0),this.an(255)):e===il?(this.an(il),this.an(0)):this.an(t)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(t){this.tn(1),this.buffer[this.position++]=t}an(t){this.tn(1),this.buffer[this.position++]=~t}tn(t){const e=t+this.position;if(e<=this.buffer.length)return;let s=2*this.buffer.length;s<e&&(s=e);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class Mk{constructor(t){this.cn=t}Bt(t){this.cn.Qt(t)}xt(t){this.cn.Zt(t)}Mt(t){this.cn.Yt(t)}vt(){this.cn.rn()}}class Nk{constructor(t){this.cn=t}Bt(t){this.cn.jt(t)}xt(t){this.cn.Xt(t)}Mt(t){this.cn.nn(t)}vt(){this.cn._n()}}class ac{constructor(){this.cn=new Vk,this.ascending=new Mk(this.cn),this.descending=new Nk(this.cn)}seed(t){this.cn.seed(t)}ln(t){return t===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class qa{constructor(t,e,s,a){this.hn=t,this.Pn=e,this.Tn=s,this.In=a}En(){const t=this.In.length,e=t===0||this.In[t-1]===255?t+1:t,s=new Uint8Array(e);return s.set(this.In,0),e!==t?s.set([0],this.In.length):++s[s.length-1],new qa(this.hn,this.Pn,this.Tn,s)}Rn(t,e,s){return{indexId:this.hn,uid:t,arrayValue:Rd(this.Tn),directionalValue:Rd(this.In),orderedDocumentKey:Rd(e),documentKey:s.path.toArray()}}An(t,e,s){const a=this.Rn(t,e,s);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Sr(n,t){let e=n.hn-t.hn;return e!==0?e:(e=uA(n.Tn,t.Tn),e!==0?e:(e=uA(n.In,t.In),e!==0?e:ht.comparator(n.Pn,t.Pn)))}function uA(n,t){for(let e=0;e<n.length&&e<t.length;++e){const s=n[e]-t[e];if(s!==0)return s}return n.length-t.length}function Rd(n){return bw()?(function(e){let s="";for(let a=0;a<e.length;a++)s+=String.fromCharCode(e[a]);return s})(n):n}function cA(n){return typeof n!="string"?n:(function(e){const s=new Uint8Array(e.length);for(let a=0;a<e.length;a++)s[a]=e.charCodeAt(a);return s})(n)}class hA{constructor(t){this.Vn=new ne(((e,s)=>ye.comparator(e.field,s.field))),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.dn=t.orderBy,this.mn=[];for(const e of t.filters){const s=e;s.isInequality()?this.Vn=this.Vn.add(s):this.mn.push(s)}}get fn(){return this.Vn.size>1}gn(t){if(_t(t.collectionGroup===this.collectionId,49279),this.fn)return!1;const e=Oy(t);if(e!==void 0&&!this.pn(e))return!1;const s=La(t);let a=new Set,l=0,u=0;for(;l<s.length&&this.pn(s[l]);++l)a=a.add(s[l].fieldPath.canonicalString());if(l===s.length)return!0;if(this.Vn.size>0){const h=this.Vn.getIterator().getNext();if(!a.has(h.field.canonicalString())){const m=s[l];if(!this.yn(h,m)||!this.wn(this.dn[u++],m))return!1}++l}for(;l<s.length;++l){const h=s[l];if(u>=this.dn.length||!this.wn(this.dn[u++],h))return!1}return!0}bn(){if(this.fn)return null;let t=new ne(ye.comparator);const e=[];for(const s of this.mn)if(!s.field.isKeyField())if(s.op==="array-contains"||s.op==="array-contains-any")e.push(new vd(s.field,2));else{if(t.has(s.field))continue;t=t.add(s.field),e.push(new vd(s.field,0))}for(const s of this.dn)s.field.isKeyField()||t.has(s.field)||(t=t.add(s.field),e.push(new vd(s.field,s.dir==="asc"?0:1)));return new Fd(Fd.UNKNOWN_ID,this.collectionId,e,Lc.empty())}pn(t){for(const e of this.mn)if(this.yn(e,t))return!0;return!1}yn(t,e){if(t===void 0||!t.field.isEqual(e.fieldPath))return!1;const s=t.op==="array-contains"||t.op==="array-contains-any";return e.kind===2===s}wn(t,e){return!!t.field.isEqual(e.fieldPath)&&(e.kind===0&&t.dir==="asc"||e.kind===1&&t.dir==="desc")}}function RR(n){if(_t(n instanceof zt||n instanceof ee,20012),n instanceof zt){if(n instanceof YI){const e=n.value.arrayValue?.values?.map((s=>zt.create(n.field,"==",s)))||[];return ee.create(e,"or")}return n}const t=n.filters.map((e=>RR(e)));return ee.create(t,n.op)}function Pk(n){if(n.getFilters().length===0)return[];const t=Jy(RR(n));return _t(xR(t),7391),Wy(t)||Zy(t)?[t]:t.getFilters()}function Wy(n){return n instanceof zt}function Zy(n){return n instanceof ee&&Z_(n)}function xR(n){return Wy(n)||Zy(n)||(function(e){if(e instanceof ee&&Fy(e)){for(const s of e.getFilters())if(!Wy(s)&&!Zy(s))return!1;return!0}return!1})(n)}function Jy(n){if(_t(n instanceof zt||n instanceof ee,34018),n instanceof zt)return n;if(n.filters.length===1)return Jy(n.filters[0]);const t=n.filters.map((s=>Jy(s)));let e=ee.create(t,n.op);return e=Xd(e),xR(e)?e:(_t(e instanceof ee,64498),_t(Nl(e),40251),_t(e.filters.length>1,57927),e.filters.reduce(((s,a)=>av(s,a))))}function av(n,t){let e;return _t(n instanceof zt||n instanceof ee,38388),_t(t instanceof zt||t instanceof ee,25473),e=n instanceof zt?t instanceof zt?(function(a,l){return ee.create([a,l],"and")})(n,t):fA(n,t):t instanceof zt?fA(t,n):(function(a,l){if(_t(a.filters.length>0&&l.filters.length>0,48005),Nl(a)&&Nl(l))return HI(a,l.getFilters());const u=Fy(a)?a:l,h=Fy(a)?l:a,m=u.filters.map((p=>av(p,h)));return ee.create(m,"or")})(n,t),Xd(e)}function fA(n,t){if(Nl(t))return HI(t,n.getFilters());{const e=t.filters.map((s=>av(n,s)));return ee.create(e,"or")}}function Xd(n){if(_t(n instanceof zt||n instanceof ee,11850),n instanceof zt)return n;const t=n.getFilters();if(t.length===1)return Xd(t[0]);if(FI(n))return n;const e=t.map((a=>Xd(a))),s=[];return e.forEach((a=>{a instanceof zt?s.push(a):a instanceof ee&&(a.op===n.op?s.push(...a.filters):s.push(a))})),s.length===1?s[0]:ee.create(s,n.op)}class Ok{constructor(){this.Sn=new ov}addToCollectionParentIndex(t,e){return this.Sn.add(e),F.resolve()}getCollectionParents(t,e){return F.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return F.resolve()}deleteFieldIndex(t,e){return F.resolve()}deleteAllFieldIndexes(t){return F.resolve()}createTargetIndexes(t,e){return F.resolve()}getDocumentsMatchingTarget(t,e){return F.resolve(null)}getIndexType(t,e){return F.resolve(0)}getFieldIndexes(t,e){return F.resolve([])}getNextCollectionGroupToUpdate(t){return F.resolve(null)}getMinOffset(t,e){return F.resolve(Fn.min())}getMinOffsetFromCollectionGroup(t,e){return F.resolve(Fn.min())}updateCollectionGroup(t,e,s){return F.resolve()}updateIndexEntries(t,e){return F.resolve()}}class ov{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e]||new ne(Ht.comparator),l=!a.has(s);return this.index[e]=a.add(s),l}has(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e];return a&&a.has(s)}getEntries(t){return(this.index[t]||new ne(Ht.comparator)).toArray()}}const dA="IndexedDbIndexManager",rd=new Uint8Array(0);class kk{constructor(t,e){this.databaseId=e,this.Dn=new ov,this.Cn=new js((s=>no(s)),((s,a)=>hh(s,a))),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Dn.has(e)){const s=e.lastSegment(),a=e.popLast();t.addOnCommittedListener((()=>{this.Dn.add(e)}));const l={collectionId:s,parent:mn(a)};return mA(t).put(l)}return F.resolve()}getCollectionParents(t,e){const s=[],a=IDBKeyRange.bound([e,""],[mI(e),""],!1,!0);return mA(t).H(a).next((l=>{for(const u of l){if(u.collectionId!==e)break;s.push(Wi(u.parent))}return s}))}addFieldIndex(t,e){const s=oc(t),a=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((m=>[m.fieldPath.canonicalString(),m.kind]))}})(e);delete a.indexId;const l=s.add(a);if(e.indexState){const u=rl(t);return l.next((h=>{u.put(rA(h,this.uid,e.indexState.sequenceNumber,e.indexState.offset))}))}return l.next()}deleteFieldIndex(t,e){const s=oc(t),a=rl(t),l=sl(t);return s.delete(e.indexId).next((()=>a.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))))}deleteAllFieldIndexes(t){const e=oc(t),s=sl(t),a=rl(t);return e.X().next((()=>s.X())).next((()=>a.X()))}createTargetIndexes(t,e){return F.forEach(this.vn(e),(s=>this.getIndexType(t,s).next((a=>{if(a===0||a===1){const l=new hA(s).bn();if(l!=null)return this.addFieldIndex(t,l)}}))))}getDocumentsMatchingTarget(t,e){const s=sl(t);let a=!0;const l=new Map;return F.forEach(this.vn(e),(u=>this.Fn(t,u).next((h=>{a&&(a=!!h),l.set(u,h)})))).next((()=>{if(a){let u=Nt();const h=[];return F.forEach(l,((m,p)=>{lt(dA,`Using index ${(function(z){return`id=${z.indexId}|cg=${z.collectionGroup}|f=${z.fields.map((Q=>`${Q.fieldPath}:${Q.kind}`)).join(",")}`})(m)} to execute ${no(e)}`);const y=(function(z,Q){const rt=Oy(Q);if(rt===void 0)return null;for(const at of Qd(z,rt.fieldPath))switch(at.op){case"array-contains-any":return at.value.arrayValue.values||[];case"array-contains":return[at.value]}return null})(p,m),v=(function(z,Q){const rt=new Map;for(const at of La(Q))for(const R of Qd(z,at.fieldPath))switch(R.op){case"==":case"in":rt.set(at.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return rt.set(at.fieldPath.canonicalString(),R.value),Array.from(rt.values())}return null})(p,m),E=(function(z,Q){const rt=[];let at=!0;for(const R of La(Q)){const A=R.kind===0?GS(z,R.fieldPath,z.startAt):KS(z,R.fieldPath,z.startAt);rt.push(A.value),at&&(at=A.inclusive)}return new Ml(rt,at)})(p,m),I=(function(z,Q){const rt=[];let at=!0;for(const R of La(Q)){const A=R.kind===0?KS(z,R.fieldPath,z.endAt):GS(z,R.fieldPath,z.endAt);rt.push(A.value),at&&(at=A.inclusive)}return new Ml(rt,at)})(p,m),N=this.Mn(m,p,E),U=this.Mn(m,p,I),L=this.xn(m,p,v),Y=this.On(m.indexId,y,N,E.inclusive,U,I.inclusive,L);return F.forEach(Y,(W=>s.Z(W,e.limit).next((z=>{z.forEach((Q=>{const rt=ht.fromSegments(Q.documentKey);u.has(rt)||(u=u.add(rt),h.push(rt))}))}))))})).next((()=>h))}return F.resolve(null)}))}vn(t){let e=this.Cn.get(t);return e||(t.filters.length===0?e=[t]:e=Pk(ee.create(t.filters,"and")).map((s=>Hy(t.path,t.collectionGroup,t.orderBy,s.getFilters(),t.limit,t.startAt,t.endAt))),this.Cn.set(t,e),e)}On(t,e,s,a,l,u,h){const m=(e!=null?e.length:1)*Math.max(s.length,l.length),p=m/(e!=null?e.length:1),y=[];for(let v=0;v<m;++v){const E=e?this.Nn(e[v/p]):rd,I=this.Bn(t,E,s[v%p],a),N=this.Ln(t,E,l[v%p],u),U=h.map((L=>this.Bn(t,E,L,!0)));y.push(...this.createRange(I,N,U))}return y}Bn(t,e,s,a){const l=new qa(t,ht.empty(),e,s);return a?l:l.En()}Ln(t,e,s,a){const l=new qa(t,ht.empty(),e,s);return a?l.En():l}Fn(t,e){const s=new hA(e),a=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,a).next((l=>{let u=null;for(const h of l)s.gn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u}))}getIndexType(t,e){let s=2;const a=this.vn(e);return F.forEach(a,(l=>this.Fn(t,l).next((u=>{u?s!==0&&u.fields.length<(function(m){let p=new ne(ye.comparator),y=!1;for(const v of m.filters)for(const E of v.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?y=!0:p=p.add(E.field));for(const v of m.orderBy)v.field.isKeyField()||(p=p.add(v.field));return p.size+(y?1:0)})(l)&&(s=1):s=0})))).next((()=>(function(u){return u.limit!==null})(e)&&a.length>1&&s===2?1:s))}kn(t,e){const s=new ac;for(const a of La(t)){const l=e.data.field(a.fieldPath);if(l==null)return null;const u=s.ln(a.kind);Fa.Wt.Dt(l,u)}return s.un()}Nn(t){const e=new ac;return Fa.Wt.Dt(t,e.ln(0)),e.un()}Kn(t,e){const s=new ac;return Fa.Wt.Dt(Hc(this.databaseId,e),s.ln((function(l){const u=La(l);return u.length===0?0:u[u.length-1].kind})(t))),s.un()}xn(t,e,s){if(s===null)return[];let a=[];a.push(new ac);let l=0;for(const u of La(t)){const h=s[l++];for(const m of a)if(this.qn(e,u.fieldPath)&&Gc(h))a=this.Un(a,u,h);else{const p=m.ln(u.kind);Fa.Wt.Dt(h,p)}}return this.$n(a)}Mn(t,e,s){return this.xn(t,e,s.position)}$n(t){const e=[];for(let s=0;s<t.length;++s)e[s]=t[s].un();return e}Un(t,e,s){const a=[...t],l=[];for(const u of s.arrayValue.values||[])for(const h of a){const m=new ac;m.seed(h.un()),Fa.Wt.Dt(u,m.ln(e.kind)),l.push(m)}return l}qn(t,e){return!!t.filters.find((s=>s instanceof zt&&s.field.isEqual(e)&&(s.op==="in"||s.op==="not-in")))}getFieldIndexes(t,e){const s=oc(t),a=rl(t);return(e?s.H(Ly,IDBKeyRange.bound(e,e)):s.H()).next((l=>{const u=[];return F.forEach(l,(h=>a.get([h.indexId,this.uid]).next((m=>{u.push((function(y,v){const E=v?new Lc(v.sequenceNumber,new Fn(so(v.readTime),new ht(Wi(v.documentKey)),v.largestBatchId)):Lc.empty(),I=y.fields.map((([N,U])=>new vd(ye.fromServerFormat(N),U)));return new Fd(y.indexId,y.collectionGroup,I,E)})(h,m))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((e=>e.length===0?null:(e.sort(((s,a)=>{const l=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return l!==0?l:It(s.collectionGroup,a.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(t,e,s){const a=oc(t),l=rl(t);return this.Wn(t).next((u=>a.H(Ly,IDBKeyRange.bound(e,e)).next((h=>F.forEach(h,(m=>l.put(rA(m.indexId,this.uid,u,s))))))))}updateIndexEntries(t,e){const s=new Map;return F.forEach(e,((a,l)=>{const u=s.get(a.collectionGroup);return(u?F.resolve(u):this.getFieldIndexes(t,a.collectionGroup)).next((h=>(s.set(a.collectionGroup,h),F.forEach(h,(m=>this.Qn(t,a,m).next((p=>{const y=this.Gn(l,m);return p.isEqual(y)?F.resolve():this.zn(t,l,m,p,y)})))))))}))}jn(t,e,s,a){return sl(t).put(a.Rn(this.uid,this.Kn(s,e.key),e.key))}Hn(t,e,s,a){return sl(t).delete(a.An(this.uid,this.Kn(s,e.key),e.key))}Qn(t,e,s){const a=sl(t);let l=new ne(Sr);return a.ee({index:wI,range:IDBKeyRange.only([s.indexId,this.uid,Rd(this.Kn(s,e))])},((u,h)=>{l=l.add(new qa(s.indexId,e,cA(h.arrayValue),cA(h.directionalValue)))})).next((()=>l))}Gn(t,e){let s=new ne(Sr);const a=this.kn(e,t);if(a==null)return s;const l=Oy(e);if(l!=null){const u=t.data.field(l.fieldPath);if(Gc(u))for(const h of u.arrayValue.values||[])s=s.add(new qa(e.indexId,t.key,this.Nn(h),a))}else s=s.add(new qa(e.indexId,t.key,rd,a));return s}zn(t,e,s,a,l){lt(dA,"Updating index entries for document '%s'",e.key);const u=[];return(function(m,p,y,v,E){const I=m.getIterator(),N=p.getIterator();let U=nl(I),L=nl(N);for(;U||L;){let Y=!1,W=!1;if(U&&L){const z=y(U,L);z<0?W=!0:z>0&&(Y=!0)}else U!=null?W=!0:Y=!0;Y?(v(L),L=nl(N)):W?(E(U),U=nl(I)):(U=nl(I),L=nl(N))}})(a,l,Sr,(h=>{u.push(this.jn(t,e,s,h))}),(h=>{u.push(this.Hn(t,e,s,h))})),F.waitFor(u)}Wn(t){let e=1;return rl(t).ee({index:AI,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((s,a,l)=>{l.done(),e=a.sequenceNumber+1})).next((()=>e))}createRange(t,e,s){s=s.sort(((u,h)=>Sr(u,h))).filter(((u,h,m)=>!h||Sr(u,m[h-1])!==0));const a=[];a.push(t);for(const u of s){const h=Sr(u,t),m=Sr(u,e);if(h===0)a[0]=t.En();else if(h>0&&m<0)a.push(u),a.push(u.En());else if(m>0)break}a.push(e);const l=[];for(let u=0;u<a.length;u+=2){if(this.Jn(a[u],a[u+1]))return[];const h=a[u].An(this.uid,rd,ht.empty()),m=a[u+1].An(this.uid,rd,ht.empty());l.push(IDBKeyRange.bound(h,m))}return l}Jn(t,e){return Sr(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(pA)}getMinOffset(t,e){return F.mapArray(this.vn(e),(s=>this.Fn(t,s).next((a=>a||mt(44426))))).next(pA)}}function mA(n){return Qe(n,jc)}function sl(n){return Qe(n,Sc)}function oc(n){return Qe(n,K_)}function rl(n){return Qe(n,bc)}function pA(n){_t(n.length!==0,28825);let t=n[0].indexState.offset,e=t.largestBatchId;for(let s=1;s<n.length;s++){const a=n[s].indexState.offset;q_(a,t)<0&&(t=a),e<a.largestBatchId&&(e=a.largestBatchId)}return new Fn(t.readTime,t.documentKey,e)}const gA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CR=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}function DR(n,t,e){const s=n.store(bi),a=n.store(Il),l=[],u=IDBKeyRange.only(e.batchId);let h=0;const m=s.ee({range:u},((y,v,E)=>(h++,E.delete())));l.push(m.next((()=>{_t(h===1,47070,{batchId:e.batchId})})));const p=[];for(const y of e.mutations){const v=EI(t,y.key.path,e.batchId);l.push(a.delete(v)),p.push(y.key)}return F.waitFor(l).next((()=>p))}function Wd(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw mt(14731);t=n.noDocument}return JSON.stringify(t).length}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(CR,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class Dm{constructor(t,e,s,a){this.userId=t,this.serializer=e,this.indexManager=s,this.referenceDelegate=a,this.Zn={}}static wt(t,e,s,a){_t(t.uid!=="",64387);const l=t.isAuthenticated()?t.uid:"";return new Dm(l,e,s,a)}checkEmpty(t){let e=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ar(t).ee({index:Ha,range:s},((a,l,u)=>{e=!1,u.done()})).next((()=>e))}addMutationBatch(t,e,s,a){const l=hl(t),u=Ar(t);return u.add({}).next((h=>{_t(typeof h=="number",49019);const m=new ev(h,e,s,a),p=(function(I,N,U){const L=U.baseMutations.map((W=>$c(I.yt,W))),Y=U.mutations.map((W=>$c(I.yt,W)));return{userId:N,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:L,mutations:Y}})(this.serializer,this.userId,m),y=[];let v=new ne(((E,I)=>It(E.canonicalString(),I.canonicalString())));for(const E of a){const I=EI(this.userId,E.key.path,h);v=v.add(E.key.path.popLast()),y.push(u.put(p)),y.push(l.put(I,lO))}return v.forEach((E=>{y.push(this.indexManager.addToCollectionParentIndex(t,E))})),t.addOnCommittedListener((()=>{this.Zn[h]=m.keys()})),F.waitFor(y).next((()=>m))}))}lookupMutationBatch(t,e){return Ar(t).get(e).next((s=>s?(_t(s.userId===this.userId,48,"Unexpected user for mutation batch",{userId:s.userId,batchId:e}),ja(this.serializer,s)):null))}Xn(t,e){return this.Zn[e]?F.resolve(this.Zn[e]):this.lookupMutationBatch(t,e).next((s=>{if(s){const a=s.keys();return this.Zn[e]=a,a}return null}))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,a=IDBKeyRange.lowerBound([this.userId,s]);let l=null;return Ar(t).ee({index:Ha,range:a},((u,h,m)=>{h.userId===this.userId&&(_t(h.batchId>=s,47524,{Yn:s}),l=ja(this.serializer,h)),m.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=Ya;return Ar(t).ee({index:Ha,range:e,reverse:!0},((a,l,u)=>{s=l.batchId,u.done()})).next((()=>s))}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,Ya],[this.userId,Number.POSITIVE_INFINITY]);return Ar(t).H(Ha,e).next((s=>s.map((a=>ja(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(t,e){const s=Td(this.userId,e.path),a=IDBKeyRange.lowerBound(s),l=[];return hl(t).ee({range:a},((u,h,m)=>{const[p,y,v]=u,E=Wi(y);if(p===this.userId&&e.path.isEqual(E))return Ar(t).get(v).next((I=>{if(!I)throw mt(61480,{er:u,batchId:v});_t(I.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:I.userId,batchId:v}),l.push(ja(this.serializer,I))}));m.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new ne(It);const a=[];return e.forEach((l=>{const u=Td(this.userId,l.path),h=IDBKeyRange.lowerBound(u),m=hl(t).ee({range:h},((p,y,v)=>{const[E,I,N]=p,U=Wi(I);E===this.userId&&l.path.isEqual(U)?s=s.add(N):v.done()}));a.push(m)})),F.waitFor(a).next((()=>this.tr(t,s)))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,a=s.length+1,l=Td(this.userId,s),u=IDBKeyRange.lowerBound(l);let h=new ne(It);return hl(t).ee({range:u},((m,p,y)=>{const[v,E,I]=m,N=Wi(E);v===this.userId&&s.isPrefixOf(N)?N.length===a&&(h=h.add(I)):y.done()})).next((()=>this.tr(t,h)))}tr(t,e){const s=[],a=[];return e.forEach((l=>{a.push(Ar(t).get(l).next((u=>{if(u===null)throw mt(35274,{batchId:l});_t(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:l}),s.push(ja(this.serializer,u))})))})),F.waitFor(a).next((()=>s))}removeMutationBatch(t,e){return DR(t.le,this.userId,e).next((s=>(t.addOnCommittedListener((()=>{this.nr(e.batchId)})),F.forEach(s,(a=>this.referenceDelegate.markPotentiallyOrphaned(t,a))))))}nr(t){delete this.Zn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((e=>{if(!e)return F.resolve();const s=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),a=[];return hl(t).ee({range:s},((l,u,h)=>{if(l[0]===this.userId){const m=Wi(l[1]);a.push(m)}else h.done()})).next((()=>{_t(a.length===0,56720,{rr:a.map((l=>l.canonicalString()))})}))}))}containsKey(t,e){return VR(t,this.userId,e)}ir(t){return MR(t).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:Ya,lastStreamToken:""}))}}function VR(n,t,e){const s=Td(t,e.path),a=s[1],l=IDBKeyRange.lowerBound(s);let u=!1;return hl(n).ee({range:l,Y:!0},((h,m,p)=>{const[y,v,E]=h;y===t&&v===a&&(u=!0),p.done()})).next((()=>u))}function Ar(n){return Qe(n,bi)}function hl(n){return Qe(n,Il)}function MR(n){return Qe(n,Bc)}class ro{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new ro(0)}static ar(){return new ro(-1)}}class Lk{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.ur(t).next((e=>{const s=new ro(e.highestTargetId);return e.highestTargetId=s.next(),this.cr(t,e).next((()=>e.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.ur(t).next((e=>Tt.fromTimestamp(new te(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.ur(t).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(t,e,s){return this.ur(t).next((a=>(a.highestListenSequenceNumber=e,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),e>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=e),this.cr(t,a))))}addTargetData(t,e){return this.lr(t,e).next((()=>this.ur(t).next((s=>(s.targetCount+=1,this.hr(e,s),this.cr(t,s))))))}updateTargetData(t,e){return this.lr(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next((()=>al(t).delete(e.targetId))).next((()=>this.ur(t))).next((s=>(_t(s.targetCount>0,8065),s.targetCount-=1,this.cr(t,s))))}removeTargets(t,e,s){let a=0;const l=[];return al(t).ee(((u,h)=>{const m=pc(h);m.sequenceNumber<=e&&s.get(m.targetId)===null&&(a++,l.push(this.removeTargetData(t,m)))})).next((()=>F.waitFor(l))).next((()=>a))}forEachTarget(t,e){return al(t).ee(((s,a)=>{const l=pc(a);e(l)}))}ur(t){return yA(t).get(Gd).next((e=>(_t(e!==null,2888),e)))}cr(t,e){return yA(t).put(Gd,e)}lr(t,e){return al(t).put(wR(this.serializer,e))}hr(t,e){let s=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,s=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,s=!0),s}getTargetCount(t){return this.ur(t).next((e=>e.targetCount))}getTargetData(t,e){const s=no(e),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let l=null;return al(t).ee({range:a,index:SI},((u,h,m)=>{const p=pc(h);hh(e,p.target)&&(l=p,m.done())})).next((()=>l))}addMatchingKeys(t,e,s){const a=[],l=Vr(t);return e.forEach((u=>{const h=mn(u.path);a.push(l.put({targetId:s,path:h})),a.push(this.referenceDelegate.addReference(t,s,u))})),F.waitFor(a)}removeMatchingKeys(t,e,s){const a=Vr(t);return F.forEach(e,(l=>{const u=mn(l.path);return F.waitFor([a.delete([s,u]),this.referenceDelegate.removeReference(t,s,l)])}))}removeMatchingKeysForTargetId(t,e){const s=Vr(t),a=IDBKeyRange.bound([e],[e+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(t,e){const s=IDBKeyRange.bound([e],[e+1],!1,!0),a=Vr(t);let l=Nt();return a.ee({range:s,Y:!0},((u,h,m)=>{const p=Wi(u[1]),y=new ht(p);l=l.add(y)})).next((()=>l))}containsKey(t,e){const s=mn(e.path),a=IDBKeyRange.bound([s],[mI(s)],!1,!0);let l=0;return Vr(t).ee({index:G_,Y:!0,range:a},(([u,h],m,p)=>{u!==0&&(l++,p.done())})).next((()=>l>0))}At(t,e){return al(t).get(e).next((s=>s?pc(s):null))}}function al(n){return Qe(n,Rl)}function yA(n){return Qe(n,Qa)}function Vr(n){return Qe(n,xl)}const _A="LruGarbageCollector",NR=1048576;function vA([n,t],[e,s]){const a=It(n,e);return a===0?It(t,s):a}class Uk{constructor(t){this.Pr=t,this.buffer=new ne(vA),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();vA(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class PR{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){lt(_A,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Wr(e)?lt(_A,"Ignoring IndexedDB error during garbage collection: ",e):await lo(e)}await this.Ar(3e5)}))}}class Bk{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((s=>Math.floor(e/100*s)))}nthSequenceNumber(t,e){if(e===0)return F.resolve(si.ce);const s=new Uk(e);return this.Vr.forEachTarget(t,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(t,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(t,e,s){return this.Vr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(gA)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gA):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let s,a,l,u,h,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(t,a)))).next((v=>(s=v,h=Date.now(),this.removeTargets(t,s,e)))).next((v=>(l=v,m=Date.now(),this.removeOrphanedDocuments(t,s)))).next((v=>(p=Date.now(),ol()<=Bt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(m-h)+`ms
	Removed ${v} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function OR(n,t){return new Bk(n,t)}class zk{constructor(t,e){this.db=t,this.garbageCollector=OR(this,e)}dr(t){const e=this.pr(t);return this.db.getTargetCache().getTargetCount(t).next((s=>e.next((a=>s+a))))}pr(t){let e=0;return this.mr(t,(s=>{e++})).next((()=>e))}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}mr(t,e){return this.yr(t,((s,a)=>e(a)))}addReference(t,e,s){return ad(t,s)}removeReference(t,e,s){return ad(t,s)}removeTargets(t,e,s){return this.db.getTargetCache().removeTargets(t,e,s)}markPotentiallyOrphaned(t,e){return ad(t,e)}wr(t,e){return(function(a,l){let u=!1;return MR(a).te((h=>VR(a,h,l).next((m=>(m&&(u=!0),F.resolve(!m)))))).next((()=>u))})(t,e)}removeOrphanedDocuments(t,e){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.yr(t,((u,h)=>{if(h<=e){const m=this.wr(t,u).next((p=>{if(!p)return l++,s.getEntry(t,u).next((()=>(s.removeEntry(u,Tt.min()),Vr(t).delete((function(v){return[0,mn(v.path)]})(u)))))}));a.push(m)}})).next((()=>F.waitFor(a))).next((()=>s.apply(t))).next((()=>l))}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,s)}updateLimboDocument(t,e){return ad(t,e)}yr(t,e){const s=Vr(t);let a,l=si.ce;return s.ee({index:G_},(([u,h],{path:m,sequenceNumber:p})=>{u===0?(l!==si.ce&&e(new ht(Wi(a)),l),l=p,a=m):l=si.ce})).next((()=>{l!==si.ce&&e(new ht(Wi(a)),l)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function ad(n,t){return Vr(n).put((function(s,a){return{targetId:0,path:mn(s.path),sequenceNumber:a}})(t,n.currentSequenceNumber))}class kR{constructor(){this.changes=new js((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,pe.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?F.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class jk{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,s){return Na(t).put(s)}removeEntry(t,e,s){return Na(t).delete((function(l,u){const h=l.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],$d(u),h[h.length-1]]})(e,s))}updateMetadata(t,e){return this.getMetadata(t).next((s=>(s.byteSize+=e,this.br(t,s))))}getEntry(t,e){let s=pe.newInvalidDocument(e);return Na(t).ee({index:Ed,range:IDBKeyRange.only(lc(e))},((a,l)=>{s=this.Sr(e,l)})).next((()=>s))}Dr(t,e){let s={size:0,document:pe.newInvalidDocument(e)};return Na(t).ee({index:Ed,range:IDBKeyRange.only(lc(e))},((a,l)=>{s={document:this.Sr(e,l),size:Wd(l)}})).next((()=>s))}getEntries(t,e){let s=jn();return this.Cr(t,e,((a,l)=>{const u=this.Sr(a,l);s=s.insert(a,u)})).next((()=>s))}vr(t,e){let s=jn(),a=new ge(ht.comparator);return this.Cr(t,e,((l,u)=>{const h=this.Sr(l,u);s=s.insert(l,h),a=a.insert(l,Wd(u))})).next((()=>({documents:s,Fr:a})))}Cr(t,e,s){if(e.isEmpty())return F.resolve();let a=new ne(bA);e.forEach((m=>a=a.add(m)));const l=IDBKeyRange.bound(lc(a.first()),lc(a.last())),u=a.getIterator();let h=u.getNext();return Na(t).ee({index:Ed,range:l},((m,p,y)=>{const v=ht.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;h&&bA(h,v)<0;)s(h,null),h=u.getNext();h&&h.isEqual(v)&&(s(h,p),h=u.hasNext()?u.getNext():null),h?y.j(lc(h)):y.done()})).next((()=>{for(;h;)s(h,null),h=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(t,e,s,a,l){const u=e.path,h=[u.popLast().toArray(),u.lastSegment(),$d(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],m=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Na(t).H(IDBKeyRange.bound(h,m,!0)).next((p=>{l?.incrementDocumentReadCount(p.length);let y=jn();for(const v of p){const E=this.Sr(ht.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);E.isFoundDocument()&&(dh(e,E)||a.has(E.key))&&(y=y.insert(E.key,E))}return y}))}getAllFromCollectionGroup(t,e,s,a){let l=jn();const u=EA(e,s),h=EA(e,Fn.max());return Na(t).ee({index:bI,range:IDBKeyRange.bound(u,h,!0)},((m,p,y)=>{const v=this.Sr(ht.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);l=l.insert(v.key,v),l.size===a&&y.done()})).next((()=>l))}newChangeBuffer(t){return new Fk(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((e=>e.byteSize))}getMetadata(t){return TA(t).get(ky).next((e=>(_t(!!e,20021),e)))}br(t,e){return TA(t).put(ky,e)}Sr(t,e){if(e){const s=Rk(this.serializer,e);if(!(s.isNoDocument()&&s.version.isEqual(Tt.min())))return s}return pe.newInvalidDocument(t)}}function LR(n){return new jk(n)}class Fk extends kR{constructor(t,e){super(),this.Mr=t,this.trackRemovals=e,this.Or=new js((s=>s.toString()),((s,a)=>s.isEqual(a)))}applyChanges(t){const e=[];let s=0,a=new ne(((l,u)=>It(l.canonicalString(),u.canonicalString())));return this.changes.forEach(((l,u)=>{const h=this.Or.get(l);if(e.push(this.Mr.removeEntry(t,l,h.readTime)),u.isValidDocument()){const m=iA(this.Mr.serializer,u);a=a.add(l.path.popLast());const p=Wd(m);s+=p-h.size,e.push(this.Mr.addEntry(t,l,m))}else if(s-=h.size,this.trackRemovals){const m=iA(this.Mr.serializer,u.convertToNoDocument(Tt.min()));e.push(this.Mr.addEntry(t,l,m))}})),a.forEach((l=>{e.push(this.Mr.indexManager.addToCollectionParentIndex(t,l))})),e.push(this.Mr.updateMetadata(t,s)),F.waitFor(e)}getFromCache(t,e){return this.Mr.Dr(t,e).next((s=>(this.Or.set(e,{size:s.size,readTime:s.document.readTime}),s.document)))}getAllFromCache(t,e){return this.Mr.vr(t,e).next((({documents:s,Fr:a})=>(a.forEach(((l,u)=>{this.Or.set(l,{size:u,readTime:s.get(l).readTime})})),s)))}}function TA(n){return Qe(n,zc)}function Na(n){return Qe(n,Hd)}function lc(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function EA(n,t){const e=t.documentKey.path.toArray();return[n,$d(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function bA(n,t){const e=n.path.toArray(),s=t.path.toArray();let a=0;for(let l=0;l<e.length-2&&l<s.length-2;++l)if(a=It(e[l],s[l]),a)return a;return a=It(e.length,s.length),a||(a=It(e[e.length-2],s[s.length-2]),a||It(e[e.length-1],s[s.length-1]))}class qk{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class UR{constructor(t,e,s,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(s=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(s!==null&&Rc(s.mutation,a,Cn.empty(),te.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.getLocalViewOfDocuments(t,s,Nt()).next((()=>s))))}getLocalViewOfDocuments(t,e,s=Nt()){const a=Zi();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,s).next((l=>{let u=dc();return l.forEach(((h,m)=>{u=u.insert(h,m.overlayedDocument)})),u}))))}getOverlayedDocuments(t,e){const s=Zi();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,Nt())))}populateOverlays(t,e,s){const a=[];return s.forEach((l=>{e.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((u,h)=>{e.set(u,h)}))}))}computeViews(t,e,s,a){let l=jn();const u=Ic(),h=(function(){return Ic()})();return e.forEach(((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Fs)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),Rc(y.mutation,p,y.mutation.getFieldMask(),te.now())):u.set(p.key,Cn.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((p,y)=>u.set(p,y))),e.forEach(((p,y)=>h.set(p,new qk(y,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(t,e){const s=Ic();let a=new ge(((u,h)=>u-h)),l=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((u=>{for(const h of u)h.keys().forEach((m=>{const p=e.get(m);if(p===null)return;let y=s.get(m)||Cn.empty();y=h.applyToLocalView(p,y),s.set(m,y);const v=(a.get(h.batchId)||Nt()).add(m);a=a.insert(h.batchId,v)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),p=m.key,y=m.value,v=JI();y.forEach((E=>{if(!l.has(E)){const I=aR(e.get(E),s.get(E));I!==null&&v.set(E,I),l=l.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(t,p,v))}return F.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,e,s,a){return KO(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):QI(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,a):this.getDocumentsMatchingCollectionQuery(t,e,s,a)}getNextDocuments(t,e,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,a-l.size):F.resolve(Zi());let h=kc,m=l;return u.next((p=>F.forEach(p,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?F.resolve():this.remoteDocumentCache.getEntry(t,y).next((E=>{m=m.insert(y,E)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,m,p,Nt()))).next((y=>({batchId:h,changes:ZI(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ht(e)).next((s=>{let a=dc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,s,a){const l=e.collectionGroup;let u=dc();return this.indexManager.getCollectionParents(t,l).next((h=>F.forEach(h,(m=>{const p=(function(v,E){return new Kl(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(e,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,s,a).next((y=>{y.forEach(((v,E)=>{u=u.insert(v,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(t,e,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,l,a)))).next((u=>{l.forEach(((m,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,pe.newInvalidDocument(y)))}));let h=dc();return u.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&Rc(y.mutation,p,Cn.empty(),te.now()),dh(e,p)&&(h=h.insert(m,p))})),h}))}}class Hk{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return F.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:Je(a.createTime)}})(e)),F.resolve()}getNamedQuery(t,e){return F.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(a){return{name:a.name,query:IR(a.bundledQuery),readTime:Je(a.readTime)}})(e)),F.resolve()}}class Gk{constructor(){this.overlays=new ge(ht.comparator),this.Lr=new Map}getOverlay(t,e){return F.resolve(this.overlays.get(e))}getOverlays(t,e){const s=Zi();return F.forEach(e,(a=>this.getOverlay(t,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(t,e,s){return s.forEach(((a,l)=>{this.bt(t,e,l)})),F.resolve()}removeOverlaysForBatchId(t,e,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),F.resolve()}getOverlaysForCollection(t,e,s){const a=Zi(),l=e.length+1,u=new ht(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const m=h.getNext().value,p=m.getKey();if(!e.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return F.resolve(a)}getOverlaysForCollectionGroup(t,e,s,a){let l=new ge(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===e&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=Zi(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=Zi(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=a)););return F.resolve(h)}bt(t,e,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new iv(e,s));let l=this.Lr.get(e);l===void 0&&(l=Nt(),this.Lr.set(e,l)),this.Lr.set(e,l.add(s.key))}}class Kk{constructor(){this.sessionToken=ze.EMPTY_BYTE_STRING}getSessionToken(t){return F.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,F.resolve()}}class lv{constructor(){this.kr=new ne(Ze.Kr),this.qr=new ne(Ze.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const s=new Ze(t,e);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,e){t.forEach((s=>this.addReference(s,e)))}removeReference(t,e){this.Wr(new Ze(t,e))}Qr(t,e){t.forEach((s=>this.removeReference(s,e)))}Gr(t){const e=new ht(new Ht([])),s=new Ze(e,t),a=new Ze(e,t+1),l=[];return this.qr.forEachInRange([s,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new ht(new Ht([])),s=new Ze(e,t),a=new Ze(e,t+1);let l=Nt();return this.qr.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(t){const e=new Ze(t,0),s=this.kr.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class Ze{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return ht.comparator(t.key,e.key)||It(t.Hr,e.Hr)}static Ur(t,e){return It(t.Hr,e.Hr)||ht.comparator(t.key,e.key)}}class Yk{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new ne(Ze.Kr)}checkEmpty(t){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new ev(l,e,s,a);this.mutationQueue.push(u);for(const h of a)this.Jr=this.Jr.add(new Ze(h.key,l)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return F.resolve(u)}lookupMutationBatch(t,e){return F.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,a=this.Xr(s),l=a<0?0:a;return F.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Ya:this.Yn-1)}getAllMutationBatches(t){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new Ze(e,0),a=new Ze(e,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(u=>{const h=this.Zr(u.Hr);l.push(h)})),F.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new ne(It);return e.forEach((a=>{const l=new Ze(a,0),u=new Ze(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(h=>{s=s.add(h.Hr)}))})),F.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,a=s.length+1;let l=s;ht.isDocumentKey(l)||(l=l.child(""));const u=new Ze(new ht(l),0);let h=new ne(It);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(h=h.add(m.Hr)),!0)}),u),F.resolve(this.Yr(h))}Yr(t){const e=[];return t.forEach((s=>{const a=this.Zr(s);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){_t(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return F.forEach(e.mutations,(a=>{const l=new Ze(a.key,e.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,e){const s=new Ze(e,0),a=this.Jr.firstAfterOrEqual(s);return F.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,F.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Qk{constructor(t){this.ti=t,this.docs=(function(){return new ge(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,a=this.docs.get(s),l=a?a.size:0,u=this.ti(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return F.resolve(s?s.document.mutableCopy():pe.newInvalidDocument(e))}getEntries(t,e){let s=jn();return e.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():pe.newInvalidDocument(a))})),F.resolve(s)}getDocumentsMatchingQuery(t,e,s,a){let l=jn();const u=e.path,h=new ht(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||q_(yI(y),s)<=0||(a.has(y.key)||dh(e,y))&&(l=l.insert(y.key,y.mutableCopy()))}return F.resolve(l)}getAllFromCollectionGroup(t,e,s,a){mt(9500)}ni(t,e){return F.forEach(this.docs,(s=>e(s)))}newChangeBuffer(t){return new $k(this)}getSize(t){return F.resolve(this.size)}}class $k extends kR{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?e.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(s)})),F.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class Xk{constructor(t){this.persistence=t,this.ri=new js((e=>no(e)),hh),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.ii=0,this.si=new lv,this.targetCount=0,this.oi=ro._r()}forEachTarget(t,e){return this.ri.forEach(((s,a)=>e(a))),F.resolve()}getLastRemoteSnapshotVersion(t){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return F.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.ii&&(this.ii=e),F.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new ro(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,F.resolve()}updateTargetData(t,e){return this.lr(e),F.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,F.resolve()}removeTargets(t,e,s){let a=0;const l=[];return this.ri.forEach(((u,h)=>{h.sequenceNumber<=e&&s.get(h.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)})),F.waitFor(l).next((()=>a))}getTargetCount(t){return F.resolve(this.targetCount)}getTargetData(t,e){const s=this.ri.get(e)||null;return F.resolve(s)}addMatchingKeys(t,e,s){return this.si.$r(e,s),F.resolve()}removeMatchingKeys(t,e,s){this.si.Qr(e,s);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach((u=>{l.push(a.markPotentiallyOrphaned(t,u))})),F.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),F.resolve()}getMatchingKeysForTargetId(t,e){const s=this.si.jr(e);return F.resolve(s)}containsKey(t,e){return F.resolve(this.si.containsKey(e))}}class uv{constructor(t,e){this._i={},this.overlays={},this.ai=new si(0),this.ui=!1,this.ui=!0,this.ci=new Kk,this.referenceDelegate=t(this),this.li=new Xk(this),this.indexManager=new Ok,this.remoteDocumentCache=(function(a){return new Qk(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new AR(e),this.Pi=new Hk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Gk,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this._i[t.toKey()];return s||(s=new Yk(e,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,s){lt("MemoryPersistence","Starting transaction:",t);const a=new Wk(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(t,e){return F.or(Object.values(this._i).map((s=>()=>s.containsKey(t,e))))}}class Wk extends vI{constructor(t){super(),this.currentSequenceNumber=t}}class Vm{constructor(t){this.persistence=t,this.Ri=new lv,this.Ai=null}static Vi(t){return new Vm(t)}get di(){if(this.Ai)return this.Ai;throw mt(60996)}addReference(t,e,s){return this.Ri.addReference(s,e),this.di.delete(s.toString()),F.resolve()}removeReference(t,e,s){return this.Ri.removeReference(s,e),this.di.add(s.toString()),F.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),F.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.di,(s=>{const a=ht.fromPath(s);return this.mi(t,a).next((l=>{l||e.removeEntry(a,Tt.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((s=>{s?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return F.or([()=>F.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class Zd{constructor(t,e){this.persistence=t,this.fi=new js((s=>mn(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=OR(this,e)}static Vi(t,e){return new Zd(t,e)}Ti(){}Ii(t){return F.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>e.next((a=>s+a))))}pr(t){let e=0;return this.mr(t,(s=>{e++})).next((()=>e))}mr(t,e){return F.forEach(this.fi,((s,a)=>this.wr(t,s,a).next((l=>l?F.resolve():e(a)))))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(t,(u=>this.wr(t,u,e).next((h=>{h||(s++,l.removeEntry(u,Tt.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),F.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.fi.set(s,t.currentSequenceNumber),F.resolve()}removeReference(t,e,s){return this.fi.set(s,t.currentSequenceNumber),F.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),F.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Sd(t.data.value)),e}wr(t,e,s){return F.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.fi.get(e);return F.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Zk{constructor(t){this.serializer=t}k(t,e,s,a){const l=new vm("createOrUpgrade",e);s<1&&a>=1&&((function(m){m.createObjectStore(ch)})(t),(function(m){m.createObjectStore(Bc,{keyPath:oO}),m.createObjectStore(bi,{keyPath:NS,autoIncrement:!0}).createIndex(Ha,PS,{unique:!0}),m.createObjectStore(Il)})(t),SA(t),(function(m){m.createObjectStore(Ua)})(t));let u=F.resolve();return s<3&&a>=3&&(s!==0&&((function(m){m.deleteObjectStore(xl),m.deleteObjectStore(Rl),m.deleteObjectStore(Qa)})(t),SA(t)),u=u.next((()=>(function(m){const p=m.store(Qa),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Tt.min().toTimestamp(),targetCount:0};return p.put(Gd,y)})(l)))),s<4&&a>=4&&(s!==0&&(u=u.next((()=>(function(m,p){return p.store(bi).H().next((v=>{m.deleteObjectStore(bi),m.createObjectStore(bi,{keyPath:NS,autoIncrement:!0}).createIndex(Ha,PS,{unique:!0});const E=p.store(bi),I=v.map((N=>E.put(N)));return F.waitFor(I)}))})(t,l)))),u=u.next((()=>{(function(m){m.createObjectStore(Cl,{keyPath:gO})})(t)}))),s<5&&a>=5&&(u=u.next((()=>this.gi(l)))),s<6&&a>=6&&(u=u.next((()=>((function(m){m.createObjectStore(zc)})(t),this.pi(l))))),s<7&&a>=7&&(u=u.next((()=>this.yi(l)))),s<8&&a>=8&&(u=u.next((()=>this.wi(t,l)))),s<9&&a>=9&&(u=u.next((()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(t)}))),s<10&&a>=10&&(u=u.next((()=>this.bi(l)))),s<11&&a>=11&&(u=u.next((()=>{(function(m){m.createObjectStore(Tm,{keyPath:yO})})(t),(function(m){m.createObjectStore(Em,{keyPath:_O})})(t)}))),s<12&&a>=12&&(u=u.next((()=>{(function(m){const p=m.createObjectStore(bm,{keyPath:wO});p.createIndex(Uy,IO,{unique:!1}),p.createIndex(II,RO,{unique:!1})})(t)}))),s<13&&a>=13&&(u=u.next((()=>(function(m){const p=m.createObjectStore(Hd,{keyPath:uO});p.createIndex(Ed,cO),p.createIndex(bI,hO)})(t))).next((()=>this.Si(t,l))).next((()=>t.deleteObjectStore(Ua)))),s<14&&a>=14&&(u=u.next((()=>this.Di(t,l)))),s<15&&a>=15&&(u=u.next((()=>(function(m){m.createObjectStore(K_,{keyPath:vO,autoIncrement:!0}).createIndex(Ly,TO,{unique:!1}),m.createObjectStore(bc,{keyPath:EO}).createIndex(AI,bO,{unique:!1}),m.createObjectStore(Sc,{keyPath:SO}).createIndex(wI,AO,{unique:!1})})(t)))),s<16&&a>=16&&(u=u.next((()=>{e.objectStore(bc).clear()})).next((()=>{e.objectStore(Sc).clear()}))),s<17&&a>=17&&(u=u.next((()=>{(function(m){m.createObjectStore(Y_,{keyPath:xO})})(t)}))),s<18&&a>=18&&bw()&&(u=u.next((()=>{e.objectStore(bc).clear()})).next((()=>{e.objectStore(Sc).clear()}))),u}pi(t){let e=0;return t.store(Ua).ee(((s,a)=>{e+=Wd(a)})).next((()=>{const s={byteSize:e};return t.store(zc).put(ky,s)}))}gi(t){const e=t.store(Bc),s=t.store(bi);return e.H().next((a=>F.forEach(a,(l=>{const u=IDBKeyRange.bound([l.userId,Ya],[l.userId,l.lastAcknowledgedBatchId]);return s.H(Ha,u).next((h=>F.forEach(h,(m=>{_t(m.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:m.batchId});const p=ja(this.serializer,m);return DR(t,l.userId,p).next((()=>{}))}))))}))))}yi(t){const e=t.store(xl),s=t.store(Ua);return t.store(Qa).get(Gd).next((a=>{const l=[];return s.ee(((u,h)=>{const m=new Ht(u),p=(function(v){return[0,mn(v)]})(m);l.push(e.get(p).next((y=>y?F.resolve():(v=>e.put({targetId:0,path:mn(v),sequenceNumber:a.highestListenSequenceNumber}))(m))))})).next((()=>F.waitFor(l)))}))}wi(t,e){t.createObjectStore(jc,{keyPath:pO});const s=e.store(jc),a=new ov,l=u=>{if(a.add(u)){const h=u.lastSegment(),m=u.popLast();return s.put({collectionId:h,parent:mn(m)})}};return e.store(Ua).ee({Y:!0},((u,h)=>{const m=new Ht(u);return l(m.popLast())})).next((()=>e.store(Il).ee({Y:!0},(([u,h,m],p)=>{const y=Wi(h);return l(y.popLast())}))))}bi(t){const e=t.store(Rl);return e.ee(((s,a)=>{const l=pc(a),u=wR(this.serializer,l);return e.put(u)}))}Si(t,e){const s=e.store(Ua),a=[];return s.ee(((l,u)=>{const h=e.store(Hd),m=(function(v){return v.document?new ht(Ht.fromString(v.document.name).popFirst(5)):v.noDocument?ht.fromSegments(v.noDocument.path):v.unknownDocument?ht.fromSegments(v.unknownDocument.path):mt(36783)})(u).path.toArray(),p={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};a.push(h.put(p))})).next((()=>F.waitFor(a)))}Di(t,e){const s=e.store(bi),a=LR(this.serializer),l=new uv(Vm.Vi,this.serializer.yt);return s.H().next((u=>{const h=new Map;return u.forEach((m=>{let p=h.get(m.userId)??Nt();ja(this.serializer,m).keys().forEach((y=>p=p.add(y))),h.set(m.userId,p)})),F.forEach(h,((m,p)=>{const y=new _n(p),v=Cm.wt(this.serializer,y),E=l.getIndexManager(y),I=Dm.wt(y,this.serializer,E,l.referenceDelegate);return new UR(a,I,v,E).recalculateAndSaveOverlaysForDocumentKeys(new By(e,si.ce),m).next()}))}))}}function SA(n){n.createObjectStore(xl,{keyPath:dO}).createIndex(G_,mO,{unique:!0}),n.createObjectStore(Rl,{keyPath:"targetId"}).createIndex(SI,fO,{unique:!0}),n.createObjectStore(Qa)}const wr="IndexedDbPersistence",sy=18e5,ry=5e3,ay="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Jk="main";class cv{constructor(t,e,s,a,l,u,h,m,p,y,v=18){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=s,this.Ci=l,this.window=u,this.document=h,this.Fi=p,this.Mi=y,this.xi=v,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=E=>Promise.resolve(),!cv.v())throw new ut(Z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zk(this,a),this.Ki=e+Jk,this.serializer=new AR(m),this.qi=new jr(this.Ki,this.xi,new Zk(this.serializer)),this.ci=new Ck,this.li=new Lk(this.referenceDelegate,this.serializer),this.remoteDocumentCache=LR(this.serializer),this.Pi=new xk,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,y===!1&&vn(wr,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ut(Z.FAILED_PRECONDITION,ay);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.li.getHighestSequenceNumber(t)))})).then((t=>{this.ai=new si(t,this.Fi)})).then((()=>{this.ui=!0})).catch((t=>(this.qi&&this.qi.close(),Promise.reject(t))))}zi(t){return this.ki=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.qi.q((async e=>{e.newVersion===null&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>od(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(t).next((e=>{e||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(t))).next((e=>this.isPrimary&&!e?this.Ji(t).next((()=>!1)):!!e&&this.Zi(t).next((()=>!0)))))).catch((t=>{if(Wr(t))return lt(wr,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return lt(wr,"Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.Ci.enqueueRetryable((()=>this.ki(t))),this.isPrimary=t}))}ji(t){return uc(t).get(el).next((e=>F.resolve(this.Xi(e))))}Yi(t){return od(t).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,sy)){this.Li=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const s=Qe(e,Cl);return s.H().next((a=>{const l=this.ns(a,sy),u=a.filter((h=>l.indexOf(h)===-1));return F.forEach(u,(h=>s.delete(h.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ui)for(const e of t)this.Ui.removeItem(this.rs(e.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(t){return!!t&&t.ownerId===this.clientId}Hi(t){return this.Mi?F.resolve(!0):uc(t).get(el).next((e=>{if(e!==null&&this.ts(e.leaseTimestampMs,ry)&&!this.ss(e.ownerId)){if(this.Xi(e)&&this.networkEnabled)return!0;if(!this.Xi(e)){if(!e.allowTabSynchronization)throw new ut(Z.FAILED_PRECONDITION,ay);return!1}}return!(!this.networkEnabled||!this.inForeground)||od(t).H().next((s=>this.ns(s,ry).find((a=>{if(this.clientId!==a.clientId){const l=!this.networkEnabled&&a.networkEnabled,u=!this.inForeground&&a.inForeground,h=this.networkEnabled===a.networkEnabled;if(l||u&&h)return!0}return!1}))===void 0))})).next((e=>(this.isPrimary!==e&&lt(wr,`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[ch,Cl],(t=>{const e=new By(t,si.ce);return this.Ji(e).next((()=>this.Yi(e)))})),this.qi.close(),this.ls()}ns(t,e){return t.filter((s=>this.ts(s.updateTimeMs,e)&&!this.ss(s.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(t=>od(t).H().next((e=>this.ns(e,sy).map((s=>s.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(t,e){return Dm.wt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new kk(t,this.serializer.yt.databaseId)}getDocumentOverlayCache(t){return Cm.wt(this.serializer,t)}getBundleCache(){return this.Pi}runTransaction(t,e,s){lt(wr,"Starting transaction:",t);const a=e==="readonly"?"readonly":"readwrite",l=(function(m){return m===18?VO:m===17?DI:m===16?DO:m===15?Q_:m===14?CI:m===13?xI:m===12?CO:m===11?RI:void mt(60245)})(this.xi);let u;return this.qi.runTransaction(t,a,l,(h=>(u=new By(h,this.ai?this.ai.next():si.ce),e==="readwrite-primary"?this.ji(u).next((m=>!!m||this.Hi(u))).next((m=>{if(!m)throw vn(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new ut(Z.FAILED_PRECONDITION,_I);return s(u)})).next((m=>this.Zi(u).next((()=>m)))):this.Ps(u).next((()=>s(u)))))).then((h=>(u.raiseOnCommittedEvent(),h)))}Ps(t){return uc(t).get(el).next((e=>{if(e!==null&&this.ts(e.leaseTimestampMs,ry)&&!this.ss(e.ownerId)&&!this.Xi(e)&&!(this.Mi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ut(Z.FAILED_PRECONDITION,ay)}))}Zi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return uc(t).put(el,e)}static v(){return jr.v()}Ji(t){const e=uc(t);return e.get(el).next((s=>this.Xi(s)?(lt(wr,"Releasing primary lease."),e.delete(el)):F.resolve()))}ts(t,e){const s=Date.now();return!(t<s-e)&&(!(t>s)||(vn(`Detected an update time that is in the future: ${t} > ${s}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const t=/(?:Version|Mobile)\/1[456]/;Ew()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(t){try{const e=this.Ui?.getItem(this.rs(t))!==null;return lt(wr,`Client '${t}' ${e?"is":"is not"} zombied in LocalStorage`),e}catch(e){return vn(wr,"Failed to get zombied client id.",e),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(t){vn("Failed to set zombie client id.",t)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function uc(n){return Qe(n,ch)}function od(n){return Qe(n,Cl)}function t4(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class hv{constructor(t,e,s,a){this.targetId=t,this.fromCache=e,this.Ts=s,this.Is=a}static Es(t,e){let s=Nt(),a=Nt();for(const l of e.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new hv(t,e.fromCache,s,a)}}class e4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class BR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Ew()?8:TI(Ke())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,s,a){const l={result:null};return this.gs(t,e).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(t,e,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new e4;return this.ys(t,e,u).next((h=>{if(l.result=h,this.As)return this.ws(t,e,u,h.size)}))})).next((()=>l.result))}ws(t,e,s,a){return s.documentReadCount<this.Vs?(ol()<=Bt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",ll(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),F.resolve()):(ol()<=Bt.DEBUG&&lt("QueryEngine","Query:",ll(e),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(ol()<=Bt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",ll(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ai(e))):F.resolve())}gs(t,e){if(YS(e))return F.resolve(null);let s=ai(e);return this.indexManager.getIndexType(t,s).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=Ky(e,null,"F"),s=ai(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const u=Nt(...l);return this.fs.getDocuments(t,u).next((h=>this.indexManager.getMinOffset(t,s).next((m=>{const p=this.bs(e,h);return this.Ss(e,p,u,m.readTime)?this.gs(t,Ky(e,null,"F")):this.Ds(t,p,e,m)}))))})))))}ps(t,e,s,a){return YS(e)||a.isEqual(Tt.min())?F.resolve(null):this.fs.getDocuments(t,s).next((l=>{const u=this.bs(e,l);return this.Ss(e,u,s,a)?F.resolve(null):(ol()<=Bt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ll(e)),this.Ds(t,u,e,tO(a,kc)).next((h=>h)))}))}bs(t,e){let s=new ne(XI(t));return e.forEach(((a,l)=>{dh(t,l)&&(s=s.add(l))})),s}Ss(t,e,s,a){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(t,e,s){return ol()<=Bt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",ll(e)),this.fs.getDocumentsMatchingQuery(t,e,Fn.min(),s)}Ds(t,e,s,a){return this.fs.getDocumentsMatchingQuery(t,s,a).next((l=>(e.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const fv="LocalStore",n4=3e8;class i4{constructor(t,e,s,a){this.persistence=t,this.Cs=e,this.serializer=a,this.vs=new ge(It),this.Fs=new js((l=>no(l)),hh),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new UR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function zR(n,t,e,s){return new i4(n,t,e,s)}async function jR(n,t){const e=At(n);return await e.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return e.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,e.Os(t),e.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],h=[];let m=Nt();for(const p of a){u.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return e.localDocuments.getDocuments(s,m).next((p=>({Ns:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function s4(n,t){const e=At(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=t.batch.keys(),l=e.xs.newChangeBuffer({trackRemovals:!0});return(function(h,m,p,y){const v=p.batch,E=v.keys();let I=F.resolve();return E.forEach((N=>{I=I.next((()=>y.getEntry(m,N))).next((U=>{const L=p.docVersions.get(N);_t(L!==null,48541),U.version.compareTo(L)<0&&(v.applyToRemoteDocument(U,p),U.isValidDocument()&&(U.setReadTime(p.commitVersion),y.addEntry(U)))}))})),I.next((()=>h.mutationQueue.removeMutationBatch(m,v)))})(e,s,t,l).next((()=>l.apply(s))).next((()=>e.mutationQueue.performConsistencyCheck(s))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let m=Nt();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(m=m.add(h.batch.mutations[p].key));return m})(t)))).next((()=>e.localDocuments.getDocuments(s,a)))}))}function FR(n){const t=At(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function r4(n,t){const e=At(n),s=t.snapshotVersion;let a=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=e.xs.newChangeBuffer({trackRemovals:!0});a=e.vs;const h=[];t.targetChanges.forEach(((y,v)=>{const E=a.get(v);if(!E)return;h.push(e.li.removeMatchingKeys(l,y.removedDocuments,v).next((()=>e.li.addMatchingKeys(l,y.addedDocuments,v))));let I=E.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(v)!==null?I=I.withResumeToken(ze.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):y.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(y.resumeToken,s)),a=a.insert(v,I),(function(U,L,Y){return U.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=n4?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(E,I,y)&&h.push(e.li.updateTargetData(l,I))}));let m=jn(),p=Nt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(a4(l,u,t.documentUpdates).next((y=>{m=y.Bs,p=y.Ls}))),!s.isEqual(Tt.min())){const y=e.li.getLastRemoteSnapshotVersion(l).next((v=>e.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));h.push(y)}return F.waitFor(h).next((()=>u.apply(l))).next((()=>e.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(e.vs=a,l)))}function a4(n,t,e){let s=Nt(),a=Nt();return e.forEach((l=>s=s.add(l))),t.getEntries(n,s).next((l=>{let u=jn();return e.forEach(((h,m)=>{const p=l.get(h);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),m.isNoDocument()&&m.version.isEqual(Tt.min())?(t.removeEntry(h,m.readTime),u=u.insert(h,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),u=u.insert(h,m)):lt(fv,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",m.version)})),{Bs:u,Ls:a}}))}function o4(n,t){const e=At(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Ya),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function l4(n,t){const e=At(n);return e.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return e.li.getTargetData(s,t).next((l=>l?(a=l,F.resolve(a)):e.li.allocateTargetId(s).next((u=>(a=new Cs(t,u,"TargetPurposeListen",s.currentSequenceNumber),e.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=e.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.vs=e.vs.insert(s.targetId,s),e.Fs.set(t,s.targetId)),s}))}async function t_(n,t,e){const s=At(n),a=s.vs.get(t),l=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Wr(u))throw u;lt(fv,`Failed to update sequence numbers for target ${t}: ${u}`)}s.vs=s.vs.remove(t),s.Fs.delete(a.target)}function AA(n,t,e){const s=At(n);let a=Tt.min(),l=Nt();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,y){const v=At(m),E=v.Fs.get(y);return E!==void 0?F.resolve(v.vs.get(E)):v.li.getTargetData(p,y)})(s,u,ai(t)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,h.targetId).next((m=>{l=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,t,e?a:Tt.min(),e?l:Nt()))).next((h=>(u4(s,$O(t),h),{documents:h,ks:l})))))}function u4(n,t,e){let s=n.Ms.get(t)||Tt.min();e.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),n.Ms.set(t,s)}class wA{constructor(){this.activeTargetIds=ek()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class qR{constructor(){this.vo=new wA,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,s){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new wA,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class c4{Mo(t){}shutdown(){}}const IA="ConnectivityMonitor";class RA{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){lt(IA,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){lt(IA,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ld=null;function e_(){return ld===null?ld=(function(){return 268435456+Math.round(2147483648*Math.random())})():ld++,"0x"+ld.toString(16)}const oy="RestConnection",h4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class f4{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===Kd?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(t,e,s,a,l){const u=e_(),h=this.Qo(t,e.toUriEncodedString());lt(oy,`Sending RPC '${t}' ${u}:`,h,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:p}=new URL(h),y=Fl(p);return this.zo(t,h,m,s,y).then((v=>(lt(oy,`Received RPC '${t}' ${u}: `,v),v)),(v=>{throw Oc(oy,`RPC '${t}' ${u} failed with error: `,v,"url: ",h,"request:",s),v}))}jo(t,e,s,a,l,u){return this.Wo(t,e,s,a,l)}Go(t,e,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Gl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,l)=>t[l]=a)),s&&s.headers.forEach(((a,l)=>t[l]=a))}Qo(t,e){const s=h4[t];let a=`${this.qo}/v1/${e}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class d4{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const hn="WebChannelConnection",cc=(n,t,e)=>{n.listen(t,(s=>{try{e(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class El extends f4{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!El.c_){const t=hI();cc(t,cI.STAT_EVENT,(e=>{e.stat===Ny.PROXY?lt(hn,"STAT_EVENT: detected buffering proxy"):e.stat===Ny.NOPROXY&&lt(hn,"STAT_EVENT: detected no buffering proxy")})),El.c_=!0}}zo(t,e,s,a,l){const u=e_();return new Promise(((h,m)=>{const p=new lI;p.setWithCredentials(!0),p.listenOnce(uI.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case _d.NO_ERROR:const v=p.getResponseJson();lt(hn,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(v)),h(v);break;case _d.TIMEOUT:lt(hn,`RPC '${t}' ${u} timed out`),m(new ut(Z.DEADLINE_EXCEEDED,"Request time out"));break;case _d.HTTP_ERROR:const E=p.getStatus();if(lt(hn,`RPC '${t}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const N=I?.error;if(N&&N.status&&N.message){const U=(function(Y){const W=Y.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(W)>=0?W:Z.UNKNOWN})(N.status);m(new ut(U,N.message))}else m(new ut(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ut(Z.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{lt(hn,`RPC '${t}' ${u} completed.`)}}));const y=JSON.stringify(a);lt(hn,`RPC '${t}' ${u} sending request:`,a),p.send(e,"POST",y,s,15)}))}T_(t,e,s){const a=e_(),l=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,e,s),h.encodeInitMessageHeaders=!0;const p=l.join("");lt(hn,`Creating RPC '${t}' stream ${a}: ${p}`,h);const y=u.createWebChannel(p,h);this.I_(y);let v=!1,E=!1;const I=new d4({Ho:N=>{E?lt(hn,`Not sending because RPC '${t}' stream ${a} is closed:`,N):(v||(lt(hn,`Opening RPC '${t}' stream ${a} transport.`),y.open(),v=!0),lt(hn,`RPC '${t}' stream ${a} sending:`,N),y.send(N))},Jo:()=>y.close()});return cc(y,fc.EventType.OPEN,(()=>{E||(lt(hn,`RPC '${t}' stream ${a} transport opened.`),I.i_())})),cc(y,fc.EventType.CLOSE,(()=>{E||(E=!0,lt(hn,`RPC '${t}' stream ${a} transport closed`),I.o_(),this.E_(y))})),cc(y,fc.EventType.ERROR,(N=>{E||(E=!0,Oc(hn,`RPC '${t}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),I.o_(new ut(Z.UNAVAILABLE,"The operation could not be completed")))})),cc(y,fc.EventType.MESSAGE,(N=>{if(!E){const U=N.data[0];_t(!!U,16349);const L=U,Y=L?.error||L[0]?.error;if(Y){lt(hn,`RPC '${t}' stream ${a} received error:`,Y);const W=Y.status;let z=(function(at){const R=ke[at];if(R!==void 0)return uR(R)})(W),Q=Y.message;z===void 0&&(z=Z.INTERNAL,Q="Unknown error status: "+W+" with message "+Y.message),E=!0,I.o_(new ut(z,Q)),y.close()}else lt(hn,`RPC '${t}' stream ${a} received:`,U),I.__(U)}})),El.u_(),setTimeout((()=>{I.s_()}),0),I}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,s){super.Go(t,e,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return fI()}}function m4(n){return new El(n)}function p4(){return typeof window<"u"?window:null}function xd(){return typeof document<"u"?document:null}function Mm(n){return new gk(n,!0)}El.c_=!1;class dv{constructor(t,e,s=1e3,a=1.5,l=6e4){this.Ci=t,this.timerId=e,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-s);a>0&&lt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const xA="PersistentStream";class HR{constructor(t,e,s,a,l,u,h,m){this.Ci=t,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dv(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===Z.RESOURCE_EXHAUSTED?(vn(e.toString()),vn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===e&&this.G_(s,a)}),(s=>{t((()=>{const a=new ut(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(t,e){const s=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return lt(xA,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(lt(xA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class g4 extends HR{constructor(t,e,s,a,l,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,a,u),this.serializer=l}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=Tk(this.serializer,t),s=(function(l){if(!("targetChange"in l))return Tt.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Tt.min():u.readTime?Je(u.readTime):Tt.min()})(t);return this.listener.J_(e,s)}Z_(t){const e={};e.database=$y(this.serializer),e.addTarget=(function(l,u){let h;const m=u.target;if(h=Yd(m)?{documents:yR(l,m)}:{query:_R(l,m).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=fR(l,u.resumeToken);const p=Yy(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Tt.min())>0){h.readTime=Ll(l,u.snapshotVersion.toTimestamp());const p=Yy(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,t);const s=bk(this.serializer,t);s&&(e.labels=s),this.K_(e)}X_(t){const e={};e.database=$y(this.serializer),e.removeTarget=t,this.K_(e)}}class y4 extends HR{constructor(t,e,s,a,l,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return _t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,_t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){_t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=Ek(t.writeResults,t.commitTime),s=Je(t.commitTime);return this.listener.na(s,e)}ra(){const t={};t.database=$y(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((s=>$c(this.serializer,s)))};this.K_(e)}}class _4{}class v4 extends _4{constructor(t,e,s,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(t,Qy(e,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ut(Z.UNKNOWN,l.toString())}))}jo(t,e,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.jo(t,Qy(e,s),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ut(Z.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function T4(n,t,e,s){return new v4(n,t,e,s)}class E4{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vn(e),this.aa=!1):lt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ao="RemoteStore";class b4{constructor(t,e,s,a,l){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{uo(this)&&(lt(ao,"Restarting streams for network reachability change."),await(async function(m){const p=At(m);p.Ea.add(4),await gh(p),p.Va.set("Unknown"),p.Ea.delete(4),await Nm(p)})(this))}))})),this.Va=new E4(s,a)}}async function Nm(n){if(uo(n))for(const t of n.Ra)await t(!0)}async function gh(n){for(const t of n.Ra)await t(!1)}function GR(n,t){const e=At(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),yv(e)?gv(e):Ql(e).O_()&&pv(e,t))}function mv(n,t){const e=At(n),s=Ql(e);e.Ia.delete(t),s.O_()&&KR(e,t),e.Ia.size===0&&(s.O_()?s.L_():uo(e)&&e.Va.set("Unknown"))}function pv(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Ql(n).Z_(t)}function KR(n,t){n.da.$e(t),Ql(n).X_(t)}function gv(n){n.da=new fk({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Ql(n).start(),n.Va.ua()}function yv(n){return uo(n)&&!Ql(n).x_()&&n.Ia.size>0}function uo(n){return At(n).Ea.size===0}function YR(n){n.da=void 0}async function S4(n){n.Va.set("Online")}async function A4(n){n.Ia.forEach(((t,e)=>{pv(n,t)}))}async function w4(n,t){YR(n),yv(n)?(n.Va.ha(t),gv(n)):n.Va.set("Unknown")}async function I4(n,t,e){if(n.Va.set("Online"),t instanceof hR&&t.state===2&&t.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.da.removeTarget(h))})(n,t)}catch(s){lt(ao,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Jd(n,s)}else if(t instanceof Id?n.da.Xe(t):t instanceof cR?n.da.st(t):n.da.tt(t),!e.isEqual(Tt.min()))try{const s=await FR(n.localStore);e.compareTo(s)>=0&&await(function(l,u){const h=l.da.Tt(u);return h.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,u))}})),h.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(ze.EMPTY_BYTE_STRING,y.snapshotVersion)),KR(l,m);const v=new Cs(y.target,m,p,y.sequenceNumber);pv(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(s){lt(ao,"Failed to raise snapshot:",s),await Jd(n,s)}}async function Jd(n,t,e){if(!Wr(t))throw t;n.Ea.add(1),await gh(n),n.Va.set("Offline"),e||(e=()=>FR(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{lt(ao,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Nm(n)}))}function QR(n,t){return t().catch((e=>Jd(n,e,t)))}async function yh(n){const t=At(n),e=Yr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ya;for(;R4(t);)try{const a=await o4(t.localStore,s);if(a===null){t.Ta.length===0&&e.L_();break}s=a.batchId,x4(t,a)}catch(a){await Jd(t,a)}$R(t)&&XR(t)}function R4(n){return uo(n)&&n.Ta.length<10}function x4(n,t){n.Ta.push(t);const e=Yr(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function $R(n){return uo(n)&&!Yr(n).x_()&&n.Ta.length>0}function XR(n){Yr(n).start()}async function C4(n){Yr(n).ra()}async function D4(n){const t=Yr(n);for(const e of n.Ta)t.ea(e.mutations)}async function V4(n,t,e){const s=n.Ta.shift(),a=nv.from(s,t,e);await QR(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await yh(n)}async function M4(n,t){t&&Yr(n).Y_&&await(async function(s,a){if((function(u){return lR(u)&&u!==Z.ABORTED})(a.code)){const l=s.Ta.shift();Yr(s).B_(),await QR(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await yh(s)}})(n,t),$R(n)&&XR(n)}async function CA(n,t){const e=At(n);e.asyncQueue.verifyOperationInProgress(),lt(ao,"RemoteStore received new credentials");const s=uo(e);e.Ea.add(3),await gh(e),s&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Nm(e)}async function N4(n,t){const e=At(n);t?(e.Ea.delete(2),await Nm(e)):t||(e.Ea.add(2),await gh(e),e.Va.set("Unknown"))}function Ql(n){return n.ma||(n.ma=(function(e,s,a){const l=At(e);return l.sa(),new g4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:S4.bind(null,n),Yo:A4.bind(null,n),t_:w4.bind(null,n),J_:I4.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),yv(n)?gv(n):n.Va.set("Unknown")):(await n.ma.stop(),YR(n))}))),n.ma}function Yr(n){return n.fa||(n.fa=(function(e,s,a){const l=At(e);return l.sa(),new y4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:C4.bind(null,n),t_:M4.bind(null,n),ta:D4.bind(null,n),na:V4.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await yh(n)):(await n.fa.stop(),n.Ta.length>0&&(lt(ao,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class _v{constructor(t,e,s,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,a,l){const u=Date.now()+s,h=new _v(t,e,u,a,l);return h.start(s),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vv(n,t){if(vn("AsyncQueue",`${t}: ${n}`),Wr(n))return new ut(Z.UNAVAILABLE,`${t}: ${n}`);throw n}class bl{static emptySet(t){return new bl(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||ht.comparator(e.key,s.key):(e,s)=>ht.comparator(e.key,s.key),this.keyedMap=dc(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,s)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof bl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new bl;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}class DA{constructor(){this.ga=new ge(ht.comparator)}track(t){const e=t.doc.key,s=this.ga.get(e);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(e,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(e):t.type===1&&s.type===2?this.ga=this.ga.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):mt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,s)=>{t.push(s)})),t}}class Ul{constructor(t,e,s,a,l,u,h,m,p){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,e,s,a,l){const u=[];return e.forEach((h=>{u.push({type:0,doc:h})})),new Ul(t,e,bl.emptySet(e),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==s[a].type||!e[a].doc.isEqual(s[a].doc))return!1;return!0}}class P4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class O4{constructor(){this.queries=VA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const a=At(e),l=a.queries;a.queries=VA(),l.forEach(((u,h)=>{for(const m of h.ba)m.onError(s)}))})(this,new ut(Z.ABORTED,"Firestore shutting down"))}}function VA(){return new js((n=>$I(n)),wm)}async function Tv(n,t){const e=At(n);let s=3;const a=t.query;let l=e.queries.get(a);l?!l.Sa()&&t.Da()&&(s=2):(l=new P4,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await e.onListen(a,!0);break;case 1:l.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(u){const h=vv(u,`Initialization of query '${ll(t.query)}' failed`);return void t.onError(h)}e.queries.set(a,l),l.ba.push(t),t.va(e.onlineState),l.wa&&t.Fa(l.wa)&&bv(e)}async function Ev(n,t){const e=At(n),s=t.query;let a=3;const l=e.queries.get(s);if(l){const u=l.ba.indexOf(t);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=t.Da()?0:1:!l.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function k4(n,t){const e=At(n);let s=!1;for(const a of t){const l=a.query,u=e.queries.get(l);if(u){for(const h of u.ba)h.Fa(a)&&(s=!0);u.wa=a}}s&&bv(e)}function L4(n,t,e){const s=At(n),a=s.queries.get(t);if(a)for(const l of a.ba)l.onError(e);s.queries.delete(t)}function bv(n){n.Ca.forEach((t=>{t.next()}))}var n_,MA;(MA=n_||(n_={})).Ma="default",MA.Cache="cache";class Sv{constructor(t,e,s){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new Ul(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const s=e!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Ul.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==n_.Cache}}class WR{constructor(t){this.key=t}}class ZR{constructor(t){this.key=t}}class U4{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Nt(),this.mutatedKeys=Nt(),this.eu=XI(t),this.tu=new bl(this.eu)}get nu(){return this.Za}ru(t,e){const s=e?e.iu:new DA,a=e?e.tu:this.tu;let l=e?e.mutatedKeys:this.mutatedKeys,u=a,h=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,v)=>{const E=a.get(y),I=dh(this.query,v)?v:null,N=!!E&&this.mutatedKeys.has(E.key),U=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let L=!1;E&&I?E.data.isEqual(I.data)?N!==U&&(s.track({type:3,doc:I}),L=!0):this.su(E,I)||(s.track({type:2,doc:I}),L=!0,(m&&this.eu(I,m)>0||p&&this.eu(I,p)<0)&&(h=!0)):!E&&I?(s.track({type:0,doc:I}),L=!0):E&&!I&&(s.track({type:1,doc:E}),L=!0,(m||p)&&(h=!0)),L&&(I?(u=u.add(I),l=U?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Ss:h,mutatedKeys:l}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const u=t.iu.ya();u.sort(((y,v)=>(function(I,N){const U=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Vt:L})}};return U(I)-U(N)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(s),a=a??!1;const h=e&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Xa;return this.Xa=m,u.length!==0||p?{snapshot:new Ul(this.query,t.tu,l,u,t.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new DA,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Nt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const e=[];return t.forEach((s=>{this.Ya.has(s)||e.push(new ZR(s))})),this.Ya.forEach((s=>{t.has(s)||e.push(new WR(s))})),e}cu(t){this.Za=t.ks,this.Ya=Nt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Ul.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Av="SyncEngine";class B4{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class z4{constructor(t){this.key=t,this.hu=!1}}class j4{constructor(t,e,s,a,l,u){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new js((h=>$I(h)),wm),this.Iu=new Map,this.Eu=new Set,this.Ru=new ge(ht.comparator),this.Au=new Map,this.Vu=new lv,this.du={},this.mu=new Map,this.fu=ro.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function F4(n,t,e=!0){const s=sx(n);let a;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await JR(s,t,e,!0),a}async function q4(n,t){const e=sx(n);await JR(e,t,!0,!1)}async function JR(n,t,e,s){const a=await l4(n.localStore,ai(t)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,e);let h;return s&&(h=await H4(n,t,l,u==="current",a.resumeToken)),n.isPrimaryClient&&e&&GR(n.remoteStore,a),h}async function H4(n,t,e,s,a){n.pu=(v,E,I)=>(async function(U,L,Y,W){let z=L.view.ru(Y);z.Ss&&(z=await AA(U.localStore,L.query,!1).then((({documents:R})=>L.view.ru(R,z))));const Q=W&&W.targetChanges.get(L.targetId),rt=W&&W.targetMismatches.get(L.targetId)!=null,at=L.view.applyChanges(z,U.isPrimaryClient,Q,rt);return PA(U,L.targetId,at.au),at.snapshot})(n,v,E,I);const l=await AA(n.localStore,t,!0),u=new U4(t,l.ks),h=u.ru(l.documents),m=ph.createSynthesizedTargetChangeForCurrentChange(e,s&&n.onlineState!=="Offline",a),p=u.applyChanges(h,n.isPrimaryClient,m);PA(n,e,p.au);const y=new B4(t,e,u);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),p.snapshot}async function G4(n,t,e){const s=At(n),a=s.Tu.get(t),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!wm(u,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await t_(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),e&&mv(s.remoteStore,a.targetId),i_(s,a.targetId)})).catch(lo)):(i_(s,a.targetId),await t_(s.localStore,a.targetId,!0))}async function K4(n,t){const e=At(n),s=e.Tu.get(t),a=e.Iu.get(s.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),mv(e.remoteStore,s.targetId))}async function Y4(n,t,e){const s=rx(n);try{const a=await(function(u,h){const m=At(u),p=te.now(),y=h.reduce(((I,N)=>I.add(N.key)),Nt());let v,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let N=jn(),U=Nt();return m.xs.getEntries(I,y).next((L=>{N=L,N.forEach(((Y,W)=>{W.isValidDocument()||(U=U.add(Y))}))})).next((()=>m.localDocuments.getOverlayedDocuments(I,N))).next((L=>{v=L;const Y=[];for(const W of h){const z=lk(W,v.get(W.key).overlayedDocument);z!=null&&Y.push(new Fs(W.key,z,zI(z.value.mapValue),Ue.exists(!0)))}return m.mutationQueue.addMutationBatch(I,p,Y,h)})).next((L=>{E=L;const Y=L.applyToLocalDocumentSet(v,U);return m.documentOverlayCache.saveOverlays(I,L.batchId,Y)}))})).then((()=>({batchId:E.batchId,changes:ZI(v)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),(function(u,h,m){let p=u.du[u.currentUser.toKey()];p||(p=new ge(It)),p=p.insert(h,m),u.du[u.currentUser.toKey()]=p})(s,a.batchId,e),await _h(s,a.changes),await yh(s.remoteStore)}catch(a){const l=vv(a,"Failed to persist write");e.reject(l)}}async function tx(n,t){const e=At(n);try{const s=await r4(e.localStore,t);t.targetChanges.forEach(((a,l)=>{const u=e.Au.get(l);u&&(_t(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?_t(u.hu,14607):a.removedDocuments.size>0&&(_t(u.hu,42227),u.hu=!1))})),await _h(e,s,t)}catch(s){await lo(s)}}function NA(n,t,e){const s=At(n);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const a=[];s.Tu.forEach(((l,u)=>{const h=u.view.va(t);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const m=At(u);m.onlineState=h;let p=!1;m.queries.forEach(((y,v)=>{for(const E of v.ba)E.va(h)&&(p=!0)})),p&&bv(m)})(s.eventManager,t),a.length&&s.Pu.J_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Q4(n,t,e){const s=At(n);s.sharedClientState.updateQueryState(t,"rejected",e);const a=s.Au.get(t),l=a&&a.key;if(l){let u=new ge(ht.comparator);u=u.insert(l,pe.newNoDocument(l,Tt.min()));const h=Nt().add(l),m=new xm(Tt.min(),new Map,new ge(It),u,h);await tx(s,m),s.Ru=s.Ru.remove(l),s.Au.delete(t),wv(s)}else await t_(s.localStore,t,!1).then((()=>i_(s,t,e))).catch(lo)}async function $4(n,t){const e=At(n),s=t.batch.batchId;try{const a=await s4(e.localStore,t);nx(e,s,null),ex(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await _h(e,a)}catch(a){await lo(a)}}async function X4(n,t,e){const s=At(n);try{const a=await(function(u,h){const m=At(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,h).next((v=>(_t(v!==null,37113),y=v.keys(),m.mutationQueue.removeMutationBatch(p,v)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,h))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(s.localStore,t);nx(s,t,e),ex(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await _h(s,a)}catch(a){await lo(a)}}function ex(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function nx(n,t,e){const s=At(n);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),s.du[s.currentUser.toKey()]=a}}function i_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const s of n.Iu.get(t))n.Tu.delete(s),e&&n.Pu.yu(s,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((s=>{n.Vu.containsKey(s)||ix(n,s)}))}function ix(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&(mv(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),wv(n))}function PA(n,t,e){for(const s of e)s instanceof WR?(n.Vu.addReference(s.key,t),W4(n,s)):s instanceof ZR?(lt(Av,"Document no longer in limbo: "+s.key),n.Vu.removeReference(s.key,t),n.Vu.containsKey(s.key)||ix(n,s.key)):mt(19791,{wu:s})}function W4(n,t){const e=t.key,s=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(s)||(lt(Av,"New document in limbo: "+e),n.Eu.add(s),wv(n))}function wv(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new ht(Ht.fromString(t)),s=n.fu.next();n.Au.set(s,new z4(e)),n.Ru=n.Ru.insert(e,s),GR(n.remoteStore,new Cs(ai(fh(e.path)),s,"TargetPurposeLimboResolution",si.ce))}}async function _h(n,t,e){const s=At(n),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,m)=>{u.push(s.pu(m,t,e).then((p=>{if((p||e)&&s.isPrimaryClient){const y=p?!p.fromCache:e?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=hv.Es(m.targetId,p);l.push(y)}})))})),await Promise.all(u),s.Pu.J_(a),await(async function(m,p){const y=At(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>F.forEach(p,(E=>F.forEach(E.Ts,(I=>y.persistence.referenceDelegate.addReference(v,E.targetId,I))).next((()=>F.forEach(E.Is,(I=>y.persistence.referenceDelegate.removeReference(v,E.targetId,I)))))))))}catch(v){if(!Wr(v))throw v;lt(fv,"Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const I=y.vs.get(E),N=I.snapshotVersion,U=I.withLastLimboFreeSnapshotVersion(N);y.vs=y.vs.insert(E,U)}}})(s.localStore,l))}async function Z4(n,t){const e=At(n);if(!e.currentUser.isEqual(t)){lt(Av,"User change. New user:",t.toKey());const s=await jR(e.localStore,t);e.currentUser=t,(function(l,u){l.mu.forEach((h=>{h.forEach((m=>{m.reject(new ut(Z.CANCELLED,u))}))})),l.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await _h(e,s.Ns)}}function J4(n,t){const e=At(n),s=e.Au.get(t);if(s&&s.hu)return Nt().add(s.key);{let a=Nt();const l=e.Iu.get(t);if(!l)return a;for(const u of l){const h=e.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function sx(n){const t=At(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=tx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=J4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Q4.bind(null,t),t.Pu.J_=k4.bind(null,t.eventManager),t.Pu.yu=L4.bind(null,t.eventManager),t}function rx(n){const t=At(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=X4.bind(null,t),t}class Xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Mm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return zR(this.persistence,new BR,t.initialUser,this.serializer)}Cu(t){return new uv(Vm.Vi,this.serializer)}Du(t){return new qR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xc.provider={build:()=>new Xc};class t3 extends Xc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){_t(this.persistence.referenceDelegate instanceof Zd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new PR(s,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new uv((s=>Zd.Vi(s,e)),this.serializer)}}class e3 extends Xc{constructor(t,e,s){super(),this.xu=t,this.cacheSizeBytes=e,this.forceOwnership=s,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.xu.initialize(this,t),await rx(this.xu.syncEngine),await yh(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(t){return zR(this.persistence,new BR,t.initialUser,this.serializer)}Fu(t,e){const s=this.persistence.referenceDelegate.garbageCollector;return new PR(s,t.asyncQueue,e)}Mu(t,e){const s=new sO(e,this.persistence);return new iO(t.asyncQueue,s)}Cu(t){const e=t4(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),s=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new cv(this.synchronizeTabs,e,t.clientId,s,t.asyncQueue,p4(),xd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(t){return new qR}}class tm{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>NA(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Z4.bind(null,this.syncEngine),await N4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new O4})()}createDatastore(t){const e=Mm(t.databaseInfo.databaseId),s=m4(t.databaseInfo);return T4(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return(function(s,a,l,u,h){return new b4(s,a,l,u,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>NA(this.syncEngine,e,0)),(function(){return RA.v()?new RA:new c4})())}createSyncEngine(t,e){return(function(a,l,u,h,m,p,y){const v=new j4(a,l,u,h,m,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const s=At(e);lt(ao,"RemoteStore shutting down."),s.Ea.add(5),await gh(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}tm.provider={build:()=>new tm};class Iv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):vn("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}let n3=class{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ut(Z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const e=await(async function(a,l){const u=At(a),h={documents:l.map((v=>Qc(u.serializer,v)))},m=await u.jo("BatchGetDocuments",u.serializer.databaseId,Ht.emptyPath(),h,l.length),p=new Map;m.forEach((v=>{const E=vk(u.serializer,v);p.set(E.key.toString(),E)}));const y=[];return l.forEach((v=>{const E=p.get(v.toString());_t(!!E,55234,{key:v}),y.push(E)})),y})(this.datastore,t);return e.forEach((s=>this.recordVersion(s))),e}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new mh(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((e=>{t.delete(e.key.toString())})),t.forEach(((e,s)=>{const a=ht.fromPath(s);this.mutations.push(new tv(a,this.precondition(a)))})),await(async function(s,a){const l=At(s),u={writes:a.map((h=>$c(l.serializer,h)))};await l.Wo("Commit",l.serializer.databaseId,Ht.emptyPath(),u)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw mt(50498,{Gu:t.constructor.name});e=Tt.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!e.isEqual(s))throw new ut(Z.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Tt.min())?Ue.exists(!1):Ue.updateTime(e):Ue.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Tt.min()))throw new ut(Z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ue.updateTime(e)}return Ue.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}};class i3{constructor(t,e,s,a,l){this.asyncQueue=t,this.datastore=e,this.options=s,this.updateFunction=a,this.deferred=l,this.zu=s.maxAttempts,this.M_=new dv(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const t=new n3(this.datastore),e=this.Ju(t);e&&e.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((a=>{this.Zu(a)}))))})).catch((s=>{this.Zu(s)}))}))}Ju(t){try{const e=this.updateFunction(t);return!uh(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Zu(t){this.zu>0&&this.Xu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(t)}Xu(t){if(t?.name==="FirebaseError"){const e=t.code;return e==="aborted"||e==="failed-precondition"||e==="already-exists"||!lR(e)}return!1}}const Qr="FirestoreClient";class s3{constructor(t,e,s,a,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this._databaseInfo=a,this.user=_n.UNAUTHENTICATED,this.clientId=F_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{lt(Qr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(lt(Qr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=vv(e,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function ly(n,t){n.asyncQueue.verifyOperationInProgress(),lt(Qr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let s=e.initialUser;n.setCredentialChangeListener((async a=>{s.isEqual(a)||(await jR(t.localStore,a),s=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function OA(n,t){n.asyncQueue.verifyOperationInProgress();const e=await r3(n);lt(Qr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((s=>CA(t.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,a)=>CA(t.remoteStore,a))),n._onlineComponents=t}async function r3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){lt(Qr,"Using user provided OfflineComponentProvider");try{await ly(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===Z.FAILED_PRECONDITION||a.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;Oc("Error using user provided cache. Falling back to memory cache: "+e),await ly(n,new Xc)}}else lt(Qr,"Using default OfflineComponentProvider"),await ly(n,new t3(void 0));return n._offlineComponents}async function Rv(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(lt(Qr,"Using user provided OnlineComponentProvider"),await OA(n,n._uninitializedComponentsProvider._online)):(lt(Qr,"Using default OnlineComponentProvider"),await OA(n,new tm))),n._onlineComponents}function a3(n){return Rv(n).then((t=>t.syncEngine))}function o3(n){return Rv(n).then((t=>t.datastore))}async function em(n){const t=await Rv(n),e=t.eventManager;return e.onListen=F4.bind(null,t.syncEngine),e.onUnlisten=G4.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=q4.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=K4.bind(null,t.syncEngine),e}function l3(n,t,e,s){const a=new Iv(s),l=new Sv(t,a,e);return n.asyncQueue.enqueueAndForget((async()=>Tv(await em(n),l))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>Ev(await em(n),l)))}}function u3(n,t,e={}){const s=new wi;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,m,p){const y=new Iv({next:E=>{y.Nu(),u.enqueueAndForget((()=>Ev(l,v)));const I=E.docs.has(h);!I&&E.fromCache?p.reject(new ut(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&E.fromCache&&m&&m.source==="server"?p.reject(new ut(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new Sv(fh(h.path),y,{includeMetadataChanges:!0,Ka:!0});return Tv(l,v)})(await em(n),n.asyncQueue,t,e,s))),s.promise}function c3(n,t,e={}){const s=new wi;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,m,p){const y=new Iv({next:E=>{y.Nu(),u.enqueueAndForget((()=>Ev(l,v))),E.fromCache&&m.source==="server"?p.reject(new ut(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new Sv(h,y,{includeMetadataChanges:!0,Ka:!0});return Tv(l,v)})(await em(n),n.asyncQueue,t,e,s))),s.promise}function h3(n,t){const e=new wi;return n.asyncQueue.enqueueAndForget((async()=>Y4(await a3(n),t,e))),e.promise}function f3(n,t,e){const s=new wi;return n.asyncQueue.enqueueAndForget((async()=>{const a=await o3(n);new i3(n.asyncQueue,a,e,t,s).ju()})),s.promise}function ax(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const d3="ComponentProvider",kA=new Map;function m3(n,t,e,s,a){return new NO(n,t,e,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,ax(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const p3="firestore.googleapis.com",LA=!0;class UA{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=p3,this.ssl=LA}else this.host=t.host,this.ssl=t.ssl??LA;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=CR;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<NR)throw new ut(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}JP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ax(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xv{constructor(t,e,s,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UA(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new HP;switch(s.type){case"firstParty":return new YP(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const s=kA.get(e);s&&(lt(d3,"Removing Datastore"),kA.delete(e),s.terminate())})(this),Promise.resolve()}}class Jr{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Jr(this.firestore,t,this._query)}}class Ie{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,s){if(lh(e,Ie._jsonSchema))return new Ie(t,s||null,new ht(Ht.fromString(e.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:Be("string",Ie._jsonSchemaVersion),referencePath:Be("string")};class Fr extends Jr{constructor(t,e,s){super(t,e,fh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new ht(t))}withConverter(t){return new Fr(this.firestore,t,this._path)}}function Bl(n,t,...e){if(n=Ye(n),pI("collection","path",t),n instanceof xv){const s=Ht.fromString(t,...e);return xS(s),new Fr(n,null,s)}{if(!(n instanceof Ie||n instanceof Fr))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ht.fromString(t,...e));return xS(s),new Fr(n.firestore,null,s)}}function Wc(n,t,...e){if(n=Ye(n),arguments.length===1&&(t=F_.newId()),pI("doc","path",t),n instanceof xv){const s=Ht.fromString(t,...e);return RS(s),new Ie(n,null,new ht(s))}{if(!(n instanceof Ie||n instanceof Fr))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ht.fromString(t,...e));return RS(s),new Ie(n.firestore,n instanceof Fr?n.converter:null,new ht(s))}}const BA="AsyncQueue";class zA{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dv(this,"async_queue_retry"),this._c=()=>{const s=xd();s&&lt(BA,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const e=xd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=xd();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new wi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Wr(t))throw t;lt(BA,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,vn("INTERNAL UNHANDLED ERROR: ",jA(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=e,e}enqueueAfterDelay(t,e,s){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=_v.createAndSchedule(this,t,e,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&mt(47125,{Pc:jA(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,s)=>e.targetTimeMs-s.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function jA(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class oo extends xv{constructor(t,e,s,a){super(t,e,s,a),this.type="firestore",this._queue=new zA,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new zA(t),this._firestoreClient=void 0,await t}}}function g3(n,t,e){e||(e=Kd);const s=N_(n,"firestore");if(s.isInitialized(e)){const a=s.getImmediate({identifier:e}),l=s.getOptions(e);if(Wa(l,t))return a;throw new ut(Z.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new ut(Z.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<NR)throw new ut(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&Fl(t.host)&&vw(t.host),s.initialize({options:t,instanceIdentifier:e})}function $l(n){if(n._terminated)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||y3(n),n._firestoreClient}function y3(n){const t=n._freezeSettings(),e=m3(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new s3(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zn(ze.fromBase64String(t))}catch(e){throw new ut(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new zn(ze.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(lh(t,zn._jsonSchema))return zn.fromBase64String(t.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Be("string",zn._jsonSchemaVersion),bytes:Be("string")};class Pm{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ut(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Om{constructor(t){this._methodName=t}}class ns{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ut(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ut(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ns._jsonSchemaVersion}}static fromJSON(t){if(lh(t,ns._jsonSchema))return new ns(t.latitude,t.longitude)}}ns._jsonSchemaVersion="firestore/geoPoint/1.0",ns._jsonSchema={type:Be("string",ns._jsonSchemaVersion),latitude:Be("number"),longitude:Be("number")};class Ii{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(lh(t,Ii._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Ii(t.vectorValues);throw new ut(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ii._jsonSchemaVersion="firestore/vectorValue/1.0",Ii._jsonSchema={type:Be("string",Ii._jsonSchemaVersion),vectorValues:Be("object")};const _3=/^__.*__$/;class v3{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new Fs(t,this.data,this.fieldMask,e,this.fieldTransforms):new Yl(t,this.data,e,this.fieldTransforms)}}class ox{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return new Fs(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function lx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{dataSource:n})}}class Cv{constructor(t,e,s,a,l,u){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Cv({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),s=this.contextWith({path:e,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const e=this.path?.child(t),s=this.contextWith({path:e,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return nm(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(lx(this.dataSource)&&_3.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class T3{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||Mm(t)}createContext(t,e,s,a=!1){return new Cv({dataSource:t,methodName:e,targetDoc:s,path:ye.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dv(n){const t=n._freezeSettings(),e=Mm(n._databaseId);return new T3(n._databaseId,!!t.ignoreUndefinedProperties,e)}function ux(n,t,e,s,a,l={}){const u=n.createContext(l.merge||l.mergeFields?2:0,t,e,a);Mv("Data must be an object, but it was:",u,s);const h=fx(s,u);let m,p;if(l.merge)m=new Cn(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const E=zl(t,v,e);if(!u.contains(E))throw new ut(Z.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);px(y,E)||y.push(E)}m=new Cn(y),p=u.fieldTransforms.filter((v=>m.covers(v.field)))}else m=null,p=u.fieldTransforms;return new v3(new un(h),m,p)}class km extends Om{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof km}}class Vv extends Om{_toFieldTransform(t){return new rR(t.path,new Pl)}isEqual(t){return t instanceof Vv}}function cx(n,t,e,s){const a=n.createContext(1,t,e);Mv("Data must be an object, but it was:",a,s);const l=[],u=un.empty();Zr(s,((m,p)=>{const y=mx(t,m,e);p=Ye(p);const v=a.childContextForFieldPath(y);if(p instanceof km)l.push(y);else{const E=vh(p,v);E!=null&&(l.push(y),u.set(y,E))}}));const h=new Cn(l);return new ox(u,h,a.fieldTransforms)}function hx(n,t,e,s,a,l){const u=n.createContext(1,t,e),h=[zl(t,s,e)],m=[a];if(l.length%2!=0)throw new ut(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)h.push(zl(t,l[E])),m.push(l[E+1]);const p=[],y=un.empty();for(let E=h.length-1;E>=0;--E)if(!px(p,h[E])){const I=h[E];let N=m[E];N=Ye(N);const U=u.childContextForFieldPath(I);if(N instanceof km)p.push(I);else{const L=vh(N,U);L!=null&&(p.push(I),y.set(I,L))}}const v=new Cn(p);return new ox(y,v,u.fieldTransforms)}function E3(n,t,e,s=!1){return vh(e,n.createContext(s?4:3,t))}function vh(n,t){if(dx(n=Ye(n)))return Mv("Unsupported field value:",t,n),fx(n,t);if(n instanceof Om)return(function(s,a){if(!lx(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const h of s){let m=vh(h,a.childContextForArray(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(n,t)}return(function(s,a){if((s=Ye(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return nk(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=te.fromDate(s);return{timestampValue:Ll(a.serializer,l)}}if(s instanceof te){const l=new te(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ll(a.serializer,l)}}if(s instanceof ns)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:fR(a.serializer,s._byteString)};if(s instanceof Ie){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:rv(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Ii)return(function(u,h){const m=u instanceof Ii?u.toArray():u;return{mapValue:{fields:{[X_]:{stringValue:W_},[Dl]:{arrayValue:{values:m.map((y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return J_(h.serializer,y)}))}}}}}})(s,a);if(SR(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${_m(s)}`)})(n,t)}function fx(n,t){const e={};return VI(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zr(n,((s,a)=>{const l=vh(a,t.childContextForField(s));l!=null&&(e[s]=l)})),{mapValue:{fields:e}}}function dx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof te||n instanceof ns||n instanceof zn||n instanceof Ie||n instanceof Om||n instanceof Ii||SR(n))}function Mv(n,t,e){if(!dx(e)||!gI(e)){const s=_m(e);throw s==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+s)}}function zl(n,t,e){if((t=Ye(t))instanceof Pm)return t._internalPath;if(typeof t=="string")return mx(n,t);throw nm("Field path arguments must be of type string or ",n,!1,void 0,e)}const b3=new RegExp("[~\\*/\\[\\]]");function mx(n,t,e){if(t.search(b3)>=0)throw nm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Pm(...t.split("."))._internalPath}catch{throw nm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function nm(n,t,e,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new ut(Z.INVALID_ARGUMENT,h+n+m)}function px(n,t){return n.some((e=>e.isEqual(t)))}class gx{convertValue(t,e="none"){switch(Gr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ls(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return Zr(t,((a,l)=>{s[a]=this.convertValue(l,e)})),s}convertVectorValue(t){const e=t.fields?.[Dl].arrayValue?.values?.map((s=>me(s.doubleValue)));return new Ii(e)}convertGeoPoint(t){return new ns(me(t.latitude),me(t.longitude))}convertArray(t,e){return(t.values||[]).map((s=>this.convertValue(s,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const s=Sm(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(Fc(t));default:return null}}convertTimestamp(t){const e=ks(t);return new te(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=Ht.fromString(t);_t(bR(s),9688,{name:t});const a=new eo(s.get(1),s.get(3)),l=new ht(s.popFirst(5));return a.isEqual(e)||vn(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}class Lm extends gx{constructor(t){super(),this.firestore=t}convertBytes(t){return new zn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,e)}}function S3(){return new Vv("serverTimestamp")}const FA="@firebase/firestore",qA="4.10.0";function HA(n){return(function(e,s){if(typeof e!="object"||e===null)return!1;const a=e;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class im{constructor(t,e,s,a,l){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new A3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(zl("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class A3 extends im{data(){return super.data()}}function yx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ut(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Nv{}class _x extends Nv{}function Pv(n,t,...e){let s=[];t instanceof Nv&&s.push(t),s=s.concat(e),(function(l){const u=l.filter((m=>m instanceof kv)).length,h=l.filter((m=>m instanceof Ov)).length;if(u>1||u>0&&h>0)throw new ut(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)n=a._apply(n);return n}class Ov extends _x{constructor(t,e,s){super(),this._field=t,this._op=e,this._value=s,this.type="where"}static _create(t,e,s){return new Ov(t,e,s)}_apply(t){const e=this._parse(t);return vx(t._query,e),new Jr(t.firestore,t.converter,Gy(t._query,e))}_parse(t){const e=Dv(t.firestore);return(function(l,u,h,m,p,y,v){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ut(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){KA(v,y);const N=[];for(const U of v)N.push(GA(m,l,U));E={arrayValue:{values:N}}}else E=GA(m,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||KA(v,y),E=E3(h,u,v,y==="in"||y==="not-in");return zt.create(p,y,E)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class kv extends Nv{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new kv(t,e)}_parse(t){const e=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return e.length===1?e[0]:ee.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(a,l){let u=a;const h=l.getFlattenedFilters();for(const m of h)vx(u,m),u=Gy(u,m)})(t._query,e),new Jr(t.firestore,t.converter,Gy(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lv extends _x{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Lv(t,e)}_apply(t){const e=(function(a,l,u){if(a.startAt!==null)throw new ut(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ut(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Kc(l,u)})(t._query,this._field,this._direction);return new Jr(t.firestore,t.converter,QO(t._query,e))}}function Uv(n,t="asc"){const e=t,s=zl("orderBy",n);return Lv._create(s,e)}function GA(n,t,e){if(typeof(e=Ye(e))=="string"){if(e==="")throw new ut(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QI(t)&&e.indexOf("/")!==-1)throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const s=t.path.child(Ht.fromString(e));if(!ht.isDocumentKey(s))throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Hc(n,new ht(s))}if(e instanceof Ie)return Hc(n,e._key);throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_m(e)}.`)}function KA(n,t){if(!Array.isArray(n)||n.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function vx(n,t){const e=(function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ut(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function Tx(n,t,e){let s;return s=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,s}class w3 extends gx{constructor(t){super(),this.firestore=t}convertBytes(t){return new zn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,e)}}class I3{constructor(t){let e;this.kind="persistent",t?.tabManager?(t.tabManager._initialize(t),e=t.tabManager):(e=C3(void 0),e._initialize(t)),this._onlineComponentProvider=e._onlineComponentProvider,this._offlineComponentProvider=e._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function R3(n){return new I3(n)}class x3{constructor(t){this.forceOwnership=t,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=tm.provider,this._offlineComponentProvider={build:e=>new e3(e,t?.cacheSizeBytes,this.forceOwnership)}}}function C3(n){return new x3(n?.forceOwnership)}class dl{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qr extends im{constructor(t,e,s,a,l,u){super(t,e,s,a,u),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Cd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(zl("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=qr._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",qr._jsonSchema={type:Be("string",qr._jsonSchemaVersion),bundleSource:Be("string","DocumentSnapshot"),bundleName:Be("string"),bundle:Be("string")};class Cd extends qr{data(t={}){return super.data(t)}}class $a{constructor(t,e,s,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new dl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((s=>{t.call(e,new Cd(this._firestore,this._userDataWriter,s.key,s,new dl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ut(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const m=new Cd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new dl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const m=new Cd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new dl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:D3(h.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=$a._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=F_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(e.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function D3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:n})}}$a._jsonSchemaVersion="firestore/querySnapshot/1.0",$a._jsonSchema={type:Be("string",$a._jsonSchemaVersion),bundleSource:Be("string","QuerySnapshot"),bundleName:Be("string"),bundle:Be("string")};const V3={maxAttempts:5};class M3{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Dv(t)}set(t,e,s){this._verifyNotCommitted();const a=Pr(t,this._firestore),l=Tx(a.converter,e,s),u=ux(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,s);return this._mutations.push(u.toMutation(a._key,Ue.none())),this}update(t,e,s,...a){this._verifyNotCommitted();const l=Pr(t,this._firestore);let u;return u=typeof(e=Ye(e))=="string"||e instanceof Pm?hx(this._dataReader,"WriteBatch.update",l._key,e,s,a):cx(this._dataReader,"WriteBatch.update",l._key,e),this._mutations.push(u.toMutation(l._key,Ue.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Pr(t,this._firestore);return this._mutations=this._mutations.concat(new mh(e._key,Ue.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ut(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pr(n,t){if((n=Ye(n)).firestore!==t)throw new ut(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class N3{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Dv(t)}get(t){const e=Pr(t,this._firestore),s=new w3(this._firestore);return this._transaction.lookup([e._key]).then((a=>{if(!a||a.length!==1)return mt(24041);const l=a[0];if(l.isFoundDocument())return new im(this._firestore,s,l.key,l,e.converter);if(l.isNoDocument())return new im(this._firestore,s,e._key,null,e.converter);throw mt(18433,{doc:l})}))}set(t,e,s){const a=Pr(t,this._firestore),l=Tx(a.converter,e,s),u=ux(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,s);return this._transaction.set(a._key,u),this}update(t,e,s,...a){const l=Pr(t,this._firestore);let u;return u=typeof(e=Ye(e))=="string"||e instanceof Pm?hx(this._dataReader,"Transaction.update",l._key,e,s,a):cx(this._dataReader,"Transaction.update",l._key,e),this._transaction.update(l._key,u),this}delete(t){const e=Pr(t,this._firestore);return this._transaction.delete(e._key),this}}class P3 extends N3{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Pr(t,this._firestore),s=new Lm(this._firestore);return super.get(t).then((a=>new qr(this._firestore,s,e._key,a._document,new dl(!1,!1),e.converter)))}}function O3(n,t,e){n=Ds(n,oo);const s={...V3,...e};(function(u){if(u.maxAttempts<1)throw new ut(Z.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s);const a=$l(n);return f3(a,(l=>t(new P3(n,l))),s)}function k3(n){n=Ds(n,Ie);const t=Ds(n.firestore,oo),e=$l(t);return u3(e,n._key).then((s=>bx(t,n,s)))}function s_(n){n=Ds(n,Jr);const t=Ds(n.firestore,oo),e=$l(t),s=new Lm(t);return yx(n._query),c3(e,n._query).then((a=>new $a(t,s,n,a)))}function Ex(n,...t){n=Ye(n);let e={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||HA(t[s])||(e=t[s++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(HA(t[s])){const p=t[s];t[s]=p.next?.bind(p),t[s+1]=p.error?.bind(p),t[s+2]=p.complete?.bind(p)}let l,u,h;if(n instanceof Ie)u=Ds(n.firestore,oo),h=fh(n._key.path),l={next:p=>{t[s]&&t[s](bx(u,n,p))},error:t[s+1],complete:t[s+2]};else{const p=Ds(n,Jr);u=Ds(p.firestore,oo),h=p._query;const y=new Lm(u);l={next:v=>{t[s]&&t[s](new $a(u,y,p,v))},error:t[s+1],complete:t[s+2]},yx(n._query)}const m=$l(u);return l3(m,h,a,l)}function L3(n,t){const e=$l(n);return h3(e,t)}function bx(n,t,e){const s=e.docs.get(t._key),a=new Lm(n);return new qr(n,a,t._key,s,new dl(e.hasPendingWrites,e.fromCache),t.converter)}function U3(n){return n=Ds(n,oo),$l(n),new M3(n,(t=>L3(n,t)))}(function(t,e=!0){FP(ql),Al(new Za("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),h=new oo(new GP(s.getProvider("auth-internal")),new QP(u,s.getProvider("app-check-internal")),PO(u,a),u);return l={useFetchStreams:e,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),Ur(FA,qA,t),Ur(FA,qA,"esm2020")})();const B3={apiKey:"AIzaSyCpfz0Zk6VPZq3_T-sltwFYvCssTNt7SrA",authDomain:"soka-3ce9a.firebaseapp.com",projectId:"soka-3ce9a",storageBucket:"soka-3ce9a.firebasestorage.app",messagingSenderId:"103213261935",appId:"1:103213261935:web:800acc4fb30c7f8f45599a"},Sx=Iw(B3),sm=UP(Sx),ii=g3(Sx,{localCache:R3()}),z3=({children:n})=>{const[t,e]=J.useState(null),[s,a]=J.useState(!0);return J.useEffect(()=>{const l=RN(sm,u=>{e(u),a(!1),u||EN(sm).catch(h=>{console.error("Auth Error:",h)})});return()=>l()},[]),s?j.jsx("div",{className:"loading",children:"Loading..."}):t?j.jsx(j.Fragment,{children:n}):j.jsx("div",{className:"error",children:"Authenticating..."})},Ax=J.createContext(void 0),j3=({children:n})=>{const[t,e]=J.useState({selectedA:null,selectedB:null,selectedC:null,selectedD:null}),[s,a]=J.useState(!1),l=m=>m==="soka2026"||m==="admin"?(a(!0),!0):!1,u=(m,p)=>{e(y=>{const v={...y};return p==="C"?{selectedA:null,selectedB:null,selectedC:m,selectedD:null}:p==="D"?{selectedA:null,selectedB:null,selectedC:null,selectedD:m}:((p==="A"||p==="B")&&(v.selectedC=null,v.selectedD=null,p==="A"&&(v.selectedA=m),p==="B"&&(v.selectedB=m)),v)})},h=!!t.selectedC||!!t.selectedD||!!t.selectedA&&!!t.selectedB;return j.jsx(Ax.Provider,{value:{selection:t,selectSession:u,isValid:h,isAdmin:s,login:l},children:n})},Bv=()=>{const n=J.useContext(Ax);if(!n)throw new Error("useBooking must be used within BookingProvider");return n};let F3={data:""},q3=n=>{if(typeof window=="object"){let t=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(n||document.head).appendChild(t),t.firstChild}return n||F3},H3=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,G3=/\/\*[^]*?\*\/|  +/g,YA=/\n+/g,Mr=(n,t)=>{let e="",s="",a="";for(let l in n){let u=n[l];l[0]=="@"?l[1]=="i"?e=l+" "+u+";":s+=l[1]=="f"?Mr(u,l):l+"{"+Mr(u,l[1]=="k"?"":t)+"}":typeof u=="object"?s+=Mr(u,t?t.replace(/([^,])+/g,h=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,h):h?h+" "+m:m)):l):u!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Mr.p?Mr.p(l,u):l+":"+u+";")}return e+(t&&a?t+"{"+a+"}":a)+s},ws={},wx=n=>{if(typeof n=="object"){let t="";for(let e in n)t+=e+wx(n[e]);return t}return n},K3=(n,t,e,s,a)=>{let l=wx(n),u=ws[l]||(ws[l]=(m=>{let p=0,y=11;for(;p<m.length;)y=101*y+m.charCodeAt(p++)>>>0;return"go"+y})(l));if(!ws[u]){let m=l!==n?n:(p=>{let y,v,E=[{}];for(;y=H3.exec(p.replace(G3,""));)y[4]?E.shift():y[3]?(v=y[3].replace(YA," ").trim(),E.unshift(E[0][v]=E[0][v]||{})):E[0][y[1]]=y[2].replace(YA," ").trim();return E[0]})(n);ws[u]=Mr(a?{["@keyframes "+u]:m}:m,e?"":"."+u)}let h=e&&ws.g?ws.g:null;return e&&(ws.g=ws[u]),((m,p,y,v)=>{v?p.data=p.data.replace(v,m):p.data.indexOf(m)===-1&&(p.data=y?m+p.data:p.data+m)})(ws[u],t,s,h),u},Y3=(n,t,e)=>n.reduce((s,a,l)=>{let u=t[l];if(u&&u.call){let h=u(e),m=h&&h.props&&h.props.className||/^go/.test(h)&&h;u=m?"."+m:h&&typeof h=="object"?h.props?"":Mr(h,""):h===!1?"":h}return s+a+(u??"")},"");function Um(n){let t=this||{},e=n.call?n(t.p):n;return K3(e.unshift?e.raw?Y3(e,[].slice.call(arguments,1),t.p):e.reduce((s,a)=>Object.assign(s,a&&a.call?a(t.p):a),{}):e,q3(t.target),t.g,t.o,t.k)}let Ix,r_,a_;Um.bind({g:1});let Us=Um.bind({k:1});function Q3(n,t,e,s){Mr.p=t,Ix=n,r_=e,a_=s}function ta(n,t){let e=this||{};return function(){let s=arguments;function a(l,u){let h=Object.assign({},l),m=h.className||a.className;e.p=Object.assign({theme:r_&&r_()},h),e.o=/ *go\d+/.test(m),h.className=Um.apply(e,s)+(m?" "+m:"");let p=n;return n[0]&&(p=h.as||n,delete h.as),a_&&p[0]&&a_(h),Ix(p,h)}return a}}var $3=n=>typeof n=="function",rm=(n,t)=>$3(n)?n(t):n,X3=(()=>{let n=0;return()=>(++n).toString()})(),Rx=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");n=!t||t.matches}return n}})(),W3=20,zv="default",xx=(n,t)=>{let{toastLimit:e}=n.settings;switch(t.type){case 0:return{...n,toasts:[t.toast,...n.toasts].slice(0,e)};case 1:return{...n,toasts:n.toasts.map(u=>u.id===t.toast.id?{...u,...t.toast}:u)};case 2:let{toast:s}=t;return xx(n,{type:n.toasts.find(u=>u.id===s.id)?1:0,toast:s});case 3:let{toastId:a}=t;return{...n,toasts:n.toasts.map(u=>u.id===a||a===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return t.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(u=>u.id!==t.toastId)};case 5:return{...n,pausedAt:t.time};case 6:let l=t.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+l}))}}},Dd=[],Cx={toasts:[],pausedAt:void 0,settings:{toastLimit:W3}},Ji={},Dx=(n,t=zv)=>{Ji[t]=xx(Ji[t]||Cx,n),Dd.forEach(([e,s])=>{e===t&&s(Ji[t])})},Vx=n=>Object.keys(Ji).forEach(t=>Dx(n,t)),Z3=n=>Object.keys(Ji).find(t=>Ji[t].toasts.some(e=>e.id===n)),Bm=(n=zv)=>t=>{Dx(t,n)},J3={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},tL=(n={},t=zv)=>{let[e,s]=J.useState(Ji[t]||Cx),a=J.useRef(Ji[t]);J.useEffect(()=>(a.current!==Ji[t]&&s(Ji[t]),Dd.push([t,s]),()=>{let u=Dd.findIndex(([h])=>h===t);u>-1&&Dd.splice(u,1)}),[t]);let l=e.toasts.map(u=>{var h,m,p;return{...n,...n[u.type],...u,removeDelay:u.removeDelay||((h=n[u.type])==null?void 0:h.removeDelay)||n?.removeDelay,duration:u.duration||((m=n[u.type])==null?void 0:m.duration)||n?.duration||J3[u.type],style:{...n.style,...(p=n[u.type])==null?void 0:p.style,...u.style}}});return{...e,toasts:l}},eL=(n,t="blank",e)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...e,id:e?.id||X3()}),Th=n=>(t,e)=>{let s=eL(t,n,e);return Bm(s.toasterId||Z3(s.id))({type:2,toast:s}),s.id},Ge=(n,t)=>Th("blank")(n,t);Ge.error=Th("error");Ge.success=Th("success");Ge.loading=Th("loading");Ge.custom=Th("custom");Ge.dismiss=(n,t)=>{let e={type:3,toastId:n};t?Bm(t)(e):Vx(e)};Ge.dismissAll=n=>Ge.dismiss(void 0,n);Ge.remove=(n,t)=>{let e={type:4,toastId:n};t?Bm(t)(e):Vx(e)};Ge.removeAll=n=>Ge.remove(void 0,n);Ge.promise=(n,t,e)=>{let s=Ge.loading(t.loading,{...e,...e?.loading});return typeof n=="function"&&(n=n()),n.then(a=>{let l=t.success?rm(t.success,a):void 0;return l?Ge.success(l,{id:s,...e,...e?.success}):Ge.dismiss(s),a}).catch(a=>{let l=t.error?rm(t.error,a):void 0;l?Ge.error(l,{id:s,...e,...e?.error}):Ge.dismiss(s)}),n};var nL=1e3,iL=(n,t="default")=>{let{toasts:e,pausedAt:s}=tL(n,t),a=J.useRef(new Map).current,l=J.useCallback((v,E=nL)=>{if(a.has(v))return;let I=setTimeout(()=>{a.delete(v),u({type:4,toastId:v})},E);a.set(v,I)},[]);J.useEffect(()=>{if(s)return;let v=Date.now(),E=e.map(I=>{if(I.duration===1/0)return;let N=(I.duration||0)+I.pauseDuration-(v-I.createdAt);if(N<0){I.visible&&Ge.dismiss(I.id);return}return setTimeout(()=>Ge.dismiss(I.id,t),N)});return()=>{E.forEach(I=>I&&clearTimeout(I))}},[e,s,t]);let u=J.useCallback(Bm(t),[t]),h=J.useCallback(()=>{u({type:5,time:Date.now()})},[u]),m=J.useCallback((v,E)=>{u({type:1,toast:{id:v,height:E}})},[u]),p=J.useCallback(()=>{s&&u({type:6,time:Date.now()})},[s,u]),y=J.useCallback((v,E)=>{let{reverseOrder:I=!1,gutter:N=8,defaultPosition:U}=E||{},L=e.filter(z=>(z.position||U)===(v.position||U)&&z.height),Y=L.findIndex(z=>z.id===v.id),W=L.filter((z,Q)=>Q<Y&&z.visible).length;return L.filter(z=>z.visible).slice(...I?[W+1]:[0,W]).reduce((z,Q)=>z+(Q.height||0)+N,0)},[e]);return J.useEffect(()=>{e.forEach(v=>{if(v.dismissed)l(v.id,v.removeDelay);else{let E=a.get(v.id);E&&(clearTimeout(E),a.delete(v.id))}})},[e,l]),{toasts:e,handlers:{updateHeight:m,startPause:h,endPause:p,calculateOffset:y}}},sL=Us`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,rL=Us`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,aL=Us`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,oL=ta("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${sL} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${rL} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${aL} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,lL=Us`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,uL=ta("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${lL} 1s linear infinite;
`,cL=Us`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,hL=Us`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,fL=ta("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${cL} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${hL} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,dL=ta("div")`
  position: absolute;
`,mL=ta("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,pL=Us`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,gL=ta("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${pL} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,yL=({toast:n})=>{let{icon:t,type:e,iconTheme:s}=n;return t!==void 0?typeof t=="string"?J.createElement(gL,null,t):t:e==="blank"?null:J.createElement(mL,null,J.createElement(uL,{...s}),e!=="loading"&&J.createElement(dL,null,e==="error"?J.createElement(oL,{...s}):J.createElement(fL,{...s})))},_L=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,vL=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,TL="0%{opacity:0;} 100%{opacity:1;}",EL="0%{opacity:1;} 100%{opacity:0;}",bL=ta("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,SL=ta("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,AL=(n,t)=>{let e=n.includes("top")?1:-1,[s,a]=Rx()?[TL,EL]:[_L(e),vL(e)];return{animation:t?`${Us(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Us(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},wL=J.memo(({toast:n,position:t,style:e,children:s})=>{let a=n.height?AL(n.position||t||"top-center",n.visible):{opacity:0},l=J.createElement(yL,{toast:n}),u=J.createElement(SL,{...n.ariaProps},rm(n.message,n));return J.createElement(bL,{className:n.className,style:{...a,...e,...n.style}},typeof s=="function"?s({icon:l,message:u}):J.createElement(J.Fragment,null,l,u))});Q3(J.createElement);var IL=({id:n,className:t,style:e,onHeightUpdate:s,children:a})=>{let l=J.useCallback(u=>{if(u){let h=()=>{let m=u.getBoundingClientRect().height;s(n,m)};h(),new MutationObserver(h).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[n,s]);return J.createElement("div",{ref:l,className:t,style:e},a)},RL=(n,t)=>{let e=n.includes("top"),s=e?{top:0}:{bottom:0},a=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Rx()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(e?1:-1)}px)`,...s,...a}},xL=Um`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ud=16,CL=({reverseOrder:n,position:t="top-center",toastOptions:e,gutter:s,children:a,toasterId:l,containerStyle:u,containerClassName:h})=>{let{toasts:m,handlers:p}=iL(e,l);return J.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:ud,left:ud,right:ud,bottom:ud,pointerEvents:"none",...u},className:h,onMouseEnter:p.startPause,onMouseLeave:p.endPause},m.map(y=>{let v=y.position||t,E=p.calculateOffset(y,{reverseOrder:n,gutter:s,defaultPosition:t}),I=RL(v,E);return J.createElement(IL,{id:y.id,key:y.id,onHeightUpdate:p.updateHeight,className:y.visible?xL:"",style:I},y.type==="custom"?rm(y.message,y):a?a(y):J.createElement(wL,{toast:y,position:v}))}))},xc=Ge;const Mx=()=>{const[n,t]=J.useState([]),[e,s]=J.useState(!0);return J.useEffect(()=>{const a=Pv(Bl(ii,"slots"),Uv("id")),l=Ex(a,u=>{const h=u.docs.map(m=>m.data());t(h),s(!1)},u=>{console.error("Error fetching real-time slots:",u),s(!1)});return()=>l()},[]),{slots:n,loading:e}},DL=()=>{const n=async()=>{if(!confirm(`  

1. 
2. 

`))return;const e=U3(ii);try{const s=Bl(ii,"bookings");(await s_(s)).forEach(p=>{e.delete(p.ref)});const l=Bl(ii,"slots");(await s_(l)).forEach(p=>{e.delete(p.ref)}),[{id:"2F_A",type:"A",location:"",title:"",description:"",capacity:50,booked:0,startTime:"20"},{id:"3F_A",type:"A",location:"",title:"*4 / *4",description:`



`,capacity:160,booked:0,startTime:"20"},{id:"5F_A",type:"A",location:"",title:" OPEN SPACE",description:"",capacity:120,booked:0,startTime:"20"},{id:"2F_B",type:"B",location:"",title:"",description:"",capacity:50,booked:0,startTime:"20"},{id:"3F_B",type:"B",location:"",title:"*4 / *4",description:`



`,capacity:160,booked:0,startTime:"20"},{id:"5F_B",type:"B",location:"",title:" OPEN SPACE",description:"",capacity:120,booked:0,startTime:"20"},{id:"6F_C",type:"C",location:"",title:"",description:" SEL ",capacity:70,booked:0,startTime:"40"},{id:"6F_D",type:"D",location:"",title:"",description:"",capacity:70,booked:0,startTime:"40"}].forEach(p=>{const y=Wc(ii,"slots",p.id);e.set(y,{...p,endTime:""})});const m=Wc(ii,"system","config");e.set(m,{lastReset:new Date().toISOString()}),await e.commit(),alert(""),window.location.reload()}catch(s){console.error(s),alert(" Error seeding data")}};return j.jsx("button",{onClick:n,className:"btn-primary",style:{margin:"20px auto",display:"block"},children:" (Initialize DB)"})},jv=J.createContext({});function Fv(n){const t=J.useRef(null);return t.current===null&&(t.current=n()),t.current}const Nx=typeof window<"u",Px=Nx?J.useLayoutEffect:J.useEffect,zm=J.createContext(null);function qv(n,t){n.indexOf(t)===-1&&n.push(t)}function Hv(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const rs=(n,t,e)=>e>t?t:e<n?n:e;let Gv=()=>{};const Bs={},Ox=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function kx(n){return typeof n=="object"&&n!==null}const Lx=n=>/^0[^.\s]+$/u.test(n);function Kv(n){let t;return()=>(t===void 0&&(t=n()),t)}const oi=n=>n,VL=(n,t)=>e=>t(n(e)),Eh=(...n)=>n.reduce(VL),Zc=(n,t,e)=>{const s=t-n;return s===0?1:(e-n)/s};class Yv{constructor(){this.subscriptions=[]}add(t){return qv(this.subscriptions,t),()=>Hv(this.subscriptions,t)}notify(t,e,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,e,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(t,e,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ms=n=>n*1e3,ri=n=>n/1e3;function Ux(n,t){return t?n*(1e3/t):0}const Bx=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,ML=1e-7,NL=12;function PL(n,t,e,s,a){let l,u,h=0;do u=t+(e-t)/2,l=Bx(u,s,a)-n,l>0?e=u:t=u;while(Math.abs(l)>ML&&++h<NL);return u}function bh(n,t,e,s){if(n===t&&e===s)return oi;const a=l=>PL(l,0,1,n,e);return l=>l===0||l===1?l:Bx(a(l),t,s)}const zx=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,jx=n=>t=>1-n(1-t),Fx=bh(.33,1.53,.69,.99),Qv=jx(Fx),qx=zx(Qv),Hx=n=>(n*=2)<1?.5*Qv(n):.5*(2-Math.pow(2,-10*(n-1))),$v=n=>1-Math.sin(Math.acos(n)),Gx=jx($v),Kx=zx($v),OL=bh(.42,0,1,1),kL=bh(0,0,.58,1),Yx=bh(.42,0,.58,1),LL=n=>Array.isArray(n)&&typeof n[0]!="number",Qx=n=>Array.isArray(n)&&typeof n[0]=="number",UL={linear:oi,easeIn:OL,easeInOut:Yx,easeOut:kL,circIn:$v,circInOut:Kx,circOut:Gx,backIn:Qv,backInOut:qx,backOut:Fx,anticipate:Hx},BL=n=>typeof n=="string",QA=n=>{if(Qx(n)){Gv(n.length===4);const[t,e,s,a]=n;return bh(t,e,s,a)}else if(BL(n))return UL[n];return n},cd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function zL(n,t){let e=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function m(y){u.has(y)&&(p.schedule(y),n()),y(h)}const p={schedule:(y,v=!1,E=!1)=>{const N=E&&a?e:s;return v&&u.add(y),N.has(y)||N.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[e,s]=[s,e],e.forEach(m),e.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const jL=40;function $x(n,t){let e=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>e=!0,u=cd.reduce((z,Q)=>(z[Q]=zL(l),z),{}),{setup:h,read:m,resolveKeyframes:p,preUpdate:y,update:v,preRender:E,render:I,postRender:N}=u,U=()=>{const z=Bs.useManualTiming?a.timestamp:performance.now();e=!1,Bs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(z-a.timestamp,jL),1)),a.timestamp=z,a.isProcessing=!0,h.process(a),m.process(a),p.process(a),y.process(a),v.process(a),E.process(a),I.process(a),N.process(a),a.isProcessing=!1,e&&t&&(s=!1,n(U))},L=()=>{e=!0,s=!0,a.isProcessing||n(U)};return{schedule:cd.reduce((z,Q)=>{const rt=u[Q];return z[Q]=(at,R=!1,A=!1)=>(e||L(),rt.schedule(at,R,A)),z},{}),cancel:z=>{for(let Q=0;Q<cd.length;Q++)u[cd[Q]].cancel(z)},state:a,steps:u}}const{schedule:ce,cancel:$r,state:on,steps:uy}=$x(typeof requestAnimationFrame<"u"?requestAnimationFrame:oi,!0);let Vd;function FL(){Vd=void 0}const Tn={now:()=>(Vd===void 0&&Tn.set(on.isProcessing||Bs.useManualTiming?on.timestamp:performance.now()),Vd),set:n=>{Vd=n,queueMicrotask(FL)}},Xx=n=>t=>typeof t=="string"&&t.startsWith(n),Wx=Xx("--"),qL=Xx("var(--"),Xv=n=>qL(n)?HL.test(n.split("/*")[0].trim()):!1,HL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function $A(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const Xl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Jc={...Xl,transform:n=>rs(0,1,n)},hd={...Xl,default:1},Cc=n=>Math.round(n*1e5)/1e5,Wv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function GL(n){return n==null}const KL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Zv=(n,t)=>e=>!!(typeof e=="string"&&KL.test(e)&&e.startsWith(n)||t&&!GL(e)&&Object.prototype.hasOwnProperty.call(e,t)),Zx=(n,t,e)=>s=>{if(typeof s!="string")return s;const[a,l,u,h]=s.match(Wv);return{[n]:parseFloat(a),[t]:parseFloat(l),[e]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},YL=n=>rs(0,255,n),cy={...Xl,transform:n=>Math.round(YL(n))},Ga={test:Zv("rgb","red"),parse:Zx("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:s=1})=>"rgba("+cy.transform(n)+", "+cy.transform(t)+", "+cy.transform(e)+", "+Cc(Jc.transform(s))+")"};function QL(n){let t="",e="",s="",a="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),s=n.substring(5,7),a=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),s=n.substring(3,4),a=n.substring(4,5),t+=t,e+=e,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const o_={test:Zv("#"),parse:QL,transform:Ga.transform},Sh=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Ir=Sh("deg"),is=Sh("%"),yt=Sh("px"),$L=Sh("vh"),XL=Sh("vw"),XA={...is,parse:n=>is.parse(n)/100,transform:n=>is.transform(n*100)},ml={test:Zv("hsl","hue"),parse:Zx("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:s=1})=>"hsla("+Math.round(n)+", "+is.transform(Cc(t))+", "+is.transform(Cc(e))+", "+Cc(Jc.transform(s))+")"},Le={test:n=>Ga.test(n)||o_.test(n)||ml.test(n),parse:n=>Ga.test(n)?Ga.parse(n):ml.test(n)?ml.parse(n):o_.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ga.transform(n):ml.transform(n),getAnimatableNone:n=>{const t=Le.parse(n);return t.alpha=0,Le.transform(t)}},WL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ZL(n){return isNaN(n)&&typeof n=="string"&&(n.match(Wv)?.length||0)+(n.match(WL)?.length||0)>0}const Jx="number",tC="color",JL="var",t6="var(",WA="${}",e6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function th(n){const t=n.toString(),e=[],s={color:[],number:[],var:[]},a=[];let l=0;const h=t.replace(e6,m=>(Le.test(m)?(s.color.push(l),a.push(tC),e.push(Le.parse(m))):m.startsWith(t6)?(s.var.push(l),a.push(JL),e.push(m)):(s.number.push(l),a.push(Jx),e.push(parseFloat(m))),++l,WA)).split(WA);return{values:e,split:h,indexes:s,types:a}}function eC(n){return th(n).values}function nC(n){const{split:t,types:e}=th(n),s=t.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=t[u],a[u]!==void 0){const h=e[u];h===Jx?l+=Cc(a[u]):h===tC?l+=Le.transform(a[u]):l+=a[u]}return l}}const n6=n=>typeof n=="number"?0:Le.test(n)?Le.getAnimatableNone(n):n;function i6(n){const t=eC(n);return nC(n)(t.map(n6))}const Xr={test:ZL,parse:eC,createTransformer:nC,getAnimatableNone:i6};function hy(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function s6({hue:n,saturation:t,lightness:e,alpha:s}){n/=360,t/=100,e/=100;let a=0,l=0,u=0;if(!t)a=l=u=e;else{const h=e<.5?e*(1+t):e+t-e*t,m=2*e-h;a=hy(m,h,n+1/3),l=hy(m,h,n),u=hy(m,h,n-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function am(n,t){return e=>e>0?t:n}const _e=(n,t,e)=>n+(t-n)*e,fy=(n,t,e)=>{const s=n*n,a=e*(t*t-s)+s;return a<0?0:Math.sqrt(a)},r6=[o_,Ga,ml],a6=n=>r6.find(t=>t.test(n));function ZA(n){const t=a6(n);if(!t)return!1;let e=t.parse(n);return t===ml&&(e=s6(e)),e}const JA=(n,t)=>{const e=ZA(n),s=ZA(t);if(!e||!s)return am(n,t);const a={...e};return l=>(a.red=fy(e.red,s.red,l),a.green=fy(e.green,s.green,l),a.blue=fy(e.blue,s.blue,l),a.alpha=_e(e.alpha,s.alpha,l),Ga.transform(a))},l_=new Set(["none","hidden"]);function o6(n,t){return l_.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function l6(n,t){return e=>_e(n,t,e)}function Jv(n){return typeof n=="number"?l6:typeof n=="string"?Xv(n)?am:Le.test(n)?JA:h6:Array.isArray(n)?iC:typeof n=="object"?Le.test(n)?JA:u6:am}function iC(n,t){const e=[...n],s=e.length,a=n.map((l,u)=>Jv(l)(l,t[u]));return l=>{for(let u=0;u<s;u++)e[u]=a[u](l);return e}}function u6(n,t){const e={...n,...t},s={};for(const a in e)n[a]!==void 0&&t[a]!==void 0&&(s[a]=Jv(n[a])(n[a],t[a]));return a=>{for(const l in s)e[l]=s[l](a);return e}}function c6(n,t){const e=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],u=n.indexes[l][s[l]],h=n.values[u]??0;e[a]=h,s[l]++}return e}const h6=(n,t)=>{const e=Xr.createTransformer(t),s=th(n),a=th(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?l_.has(n)&&!a.values.length||l_.has(t)&&!s.values.length?o6(n,t):Eh(iC(c6(s,a),a.values),e):am(n,t)};function sC(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?_e(n,t,e):Jv(n)(n,t)}const f6=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>ce.update(t,e),stop:()=>$r(t),now:()=>on.isProcessing?on.timestamp:Tn.now()}},rC=(n,t,e=10)=>{let s="";const a=Math.max(Math.round(t/e),2);for(let l=0;l<a;l++)s+=Math.round(n(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},om=2e4;function t0(n){let t=0;const e=50;let s=n.next(t);for(;!s.done&&t<om;)t+=e,s=n.next(t);return t>=om?1/0:t}function d6(n,t=100,e){const s=e({...n,keyframes:[0,t]}),a=Math.min(t0(s),om);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:ri(a)}}const m6=5;function aC(n,t,e){const s=Math.max(t-m6,0);return Ux(e-n(s),t-s)}const Ee={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},dy=.001;function p6({duration:n=Ee.duration,bounce:t=Ee.bounce,velocity:e=Ee.velocity,mass:s=Ee.mass}){let a,l,u=1-t;u=rs(Ee.minDamping,Ee.maxDamping,u),n=rs(Ee.minDuration,Ee.maxDuration,ri(n)),u<1?(a=p=>{const y=p*u,v=y*n,E=y-e,I=u_(p,u),N=Math.exp(-v);return dy-E/I*N},l=p=>{const v=p*u*n,E=v*e+e,I=Math.pow(u,2)*Math.pow(p,2)*n,N=Math.exp(-v),U=u_(Math.pow(p,2),u);return(-a(p)+dy>0?-1:1)*((E-I)*N)/U}):(a=p=>{const y=Math.exp(-p*n),v=(p-e)*n+1;return-dy+y*v},l=p=>{const y=Math.exp(-p*n),v=(e-p)*(n*n);return y*v});const h=5/n,m=y6(a,l,h);if(n=Ms(n),isNaN(m))return{stiffness:Ee.stiffness,damping:Ee.damping,duration:n};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:u*2*Math.sqrt(s*p),duration:n}}}const g6=12;function y6(n,t,e){let s=e;for(let a=1;a<g6;a++)s=s-n(s)/t(s);return s}function u_(n,t){return n*Math.sqrt(1-t*t)}const _6=["duration","bounce"],v6=["stiffness","damping","mass"];function t1(n,t){return t.some(e=>n[e]!==void 0)}function T6(n){let t={velocity:Ee.velocity,stiffness:Ee.stiffness,damping:Ee.damping,mass:Ee.mass,isResolvedFromDuration:!1,...n};if(!t1(n,v6)&&t1(n,_6))if(n.visualDuration){const e=n.visualDuration,s=2*Math.PI/(e*1.2),a=s*s,l=2*rs(.05,1,1-(n.bounce||0))*Math.sqrt(a);t={...t,mass:Ee.mass,stiffness:a,damping:l}}else{const e=p6(n);t={...t,...e,mass:Ee.mass},t.isResolvedFromDuration=!0}return t}function lm(n=Ee.visualDuration,t=Ee.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:s,restDelta:a}=e;const l=e.keyframes[0],u=e.keyframes[e.keyframes.length-1],h={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:v,velocity:E,isResolvedFromDuration:I}=T6({...e,velocity:-ri(e.velocity||0)}),N=E||0,U=p/(2*Math.sqrt(m*y)),L=u-l,Y=ri(Math.sqrt(m/y)),W=Math.abs(L)<5;s||(s=W?Ee.restSpeed.granular:Ee.restSpeed.default),a||(a=W?Ee.restDelta.granular:Ee.restDelta.default);let z;if(U<1){const rt=u_(Y,U);z=at=>{const R=Math.exp(-U*Y*at);return u-R*((N+U*Y*L)/rt*Math.sin(rt*at)+L*Math.cos(rt*at))}}else if(U===1)z=rt=>u-Math.exp(-Y*rt)*(L+(N+Y*L)*rt);else{const rt=Y*Math.sqrt(U*U-1);z=at=>{const R=Math.exp(-U*Y*at),A=Math.min(rt*at,300);return u-R*((N+U*Y*L)*Math.sinh(A)+rt*L*Math.cosh(A))/rt}}const Q={calculatedDuration:I&&v||null,next:rt=>{const at=z(rt);if(I)h.done=rt>=v;else{let R=rt===0?N:0;U<1&&(R=rt===0?Ms(N):aC(z,rt,at));const A=Math.abs(R)<=s,x=Math.abs(u-at)<=a;h.done=A&&x}return h.value=h.done?u:at,h},toString:()=>{const rt=Math.min(t0(Q),om),at=rC(R=>Q.next(rt*R).value,rt,30);return rt+"ms "+at},toTransition:()=>{}};return Q}lm.applyToOptions=n=>{const t=d6(n,100,lm);return n.ease=t.ease,n.duration=Ms(t.duration),n.type="keyframes",n};function c_({keyframes:n,velocity:t=0,power:e=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:m,restDelta:p=.5,restSpeed:y}){const v=n[0],E={done:!1,value:v},I=A=>h!==void 0&&A<h||m!==void 0&&A>m,N=A=>h===void 0?m:m===void 0||Math.abs(h-A)<Math.abs(m-A)?h:m;let U=e*t;const L=v+U,Y=u===void 0?L:u(L);Y!==L&&(U=Y-v);const W=A=>-U*Math.exp(-A/s),z=A=>Y+W(A),Q=A=>{const x=W(A),M=z(A);E.done=Math.abs(x)<=p,E.value=E.done?Y:M};let rt,at;const R=A=>{I(E.value)&&(rt=A,at=lm({keyframes:[E.value,N(E.value)],velocity:aC(z,A,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return R(0),{calculatedDuration:null,next:A=>{let x=!1;return!at&&rt===void 0&&(x=!0,Q(A),R(A)),rt!==void 0&&A>=rt?at.next(A-rt):(!x&&Q(A),E)}}}function E6(n,t,e){const s=[],a=e||Bs.mix||sC,l=n.length-1;for(let u=0;u<l;u++){let h=a(n[u],n[u+1]);if(t){const m=Array.isArray(t)?t[u]||oi:t;h=Eh(m,h)}s.push(h)}return s}function b6(n,t,{clamp:e=!0,ease:s,mixer:a}={}){const l=n.length;if(Gv(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const u=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),t=[...t].reverse());const h=E6(t,s,a),m=h.length,p=y=>{if(u&&y<n[0])return t[0];let v=0;if(m>1)for(;v<n.length-2&&!(y<n[v+1]);v++);const E=Zc(n[v],n[v+1],y);return h[v](E)};return e?y=>p(rs(n[0],n[l-1],y)):p}function S6(n,t){const e=n[n.length-1];for(let s=1;s<=t;s++){const a=Zc(0,t,s);n.push(_e(e,1,a))}}function A6(n){const t=[0];return S6(t,n.length-1),t}function w6(n,t){return n.map(e=>e*t)}function I6(n,t){return n.map(()=>t||Yx).splice(0,n.length-1)}function Dc({duration:n=300,keyframes:t,times:e,ease:s="easeInOut"}){const a=LL(s)?s.map(QA):QA(s),l={done:!1,value:t[0]},u=w6(e&&e.length===t.length?e:A6(t),n),h=b6(u,t,{ease:Array.isArray(a)?a:I6(t,a)});return{calculatedDuration:n,next:m=>(l.value=h(m),l.done=m>=n,l)}}const R6=n=>n!==null;function e0(n,{repeat:t,repeatType:e="loop"},s,a=1){const l=n.filter(R6),h=a<0||t&&e!=="loop"&&t%2===1?0:l.length-1;return!h||s===void 0?l[h]:s}const x6={decay:c_,inertia:c_,tween:Dc,keyframes:Dc,spring:lm};function oC(n){typeof n.type=="string"&&(n.type=x6[n.type])}class n0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const C6=n=>n/100;class i0 extends n0{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Tn.now()&&this.tick(Tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;oC(t);const{type:e=Dc,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=t;let{keyframes:h}=t;const m=e||Dc;m!==Dc&&typeof h[0]!="number"&&(this.mixKeyframes=Eh(C6,sC(h[0],h[1])),h=[0,100]);const p=m({...t,keyframes:h});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=t0(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:E,repeatDelay:I,type:N,onUpdate:U,finalKeyframe:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const Y=this.currentTime-p*(this.playbackSpeed>=0?1:-1),W=this.playbackSpeed>=0?Y<0:Y>a;this.currentTime=Math.max(Y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let z=this.currentTime,Q=s;if(v){const A=Math.min(this.currentTime,a)/h;let x=Math.floor(A),M=A%1;!M&&A>=1&&(M=1),M===1&&x--,x=Math.min(x,v+1),x%2&&(E==="reverse"?(M=1-M,I&&(M-=I/h)):E==="mirror"&&(Q=u)),z=rs(0,1,M)*h}const rt=W?{done:!1,value:y[0]}:Q.next(z);l&&(rt.value=l(rt.value));let{done:at}=rt;!W&&m!==null&&(at=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&at);return R&&N!==c_&&(rt.value=e0(y,this.options,L,this.speed)),U&&U(rt.value),R&&this.finish(),rt}then(t,e){return this.finished.then(t,e)}get duration(){return ri(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ri(t)}get time(){return ri(this.currentTime)}set time(t){t=Ms(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Tn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=ri(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=f6,startTime:e}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=e??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function D6(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Ka=n=>n*180/Math.PI,h_=n=>{const t=Ka(Math.atan2(n[1],n[0]));return f_(t)},V6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:h_,rotateZ:h_,skewX:n=>Ka(Math.atan(n[1])),skewY:n=>Ka(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},f_=n=>(n=n%360,n<0&&(n+=360),n),e1=h_,n1=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),i1=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),M6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:n1,scaleY:i1,scale:n=>(n1(n)+i1(n))/2,rotateX:n=>f_(Ka(Math.atan2(n[6],n[5]))),rotateY:n=>f_(Ka(Math.atan2(-n[2],n[0]))),rotateZ:e1,rotate:e1,skewX:n=>Ka(Math.atan(n[4])),skewY:n=>Ka(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function d_(n){return n.includes("scale")?1:0}function m_(n,t){if(!n||n==="none")return d_(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(e)s=M6,a=e;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=V6,a=h}if(!a)return d_(t);const l=s[t],u=a[1].split(",").map(P6);return typeof l=="function"?l(u):u[l]}const N6=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return m_(e,t)};function P6(n){return parseFloat(n.trim())}const Wl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zl=new Set(Wl),s1=n=>n===Xl||n===yt,O6=new Set(["x","y","z"]),k6=Wl.filter(n=>!O6.has(n));function L6(n){const t=[];return k6.forEach(e=>{const s=n.getValue(e);s!==void 0&&(t.push([e,s.get()]),s.set(e.startsWith("scale")?1:0))}),t}const Or={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>m_(t,"x"),y:(n,{transform:t})=>m_(t,"y")};Or.translateX=Or.x;Or.translateY=Or.y;const Xa=new Set;let p_=!1,g_=!1,y_=!1;function lC(){if(g_){const n=Array.from(Xa).filter(s=>s.needsMeasurement),t=new Set(n.map(s=>s.element)),e=new Map;t.forEach(s=>{const a=L6(s);a.length&&(e.set(s,a),s.render())}),n.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=e.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}g_=!1,p_=!1,Xa.forEach(n=>n.complete(y_)),Xa.clear()}function uC(){Xa.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(g_=!0)})}function U6(){y_=!0,uC(),lC(),y_=!1}class s0{constructor(t,e,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Xa.add(this),p_||(p_=!0,ce.read(uC),ce.resolveKeyframes(lC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:s,motionValue:a}=this;if(t[0]===null){const l=a?.get(),u=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&e){const h=s.readValue(e,u);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=u),a&&l===void 0&&a.set(t[0])}D6(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Xa.delete(this)}cancel(){this.state==="scheduled"&&(Xa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const B6=n=>n.startsWith("--");function z6(n,t,e){B6(t)?n.style.setProperty(t,e):n.style[t]=e}const j6=Kv(()=>window.ScrollTimeline!==void 0),F6={};function q6(n,t){const e=Kv(n);return()=>F6[t]??e()}const cC=q6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),gc=([n,t,e,s])=>`cubic-bezier(${n}, ${t}, ${e}, ${s})`,r1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gc([0,.65,.55,1]),circOut:gc([.55,0,1,.45]),backIn:gc([.31,.01,.66,-.59]),backOut:gc([.33,1.53,.69,.99])};function hC(n,t){if(n)return typeof n=="function"?cC()?rC(n,t):"ease-out":Qx(n)?gc(n):Array.isArray(n)?n.map(e=>hC(e,t)||r1.easeOut):r1[n]}function H6(n,t,e,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:m}={},p=void 0){const y={[t]:e};m&&(y.offset=m);const v=hC(h,a);Array.isArray(v)&&(y.easing=v);const E={delay:s,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),n.animate(y,E)}function fC(n){return typeof n=="function"&&"applyToOptions"in n}function G6({type:n,...t}){return fC(n)&&cC()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class K6 extends n0{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=t,Gv(typeof t.type!="string");const p=G6(t);this.animation=H6(e,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=e0(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):z6(e,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return ri(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ri(t)}get time(){return ri(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ms(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&j6()?(this.animation.timeline=t,oi):e(this)}}const dC={anticipate:Hx,backInOut:qx,circInOut:Kx};function Y6(n){return n in dC}function Q6(n){typeof n.ease=="string"&&Y6(n.ease)&&(n.ease=dC[n.ease])}const my=10;class $6 extends K6{constructor(t){Q6(t),oC(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const h=new i0({...u,autoplay:!1}),m=Math.max(my,Tn.now()-this.startTime),p=rs(0,my,m-my);e.setWithVelocity(h.sample(Math.max(0,m-p)).value,h.sample(m).value,p),h.stop()}}const a1=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Xr.test(n)||n==="0")&&!n.startsWith("url("));function X6(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function W6(n,t,e,s){const a=n[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=n[n.length-1],u=a1(a,t),h=a1(l,t);return!u||!h?!1:X6(n)||(e==="spring"||fC(e))&&s}function __(n){n.duration=0,n.type="keyframes"}const Z6=new Set(["opacity","clipPath","filter","transform"]),J6=Kv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function t5(n){const{motionValue:t,name:e,repeatDelay:s,repeatType:a,damping:l,type:u}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=t.owner.getProps();return J6()&&e&&Z6.has(e)&&(e!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const e5=40;class n5 extends n0{constructor({autoplay:t=!0,delay:e=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:m,motionValue:p,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Tn.now();const E={autoplay:t,delay:e,type:s,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:p,element:y,...v},I=y?.KeyframeResolver||s0;this.keyframeResolver=new I(h,(N,U,L)=>this.onKeyframesResolved(N,U,E,!L),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=Tn.now(),W6(t,l,u,h)||((Bs.instantAnimations||!m)&&y?.(e0(t,s,e)),t[0]=t[t.length-1],__(s),s.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>e5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...s,keyframes:t},I=!p&&t5(E),N=E.motionValue?.owner?.current,U=I?new $6({...E,element:N}):new i0(E);U.finished.then(()=>{this.notifyFinished()}).catch(oi),this.pendingTimeline&&(this.stopTimeline=U.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=U}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),U6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function mC(n,t,e,s=0,a=1){const l=Array.from(n).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),u=n.size,h=(u-1)*s;return typeof e=="function"?e(l,u):a===1?l*s:h-l*s}const i5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function s5(n){const t=i5.exec(n);if(!t)return[,];const[,e,s,a]=t;return[`--${e??s}`,a]}function pC(n,t,e=1){const[s,a]=s5(n);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const u=l.trim();return Ox(u)?parseFloat(u):u}return Xv(a)?pC(a,t,e+1):a}const r5={type:"spring",stiffness:500,damping:25,restSpeed:10},a5=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),o5={type:"keyframes",duration:.8},l5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},u5=(n,{keyframes:t})=>t.length>2?o5:Zl.has(n)?n.startsWith("scale")?a5(t[1]):r5:l5,c5=n=>n!==null;function h5(n,{repeat:t,repeatType:e="loop"},s){const a=n.filter(c5),l=t&&e!=="loop"&&t%2===1?0:a.length-1;return a[l]}function r0(n,t){return n?.[t]??n?.default??n}function f5({when:n,delay:t,delayChildren:e,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const a0=(n,t,e,s={},a,l)=>u=>{const h=r0(s,n)||{},m=h.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Ms(m);const y={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-p,onUpdate:E=>{t.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:n,motionValue:t,element:l?void 0:a};f5(h)||Object.assign(y,u5(n,y)),y.duration&&(y.duration=Ms(y.duration)),y.repeatDelay&&(y.repeatDelay=Ms(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(__(y),y.delay===0&&(v=!0)),(Bs.instantAnimations||Bs.skipAnimations)&&(v=!0,__(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!l&&t.get()!==void 0){const E=h5(y.keyframes,h);if(E!==void 0){ce.update(()=>{y.onUpdate(E),y.onComplete()});return}}return h.isSync?new i0(y):new n5(y)};function o1(n){const t=[{},{}];return n?.values.forEach((e,s)=>{t[0][s]=e.get(),t[1][s]=e.getVelocity()}),t}function o0(n,t,e,s){if(typeof t=="function"){const[a,l]=o1(s);t=t(e!==void 0?e:n.custom,a,l)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[a,l]=o1(s);t=t(e!==void 0?e:n.custom,a,l)}return t}function Sl(n,t,e){const s=n.getProps();return o0(s,t,e!==void 0?e:s.custom,n)}const gC=new Set(["width","height","top","left","right","bottom",...Wl]),l1=30,d5=n=>!isNaN(parseFloat(n));class m5{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Tn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Tn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=d5(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new Yv);const s=this.events[t].add(e);return t==="change"?()=>{s(),ce.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,s){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>l1)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,l1);return Ux(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jl(n,t){return new m5(n,t)}const v_=n=>Array.isArray(n);function p5(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,jl(e))}function g5(n){return v_(n)?n[n.length-1]||0:n}function y5(n,t){const e=Sl(n,t);let{transitionEnd:s={},transition:a={},...l}=e||{};l={...l,...s};for(const u in l){const h=g5(l[u]);p5(n,u,h)}}const dn=n=>!!(n&&n.getVelocity);function _5(n){return!!(dn(n)&&n.add)}function T_(n,t){const e=n.getValue("willChange");if(_5(e))return e.add(t);if(!e&&Bs.WillChange){const s=new Bs.WillChange("auto");n.addValue("willChange",s),s.add(t)}}function l0(n){return n.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const v5="framerAppearId",yC="data-"+l0(v5);function _C(n){return n.props[yC]}function T5({protectedKeys:n,needsAnimating:t},e){const s=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,s}function vC(n,t,{delay:e=0,transitionOverride:s,type:a}={}){let{transition:l=n.getDefaultTransition(),transitionEnd:u,...h}=t;const m=l?.reduceMotion;s&&(l=s);const p=[],y=a&&n.animationState&&n.animationState.getState()[a];for(const v in h){const E=n.getValue(v,n.latestValues[v]??null),I=h[v];if(I===void 0||y&&T5(y,v))continue;const N={delay:e,...r0(l||{},v)},U=E.get();if(U!==void 0&&!E.isAnimating&&!Array.isArray(I)&&I===U&&!N.velocity)continue;let L=!1;if(window.MotionHandoffAnimation){const z=_C(n);if(z){const Q=window.MotionHandoffAnimation(z,v,ce);Q!==null&&(N.startTime=Q,L=!0)}}T_(n,v);const Y=m??n.shouldReduceMotion;E.start(a0(v,E,I,Y&&gC.has(v)?{type:!1}:N,n,L));const W=E.animation;W&&p.push(W)}return u&&Promise.all(p).then(()=>{ce.update(()=>{u&&y5(n,u)})}),p}function E_(n,t,e={}){const s=Sl(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(a=e.transitionOverride);const l=s?()=>Promise.all(vC(n,s,e)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=a;return E5(n,t,m,p,y,v,e)}:()=>Promise.resolve(),{when:h}=a;if(h){const[m,p]=h==="beforeChildren"?[l,u]:[u,l];return m().then(()=>p())}else return Promise.all([l(),u(e.delay)])}function E5(n,t,e=0,s=0,a=0,l=1,u){const h=[];for(const m of n.variantChildren)m.notify("AnimationStart",t),h.push(E_(m,t,{...u,delay:e+(typeof s=="function"?0:s)+mC(n.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(h)}function b5(n,t,e={}){n.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>E_(n,l,e));s=Promise.all(a)}else if(typeof t=="string")s=E_(n,t,e);else{const a=typeof t=="function"?Sl(n,t,e.custom):t;s=Promise.all(vC(n,a,e))}return s.then(()=>{n.notify("AnimationComplete",t)})}const S5={test:n=>n==="auto",parse:n=>n},TC=n=>t=>t.test(n),EC=[Xl,yt,is,Ir,XL,$L,S5],u1=n=>EC.find(TC(n));function A5(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Lx(n):!0}const w5=new Set(["brightness","contrast","saturate","opacity"]);function I5(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[s]=e.match(Wv)||[];if(!s)return n;const a=e.replace(s,"");let l=w5.has(t)?1:0;return s!==e&&(l*=100),t+"("+l+a+")"}const R5=/\b([a-z-]*)\(.*?\)/gu,b_={...Xr,getAnimatableNone:n=>{const t=n.match(R5);return t?t.map(I5).join(" "):n}},c1={...Xl,transform:Math.round},x5={rotate:Ir,rotateX:Ir,rotateY:Ir,rotateZ:Ir,scale:hd,scaleX:hd,scaleY:hd,scaleZ:hd,skew:Ir,skewX:Ir,skewY:Ir,distance:yt,translateX:yt,translateY:yt,translateZ:yt,x:yt,y:yt,z:yt,perspective:yt,transformPerspective:yt,opacity:Jc,originX:XA,originY:XA,originZ:yt},u0={borderWidth:yt,borderTopWidth:yt,borderRightWidth:yt,borderBottomWidth:yt,borderLeftWidth:yt,borderRadius:yt,borderTopLeftRadius:yt,borderTopRightRadius:yt,borderBottomRightRadius:yt,borderBottomLeftRadius:yt,width:yt,maxWidth:yt,height:yt,maxHeight:yt,top:yt,right:yt,bottom:yt,left:yt,inset:yt,insetBlock:yt,insetBlockStart:yt,insetBlockEnd:yt,insetInline:yt,insetInlineStart:yt,insetInlineEnd:yt,padding:yt,paddingTop:yt,paddingRight:yt,paddingBottom:yt,paddingLeft:yt,paddingBlock:yt,paddingBlockStart:yt,paddingBlockEnd:yt,paddingInline:yt,paddingInlineStart:yt,paddingInlineEnd:yt,margin:yt,marginTop:yt,marginRight:yt,marginBottom:yt,marginLeft:yt,marginBlock:yt,marginBlockStart:yt,marginBlockEnd:yt,marginInline:yt,marginInlineStart:yt,marginInlineEnd:yt,fontSize:yt,backgroundPositionX:yt,backgroundPositionY:yt,...x5,zIndex:c1,fillOpacity:Jc,strokeOpacity:Jc,numOctaves:c1},C5={...u0,color:Le,backgroundColor:Le,outlineColor:Le,fill:Le,stroke:Le,borderColor:Le,borderTopColor:Le,borderRightColor:Le,borderBottomColor:Le,borderLeftColor:Le,filter:b_,WebkitFilter:b_},bC=n=>C5[n];function SC(n,t){let e=bC(n);return e!==b_&&(e=Xr),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const D5=new Set(["auto","none","0"]);function V5(n,t,e){let s=0,a;for(;s<n.length&&!a;){const l=n[s];typeof l=="string"&&!D5.has(l)&&th(l).values.length&&(a=n[s]),s++}if(a&&e)for(const l of t)n[l]=SC(e,a)}class M5 extends s0{constructor(t,e,s,a,l){super(t,e,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:s}=this;if(!e||!e.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let v=t[y];if(typeof v=="string"&&(v=v.trim(),Xv(v))){const E=pC(v,e.current);E!==void 0&&(t[y]=E),y===t.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!gC.has(s)||t.length!==2)return;const[a,l]=t,u=u1(a),h=u1(l),m=$A(a),p=$A(l);if(m!==p&&Or[s]){this.needsMeasurement=!0;return}if(u!==h)if(s1(u)&&s1(h))for(let y=0;y<t.length;y++){const v=t[y];typeof v=="string"&&(t[y]=parseFloat(v))}else Or[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||A5(t[a]))&&s.push(a);s.length&&V5(t,s,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Or[s](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const a=e[e.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(e);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=Or[e](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,m])=>{t.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function N5(n,t,e){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const a=e?.[n]??s.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n).filter(s=>s!=null)}const AC=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function S_(n){return kx(n)&&"offsetHeight"in n}const{schedule:c0}=$x(queueMicrotask,!1),Ei={x:!1,y:!1};function wC(){return Ei.x||Ei.y}function P5(n){return n==="x"||n==="y"?Ei[n]?null:(Ei[n]=!0,()=>{Ei[n]=!1}):Ei.x||Ei.y?null:(Ei.x=Ei.y=!0,()=>{Ei.x=Ei.y=!1})}function IC(n,t){const e=N5(n),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[e,a,()=>s.abort()]}function h1(n){return!(n.pointerType==="touch"||wC())}function O5(n,t,e={}){const[s,a,l]=IC(n,e),u=h=>{if(!h1(h))return;const{target:m}=h,p=t(m,h);if(typeof p!="function"||!m)return;const y=v=>{h1(v)&&(p(v),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const RC=(n,t)=>t?n===t?!0:RC(n,t.parentElement):!1,h0=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,k5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function xC(n){return k5.has(n.tagName)||n.isContentEditable===!0}const Md=new WeakSet;function f1(n){return t=>{t.key==="Enter"&&n(t)}}function py(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const L5=(n,t)=>{const e=n.currentTarget;if(!e)return;const s=f1(()=>{if(Md.has(e))return;py(e,"down");const a=f1(()=>{py(e,"up")}),l=()=>py(e,"cancel");e.addEventListener("keyup",a,t),e.addEventListener("blur",l,t)});e.addEventListener("keydown",s,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",s),t)};function d1(n){return h0(n)&&!wC()}function U5(n,t,e={}){const[s,a,l]=IC(n,e),u=h=>{const m=h.currentTarget;if(!d1(h))return;Md.add(m);const p=t(m,h),y=(I,N)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",E),Md.has(m)&&Md.delete(m),d1(I)&&typeof p=="function"&&p(I,{success:N})},v=I=>{y(I,m===window||m===document||e.useGlobalTarget||RC(m,I.target))},E=I=>{y(I,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",E,a)};return s.forEach(h=>{(e.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),S_(h)&&(h.addEventListener("focus",p=>L5(p,a)),!xC(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function CC(n){return kx(n)&&"ownerSVGElement"in n}function B5(n){return CC(n)&&n.tagName==="svg"}const z5=[...EC,Le,Xr],j5=n=>z5.find(TC(n)),m1=()=>({translate:0,scale:1,origin:0,originPoint:0}),pl=()=>({x:m1(),y:m1()}),p1=()=>({min:0,max:0}),He=()=>({x:p1(),y:p1()}),A_={current:null},DC={current:!1},F5=typeof window<"u";function q5(){if(DC.current=!0,!!F5)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>A_.current=n.matches;n.addEventListener("change",t),t()}else A_.current=!1}const H5=new WeakMap;function jm(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function eh(n){return typeof n=="string"||Array.isArray(n)}const f0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],d0=["initial",...f0];function Fm(n){return jm(n.animate)||d0.some(t=>eh(n[t]))}function VC(n){return!!(Fm(n)||n.variants)}function G5(n,t,e){for(const s in t){const a=t[s],l=e[s];if(dn(a))n.addValue(s,a);else if(dn(l))n.addValue(s,jl(a,{owner:n}));else if(l!==a)if(n.hasValue(s)){const u=n.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=n.getStaticValue(s);n.addValue(s,jl(u!==void 0?u:a,{owner:n}))}}for(const s in e)t[s]===void 0&&n.removeValue(s);return t}const g1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let um={};function MC(n){um=n}function K5(){return um}class Y5{scrapeMotionValuesFromProps(t,e,s){return{}}constructor({parent:t,props:e,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=s0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Tn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,ce.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=e.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=e,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=Fm(e),this.isVariantNode=VC(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(e,{},this);for(const E in v){const I=v[E];m[E]!==void 0&&dn(I)&&I.set(m[E])}}mount(t){this.current=t,H5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,s)=>this.bindToMotionValue(s,e)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(DC.current||q5(),this.shouldReduceMotion=A_.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),$r(this.notifyUpdate),$r(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Zl.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=e.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&ce.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in um){const e=um[t];if(!e)continue;const{isEnabled:s,Feature:a}=e;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):He()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let s=0;s<g1.length;s++){const a=g1[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=t[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=G5(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const s=this.values.get(t);e!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&e!==void 0&&(s=jl(e===null?void 0:e,{owner:this}),this.addValue(t,s)),s}readValue(t,e){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Ox(s)||Lx(s))?s=parseFloat(s):!j5(s)&&Xr.test(e)&&(s=SC(t,e)),this.setBaseTarget(t,dn(s)?s.get():s)),dn(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let s;if(typeof e=="string"||typeof e=="object"){const l=o0(this.props,e,this.presenceContext?.custom);l&&(s=l[t])}if(e&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!dn(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new Yv),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){c0.render(this.render)}}class NC extends Y5{constructor(){super(...arguments),this.KeyframeResolver=M5}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){const s=t.style;return s?s[e]:void 0}removeValueFromRenderState(t,{vars:e,style:s}){delete e[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;dn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class ea{constructor(t){this.isMounted=!1,this.node=t}update(){}}function PC({top:n,left:t,right:e,bottom:s}){return{x:{min:t,max:e},y:{min:n,max:s}}}function Q5({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function $5(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),s=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:s.y,right:s.x}}function gy(n){return n===void 0||n===1}function w_({scale:n,scaleX:t,scaleY:e}){return!gy(n)||!gy(t)||!gy(e)}function Ba(n){return w_(n)||OC(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function OC(n){return y1(n.x)||y1(n.y)}function y1(n){return n&&n!=="0%"}function cm(n,t,e){const s=n-e,a=t*s;return e+a}function _1(n,t,e,s,a){return a!==void 0&&(n=cm(n,a,s)),cm(n,e,s)+t}function I_(n,t=0,e=1,s,a){n.min=_1(n.min,t,e,s,a),n.max=_1(n.max,t,e,s,a)}function kC(n,{x:t,y:e}){I_(n.x,t.translate,t.scale,t.originPoint),I_(n.y,e.translate,e.scale,e.originPoint)}const v1=.999999999999,T1=1.0000000000001;function X5(n,t,e,s=!1){const a=e.length;if(!a)return;t.x=t.y=1;let l,u;for(let h=0;h<a;h++){l=e[h],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&yl(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,kC(n,u)),s&&Ba(l.latestValues)&&yl(n,l.latestValues))}t.x<T1&&t.x>v1&&(t.x=1),t.y<T1&&t.y>v1&&(t.y=1)}function gl(n,t){n.min=n.min+t,n.max=n.max+t}function E1(n,t,e,s,a=.5){const l=_e(n.min,n.max,a);I_(n,t,e,l,s)}function yl(n,t){E1(n.x,t.x,t.scaleX,t.scale,t.originX),E1(n.y,t.y,t.scaleY,t.scale,t.originY)}function LC(n,t){return PC($5(n.getBoundingClientRect(),t))}function W5(n,t,e){const s=LC(n,e),{scroll:a}=t;return a&&(gl(s.x,a.offset.x),gl(s.y,a.offset.y)),s}const Z5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},J5=Wl.length;function tU(n,t,e){let s="",a=!0;for(let l=0;l<J5;l++){const u=Wl[l],h=n[u];if(h===void 0)continue;let m=!0;if(typeof h=="number")m=h===(u.startsWith("scale")?1:0);else{const p=parseFloat(h);m=u.startsWith("scale")?p===1:p===0}if(!m||e){const p=AC(h,u0[u]);if(!m){a=!1;const y=Z5[u]||u;s+=`${y}(${p}) `}e&&(t[u]=p)}}return s=s.trim(),e?s=e(t,a?"":s):a&&(s="none"),s}function m0(n,t,e){const{style:s,vars:a,transformOrigin:l}=n;let u=!1,h=!1;for(const m in t){const p=t[m];if(Zl.has(m)){u=!0;continue}else if(Wx(m)){a[m]=p;continue}else{const y=AC(p,u0[m]);m.startsWith("origin")?(h=!0,l[m]=y):s[m]=y}}if(t.transform||(u||e?s.transform=tU(t,n.transform,e):s.transform&&(s.transform="none")),h){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}function UC(n,{style:t,vars:e},s,a){const l=n.style;let u;for(u in t)l[u]=t[u];a?.applyProjectionStyles(l,s);for(u in e)l.setProperty(u,e[u])}function b1(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const hc={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(yt.test(n))n=parseFloat(n);else return n;const e=b1(n,t.target.x),s=b1(n,t.target.y);return`${e}% ${s}%`}},eU={correct:(n,{treeScale:t,projectionDelta:e})=>{const s=n,a=Xr.parse(n);if(a.length>5)return s;const l=Xr.createTransformer(n),u=typeof a[0]!="number"?1:0,h=e.x.scale*t.x,m=e.y.scale*t.y;a[0+u]/=h,a[1+u]/=m;const p=_e(h,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}},R_={borderRadius:{...hc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hc,borderTopRightRadius:hc,borderBottomLeftRadius:hc,borderBottomRightRadius:hc,boxShadow:eU};function BC(n,{layout:t,layoutId:e}){return Zl.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!R_[n]||n==="opacity")}function p0(n,t,e){const s=n.style,a=t?.style,l={};if(!s)return l;for(const u in s)(dn(s[u])||a&&dn(a[u])||BC(u,n)||e?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}function nU(n){return window.getComputedStyle(n)}class iU extends NC{constructor(){super(...arguments),this.type="html",this.renderInstance=UC}readValueFromInstance(t,e){if(Zl.has(e))return this.projection?.isProjecting?d_(e):N6(t,e);{const s=nU(t),a=(Wx(e)?s.getPropertyValue(e):s[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return LC(t,e)}build(t,e,s){m0(t,e,s.transformTemplate)}scrapeMotionValuesFromProps(t,e,s){return p0(t,e,s)}}const sU={offset:"stroke-dashoffset",array:"stroke-dasharray"},rU={offset:"strokeDashoffset",array:"strokeDasharray"};function aU(n,t,e=1,s=0,a=!0){n.pathLength=1;const l=a?sU:rU;n[l.offset]=`${-s}`,n[l.array]=`${t} ${e}`}const oU=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function zC(n,{attrX:t,attrY:e,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},m,p,y){if(m0(n,h,p),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:E}=n;v.transform&&(E.transform=v.transform,delete v.transform),(E.transform||v.transformOrigin)&&(E.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete v.transformBox);for(const I of oU)v[I]!==void 0&&(E[I]=v[I],delete v[I]);t!==void 0&&(v.x=t),e!==void 0&&(v.y=e),s!==void 0&&(v.scale=s),a!==void 0&&aU(v,a,l,u,!1)}const jC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),FC=n=>typeof n=="string"&&n.toLowerCase()==="svg";function lU(n,t,e,s){UC(n,t,void 0,s);for(const a in t.attrs)n.setAttribute(jC.has(a)?a:l0(a),t.attrs[a])}function qC(n,t,e){const s=p0(n,t,e);for(const a in n)if(dn(n[a])||dn(t[a])){const l=Wl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=n[a]}return s}class uU extends NC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=He}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Zl.has(e)){const s=bC(e);return s&&s.default||0}return e=jC.has(e)?e:l0(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,s){return qC(t,e,s)}build(t,e,s){zC(t,e,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,e,s,a){lU(t,e,s,a)}mount(t){this.isSVGTag=FC(t.tagName),super.mount(t)}}const cU=d0.length;function HC(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?HC(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<cU;e++){const s=d0[e],a=n.props[s];(eh(a)||a===!1)&&(t[s]=a)}return t}function GC(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let s=0;s<e;s++)if(t[s]!==n[s])return!1;return!0}const hU=[...f0].reverse(),fU=f0.length;function dU(n){return t=>Promise.all(t.map(({animation:e,options:s})=>b5(n,e,s)))}function mU(n){let t=dU(n),e=S1(),s=!0;const a=m=>(p,y)=>{const v=Sl(n,y,m==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:E,transitionEnd:I,...N}=v;p={...p,...N,...I}}return p};function l(m){t=m(n)}function u(m){const{props:p}=n,y=HC(n.parent)||{},v=[],E=new Set;let I={},N=1/0;for(let L=0;L<fU;L++){const Y=hU[L],W=e[Y],z=p[Y]!==void 0?p[Y]:y[Y],Q=eh(z),rt=Y===m?W.isActive:null;rt===!1&&(N=L);let at=z===y[Y]&&z!==p[Y]&&Q;if(at&&s&&n.manuallyAnimateOnMount&&(at=!1),W.protectedKeys={...I},!W.isActive&&rt===null||!z&&!W.prevProp||jm(z)||typeof z=="boolean")continue;const R=pU(W.prevProp,z);let A=R||Y===m&&W.isActive&&!at&&Q||L>N&&Q,x=!1;const M=Array.isArray(z)?z:[z];let V=M.reduce(a(Y),{});rt===!1&&(V={});const{prevResolvedValues:k={}}=W,C={...k,...V},Gt=ot=>{A=!0,E.has(ot)&&(x=!0,E.delete(ot)),W.needsAnimating[ot]=!0;const dt=n.getValue(ot);dt&&(dt.liveStyle=!1)};for(const ot in C){const dt=V[ot],Dt=k[ot];if(I.hasOwnProperty(ot))continue;let kt=!1;v_(dt)&&v_(Dt)?kt=!GC(dt,Dt):kt=dt!==Dt,kt?dt!=null?Gt(ot):E.add(ot):dt!==void 0&&E.has(ot)?Gt(ot):W.protectedKeys[ot]=!0}W.prevProp=z,W.prevResolvedValues=V,W.isActive&&(I={...I,...V}),s&&n.blockInitialAnimation&&(A=!1);const Xt=at&&R;A&&(!Xt||x)&&v.push(...M.map(ot=>{const dt={type:Y};if(typeof ot=="string"&&s&&!Xt&&n.manuallyAnimateOnMount&&n.parent){const{parent:Dt}=n,kt=Sl(Dt,ot);if(Dt.enteringChildren&&kt){const{delayChildren:O}=kt.transition||{};dt.delay=mC(Dt.enteringChildren,n,O)}}return{animation:ot,options:dt}}))}if(E.size){const L={};if(typeof p.initial!="boolean"){const Y=Sl(n,Array.isArray(p.initial)?p.initial[0]:p.initial);Y&&Y.transition&&(L.transition=Y.transition)}E.forEach(Y=>{const W=n.getBaseTarget(Y),z=n.getValue(Y);z&&(z.liveStyle=!0),L[Y]=W??null}),v.push({animation:L})}let U=!!v.length;return s&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(U=!1),s=!1,U?t(v):Promise.resolve()}function h(m,p){if(e[m].isActive===p)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(m,p)),e[m].isActive=p;const y=u(m);for(const v in e)e[v].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>e,reset:()=>{e=S1()}}}function pU(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!GC(t,n):!1}function Pa(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function S1(){return{animate:Pa(!0),whileInView:Pa(),whileHover:Pa(),whileTap:Pa(),whileDrag:Pa(),whileFocus:Pa(),exit:Pa()}}function A1(n,t){n.min=t.min,n.max=t.max}function Ti(n,t){A1(n.x,t.x),A1(n.y,t.y)}function w1(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}const KC=1e-4,gU=1-KC,yU=1+KC,YC=.01,_U=0-YC,vU=0+YC;function En(n){return n.max-n.min}function TU(n,t,e){return Math.abs(n-t)<=e}function I1(n,t,e,s=.5){n.origin=s,n.originPoint=_e(t.min,t.max,n.origin),n.scale=En(e)/En(t),n.translate=_e(e.min,e.max,n.origin)-n.originPoint,(n.scale>=gU&&n.scale<=yU||isNaN(n.scale))&&(n.scale=1),(n.translate>=_U&&n.translate<=vU||isNaN(n.translate))&&(n.translate=0)}function Vc(n,t,e,s){I1(n.x,t.x,e.x,s?s.originX:void 0),I1(n.y,t.y,e.y,s?s.originY:void 0)}function R1(n,t,e){n.min=e.min+t.min,n.max=n.min+En(t)}function EU(n,t,e){R1(n.x,t.x,e.x),R1(n.y,t.y,e.y)}function x1(n,t,e){n.min=t.min-e.min,n.max=n.min+En(t)}function hm(n,t,e){x1(n.x,t.x,e.x),x1(n.y,t.y,e.y)}function C1(n,t,e,s,a){return n-=t,n=cm(n,1/e,s),a!==void 0&&(n=cm(n,1/a,s)),n}function bU(n,t=0,e=1,s=.5,a,l=n,u=n){if(is.test(t)&&(t=parseFloat(t),t=_e(u.min,u.max,t/100)-u.min),typeof t!="number")return;let h=_e(l.min,l.max,s);n===l&&(h-=t),n.min=C1(n.min,t,e,h,a),n.max=C1(n.max,t,e,h,a)}function D1(n,t,[e,s,a],l,u){bU(n,t[e],t[s],t[a],t.scale,l,u)}const SU=["x","scaleX","originX"],AU=["y","scaleY","originY"];function V1(n,t,e,s){D1(n.x,t,SU,e?e.x:void 0,s?s.x:void 0),D1(n.y,t,AU,e?e.y:void 0,s?s.y:void 0)}function M1(n){return n.translate===0&&n.scale===1}function QC(n){return M1(n.x)&&M1(n.y)}function N1(n,t){return n.min===t.min&&n.max===t.max}function wU(n,t){return N1(n.x,t.x)&&N1(n.y,t.y)}function P1(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function $C(n,t){return P1(n.x,t.x)&&P1(n.y,t.y)}function O1(n){return En(n.x)/En(n.y)}function k1(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}function ni(n){return[n("x"),n("y")]}function IU(n,t,e){let s="";const a=n.x.translate/t.x,l=n.y.translate/t.y,u=e?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:E,skewX:I,skewY:N}=e;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),v&&(s+=`rotateX(${v}deg) `),E&&(s+=`rotateY(${E}deg) `),I&&(s+=`skewX(${I}deg) `),N&&(s+=`skewY(${N}deg) `)}const h=n.x.scale*t.x,m=n.y.scale*t.y;return(h!==1||m!==1)&&(s+=`scale(${h}, ${m})`),s||"none"}const XC=["TopLeft","TopRight","BottomLeft","BottomRight"],RU=XC.length,L1=n=>typeof n=="string"?parseFloat(n):n,U1=n=>typeof n=="number"||yt.test(n);function xU(n,t,e,s,a,l){a?(n.opacity=_e(0,e.opacity??1,CU(s)),n.opacityExit=_e(t.opacity??1,0,DU(s))):l&&(n.opacity=_e(t.opacity??1,e.opacity??1,s));for(let u=0;u<RU;u++){const h=`border${XC[u]}Radius`;let m=B1(t,h),p=B1(e,h);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||U1(m)===U1(p)?(n[h]=Math.max(_e(L1(m),L1(p),s),0),(is.test(p)||is.test(m))&&(n[h]+="%")):n[h]=p}(t.rotate||e.rotate)&&(n.rotate=_e(t.rotate||0,e.rotate||0,s))}function B1(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const CU=WC(0,.5,Gx),DU=WC(.5,.95,oi);function WC(n,t,e){return s=>s<n?0:s>t?1:e(Zc(n,t,s))}function VU(n,t,e){const s=dn(n)?n:jl(n);return s.start(a0("",s,t,e)),s.animation}function nh(n,t,e,s={passive:!0}){return n.addEventListener(t,e,s),()=>n.removeEventListener(t,e)}const MU=(n,t)=>n.depth-t.depth;class NU{constructor(){this.children=[],this.isDirty=!1}add(t){qv(this.children,t),this.isDirty=!0}remove(t){Hv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(MU),this.isDirty=!1,this.children.forEach(t)}}function PU(n,t){const e=Tn.now(),s=({timestamp:a})=>{const l=a-e;l>=t&&($r(s),n(l-t))};return ce.setup(s,!0),()=>$r(s)}function Nd(n){return dn(n)?n.get():n}class OU{constructor(){this.members=[]}add(t){qv(this.members,t),t.scheduleRender()}remove(t){if(Hv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(a=>t===a);if(e===0)return!1;let s;for(let a=e;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,e){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender();const a=s.options.layoutDependency,l=t.options.layoutDependency;a!==void 0&&l!==void 0&&a===l||(t.resumeFrom=s,e&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:h}=t.options;h===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:s}=t;e.onExitComplete&&e.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Pd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},yy=["","X","Y","Z"],kU=1e3;let LU=0;function _y(n,t,e,s){const{latestValues:a}=t;a[n]&&(e[n]=a[n],t.setStaticValue(n,0),s&&(s[n]=0))}function ZC(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=_C(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:a,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",ce,!(a||l))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&ZC(s)}function JC({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},h=t?.()){this.id=LU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(zU),this.nodes.forEach(HU),this.nodes.forEach(GU),this.nodes.forEach(jU)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new NU)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Yv),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const m=this.eventHandlers.get(u);m&&m.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=CC(u)&&!B5(u),this.instance=u;const{layoutId:h,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||h)&&(this.isLayoutDirty=!0),n){let y,v=0;const E=()=>this.root.updateBlockedByResize=!1;ce.read(()=>{v=window.innerWidth}),n(u,()=>{const I=window.innerWidth;I!==v&&(v=I,this.root.updateBlockedByResize=!0,y&&y(),y=PU(E,250),Pd.hasAnimatedSinceResize&&(Pd.hasAnimatedSinceResize=!1,this.nodes.forEach(F1)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:E,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||p.getDefaultTransition()||XU,{onLayoutAnimationStart:U,onLayoutAnimationComplete:L}=p.getProps(),Y=!this.targetLayout||!$C(this.targetLayout,I),W=!v&&E;if(this.options.layoutRoot||this.resumeFrom||W||v&&(Y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const z={...r0(N,"layout"),onPlay:U,onComplete:L};(p.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z),this.setAnimationOrigin(y,W)}else v||F1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),$r(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(KU),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ZC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:m}=this.options;if(h===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(z1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(j1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(qU),this.nodes.forEach(UU),this.nodes.forEach(BU)):this.nodes.forEach(j1),this.clearAllSnapshots();const h=Tn.now();on.delta=rs(0,1e3/60,h-on.timestamp),on.timestamp=h,on.isProcessing=!0,uy.update.process(on),uy.preRender.process(on),uy.render.process(on),on.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,c0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FU),this.sharedNodes.forEach(YU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!En(this.snapshot.measuredBox.x)&&!En(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=He(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!QC(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||Ba(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let m=this.removeElementScroll(h);return u&&(m=this.removeTransform(m)),WU(m),{animationId:this.root.animationId,measuredBox:h,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return He();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(ZU))){const{scroll:p}=this.root;p&&(gl(h.x,p.offset.x),gl(h.y,p.offset.y))}return h}removeElementScroll(u){const h=He();if(Ti(h,u),this.scroll?.wasRoot)return h;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Ti(h,u),gl(h.x,y.offset.x),gl(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const m=He();Ti(m,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&yl(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ba(y.latestValues)&&yl(m,y.latestValues)}return Ba(this.latestValues)&&yl(m,this.latestValues),m}removeTransform(u){const h=He();Ti(h,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Ba(p.latestValues))continue;w_(p.latestValues)&&p.updateSnapshot();const y=He(),v=p.measurePageBox();Ti(y,v),V1(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Ba(this.latestValues)&&V1(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==on.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=on.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=He(),this.targetWithTransforms=He()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),EU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ti(this.target,this.layout.layoutBox),kC(this.target,this.targetDelta)):Ti(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||w_(this.parent.latestValues)||OC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,h,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),hm(this.relativeTargetOrigin,h,m),Ti(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===on.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Ti(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,E=this.treeScale.y;X5(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=He());const{target:I}=u;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(w1(this.prevProjectionDelta.x,this.projectionDelta.x),w1(this.prevProjectionDelta.y,this.projectionDelta.y)),Vc(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==E||!k1(this.projectionDelta.x,this.prevProjectionDelta.x)||!k1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=pl(),this.projectionDelta=pl(),this.projectionDeltaWithTransform=pl()}setAnimationOrigin(u,h=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},v=pl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=He(),I=m?m.source:void 0,N=this.layout?this.layout.source:void 0,U=I!==N,L=this.getStack(),Y=!L||L.members.length<=1,W=!!(U&&!Y&&this.options.crossfade===!0&&!this.path.some($U));this.animationProgress=0;let z;this.mixTargetDelta=Q=>{const rt=Q/1e3;q1(v.x,u.x,rt),q1(v.y,u.y,rt),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hm(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),QU(this.relativeTarget,this.relativeTargetOrigin,E,rt),z&&wU(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=He()),Ti(z,this.relativeTarget)),U&&(this.animationValues=y,xU(y,p,this.latestValues,rt,W,Y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=rt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&($r(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ce.update(()=>{Pd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=jl(0)),this.currentAnimation=VU(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:m,layout:p,latestValues:y}=u;if(!(!h||!m||!p)){if(this!==u&&this.layout&&p&&tD(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||He();const v=En(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+v;const E=En(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+E}Ti(h,m),yl(h,y),Vc(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new OU),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(h=!0),!h)return;const p={};m.z&&_y("z",u,p,this.animationValues);for(let y=0;y<yy.length;y++)_y(`rotate${yy[y]}`,u,p,this.animationValues),_y(`skew${yy[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Nd(h?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Nd(h?.pointerEvents)||""),this.hasProjected&&!Ba(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=IU(this.projectionDeltaWithTransform,this.treeScale,y);m&&(v=m(y,v)),u.transform=v;const{x:E,y:I}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${I.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const N in R_){if(y[N]===void 0)continue;const{correct:U,applyTo:L,isCSSVariable:Y}=R_[N],W=v==="none"?y[N]:U(y[N],p);if(L){const z=L.length;for(let Q=0;Q<z;Q++)u[L[Q]]=W}else Y?this.options.visualElement.renderState.vars[N]=W:u[N]=W}this.options.layoutId&&(u.pointerEvents=p===this?Nd(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(z1),this.root.sharedNodes.clear()}}}function UU(n){n.updateLayout()}function BU(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:s}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?ni(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],E=En(v);v.min=e[y].min,v.max=v.min+E}):tD(a,t.layoutBox,e)&&ni(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],E=En(e[y]);v.max=v.min+E,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+E)});const u=pl();Vc(u,e,t.layoutBox);const h=pl();l?Vc(h,n.applyTransform(s,!0),t.measuredBox):Vc(h,e,t.layoutBox);const m=!QC(u);let p=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:E}=y;if(v&&E){const I=He();hm(I,t.layoutBox,v.layoutBox);const N=He();hm(N,e,E.layoutBox),$C(I,N)||(p=!0),y.options.layoutRoot&&(n.relativeTarget=N,n.relativeTargetOrigin=I,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:h,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function zU(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function jU(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function FU(n){n.clearSnapshot()}function z1(n){n.clearMeasurements()}function j1(n){n.isLayoutDirty=!1}function qU(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function F1(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function HU(n){n.resolveTargetDelta()}function GU(n){n.calcProjection()}function KU(n){n.resetSkewAndRotation()}function YU(n){n.removeLeadSnapshot()}function q1(n,t,e){n.translate=_e(t.translate,0,e),n.scale=_e(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function H1(n,t,e,s){n.min=_e(t.min,e.min,s),n.max=_e(t.max,e.max,s)}function QU(n,t,e,s){H1(n.x,t.x,e.x,s),H1(n.y,t.y,e.y,s)}function $U(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const XU={duration:.45,ease:[.4,0,.1,1]},G1=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),K1=G1("applewebkit/")&&!G1("chrome/")?Math.round:oi;function Y1(n){n.min=K1(n.min),n.max=K1(n.max)}function WU(n){Y1(n.x),Y1(n.y)}function tD(n,t,e){return n==="position"||n==="preserve-aspect"&&!TU(O1(t),O1(e),.2)}function ZU(n){return n!==n.root&&n.scroll?.wasRoot}const JU=JC({attachResizeListener:(n,t)=>nh(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),vy={current:void 0},eD=JC({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!vy.current){const n=new JU({});n.mount(window),n.setOptions({layoutScroll:!0}),vy.current=n}return vy.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),g0=J.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function Q1(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function t9(...n){return t=>{let e=!1;const s=n.map(a=>{const l=Q1(a,t);return!e&&typeof l=="function"&&(e=!0),l});if(e)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():Q1(n[a],null)}}}}function e9(...n){return J.useCallback(t9(...n),n)}class n9 extends J.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const s=e.offsetParent,a=S_(s)&&s.offsetWidth||0,l=S_(s)&&s.offsetHeight||0,u=this.props.sizeRef.current;u.height=e.offsetHeight||0,u.width=e.offsetWidth||0,u.top=e.offsetTop,u.left=e.offsetLeft,u.right=a-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function i9({children:n,isPresent:t,anchorX:e,anchorY:s,root:a}){const l=J.useId(),u=J.useRef(null),h=J.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=J.useContext(g0),p=n.props?.ref??n?.ref,y=e9(u,p);return J.useInsertionEffect(()=>{const{width:v,height:E,top:I,left:N,right:U,bottom:L}=h.current;if(t||!u.current||!v||!E)return;const Y=e==="left"?`left: ${N}`:`right: ${U}`,W=s==="bottom"?`bottom: ${L}`:`top: ${I}`;u.current.dataset.motionPopId=l;const z=document.createElement("style");m&&(z.nonce=m);const Q=a??document.head;return Q.appendChild(z),z.sheet&&z.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${E}px !important;
            ${Y}px !important;
            ${W}px !important;
          }
        `),()=>{Q.contains(z)&&Q.removeChild(z)}},[t]),j.jsx(n9,{isPresent:t,childRef:u,sizeRef:h,children:J.cloneElement(n,{ref:y})})}const s9=({children:n,initial:t,isPresent:e,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h,anchorY:m,root:p})=>{const y=Fv(r9),v=J.useId();let E=!0,I=J.useMemo(()=>(E=!1,{id:v,initial:t,isPresent:e,custom:a,onExitComplete:N=>{y.set(N,!0);for(const U of y.values())if(!U)return;s&&s()},register:N=>(y.set(N,!1),()=>y.delete(N))}),[e,y,s]);return l&&E&&(I={...I}),J.useMemo(()=>{y.forEach((N,U)=>y.set(U,!1))},[e]),J.useEffect(()=>{!e&&!y.size&&s&&s()},[e]),u==="popLayout"&&(n=j.jsx(i9,{isPresent:e,anchorX:h,anchorY:m,root:p,children:n})),j.jsx(zm.Provider,{value:I,children:n})};function r9(){return new Map}function nD(n=!0){const t=J.useContext(zm);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:s,register:a}=t,l=J.useId();J.useEffect(()=>{if(n)return a(l)},[n]);const u=J.useCallback(()=>n&&s&&s(l),[l,s,n]);return!e&&s?[!1,u]:[!0]}const fd=n=>n.key||"";function $1(n){const t=[];return J.Children.forEach(n,e=>{J.isValidElement(e)&&t.push(e)}),t}const qm=({children:n,custom:t,initial:e=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left",anchorY:m="top",root:p})=>{const[y,v]=nD(u),E=J.useMemo(()=>$1(n),[n]),I=u&&!y?[]:E.map(fd),N=J.useRef(!0),U=J.useRef(E),L=Fv(()=>new Map),Y=J.useRef(new Set),[W,z]=J.useState(E),[Q,rt]=J.useState(E);Px(()=>{N.current=!1,U.current=E;for(let A=0;A<Q.length;A++){const x=fd(Q[A]);I.includes(x)?(L.delete(x),Y.current.delete(x)):L.get(x)!==!0&&L.set(x,!1)}},[Q,I.length,I.join("-")]);const at=[];if(E!==W){let A=[...E];for(let x=0;x<Q.length;x++){const M=Q[x],V=fd(M);I.includes(V)||(A.splice(x,0,M),at.push(M))}return l==="wait"&&at.length&&(A=at),rt($1(A)),z(E),null}const{forceRender:R}=J.useContext(jv);return j.jsx(j.Fragment,{children:Q.map(A=>{const x=fd(A),M=u&&!y?!1:E===Q||I.includes(x),V=()=>{if(Y.current.has(x))return;if(Y.current.add(x),L.has(x))L.set(x,!0);else return;let k=!0;L.forEach(C=>{C||(k=!1)}),k&&(R?.(),rt(U.current),u&&v?.(),s&&s())};return j.jsx(s9,{isPresent:M,initial:!N.current||e?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:M?void 0:V,anchorX:h,anchorY:m,children:A},x)})})},iD=J.createContext({strict:!1}),X1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let W1=!1;function a9(){if(W1)return;const n={};for(const t in X1)n[t]={isEnabled:e=>X1[t].some(s=>!!e[s])};MC(n),W1=!0}function sD(){return a9(),K5()}function o9(n){const t=sD();for(const e in n)t[e]={...t[e],...n[e]};MC(t)}const l9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fm(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||l9.has(n)}let rD=n=>!fm(n);function u9(n){typeof n=="function"&&(rD=t=>t.startsWith("on")?!fm(t):n(t))}try{u9(require("@emotion/is-prop-valid").default)}catch{}function c9(n,t,e){const s={};for(const a in n)a==="values"&&typeof n.values=="object"||(rD(a)||e===!0&&fm(a)||!t&&!fm(a)||n.draggable&&a.startsWith("onDrag"))&&(s[a]=n[a]);return s}const Hm=J.createContext({});function h9(n,t){if(Fm(n)){const{initial:e,animate:s}=n;return{initial:e===!1||eh(e)?e:void 0,animate:eh(s)?s:void 0}}return n.inherit!==!1?t:{}}function f9(n){const{initial:t,animate:e}=h9(n,J.useContext(Hm));return J.useMemo(()=>({initial:t,animate:e}),[Z1(t),Z1(e)])}function Z1(n){return Array.isArray(n)?n.join(" "):n}const y0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function aD(n,t,e){for(const s in t)!dn(t[s])&&!BC(s,e)&&(n[s]=t[s])}function d9({transformTemplate:n},t){return J.useMemo(()=>{const e=y0();return m0(e,t,n),Object.assign({},e.vars,e.style)},[t])}function m9(n,t){const e=n.style||{},s={};return aD(s,e,n),Object.assign(s,d9(n,t)),s}function p9(n,t){const e={},s=m9(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=s,e}const oD=()=>({...y0(),attrs:{}});function g9(n,t,e,s){const a=J.useMemo(()=>{const l=oD();return zC(l,t,FC(s),n.transformTemplate,n.style),{...l.attrs,style:{...l.style}}},[t]);if(n.style){const l={};aD(l,n.style,n),a.style={...l,...a.style}}return a}const y9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _0(n){return typeof n!="string"||n.includes("-")?!1:!!(y9.indexOf(n)>-1||/[A-Z]/u.test(n))}function _9(n,t,e,{latestValues:s},a,l=!1,u){const m=(u??_0(n)?g9:p9)(t,s,a,n),p=c9(t,typeof n=="string",l),y=n!==J.Fragment?{...p,...m,ref:e}:{},{children:v}=t,E=J.useMemo(()=>dn(v)?v.get():v,[v]);return J.createElement(n,{...y,children:E})}function v9({scrapeMotionValuesFromProps:n,createRenderState:t},e,s,a){return{latestValues:T9(e,s,a,n),renderState:t()}}function T9(n,t,e,s){const a={},l=s(n,{});for(const E in l)a[E]=Nd(l[E]);let{initial:u,animate:h}=n;const m=Fm(n),p=VC(n);t&&p&&!m&&n.inherit!==!1&&(u===void 0&&(u=t.initial),h===void 0&&(h=t.animate));let y=e?e.initial===!1:!1;y=y||u===!1;const v=y?h:u;if(v&&typeof v!="boolean"&&!jm(v)){const E=Array.isArray(v)?v:[v];for(let I=0;I<E.length;I++){const N=o0(n,E[I]);if(N){const{transitionEnd:U,transition:L,...Y}=N;for(const W in Y){let z=Y[W];if(Array.isArray(z)){const Q=y?z.length-1:0;z=z[Q]}z!==null&&(a[W]=z)}for(const W in U)a[W]=U[W]}}}return a}const lD=n=>(t,e)=>{const s=J.useContext(Hm),a=J.useContext(zm),l=()=>v9(n,t,s,a);return e?l():Fv(l)},E9=lD({scrapeMotionValuesFromProps:p0,createRenderState:y0}),b9=lD({scrapeMotionValuesFromProps:qC,createRenderState:oD}),S9=Symbol.for("motionComponentSymbol");function A9(n,t,e){const s=J.useRef(e);J.useInsertionEffect(()=>{s.current=e});const a=J.useRef(null);return J.useCallback(l=>{l&&n.onMount?.(l),t&&(l?t.mount(l):t.unmount());const u=s.current;if(typeof u=="function")if(l){const h=u(l);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[t])}const uD=J.createContext({});function yc(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function w9(n,t,e,s,a,l){const{visualElement:u}=J.useContext(Hm),h=J.useContext(iD),m=J.useContext(zm),p=J.useContext(g0).reducedMotion,y=J.useRef(null),v=J.useRef(!1);s=s||h.renderer,!y.current&&s&&(y.current=s(n,{visualState:t,parent:u,props:e,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p,isSVG:l}),v.current&&y.current&&(y.current.manuallyAnimateOnMount=!0));const E=y.current,I=J.useContext(uD);E&&!E.projection&&a&&(E.type==="html"||E.type==="svg")&&I9(y.current,e,a,I);const N=J.useRef(!1);J.useInsertionEffect(()=>{E&&N.current&&E.update(e,m)});const U=e[yC],L=J.useRef(!!U&&!window.MotionHandoffIsComplete?.(U)&&window.MotionHasOptimisedAnimation?.(U));return Px(()=>{v.current=!0,E&&(N.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),E.scheduleRenderMicrotask(),L.current&&E.animationState&&E.animationState.animateChanges())}),J.useEffect(()=>{E&&(!L.current&&E.animationState&&E.animationState.animateChanges(),L.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(U)}),L.current=!1),E.enteringChildren=void 0)}),E}function I9(n,t,e,s){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:cD(n.parent)),n.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&yc(h),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function cD(n){if(n)return n.options.allowProjection!==!1?n.projection:cD(n.parent)}function Ty(n,{forwardMotionProps:t=!1,type:e}={},s,a){s&&o9(s);const l=e?e==="svg":_0(n),u=l?b9:E9;function h(p,y){let v;const E={...J.useContext(g0),...p,layoutId:R9(p)},{isStatic:I}=E,N=f9(p),U=u(p,I);if(!I&&Nx){x9();const L=C9(E);v=L.MeasureLayout,N.visualElement=w9(n,U,E,a,L.ProjectionNode,l)}return j.jsxs(Hm.Provider,{value:N,children:[v&&N.visualElement?j.jsx(v,{visualElement:N.visualElement,...E}):null,_9(n,p,A9(U,N.visualElement,y),U,I,t,l)]})}h.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const m=J.forwardRef(h);return m[S9]=n,m}function R9({layoutId:n}){const t=J.useContext(jv).id;return t&&n!==void 0?t+"-"+n:n}function x9(n,t){J.useContext(iD).strict}function C9(n){const t=sD(),{drag:e,layout:s}=t;if(!e&&!s)return{};const a={...e,...s};return{MeasureLayout:e?.isEnabled(n)||s?.isEnabled(n)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function D9(n,t){if(typeof Proxy>"u")return Ty;const e=new Map,s=(l,u)=>Ty(l,u,n,t),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(e.has(u)||e.set(u,Ty(u,void 0,n,t)),e.get(u))})}const V9=(n,t)=>t.isSVG??_0(n)?new uU(t):new iU(t,{allowProjection:n!==J.Fragment});class M9 extends ea{constructor(t){super(t),t.animationState||(t.animationState=mU(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();jm(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let N9=0;class P9 extends ea{constructor(){super(...arguments),this.id=N9++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);e&&!t&&a.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const O9={animation:{Feature:M9},exit:{Feature:P9}};function Ah(n){return{point:{x:n.pageX,y:n.pageY}}}const k9=n=>t=>h0(t)&&n(t,Ah(t));function Mc(n,t,e,s){return nh(n,t,k9(e),s)}const hD=({current:n})=>n?n.ownerDocument.defaultView:null,J1=(n,t)=>Math.abs(n-t);function L9(n,t){const e=J1(n.x,t.x),s=J1(n.y,t.y);return Math.sqrt(e**2+s**2)}const tw=new Set(["auto","scroll"]);class fD{constructor(t,e,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=I=>{this.handleScroll(I.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=by(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,U=L9(I.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!U)return;const{point:L}=I,{timestamp:Y}=on;this.history.push({...L,timestamp:Y});const{onStart:W,onMove:z}=this.handlers;N||(W&&W(this.lastMoveEvent,I),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,I)},this.handlePointerMove=(I,N)=>{this.lastMoveEvent=I,this.lastMoveEventInfo=Ey(N,this.transformPagePoint),ce.update(this.updatePoint,!0)},this.handlePointerUp=(I,N)=>{this.end();const{onEnd:U,onSessionEnd:L,resumeAnimation:Y}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&Y&&Y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const W=by(I.type==="pointercancel"?this.lastMoveEventInfo:Ey(N,this.transformPagePoint),this.history);this.startEvent&&U&&U(I,W),L&&L(I,W)},!h0(t))return;this.dragSnapToOrigin=l,this.handlers=e,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const m=Ah(t),p=Ey(m,this.transformPagePoint),{point:y}=p,{timestamp:v}=on;this.history=[{...y,timestamp:v}];const{onSessionStart:E}=e;E&&E(t,by(p,this.history)),this.removeListeners=Eh(Mc(this.contextWindow,"pointermove",this.handlePointerMove),Mc(this.contextWindow,"pointerup",this.handlePointerUp),Mc(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(t){let e=t.parentElement;for(;e;){const s=getComputedStyle(e);(tw.has(s.overflowX)||tw.has(s.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const s=t===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},l={x:a.x-e.x,y:a.y-e.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(t,a),ce.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),$r(this.updatePoint)}}function Ey(n,t){return t?{point:t(n.point)}:n}function ew(n,t){return{x:n.x-t.x,y:n.y-t.y}}function by({point:n},t){return{point:n,delta:ew(n,dD(t)),offset:ew(n,U9(t)),velocity:B9(t,.1)}}function U9(n){return n[0]}function dD(n){return n[n.length-1]}function B9(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,s=null;const a=dD(n);for(;e>=0&&(s=n[e],!(a.timestamp-s.timestamp>Ms(t)));)e--;if(!s)return{x:0,y:0};const l=ri(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function z9(n,{min:t,max:e},s){return t!==void 0&&n<t?n=s?_e(t,n,s.min):Math.max(n,t):e!==void 0&&n>e&&(n=s?_e(e,n,s.max):Math.min(n,e)),n}function nw(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function j9(n,{top:t,left:e,bottom:s,right:a}){return{x:nw(n.x,e,a),y:nw(n.y,t,s)}}function iw(n,t){let e=t.min-n.min,s=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,s]=[s,e]),{min:e,max:s}}function F9(n,t){return{x:iw(n.x,t.x),y:iw(n.y,t.y)}}function q9(n,t){let e=.5;const s=En(n),a=En(t);return a>s?e=Zc(t.min,t.max-s,n.min):s>a&&(e=Zc(n.min,n.max-a,t.min)),rs(0,1,e)}function H9(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const x_=.35;function G9(n=x_){return n===!1?n=0:n===!0&&(n=x_),{x:sw(n,"left","right"),y:sw(n,"top","bottom")}}function sw(n,t,e){return{min:rw(n,t),max:rw(n,e)}}function rw(n,t){return typeof n=="number"?n:n[t]||0}const K9=new WeakMap;class Y9{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=He(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{e?(this.stopAnimation(),this.snapToCursor(Ah(v).point)):this.pauseAnimation()},u=(v,E)=>{this.stopAnimation();const{drag:I,dragPropagation:N,onDragStart:U}=this.getProps();if(I&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=P5(I),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ni(Y=>{let W=this.getAxisMotionValue(Y).get()||0;if(is.test(W)){const{projection:z}=this.visualElement;if(z&&z.layout){const Q=z.layout.layoutBox[Y];Q&&(W=En(Q)*(parseFloat(W)/100))}}this.originPoint[Y]=W}),U&&ce.postRender(()=>U(v,E)),T_(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},h=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E;const{dragPropagation:I,dragDirectionLock:N,onDirectionLock:U,onDrag:L}=this.getProps();if(!I&&!this.openDragLock)return;const{offset:Y}=E;if(N&&this.currentDirection===null){this.currentDirection=Q9(Y),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",E.point,Y),this.updateAxis("y",E.point,Y),this.visualElement.render(),L&&L(v,E)},m=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E,this.stop(v,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ni(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new fD(t,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:hD(this.visualElement),element:this.visualElement.current})}stop(t,e){const s=t||this.latestPointerEvent,a=e||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&ce.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,e,s){const{drag:a}=this.getProps();if(!s||!dd(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let u=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(u=z9(u,this.constraints[t],this.elastic[t])),l.set(u)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&yc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=j9(s.layoutBox,t):this.constraints=!1,this.elastic=G9(e),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ni(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=H9(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!yc(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=W5(s,a.root,this.visualElement.getTransformPagePoint());let u=F9(a.layout.layoutBox,l);if(e){const h=e(Q5(u));this.hasMutatedConstraints=!!h,h&&(u=PC(h))}return u}startAnimation(t){const{drag:e,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),m=this.constraints||{},p=ni(y=>{if(!dd(y,e,this.currentDirection))return;let v=m&&m[y]||{};u&&(v={min:0,max:0});const E=a?200:1e6,I=a?40:1e7,N={type:"inertia",velocity:s?t[y]:0,bounceStiffness:E,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,N)});return Promise.all(p).then(h)}startAxisValueAnimation(t,e){const s=this.getAxisMotionValue(t);return T_(this.visualElement,t),s.start(a0(t,s,0,e,this.visualElement,!1))}stopAnimation(){ni(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ni(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[e];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ni(e=>{const{drag:s}=this.getProps();if(!dd(e,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(e);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[e],m=l.get()||0;l.set(t[e]-_e(u,h,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:s}=this.visualElement;if(!yc(e)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ni(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const m=h.get();a[u]=q9({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ni(u=>{if(!dd(u,t,null))return;const h=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];h.set(_e(m,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;K9.set(this.visualElement,this);const t=this.visualElement.current,e=Mc(t,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps(),v=m.target,E=v!==t&&xC(v);p&&y&&!E&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();yc(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ce.read(s);const u=nh(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(ni(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=m[y].translate,v.set(v.get()+m[y].translate))}),this.visualElement.render())}));return()=>{u(),e(),l(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=x_,dragMomentum:h=!0}=t;return{...t,drag:e,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function dd(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function Q9(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class $9 extends ea{constructor(t){super(t),this.removeGroupControls=oi,this.removeListeners=oi,this.controls=new Y9(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||oi}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const aw=n=>(t,e)=>{n&&ce.postRender(()=>n(t,e))};class X9 extends ea{constructor(){super(...arguments),this.removePointerDownListener=oi}onPointerDown(t){this.session=new fD(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hD(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:aw(t),onStart:aw(e),onMove:s,onEnd:(l,u)=>{delete this.session,a&&ce.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Mc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Sy=!1;class W9 extends J.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;l&&(e.group&&e.group.add(l),s&&s.register&&a&&s.register(l),Sy&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Pd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,t.layoutDependency!==e&&u.setOptions({...u.options,layoutDependency:e}),Sy=!0,a||t.layoutDependency!==e||e===void 0||t.isPresent!==l?u.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?u.promote():u.relegate()||ce.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),c0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s}=this.props,{projection:a}=t;Sy=!0,a&&(a.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function mD(n){const[t,e]=nD(),s=J.useContext(jv);return j.jsx(W9,{...n,layoutGroup:s,switchLayoutGroup:J.useContext(uD),isPresent:t,safeToRemove:e})}const Z9={pan:{Feature:X9},drag:{Feature:$9,ProjectionNode:eD,MeasureLayout:mD}};function ow(n,t,e){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",e==="Start");const a="onHover"+e,l=s[a];l&&ce.postRender(()=>l(t,Ah(t)))}class J9 extends ea{mount(){const{current:t}=this.node;t&&(this.unmount=O5(t,(e,s)=>(ow(this.node,s,"Start"),a=>ow(this.node,a,"End"))))}unmount(){}}class tB extends ea{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Eh(nh(this.node.current,"focus",()=>this.onFocus()),nh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lw(n,t,e){const{props:s}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",e==="Start");const a="onTap"+(e==="End"?"":e),l=s[a];l&&ce.postRender(()=>l(t,Ah(t)))}class eB extends ea{mount(){const{current:t}=this.node;t&&(this.unmount=U5(t,(e,s)=>(lw(this.node,s,"Start"),(a,{success:l})=>lw(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const C_=new WeakMap,Ay=new WeakMap,nB=n=>{const t=C_.get(n.target);t&&t(n)},iB=n=>{n.forEach(nB)};function sB({root:n,...t}){const e=n||document;Ay.has(e)||Ay.set(e,{});const s=Ay.get(e),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(iB,{root:n,...t})),s[a]}function rB(n,t,e){const s=sB(t);return C_.set(n,e),s.observe(n),()=>{C_.delete(n),s.unobserve(n)}}const aB={some:0,all:1};class oB extends ea{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:s,amount:a="some",once:l}=t,u={root:e?e.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:aB[a]},h=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),E=p?y:v;E&&E(m)};return rB(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(lB(t,e))&&this.startObserver()}unmount(){}}function lB({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const uB={inView:{Feature:oB},tap:{Feature:eB},focus:{Feature:tB},hover:{Feature:J9}},cB={layout:{ProjectionNode:eD,MeasureLayout:mD}},hB={...O9,...uB,...Z9,...cB},Xi=D9(hB,V9);var fB=cw();const dB=({isOpen:n,onConfirm:t,onCancel:e,title:s="",message:a=""})=>fB.createPortal(j.jsx(qm,{children:n&&j.jsx(Xi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(31, 41, 55, 0.7)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(12px)",padding:"20px"},onClick:l=>{l.target===l.currentTarget&&e()},children:j.jsxs(Xi.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"glass-card",style:{maxWidth:"400px",width:"100%",padding:"32px",textAlign:"center",border:"1px solid rgba(255,255,255,0.5)",background:"rgba(255,255,255,0.85)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",maxHeight:"90vh",overflowY:"auto"},children:[j.jsx("div",{style:{fontSize:"4rem",marginBottom:"16px",filter:"drop-shadow(0 4px 6px rgba(0,0,0,0.1))",animation:"bounce 1s infinite"},children:""}),j.jsx("h3",{style:{justifyContent:"center",fontSize:"1.75rem",marginBottom:"12px",background:"linear-gradient(135deg, #b91c1c 0%, #ef4444 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:800},children:s}),j.jsx("p",{style:{color:"#4b5563",marginBottom:"32px",lineHeight:"1.6",fontSize:"1.1rem"},children:a}),j.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[j.jsx("button",{onClick:e,className:"btn-secondary",style:{padding:"16px",fontSize:"1.1rem",background:"#f3f4f6",border:"1px solid #e5e7eb",color:"#374151"},children:""}),j.jsx("button",{onClick:t,className:"btn-primary",style:{padding:"16px",fontSize:"1.1rem",background:"linear-gradient(135deg, #dc2626 0%, #ef4444 100%)",boxShadow:"0 4px 12px rgba(220, 38, 38, 0.3)"},children:""})]})]})})}),document.body),mB=Is.createContext({}),pD=!0;function pB({baseColor:n,highlightColor:t,width:e,height:s,borderRadius:a,circle:l,direction:u,duration:h,enableAnimation:m=pD,customHighlightBackground:p}){const y={};return u==="rtl"&&(y["--animation-direction"]="reverse"),typeof h=="number"&&(y["--animation-duration"]=`${h}s`),m||(y["--pseudo-element-display"]="none"),(typeof e=="string"||typeof e=="number")&&(y.width=e),(typeof s=="string"||typeof s=="number")&&(y.height=s),(typeof a=="string"||typeof a=="number")&&(y.borderRadius=a),l&&(y.borderRadius="50%"),typeof n<"u"&&(y["--base-color"]=n),typeof t<"u"&&(y["--highlight-color"]=t),typeof p=="string"&&(y["--custom-highlight-background"]=p),y}function Oa({count:n=1,wrapper:t,className:e,containerClassName:s,containerTestId:a,circle:l=!1,style:u,...h}){var m,p,y;const v=Is.useContext(mB),E={...h};for(const[z,Q]of Object.entries(h))typeof Q>"u"&&delete E[z];const I={...v,...E,circle:l},N={...u,...pB(I)};let U="react-loading-skeleton";e&&(U+=` ${e}`);const L=(m=I.inline)!==null&&m!==void 0?m:!1,Y=[],W=Math.ceil(n);for(let z=0;z<W;z++){let Q=N;if(W>n&&z===W-1){const at=(p=Q.width)!==null&&p!==void 0?p:"100%",R=n%1,A=typeof at=="number"?at*R:`calc(${at} * ${R})`;Q={...Q,width:A}}const rt=Is.createElement("span",{className:U,style:Q,key:z},"");L?Y.push(rt):Y.push(Is.createElement(Is.Fragment,{key:z},rt,Is.createElement("br",null)))}return Is.createElement("span",{className:s,"data-testid":a,"aria-live":"polite","aria-busy":(y=I.enableAnimation)!==null&&y!==void 0?y:pD},t?Y.map((z,Q)=>Is.createElement(t,{key:Q},z)):Y)}const gB=()=>j.jsxs(Xi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"slot-card",style:{background:"#fff",border:"1px solid #e2e8f0",cursor:"default",display:"flex",flexDirection:"column"},children:[j.jsx("div",{style:{marginBottom:"8px"},children:j.jsx(Oa,{height:24,width:"80%"})}),j.jsx("div",{style:{marginBottom:"12px"},children:j.jsx(Oa,{width:"40%",height:16})}),j.jsx("div",{style:{marginBottom:"auto"},children:j.jsx(Oa,{count:2})}),j.jsxs("div",{style:{marginTop:"20px"},children:[j.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"12px"},children:[j.jsx(Oa,{width:80,height:20}),j.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"4px"},children:[j.jsx(Oa,{width:60,height:20,style:{borderRadius:"12px"}}),j.jsx(Oa,{width:80,height:24})]})]}),j.jsx(Oa,{height:8,borderRadius:4})]})]}),yB=({disabled:n=!1,bookedSlotIds:t})=>{const{slots:e,loading:s}=Mx(),{selection:a,selectSession:l,isAdmin:u}=Bv(),[h,m]=J.useState(null),[p,y]=J.useState(!1),v=J.useRef(null);J.useEffect(()=>{const{selectedA:L,selectedB:Y}=a;if(!L||!Y)return;const W=`${L}-${Y}`;if(v.current===W)return;const z=L.split("_")[0],Q=Y.split("_")[0];z==="3F"&&Q==="3F"&&(xc(rt=>j.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",padding:"4px"},children:[j.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:800,color:"#334155",display:"flex",alignItems:"center",gap:"8px"},children:[j.jsx("span",{style:{fontSize:"1.6rem"},children:""}),""]}),j.jsxs("div",{style:{textAlign:"center",lineHeight:"1.6",fontSize:"1.05rem",color:"#475569",fontWeight:500},children:["",j.jsx("br",{}),"",j.jsx("br",{}),"3F ",j.jsx("br",{}),""]}),j.jsx("button",{onClick:()=>xc.dismiss(rt.id),style:{marginTop:"4px",padding:"8px 24px",background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white",border:"none",borderRadius:"50px",fontWeight:600,fontSize:"0.95rem",cursor:"pointer",boxShadow:"0 4px 12px rgba(37, 99, 235, 0.2)",transition:"transform 0.1s"},onMouseDown:at=>at.currentTarget.style.transform="scale(0.95)",onMouseUp:at=>at.currentTarget.style.transform="scale(1)",children:""})]}),{id:W,duration:1/0,position:"top-center",style:{borderRadius:"24px",background:"rgba(255, 255, 255, 1)",border:"2px solid #3b82f6",padding:"20px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",maxWidth:"90vw",width:"360px",zIndex:9999}}),v.current=W)},[a.selectedA,a.selectedB]);const E=(L,Y)=>{if(n)return;const W=!!a.selectedA||!!a.selectedB,z=!!a.selectedC,Q=!!a.selectedD;let rt=!1;W?(Y==="C"||Y==="D")&&(rt=!0):z?["A","B","D"].includes(Y)&&(rt=!0):Q&&["A","B","C"].includes(Y)&&(rt=!0),rt?(m({id:L,type:Y}),y(!0)):l(L,Y)},I=()=>{h&&(l(h.id,h.type),m(null),y(!1))};if(s){const L=(Y,W)=>j.jsxs("div",{className:"section-container",children:[j.jsx("h3",{children:Y}),j.jsx("div",{className:"slot-grid",children:Array.from({length:W}).map((z,Q)=>j.jsx(gB,{},Q))})]});return j.jsxs("div",{className:"selection-container",children:[j.jsxs("div",{className:"combo-row",children:[L(" (A)",2),L(" (B)",1)]}),j.jsx("div",{className:"sc-divider",children:"OR"}),j.jsxs("div",{className:"combo-row",children:[L(" (C)",2),L(" (D)",1)]})]})}const N=e.filter(L=>!!L.title);if(N.length===0)return j.jsxs(Xi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"empty-state",style:{textAlign:"center",padding:"40px",color:"#64748b"},children:[j.jsx("div",{style:{fontSize:"3rem",marginBottom:"20px"},children:""}),j.jsx("p",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:""}),j.jsx("p",{children:"No active sessions found."}),u?j.jsxs("div",{style:{marginTop:"20px"},children:[j.jsx("p",{style:{color:"#ef4444",marginBottom:"10px"},children:" "}),j.jsx(DL,{})]}):j.jsxs("p",{style:{marginTop:"20px",fontSize:"0.9rem",opacity:.7},children:["",j.jsx("br",{}),"Please contact the administrator to initialize the system."]})]});const U=(L,Y,W)=>{const z=N.filter(Q=>Y.includes(Q.type));return j.jsxs("div",{className:"section-container",children:[j.jsxs("h3",{children:[L," ",j.jsx("span",{style:{fontSize:"0.8em",fontWeight:"normal",marginLeft:"10px",opacity:.7},children:W})]}),j.jsx("div",{className:"slot-grid",children:j.jsx(qm,{children:z.map(Q=>{const rt=t?t.includes(Q.id):a.selectedA===Q.id||a.selectedB===Q.id||a.selectedC===Q.id||a.selectedD===Q.id;let at=!1,R=!1;if(!t){a.selectedC&&a.selectedC!==Q.id&&(["A","B","D"].includes(Q.type)&&(at=!0),Q.type==="C"&&(at=!0)),a.selectedD&&a.selectedD!==Q.id&&(["A","B","C"].includes(Q.type)&&(at=!0),Q.type==="D"&&(at=!0)),(a.selectedA||a.selectedB)&&(Q.type==="C"||Q.type==="D")&&(at=!0);const[Xt,tt]=Q.id.split("_");if(Xt==="2F"||Xt==="5F"){const dt=(tt==="A"?"B":"A")==="A"?a.selectedA:a.selectedB;dt&&dt.startsWith(`${Xt}_`)&&(R=!0)}}const A=Q.booked>=Q.capacity,x=at||R,M=Q.capacity-Q.booked,V=Q.booked/Q.capacity*100;let k="#10b981",C="",Gt="";return M===0?(k="#64748b",C="",Gt=""):M<=20?(k="#ef4444",C="",Gt=""):V>=70&&(k="#f59e0b",C="",Gt=""),j.jsxs(Xi.div,{layoutId:Q.id,initial:{opacity:0,scale:.9},animate:{opacity:(n||x)&&!rt?.4:1,scale:rt?1.02:1,filter:(A||x)&&!rt||n&&!rt?"grayscale(100%)":"none"},whileHover:!A&&!x&&!n?{y:-5,boxShadow:"0 10px 20px rgba(0,0,0,0.1)"}:{},whileTap:!A&&!x&&!n?{scale:.98}:{},onClick:()=>!A&&!n&&!R&&E(Q.id,Q.type),role:"button","aria-disabled":n||R||A,"aria-label":`${Q.title}, : ${Q.location}, : ${M}`,tabIndex:n||R||A?-1:0,onKeyDown:Xt=>{(Xt.key==="Enter"||Xt.key===" ")&&!A&&!n&&!R&&(Xt.preventDefault(),E(Q.id,Q.type))},className:`slot-card type-${Q.type} ${rt?"selected":""} ${A?"full":""}`,style:n||R?{cursor:"default",pointerEvents:R?"none":"auto",border:rt?void 0:"1px solid transparent",background:rt?void 0:"#f1f5f9",boxShadow:rt?"0 4px 12px rgba(0,0,0,0.1)":"none",transform:rt?"scale(1.02)":"none"}:{},children:[rt&&j.jsx(Xi.div,{initial:{scale:0},animate:{scale:1},className:"check-mark",style:{background:n?"#10b981":void 0},children:""}),A&&j.jsx("div",{className:"sold-out-overlay-text",children:"SOLD OUT"}),j.jsx("span",{className:"slot-name",children:Q.title}),j.jsxs("div",{className:"slot-location",children:[" ",Q.location]}),j.jsx("p",{className:"slot-description",children:Q.description}),j.jsxs("div",{className:"slot-footer",style:{flexDirection:"column",alignItems:"stretch",gap:"12px"},children:[j.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[j.jsxs("span",{className:"slot-time",children:[" ",Q.startTime]}),j.jsx("div",{style:{textAlign:"right"},children:j.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"2px"},children:[j.jsxs("span",{style:{fontSize:"0.8rem",fontWeight:700,color:k,background:`${k}15`,padding:"2px 8px",borderRadius:"12px",marginBottom:"2px"},children:[Gt," ",C]}),j.jsxs("span",{style:{fontSize:"1.2rem",fontWeight:800,color:"#334155"},children:[" ",j.jsx("span",{style:{color:k,fontSize:"1.4rem"},children:M})," "]})]})})]}),j.jsx("div",{style:{width:"100%",height:"8px",background:"#e2e8f0",borderRadius:"4px",overflow:"hidden"},children:j.jsx(Xi.div,{initial:{width:0},animate:{width:`${Q.booked/Q.capacity*100}%`},transition:{duration:1,ease:"easeOut"},style:{height:"100%",background:k,borderRadius:"4px"}})})]})]},Q.id)})})})]})};return j.jsxs(Xi.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"selection-container",children:[j.jsxs("div",{className:"combo-row",children:[U(" (A)",["A"]," B"),U(" (B)",["B"]," A")]}),j.jsx("div",{className:"sc-divider",children:"OR"}),j.jsxs("div",{className:"combo-row",children:[U(" (C)",["C"]," 40 "),U(" (D)",["D"]," 40 ")]}),j.jsx(dB,{isOpen:p,onConfirm:I,onCancel:()=>y(!1)})]})},_B=({onSubmit:n,onCancel:t,loading:e})=>{const[s,a]=J.useState({name:"",studentId:""}),l=u=>{u.preventDefault(),n(s)};return j.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(31, 41, 55, 0.4)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(12px)",padding:"20px"},children:j.jsxs("div",{className:"glass-card",style:{maxWidth:"450px",width:"100%",padding:"32px",background:"rgba(255,255,255,0.9)",boxShadow:"0 20px 60px -10px rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.8)"},children:[j.jsx("h2",{style:{textAlign:"left",marginBottom:"24px",fontSize:"1.8rem",background:"linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:800},children:j.jsx("span",{style:{borderLeft:"6px solid #6366f1",paddingLeft:"16px",display:"block",lineHeight:"1.2"},children:""})}),j.jsxs("form",{onSubmit:l,style:{display:"flex",flexDirection:"column",gap:"24px"},children:[j.jsxs("div",{children:[j.jsx("label",{className:"slot-name",style:{fontSize:"1.1rem",marginBottom:"10px",display:"block",color:"#374151"},children:"  Name"}),j.jsx("input",{required:!0,type:"text",placeholder:" / Your Name",value:s.name,onChange:u=>a(h=>({...h,name:u.target.value})),style:{background:"#f9fafb"}})]}),j.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:"16px",marginTop:"12px"},children:[j.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:e,style:{borderRadius:"16px",fontSize:"1.1rem",justifyContent:"center"},children:""}),j.jsx("button",{type:"submit",className:"btn-primary",disabled:e,style:{borderRadius:"16px",fontSize:"1.1rem",justifyContent:"center",boxShadow:"0 4px 15px rgba(79, 70, 229, 0.4)"},children:e?"...":" "})]})]})]})})},vB=({isOpen:n,onClose:t})=>{const[e,s]=J.useState(""),{login:a}=Bv(),[l,u]=J.useState(!1),h=m=>{m.preventDefault(),a(e)?(t(),s(""),u(!1)):(u(!0),setTimeout(()=>u(!1),2e3))};return j.jsx(qm,{children:n&&j.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",zIndex:3e3,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(8px)"},children:j.jsxs(Xi.div,{initial:{scale:.9,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:30},className:"glass-card",style:{maxWidth:"350px",width:"90%",padding:"30px",border:"1px solid rgba(255,255,255,0.4)",background:"rgba(255,255,255,0.85)"},children:[j.jsx("h3",{style:{textAlign:"center",marginBottom:"20px",color:"#1e293b"},children:" "}),j.jsxs("form",{onSubmit:h,children:[j.jsx("input",{type:"password",autoFocus:!0,placeholder:"...",value:e,onChange:m=>s(m.target.value),style:{marginBottom:"15px",border:l?"2px solid #ef4444":void 0,background:"white"}}),l&&j.jsx("p",{style:{color:"#ef4444",fontSize:"0.9rem",marginBottom:"15px",textAlign:"center"},children:""}),j.jsxs("div",{style:{display:"flex",gap:"10px"},children:[j.jsx("button",{type:"button",onClick:t,className:"btn-secondary",style:{flex:1},children:""}),j.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1,padding:"12px",fontSize:"1rem"},children:""})]})]})]})})})},TB=({isOpen:n,onConfirm:t,onCancel:e,selectedIds:s})=>{const{slots:a}=Mx(),l=s.map(u=>a.find(h=>h.id===u)).filter(Boolean);return j.jsx(qm,{children:n&&j.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:j.jsxs(Xi.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},style:{background:"white",padding:"30px",borderRadius:"24px",width:"100%",maxWidth:"400px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",textAlign:"left"},children:[j.jsx("h2",{style:{margin:"0 0 15px",color:"#1e293b",fontSize:"1.25rem",borderBottom:"1px solid #e2e8f0",paddingBottom:"15px"},children:" "}),j.jsx("p",{style:{color:"#64748b",fontSize:"0.95rem",marginBottom:"20px"},children:""}),j.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px",marginBottom:"25px",maxHeight:"40vh",overflowY:"auto"},children:l.map(u=>j.jsxs("div",{style:{padding:"12px",background:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0",borderLeft:"4px solid #6366f1"},children:[j.jsx("div",{style:{fontWeight:700,color:"#334155"},children:u?.title}),j.jsxs("div",{style:{fontSize:"0.85rem",color:"#64748b",marginTop:"2px",display:"flex",justifyContent:"space-between"},children:[j.jsxs("span",{children:[" ",u?.location]}),j.jsxs("span",{style:{color:"#0ea5e9",fontWeight:600},children:[" ",u?.type==="C"||u?.type==="D"?"40":"20"]})]})]},u?.id))}),j.jsxs("div",{style:{background:"#fff1f2",padding:"12px",borderRadius:"12px",marginBottom:"25px",fontSize:"0.9rem",color:"#be123c",border:"1px solid #fda4af"},children:[" ",j.jsx("b",{children:""}),"",j.jsx("br",{}),"",j.jsx("b",{children:""}),""]}),j.jsxs("div",{style:{display:"flex",gap:"12px"},children:[j.jsx("button",{onClick:e,style:{flex:1,padding:"12px",border:"1px solid #cbd5e1",borderRadius:"12px",background:"white",color:"#64748b",fontWeight:600,cursor:"pointer"},children:""}),j.jsx("button",{onClick:t,style:{flex:1.5,padding:"12px",border:"none",borderRadius:"12px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",fontWeight:600,cursor:"pointer",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:" "})]})]})})})},EB=n=>new Promise(t=>setTimeout(t,n)),bB=async(n,t)=>{if(!sm.currentUser)throw new Error("Must be logged in");const e=5;let s=0;for(;s<e;)try{const a=Wc(Bl(ii,"bookings"));return await O3(ii,async l=>{const u=[];if(n.selectedC&&u.push(n.selectedC),n.selectedD&&u.push(n.selectedD),n.selectedA&&u.push(n.selectedA),n.selectedB&&u.push(n.selectedB),u.length===0)throw new Error("No sessions selected");const h=await Promise.all(u.map(m=>l.get(Wc(ii,"slots",m))));h.forEach(m=>{if(!m.exists())throw new Error(`Slot ${m.id} not found`);const p=m.data();if(p.booked>=p.capacity)throw new Error(` ${p.name} `)}),h.forEach(m=>{const p=m.data();if(!p)throw new Error("Slot data missing");l.update(m.ref,{booked:p.booked+1})}),l.set(a,{userId:sm.currentUser.uid,userName:t.name,slots:u,selectionData:n,timestamp:S3(),status:"confirmed"})}),a.id}catch(a){if(console.warn(`Booking attempt ${s+1} failed:`,a),a.message&&a.message.includes(""))throw a;if(s++,s>=e)throw new Error("System is busy (Max Retries), please try again.");const l=Math.pow(2,s)*100+Math.random()*200;await EB(l)}throw new Error("Unexpected booking failure")},MB=async()=>{const n=Pv(Bl(ii,"bookings"),Uv("timestamp","desc"));return(await s_(n)).docs.map(e=>{const s=e.data();return{id:e.id,bookingId:s.bookingId||"UNKNOWN",name:s.userName||s.name||"Unknown",studentId:s.studentId||"",department:s.department||"",slots:s.slots||[],timestamp:s.timestamp,status:s.status||"confirmed"}})},NB=n=>{const t=Pv(Bl(ii,"bookings"),Uv("timestamp","desc"));return Ex(t,e=>{const s=e.docs.map(a=>{const l=a.data();return{id:a.id,bookingId:l.bookingId||"UNKNOWN",name:l.userName||l.name||"Unknown",studentId:l.studentId||"",department:l.department||"",slots:l.slots||[],timestamp:l.timestamp,status:l.status||"confirmed"}});n(s)},e=>{console.error("Error watching bookings:",e)})},gD=(n,t="Component")=>J.lazy(async()=>{try{return await n()}catch(e){console.error(`Lazy loading failed for ${t}:`,e);const s=e.message?.includes("Failed to fetch")||e.message?.includes("ChunkLoadError")||e.name==="ChunkLoadError",a=window.sessionStorage.getItem(`retry-${t}`);if(s&&!a)return console.log(`Reloading page to recover from missing chunk for ${t}...`),window.sessionStorage.setItem(`retry-${t}`,"true"),"serviceWorker"in navigator?navigator.serviceWorker.getRegistrations().then(l=>{for(const u of l)u.unregister();window.location.reload()}):window.location.reload(),new Promise(()=>{});throw e}});class SB extends J.Component{state={hasError:!1,error:null};static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,e){console.error("Uncaught error:",t,e)}handleReload=()=>{"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(t=>{t.forEach(e=>e.unregister())}),caches.keys().then(t=>{t.forEach(e=>{caches.delete(e)})}),window.location.reload()};render(){return this.state.hasError?j.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",padding:"20px",textAlign:"center",background:"#f8fafc"},children:[j.jsx("h2",{style:{color:"#334155",marginBottom:"10px"},children:""}),j.jsx("p",{style:{color:"#64748b",marginBottom:"20px"},children:""}),j.jsx("button",{onClick:this.handleReload,style:{padding:"12px 24px",background:"#3b82f6",color:"white",border:"none",borderRadius:"8px",fontSize:"1rem",cursor:"pointer",boxShadow:"0 4px 6px -1px rgba(59, 130, 246, 0.5)"},children:"  (Update)"})]}):this.props.children}}const AB=gD(()=>hw(()=>import("./AdminDashboard-BK1jAZou.js"),[]).then(n=>({default:n.AdminDashboard})),"AdminDashboard"),wB=gD(()=>hw(()=>import("./TicketView-DDfsTd6k.js"),[]).then(n=>({default:n.TicketView})),"TicketView"),uw=()=>j.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",flexDirection:"column",gap:"15px"},children:[j.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite"}}),j.jsx("span",{style:{color:"#64748b"},children:"Loading..."}),j.jsx("style",{children:`
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    `})]}),IB=()=>{const{isValid:n,selection:t,isAdmin:e}=Bv(),[s,a]=J.useState(!1),[l,u]=J.useState(!1),[h,m]=J.useState(!1),[p,y]=J.useState(null),[v,E]=J.useState(!1),[I,N]=J.useState(null),[U,L]=J.useState(!1);J.useEffect(()=>{(async()=>{const R=localStorage.getItem("soka_ticket_2026");if(!R)return;let A;try{A=JSON.parse(R)}catch(x){console.error("Failed to parse saved ticket",x),localStorage.removeItem("soka_ticket_2026");return}try{const x=await k3(Wc(ii,"system","config"));if(x.exists()){const M=x.data();if(M.lastReset){const V=new Date(M.lastReset).getTime(),k=A.timestamp||0;if(V>k){console.log("System reset detected. Clearing local ticket."),localStorage.removeItem("soka_ticket_2026"),y(null);return}}}}catch(x){console.error("Failed to check system status:",x)}y(A),L(!0)})()},[]);const Y=()=>{n&&a(!0)},W=()=>{const at=[];return t.selectedC&&at.push(t.selectedC),t.selectedD&&at.push(t.selectedD),t.selectedA&&at.push(t.selectedA),t.selectedB&&at.push(t.selectedB),at},z=at=>{N(at),E(!0)},Q=async()=>{if(!I)return;E(!1),u(!0);const at=xc.loading("...");try{const R=await bB(t,I),A=W(),x={bookingId:R,userDetails:I,selectedSlotIds:A,timestamp:Date.now()};localStorage.setItem("soka_ticket_2026",JSON.stringify(x)),y(x),L(!0),a(!1),xc.success("",{id:at,duration:5e3})}catch(R){console.error(R),xc.error(`: ${R.message}`,{id:at,duration:5e3})}finally{u(!1),N(null)}},rt=()=>{L(!1)};return U&&p?j.jsx("div",{className:"container",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:j.jsx(J.Suspense,{fallback:j.jsx(uw,{}),children:j.jsx(wB,{bookingId:p.bookingId,userDetails:p.userDetails,selectedSlotIds:p.selectedSlotIds,onClose:rt})})}):j.jsxs("div",{className:"container",children:[j.jsxs("div",{className:"glass-card",children:[j.jsx("h1",{children:"2026  EXPO"}),j.jsx("h2",{children:" - "}),j.jsxs("p",{className:"description",style:{textAlign:"center",color:"#64748b",marginBottom:"30px"},children:["",j.jsx("br",{}),"(A+B C  D )"]}),j.jsx(yB,{disabled:!!p,bookedSlotIds:p?.selectedSlotIds}),j.jsx("div",{style:{textAlign:"center",marginTop:"30px"},children:p?j.jsxs("button",{className:"btn-primary",style:{fontSize:"1.2rem",padding:"15px 40px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",boxShadow:"0 4px 15px rgba(16, 185, 129, 0.4)",display:"inline-flex",flexDirection:"column",alignItems:"center",gap:"4px",lineHeight:"1.2"},onClick:()=>L(!0),children:[j.jsx("span",{style:{fontSize:"0.9rem",opacity:.9},children:" "}),j.jsx("span",{style:{fontWeight:"bold"},children:" "})]}):j.jsx("button",{className:"btn-primary",disabled:!n,style:{opacity:n?1:.5,fontSize:"1.2rem",padding:"15px 40px"},onClick:Y,children:n?"":" Let's Go"})})]}),s&&j.jsx(_B,{onSubmit:z,onCancel:()=>a(!1),loading:l}),j.jsx(TB,{isOpen:v,onConfirm:Q,onCancel:()=>E(!1),selectedIds:W()}),e&&j.jsx("div",{style:{padding:"30px",background:"rgba(255,255,255,0.85)",backdropFilter:"blur(10px)",borderRadius:"24px",marginTop:"40px",border:"1px solid rgba(255,255,255,0.5)",boxShadow:"0 20px 40px -10px rgba(0,0,0,0.1)"},children:j.jsx(J.Suspense,{fallback:j.jsx(uw,{}),children:j.jsx(AB,{})})}),j.jsxs("footer",{style:{textAlign:"center",padding:"40px 0",color:"#94a3b8",fontSize:"0.9rem"},children:[" 2026 Soka Education EXPO. All rights reserved.",j.jsx("br",{}),j.jsx("span",{onClick:()=>m(!0),style:{cursor:"pointer",opacity:.3,marginTop:"10px",display:"inline-block"},children:"Admin Access"}),j.jsx("br",{}),j.jsx("a",{href:"https://cagoooo.github.io/Akai/",target:"_blank",rel:"noopener noreferrer",className:"akai-badge",children:" Made by "})]}),j.jsx(vB,{isOpen:h,onClose:()=>m(!1)})]})};function RB(){return j.jsx(z3,{children:j.jsxs(j3,{children:[j.jsx(SB,{children:j.jsx(IB,{})}),j.jsx(CL,{position:"top-center",reverseOrder:!1,containerStyle:{top:40,zIndex:999999},toastOptions:{style:{background:"#333",color:"#fff",zIndex:999999}}})]})})}i2.createRoot(document.getElementById("root")).render(j.jsx(J.StrictMode,{children:j.jsx(RB,{})}));export{qm as A,xB as R,DL as S,D_ as a,fB as b,MB as c,Is as d,QV as g,j,Xi as m,J as r,NB as s,Mx as u,xc as z};
