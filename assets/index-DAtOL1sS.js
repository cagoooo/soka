function R2(n,t){for(var e=0;e<t.length;e++){const i=t[e];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function x2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ry={exports:{}},fc={};var cS;function C2(){if(cS)return fc;cS=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:u,ref:a!==void 0?a:null,props:l}}return fc.Fragment=t,fc.jsx=e,fc.jsxs=e,fc}var hS;function D2(){return hS||(hS=1,ry.exports=C2()),ry.exports}var B=D2(),ay={exports:{}},Rt={};var fS;function V2(){if(fS)return Rt;fS=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function I(O){return O===null||typeof O!="object"?null:(O=E&&O[E]||O["@@iterator"],typeof O=="function"?O:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,L={};function $(O,st,ft){this.props=O,this.context=st,this.refs=L,this.updater=ft||N}$.prototype.isReactComponent={},$.prototype.setState=function(O,st){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,st,"setState")},$.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function J(){}J.prototype=$.prototype;function j(O,st,ft){this.props=O,this.context=st,this.refs=L,this.updater=ft||N}var Y=j.prototype=new J;Y.constructor=j,U(Y,$.prototype),Y.isPureReactComponent=!0;var rt=Array.isArray;function at(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function x(O,st,ft){var pt=ft.ref;return{$$typeof:n,type:O,key:st,ref:pt!==void 0?pt:null,props:ft}}function M(O,st){return x(O.type,st,O.props)}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function k(O){var st={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ft){return st[ft]})}var C=/\/+/g;function Gt(O,st){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):st.toString(36)}function Xt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(at,at):(O.status="pending",O.then(function(st){O.status==="pending"&&(O.status="fulfilled",O.value=st)},function(st){O.status==="pending"&&(O.status="rejected",O.reason=st)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function tt(O,st,ft,pt,wt){var Vt=typeof O;(Vt==="undefined"||Vt==="boolean")&&(O=null);var Ft=!1;if(O===null)Ft=!0;else switch(Vt){case"bigint":case"string":case"number":Ft=!0;break;case"object":switch(O.$$typeof){case n:case t:Ft=!0;break;case y:return Ft=O._init,tt(Ft(O._payload),st,ft,pt,wt)}}if(Ft)return wt=wt(O),Ft=pt===""?"."+Gt(O,0):pt,rt(wt)?(ft="",Ft!=null&&(ft=Ft.replace(C,"$&/")+"/"),tt(wt,st,ft,"",function(oa){return oa})):wt!=null&&(V(wt)&&(wt=M(wt,ft+(wt.key==null||O&&O.key===wt.key?"":(""+wt.key).replace(C,"$&/")+"/")+Ft)),st.push(wt)),1;Ft=0;var Fe=pt===""?".":pt+":";if(rt(O))for(var fe=0;fe<O.length;fe++)pt=O[fe],Vt=Fe+Gt(pt,fe),Ft+=tt(pt,st,ft,Vt,wt);else if(fe=I(O),typeof fe=="function")for(O=fe.call(O),fe=0;!(pt=O.next()).done;)pt=pt.value,Vt=Fe+Gt(pt,fe++),Ft+=tt(pt,st,ft,Vt,wt);else if(Vt==="object"){if(typeof O.then=="function")return tt(Xt(O),st,ft,pt,wt);throw st=String(O),Error("Objects are not valid as a React child (found: "+(st==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":st)+"). If you meant to render a collection of children, use an array instead.")}return Ft}function lt(O,st,ft){if(O==null)return O;var pt=[],wt=0;return tt(O,pt,"","",function(Vt){return st.call(ft,Vt,wt++)}),pt}function mt(O){if(O._status===-1){var st=O._result;st=st(),st.then(function(ft){(O._status===0||O._status===-1)&&(O._status=1,O._result=ft)},function(ft){(O._status===0||O._status===-1)&&(O._status=2,O._result=ft)}),O._status===-1&&(O._status=0,O._result=st)}if(O._status===1)return O._result.default;throw O._result}var Dt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var st=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(st))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},kt={map:lt,forEach:function(O,st,ft){lt(O,function(){st.apply(this,arguments)},ft)},count:function(O){var st=0;return lt(O,function(){st++}),st},toArray:function(O){return lt(O,function(st){return st})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Rt.Activity=v,Rt.Children=kt,Rt.Component=$,Rt.Fragment=e,Rt.Profiler=a,Rt.PureComponent=j,Rt.StrictMode=i,Rt.Suspense=d,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return R.H.useMemoCache(O)}},Rt.cache=function(O){return function(){return O.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(O,st,ft){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var pt=U({},O.props),wt=O.key;if(st!=null)for(Vt in st.key!==void 0&&(wt=""+st.key),st)!A.call(st,Vt)||Vt==="key"||Vt==="__self"||Vt==="__source"||Vt==="ref"&&st.ref===void 0||(pt[Vt]=st[Vt]);var Vt=arguments.length-2;if(Vt===1)pt.children=ft;else if(1<Vt){for(var Ft=Array(Vt),Fe=0;Fe<Vt;Fe++)Ft[Fe]=arguments[Fe+2];pt.children=Ft}return x(O.type,wt,pt)},Rt.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:l,_context:O},O},Rt.createElement=function(O,st,ft){var pt,wt={},Vt=null;if(st!=null)for(pt in st.key!==void 0&&(Vt=""+st.key),st)A.call(st,pt)&&pt!=="key"&&pt!=="__self"&&pt!=="__source"&&(wt[pt]=st[pt]);var Ft=arguments.length-2;if(Ft===1)wt.children=ft;else if(1<Ft){for(var Fe=Array(Ft),fe=0;fe<Ft;fe++)Fe[fe]=arguments[fe+2];wt.children=Fe}if(O&&O.defaultProps)for(pt in Ft=O.defaultProps,Ft)wt[pt]===void 0&&(wt[pt]=Ft[pt]);return x(O,Vt,wt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(O){return{$$typeof:h,render:O}},Rt.isValidElement=V,Rt.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:mt}},Rt.memo=function(O,st){return{$$typeof:p,type:O,compare:st===void 0?null:st}},Rt.startTransition=function(O){var st=R.T,ft={};R.T=ft;try{var pt=O(),wt=R.S;wt!==null&&wt(ft,pt),typeof pt=="object"&&pt!==null&&typeof pt.then=="function"&&pt.then(at,Dt)}catch(Vt){Dt(Vt)}finally{st!==null&&ft.types!==null&&(st.types=ft.types),R.T=st}},Rt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Rt.use=function(O){return R.H.use(O)},Rt.useActionState=function(O,st,ft){return R.H.useActionState(O,st,ft)},Rt.useCallback=function(O,st){return R.H.useCallback(O,st)},Rt.useContext=function(O){return R.H.useContext(O)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(O,st){return R.H.useDeferredValue(O,st)},Rt.useEffect=function(O,st){return R.H.useEffect(O,st)},Rt.useEffectEvent=function(O){return R.H.useEffectEvent(O)},Rt.useId=function(){return R.H.useId()},Rt.useImperativeHandle=function(O,st,ft){return R.H.useImperativeHandle(O,st,ft)},Rt.useInsertionEffect=function(O,st){return R.H.useInsertionEffect(O,st)},Rt.useLayoutEffect=function(O,st){return R.H.useLayoutEffect(O,st)},Rt.useMemo=function(O,st){return R.H.useMemo(O,st)},Rt.useOptimistic=function(O,st){return R.H.useOptimistic(O,st)},Rt.useReducer=function(O,st,ft){return R.H.useReducer(O,st,ft)},Rt.useRef=function(O){return R.H.useRef(O)},Rt.useState=function(O){return R.H.useState(O)},Rt.useSyncExternalStore=function(O,st,ft){return R.H.useSyncExternalStore(O,st,ft)},Rt.useTransition=function(){return R.H.useTransition()},Rt.version="19.2.4",Rt}var dS;function X_(){return dS||(dS=1,ay.exports=V2()),ay.exports}var Z=X_();const xs=x2(Z),oz=R2({__proto__:null,default:xs},[Z]);var oy={exports:{}},dc={},ly={exports:{}},uy={};var mS;function M2(){return mS||(mS=1,(function(n){function t(tt,lt){var mt=tt.length;tt.push(lt);t:for(;0<mt;){var Dt=mt-1>>>1,kt=tt[Dt];if(0<a(kt,lt))tt[Dt]=lt,tt[mt]=kt,mt=Dt;else break t}}function e(tt){return tt.length===0?null:tt[0]}function i(tt){if(tt.length===0)return null;var lt=tt[0],mt=tt.pop();if(mt!==lt){tt[0]=mt;t:for(var Dt=0,kt=tt.length,O=kt>>>1;Dt<O;){var st=2*(Dt+1)-1,ft=tt[st],pt=st+1,wt=tt[pt];if(0>a(ft,mt))pt<kt&&0>a(wt,ft)?(tt[Dt]=wt,tt[pt]=mt,Dt=pt):(tt[Dt]=ft,tt[st]=mt,Dt=st);else if(pt<kt&&0>a(wt,mt))tt[Dt]=wt,tt[pt]=mt,Dt=pt;else break t}}return lt}function a(tt,lt){var mt=tt.sortIndex-lt.sortIndex;return mt!==0?mt:tt.id-lt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],p=[],y=1,v=null,E=3,I=!1,N=!1,U=!1,L=!1,$=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function Y(tt){for(var lt=e(p);lt!==null;){if(lt.callback===null)i(p);else if(lt.startTime<=tt)i(p),lt.sortIndex=lt.expirationTime,t(d,lt);else break;lt=e(p)}}function rt(tt){if(U=!1,Y(tt),!N)if(e(d)!==null)N=!0,at||(at=!0,k());else{var lt=e(p);lt!==null&&Xt(rt,lt.startTime-tt)}}var at=!1,R=-1,A=5,x=-1;function M(){return L?!0:!(n.unstable_now()-x<A)}function V(){if(L=!1,at){var tt=n.unstable_now();x=tt;var lt=!0;try{t:{N=!1,U&&(U=!1,J(R),R=-1),I=!0;var mt=E;try{e:{for(Y(tt),v=e(d);v!==null&&!(v.expirationTime>tt&&M());){var Dt=v.callback;if(typeof Dt=="function"){v.callback=null,E=v.priorityLevel;var kt=Dt(v.expirationTime<=tt);if(tt=n.unstable_now(),typeof kt=="function"){v.callback=kt,Y(tt),lt=!0;break e}v===e(d)&&i(d),Y(tt)}else i(d);v=e(d)}if(v!==null)lt=!0;else{var O=e(p);O!==null&&Xt(rt,O.startTime-tt),lt=!1}}break t}finally{v=null,E=mt,I=!1}lt=void 0}}finally{lt?k():at=!1}}}var k;if(typeof j=="function")k=function(){j(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Gt=C.port2;C.port1.onmessage=V,k=function(){Gt.postMessage(null)}}else k=function(){$(V,0)};function Xt(tt,lt){R=$(function(){tt(n.unstable_now())},lt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(tt){tt.callback=null},n.unstable_forceFrameRate=function(tt){0>tt||125<tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<tt?Math.floor(1e3/tt):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(tt){switch(E){case 1:case 2:case 3:var lt=3;break;default:lt=E}var mt=E;E=lt;try{return tt()}finally{E=mt}},n.unstable_requestPaint=function(){L=!0},n.unstable_runWithPriority=function(tt,lt){switch(tt){case 1:case 2:case 3:case 4:case 5:break;default:tt=3}var mt=E;E=tt;try{return lt()}finally{E=mt}},n.unstable_scheduleCallback=function(tt,lt,mt){var Dt=n.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Dt+mt:Dt):mt=Dt,tt){case 1:var kt=-1;break;case 2:kt=250;break;case 5:kt=1073741823;break;case 4:kt=1e4;break;default:kt=5e3}return kt=mt+kt,tt={id:y++,callback:lt,priorityLevel:tt,startTime:mt,expirationTime:kt,sortIndex:-1},mt>Dt?(tt.sortIndex=mt,t(p,tt),e(d)===null&&tt===e(p)&&(U?(J(R),R=-1):U=!0,Xt(rt,mt-Dt))):(tt.sortIndex=kt,t(d,tt),N||I||(N=!0,at||(at=!0,k()))),tt},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(tt){var lt=E;return function(){var mt=E;E=lt;try{return tt.apply(this,arguments)}finally{E=mt}}}})(uy)),uy}var pS;function N2(){return pS||(pS=1,ly.exports=M2()),ly.exports}var cy={exports:{}},hn={};var gS;function P2(){if(gS)return hn;gS=1;var n=X_();function t(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:p,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,hn.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(d,p,null,y)},hn.flushSync=function(d){var p=u.T,y=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=p,i.p=y,i.d.f()}},hn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(d,p))},hn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},hn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,I=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:I}):y==="script"&&i.d.X(d,{crossOrigin:v,integrity:E,fetchPriority:I,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},hn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);i.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(d)},hn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);i.d.L(d,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},hn.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=h(p.as,p.crossOrigin);i.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(d)},hn.requestFormReset=function(d){i.d.r(d)},hn.unstable_batchedUpdates=function(d,p){return d(p)},hn.useFormState=function(d,p,y){return u.H.useFormState(d,p,y)},hn.useFormStatus=function(){return u.H.useHostTransitionStatus()},hn.version="19.2.4",hn}var yS;function O1(){if(yS)return cy.exports;yS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),cy.exports=P2(),cy.exports}var _S;function O2(){if(_S)return dc;_S=1;var n=N2(),t=X_(),e=O1();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function u(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(l(s)!==s)throw Error(i(188))}function p(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,c=r;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return d(m),s;if(g===c)return d(m),r;g=g.sibling}throw Error(i(188))}if(o.return!==c.return)o=m,c=g;else{for(var T=!1,S=m.child;S;){if(S===o){T=!0,o=m,c=g;break}if(S===c){T=!0,c=m,o=g;break}S=S.sibling}if(!T){for(S=g.child;S;){if(S===o){T=!0,o=g,c=m;break}if(S===c){T=!0,c=g,o=m;break}S=S.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function y(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=y(s),r!==null)return r;s=s.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),j=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var C=Symbol.for("react.client.reference");function Gt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===C?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case U:return"Fragment";case $:return"Profiler";case L:return"StrictMode";case rt:return"Suspense";case at:return"SuspenseList";case x:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case N:return"Portal";case j:return s.displayName||"Context";case J:return(s._context.displayName||"Context")+".Consumer";case Y:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return r=s.displayName||null,r!==null?r:Gt(s.type)||"Memo";case A:r=s._payload,s=s._init;try{return Gt(s(r))}catch{}}return null}var Xt=Array.isArray,tt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Dt=[],kt=-1;function O(s){return{current:s}}function st(s){0>kt||(s.current=Dt[kt],Dt[kt]=null,kt--)}function ft(s,r){kt++,Dt[kt]=s.current,s.current=r}var pt=O(null),wt=O(null),Vt=O(null),Ft=O(null);function Fe(s,r){switch(ft(Vt,r),ft(wt,s),ft(pt,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?Nb(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=Nb(r),s=Pb(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}st(pt),ft(pt,s)}function fe(){st(pt),st(wt),st(Vt)}function oa(s){s.memoizedState!==null&&ft(Ft,s);var r=pt.current,o=Pb(r,s.type);r!==o&&(ft(wt,s),ft(pt,o))}function mo(s){wt.current===s&&(st(pt),st(wt)),Ft.current===s&&(st(Ft),lc._currentValue=mt)}var po,go;function xi(s){if(po===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);po=r&&r[1]||"",go=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+po+s+go}var lu=!1;function la(s,r){if(!s||lu)return"";lu=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(X){var K=X}Reflect.construct(s,[],it)}else{try{it.call()}catch(X){K=X}s.call(it.prototype)}}else{try{throw Error()}catch(X){K=X}(it=s())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],S=g[1];if(T&&S){var D=T.split(`
`),G=S.split(`
`);for(m=c=0;c<D.length&&!D[c].includes("DetermineComponentFrameRoot");)c++;for(;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;if(c===D.length||m===G.length)for(c=D.length-1,m=G.length-1;1<=c&&0<=m&&D[c]!==G[m];)m--;for(;1<=c&&0<=m;c--,m--)if(D[c]!==G[m]){if(c!==1||m!==1)do if(c--,m--,0>m||D[c]!==G[m]){var et=`
`+D[c].replace(" at new "," at ");return s.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",s.displayName)),et}while(1<=c&&0<=m);break}}}finally{lu=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?xi(o):""}function uu(s,r){switch(s.tag){case 26:case 27:case 5:return xi(s.type);case 16:return xi("Lazy");case 13:return s.child!==r&&r!==null?xi("Suspense Fallback"):xi("Suspense");case 19:return xi("SuspenseList");case 0:case 15:return la(s.type,!1);case 11:return la(s.type.render,!1);case 1:return la(s.type,!0);case 31:return xi("Activity");default:return""}}function cu(s){try{var r="",o=null;do r+=uu(s,o),o=s,s=s.return;while(s);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var De=Object.prototype.hasOwnProperty,qe=n.unstable_scheduleCallback,Gs=n.unstable_cancelCallback,op=n.unstable_shouldYield,Ph=n.unstable_requestPaint,yn=n.unstable_now,ua=n.unstable_getCurrentPriorityLevel,hu=n.unstable_ImmediatePriority,fu=n.unstable_UserBlockingPriority,Ks=n.unstable_NormalPriority,lp=n.unstable_LowPriority,Oh=n.unstable_IdlePriority,kh=n.log,Lh=n.unstable_setDisableYieldValue,ui=null,en=null;function $n(s){if(typeof kh=="function"&&Lh(s),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(ui,s)}catch{}}var be=Math.clz32?Math.clz32:Bh,Uh=Math.log,yo=Math.LN2;function Bh(s){return s>>>=0,s===0?32:31-(Uh(s)/yo|0)|0}var Ci=256,ca=262144,Ve=4194304;function Di(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Vi(s,r,o){var c=s.pendingLanes;if(c===0)return 0;var m=0,g=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var S=c&134217727;return S!==0?(c=S&~g,c!==0?m=Di(c):(T&=S,T!==0?m=Di(T):o||(o=S&~s,o!==0&&(m=Di(o))))):(S=c&~g,S!==0?m=Di(S):T!==0?m=Di(T):o||(o=c&~s,o!==0&&(m=Di(o)))),m===0?0:r!==0&&r!==m&&(r&g)===0&&(g=m&-m,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:m}function ci(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function up(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zh(){var s=Ve;return Ve<<=1,(Ve&62914560)===0&&(Ve=4194304),s}function Mi(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function ha(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function cp(s,r,o,c,m,g){var T=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var S=s.entanglements,D=s.expirationTimes,G=s.hiddenUpdates;for(o=T&~o;0<o;){var et=31-be(o),it=1<<et;S[et]=0,D[et]=-1;var K=G[et];if(K!==null)for(G[et]=null,et=0;et<K.length;et++){var X=K[et];X!==null&&(X.lane&=-536870913)}o&=~it}c!==0&&fa(s,c,0),g!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=g&~(T&~r))}function fa(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var c=31-be(r);s.entangledLanes|=r,s.entanglements[c]=s.entanglements[c]|1073741824|o&261930}function du(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var c=31-be(o),m=1<<c;m&r|s[c]&r&&(s[c]|=r),o&=~m}}function mu(s,r){var o=r&-r;return o=(o&42)!==0?1:da(o),(o&(s.suspendedLanes|r))!==0?0:o}function da(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ls(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function jh(){var s=lt.p;return s!==0?s:(s=window.event,s===void 0?32:iS(s.type))}function hi(s,r){var o=lt.p;try{return lt.p=s,r()}finally{lt.p=o}}var fi=Math.random().toString(36).slice(2),Me="__reactFiber$"+fi,Xe="__reactProps$"+fi,Ni="__reactContainer$"+fi,_o="__reactEvents$"+fi,hp="__reactListeners$"+fi,Fh="__reactHandles$"+fi,qh="__reactResources$"+fi,Pi="__reactMarker$"+fi;function vo(s){delete s[Me],delete s[Xe],delete s[_o],delete s[hp],delete s[Fh]}function Oi(s){var r=s[Me];if(r)return r;for(var o=s.parentNode;o;){if(r=o[Ni]||o[Me]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=jb(s);s!==null;){if(o=s[Me])return o;s=jb(s)}return r}s=o,o=s.parentNode}return null}function Yn(s){if(s=s[Me]||s[Ni]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Nn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function ki(s){var r=s[qh];return r||(r=s[qh]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ne(s){s[Pi]=!0}var pu=new Set,gu={};function Li(s,r){Ui(s,r),Ui(s+"Capture",r)}function Ui(s,r){for(gu[s]=r,s=0;s<r.length;s++)pu.add(r[s])}var yu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_u={},vu={};function Hh(s){return De.call(vu,s)?!0:De.call(_u,s)?!1:yu.test(s)?vu[s]=!0:(_u[s]=!0,!1)}function To(s,r,o){if(Hh(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function Pn(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Pe(s,r,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+c)}}function We(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function $s(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Tu(s,r,o){var c=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return m.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(s,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Wt(s){if(!s._valueTracker){var r=$s(s)?"checked":"value";s._valueTracker=Tu(s,r,""+s[r])}}function ma(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return s&&(c=$s(s)?s.checked?"true":"false":s.value),s=c,s!==o?(r.setValue(s),!0):!1}function Bi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var pa=/[\n"\\]/g;function bn(s){return s.replace(pa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Eo(s,r,o,c,m,g,T,S){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),r!=null?T==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+We(r)):s.value!==""+We(r)&&(s.value=""+We(r)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),r!=null?Eu(s,T,We(r)):o!=null?Eu(s,T,We(o)):c!=null&&s.removeAttribute("value"),m==null&&g!=null&&(s.defaultChecked=!!g),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+We(S):s.removeAttribute("name")}function Gh(s,r,o,c,m,g,T,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Wt(s);return}o=o!=null?""+We(o):"",r=r!=null?""+We(r):o,S||r===s.value||(s.value=r),s.defaultValue=r}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=S?s.checked:!!c,s.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T),Wt(s)}function Eu(s,r,o){r==="number"&&Bi(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function Ys(s,r,o,c){if(s=s.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<s.length;o++)m=r.hasOwnProperty("$"+s[o].value),s[o].selected!==m&&(s[o].selected=m),m&&c&&(s[o].defaultSelected=!0)}else{for(o=""+We(o),r=null,m=0;m<s.length;m++){if(s[m].value===o){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}r!==null||s[m].disabled||(r=s[m])}r!==null&&(r.selected=!0)}}function Kh(s,r,o){if(r!=null&&(r=""+We(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+We(o):""}function Qs(s,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(i(92));if(Xt(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=We(r),s.defaultValue=o,c=s.textContent,c===o&&c!==""&&c!==null&&(s.value=c),Wt(s)}function Sn(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var $h=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bu(s,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":c?s.setProperty(r,o):typeof o!="number"||o===0||$h.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function Su(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in r)c=r[m],r.hasOwnProperty(m)&&o[m]!==c&&bu(s,m,c)}else for(var g in r)r.hasOwnProperty(g)&&bu(s,g,r[g])}function bo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function So(s){return Xs.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function di(){}var Au=null;function Qn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ws=null,zi=null;function ga(s){var r=Yn(s);if(r&&(s=r.stateNode)){var o=s[Xe]||null;t:switch(s=r.stateNode,r.type){case"input":if(Eo(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+bn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==s&&c.form===s.form){var m=c[Xe]||null;if(!m)throw Error(i(90));Eo(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===s.form&&ma(c)}break t;case"textarea":Kh(s,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Ys(s,!!o.multiple,r,!1)}}}var Ao=!1;function Js(s,r,o){if(Ao)return s(r,o);Ao=!0;try{var c=s(r);return c}finally{if(Ao=!1,(Ws!==null||zi!==null)&&(Ff(),Ws&&(r=Ws,s=zi,zi=Ws=null,ga(r),s)))for(r=0;r<s.length;r++)ga(s[r])}}function mi(s,r){var o=s.stateNode;if(o===null)return null;var c=o[Xe]||null;if(c===null)return null;o=c[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break t;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ya=!1;if(Xn)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){ya=!0}}),window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{ya=!1}var ji=null,wu=null,_a=null;function Iu(){if(_a)return _a;var s,r=wu,o=r.length,c,m="value"in ji?ji.value:ji.textContent,g=m.length;for(s=0;s<o&&r[s]===m[s];s++);var T=o-s;for(c=1;c<=T&&r[o-c]===m[g-c];c++);return _a=m.slice(s,1<c?1-c:void 0)}function va(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function us(){return!0}function pi(){return!1}function nn(s){function r(o,c,m,g,T){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(o=s[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?us:pi,this.isPropagationStopped=pi,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),r}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fi=nn(cs),Zs=v({},cs,{view:0,detail:0}),Ru=nn(Zs),tr,wo,qi,Io=v({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:er,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==qi&&(qi&&s.type==="mousemove"?(tr=s.screenX-qi.screenX,wo=s.screenY-qi.screenY):wo=tr=0,qi=s),tr)},movementY:function(s){return"movementY"in s?s.movementY:wo}}),xu=nn(Io),Ta=v({},Io,{dataTransfer:0}),Qh=nn(Ta),Xh=v({},Zs,{relatedTarget:0}),Ea=nn(Xh),Cu=v({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),Wh=nn(Cu),Ro=v({},cs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Jh=nn(Ro),Zh=v({},cs,{data:0}),Hi=nn(Zh),tf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ef={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sf(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=nf[s])?!!r[s]:!1}function er(){return sf}var _n=v({},Zs,{key:function(s){if(s.key){var r=tf[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=va(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ef[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:er,charCode:function(s){return s.type==="keypress"?va(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?va(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),rf=nn(_n),af=v({},Io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hs=nn(af),f=v({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:er}),_=nn(f),b=v({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=nn(b),q=v({},Io,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=nn(q),ct=v({},cs,{newState:0,oldState:0}),xt=nn(ct),Se=[9,13,27,32],Yt=Xn&&"CompositionEvent"in window,de=null;Xn&&"documentMode"in document&&(de=document.documentMode);var Wn=Xn&&"TextEvent"in window&&!de,Gi=Xn&&(!Yt||de&&8<de&&11>=de),gi=" ",yi=!1;function ba(s,r){switch(s){case"keyup":return Se.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Co=!1;function WD(s,r){switch(s){case"compositionend":return xo(r);case"keypress":return r.which!==32?null:(yi=!0,gi);case"textInput":return s=r.data,s===gi&&yi?null:s;default:return null}}function JD(s,r){if(Co)return s==="compositionend"||!Yt&&ba(s,r)?(s=Iu(),_a=wu=ji=null,Co=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Gi&&r.locale!=="ko"?null:r.data;default:return null}}var ZD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H0(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!ZD[s.type]:r==="textarea"}function G0(s,r,o,c){Ws?zi?zi.push(c):zi=[c]:Ws=c,r=Qf(r,"onChange"),0<r.length&&(o=new Fi("onChange","change",null,o,c),s.push({event:o,listeners:r}))}var Du=null,Vu=null;function tV(s){Rb(s,0)}function of(s){var r=Nn(s);if(ma(r))return s}function K0(s,r){if(s==="change")return r}var $0=!1;if(Xn){var fp;if(Xn){var dp="oninput"in document;if(!dp){var Y0=document.createElement("div");Y0.setAttribute("oninput","return;"),dp=typeof Y0.oninput=="function"}fp=dp}else fp=!1;$0=fp&&(!document.documentMode||9<document.documentMode)}function Q0(){Du&&(Du.detachEvent("onpropertychange",X0),Vu=Du=null)}function X0(s){if(s.propertyName==="value"&&of(Vu)){var r=[];G0(r,Vu,s,Qn(s)),Js(tV,r)}}function eV(s,r,o){s==="focusin"?(Q0(),Du=r,Vu=o,Du.attachEvent("onpropertychange",X0)):s==="focusout"&&Q0()}function nV(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return of(Vu)}function iV(s,r){if(s==="click")return of(r)}function sV(s,r){if(s==="input"||s==="change")return of(r)}function rV(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var On=typeof Object.is=="function"?Object.is:rV;function Mu(s,r){if(On(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!De.call(r,m)||!On(s[m],r[m]))return!1}return!0}function W0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function J0(s,r){var o=W0(s);s=0;for(var c;o;){if(o.nodeType===3){if(c=s+o.textContent.length,s<=r&&c>=r)return{node:o,offset:r-s};s=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=W0(o)}}function Z0(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Z0(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function tT(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Bi(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=Bi(s.document)}return r}function mp(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var aV=Xn&&"documentMode"in document&&11>=document.documentMode,Do=null,pp=null,Nu=null,gp=!1;function eT(s,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;gp||Do==null||Do!==Bi(c)||(c=Do,"selectionStart"in c&&mp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Nu&&Mu(Nu,c)||(Nu=c,c=Qf(pp,"onSelect"),0<c.length&&(r=new Fi("onSelect","select",null,r,o),s.push({event:r,listeners:c}),r.target=Do)))}function Sa(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var Vo={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionrun:Sa("Transition","TransitionRun"),transitionstart:Sa("Transition","TransitionStart"),transitioncancel:Sa("Transition","TransitionCancel"),transitionend:Sa("Transition","TransitionEnd")},yp={},nT={};Xn&&(nT=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function Aa(s){if(yp[s])return yp[s];if(!Vo[s])return s;var r=Vo[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in nT)return yp[s]=r[o];return s}var iT=Aa("animationend"),sT=Aa("animationiteration"),rT=Aa("animationstart"),oV=Aa("transitionrun"),lV=Aa("transitionstart"),uV=Aa("transitioncancel"),aT=Aa("transitionend"),oT=new Map,_p="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_p.push("scrollEnd");function _i(s,r){oT.set(s,r),Li(r,[s])}var lf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Jn=[],Mo=0,vp=0;function uf(){for(var s=Mo,r=vp=Mo=0;r<s;){var o=Jn[r];Jn[r++]=null;var c=Jn[r];Jn[r++]=null;var m=Jn[r];Jn[r++]=null;var g=Jn[r];if(Jn[r++]=null,c!==null&&m!==null){var T=c.pending;T===null?m.next=m:(m.next=T.next,T.next=m),c.pending=m}g!==0&&lT(o,m,g)}}function cf(s,r,o,c){Jn[Mo++]=s,Jn[Mo++]=r,Jn[Mo++]=o,Jn[Mo++]=c,vp|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function Tp(s,r,o,c){return cf(s,r,o,c),hf(s)}function wa(s,r){return cf(s,null,null,r),hf(s)}function lT(s,r,o){s.lanes|=o;var c=s.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=s.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(m=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,m&&r!==null&&(m=31-be(o),s=g.hiddenUpdates,c=s[m],c===null?s[m]=[r]:c.push(r),r.lane=o|536870912),g):null}function hf(s){if(50<ec)throw ec=0,Cg=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var No={};function cV(s,r,o,c){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(s,r,o,c){return new cV(s,r,o,c)}function Ep(s){return s=s.prototype,!(!s||!s.isReactComponent)}function fs(s,r){var o=s.alternate;return o===null?(o=kn(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function uT(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function ff(s,r,o,c,m,g){var T=0;if(c=s,typeof s=="function")Ep(s)&&(T=1);else if(typeof s=="string")T=p2(s,o,pt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case x:return s=kn(31,o,r,m),s.elementType=x,s.lanes=g,s;case U:return Ia(o.children,m,g,r);case L:T=8,m|=24;break;case $:return s=kn(12,o,r,m|2),s.elementType=$,s.lanes=g,s;case rt:return s=kn(13,o,r,m),s.elementType=rt,s.lanes=g,s;case at:return s=kn(19,o,r,m),s.elementType=at,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:T=10;break t;case J:T=9;break t;case Y:T=11;break t;case R:T=14;break t;case A:T=16,c=null;break t}T=29,o=Error(i(130,s===null?"null":typeof s,"")),c=null}return r=kn(T,o,r,m),r.elementType=s,r.type=c,r.lanes=g,r}function Ia(s,r,o,c){return s=kn(7,s,c,r),s.lanes=o,s}function bp(s,r,o){return s=kn(6,s,null,r),s.lanes=o,s}function cT(s){var r=kn(18,null,null,0);return r.stateNode=s,r}function Sp(s,r,o){return r=kn(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var hT=new WeakMap;function Zn(s,r){if(typeof s=="object"&&s!==null){var o=hT.get(s);return o!==void 0?o:(r={value:s,source:r,stack:cu(r)},hT.set(s,r),r)}return{value:s,source:r,stack:cu(r)}}var Po=[],Oo=0,df=null,Pu=0,ti=[],ei=0,nr=null,Ki=1,$i="";function ds(s,r){Po[Oo++]=Pu,Po[Oo++]=df,df=s,Pu=r}function fT(s,r,o){ti[ei++]=Ki,ti[ei++]=$i,ti[ei++]=nr,nr=s;var c=Ki;s=$i;var m=32-be(c)-1;c&=~(1<<m),o+=1;var g=32-be(r)+m;if(30<g){var T=m-m%5;g=(c&(1<<T)-1).toString(32),c>>=T,m-=T,Ki=1<<32-be(r)+m|o<<m|c,$i=g+s}else Ki=1<<g|o<<m|c,$i=s}function Ap(s){s.return!==null&&(ds(s,1),fT(s,1,0))}function wp(s){for(;s===df;)df=Po[--Oo],Po[Oo]=null,Pu=Po[--Oo],Po[Oo]=null;for(;s===nr;)nr=ti[--ei],ti[ei]=null,$i=ti[--ei],ti[ei]=null,Ki=ti[--ei],ti[ei]=null}function dT(s,r){ti[ei++]=Ki,ti[ei++]=$i,ti[ei++]=nr,Ki=r.id,$i=r.overflow,nr=s}var sn=null,ue=null,jt=!1,ir=null,ni=!1,Ip=Error(i(519));function sr(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ou(Zn(r,s)),Ip}function mT(s){var r=s.stateNode,o=s.type,c=s.memoizedProps;switch(r[Me]=s,r[Xe]=c,o){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(o=0;o<ic.length;o++)Ot(ic[o],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":Ot("invalid",r),Gh(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ot("invalid",r);break;case"textarea":Ot("invalid",r),Qs(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||Vb(r.textContent,o)?(c.popover!=null&&(Ot("beforetoggle",r),Ot("toggle",r)),c.onScroll!=null&&Ot("scroll",r),c.onScrollEnd!=null&&Ot("scrollend",r),c.onClick!=null&&(r.onclick=di),r=!0):r=!1,r||sr(s,!0)}function pT(s){for(sn=s.return;sn;)switch(sn.tag){case 5:case 31:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:sn=sn.return}}function ko(s){if(s!==sn)return!1;if(!jt)return pT(s),jt=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||Hg(s.type,s.memoizedProps)),o=!o),o&&ue&&sr(s),pT(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ue=zb(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ue=zb(s)}else r===27?(r=ue,_r(s.type)?(s=Qg,Qg=null,ue=s):ue=r):ue=sn?si(s.stateNode.nextSibling):null;return!0}function Ra(){ue=sn=null,jt=!1}function Rp(){var s=ir;return s!==null&&(Rn===null?Rn=s:Rn.push.apply(Rn,s),ir=null),s}function Ou(s){ir===null?ir=[s]:ir.push(s)}var xp=O(null),xa=null,ms=null;function rr(s,r,o){ft(xp,r._currentValue),r._currentValue=o}function ps(s){s._currentValue=xp.current,st(xp)}function Cp(s,r,o){for(;s!==null;){var c=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),s===o)break;s=s.return}}function Dp(s,r,o,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var g=m.dependencies;if(g!==null){var T=m.child;g=g.firstContext;t:for(;g!==null;){var S=g;g=m;for(var D=0;D<r.length;D++)if(S.context===r[D]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),Cp(g.return,o,s),c||(T=null);break t}g=S.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(i(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),Cp(T,o,s),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===s){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function Lo(s,r,o,c){s=null;for(var m=r,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var S=m.type;On(m.pendingProps.value,T.value)||(s!==null?s.push(S):s=[S])}}else if(m===Ft.current){if(T=m.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(lc):s=[lc])}m=m.return}s!==null&&Dp(r,s,o,c),r.flags|=262144}function mf(s){for(s=s.firstContext;s!==null;){if(!On(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ca(s){xa=s,ms=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function rn(s){return gT(xa,s)}function pf(s,r){return xa===null&&Ca(s),gT(s,r)}function gT(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ms===null){if(s===null)throw Error(i(308));ms=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else ms=ms.next=r;return o}var hV=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,c){s.push(c)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},fV=n.unstable_scheduleCallback,dV=n.unstable_NormalPriority,Oe={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vp(){return{controller:new hV,data:new Map,refCount:0}}function ku(s){s.refCount--,s.refCount===0&&fV(dV,function(){s.controller.abort()})}var Lu=null,Mp=0,Uo=0,Bo=null;function mV(s,r){if(Lu===null){var o=Lu=[];Mp=0,Uo=Og(),Bo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Mp++,r.then(yT,yT),r}function yT(){if(--Mp===0&&Lu!==null){Bo!==null&&(Bo.status="fulfilled");var s=Lu;Lu=null,Uo=0,Bo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function pV(s,r){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return s.then(function(){c.status="fulfilled",c.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var _T=tt.S;tt.S=function(s,r){eb=yn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&mV(s,r),_T!==null&&_T(s,r)};var Da=O(null);function Np(){var s=Da.current;return s!==null?s:oe.pooledCache}function gf(s,r){r===null?ft(Da,Da.current):ft(Da,r.pool)}function vT(){var s=Np();return s===null?null:{parent:Oe._currentValue,pool:s}}var zo=Error(i(460)),Pp=Error(i(474)),yf=Error(i(542)),_f={then:function(){}};function TT(s){return s=s.status,s==="fulfilled"||s==="rejected"}function ET(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(di,di),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,ST(s),s;default:if(typeof r.status=="string")r.then(di,di);else{if(s=oe,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(c){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=c}},function(c){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,ST(s),s}throw Ma=r,zo}}function Va(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ma=o,zo):o}}var Ma=null;function bT(){if(Ma===null)throw Error(i(459));var s=Ma;return Ma=null,s}function ST(s){if(s===zo||s===yf)throw Error(i(483))}var jo=null,Uu=0;function vf(s){var r=Uu;return Uu+=1,jo===null&&(jo=[]),ET(jo,s,r)}function Bu(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Tf(s,r){throw r.$$typeof===E?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function AT(s){function r(z,P){if(s){var H=z.deletions;H===null?(z.deletions=[P],z.flags|=16):H.push(P)}}function o(z,P){if(!s)return null;for(;P!==null;)r(z,P),P=P.sibling;return null}function c(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function m(z,P){return z=fs(z,P),z.index=0,z.sibling=null,z}function g(z,P,H){return z.index=H,s?(H=z.alternate,H!==null?(H=H.index,H<P?(z.flags|=67108866,P):H):(z.flags|=67108866,P)):(z.flags|=1048576,P)}function T(z){return s&&z.alternate===null&&(z.flags|=67108866),z}function S(z,P,H,nt){return P===null||P.tag!==6?(P=bp(H,z.mode,nt),P.return=z,P):(P=m(P,H),P.return=z,P)}function D(z,P,H,nt){var bt=H.type;return bt===U?et(z,P,H.props.children,nt,H.key):P!==null&&(P.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===A&&Va(bt)===P.type)?(P=m(P,H.props),Bu(P,H),P.return=z,P):(P=ff(H.type,H.key,H.props,null,z.mode,nt),Bu(P,H),P.return=z,P)}function G(z,P,H,nt){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=Sp(H,z.mode,nt),P.return=z,P):(P=m(P,H.children||[]),P.return=z,P)}function et(z,P,H,nt,bt){return P===null||P.tag!==7?(P=Ia(H,z.mode,nt,bt),P.return=z,P):(P=m(P,H),P.return=z,P)}function it(z,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=bp(""+P,z.mode,H),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case I:return H=ff(P.type,P.key,P.props,null,z.mode,H),Bu(H,P),H.return=z,H;case N:return P=Sp(P,z.mode,H),P.return=z,P;case A:return P=Va(P),it(z,P,H)}if(Xt(P)||k(P))return P=Ia(P,z.mode,H,null),P.return=z,P;if(typeof P.then=="function")return it(z,vf(P),H);if(P.$$typeof===j)return it(z,pf(z,P),H);Tf(z,P)}return null}function K(z,P,H,nt){var bt=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return bt!==null?null:S(z,P,""+H,nt);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case I:return H.key===bt?D(z,P,H,nt):null;case N:return H.key===bt?G(z,P,H,nt):null;case A:return H=Va(H),K(z,P,H,nt)}if(Xt(H)||k(H))return bt!==null?null:et(z,P,H,nt,null);if(typeof H.then=="function")return K(z,P,vf(H),nt);if(H.$$typeof===j)return K(z,P,pf(z,H),nt);Tf(z,H)}return null}function X(z,P,H,nt,bt){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return z=z.get(H)||null,S(P,z,""+nt,bt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case I:return z=z.get(nt.key===null?H:nt.key)||null,D(P,z,nt,bt);case N:return z=z.get(nt.key===null?H:nt.key)||null,G(P,z,nt,bt);case A:return nt=Va(nt),X(z,P,H,nt,bt)}if(Xt(nt)||k(nt))return z=z.get(H)||null,et(P,z,nt,bt,null);if(typeof nt.then=="function")return X(z,P,H,vf(nt),bt);if(nt.$$typeof===j)return X(z,P,H,pf(P,nt),bt);Tf(P,nt)}return null}function gt(z,P,H,nt){for(var bt=null,Kt=null,Tt=P,Mt=P=0,Ut=null;Tt!==null&&Mt<H.length;Mt++){Tt.index>Mt?(Ut=Tt,Tt=null):Ut=Tt.sibling;var $t=K(z,Tt,H[Mt],nt);if($t===null){Tt===null&&(Tt=Ut);break}s&&Tt&&$t.alternate===null&&r(z,Tt),P=g($t,P,Mt),Kt===null?bt=$t:Kt.sibling=$t,Kt=$t,Tt=Ut}if(Mt===H.length)return o(z,Tt),jt&&ds(z,Mt),bt;if(Tt===null){for(;Mt<H.length;Mt++)Tt=it(z,H[Mt],nt),Tt!==null&&(P=g(Tt,P,Mt),Kt===null?bt=Tt:Kt.sibling=Tt,Kt=Tt);return jt&&ds(z,Mt),bt}for(Tt=c(Tt);Mt<H.length;Mt++)Ut=X(Tt,z,Mt,H[Mt],nt),Ut!==null&&(s&&Ut.alternate!==null&&Tt.delete(Ut.key===null?Mt:Ut.key),P=g(Ut,P,Mt),Kt===null?bt=Ut:Kt.sibling=Ut,Kt=Ut);return s&&Tt.forEach(function(Sr){return r(z,Sr)}),jt&&ds(z,Mt),bt}function St(z,P,H,nt){if(H==null)throw Error(i(151));for(var bt=null,Kt=null,Tt=P,Mt=P=0,Ut=null,$t=H.next();Tt!==null&&!$t.done;Mt++,$t=H.next()){Tt.index>Mt?(Ut=Tt,Tt=null):Ut=Tt.sibling;var Sr=K(z,Tt,$t.value,nt);if(Sr===null){Tt===null&&(Tt=Ut);break}s&&Tt&&Sr.alternate===null&&r(z,Tt),P=g(Sr,P,Mt),Kt===null?bt=Sr:Kt.sibling=Sr,Kt=Sr,Tt=Ut}if($t.done)return o(z,Tt),jt&&ds(z,Mt),bt;if(Tt===null){for(;!$t.done;Mt++,$t=H.next())$t=it(z,$t.value,nt),$t!==null&&(P=g($t,P,Mt),Kt===null?bt=$t:Kt.sibling=$t,Kt=$t);return jt&&ds(z,Mt),bt}for(Tt=c(Tt);!$t.done;Mt++,$t=H.next())$t=X(Tt,z,Mt,$t.value,nt),$t!==null&&(s&&$t.alternate!==null&&Tt.delete($t.key===null?Mt:$t.key),P=g($t,P,Mt),Kt===null?bt=$t:Kt.sibling=$t,Kt=$t);return s&&Tt.forEach(function(I2){return r(z,I2)}),jt&&ds(z,Mt),bt}function ae(z,P,H,nt){if(typeof H=="object"&&H!==null&&H.type===U&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case I:t:{for(var bt=H.key;P!==null;){if(P.key===bt){if(bt=H.type,bt===U){if(P.tag===7){o(z,P.sibling),nt=m(P,H.props.children),nt.return=z,z=nt;break t}}else if(P.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===A&&Va(bt)===P.type){o(z,P.sibling),nt=m(P,H.props),Bu(nt,H),nt.return=z,z=nt;break t}o(z,P);break}else r(z,P);P=P.sibling}H.type===U?(nt=Ia(H.props.children,z.mode,nt,H.key),nt.return=z,z=nt):(nt=ff(H.type,H.key,H.props,null,z.mode,nt),Bu(nt,H),nt.return=z,z=nt)}return T(z);case N:t:{for(bt=H.key;P!==null;){if(P.key===bt)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){o(z,P.sibling),nt=m(P,H.children||[]),nt.return=z,z=nt;break t}else{o(z,P);break}else r(z,P);P=P.sibling}nt=Sp(H,z.mode,nt),nt.return=z,z=nt}return T(z);case A:return H=Va(H),ae(z,P,H,nt)}if(Xt(H))return gt(z,P,H,nt);if(k(H)){if(bt=k(H),typeof bt!="function")throw Error(i(150));return H=bt.call(H),St(z,P,H,nt)}if(typeof H.then=="function")return ae(z,P,vf(H),nt);if(H.$$typeof===j)return ae(z,P,pf(z,H),nt);Tf(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(o(z,P.sibling),nt=m(P,H),nt.return=z,z=nt):(o(z,P),nt=bp(H,z.mode,nt),nt.return=z,z=nt),T(z)):o(z,P)}return function(z,P,H,nt){try{Uu=0;var bt=ae(z,P,H,nt);return jo=null,bt}catch(Tt){if(Tt===zo||Tt===yf)throw Tt;var Kt=kn(29,Tt,null,z.mode);return Kt.lanes=nt,Kt.return=z,Kt}}}var Na=AT(!0),wT=AT(!1),ar=!1;function Op(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kp(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function or(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function lr(s,r,o){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(Qt&2)!==0){var m=c.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),c.pending=r,r=hf(s),lT(s,null,o),r}return cf(s,c,r,o),hf(s)}function zu(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=s.pendingLanes,o|=c,r.lanes=o,du(s,o)}}function Lp(s,r){var o=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?m=g=r:g=g.next=r}else m=g=r;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var Up=!1;function ju(){if(Up){var s=Bo;if(s!==null)throw s}}function Fu(s,r,o,c){Up=!1;var m=s.updateQueue;ar=!1;var g=m.firstBaseUpdate,T=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var D=S,G=D.next;D.next=null,T===null?g=G:T.next=G,T=D;var et=s.alternate;et!==null&&(et=et.updateQueue,S=et.lastBaseUpdate,S!==T&&(S===null?et.firstBaseUpdate=G:S.next=G,et.lastBaseUpdate=D))}if(g!==null){var it=m.baseState;T=0,et=G=D=null,S=g;do{var K=S.lane&-536870913,X=K!==S.lane;if(X?(Lt&K)===K:(c&K)===K){K!==0&&K===Uo&&(Up=!0),et!==null&&(et=et.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var gt=s,St=S;K=r;var ae=o;switch(St.tag){case 1:if(gt=St.payload,typeof gt=="function"){it=gt.call(ae,it,K);break t}it=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=St.payload,K=typeof gt=="function"?gt.call(ae,it,K):gt,K==null)break t;it=v({},it,K);break t;case 2:ar=!0}}K=S.callback,K!==null&&(s.flags|=64,X&&(s.flags|=8192),X=m.callbacks,X===null?m.callbacks=[K]:X.push(K))}else X={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},et===null?(G=et=X,D=it):et=et.next=X,T|=K;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;X=S,S=X.next,X.next=null,m.lastBaseUpdate=X,m.shared.pending=null}}while(!0);et===null&&(D=it),m.baseState=D,m.firstBaseUpdate=G,m.lastBaseUpdate=et,g===null&&(m.shared.lanes=0),dr|=T,s.lanes=T,s.memoizedState=it}}function IT(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function RT(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)IT(o[s],r)}var Fo=O(null),Ef=O(0);function xT(s,r){s=As,ft(Ef,s),ft(Fo,r),As=s|r.baseLanes}function Bp(){ft(Ef,As),ft(Fo,Fo.current)}function zp(){As=Ef.current,st(Fo),st(Ef)}var Ln=O(null),ii=null;function ur(s){var r=s.alternate;ft(Ae,Ae.current&1),ft(Ln,s),ii===null&&(r===null||Fo.current!==null||r.memoizedState!==null)&&(ii=s)}function jp(s){ft(Ae,Ae.current),ft(Ln,s),ii===null&&(ii=s)}function CT(s){s.tag===22?(ft(Ae,Ae.current),ft(Ln,s),ii===null&&(ii=s)):cr()}function cr(){ft(Ae,Ae.current),ft(Ln,Ln.current)}function Un(s){st(Ln),ii===s&&(ii=null),st(Ae)}var Ae=O(0);function bf(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||$g(o)||Yg(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var gs=0,Ct=null,se=null,ke=null,Sf=!1,qo=!1,Pa=!1,Af=0,qu=0,Ho=null,gV=0;function ve(){throw Error(i(321))}function Fp(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!On(s[o],r[o]))return!1;return!0}function qp(s,r,o,c,m,g){return gs=g,Ct=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,tt.H=s===null||s.memoizedState===null?fE:sg,Pa=!1,g=o(c,m),Pa=!1,qo&&(g=VT(r,o,c,m)),DT(s),g}function DT(s){tt.H=Ku;var r=se!==null&&se.next!==null;if(gs=0,ke=se=Ct=null,Sf=!1,qu=0,Ho=null,r)throw Error(i(300));s===null||Le||(s=s.dependencies,s!==null&&mf(s)&&(Le=!0))}function VT(s,r,o,c){Ct=s;var m=0;do{if(qo&&(Ho=null),qu=0,qo=!1,25<=m)throw Error(i(301));if(m+=1,ke=se=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}tt.H=dE,g=r(o,c)}while(qo);return g}function yV(){var s=tt.H,r=s.useState()[0];return r=typeof r.then=="function"?Hu(r):r,s=s.useState()[0],(se!==null?se.memoizedState:null)!==s&&(Ct.flags|=1024),r}function Hp(){var s=Af!==0;return Af=0,s}function Gp(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function Kp(s){if(Sf){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Sf=!1}gs=0,ke=se=Ct=null,qo=!1,qu=Af=0,Ho=null}function vn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?Ct.memoizedState=ke=s:ke=ke.next=s,ke}function we(){if(se===null){var s=Ct.alternate;s=s!==null?s.memoizedState:null}else s=se.next;var r=ke===null?Ct.memoizedState:ke.next;if(r!==null)ke=r,se=s;else{if(s===null)throw Ct.alternate===null?Error(i(467)):Error(i(310));se=s,s={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},ke===null?Ct.memoizedState=ke=s:ke=ke.next=s}return ke}function wf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hu(s){var r=qu;return qu+=1,Ho===null&&(Ho=[]),s=ET(Ho,s,r),r=Ct,(ke===null?r.memoizedState:ke.next)===null&&(r=r.alternate,tt.H=r===null||r.memoizedState===null?fE:sg),s}function If(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Hu(s);if(s.$$typeof===j)return rn(s)}throw Error(i(438,String(s)))}function $p(s){var r=null,o=Ct.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Ct.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=wf(),Ct.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),c=0;c<s;c++)o[c]=M;return r.index++,o}function ys(s,r){return typeof r=="function"?r(s):r}function Rf(s){var r=we();return Yp(r,se,s)}function Yp(s,r,o){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var m=s.baseQueue,g=c.pending;if(g!==null){if(m!==null){var T=m.next;m.next=g.next,g.next=T}r.baseQueue=m=g,c.pending=null}if(g=s.baseState,m===null)s.memoizedState=g;else{r=m.next;var S=T=null,D=null,G=r,et=!1;do{var it=G.lane&-536870913;if(it!==G.lane?(Lt&it)===it:(gs&it)===it){var K=G.revertLane;if(K===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),it===Uo&&(et=!0);else if((gs&K)===K){G=G.next,K===Uo&&(et=!0);continue}else it={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(S=D=it,T=g):D=D.next=it,Ct.lanes|=K,dr|=K;it=G.action,Pa&&o(g,it),g=G.hasEagerState?G.eagerState:o(g,it)}else K={lane:it,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(S=D=K,T=g):D=D.next=K,Ct.lanes|=it,dr|=it;G=G.next}while(G!==null&&G!==r);if(D===null?T=g:D.next=S,!On(g,s.memoizedState)&&(Le=!0,et&&(o=Bo,o!==null)))throw o;s.memoizedState=g,s.baseState=T,s.baseQueue=D,c.lastRenderedState=g}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function Qp(s){var r=we(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var c=o.dispatch,m=o.pending,g=r.memoizedState;if(m!==null){o.pending=null;var T=m=m.next;do g=s(g,T.action),T=T.next;while(T!==m);On(g,r.memoizedState)||(Le=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function MT(s,r,o){var c=Ct,m=we(),g=jt;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=r();var T=!On((se||m).memoizedState,o);if(T&&(m.memoizedState=o,Le=!0),m=m.queue,Jp(OT.bind(null,c,m,s),[s]),m.getSnapshot!==r||T||ke!==null&&ke.memoizedState.tag&1){if(c.flags|=2048,Go(9,{destroy:void 0},PT.bind(null,c,m,o,r),null),oe===null)throw Error(i(349));g||(gs&127)!==0||NT(c,r,o)}return o}function NT(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Ct.updateQueue,r===null?(r=wf(),Ct.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function PT(s,r,o,c){r.value=o,r.getSnapshot=c,kT(r)&&LT(s)}function OT(s,r,o){return o(function(){kT(r)&&LT(s)})}function kT(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!On(s,o)}catch{return!0}}function LT(s){var r=wa(s,2);r!==null&&xn(r,s,2)}function Xp(s){var r=vn();if(typeof s=="function"){var o=s;if(s=o(),Pa){$n(!0);try{o()}finally{$n(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:s},r}function UT(s,r,o,c){return s.baseState=o,Yp(s,se,typeof c=="function"?c:ys)}function _V(s,r,o,c,m){if(Df(s))throw Error(i(485));if(s=r.action,s!==null){var g={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};tt.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,BT(r,g)):(g.next=o.next,r.pending=o.next=g)}}function BT(s,r){var o=r.action,c=r.payload,m=s.state;if(r.isTransition){var g=tt.T,T={};tt.T=T;try{var S=o(m,c),D=tt.S;D!==null&&D(T,S),zT(s,r,S)}catch(G){Wp(s,r,G)}finally{g!==null&&T.types!==null&&(g.types=T.types),tt.T=g}}else try{g=o(m,c),zT(s,r,g)}catch(G){Wp(s,r,G)}}function zT(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){jT(s,r,c)},function(c){return Wp(s,r,c)}):jT(s,r,o)}function jT(s,r,o){r.status="fulfilled",r.value=o,FT(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,BT(s,o)))}function Wp(s,r,o){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,FT(r),r=r.next;while(r!==c)}s.action=null}function FT(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function qT(s,r){return r}function HT(s,r){if(jt){var o=oe.formState;if(o!==null){t:{var c=Ct;if(jt){if(ue){e:{for(var m=ue,g=ni;m.nodeType!==8;){if(!g){m=null;break e}if(m=si(m.nextSibling),m===null){m=null;break e}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){ue=si(m.nextSibling),c=m.data==="F!";break t}}sr(c)}c=!1}c&&(r=o[0])}}return o=vn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qT,lastRenderedState:r},o.queue=c,o=uE.bind(null,Ct,c),c.dispatch=o,c=Xp(!1),g=ig.bind(null,Ct,!1,c.queue),c=vn(),m={state:r,dispatch:null,action:s,pending:null},c.queue=m,o=_V.bind(null,Ct,m,g,o),m.dispatch=o,c.memoizedState=s,[r,o,!1]}function GT(s){var r=we();return KT(r,se,s)}function KT(s,r,o){if(r=Yp(s,r,qT)[0],s=Rf(ys)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Hu(r)}catch(T){throw T===zo?yf:T}else c=r;r=we();var m=r.queue,g=m.dispatch;return o!==r.memoizedState&&(Ct.flags|=2048,Go(9,{destroy:void 0},vV.bind(null,m,o),null)),[c,g,s]}function vV(s,r){s.action=r}function $T(s){var r=we(),o=se;if(o!==null)return KT(r,o,s);we(),r=r.memoizedState,o=we();var c=o.queue.dispatch;return o.memoizedState=s,[r,c,!1]}function Go(s,r,o,c){return s={tag:s,create:o,deps:c,inst:r,next:null},r=Ct.updateQueue,r===null&&(r=wf(),Ct.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(c=o.next,o.next=s,s.next=c,r.lastEffect=s),s}function YT(){return we().memoizedState}function xf(s,r,o,c){var m=vn();Ct.flags|=s,m.memoizedState=Go(1|r,{destroy:void 0},o,c===void 0?null:c)}function Cf(s,r,o,c){var m=we();c=c===void 0?null:c;var g=m.memoizedState.inst;se!==null&&c!==null&&Fp(c,se.memoizedState.deps)?m.memoizedState=Go(r,g,o,c):(Ct.flags|=s,m.memoizedState=Go(1|r,g,o,c))}function QT(s,r){xf(8390656,8,s,r)}function Jp(s,r){Cf(2048,8,s,r)}function TV(s){Ct.flags|=4;var r=Ct.updateQueue;if(r===null)r=wf(),Ct.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function XT(s){var r=we().memoizedState;return TV({ref:r,nextImpl:s}),function(){if((Qt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function WT(s,r){return Cf(4,2,s,r)}function JT(s,r){return Cf(4,4,s,r)}function ZT(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function tE(s,r,o){o=o!=null?o.concat([s]):null,Cf(4,4,ZT.bind(null,r,s),o)}function Zp(){}function eE(s,r){var o=we();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Fp(r,c[1])?c[0]:(o.memoizedState=[s,r],s)}function nE(s,r){var o=we();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Fp(r,c[1]))return c[0];if(c=s(),Pa){$n(!0);try{s()}finally{$n(!1)}}return o.memoizedState=[c,r],c}function tg(s,r,o){return o===void 0||(gs&1073741824)!==0&&(Lt&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=ib(),Ct.lanes|=s,dr|=s,o)}function iE(s,r,o,c){return On(o,r)?o:Fo.current!==null?(s=tg(s,o,c),On(s,r)||(Le=!0),s):(gs&42)===0||(gs&1073741824)!==0&&(Lt&261930)===0?(Le=!0,s.memoizedState=o):(s=ib(),Ct.lanes|=s,dr|=s,r)}function sE(s,r,o,c,m){var g=lt.p;lt.p=g!==0&&8>g?g:8;var T=tt.T,S={};tt.T=S,ig(s,!1,r,o);try{var D=m(),G=tt.S;if(G!==null&&G(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var et=pV(D,c);Gu(s,r,et,jn(s))}else Gu(s,r,c,jn(s))}catch(it){Gu(s,r,{then:function(){},status:"rejected",reason:it},jn())}finally{lt.p=g,T!==null&&S.types!==null&&(T.types=S.types),tt.T=T}}function EV(){}function eg(s,r,o,c){if(s.tag!==5)throw Error(i(476));var m=rE(s).queue;sE(s,m,r,mt,o===null?EV:function(){return aE(s),o(c)})}function rE(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:mt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function aE(s){var r=rE(s);r.next===null&&(r=s.alternate.memoizedState),Gu(s,r.next.queue,{},jn())}function ng(){return rn(lc)}function oE(){return we().memoizedState}function lE(){return we().memoizedState}function bV(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=jn();s=or(o);var c=lr(r,s,o);c!==null&&(xn(c,r,o),zu(c,r,o)),r={cache:Vp()},s.payload=r;return}r=r.return}}function SV(s,r,o){var c=jn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Df(s)?cE(r,o):(o=Tp(s,r,o,c),o!==null&&(xn(o,s,c),hE(o,r,c)))}function uE(s,r,o){var c=jn();Gu(s,r,o,c)}function Gu(s,r,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Df(s))cE(r,m);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,S=g(T,o);if(m.hasEagerState=!0,m.eagerState=S,On(S,T))return cf(s,r,m,0),oe===null&&uf(),!1}catch{}if(o=Tp(s,r,m,c),o!==null)return xn(o,s,c),hE(o,r,c),!0}return!1}function ig(s,r,o,c){if(c={lane:2,revertLane:Og(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Df(s)){if(r)throw Error(i(479))}else r=Tp(s,o,c,2),r!==null&&xn(r,s,2)}function Df(s){var r=s.alternate;return s===Ct||r!==null&&r===Ct}function cE(s,r){qo=Sf=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function hE(s,r,o){if((o&4194048)!==0){var c=r.lanes;c&=s.pendingLanes,o|=c,r.lanes=o,du(s,o)}}var Ku={readContext:rn,use:If,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve};Ku.useEffectEvent=ve;var fE={readContext:rn,use:If,useCallback:function(s,r){return vn().memoizedState=[s,r===void 0?null:r],s},useContext:rn,useEffect:QT,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,xf(4194308,4,ZT.bind(null,r,s),o)},useLayoutEffect:function(s,r){return xf(4194308,4,s,r)},useInsertionEffect:function(s,r){xf(4,2,s,r)},useMemo:function(s,r){var o=vn();r=r===void 0?null:r;var c=s();if(Pa){$n(!0);try{s()}finally{$n(!1)}}return o.memoizedState=[c,r],c},useReducer:function(s,r,o){var c=vn();if(o!==void 0){var m=o(r);if(Pa){$n(!0);try{o(r)}finally{$n(!1)}}}else m=r;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=SV.bind(null,Ct,s),[c.memoizedState,s]},useRef:function(s){var r=vn();return s={current:s},r.memoizedState=s},useState:function(s){s=Xp(s);var r=s.queue,o=uE.bind(null,Ct,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:Zp,useDeferredValue:function(s,r){var o=vn();return tg(o,s,r)},useTransition:function(){var s=Xp(!1);return s=sE.bind(null,Ct,s.queue,!0,!1),vn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var c=Ct,m=vn();if(jt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),oe===null)throw Error(i(349));(Lt&127)!==0||NT(c,r,o)}m.memoizedState=o;var g={value:o,getSnapshot:r};return m.queue=g,QT(OT.bind(null,c,g,s),[s]),c.flags|=2048,Go(9,{destroy:void 0},PT.bind(null,c,g,o,r),null),o},useId:function(){var s=vn(),r=oe.identifierPrefix;if(jt){var o=$i,c=Ki;o=(c&~(1<<32-be(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Af++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=gV++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:ng,useFormState:HT,useActionState:HT,useOptimistic:function(s){var r=vn();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=ig.bind(null,Ct,!0,o),o.dispatch=r,[s,r]},useMemoCache:$p,useCacheRefresh:function(){return vn().memoizedState=bV.bind(null,Ct)},useEffectEvent:function(s){var r=vn(),o={impl:s};return r.memoizedState=o,function(){if((Qt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},sg={readContext:rn,use:If,useCallback:eE,useContext:rn,useEffect:Jp,useImperativeHandle:tE,useInsertionEffect:WT,useLayoutEffect:JT,useMemo:nE,useReducer:Rf,useRef:YT,useState:function(){return Rf(ys)},useDebugValue:Zp,useDeferredValue:function(s,r){var o=we();return iE(o,se.memoizedState,s,r)},useTransition:function(){var s=Rf(ys)[0],r=we().memoizedState;return[typeof s=="boolean"?s:Hu(s),r]},useSyncExternalStore:MT,useId:oE,useHostTransitionStatus:ng,useFormState:GT,useActionState:GT,useOptimistic:function(s,r){var o=we();return UT(o,se,s,r)},useMemoCache:$p,useCacheRefresh:lE};sg.useEffectEvent=XT;var dE={readContext:rn,use:If,useCallback:eE,useContext:rn,useEffect:Jp,useImperativeHandle:tE,useInsertionEffect:WT,useLayoutEffect:JT,useMemo:nE,useReducer:Qp,useRef:YT,useState:function(){return Qp(ys)},useDebugValue:Zp,useDeferredValue:function(s,r){var o=we();return se===null?tg(o,s,r):iE(o,se.memoizedState,s,r)},useTransition:function(){var s=Qp(ys)[0],r=we().memoizedState;return[typeof s=="boolean"?s:Hu(s),r]},useSyncExternalStore:MT,useId:oE,useHostTransitionStatus:ng,useFormState:$T,useActionState:$T,useOptimistic:function(s,r){var o=we();return se!==null?UT(o,se,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:$p,useCacheRefresh:lE};dE.useEffectEvent=XT;function rg(s,r,o,c){r=s.memoizedState,o=o(c,r),o=o==null?r:v({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var ag={enqueueSetState:function(s,r,o){s=s._reactInternals;var c=jn(),m=or(c);m.payload=r,o!=null&&(m.callback=o),r=lr(s,m,c),r!==null&&(xn(r,s,c),zu(r,s,c))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var c=jn(),m=or(c);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=lr(s,m,c),r!==null&&(xn(r,s,c),zu(r,s,c))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=jn(),c=or(o);c.tag=2,r!=null&&(c.callback=r),r=lr(s,c,o),r!==null&&(xn(r,s,o),zu(r,s,o))}};function mE(s,r,o,c,m,g,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,g,T):r.prototype&&r.prototype.isPureReactComponent?!Mu(o,c)||!Mu(m,g):!0}function pE(s,r,o,c){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==s&&ag.enqueueReplaceState(r,r.state,null)}function Oa(s,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(s=s.defaultProps){o===r&&(o=v({},o));for(var m in s)o[m]===void 0&&(o[m]=s[m])}return o}function gE(s){lf(s)}function yE(s){console.error(s)}function _E(s){lf(s)}function Vf(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function vE(s,r,o){try{var c=s.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function og(s,r,o){return o=or(o),o.tag=3,o.payload={element:null},o.callback=function(){Vf(s,r)},o}function TE(s){return s=or(s),s.tag=3,s}function EE(s,r,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;s.payload=function(){return m(g)},s.callback=function(){vE(r,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){vE(r,o,c),typeof m!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function AV(s,r,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Lo(r,o,m,!0),o=Ln.current,o!==null){switch(o.tag){case 31:case 13:return ii===null?qf():o.alternate===null&&Te===0&&(Te=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===_f?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),Mg(s,c,m)),!1;case 22:return o.flags|=65536,c===_f?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),Mg(s,c,m)),!1}throw Error(i(435,o.tag))}return Mg(s,c,m),qf(),!1}if(jt)return r=Ln.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,c!==Ip&&(s=Error(i(422),{cause:c}),Ou(Zn(s,o)))):(c!==Ip&&(r=Error(i(423),{cause:c}),Ou(Zn(r,o))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=Zn(c,o),m=og(s.stateNode,c,m),Lp(s,m),Te!==4&&(Te=2)),!1;var g=Error(i(520),{cause:c});if(g=Zn(g,o),tc===null?tc=[g]:tc.push(g),Te!==4&&(Te=2),r===null)return!0;c=Zn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=m&-m,o.lanes|=s,s=og(o.stateNode,c,s),Lp(o,s),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(mr===null||!mr.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=TE(m),EE(m,s,o,c),Lp(o,m),!1}o=o.return}while(o!==null);return!1}var lg=Error(i(461)),Le=!1;function an(s,r,o,c){r.child=s===null?wT(r,null,o,c):Na(r,s.child,o,c)}function bE(s,r,o,c,m){o=o.render;var g=r.ref;if("ref"in c){var T={};for(var S in c)S!=="ref"&&(T[S]=c[S])}else T=c;return Ca(r),c=qp(s,r,o,T,g,m),S=Hp(),s!==null&&!Le?(Gp(s,r,m),_s(s,r,m)):(jt&&S&&Ap(r),r.flags|=1,an(s,r,c,m),r.child)}function SE(s,r,o,c,m){if(s===null){var g=o.type;return typeof g=="function"&&!Ep(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,AE(s,r,g,c,m)):(s=ff(o.type,null,c,r,r.mode,m),s.ref=r.ref,s.return=r,r.child=s)}if(g=s.child,!gg(s,m)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Mu,o(T,c)&&s.ref===r.ref)return _s(s,r,m)}return r.flags|=1,s=fs(g,c),s.ref=r.ref,s.return=r,r.child=s}function AE(s,r,o,c,m){if(s!==null){var g=s.memoizedProps;if(Mu(g,c)&&s.ref===r.ref)if(Le=!1,r.pendingProps=c=g,gg(s,m))(s.flags&131072)!==0&&(Le=!0);else return r.lanes=s.lanes,_s(s,r,m)}return ug(s,r,o,c,m)}function wE(s,r,o,c){var m=c.children,g=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,s!==null){for(c=r.child=s.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,r.child=null;return IE(s,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&gf(r,g!==null?g.cachePool:null),g!==null?xT(r,g):Bp(),CT(r);else return c=r.lanes=536870912,IE(s,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(gf(r,g.cachePool),xT(r,g),cr(),r.memoizedState=null):(s!==null&&gf(r,null),Bp(),cr());return an(s,r,m,o),r.child}function $u(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function IE(s,r,o,c,m){var g=Np();return g=g===null?null:{parent:Oe._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},s!==null&&gf(r,null),Bp(),CT(r),s!==null&&Lo(s,r,c,!0),r.childLanes=m,null}function Mf(s,r){return r=Pf({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function RE(s,r,o){return Na(r,s.child,null,o),s=Mf(r,r.pendingProps),s.flags|=2,Un(r),r.memoizedState=null,s}function wV(s,r,o){var c=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(jt){if(c.mode==="hidden")return s=Mf(r,c),r.lanes=536870912,$u(null,s);if(jp(r),(s=ue)?(s=Bb(s,ni),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:nr!==null?{id:Ki,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},o=cT(s),o.return=r,r.child=o,sn=r,ue=null)):s=null,s===null)throw sr(r);return r.lanes=536870912,null}return Mf(r,c)}var g=s.memoizedState;if(g!==null){var T=g.dehydrated;if(jp(r),m)if(r.flags&256)r.flags&=-257,r=RE(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Le||Lo(s,r,o,!1),m=(o&s.childLanes)!==0,Le||m){if(c=oe,c!==null&&(T=mu(c,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,wa(s,T),xn(c,s,T),lg;qf(),r=RE(s,r,o)}else s=g.treeContext,ue=si(T.nextSibling),sn=r,jt=!0,ir=null,ni=!1,s!==null&&dT(r,s),r=Mf(r,c),r.flags|=4096;return r}return s=fs(s.child,{mode:c.mode,children:c.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Nf(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function ug(s,r,o,c,m){return Ca(r),o=qp(s,r,o,c,void 0,m),c=Hp(),s!==null&&!Le?(Gp(s,r,m),_s(s,r,m)):(jt&&c&&Ap(r),r.flags|=1,an(s,r,o,m),r.child)}function xE(s,r,o,c,m,g){return Ca(r),r.updateQueue=null,o=VT(r,c,o,m),DT(s),c=Hp(),s!==null&&!Le?(Gp(s,r,g),_s(s,r,g)):(jt&&c&&Ap(r),r.flags|=1,an(s,r,o,g),r.child)}function CE(s,r,o,c,m){if(Ca(r),r.stateNode===null){var g=No,T=o.contextType;typeof T=="object"&&T!==null&&(g=rn(T)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ag,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},Op(r),T=o.contextType,g.context=typeof T=="object"&&T!==null?rn(T):No,g.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(rg(r,o,T,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&ag.enqueueReplaceState(g,g.state,null),Fu(r,c,g,m),ju(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(s===null){g=r.stateNode;var S=r.memoizedProps,D=Oa(o,S);g.props=D;var G=g.context,et=o.contextType;T=No,typeof et=="object"&&et!==null&&(T=rn(et));var it=o.getDerivedStateFromProps;et=typeof it=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,et||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||G!==T)&&pE(r,g,c,T),ar=!1;var K=r.memoizedState;g.state=K,Fu(r,c,g,m),ju(),G=r.memoizedState,S||K!==G||ar?(typeof it=="function"&&(rg(r,o,it,c),G=r.memoizedState),(D=ar||mE(r,o,D,c,K,G,T))?(et||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=G),g.props=c,g.state=G,g.context=T,c=D):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,kp(s,r),T=r.memoizedProps,et=Oa(o,T),g.props=et,it=r.pendingProps,K=g.context,G=o.contextType,D=No,typeof G=="object"&&G!==null&&(D=rn(G)),S=o.getDerivedStateFromProps,(G=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==it||K!==D)&&pE(r,g,c,D),ar=!1,K=r.memoizedState,g.state=K,Fu(r,c,g,m),ju();var X=r.memoizedState;T!==it||K!==X||ar||s!==null&&s.dependencies!==null&&mf(s.dependencies)?(typeof S=="function"&&(rg(r,o,S,c),X=r.memoizedState),(et=ar||mE(r,o,et,c,K,X,D)||s!==null&&s.dependencies!==null&&mf(s.dependencies))?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,X,D),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,X,D)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===s.memoizedProps&&K===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&K===s.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=X),g.props=c,g.state=X,g.context=D,c=et):(typeof g.componentDidUpdate!="function"||T===s.memoizedProps&&K===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&K===s.memoizedState||(r.flags|=1024),c=!1)}return g=c,Nf(s,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,s!==null&&c?(r.child=Na(r,s.child,null,m),r.child=Na(r,null,o,m)):an(s,r,o,m),r.memoizedState=g.state,s=r.child):s=_s(s,r,m),s}function DE(s,r,o,c){return Ra(),r.flags|=256,an(s,r,o,c),r.child}var cg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hg(s){return{baseLanes:s,cachePool:vT()}}function fg(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=zn),s}function VE(s,r,o){var c=r.pendingProps,m=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=s!==null&&s.memoizedState===null?!1:(Ae.current&2)!==0),T&&(m=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,s===null){if(jt){if(m?ur(r):cr(),(s=ue)?(s=Bb(s,ni),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:nr!==null?{id:Ki,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},o=cT(s),o.return=r,r.child=o,sn=r,ue=null)):s=null,s===null)throw sr(r);return Yg(s)?r.lanes=32:r.lanes=536870912,null}var S=c.children;return c=c.fallback,m?(cr(),m=r.mode,S=Pf({mode:"hidden",children:S},m),c=Ia(c,m,o,null),S.return=r,c.return=r,S.sibling=c,r.child=S,c=r.child,c.memoizedState=hg(o),c.childLanes=fg(s,T,o),r.memoizedState=cg,$u(null,c)):(ur(r),dg(r,S))}var D=s.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(g)r.flags&256?(ur(r),r.flags&=-257,r=mg(s,r,o)):r.memoizedState!==null?(cr(),r.child=s.child,r.flags|=128,r=null):(cr(),S=c.fallback,m=r.mode,c=Pf({mode:"visible",children:c.children},m),S=Ia(S,m,o,null),S.flags|=2,c.return=r,S.return=r,c.sibling=S,r.child=c,Na(r,s.child,null,o),c=r.child,c.memoizedState=hg(o),c.childLanes=fg(s,T,o),r.memoizedState=cg,r=$u(null,c));else if(ur(r),Yg(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var G=T.dgst;T=G,c=Error(i(419)),c.stack="",c.digest=T,Ou({value:c,source:null,stack:null}),r=mg(s,r,o)}else if(Le||Lo(s,r,o,!1),T=(o&s.childLanes)!==0,Le||T){if(T=oe,T!==null&&(c=mu(T,o),c!==0&&c!==D.retryLane))throw D.retryLane=c,wa(s,c),xn(T,s,c),lg;$g(S)||qf(),r=mg(s,r,o)}else $g(S)?(r.flags|=192,r.child=s.child,r=null):(s=D.treeContext,ue=si(S.nextSibling),sn=r,jt=!0,ir=null,ni=!1,s!==null&&dT(r,s),r=dg(r,c.children),r.flags|=4096);return r}return m?(cr(),S=c.fallback,m=r.mode,D=s.child,G=D.sibling,c=fs(D,{mode:"hidden",children:c.children}),c.subtreeFlags=D.subtreeFlags&65011712,G!==null?S=fs(G,S):(S=Ia(S,m,o,null),S.flags|=2),S.return=r,c.return=r,c.sibling=S,r.child=c,$u(null,c),c=r.child,S=s.child.memoizedState,S===null?S=hg(o):(m=S.cachePool,m!==null?(D=Oe._currentValue,m=m.parent!==D?{parent:D,pool:D}:m):m=vT(),S={baseLanes:S.baseLanes|o,cachePool:m}),c.memoizedState=S,c.childLanes=fg(s,T,o),r.memoizedState=cg,$u(s.child,c)):(ur(r),o=s.child,s=o.sibling,o=fs(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,s!==null&&(T=r.deletions,T===null?(r.deletions=[s],r.flags|=16):T.push(s)),r.child=o,r.memoizedState=null,o)}function dg(s,r){return r=Pf({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Pf(s,r){return s=kn(22,s,null,r),s.lanes=0,s}function mg(s,r,o){return Na(r,s.child,null,o),s=dg(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function ME(s,r,o){s.lanes|=r;var c=s.alternate;c!==null&&(c.lanes|=r),Cp(s.return,r,o)}function pg(s,r,o,c,m,g){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=m,T.treeForkCount=g)}function NE(s,r,o){var c=r.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var T=Ae.current,S=(T&2)!==0;if(S?(T=T&1|2,r.flags|=128):T&=1,ft(Ae,T),an(s,r,c,o),c=jt?Pu:0,!S&&s!==null&&(s.flags&128)!==0)t:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&ME(s,o,r);else if(s.tag===19)ME(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)s=o.alternate,s!==null&&bf(s)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),pg(r,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(s=m.alternate,s!==null&&bf(s)===null){r.child=m;break}s=m.sibling,m.sibling=o,o=m,m=s}pg(r,!0,o,null,g,c);break;case"together":pg(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function _s(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),dr|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(Lo(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=fs(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=fs(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function gg(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&mf(s)))}function IV(s,r,o){switch(r.tag){case 3:Fe(r,r.stateNode.containerInfo),rr(r,Oe,s.memoizedState.cache),Ra();break;case 27:case 5:oa(r);break;case 4:Fe(r,r.stateNode.containerInfo);break;case 10:rr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,jp(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(ur(r),r.flags|=128,null):(o&r.child.childLanes)!==0?VE(s,r,o):(ur(r),s=_s(s,r,o),s!==null?s.sibling:null);ur(r);break;case 19:var m=(s.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Lo(s,r,o,!1),c=(o&r.childLanes)!==0),m){if(c)return NE(s,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ft(Ae,Ae.current),c)break;return null;case 22:return r.lanes=0,wE(s,r,o,r.pendingProps);case 24:rr(r,Oe,s.memoizedState.cache)}return _s(s,r,o)}function PE(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)Le=!0;else{if(!gg(s,o)&&(r.flags&128)===0)return Le=!1,IV(s,r,o);Le=(s.flags&131072)!==0}else Le=!1,jt&&(r.flags&1048576)!==0&&fT(r,Pu,r.index);switch(r.lanes=0,r.tag){case 16:t:{var c=r.pendingProps;if(s=Va(r.elementType),r.type=s,typeof s=="function")Ep(s)?(c=Oa(s,c),r.tag=1,r=CE(null,r,s,c,o)):(r.tag=0,r=ug(null,r,s,c,o));else{if(s!=null){var m=s.$$typeof;if(m===Y){r.tag=11,r=bE(null,r,s,c,o);break t}else if(m===R){r.tag=14,r=SE(null,r,s,c,o);break t}}throw r=Gt(s)||s,Error(i(306,r,""))}}return r;case 0:return ug(s,r,r.type,r.pendingProps,o);case 1:return c=r.type,m=Oa(c,r.pendingProps),CE(s,r,c,m,o);case 3:t:{if(Fe(r,r.stateNode.containerInfo),s===null)throw Error(i(387));c=r.pendingProps;var g=r.memoizedState;m=g.element,kp(s,r),Fu(r,c,null,o);var T=r.memoizedState;if(c=T.cache,rr(r,Oe,c),c!==g.cache&&Dp(r,[Oe],o,!0),ju(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=DE(s,r,c,o);break t}else if(c!==m){m=Zn(Error(i(424)),r),Ou(m),r=DE(s,r,c,o);break t}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,ue=si(s.firstChild),sn=r,jt=!0,ir=null,ni=!0,o=wT(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ra(),c===m){r=_s(s,r,o);break t}an(s,r,c,o)}r=r.child}return r;case 26:return Nf(s,r),s===null?(o=Gb(r.type,null,r.pendingProps,null))?r.memoizedState=o:jt||(o=r.type,s=r.pendingProps,c=Xf(Vt.current).createElement(o),c[Me]=r,c[Xe]=s,on(c,o,s),Ne(c),r.stateNode=c):r.memoizedState=Gb(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return oa(r),s===null&&jt&&(c=r.stateNode=Fb(r.type,r.pendingProps,Vt.current),sn=r,ni=!0,m=ue,_r(r.type)?(Qg=m,ue=si(c.firstChild)):ue=m),an(s,r,r.pendingProps.children,o),Nf(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&jt&&((m=c=ue)&&(c=n2(c,r.type,r.pendingProps,ni),c!==null?(r.stateNode=c,sn=r,ue=si(c.firstChild),ni=!1,m=!0):m=!1),m||sr(r)),oa(r),m=r.type,g=r.pendingProps,T=s!==null?s.memoizedProps:null,c=g.children,Hg(m,g)?c=null:T!==null&&Hg(m,T)&&(r.flags|=32),r.memoizedState!==null&&(m=qp(s,r,yV,null,null,o),lc._currentValue=m),Nf(s,r),an(s,r,c,o),r.child;case 6:return s===null&&jt&&((s=o=ue)&&(o=i2(o,r.pendingProps,ni),o!==null?(r.stateNode=o,sn=r,ue=null,s=!0):s=!1),s||sr(r)),null;case 13:return VE(s,r,o);case 4:return Fe(r,r.stateNode.containerInfo),c=r.pendingProps,s===null?r.child=Na(r,null,c,o):an(s,r,c,o),r.child;case 11:return bE(s,r,r.type,r.pendingProps,o);case 7:return an(s,r,r.pendingProps,o),r.child;case 8:return an(s,r,r.pendingProps.children,o),r.child;case 12:return an(s,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,rr(r,r.type,c.value),an(s,r,c.children,o),r.child;case 9:return m=r.type._context,c=r.pendingProps.children,Ca(r),m=rn(m),c=c(m),r.flags|=1,an(s,r,c,o),r.child;case 14:return SE(s,r,r.type,r.pendingProps,o);case 15:return AE(s,r,r.type,r.pendingProps,o);case 19:return NE(s,r,o);case 31:return wV(s,r,o);case 22:return wE(s,r,o,r.pendingProps);case 24:return Ca(r),c=rn(Oe),s===null?(m=Np(),m===null&&(m=oe,g=Vp(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),r.memoizedState={parent:c,cache:m},Op(r),rr(r,Oe,m)):((s.lanes&o)!==0&&(kp(s,r),Fu(r,null,null,o),ju()),m=s.memoizedState,g=r.memoizedState,m.parent!==c?(m={parent:c,cache:c},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),rr(r,Oe,c)):(c=g.cache,rr(r,Oe,c),c!==m.cache&&Dp(r,[Oe],o,!0))),an(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function vs(s){s.flags|=4}function yg(s,r,o,c,m){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(ob())s.flags|=8192;else throw Ma=_f,Pp}else s.flags&=-16777217}function OE(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Xb(r))if(ob())s.flags|=8192;else throw Ma=_f,Pp}function Of(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?zh():536870912,s.lanes|=r,Qo|=r)}function Yu(s,r){if(!jt)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function ce(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,c=0;if(r)for(var m=s.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=o,r}function RV(s,r,o){var c=r.pendingProps;switch(wp(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(r),null;case 1:return ce(r),null;case 3:return o=r.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),ps(Oe),fe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(ko(r)?vs(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Rp())),ce(r),null;case 26:var m=r.type,g=r.memoizedState;return s===null?(vs(r),g!==null?(ce(r),OE(r,g)):(ce(r),yg(r,m,null,c,o))):g?g!==s.memoizedState?(vs(r),ce(r),OE(r,g)):(ce(r),r.flags&=-16777217):(s=s.memoizedProps,s!==c&&vs(r),ce(r),yg(r,m,s,c,o)),null;case 27:if(mo(r),o=Vt.current,m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&vs(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return ce(r),null}s=pt.current,ko(r)?mT(r):(s=Fb(m,c,o),r.stateNode=s,vs(r))}return ce(r),null;case 5:if(mo(r),m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&vs(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return ce(r),null}if(g=pt.current,ko(r))mT(r);else{var T=Xf(Vt.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?T.createElement(m,{is:c.is}):T.createElement(m)}}g[Me]=r,g[Xe]=c;t:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break t;for(;T.sibling===null;){if(T.return===null||T.return===r)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=g;t:switch(on(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&vs(r)}}return ce(r),yg(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==c&&vs(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(s=Vt.current,ko(r)){if(s=r.stateNode,o=r.memoizedProps,c=null,m=sn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[Me]=r,s=!!(s.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Vb(s.nodeValue,o)),s||sr(r,!0)}else s=Xf(s).createTextNode(c),s[Me]=r,r.stateNode=s}return ce(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(c=ko(r),o!==null){if(s===null){if(!c)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Me]=r}else Ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ce(r),s=!1}else o=Rp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(Un(r),r):(Un(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ce(r),null;case 13:if(c=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=ko(r),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Me]=r}else Ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ce(r),m=!1}else m=Rp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(Un(r),r):(Un(r),null)}return Un(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,s=s!==null&&s.memoizedState!==null,o&&(c=r.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),Of(r,r.updateQueue),ce(r),null);case 4:return fe(),s===null&&Bg(r.stateNode.containerInfo),ce(r),null;case 10:return ps(r.type),ce(r),null;case 19:if(st(Ae),c=r.memoizedState,c===null)return ce(r),null;if(m=(r.flags&128)!==0,g=c.rendering,g===null)if(m)Yu(c,!1);else{if(Te!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(g=bf(s),g!==null){for(r.flags|=128,Yu(c,!1),s=g.updateQueue,r.updateQueue=s,Of(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)uT(o,s),o=o.sibling;return ft(Ae,Ae.current&1|2),jt&&ds(r,c.treeForkCount),r.child}s=s.sibling}c.tail!==null&&yn()>zf&&(r.flags|=128,m=!0,Yu(c,!1),r.lanes=4194304)}else{if(!m)if(s=bf(g),s!==null){if(r.flags|=128,m=!0,s=s.updateQueue,r.updateQueue=s,Of(r,s),Yu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!jt)return ce(r),null}else 2*yn()-c.renderingStartTime>zf&&o!==536870912&&(r.flags|=128,m=!0,Yu(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(s=c.last,s!==null?s.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=yn(),s.sibling=null,o=Ae.current,ft(Ae,m?o&1|2:o&1),jt&&ds(r,c.treeForkCount),s):(ce(r),null);case 22:case 23:return Un(r),zp(),c=r.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(ce(r),r.subtreeFlags&6&&(r.flags|=8192)):ce(r),o=r.updateQueue,o!==null&&Of(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),s!==null&&st(Da),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ps(Oe),ce(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function xV(s,r){switch(wp(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return ps(Oe),fe(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return mo(r),null;case 31:if(r.memoizedState!==null){if(Un(r),r.alternate===null)throw Error(i(340));Ra()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Un(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Ra()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return st(Ae),null;case 4:return fe(),null;case 10:return ps(r.type),null;case 22:case 23:return Un(r),zp(),s!==null&&st(Da),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return ps(Oe),null;case 25:return null;default:return null}}function kE(s,r){switch(wp(r),r.tag){case 3:ps(Oe),fe();break;case 26:case 27:case 5:mo(r);break;case 4:fe();break;case 31:r.memoizedState!==null&&Un(r);break;case 13:Un(r);break;case 19:st(Ae);break;case 10:ps(r.type);break;case 22:case 23:Un(r),zp(),s!==null&&st(Da);break;case 24:ps(Oe)}}function Qu(s,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&s)===s){c=void 0;var g=o.create,T=o.inst;c=g(),T.destroy=c}o=o.next}while(o!==m)}}catch(S){Zt(r,r.return,S)}}function hr(s,r,o){try{var c=r.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&s)===s){var T=c.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,m=r;var D=o,G=S;try{G()}catch(et){Zt(m,D,et)}}}c=c.next}while(c!==g)}}catch(et){Zt(r,r.return,et)}}function LE(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{RT(r,o)}catch(c){Zt(s,s.return,c)}}}function UE(s,r,o){o.props=Oa(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(c){Zt(s,r,c)}}function Xu(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof o=="function"?s.refCleanup=o(c):o.current=c}}catch(m){Zt(s,r,m)}}function Yi(s,r){var o=s.ref,c=s.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Zt(s,r,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Zt(s,r,m)}else o.current=null}function BE(s){var r=s.type,o=s.memoizedProps,c=s.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Zt(s,s.return,m)}}function _g(s,r,o){try{var c=s.stateNode;XV(c,s.type,o,r),c[Xe]=r}catch(m){Zt(s,s.return,m)}}function zE(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&_r(s.type)||s.tag===4}function vg(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||zE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&_r(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Tg(s,r,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=di));else if(c!==4&&(c===27&&_r(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(Tg(s,r,o),s=s.sibling;s!==null;)Tg(s,r,o),s=s.sibling}function kf(s,r,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(c!==4&&(c===27&&_r(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(kf(s,r,o),s=s.sibling;s!==null;)kf(s,r,o),s=s.sibling}function jE(s){var r=s.stateNode,o=s.memoizedProps;try{for(var c=s.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);on(r,c,o),r[Me]=s,r[Xe]=o}catch(g){Zt(s,s.return,g)}}var Ts=!1,Ue=!1,Eg=!1,FE=typeof WeakSet=="function"?WeakSet:Set,Je=null;function CV(s,r){if(s=s.containerInfo,Fg=id,s=tT(s),mp(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else t:{o=(o=s.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var T=0,S=-1,D=-1,G=0,et=0,it=s,K=null;e:for(;;){for(var X;it!==o||m!==0&&it.nodeType!==3||(S=T+m),it!==g||c!==0&&it.nodeType!==3||(D=T+c),it.nodeType===3&&(T+=it.nodeValue.length),(X=it.firstChild)!==null;)K=it,it=X;for(;;){if(it===s)break e;if(K===o&&++G===m&&(S=T),K===g&&++et===c&&(D=T),(X=it.nextSibling)!==null)break;it=K,K=it.parentNode}it=X}o=S===-1||D===-1?null:{start:S,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(qg={focusedElem:s,selectionRange:o},id=!1,Je=r;Je!==null;)if(r=Je,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Je=s;else for(;Je!==null;){switch(r=Je,g=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)m=s[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,o=r,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var gt=Oa(o.type,m);s=c.getSnapshotBeforeUpdate(gt,g),c.__reactInternalSnapshotBeforeUpdate=s}catch(St){Zt(o,o.return,St)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)Kg(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Kg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Je=s;break}Je=r.return}}function qE(s,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:bs(s,o),c&4&&Qu(5,o);break;case 1:if(bs(s,o),c&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(T){Zt(o,o.return,T)}else{var m=Oa(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(m,r,s.__reactInternalSnapshotBeforeUpdate)}catch(T){Zt(o,o.return,T)}}c&64&&LE(o),c&512&&Xu(o,o.return);break;case 3:if(bs(s,o),c&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{RT(s,r)}catch(T){Zt(o,o.return,T)}}break;case 27:r===null&&c&4&&jE(o);case 26:case 5:bs(s,o),r===null&&c&4&&BE(o),c&512&&Xu(o,o.return);break;case 12:bs(s,o);break;case 31:bs(s,o),c&4&&KE(s,o);break;case 13:bs(s,o),c&4&&$E(s,o),c&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=UV.bind(null,o),s2(s,o))));break;case 22:if(c=o.memoizedState!==null||Ts,!c){r=r!==null&&r.memoizedState!==null||Ue,m=Ts;var g=Ue;Ts=c,(Ue=r)&&!g?Ss(s,o,(o.subtreeFlags&8772)!==0):bs(s,o),Ts=m,Ue=g}break;case 30:break;default:bs(s,o)}}function HE(s){var r=s.alternate;r!==null&&(s.alternate=null,HE(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&vo(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var me=null,An=!1;function Es(s,r,o){for(o=o.child;o!==null;)GE(s,r,o),o=o.sibling}function GE(s,r,o){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(ui,o)}catch{}switch(o.tag){case 26:Ue||Yi(o,r),Es(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ue||Yi(o,r);var c=me,m=An;_r(o.type)&&(me=o.stateNode,An=!1),Es(s,r,o),rc(o.stateNode),me=c,An=m;break;case 5:Ue||Yi(o,r);case 6:if(c=me,m=An,me=null,Es(s,r,o),me=c,An=m,me!==null)if(An)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(o.stateNode)}catch(g){Zt(o,r,g)}else try{me.removeChild(o.stateNode)}catch(g){Zt(o,r,g)}break;case 18:me!==null&&(An?(s=me,Lb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),il(s)):Lb(me,o.stateNode));break;case 4:c=me,m=An,me=o.stateNode.containerInfo,An=!0,Es(s,r,o),me=c,An=m;break;case 0:case 11:case 14:case 15:hr(2,o,r),Ue||hr(4,o,r),Es(s,r,o);break;case 1:Ue||(Yi(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&UE(o,r,c)),Es(s,r,o);break;case 21:Es(s,r,o);break;case 22:Ue=(c=Ue)||o.memoizedState!==null,Es(s,r,o),Ue=c;break;default:Es(s,r,o)}}function KE(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{il(s)}catch(o){Zt(r,r.return,o)}}}function $E(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{il(s)}catch(o){Zt(r,r.return,o)}}function DV(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new FE),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new FE),r;default:throw Error(i(435,s.tag))}}function Lf(s,r){var o=DV(s);r.forEach(function(c){if(!o.has(c)){o.add(c);var m=BV.bind(null,s,c);c.then(m,m)}})}function wn(s,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=s,T=r,S=T;t:for(;S!==null;){switch(S.tag){case 27:if(_r(S.type)){me=S.stateNode,An=!1;break t}break;case 5:me=S.stateNode,An=!1;break t;case 3:case 4:me=S.stateNode.containerInfo,An=!0;break t}S=S.return}if(me===null)throw Error(i(160));GE(g,T,m),me=null,An=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)YE(r,s),r=r.sibling}var vi=null;function YE(s,r){var o=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:wn(r,s),In(s),c&4&&(hr(3,s,s.return),Qu(3,s),hr(5,s,s.return));break;case 1:wn(r,s),In(s),c&512&&(Ue||o===null||Yi(o,o.return)),c&64&&Ts&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=vi;if(wn(r,s),In(s),c&512&&(Ue||o===null||Yi(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=s.memoizedState,o===null)if(c===null)if(s.stateNode===null){t:{c=s.type,o=s.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Pi]||g[Me]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),on(g,c,o),g[Me]=s,Ne(g),c=g;break t;case"link":var T=Yb("link","href",m).get(c+(o.href||""));if(T){for(var S=0;S<T.length;S++)if(g=T[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(S,1);break e}}g=m.createElement(c),on(g,c,o),m.head.appendChild(g);break;case"meta":if(T=Yb("meta","content",m).get(c+(o.content||""))){for(S=0;S<T.length;S++)if(g=T[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(S,1);break e}}g=m.createElement(c),on(g,c,o),m.head.appendChild(g);break;default:throw Error(i(468,c))}g[Me]=s,Ne(g),c=g}s.stateNode=c}else Qb(m,s.type,s.stateNode);else s.stateNode=$b(m,c,s.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?Qb(m,s.type,s.stateNode):$b(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&_g(s,s.memoizedProps,o.memoizedProps)}break;case 27:wn(r,s),In(s),c&512&&(Ue||o===null||Yi(o,o.return)),o!==null&&c&4&&_g(s,s.memoizedProps,o.memoizedProps);break;case 5:if(wn(r,s),In(s),c&512&&(Ue||o===null||Yi(o,o.return)),s.flags&32){m=s.stateNode;try{Sn(m,"")}catch(gt){Zt(s,s.return,gt)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,_g(s,m,o!==null?o.memoizedProps:m)),c&1024&&(Eg=!0);break;case 6:if(wn(r,s),In(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,o=s.stateNode;try{o.nodeValue=c}catch(gt){Zt(s,s.return,gt)}}break;case 3:if(Zf=null,m=vi,vi=Wf(r.containerInfo),wn(r,s),vi=m,In(s),c&4&&o!==null&&o.memoizedState.isDehydrated)try{il(r.containerInfo)}catch(gt){Zt(s,s.return,gt)}Eg&&(Eg=!1,QE(s));break;case 4:c=vi,vi=Wf(s.stateNode.containerInfo),wn(r,s),In(s),vi=c;break;case 12:wn(r,s),In(s);break;case 31:wn(r,s),In(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Lf(s,c)));break;case 13:wn(r,s),In(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Bf=yn()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Lf(s,c)));break;case 22:m=s.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,G=Ts,et=Ue;if(Ts=G||m,Ue=et||D,wn(r,s),Ue=et,Ts=G,In(s),c&8192)t:for(r=s.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||D||Ts||Ue||ka(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){D=o=r;try{if(g=D.stateNode,m)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=D.stateNode;var it=D.memoizedProps.style,K=it!=null&&it.hasOwnProperty("display")?it.display:null;S.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(gt){Zt(D,D.return,gt)}}}else if(r.tag===6){if(o===null){D=r;try{D.stateNode.nodeValue=m?"":D.memoizedProps}catch(gt){Zt(D,D.return,gt)}}}else if(r.tag===18){if(o===null){D=r;try{var X=D.stateNode;m?Ub(X,!0):Ub(D.stateNode,!1)}catch(gt){Zt(D,D.return,gt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=s.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Lf(s,o))));break;case 19:wn(r,s),In(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Lf(s,c)));break;case 30:break;case 21:break;default:wn(r,s),In(s)}}function In(s){var r=s.flags;if(r&2){try{for(var o,c=s.return;c!==null;){if(zE(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,g=vg(s);kf(s,g,m);break;case 5:var T=o.stateNode;o.flags&32&&(Sn(T,""),o.flags&=-33);var S=vg(s);kf(s,S,T);break;case 3:case 4:var D=o.stateNode.containerInfo,G=vg(s);Tg(s,G,D);break;default:throw Error(i(161))}}catch(et){Zt(s,s.return,et)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function QE(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;QE(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function bs(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)qE(s,r.alternate,r),r=r.sibling}function ka(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:hr(4,r,r.return),ka(r);break;case 1:Yi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&UE(r,r.return,o),ka(r);break;case 27:rc(r.stateNode);case 26:case 5:Yi(r,r.return),ka(r);break;case 22:r.memoizedState===null&&ka(r);break;case 30:ka(r);break;default:ka(r)}s=s.sibling}}function Ss(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,m=s,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:Ss(m,g,o),Qu(4,g);break;case 1:if(Ss(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(G){Zt(c,c.return,G)}if(c=g,m=c.updateQueue,m!==null){var S=c.stateNode;try{var D=m.shared.hiddenCallbacks;if(D!==null)for(m.shared.hiddenCallbacks=null,m=0;m<D.length;m++)IT(D[m],S)}catch(G){Zt(c,c.return,G)}}o&&T&64&&LE(g),Xu(g,g.return);break;case 27:jE(g);case 26:case 5:Ss(m,g,o),o&&c===null&&T&4&&BE(g),Xu(g,g.return);break;case 12:Ss(m,g,o);break;case 31:Ss(m,g,o),o&&T&4&&KE(m,g);break;case 13:Ss(m,g,o),o&&T&4&&$E(m,g);break;case 22:g.memoizedState===null&&Ss(m,g,o),Xu(g,g.return);break;case 30:break;default:Ss(m,g,o)}r=r.sibling}}function bg(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&ku(o))}function Sg(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&ku(s))}function Ti(s,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)XE(s,r,o,c),r=r.sibling}function XE(s,r,o,c){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Ti(s,r,o,c),m&2048&&Qu(9,r);break;case 1:Ti(s,r,o,c);break;case 3:Ti(s,r,o,c),m&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&ku(s)));break;case 12:if(m&2048){Ti(s,r,o,c),s=r.stateNode;try{var g=r.memoizedProps,T=g.id,S=g.onPostCommit;typeof S=="function"&&S(T,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(D){Zt(r,r.return,D)}}else Ti(s,r,o,c);break;case 31:Ti(s,r,o,c);break;case 13:Ti(s,r,o,c);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?Ti(s,r,o,c):Wu(s,r):g._visibility&2?Ti(s,r,o,c):(g._visibility|=2,Ko(s,r,o,c,(r.subtreeFlags&10256)!==0||!1)),m&2048&&bg(T,r);break;case 24:Ti(s,r,o,c),m&2048&&Sg(r.alternate,r);break;default:Ti(s,r,o,c)}}function Ko(s,r,o,c,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=s,T=r,S=o,D=c,G=T.flags;switch(T.tag){case 0:case 11:case 15:Ko(g,T,S,D,m),Qu(8,T);break;case 23:break;case 22:var et=T.stateNode;T.memoizedState!==null?et._visibility&2?Ko(g,T,S,D,m):Wu(g,T):(et._visibility|=2,Ko(g,T,S,D,m)),m&&G&2048&&bg(T.alternate,T);break;case 24:Ko(g,T,S,D,m),m&&G&2048&&Sg(T.alternate,T);break;default:Ko(g,T,S,D,m)}r=r.sibling}}function Wu(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,c=r,m=c.flags;switch(c.tag){case 22:Wu(o,c),m&2048&&bg(c.alternate,c);break;case 24:Wu(o,c),m&2048&&Sg(c.alternate,c);break;default:Wu(o,c)}r=r.sibling}}var Ju=8192;function $o(s,r,o){if(s.subtreeFlags&Ju)for(s=s.child;s!==null;)WE(s,r,o),s=s.sibling}function WE(s,r,o){switch(s.tag){case 26:$o(s,r,o),s.flags&Ju&&s.memoizedState!==null&&g2(o,vi,s.memoizedState,s.memoizedProps);break;case 5:$o(s,r,o);break;case 3:case 4:var c=vi;vi=Wf(s.stateNode.containerInfo),$o(s,r,o),vi=c;break;case 22:s.memoizedState===null&&(c=s.alternate,c!==null&&c.memoizedState!==null?(c=Ju,Ju=16777216,$o(s,r,o),Ju=c):$o(s,r,o));break;default:$o(s,r,o)}}function JE(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Zu(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Je=c,tb(c,s)}JE(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ZE(s),s=s.sibling}function ZE(s){switch(s.tag){case 0:case 11:case 15:Zu(s),s.flags&2048&&hr(9,s,s.return);break;case 3:Zu(s);break;case 12:Zu(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Uf(s)):Zu(s);break;default:Zu(s)}}function Uf(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Je=c,tb(c,s)}JE(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:hr(8,r,r.return),Uf(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Uf(r));break;default:Uf(r)}s=s.sibling}}function tb(s,r){for(;Je!==null;){var o=Je;switch(o.tag){case 0:case 11:case 15:hr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ku(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Je=c;else t:for(o=s;Je!==null;){c=Je;var m=c.sibling,g=c.return;if(HE(c),c===o){Je=null;break t}if(m!==null){m.return=g,Je=m;break t}Je=g}}}var VV={getCacheForType:function(s){var r=rn(Oe),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return rn(Oe).controller.signal}},MV=typeof WeakMap=="function"?WeakMap:Map,Qt=0,oe=null,Pt=null,Lt=0,Jt=0,Bn=null,fr=!1,Yo=!1,Ag=!1,As=0,Te=0,dr=0,La=0,wg=0,zn=0,Qo=0,tc=null,Rn=null,Ig=!1,Bf=0,eb=0,zf=1/0,jf=null,mr=null,He=0,pr=null,Xo=null,ws=0,Rg=0,xg=null,nb=null,ec=0,Cg=null;function jn(){return(Qt&2)!==0&&Lt!==0?Lt&-Lt:tt.T!==null?Og():jh()}function ib(){if(zn===0)if((Lt&536870912)===0||jt){var s=ca;ca<<=1,(ca&3932160)===0&&(ca=262144),zn=s}else zn=536870912;return s=Ln.current,s!==null&&(s.flags|=32),zn}function xn(s,r,o){(s===oe&&(Jt===2||Jt===9)||s.cancelPendingCommit!==null)&&(Wo(s,0),gr(s,Lt,zn,!1)),ha(s,o),((Qt&2)===0||s!==oe)&&(s===oe&&((Qt&2)===0&&(La|=o),Te===4&&gr(s,Lt,zn,!1)),Qi(s))}function sb(s,r,o){if((Qt&6)!==0)throw Error(i(327));var c=!o&&(r&127)===0&&(r&s.expiredLanes)===0||ci(s,r),m=c?OV(s,r):Vg(s,r,!0),g=c;do{if(m===0){Yo&&!c&&gr(s,r,0,!1);break}else{if(o=s.current.alternate,g&&!NV(o)){m=Vg(s,r,!1),g=!1;continue}if(m===2){if(g=r,s.errorRecoveryDisabledLanes&g)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var S=s;m=tc;var D=S.current.memoizedState.isDehydrated;if(D&&(Wo(S,T).flags|=256),T=Vg(S,T,!1),T!==2){if(Ag&&!D){S.errorRecoveryDisabledLanes|=g,La|=g,m=4;break t}g=Rn,Rn=m,g!==null&&(Rn===null?Rn=g:Rn.push.apply(Rn,g))}m=T}if(g=!1,m!==2)continue}}if(m===1){Wo(s,0),gr(s,r,0,!0);break}t:{switch(c=s,g=m,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:gr(c,r,zn,!fr);break t;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(m=Bf+300-yn(),10<m)){if(gr(c,r,zn,!fr),Vi(c,0,!0)!==0)break t;ws=r,c.timeoutHandle=Ob(rb.bind(null,c,o,Rn,jf,Ig,r,zn,La,Qo,fr,g,"Throttled",-0,0),m);break t}rb(c,o,Rn,jf,Ig,r,zn,La,Qo,fr,g,null,-0,0)}}break}while(!0);Qi(s)}function rb(s,r,o,c,m,g,T,S,D,G,et,it,K,X){if(s.timeoutHandle=-1,it=r.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:di},WE(r,g,it);var gt=(g&62914560)===g?Bf-yn():(g&4194048)===g?eb-yn():0;if(gt=y2(it,gt),gt!==null){ws=g,s.cancelPendingCommit=gt(db.bind(null,s,r,g,o,c,m,T,S,D,et,it,null,K,X)),gr(s,g,T,!G);return}}db(s,r,g,o,c,m,T,S,D)}function NV(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!On(g(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function gr(s,r,o,c){r&=~wg,r&=~La,s.suspendedLanes|=r,s.pingedLanes&=~r,c&&(s.warmLanes|=r),c=s.expirationTimes;for(var m=r;0<m;){var g=31-be(m),T=1<<g;c[g]=-1,m&=~T}o!==0&&fa(s,o,r)}function Ff(){return(Qt&6)===0?(nc(0),!1):!0}function Dg(){if(Pt!==null){if(Jt===0)var s=Pt.return;else s=Pt,ms=xa=null,Kp(s),jo=null,Uu=0,s=Pt;for(;s!==null;)kE(s.alternate,s),s=s.return;Pt=null}}function Wo(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,ZV(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),ws=0,Dg(),oe=s,Pt=o=fs(s.current,null),Lt=r,Jt=0,Bn=null,fr=!1,Yo=ci(s,r),Ag=!1,Qo=zn=wg=La=dr=Te=0,Rn=tc=null,Ig=!1,(r&8)!==0&&(r|=r&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=r;0<c;){var m=31-be(c),g=1<<m;r|=s[m],c&=~g}return As=r,uf(),o}function ab(s,r){Ct=null,tt.H=Ku,r===zo||r===yf?(r=bT(),Jt=3):r===Pp?(r=bT(),Jt=4):Jt=r===lg?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Bn=r,Pt===null&&(Te=1,Vf(s,Zn(r,s.current)))}function ob(){var s=Ln.current;return s===null?!0:(Lt&4194048)===Lt?ii===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?s===ii:!1}function lb(){var s=tt.H;return tt.H=Ku,s===null?Ku:s}function ub(){var s=tt.A;return tt.A=VV,s}function qf(){Te=4,fr||(Lt&4194048)!==Lt&&Ln.current!==null||(Yo=!0),(dr&134217727)===0&&(La&134217727)===0||oe===null||gr(oe,Lt,zn,!1)}function Vg(s,r,o){var c=Qt;Qt|=2;var m=lb(),g=ub();(oe!==s||Lt!==r)&&(jf=null,Wo(s,r)),r=!1;var T=Te;t:do try{if(Jt!==0&&Pt!==null){var S=Pt,D=Bn;switch(Jt){case 8:Dg(),T=6;break t;case 3:case 2:case 9:case 6:Ln.current===null&&(r=!0);var G=Jt;if(Jt=0,Bn=null,Jo(s,S,D,G),o&&Yo){T=0;break t}break;default:G=Jt,Jt=0,Bn=null,Jo(s,S,D,G)}}PV(),T=Te;break}catch(et){ab(s,et)}while(!0);return r&&s.shellSuspendCounter++,ms=xa=null,Qt=c,tt.H=m,tt.A=g,Pt===null&&(oe=null,Lt=0,uf()),T}function PV(){for(;Pt!==null;)cb(Pt)}function OV(s,r){var o=Qt;Qt|=2;var c=lb(),m=ub();oe!==s||Lt!==r?(jf=null,zf=yn()+500,Wo(s,r)):Yo=ci(s,r);t:do try{if(Jt!==0&&Pt!==null){r=Pt;var g=Bn;e:switch(Jt){case 1:Jt=0,Bn=null,Jo(s,r,g,1);break;case 2:case 9:if(TT(g)){Jt=0,Bn=null,hb(r);break}r=function(){Jt!==2&&Jt!==9||oe!==s||(Jt=7),Qi(s)},g.then(r,r);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:TT(g)?(Jt=0,Bn=null,hb(r)):(Jt=0,Bn=null,Jo(s,r,g,7));break;case 5:var T=null;switch(Pt.tag){case 26:T=Pt.memoizedState;case 5:case 27:var S=Pt;if(T?Xb(T):S.stateNode.complete){Jt=0,Bn=null;var D=S.sibling;if(D!==null)Pt=D;else{var G=S.return;G!==null?(Pt=G,Hf(G)):Pt=null}break e}}Jt=0,Bn=null,Jo(s,r,g,5);break;case 6:Jt=0,Bn=null,Jo(s,r,g,6);break;case 8:Dg(),Te=6;break t;default:throw Error(i(462))}}kV();break}catch(et){ab(s,et)}while(!0);return ms=xa=null,tt.H=c,tt.A=m,Qt=o,Pt!==null?0:(oe=null,Lt=0,uf(),Te)}function kV(){for(;Pt!==null&&!op();)cb(Pt)}function cb(s){var r=PE(s.alternate,s,As);s.memoizedProps=s.pendingProps,r===null?Hf(s):Pt=r}function hb(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=xE(o,r,r.pendingProps,r.type,void 0,Lt);break;case 11:r=xE(o,r,r.pendingProps,r.type.render,r.ref,Lt);break;case 5:Kp(r);default:kE(o,r),r=Pt=uT(r,As),r=PE(o,r,As)}s.memoizedProps=s.pendingProps,r===null?Hf(s):Pt=r}function Jo(s,r,o,c){ms=xa=null,Kp(r),jo=null,Uu=0;var m=r.return;try{if(AV(s,m,r,o,Lt)){Te=1,Vf(s,Zn(o,s.current)),Pt=null;return}}catch(g){if(m!==null)throw Pt=m,g;Te=1,Vf(s,Zn(o,s.current)),Pt=null;return}r.flags&32768?(jt||c===1?s=!0:Yo||(Lt&536870912)!==0?s=!1:(fr=s=!0,(c===2||c===9||c===3||c===6)&&(c=Ln.current,c!==null&&c.tag===13&&(c.flags|=16384))),fb(r,s)):Hf(r)}function Hf(s){var r=s;do{if((r.flags&32768)!==0){fb(r,fr);return}s=r.return;var o=RV(r.alternate,r,As);if(o!==null){Pt=o;return}if(r=r.sibling,r!==null){Pt=r;return}Pt=r=s}while(r!==null);Te===0&&(Te=5)}function fb(s,r){do{var o=xV(s.alternate,s);if(o!==null){o.flags&=32767,Pt=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Pt=s;return}Pt=s=o}while(s!==null);Te=6,Pt=null}function db(s,r,o,c,m,g,T,S,D){s.cancelPendingCommit=null;do Gf();while(He!==0);if((Qt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=vp,cp(s,o,g,T,S,D),s===oe&&(Pt=oe=null,Lt=0),Xo=r,pr=s,ws=o,Rg=g,xg=m,nb=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,zV(Ks,function(){return _b(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=tt.T,tt.T=null,m=lt.p,lt.p=2,T=Qt,Qt|=4;try{CV(s,r,o)}finally{Qt=T,lt.p=m,tt.T=c}}He=1,mb(),pb(),gb()}}function mb(){if(He===1){He=0;var s=pr,r=Xo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=tt.T,tt.T=null;var c=lt.p;lt.p=2;var m=Qt;Qt|=4;try{YE(r,s);var g=qg,T=tT(s.containerInfo),S=g.focusedElem,D=g.selectionRange;if(T!==S&&S&&S.ownerDocument&&Z0(S.ownerDocument.documentElement,S)){if(D!==null&&mp(S)){var G=D.start,et=D.end;if(et===void 0&&(et=G),"selectionStart"in S)S.selectionStart=G,S.selectionEnd=Math.min(et,S.value.length);else{var it=S.ownerDocument||document,K=it&&it.defaultView||window;if(K.getSelection){var X=K.getSelection(),gt=S.textContent.length,St=Math.min(D.start,gt),ae=D.end===void 0?St:Math.min(D.end,gt);!X.extend&&St>ae&&(T=ae,ae=St,St=T);var z=J0(S,St),P=J0(S,ae);if(z&&P&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==P.node||X.focusOffset!==P.offset)){var H=it.createRange();H.setStart(z.node,z.offset),X.removeAllRanges(),St>ae?(X.addRange(H),X.extend(P.node,P.offset)):(H.setEnd(P.node,P.offset),X.addRange(H))}}}}for(it=[],X=S;X=X.parentNode;)X.nodeType===1&&it.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<it.length;S++){var nt=it[S];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}id=!!Fg,qg=Fg=null}finally{Qt=m,lt.p=c,tt.T=o}}s.current=r,He=2}}function pb(){if(He===2){He=0;var s=pr,r=Xo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=tt.T,tt.T=null;var c=lt.p;lt.p=2;var m=Qt;Qt|=4;try{qE(s,r.alternate,r)}finally{Qt=m,lt.p=c,tt.T=o}}He=3}}function gb(){if(He===4||He===3){He=0,Ph();var s=pr,r=Xo,o=ws,c=nb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?He=5:(He=0,Xo=pr=null,yb(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(mr=null),ls(o),r=r.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(ui,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=tt.T,m=lt.p,lt.p=2,tt.T=null;try{for(var g=s.onRecoverableError,T=0;T<c.length;T++){var S=c[T];g(S.value,{componentStack:S.stack})}}finally{tt.T=r,lt.p=m}}(ws&3)!==0&&Gf(),Qi(s),m=s.pendingLanes,(o&261930)!==0&&(m&42)!==0?s===Cg?ec++:(ec=0,Cg=s):ec=0,nc(0)}}function yb(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,ku(r)))}function Gf(){return mb(),pb(),gb(),_b()}function _b(){if(He!==5)return!1;var s=pr,r=Rg;Rg=0;var o=ls(ws),c=tt.T,m=lt.p;try{lt.p=32>o?32:o,tt.T=null,o=xg,xg=null;var g=pr,T=ws;if(He=0,Xo=pr=null,ws=0,(Qt&6)!==0)throw Error(i(331));var S=Qt;if(Qt|=4,ZE(g.current),XE(g,g.current,T,o),Qt=S,nc(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(ui,g)}catch{}return!0}finally{lt.p=m,tt.T=c,yb(s,r)}}function vb(s,r,o){r=Zn(o,r),r=og(s.stateNode,r,2),s=lr(s,r,2),s!==null&&(ha(s,2),Qi(s))}function Zt(s,r,o){if(s.tag===3)vb(s,s,o);else for(;r!==null;){if(r.tag===3){vb(r,s,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(mr===null||!mr.has(c))){s=Zn(o,s),o=TE(2),c=lr(r,o,2),c!==null&&(EE(o,c,r,s),ha(c,2),Qi(c));break}}r=r.return}}function Mg(s,r,o){var c=s.pingCache;if(c===null){c=s.pingCache=new MV;var m=new Set;c.set(r,m)}else m=c.get(r),m===void 0&&(m=new Set,c.set(r,m));m.has(o)||(Ag=!0,m.add(o),s=LV.bind(null,s,r,o),r.then(s,s))}function LV(s,r,o){var c=s.pingCache;c!==null&&c.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,oe===s&&(Lt&o)===o&&(Te===4||Te===3&&(Lt&62914560)===Lt&&300>yn()-Bf?(Qt&2)===0&&Wo(s,0):wg|=o,Qo===Lt&&(Qo=0)),Qi(s)}function Tb(s,r){r===0&&(r=zh()),s=wa(s,r),s!==null&&(ha(s,r),Qi(s))}function UV(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),Tb(s,o)}function BV(s,r){var o=0;switch(s.tag){case 31:case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),Tb(s,o)}function zV(s,r){return qe(s,r)}var Kf=null,Zo=null,Ng=!1,$f=!1,Pg=!1,yr=0;function Qi(s){s!==Zo&&s.next===null&&(Zo===null?Kf=Zo=s:Zo=Zo.next=s),$f=!0,Ng||(Ng=!0,FV())}function nc(s,r){if(!Pg&&$f){Pg=!0;do for(var o=!1,c=Kf;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var T=c.suspendedLanes,S=c.pingedLanes;g=(1<<31-be(42|s)+1)-1,g&=m&~(T&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Ab(c,g))}else g=Lt,g=Vi(c,c===oe?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||ci(c,g)||(o=!0,Ab(c,g));c=c.next}while(o);Pg=!1}}function jV(){Eb()}function Eb(){$f=Ng=!1;var s=0;yr!==0&&JV()&&(s=yr);for(var r=yn(),o=null,c=Kf;c!==null;){var m=c.next,g=bb(c,r);g===0?(c.next=null,o===null?Kf=m:o.next=m,m===null&&(Zo=o)):(o=c,(s!==0||(g&3)!==0)&&($f=!0)),c=m}He!==0&&He!==5||nc(s),yr!==0&&(yr=0)}function bb(s,r){for(var o=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var T=31-be(g),S=1<<T,D=m[T];D===-1?((S&o)===0||(S&c)!==0)&&(m[T]=up(S,r)):D<=r&&(s.expiredLanes|=S),g&=~S}if(r=oe,o=Lt,o=Vi(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,o===0||s===r&&(Jt===2||Jt===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Gs(c),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||ci(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(c!==null&&Gs(c),ls(o)){case 2:case 8:o=fu;break;case 32:o=Ks;break;case 268435456:o=Oh;break;default:o=Ks}return c=Sb.bind(null,s),o=qe(o,c),s.callbackPriority=r,s.callbackNode=o,r}return c!==null&&c!==null&&Gs(c),s.callbackPriority=2,s.callbackNode=null,2}function Sb(s,r){if(He!==0&&He!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Gf()&&s.callbackNode!==o)return null;var c=Lt;return c=Vi(s,s===oe?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(sb(s,c,r),bb(s,yn()),s.callbackNode!=null&&s.callbackNode===o?Sb.bind(null,s):null)}function Ab(s,r){if(Gf())return null;sb(s,r,!0)}function FV(){t2(function(){(Qt&6)!==0?qe(hu,jV):Eb()})}function Og(){if(yr===0){var s=Uo;s===0&&(s=Ci,Ci<<=1,(Ci&261888)===0&&(Ci=256)),yr=s}return yr}function wb(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:So(""+s)}function Ib(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function qV(s,r,o,c,m){if(r==="submit"&&o&&o.stateNode===m){var g=wb((m[Xe]||null).action),T=c.submitter;T&&(r=(r=T[Xe]||null)?wb(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var S=new Fi("action","action",null,c,m);s.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(yr!==0){var D=T?Ib(m,T):new FormData(m);eg(o,{pending:!0,data:D,method:m.method,action:g},null,D)}}else typeof g=="function"&&(S.preventDefault(),D=T?Ib(m,T):new FormData(m),eg(o,{pending:!0,data:D,method:m.method,action:g},g,D))},currentTarget:m}]})}}for(var kg=0;kg<_p.length;kg++){var Lg=_p[kg],HV=Lg.toLowerCase(),GV=Lg[0].toUpperCase()+Lg.slice(1);_i(HV,"on"+GV)}_i(iT,"onAnimationEnd"),_i(sT,"onAnimationIteration"),_i(rT,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(oV,"onTransitionRun"),_i(lV,"onTransitionStart"),_i(uV,"onTransitionCancel"),_i(aT,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Li("onBeforeInput",["compositionend","keypress","textInput","paste"]),Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ic));function Rb(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var c=s[o],m=c.event;c=c.listeners;t:{var g=void 0;if(r)for(var T=c.length-1;0<=T;T--){var S=c[T],D=S.instance,G=S.currentTarget;if(S=S.listener,D!==g&&m.isPropagationStopped())break t;g=S,m.currentTarget=G;try{g(m)}catch(et){lf(et)}m.currentTarget=null,g=D}else for(T=0;T<c.length;T++){if(S=c[T],D=S.instance,G=S.currentTarget,S=S.listener,D!==g&&m.isPropagationStopped())break t;g=S,m.currentTarget=G;try{g(m)}catch(et){lf(et)}m.currentTarget=null,g=D}}}}function Ot(s,r){var o=r[_o];o===void 0&&(o=r[_o]=new Set);var c=s+"__bubble";o.has(c)||(xb(r,s,2,!1),o.add(c))}function Ug(s,r,o){var c=0;r&&(c|=4),xb(o,s,c,r)}var Yf="_reactListening"+Math.random().toString(36).slice(2);function Bg(s){if(!s[Yf]){s[Yf]=!0,pu.forEach(function(o){o!=="selectionchange"&&(KV.has(o)||Ug(o,!1,s),Ug(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Yf]||(r[Yf]=!0,Ug("selectionchange",!1,r))}}function xb(s,r,o,c){switch(iS(r)){case 2:var m=T2;break;case 8:m=E2;break;default:m=ty}o=m.bind(null,r,o,s),m=void 0,!ya||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(r,o,{capture:!0,passive:m}):s.addEventListener(r,o,!0):m!==void 0?s.addEventListener(r,o,{passive:m}):s.addEventListener(r,o,!1)}function zg(s,r,o,c,m){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)t:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var S=c.stateNode.containerInfo;if(S===m)break;if(T===4)for(T=c.return;T!==null;){var D=T.tag;if((D===3||D===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;S!==null;){if(T=Oi(S),T===null)return;if(D=T.tag,D===5||D===6||D===26||D===27){c=g=T;continue t}S=S.parentNode}}c=c.return}Js(function(){var G=g,et=Qn(o),it=[];t:{var K=oT.get(s);if(K!==void 0){var X=Fi,gt=s;switch(s){case"keypress":if(va(o)===0)break t;case"keydown":case"keyup":X=rf;break;case"focusin":gt="focus",X=Ea;break;case"focusout":gt="blur",X=Ea;break;case"beforeblur":case"afterblur":X=Ea;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=xu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Qh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=_;break;case iT:case sT:case rT:X=Wh;break;case aT:X=w;break;case"scroll":case"scrollend":X=Ru;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=Jh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=hs;break;case"toggle":case"beforetoggle":X=xt}var St=(r&4)!==0,ae=!St&&(s==="scroll"||s==="scrollend"),z=St?K!==null?K+"Capture":null:K;St=[];for(var P=G,H;P!==null;){var nt=P;if(H=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||H===null||z===null||(nt=mi(P,z),nt!=null&&St.push(sc(P,nt,H))),ae)break;P=P.return}0<St.length&&(K=new X(K,gt,null,o,et),it.push({event:K,listeners:St}))}}if((r&7)===0){t:{if(K=s==="mouseover"||s==="pointerover",X=s==="mouseout"||s==="pointerout",K&&o!==Au&&(gt=o.relatedTarget||o.fromElement)&&(Oi(gt)||gt[Ni]))break t;if((X||K)&&(K=et.window===et?et:(K=et.ownerDocument)?K.defaultView||K.parentWindow:window,X?(gt=o.relatedTarget||o.toElement,X=G,gt=gt?Oi(gt):null,gt!==null&&(ae=l(gt),St=gt.tag,gt!==ae||St!==5&&St!==27&&St!==6)&&(gt=null)):(X=null,gt=G),X!==gt)){if(St=xu,nt="onMouseLeave",z="onMouseEnter",P="mouse",(s==="pointerout"||s==="pointerover")&&(St=hs,nt="onPointerLeave",z="onPointerEnter",P="pointer"),ae=X==null?K:Nn(X),H=gt==null?K:Nn(gt),K=new St(nt,P+"leave",X,o,et),K.target=ae,K.relatedTarget=H,nt=null,Oi(et)===G&&(St=new St(z,P+"enter",gt,o,et),St.target=H,St.relatedTarget=ae,nt=St),ae=nt,X&&gt)e:{for(St=$V,z=X,P=gt,H=0,nt=z;nt;nt=St(nt))H++;nt=0;for(var bt=P;bt;bt=St(bt))nt++;for(;0<H-nt;)z=St(z),H--;for(;0<nt-H;)P=St(P),nt--;for(;H--;){if(z===P||P!==null&&z===P.alternate){St=z;break e}z=St(z),P=St(P)}St=null}else St=null;X!==null&&Cb(it,K,X,St,!1),gt!==null&&ae!==null&&Cb(it,ae,gt,St,!0)}}t:{if(K=G?Nn(G):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var Kt=K0;else if(H0(K))if($0)Kt=sV;else{Kt=nV;var Tt=eV}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&bo(G.elementType)&&(Kt=K0):Kt=iV;if(Kt&&(Kt=Kt(s,G))){G0(it,Kt,o,et);break t}Tt&&Tt(s,K,G),s==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&Eu(K,"number",K.value)}switch(Tt=G?Nn(G):window,s){case"focusin":(H0(Tt)||Tt.contentEditable==="true")&&(Do=Tt,pp=G,Nu=null);break;case"focusout":Nu=pp=Do=null;break;case"mousedown":gp=!0;break;case"contextmenu":case"mouseup":case"dragend":gp=!1,eT(it,o,et);break;case"selectionchange":if(aV)break;case"keydown":case"keyup":eT(it,o,et)}var Mt;if(Yt)t:{switch(s){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else Co?ba(s,o)&&(Ut="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Ut="onCompositionStart");Ut&&(Gi&&o.locale!=="ko"&&(Co||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&Co&&(Mt=Iu()):(ji=et,wu="value"in ji?ji.value:ji.textContent,Co=!0)),Tt=Qf(G,Ut),0<Tt.length&&(Ut=new Hi(Ut,s,null,o,et),it.push({event:Ut,listeners:Tt}),Mt?Ut.data=Mt:(Mt=xo(o),Mt!==null&&(Ut.data=Mt)))),(Mt=Wn?WD(s,o):JD(s,o))&&(Ut=Qf(G,"onBeforeInput"),0<Ut.length&&(Tt=new Hi("onBeforeInput","beforeinput",null,o,et),it.push({event:Tt,listeners:Ut}),Tt.data=Mt)),qV(it,s,G,o,et)}Rb(it,r)})}function sc(s,r,o){return{instance:s,listener:r,currentTarget:o}}function Qf(s,r){for(var o=r+"Capture",c=[];s!==null;){var m=s,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=mi(s,o),m!=null&&c.unshift(sc(s,m,g)),m=mi(s,r),m!=null&&c.push(sc(s,m,g))),s.tag===3)return c;s=s.return}return[]}function $V(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Cb(s,r,o,c,m){for(var g=r._reactName,T=[];o!==null&&o!==c;){var S=o,D=S.alternate,G=S.stateNode;if(S=S.tag,D!==null&&D===c)break;S!==5&&S!==26&&S!==27||G===null||(D=G,m?(G=mi(o,g),G!=null&&T.unshift(sc(o,G,D))):m||(G=mi(o,g),G!=null&&T.push(sc(o,G,D)))),o=o.return}T.length!==0&&s.push({event:r,listeners:T})}var YV=/\r\n?/g,QV=/\u0000|\uFFFD/g;function Db(s){return(typeof s=="string"?s:""+s).replace(YV,`
`).replace(QV,"")}function Vb(s,r){return r=Db(r),Db(s)===r}function re(s,r,o,c,m,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Sn(s,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Sn(s,""+c);break;case"className":Pn(s,"class",c);break;case"tabIndex":Pn(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(s,o,c);break;case"style":Su(s,c,g);break;case"data":if(r!=="object"){Pn(s,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=So(""+c),s.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&re(s,r,"name",m.name,m,null),re(s,r,"formEncType",m.formEncType,m,null),re(s,r,"formMethod",m.formMethod,m,null),re(s,r,"formTarget",m.formTarget,m,null)):(re(s,r,"encType",m.encType,m,null),re(s,r,"method",m.method,m,null),re(s,r,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=So(""+c),s.setAttribute(o,c);break;case"onClick":c!=null&&(s.onclick=di);break;case"onScroll":c!=null&&Ot("scroll",s);break;case"onScrollEnd":c!=null&&Ot("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}o=So(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""+c):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":c===!0?s.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,c):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(o,c):s.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(o):s.setAttribute(o,c);break;case"popover":Ot("beforetoggle",s),Ot("toggle",s),To(s,"popover",c);break;case"xlinkActuate":Pe(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Pe(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Pe(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Pe(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Pe(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Pe(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Pe(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Pe(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Pe(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":To(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Yh.get(o)||o,To(s,o,c))}}function jg(s,r,o,c,m,g){switch(o){case"style":Su(s,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof c=="string"?Sn(s,c):(typeof c=="number"||typeof c=="bigint")&&Sn(s,""+c);break;case"onScroll":c!=null&&Ot("scroll",s);break;case"onScrollEnd":c!=null&&Ot("scrollend",s);break;case"onClick":c!=null&&(s.onclick=di);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gu.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),g=s[Xe]||null,g=g!=null?g[o]:null,typeof g=="function"&&s.removeEventListener(r,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,c,m);break t}o in s?s[o]=c:c===!0?s.setAttribute(o,""):To(s,o,c)}}}function on(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",s),Ot("load",s);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:re(s,r,g,T,o,null)}}m&&re(s,r,"srcSet",o.srcSet,o,null),c&&re(s,r,"src",o.src,o,null);return;case"input":Ot("invalid",s);var S=g=T=m=null,D=null,G=null;for(c in o)if(o.hasOwnProperty(c)){var et=o[c];if(et!=null)switch(c){case"name":m=et;break;case"type":T=et;break;case"checked":D=et;break;case"defaultChecked":G=et;break;case"value":g=et;break;case"defaultValue":S=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(i(137,r));break;default:re(s,r,c,et,o,null)}}Gh(s,g,S,D,G,T,m,!1);return;case"select":Ot("invalid",s),c=T=g=null;for(m in o)if(o.hasOwnProperty(m)&&(S=o[m],S!=null))switch(m){case"value":g=S;break;case"defaultValue":T=S;break;case"multiple":c=S;default:re(s,r,m,S,o,null)}r=g,o=T,s.multiple=!!c,r!=null?Ys(s,!!c,r,!1):o!=null&&Ys(s,!!c,o,!0);return;case"textarea":Ot("invalid",s),g=m=c=null;for(T in o)if(o.hasOwnProperty(T)&&(S=o[T],S!=null))switch(T){case"value":c=S;break;case"defaultValue":m=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:re(s,r,T,S,o,null)}Qs(s,c,m,g);return;case"option":for(D in o)o.hasOwnProperty(D)&&(c=o[D],c!=null)&&(D==="selected"?s.selected=c&&typeof c!="function"&&typeof c!="symbol":re(s,r,D,c,o,null));return;case"dialog":Ot("beforetoggle",s),Ot("toggle",s),Ot("cancel",s),Ot("close",s);break;case"iframe":case"object":Ot("load",s);break;case"video":case"audio":for(c=0;c<ic.length;c++)Ot(ic[c],s);break;case"image":Ot("error",s),Ot("load",s);break;case"details":Ot("toggle",s);break;case"embed":case"source":case"link":Ot("error",s),Ot("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(c=o[G],c!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:re(s,r,G,c,o,null)}return;default:if(bo(r)){for(et in o)o.hasOwnProperty(et)&&(c=o[et],c!==void 0&&jg(s,r,et,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&re(s,r,S,c,o,null))}function XV(s,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,T=null,S=null,D=null,G=null,et=null;for(X in o){var it=o[X];if(o.hasOwnProperty(X)&&it!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=it;default:c.hasOwnProperty(X)||re(s,r,X,null,c,it)}}for(var K in c){var X=c[K];if(it=o[K],c.hasOwnProperty(K)&&(X!=null||it!=null))switch(K){case"type":g=X;break;case"name":m=X;break;case"checked":G=X;break;case"defaultChecked":et=X;break;case"value":T=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,r));break;default:X!==it&&re(s,r,K,X,c,it)}}Eo(s,T,S,D,G,et,g,m);return;case"select":X=T=S=K=null;for(g in o)if(D=o[g],o.hasOwnProperty(g)&&D!=null)switch(g){case"value":break;case"multiple":X=D;default:c.hasOwnProperty(g)||re(s,r,g,null,c,D)}for(m in c)if(g=c[m],D=o[m],c.hasOwnProperty(m)&&(g!=null||D!=null))switch(m){case"value":K=g;break;case"defaultValue":S=g;break;case"multiple":T=g;default:g!==D&&re(s,r,m,g,c,D)}r=S,o=T,c=X,K!=null?Ys(s,!!o,K,!1):!!c!=!!o&&(r!=null?Ys(s,!!o,r,!0):Ys(s,!!o,o?[]:"",!1));return;case"textarea":X=K=null;for(S in o)if(m=o[S],o.hasOwnProperty(S)&&m!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:re(s,r,S,null,c,m)}for(T in c)if(m=c[T],g=o[T],c.hasOwnProperty(T)&&(m!=null||g!=null))switch(T){case"value":K=m;break;case"defaultValue":X=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==g&&re(s,r,T,m,c,g)}Kh(s,K,X);return;case"option":for(var gt in o)K=o[gt],o.hasOwnProperty(gt)&&K!=null&&!c.hasOwnProperty(gt)&&(gt==="selected"?s.selected=!1:re(s,r,gt,null,c,K));for(D in c)K=c[D],X=o[D],c.hasOwnProperty(D)&&K!==X&&(K!=null||X!=null)&&(D==="selected"?s.selected=K&&typeof K!="function"&&typeof K!="symbol":re(s,r,D,K,c,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in o)K=o[St],o.hasOwnProperty(St)&&K!=null&&!c.hasOwnProperty(St)&&re(s,r,St,null,c,K);for(G in c)if(K=c[G],X=o[G],c.hasOwnProperty(G)&&K!==X&&(K!=null||X!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,r));break;default:re(s,r,G,K,c,X)}return;default:if(bo(r)){for(var ae in o)K=o[ae],o.hasOwnProperty(ae)&&K!==void 0&&!c.hasOwnProperty(ae)&&jg(s,r,ae,void 0,c,K);for(et in c)K=c[et],X=o[et],!c.hasOwnProperty(et)||K===X||K===void 0&&X===void 0||jg(s,r,et,K,c,X);return}}for(var z in o)K=o[z],o.hasOwnProperty(z)&&K!=null&&!c.hasOwnProperty(z)&&re(s,r,z,null,c,K);for(it in c)K=c[it],X=o[it],!c.hasOwnProperty(it)||K===X||K==null&&X==null||re(s,r,it,K,c,X)}function Mb(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WV(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,T=m.initiatorType,S=m.duration;if(g&&S&&Mb(T)){for(T=0,S=m.responseEnd,c+=1;c<o.length;c++){var D=o[c],G=D.startTime;if(G>S)break;var et=D.transferSize,it=D.initiatorType;et&&Mb(it)&&(D=D.responseEnd,T+=et*(D<S?1:(S-G)/(D-G)))}if(--c,r+=8*(g+T)/(m.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Fg=null,qg=null;function Xf(s){return s.nodeType===9?s:s.ownerDocument}function Nb(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pb(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Hg(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Gg=null;function JV(){var s=window.event;return s&&s.type==="popstate"?s===Gg?!1:(Gg=s,!0):(Gg=null,!1)}var Ob=typeof setTimeout=="function"?setTimeout:void 0,ZV=typeof clearTimeout=="function"?clearTimeout:void 0,kb=typeof Promise=="function"?Promise:void 0,t2=typeof queueMicrotask=="function"?queueMicrotask:typeof kb<"u"?function(s){return kb.resolve(null).then(s).catch(e2)}:Ob;function e2(s){setTimeout(function(){throw s})}function _r(s){return s==="head"}function Lb(s,r){var o=r,c=0;do{var m=o.nextSibling;if(s.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){s.removeChild(m),il(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")rc(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,rc(o);for(var g=o.firstChild;g;){var T=g.nextSibling,S=g.nodeName;g[Pi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&rc(s.ownerDocument.body);o=m}while(o);il(r)}function Ub(s,r){var o=s;s=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=c}while(o)}function Kg(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Kg(o),vo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function n2(s,r,o,c){for(;s.nodeType===1;){var m=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Pi])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=si(s.nextSibling),s===null)break}return null}function i2(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=si(s.nextSibling),s===null))return null;return s}function Bb(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=si(s.nextSibling),s===null))return null;return s}function $g(s){return s.data==="$?"||s.data==="$~"}function Yg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function s2(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function si(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var Qg=null;function zb(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return si(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function jb(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function Fb(s,r,o){switch(r=Xf(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function rc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);vo(s)}var ri=new Map,qb=new Set;function Wf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Is=lt.d;lt.d={f:r2,r:a2,D:o2,C:l2,L:u2,m:c2,X:f2,S:h2,M:d2};function r2(){var s=Is.f(),r=Ff();return s||r}function a2(s){var r=Yn(s);r!==null&&r.tag===5&&r.type==="form"?aE(r):Is.r(s)}var tl=typeof document>"u"?null:document;function Hb(s,r,o){var c=tl;if(c&&typeof r=="string"&&r){var m=bn(r);m='link[rel="'+s+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),qb.has(m)||(qb.add(m),s={rel:s,crossOrigin:o,href:r},c.querySelector(m)===null&&(r=c.createElement("link"),on(r,"link",s),Ne(r),c.head.appendChild(r)))}}function o2(s){Is.D(s),Hb("dns-prefetch",s,null)}function l2(s,r){Is.C(s,r),Hb("preconnect",s,r)}function u2(s,r,o){Is.L(s,r,o);var c=tl;if(c&&s&&r){var m='link[rel="preload"][as="'+bn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+bn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+bn(o.imageSizes)+'"]')):m+='[href="'+bn(s)+'"]';var g=m;switch(r){case"style":g=el(s);break;case"script":g=nl(s)}ri.has(g)||(s=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),ri.set(g,s),c.querySelector(m)!==null||r==="style"&&c.querySelector(ac(g))||r==="script"&&c.querySelector(oc(g))||(r=c.createElement("link"),on(r,"link",s),Ne(r),c.head.appendChild(r)))}}function c2(s,r){Is.m(s,r);var o=tl;if(o&&s){var c=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+bn(c)+'"][href="'+bn(s)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=nl(s)}if(!ri.has(g)&&(s=v({rel:"modulepreload",href:s},r),ri.set(g,s),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(oc(g)))return}c=o.createElement("link"),on(c,"link",s),Ne(c),o.head.appendChild(c)}}}function h2(s,r,o){Is.S(s,r,o);var c=tl;if(c&&s){var m=ki(c).hoistableStyles,g=el(s);r=r||"default";var T=m.get(g);if(!T){var S={loading:0,preload:null};if(T=c.querySelector(ac(g)))S.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":r},o),(o=ri.get(g))&&Xg(s,o);var D=T=c.createElement("link");Ne(D),on(D,"link",s),D._p=new Promise(function(G,et){D.onload=G,D.onerror=et}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Jf(T,r,c)}T={type:"stylesheet",instance:T,count:1,state:S},m.set(g,T)}}}function f2(s,r){Is.X(s,r);var o=tl;if(o&&s){var c=ki(o).hoistableScripts,m=nl(s),g=c.get(m);g||(g=o.querySelector(oc(m)),g||(s=v({src:s,async:!0},r),(r=ri.get(m))&&Wg(s,r),g=o.createElement("script"),Ne(g),on(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function d2(s,r){Is.M(s,r);var o=tl;if(o&&s){var c=ki(o).hoistableScripts,m=nl(s),g=c.get(m);g||(g=o.querySelector(oc(m)),g||(s=v({src:s,async:!0,type:"module"},r),(r=ri.get(m))&&Wg(s,r),g=o.createElement("script"),Ne(g),on(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function Gb(s,r,o,c){var m=(m=Vt.current)?Wf(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=el(o.href),o=ki(m).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=el(o.href);var g=ki(m).hoistableStyles,T=g.get(s);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,T),(g=m.querySelector(ac(s)))&&!g._p&&(T.instance=g,T.state.loading=5),ri.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ri.set(s,o),g||m2(m,s,o,T.state))),r&&c===null)throw Error(i(528,""));return T}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=nl(o),o=ki(m).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function el(s){return'href="'+bn(s)+'"'}function ac(s){return'link[rel="stylesheet"]['+s+"]"}function Kb(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function m2(s,r,o,c){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=s.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),on(r,"link",o),Ne(r),s.head.appendChild(r))}function nl(s){return'[src="'+bn(s)+'"]'}function oc(s){return"script[async]"+s}function $b(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=s.querySelector('style[data-href~="'+bn(o.href)+'"]');if(c)return r.instance=c,Ne(c),c;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Ne(c),on(c,"style",m),Jf(c,o.precedence,s),r.instance=c;case"stylesheet":m=el(o.href);var g=s.querySelector(ac(m));if(g)return r.state.loading|=4,r.instance=g,Ne(g),g;c=Kb(o),(m=ri.get(m))&&Xg(c,m),g=(s.ownerDocument||s).createElement("link"),Ne(g);var T=g;return T._p=new Promise(function(S,D){T.onload=S,T.onerror=D}),on(g,"link",c),r.state.loading|=4,Jf(g,o.precedence,s),r.instance=g;case"script":return g=nl(o.src),(m=s.querySelector(oc(g)))?(r.instance=m,Ne(m),m):(c=o,(m=ri.get(g))&&(c=v({},o),Wg(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),Ne(m),on(m,"link",c),s.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Jf(c,o.precedence,s));return r.instance}function Jf(s,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,T=0;T<c.length;T++){var S=c[T];if(S.dataset.precedence===r)g=S;else if(g!==m)break}g?g.parentNode.insertBefore(s,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function Xg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Wg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Zf=null;function Yb(s,r,o){if(Zf===null){var c=new Map,m=Zf=new Map;m.set(o,c)}else m=Zf,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(s))return c;for(c.set(s,null),o=o.getElementsByTagName(s),m=0;m<o.length;m++){var g=o[m];if(!(g[Pi]||g[Me]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=s+T;var S=c.get(T);S?S.push(g):c.set(T,[g])}}return c}function Qb(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function p2(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Xb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function g2(s,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=el(c.href),g=r.querySelector(ac(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=td.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=g,Ne(g);return}g=r.ownerDocument||r,c=Kb(c),(m=ri.get(m))&&Xg(c,m),g=g.createElement("link"),Ne(g);var T=g;T._p=new Promise(function(S,D){T.onload=S,T.onerror=D}),on(g,"link",c),o.instance=g}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=td.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var Jg=0;function y2(s,r){return s.stylesheets&&s.count===0&&nd(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var c=setTimeout(function(){if(s.stylesheets&&nd(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4+r);0<s.imgBytes&&Jg===0&&(Jg=62500*WV());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&nd(s,s.stylesheets),s.unsuspend)){var g=s.unsuspend;s.unsuspend=null,g()}},(s.imgBytes>Jg?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function td(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var ed=null;function nd(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,ed=new Map,r.forEach(_2,s),ed=null,td.call(s))}function _2(s,r){if(!(r.state.loading&4)){var o=ed.get(s);if(o)var c=o.get(null);else{o=new Map,ed.set(s,o);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var T=m[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}m=r.instance,T=m.getAttribute("data-precedence"),g=o.get(T)||c,g===c&&o.set(null,m),o.set(T,m),this.count++,c=td.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),r.state.loading|=4}}var lc={$$typeof:j,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function v2(s,r,o,c,m,g,T,S,D){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Wb(s,r,o,c,m,g,T,S,D,G,et,it){return s=new v2(s,r,o,T,D,G,et,it,S),r=1,g===!0&&(r|=24),g=kn(3,null,null,r),s.current=g,g.stateNode=s,r=Vp(),r.refCount++,s.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},Op(g),s}function Jb(s){return s?(s=No,s):No}function Zb(s,r,o,c,m,g){m=Jb(m),c.context===null?c.context=m:c.pendingContext=m,c=or(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=lr(s,c,r),o!==null&&(xn(o,s,r),zu(o,s,r))}function tS(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function Zg(s,r){tS(s,r),(s=s.alternate)&&tS(s,r)}function eS(s){if(s.tag===13||s.tag===31){var r=wa(s,67108864);r!==null&&xn(r,s,67108864),Zg(s,67108864)}}function nS(s){if(s.tag===13||s.tag===31){var r=jn();r=da(r);var o=wa(s,r);o!==null&&xn(o,s,r),Zg(s,r)}}var id=!0;function T2(s,r,o,c){var m=tt.T;tt.T=null;var g=lt.p;try{lt.p=2,ty(s,r,o,c)}finally{lt.p=g,tt.T=m}}function E2(s,r,o,c){var m=tt.T;tt.T=null;var g=lt.p;try{lt.p=8,ty(s,r,o,c)}finally{lt.p=g,tt.T=m}}function ty(s,r,o,c){if(id){var m=ey(c);if(m===null)zg(s,r,c,sd,o),sS(s,c);else if(S2(m,s,r,o,c))c.stopPropagation();else if(sS(s,c),r&4&&-1<b2.indexOf(s)){for(;m!==null;){var g=Yn(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Di(g.pendingLanes);if(T!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var D=1<<31-be(T);S.entanglements[1]|=D,T&=~D}Qi(g),(Qt&6)===0&&(zf=yn()+500,nc(0))}}break;case 31:case 13:S=wa(g,2),S!==null&&xn(S,g,2),Ff(),Zg(g,2)}if(g=ey(c),g===null&&zg(s,r,c,sd,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else zg(s,r,c,null,o)}}function ey(s){return s=Qn(s),ny(s)}var sd=null;function ny(s){if(sd=null,s=Oi(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=u(r),s!==null)return s;s=null}else if(o===31){if(s=h(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return sd=s,null}function iS(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ua()){case hu:return 2;case fu:return 8;case Ks:case lp:return 32;case Oh:return 268435456;default:return 32}default:return 32}}var iy=!1,vr=null,Tr=null,Er=null,uc=new Map,cc=new Map,br=[],b2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sS(s,r){switch(s){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":uc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":cc.delete(r.pointerId)}}function hc(s,r,o,c,m,g){return s===null||s.nativeEvent!==g?(s={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},r!==null&&(r=Yn(r),r!==null&&eS(r)),s):(s.eventSystemFlags|=c,r=s.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),s)}function S2(s,r,o,c,m){switch(r){case"focusin":return vr=hc(vr,s,r,o,c,m),!0;case"dragenter":return Tr=hc(Tr,s,r,o,c,m),!0;case"mouseover":return Er=hc(Er,s,r,o,c,m),!0;case"pointerover":var g=m.pointerId;return uc.set(g,hc(uc.get(g)||null,s,r,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,cc.set(g,hc(cc.get(g)||null,s,r,o,c,m)),!0}return!1}function rS(s){var r=Oi(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){s.blockedOn=r,hi(s.priority,function(){nS(o)});return}}else if(r===31){if(r=h(o),r!==null){s.blockedOn=r,hi(s.priority,function(){nS(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function rd(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=ey(s.nativeEvent);if(o===null){o=s.nativeEvent;var c=new o.constructor(o.type,o);Au=c,o.target.dispatchEvent(c),Au=null}else return r=Yn(o),r!==null&&eS(r),s.blockedOn=o,!1;r.shift()}return!0}function aS(s,r,o){rd(s)&&o.delete(r)}function A2(){iy=!1,vr!==null&&rd(vr)&&(vr=null),Tr!==null&&rd(Tr)&&(Tr=null),Er!==null&&rd(Er)&&(Er=null),uc.forEach(aS),cc.forEach(aS)}function ad(s,r){s.blockedOn===r&&(s.blockedOn=null,iy||(iy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,A2)))}var od=null;function oS(s){od!==s&&(od=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){od===s&&(od=null);for(var r=0;r<s.length;r+=3){var o=s[r],c=s[r+1],m=s[r+2];if(typeof c!="function"){if(ny(c||o)===null)continue;break}var g=Yn(o);g!==null&&(s.splice(r,3),r-=3,eg(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function il(s){function r(D){return ad(D,s)}vr!==null&&ad(vr,s),Tr!==null&&ad(Tr,s),Er!==null&&ad(Er,s),uc.forEach(r),cc.forEach(r);for(var o=0;o<br.length;o++){var c=br[o];c.blockedOn===s&&(c.blockedOn=null)}for(;0<br.length&&(o=br[0],o.blockedOn===null);)rS(o),o.blockedOn===null&&br.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],T=m[Xe]||null;if(typeof g=="function")T||oS(o);else if(T){var S=null;if(g&&g.hasAttribute("formAction")){if(m=g,T=g[Xe]||null)S=T.formAction;else if(ny(m)!==null)continue}else S=T.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),oS(o)}}}function lS(){function s(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return m=T})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function sy(s){this._internalRoot=s}ld.prototype.render=sy.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,c=jn();Zb(o,c,s,r,null,null)},ld.prototype.unmount=sy.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;Zb(s.current,2,null,s,null,null),Ff(),r[Ni]=null}};function ld(s){this._internalRoot=s}ld.prototype.unstable_scheduleHydration=function(s){if(s){var r=jh();s={blockedOn:null,target:s,priority:r};for(var o=0;o<br.length&&r!==0&&r<br[o].priority;o++);br.splice(o,0,s),o===0&&rS(s)}};var uS=t.version;if(uS!=="19.2.4")throw Error(i(527,uS,"19.2.4"));lt.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(r),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var w2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:tt,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ud.isDisabled&&ud.supportsFiber)try{ui=ud.inject(w2),en=ud}catch{}}return dc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,c="",m=gE,g=yE,T=_E;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=Wb(s,1,!1,null,null,o,c,null,m,g,T,lS),s[Ni]=r.current,Bg(s),new sy(r)},dc.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var c=!1,m="",g=gE,T=yE,S=_E,D=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(D=o.formState)),r=Wb(s,1,!0,r,o??null,c,m,D,g,T,S,lS),r.context=Jb(null),o=r.current,c=jn(),c=da(c),m=or(c),m.callback=null,lr(o,m,c),o=c,r.current.lanes=o,ha(r,o),Qi(r),s[Ni]=r.current,Bg(s),new ld(r)},dc.version="19.2.4",dc}var vS;function k2(){if(vS)return oy.exports;vS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),oy.exports=O2(),oy.exports}var L2=k2();const U2="modulepreload",B2=function(n){return"/soka/"+n},TS={},k1=function(t,e,i){let a=Promise.resolve();if(e&&e.length>0){let d=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");a=d(e.map(p=>{if(p=B2(p),p in TS)return;TS[p]=!0;const y=p.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const E=document.createElement("link");if(E.rel=y?"stylesheet":U2,y||(E.as="script"),E.crossOrigin="",E.href=p,h&&E.setAttribute("nonce",h),document.head.appendChild(E),y)return new Promise((I,N)=>{E.addEventListener("load",I),E.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&l(h.reason);return t().catch(l)})},z2=()=>{};var ES={};const L1=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},j2=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const a=n[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[e++];t[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[e++],u=n[e++],h=n[e++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(d>>10)),t[i++]=String.fromCharCode(56320+(d&1023))}else{const l=n[e++],u=n[e++];t[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return t.join("")},U1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,h=u?n[a+1]:0,d=a+2<n.length,p=d?n[a+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let E=(h&15)<<2|p>>6,I=p&63;d||(I=64,u||(E=64)),i.push(e[y],e[v],e[E],e[I])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(L1(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):j2(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=e[n.charAt(a++)],h=a<n.length?e[n.charAt(a)]:0;++a;const p=a<n.length?e[n.charAt(a)]:64;++a;const v=a<n.length?e[n.charAt(a)]:64;if(++a,l==null||h==null||p==null||v==null)throw new F2;const E=l<<2|h>>4;if(i.push(E),p!==64){const I=h<<4&240|p>>2;if(i.push(I),v!==64){const N=p<<6&192|v;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class F2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q2=function(n){const t=L1(n);return U1.encodeByteArray(t,!0)},B1=function(n){return q2(n).replace(/\./g,"")},z1=function(n){try{return U1.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function j1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const H2=()=>j1().__FIREBASE_DEFAULTS__,G2=()=>{if(typeof process>"u"||typeof ES>"u")return;const n=ES.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},K2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&z1(n[1]);return t&&JSON.parse(t)},Im=()=>{try{return z2()||H2()||G2()||K2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},$2=n=>Im()?.emulatorHosts?.[n],F1=()=>Im()?.config,q1=n=>Im()?.[`_${n}`];class Y2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function Ql(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function H1(n){return(await fetch(n,{credentials:"include"})).ok}const Rc={};function Q2(){const n={prod:[],emulator:[]};for(const t of Object.keys(Rc))Rc[t]?n.emulator.push(t):n.prod.push(t);return n}function X2(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let bS=!1;function W2(n,t){if(typeof window>"u"||typeof document>"u"||!Ql(window.location.host)||Rc[n]===t||Rc[n]||bS)return;Rc[n]=t;function e(E){return`__firebase__banner__${E}`}const i="__firebase__banner",l=Q2().prod.length>0;function u(){const E=document.getElementById(i);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,I){E.setAttribute("width","24"),E.setAttribute("id",I),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{bS=!0,u()},E}function y(E,I){E.setAttribute("id",I),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=X2(i),I=e("text"),N=document.getElementById(I)||document.createElement("span"),U=e("learnmore"),L=document.getElementById(U)||document.createElement("a"),$=e("preprendIcon"),J=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const j=E.element;h(j),y(L,U);const Y=p();d(J,$),j.append(J,N,L,Y),document.body.appendChild(j)}l?(N.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function G1(){const n=Im()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Z2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function eM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nM(){const n=$e();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function K1(){return!G1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $1(){return!G1()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Y1(){try{return typeof indexedDB=="object"}catch{return!1}}function iM(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}const sM="FirebaseError";class js extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=sM,Object.setPrototypeOf(this,js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fh.prototype.create)}}class fh{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],u=l?rM(l,i):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new js(a,h,i)}}function rM(n,t){return n.replace(aM,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const aM=/\{\$([^}]+)}/g;function oM(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function no(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const l=n[a],u=t[a];if(SS(l)&&SS(u)){if(!no(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function SS(n){return n!==null&&typeof n=="object"}function dh(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function lM(n,t){const e=new uM(n,t);return e.subscribe.bind(e)}class uM{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let a;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");cM(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:i},a.next===void 0&&(a.next=hy),a.error===void 0&&(a.error=hy),a.complete===void 0&&(a.complete=hy);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cM(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function hy(){}function Ye(n){return n&&n._delegate?n._delegate:n}class io{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ja="[DEFAULT]";class hM{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new Y2;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(dM(t))try{this.getOrInitializeService({instanceIdentifier:ja})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(t=ja){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ja){return this.instances.has(t)}getOptions(t=ja){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&u.resolve(a)}return a}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&t(l,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:fM(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ja){return this.component?this.component.multipleInstances?t:ja:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fM(n){return n===ja?void 0:n}function dM(n){return n.instantiationMode==="EAGER"}class mM{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new hM(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Bt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Bt||(Bt={}));const pM={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},gM=Bt.INFO,yM={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},_M=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),a=yM[t];if(a)console[a](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class W_{constructor(t){this.name=t,this._logLevel=gM,this._logHandler=_M,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?pM[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const vM=(n,t)=>t.some(e=>n instanceof e);let AS,wS;function TM(){return AS||(AS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EM(){return wS||(wS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q1=new WeakMap,qy=new WeakMap,X1=new WeakMap,fy=new WeakMap,J_=new WeakMap;function bM(n){const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{e(Ur(n.result)),a()},u=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&Q1.set(e,n)}).catch(()=>{}),J_.set(t,n),t}function SM(n){if(qy.has(n))return;const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{e(),a()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});qy.set(n,t)}let Hy={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return qy.get(n);if(t==="objectStoreNames")return n.objectStoreNames||X1.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ur(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function AM(n){Hy=n(Hy)}function wM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(dy(this),t,...e);return X1.set(i,t.sort?t.sort():[t]),Ur(i)}:EM().includes(n)?function(...t){return n.apply(dy(this),t),Ur(Q1.get(this))}:function(...t){return Ur(n.apply(dy(this),t))}}function IM(n){return typeof n=="function"?wM(n):(n instanceof IDBTransaction&&SM(n),vM(n,TM())?new Proxy(n,Hy):n)}function Ur(n){if(n instanceof IDBRequest)return bM(n);if(fy.has(n))return fy.get(n);const t=IM(n);return t!==n&&(fy.set(n,t),J_.set(t,n)),t}const dy=n=>J_.get(n);function RM(n,t,{blocked:e,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(n,t),h=Ur(u);return i&&u.addEventListener("upgradeneeded",d=>{i(Ur(u.result),d.oldVersion,d.newVersion,Ur(u.transaction),d)}),e&&u.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const xM=["get","getKey","getAll","getAllKeys","count"],CM=["put","add","delete","clear"],my=new Map;function IS(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(my.get(t))return my.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=CM.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||xM.includes(e)))return;const l=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let p=d.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[e](...h),a&&d.done]))[0]};return my.set(t,l),l}AM(n=>({...n,get:(t,e,i)=>IS(t,e)||n.get(t,e,i),has:(t,e)=>!!IS(t,e)||n.has(t,e)}));class DM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(VM(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function VM(n){return n.getComponent()?.type==="VERSION"}const Gy="@firebase/app",RS="0.14.7";const Ps=new W_("@firebase/app"),MM="@firebase/app-compat",NM="@firebase/analytics-compat",PM="@firebase/analytics",OM="@firebase/app-check-compat",kM="@firebase/app-check",LM="@firebase/auth",UM="@firebase/auth-compat",BM="@firebase/database",zM="@firebase/data-connect",jM="@firebase/database-compat",FM="@firebase/functions",qM="@firebase/functions-compat",HM="@firebase/installations",GM="@firebase/installations-compat",KM="@firebase/messaging",$M="@firebase/messaging-compat",YM="@firebase/performance",QM="@firebase/performance-compat",XM="@firebase/remote-config",WM="@firebase/remote-config-compat",JM="@firebase/storage",ZM="@firebase/storage-compat",tN="@firebase/firestore",eN="@firebase/ai",nN="@firebase/firestore-compat",iN="firebase",sN="12.8.0";const Ky="[DEFAULT]",rN={[Gy]:"fire-core",[MM]:"fire-core-compat",[PM]:"fire-analytics",[NM]:"fire-analytics-compat",[kM]:"fire-app-check",[OM]:"fire-app-check-compat",[LM]:"fire-auth",[UM]:"fire-auth-compat",[BM]:"fire-rtdb",[zM]:"fire-data-connect",[jM]:"fire-rtdb-compat",[FM]:"fire-fn",[qM]:"fire-fn-compat",[HM]:"fire-iid",[GM]:"fire-iid-compat",[KM]:"fire-fcm",[$M]:"fire-fcm-compat",[YM]:"fire-perf",[QM]:"fire-perf-compat",[XM]:"fire-rc",[WM]:"fire-rc-compat",[JM]:"fire-gcs",[ZM]:"fire-gcs-compat",[tN]:"fire-fst",[nN]:"fire-fst-compat",[eN]:"fire-vertex","fire-js":"fire-js",[iN]:"fire-js-all"};const Hd=new Map,aN=new Map,$y=new Map;function xS(n,t){try{n.container.addComponent(t)}catch(e){Ps.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Rl(n){const t=n.name;if($y.has(t))return Ps.debug(`There were multiple attempts to register component ${t}.`),!1;$y.set(t,n);for(const e of Hd.values())xS(e,n);for(const e of aN.values())xS(e,n);return!0}function Z_(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Ai(n){return n==null?!1:n.settings!==void 0}const oN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new fh("app","Firebase",oN);class lN{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}const Xl=sN;function W1(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:Ky,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw Br.create("bad-app-name",{appName:String(a)});if(e||(e=F1()),!e)throw Br.create("no-options");const l=Hd.get(a);if(l){if(no(e,l.options)&&no(i,l.config))return l;throw Br.create("duplicate-app",{appName:a})}const u=new mM(a);for(const d of $y.values())u.addComponent(d);const h=new lN(e,i,u);return Hd.set(a,h),h}function uN(n=Ky){const t=Hd.get(n);if(!t&&n===Ky&&F1())return W1();if(!t)throw Br.create("no-app",{appName:n});return t}function zr(n,t,e){let i=rN[n]??n;e&&(i+=`-${e}`);const a=i.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${t}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ps.warn(u.join(" "));return}Rl(new io(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const cN="firebase-heartbeat-database",hN=1,qc="firebase-heartbeat-store";let py=null;function J1(){return py||(py=RM(cN,hN,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(qc)}catch(e){console.warn(e)}}}}).catch(n=>{throw Br.create("idb-open",{originalErrorMessage:n.message})})),py}async function fN(n){try{const e=(await J1()).transaction(qc),i=await e.objectStore(qc).get(Z1(n));return await e.done,i}catch(t){if(t instanceof js)Ps.warn(t.message);else{const e=Br.create("idb-get",{originalErrorMessage:t?.message});Ps.warn(e.message)}}}async function CS(n,t){try{const i=(await J1()).transaction(qc,"readwrite");await i.objectStore(qc).put(t,Z1(n)),await i.done}catch(e){if(e instanceof js)Ps.warn(e.message);else{const i=Br.create("idb-set",{originalErrorMessage:e?.message});Ps.warn(i.message)}}}function Z1(n){return`${n.name}!${n.options.appId}`}const dN=1024,mN=30;class pN{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new yN(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=DS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>mN){const a=_N(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ps.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=DS(),{heartbeatsToSend:e,unsentEntries:i}=gN(this._heartbeatsCache.heartbeats),a=B1(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ps.warn(t),""}}}function DS(){return new Date().toISOString().substring(0,10)}function gN(n,t=dN){const e=[];let i=n.slice();for(const a of n){const l=e.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),VS(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),VS(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class yN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Y1()?iM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await fN(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return CS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return CS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function VS(n){return B1(JSON.stringify({version:2,heartbeats:n})).length}function _N(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function vN(n){Rl(new io("platform-logger",t=>new DM(t),"PRIVATE")),Rl(new io("heartbeat",t=>new pN(t),"PRIVATE")),zr(Gy,RS,n),zr(Gy,RS,"esm2020"),zr("fire-js","")}vN("");function tI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TN=tI,eI=new fh("auth","Firebase",tI());const Gd=new W_("@firebase/auth");function EN(n,...t){Gd.logLevel<=Bt.WARN&&Gd.warn(`Auth (${Xl}): ${n}`,...t)}function Sd(n,...t){Gd.logLevel<=Bt.ERROR&&Gd.error(`Auth (${Xl}): ${n}`,...t)}function Os(n,...t){throw tv(n,...t)}function es(n,...t){return tv(n,...t)}function nI(n,t,e){const i={...TN(),[t]:e};return new fh("auth","Firebase",i).create(t,{appName:n.name})}function jr(n){return nI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tv(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return eI.create(n,...t)}function At(n,t,...e){if(!n)throw tv(t,...e)}function Cs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Sd(t),new Error(t)}function ks(n,t){n||Cs(t)}function Yy(){return typeof self<"u"&&self.location?.href||""}function bN(){return MS()==="http:"||MS()==="https:"}function MS(){return typeof self<"u"&&self.location?.protocol||null}function SN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bN()||tM()||"connection"in navigator)?navigator.onLine:!0}function AN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class mh{constructor(t,e){this.shortDelay=t,this.longDelay=e,ks(e>t,"Short delay should be less than long delay!"),this.isMobile=J2()||eM()}get(){return SN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ev(n,t){ks(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class iI{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const IN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RN=new mh(3e4,6e4);function Rm(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Wl(n,t,e,i,a={}){return sI(n,a,async()=>{let l={},u={};i&&(t==="GET"?u=i:l={body:JSON.stringify(i)});const h=dh({key:n.config.apiKey,...u}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p={method:t,headers:d,...l};return Z2()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Ql(n.emulatorConfig.host)&&(p.credentials="include"),iI.fetch()(await aI(n,n.config.apiHost,e,h),p)})}async function sI(n,t,e){n._canInitEmulator=!1;const i={...wN,...t};try{const a=new xN(n),l=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw cd(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw cd(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw cd(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw cd(n,"user-disabled",u);const y=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw nI(n,y,p);Os(n,y)}}catch(a){if(a instanceof js)throw a;Os(n,"network-request-failed",{message:String(a)})}}async function rI(n,t,e,i,a={}){const l=await Wl(n,t,e,i,a);return"mfaPendingCredential"in l&&Os(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function aI(n,t,e,i){const a=`${t}${e}?${i}`,l=n,u=l.config.emulator?ev(n.config,a):`${n.config.apiScheme}://${a}`;return IN.includes(e)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class xN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(es(this.auth,"network-request-failed")),RN.get())})}}function cd(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const a=es(n,t,i);return a.customData._tokenResponse=e,a}async function CN(n,t){return Wl(n,"POST","/v1/accounts:delete",t)}async function Kd(n,t){return Wl(n,"POST","/v1/accounts:lookup",t)}function xc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function DN(n,t=!1){const e=Ye(n),i=await e.getIdToken(t),a=nv(i);At(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:i,authTime:xc(gy(a.auth_time)),issuedAtTime:xc(gy(a.iat)),expirationTime:xc(gy(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function gy(n){return Number(n)*1e3}function nv(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Sd("JWT malformed, contained fewer than 3 sections"),null;try{const a=z1(e);return a?JSON.parse(a):(Sd("Failed to decode base64 JWT payload"),null)}catch(a){return Sd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function NS(n){const t=nv(n);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Hc(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof js&&VN(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function VN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class MN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Qy{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=xc(this.lastLoginAt),this.creationTime=xc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $d(n){const t=n.auth,e=await n.getIdToken(),i=await Hc(n,Kd(t,{idToken:e}));At(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?oI(a.providerUserInfo):[],u=PN(n.providerData,l),h=n.isAnonymous,d=!(n.email&&a.passwordHash)&&!u?.length,p=h?d:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Qy(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,y)}async function NN(n){const t=Ye(n);await $d(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function PN(n,t){return[...n.filter(i=>!t.some(a=>a.providerId===i.providerId)),...t]}function oI(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function ON(n,t){const e=await sI(n,{},async()=>{const i=dh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=await aI(n,a,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:i};return n.emulatorConfig&&Ql(n.emulatorConfig.host)&&(d.credentials="include"),iI.fetch()(u,d)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function kN(n,t){return Wl(n,"POST","/v2/accounts:revokeToken",Rm(n,t))}class El{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):NS(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){At(t.length!==0,"internal-error");const e=NS(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:a,expiresIn:l}=await ON(t,e);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:a,expirationTime:l}=e,u=new El;return i&&(At(typeof i=="string","internal-error",{appName:t}),u.refreshToken=i),a&&(At(typeof a=="string","internal-error",{appName:t}),u.accessToken=a),l&&(At(typeof l=="number","internal-error",{appName:t}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new El,this.toJSON())}_performRefresh(){return Cs("not implemented")}}function Ar(n,t){At(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class wi{constructor({uid:t,auth:e,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new MN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Qy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await Hc(this,this.stsTokenManager.getToken(this.auth,t));return At(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return DN(this,t)}reload(){return NN(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new wi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await $d(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ai(this.auth.app))return Promise.reject(jr(this.auth));const t=await this.getIdToken();return await Hc(this,CN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,a=e.email??void 0,l=e.phoneNumber??void 0,u=e.photoURL??void 0,h=e.tenantId??void 0,d=e._redirectEventId??void 0,p=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:I,providerData:N,stsTokenManager:U}=e;At(v&&U,t,"internal-error");const L=El.fromJSON(this.name,U);At(typeof v=="string",t,"internal-error"),Ar(i,t.name),Ar(a,t.name),At(typeof E=="boolean",t,"internal-error"),At(typeof I=="boolean",t,"internal-error"),Ar(l,t.name),Ar(u,t.name),Ar(h,t.name),Ar(d,t.name),Ar(p,t.name),Ar(y,t.name);const $=new wi({uid:v,auth:t,email:a,emailVerified:E,displayName:i,isAnonymous:I,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:L,createdAt:p,lastLoginAt:y});return N&&Array.isArray(N)&&($.providerData=N.map(J=>({...J}))),d&&($._redirectEventId=d),$}static async _fromIdTokenResponse(t,e,i=!1){const a=new El;a.updateFromServerResponse(e);const l=new wi({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:i});return await $d(l),l}static async _fromGetAccountInfoResponse(t,e,i){const a=e.users[0];At(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?oI(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new El;h.updateFromIdToken(i);const d=new wi({uid:a.localId,auth:t,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Qy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,p),d}}const PS=new Map;function Ds(n){ks(n instanceof Function,"Expected a class definition");let t=PS.get(n);return t?(ks(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,PS.set(n,t),t)}class lI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}lI.type="NONE";const OS=lI;function Ad(n,t,e){return`firebase:${n}:${t}:${e}`}class bl{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Ad(this.userKey,a.apiKey,l),this.fullPersistenceKey=Ad("persistence",a.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Kd(this.auth,{idToken:t}).catch(()=>{});return e?wi._fromGetAccountInfoResponse(this.auth,e,t):null}return wi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new bl(Ds(OS),t,i);const a=(await Promise.all(e.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Ds(OS);const u=Ad(i,t.config.apiKey,t.name);let h=null;for(const p of e)try{const y=await p._get(u);if(y){let v;if(typeof y=="string"){const E=await Kd(t,{idToken:y}).catch(()=>{});if(!E)break;v=await wi._fromGetAccountInfoResponse(t,E,y)}else v=wi._fromJSON(t,y);p!==l&&(h=v),l=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new bl(l,t,i):(l=d[0],h&&await l._set(u,h.toJSON()),await Promise.all(e.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new bl(l,t,i))}}function kS(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fI(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(uI(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(mI(t))return"Blackberry";if(pI(t))return"Webos";if(cI(t))return"Safari";if((t.includes("chrome/")||hI(t))&&!t.includes("edge/"))return"Chrome";if(dI(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function uI(n=$e()){return/firefox\//i.test(n)}function cI(n=$e()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function hI(n=$e()){return/crios\//i.test(n)}function fI(n=$e()){return/iemobile/i.test(n)}function dI(n=$e()){return/android/i.test(n)}function mI(n=$e()){return/blackberry/i.test(n)}function pI(n=$e()){return/webos/i.test(n)}function iv(n=$e()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function LN(n=$e()){return iv(n)&&!!window.navigator?.standalone}function UN(){return nM()&&document.documentMode===10}function gI(n=$e()){return iv(n)||dI(n)||pI(n)||mI(n)||/windows phone/i.test(n)||fI(n)}function yI(n,t=[]){let e;switch(n){case"Browser":e=kS($e());break;case"Worker":e=`${kS($e())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Xl}/${i}`}class BN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=l=>new Promise((u,h)=>{try{const d=t(l);u(d)}catch(d){h(d)}});i.onAbort=e,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function zN(n,t={}){return Wl(n,"GET","/v2/passwordPolicy",Rm(n,t))}const jN=6;class FN{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??jN,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let a=0;a<t.length;a++)i=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}class qN{constructor(t,e,i,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new LS(this),this.idTokenSubscription=new LS(this),this.beforeStateQueue=new BN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ds(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await bl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Kd(this,{idToken:t}),i=await wi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ai(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!l||l===u)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await $d(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=AN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ai(this.app))return Promise.reject(jr(this));const e=t?Ye(t):null;return e&&At(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ai(this.app)?Promise.reject(jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ai(this.app)?Promise.reject(jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ds(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await zN(this),e=new FN(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new fh("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await kN(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ds(t)||this._popupRedirectResolver;At(e,this,"argument-error"),this.redirectPersistenceManager=await bl.create(this,[Ds(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,a){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof e=="function"){const d=t.addObserver(e,i,a);return()=>{u=!0,d()}}else{const d=t.addObserver(e);return()=>{u=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=yI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&EN(`Error while retrieving App Check token: ${t.error}`),t?.token}}function xm(n){return Ye(n)}class LS{constructor(t){this.auth=t,this.observer=null,this.addObserver=lM(e=>this.observer=e)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let sv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HN(n){sv=n}function GN(n){return sv.loadJS(n)}function KN(){return sv.gapiScript}function $N(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function YN(n,t){const e=Z_(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),l=e.getOptions();if(no(l,t??{}))return a;Os(a,"already-initialized")}return e.initialize({options:t})}function QN(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Ds);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function XN(n,t,e){const i=xm(n);At(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const a=!1,l=_I(t),{host:u,port:h}=WN(t),d=h===null?"":`:${h}`,p={url:`${l}//${u}${d}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){At(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),At(no(p,i.config.emulator)&&no(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Ql(u)?(H1(`${l}//${u}${d}`),W2("Auth",!0)):JN()}function _I(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function WN(n){const t=_I(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:US(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:US(u)}}}function US(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function JN(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class vI{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Cs("not implemented")}_getIdTokenResponse(t){return Cs("not implemented")}_linkToIdToken(t,e){return Cs("not implemented")}_getReauthenticationResolver(t){return Cs("not implemented")}}async function Sl(n,t){return rI(n,"POST","/v1/accounts:signInWithIdp",Rm(n,t))}const ZN="http://localhost";class so extends vI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new so(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Os("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:a,...l}=e;if(!i||!a)return null;const u=new so(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(t){const e=this.buildRequest();return Sl(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Sl(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Sl(t,e)}buildRequest(){const t={requestUri:ZN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=dh(e)}return t}}class TI{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ph extends TI{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Cr extends ph{constructor(){super("facebook.com")}static credential(t){return so._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Cr.credentialFromTaggedObject(t)}static credentialFromError(t){return Cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Cr.credential(t.oauthAccessToken)}catch{return null}}}Cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cr.PROVIDER_ID="facebook.com";class Dr extends ph{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return so._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Dr.credentialFromTaggedObject(t)}static credentialFromError(t){return Dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Dr.credential(e,i)}catch{return null}}}Dr.GOOGLE_SIGN_IN_METHOD="google.com";Dr.PROVIDER_ID="google.com";class Vr extends ph{constructor(){super("github.com")}static credential(t){return so._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Vr.credentialFromTaggedObject(t)}static credentialFromError(t){return Vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Vr.credential(t.oauthAccessToken)}catch{return null}}}Vr.GITHUB_SIGN_IN_METHOD="github.com";Vr.PROVIDER_ID="github.com";class Mr extends ph{constructor(){super("twitter.com")}static credential(t,e){return so._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Mr.credentialFromTaggedObject(t)}static credentialFromError(t){return Mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Mr.credential(e,i)}catch{return null}}}Mr.TWITTER_SIGN_IN_METHOD="twitter.com";Mr.PROVIDER_ID="twitter.com";async function tP(n,t){return rI(n,"POST","/v1/accounts:signUp",Rm(n,t))}class Kr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,a=!1){const l=await wi._fromIdTokenResponse(t,i,a),u=BS(i);return new Kr({user:l,providerId:u,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const a=BS(i);return new Kr({user:t,providerId:a,_tokenResponse:i,operationType:e})}}function BS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function eP(n){if(Ai(n.app))return Promise.reject(jr(n));const t=xm(n);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Kr({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await tP(t,{returnSecureToken:!0}),i=await Kr._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(i.user),i}class Yd extends js{constructor(t,e,i,a){super(e.code,e.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Yd.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,a){return new Yd(t,e,i,a)}}function EI(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Yd._fromErrorAndOperation(n,l,t,i):l})}async function nP(n,t,e=!1){const i=await Hc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Kr._forOperation(n,"link",i)}async function iP(n,t,e=!1){const{auth:i}=n;if(Ai(i.app))return Promise.reject(jr(i));const a="reauthenticate";try{const l=await Hc(n,EI(i,a,t,n),e);At(l.idToken,i,"internal-error");const u=nv(l.idToken);At(u,i,"internal-error");const{sub:h}=u;return At(n.uid===h,i,"user-mismatch"),Kr._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Os(i,"user-mismatch"),l}}async function sP(n,t,e=!1){if(Ai(n.app))return Promise.reject(jr(n));const i="signIn",a=await EI(n,i,t),l=await Kr._fromIdTokenResponse(n,i,a);return e||await n._updateCurrentUser(l.user),l}function rP(n,t,e,i){return Ye(n).onIdTokenChanged(t,e,i)}function aP(n,t,e){return Ye(n).beforeAuthStateChanged(t,e)}function oP(n,t,e,i){return Ye(n).onAuthStateChanged(t,e,i)}const Qd="__sak";class bI{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Qd,"1"),this.storage.removeItem(Qd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const lP=1e3,uP=10;class SI extends bI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gI(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),a=this.localCache[e];i!==a&&t(e,a,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const i=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!e&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);UN()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,uP):a()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},lP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}SI.type="LOCAL";const cP=SI;class AI extends bI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}AI.type="SESSION";const wI=AI;function hP(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Cm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const i=new Cm(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:a,data:l}=e.data,u=this.handlersMap[a];if(!u?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(u).map(async p=>p(e.origin,l)),d=await hP(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:d})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cm.receivers=[];function rv(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class fP{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,d)=>{const p=rv("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(E.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:p,data:e},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function ns(){return window}function dP(n){ns().location.href=n}function II(){return typeof ns().WorkerGlobalScope<"u"&&typeof ns().importScripts=="function"}async function mP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pP(){return navigator?.serviceWorker?.controller||null}function gP(){return II()?self:null}const RI="firebaseLocalStorageDb",yP=1,Xd="firebaseLocalStorage",xI="fbase_key";class gh{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Dm(n,t){return n.transaction([Xd],t?"readwrite":"readonly").objectStore(Xd)}function _P(){const n=indexedDB.deleteDatabase(RI);return new gh(n).toPromise()}function Xy(){const n=indexedDB.open(RI,yP);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Xd,{keyPath:xI})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Xd)?t(i):(i.close(),await _P(),t(await Xy()))})})}async function zS(n,t,e){const i=Dm(n,!0).put({[xI]:t,value:e});return new gh(i).toPromise()}async function vP(n,t){const e=Dm(n,!1).get(t),i=await new gh(e).toPromise();return i===void 0?null:i.value}function jS(n,t){const e=Dm(n,!0).delete(t);return new gh(e).toPromise()}const TP=800,EP=3;class CI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xy(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>EP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return II()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cm._getInstance(gP()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await mP(),!this.activeServiceWorker)return;this.sender=new fP(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||pP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Xy();return await zS(t,Qd,"1"),await jS(t,Qd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>zS(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>vP(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>jS(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=Dm(a,!1).getAll();return new gh(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CI.type="LOCAL";const bP=CI;new mh(3e4,6e4);function SP(n,t){return t?Ds(t):(At(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class av extends vI{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Sl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Sl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Sl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function AP(n){return sP(n.auth,new av(n),n.bypassAuthState)}function wP(n){const{auth:t,user:e}=n;return At(e,t,"internal-error"),iP(e,new av(n),n.bypassAuthState)}async function IP(n){const{auth:t,user:e}=n;return At(e,t,"internal-error"),nP(e,new av(n),n.bypassAuthState)}class DI{constructor(t,e,i,a,l=!1){this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:a,tenantId:l,error:u,type:h}=t;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:e,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return AP;case"linkViaPopup":case"linkViaRedirect":return IP;case"reauthViaPopup":case"reauthViaRedirect":return wP;default:Os(this.auth,"internal-error")}}resolve(t){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const RP=new mh(2e3,1e4);class pl extends DI{constructor(t,e,i,a,l){super(t,e,a,l),this.provider=i,this.authWindow=null,this.pollId=null,pl.currentPopupAction&&pl.currentPopupAction.cancel(),pl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){ks(this.filter.length===1,"Popup operations only handle one event");const t=rv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(es(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(es(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pl.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(es(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,RP.get())};t()}}pl.currentPopupAction=null;const xP="pendingRedirect",wd=new Map;class CP extends DI{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=wd.get(this.auth._key());if(!t){try{const i=await DP(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}wd.set(this.auth._key(),t)}return this.bypassAuthState||wd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DP(n,t){const e=NP(t),i=MP(n);if(!await i._isAvailable())return!1;const a=await i._get(e)==="true";return await i._remove(e),a}function VP(n,t){wd.set(n._key(),t)}function MP(n){return Ds(n._redirectPersistence)}function NP(n){return Ad(xP,n.config.apiKey,n.name)}async function PP(n,t,e=!1){if(Ai(n.app))return Promise.reject(jr(n));const i=xm(n),a=SP(i,t),u=await new CP(i,a,e).execute();return u&&!e&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,t)),u}const OP=600*1e3;class kP{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!LP(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!VI(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(es(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=OP&&this.cachedEventUids.clear(),this.cachedEventUids.has(FS(t))}saveEventToCache(t){this.cachedEventUids.add(FS(t)),this.lastProcessedEventTime=Date.now()}}function FS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function VI({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function LP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VI(n);default:return!1}}async function UP(n,t={}){return Wl(n,"GET","/v1/projects",t)}const BP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zP=/^https?/;async function jP(n){if(n.config.emulator)return;const{authorizedDomains:t}=await UP(n);for(const e of t)try{if(FP(e))return}catch{}Os(n,"unauthorized-domain")}function FP(n){const t=Yy(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&u.hostname===i}if(!zP.test(e))return!1;if(BP.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const qP=new mh(3e4,6e4);function qS(){const n=ns().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function HP(n){return new Promise((t,e)=>{function i(){qS(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{qS(),e(es(n,"network-request-failed"))},timeout:qP.get()})}if(ns().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ns().gapi?.load)i();else{const a=$N("iframefcb");return ns()[a]=()=>{gapi.load?i():e(es(n,"network-request-failed"))},GN(`${KN()}?onload=${a}`).catch(l=>e(l))}}).catch(t=>{throw Id=null,t})}let Id=null;function GP(n){return Id=Id||HP(n),Id}const KP=new mh(5e3,15e3),$P="__/auth/iframe",YP="emulator/auth/iframe",QP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WP(n){const t=n.config;At(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?ev(t,YP):`https://${n.config.authDomain}/${$P}`,i={apiKey:t.apiKey,appName:n.name,v:Xl},a=XP.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${e}?${dh(i).slice(1)}`}async function JP(n){const t=await GP(n),e=ns().gapi;return At(e,n,"internal-error"),t.open({where:document.body,url:WP(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QP,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=es(n,"network-request-failed"),h=ns().setTimeout(()=>{l(u)},KP.get());function d(){ns().clearTimeout(h),a(i)}i.ping(d).then(d,()=>{l(u)})}))}const ZP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tO=500,eO=600,nO="_blank",iO="http://localhost";class HS{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sO(n,t,e,i=tO,a=eO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d={...ZP,width:i.toString(),height:a.toString(),top:l,left:u},p=$e().toLowerCase();e&&(h=hI(p)?nO:e),uI(p)&&(t=t||iO,d.scrollbars="yes");const y=Object.entries(d).reduce((E,[I,N])=>`${E}${I}=${N},`,"");if(LN(p)&&h!=="_self")return rO(t||"",h),new HS(null);const v=window.open(t||"",h,y);At(v,n,"popup-blocked");try{v.focus()}catch{}return new HS(v)}function rO(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const aO="__/auth/handler",oO="emulator/auth/handler",lO=encodeURIComponent("fac");async function GS(n,t,e,i,a,l){At(n.config.authDomain,n,"auth-domain-config-required"),At(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Xl,eventId:a};if(t instanceof TI){t.setDefaultLanguage(n.languageCode),u.providerId=t.providerId||"",oM(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(t instanceof ph){const y=t.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await n._getAppCheckToken(),p=d?`#${lO}=${encodeURIComponent(d)}`:"";return`${uO(n)}?${dh(h).slice(1)}${p}`}function uO({config:n}){return n.emulator?ev(n,oO):`https://${n.authDomain}/${aO}`}const yy="webStorageSupport";class cO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wI,this._completeRedirectFn=PP,this._overrideRedirectResult=VP}async _openPopup(t,e,i,a){ks(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await GS(t,e,i,Yy(),a);return sO(t,l,rv())}async _openRedirect(t,e,i,a){await this._originValidation(t);const l=await GS(t,e,i,Yy(),a);return dP(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:l}=this.eventManagers[e];return a?Promise.resolve(a):(ks(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await JP(t),i=new kP(t);return e.register("authEvent",a=>(At(a?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(yy,{type:yy},a=>{const l=a?.[0]?.[yy];l!==void 0&&e(!!l),Os(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=jP(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return gI()||cI()||iv()}}const hO=cO;var KS="@firebase/auth",$S="1.12.0";class fO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function dO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mO(n){Rl(new io("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;At(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yI(n)},p=new qN(i,a,l,d);return QN(p,e),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Rl(new io("auth-internal",t=>{const e=xm(t.getProvider("auth").getImmediate());return(i=>new fO(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),zr(KS,$S,dO(n)),zr(KS,$S,"esm2020")}const pO=300,gO=q1("authIdTokenMaxAge")||pO;let YS=null;const yO=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>gO)return;const a=e?.token;YS!==a&&(YS=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function _O(n=uN()){const t=Z_(n,"auth");if(t.isInitialized())return t.getImmediate();const e=YN(n,{popupRedirectResolver:hO,persistence:[bP,cP,wI]}),i=q1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=yO(l.toString());aP(e,u,()=>u(e.currentUser)),rP(e,h=>u(h))}}const a=$2("auth");return a&&XN(e,`http://${a}`),e}function vO(){return document.getElementsByTagName("head")?.[0]??document}HN({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=a=>{const l=es("internal-error");l.customData=a,e(l)},i.type="text/javascript",i.charset="UTF-8",vO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mO("Browser");var TO="firebase",EO="12.8.0";zr(TO,EO,"app");var QS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fr,MI;(function(){var n;function t(R,A){function x(){}x.prototype=A.prototype,R.F=A.prototype,R.prototype=new x,R.prototype.constructor=R,R.D=function(M,V,k){for(var C=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)C[Gt-2]=arguments[Gt];return A.prototype[V].apply(M,C)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,A,x){x||(x=0);const M=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)M[V]=A.charCodeAt(x++)|A.charCodeAt(x++)<<8|A.charCodeAt(x++)<<16|A.charCodeAt(x++)<<24;else for(V=0;V<16;++V)M[V]=A[x++]|A[x++]<<8|A[x++]<<16|A[x++]<<24;A=R.g[0],x=R.g[1],V=R.g[2];let k=R.g[3],C;C=A+(k^x&(V^k))+M[0]+3614090360&4294967295,A=x+(C<<7&4294967295|C>>>25),C=k+(V^A&(x^V))+M[1]+3905402710&4294967295,k=A+(C<<12&4294967295|C>>>20),C=V+(x^k&(A^x))+M[2]+606105819&4294967295,V=k+(C<<17&4294967295|C>>>15),C=x+(A^V&(k^A))+M[3]+3250441966&4294967295,x=V+(C<<22&4294967295|C>>>10),C=A+(k^x&(V^k))+M[4]+4118548399&4294967295,A=x+(C<<7&4294967295|C>>>25),C=k+(V^A&(x^V))+M[5]+1200080426&4294967295,k=A+(C<<12&4294967295|C>>>20),C=V+(x^k&(A^x))+M[6]+2821735955&4294967295,V=k+(C<<17&4294967295|C>>>15),C=x+(A^V&(k^A))+M[7]+4249261313&4294967295,x=V+(C<<22&4294967295|C>>>10),C=A+(k^x&(V^k))+M[8]+1770035416&4294967295,A=x+(C<<7&4294967295|C>>>25),C=k+(V^A&(x^V))+M[9]+2336552879&4294967295,k=A+(C<<12&4294967295|C>>>20),C=V+(x^k&(A^x))+M[10]+4294925233&4294967295,V=k+(C<<17&4294967295|C>>>15),C=x+(A^V&(k^A))+M[11]+2304563134&4294967295,x=V+(C<<22&4294967295|C>>>10),C=A+(k^x&(V^k))+M[12]+1804603682&4294967295,A=x+(C<<7&4294967295|C>>>25),C=k+(V^A&(x^V))+M[13]+4254626195&4294967295,k=A+(C<<12&4294967295|C>>>20),C=V+(x^k&(A^x))+M[14]+2792965006&4294967295,V=k+(C<<17&4294967295|C>>>15),C=x+(A^V&(k^A))+M[15]+1236535329&4294967295,x=V+(C<<22&4294967295|C>>>10),C=A+(V^k&(x^V))+M[1]+4129170786&4294967295,A=x+(C<<5&4294967295|C>>>27),C=k+(x^V&(A^x))+M[6]+3225465664&4294967295,k=A+(C<<9&4294967295|C>>>23),C=V+(A^x&(k^A))+M[11]+643717713&4294967295,V=k+(C<<14&4294967295|C>>>18),C=x+(k^A&(V^k))+M[0]+3921069994&4294967295,x=V+(C<<20&4294967295|C>>>12),C=A+(V^k&(x^V))+M[5]+3593408605&4294967295,A=x+(C<<5&4294967295|C>>>27),C=k+(x^V&(A^x))+M[10]+38016083&4294967295,k=A+(C<<9&4294967295|C>>>23),C=V+(A^x&(k^A))+M[15]+3634488961&4294967295,V=k+(C<<14&4294967295|C>>>18),C=x+(k^A&(V^k))+M[4]+3889429448&4294967295,x=V+(C<<20&4294967295|C>>>12),C=A+(V^k&(x^V))+M[9]+568446438&4294967295,A=x+(C<<5&4294967295|C>>>27),C=k+(x^V&(A^x))+M[14]+3275163606&4294967295,k=A+(C<<9&4294967295|C>>>23),C=V+(A^x&(k^A))+M[3]+4107603335&4294967295,V=k+(C<<14&4294967295|C>>>18),C=x+(k^A&(V^k))+M[8]+1163531501&4294967295,x=V+(C<<20&4294967295|C>>>12),C=A+(V^k&(x^V))+M[13]+2850285829&4294967295,A=x+(C<<5&4294967295|C>>>27),C=k+(x^V&(A^x))+M[2]+4243563512&4294967295,k=A+(C<<9&4294967295|C>>>23),C=V+(A^x&(k^A))+M[7]+1735328473&4294967295,V=k+(C<<14&4294967295|C>>>18),C=x+(k^A&(V^k))+M[12]+2368359562&4294967295,x=V+(C<<20&4294967295|C>>>12),C=A+(x^V^k)+M[5]+4294588738&4294967295,A=x+(C<<4&4294967295|C>>>28),C=k+(A^x^V)+M[8]+2272392833&4294967295,k=A+(C<<11&4294967295|C>>>21),C=V+(k^A^x)+M[11]+1839030562&4294967295,V=k+(C<<16&4294967295|C>>>16),C=x+(V^k^A)+M[14]+4259657740&4294967295,x=V+(C<<23&4294967295|C>>>9),C=A+(x^V^k)+M[1]+2763975236&4294967295,A=x+(C<<4&4294967295|C>>>28),C=k+(A^x^V)+M[4]+1272893353&4294967295,k=A+(C<<11&4294967295|C>>>21),C=V+(k^A^x)+M[7]+4139469664&4294967295,V=k+(C<<16&4294967295|C>>>16),C=x+(V^k^A)+M[10]+3200236656&4294967295,x=V+(C<<23&4294967295|C>>>9),C=A+(x^V^k)+M[13]+681279174&4294967295,A=x+(C<<4&4294967295|C>>>28),C=k+(A^x^V)+M[0]+3936430074&4294967295,k=A+(C<<11&4294967295|C>>>21),C=V+(k^A^x)+M[3]+3572445317&4294967295,V=k+(C<<16&4294967295|C>>>16),C=x+(V^k^A)+M[6]+76029189&4294967295,x=V+(C<<23&4294967295|C>>>9),C=A+(x^V^k)+M[9]+3654602809&4294967295,A=x+(C<<4&4294967295|C>>>28),C=k+(A^x^V)+M[12]+3873151461&4294967295,k=A+(C<<11&4294967295|C>>>21),C=V+(k^A^x)+M[15]+530742520&4294967295,V=k+(C<<16&4294967295|C>>>16),C=x+(V^k^A)+M[2]+3299628645&4294967295,x=V+(C<<23&4294967295|C>>>9),C=A+(V^(x|~k))+M[0]+4096336452&4294967295,A=x+(C<<6&4294967295|C>>>26),C=k+(x^(A|~V))+M[7]+1126891415&4294967295,k=A+(C<<10&4294967295|C>>>22),C=V+(A^(k|~x))+M[14]+2878612391&4294967295,V=k+(C<<15&4294967295|C>>>17),C=x+(k^(V|~A))+M[5]+4237533241&4294967295,x=V+(C<<21&4294967295|C>>>11),C=A+(V^(x|~k))+M[12]+1700485571&4294967295,A=x+(C<<6&4294967295|C>>>26),C=k+(x^(A|~V))+M[3]+2399980690&4294967295,k=A+(C<<10&4294967295|C>>>22),C=V+(A^(k|~x))+M[10]+4293915773&4294967295,V=k+(C<<15&4294967295|C>>>17),C=x+(k^(V|~A))+M[1]+2240044497&4294967295,x=V+(C<<21&4294967295|C>>>11),C=A+(V^(x|~k))+M[8]+1873313359&4294967295,A=x+(C<<6&4294967295|C>>>26),C=k+(x^(A|~V))+M[15]+4264355552&4294967295,k=A+(C<<10&4294967295|C>>>22),C=V+(A^(k|~x))+M[6]+2734768916&4294967295,V=k+(C<<15&4294967295|C>>>17),C=x+(k^(V|~A))+M[13]+1309151649&4294967295,x=V+(C<<21&4294967295|C>>>11),C=A+(V^(x|~k))+M[4]+4149444226&4294967295,A=x+(C<<6&4294967295|C>>>26),C=k+(x^(A|~V))+M[11]+3174756917&4294967295,k=A+(C<<10&4294967295|C>>>22),C=V+(A^(k|~x))+M[2]+718787259&4294967295,V=k+(C<<15&4294967295|C>>>17),C=x+(k^(V|~A))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+k&4294967295}i.prototype.v=function(R,A){A===void 0&&(A=R.length);const x=A-this.blockSize,M=this.C;let V=this.h,k=0;for(;k<A;){if(V==0)for(;k<=x;)a(this,R,k),k+=this.blockSize;if(typeof R=="string"){for(;k<A;)if(M[V++]=R.charCodeAt(k++),V==this.blockSize){a(this,M),V=0;break}}else for(;k<A;)if(M[V++]=R[k++],V==this.blockSize){a(this,M),V=0;break}}this.h=V,this.o+=A},i.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var x=R.length-8;x<R.length;++x)R[x]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,x=0;x<4;++x)for(let M=0;M<32;M+=8)R[A++]=this.g[x]>>>M&255;return R};function l(R,A){var x=h;return Object.prototype.hasOwnProperty.call(x,R)?x[R]:x[R]=A(R)}function u(R,A){this.h=A;const x=[];let M=!0;for(let V=R.length-1;V>=0;V--){const k=R[V]|0;M&&k==A||(x[V]=k,M=!1)}this.g=x}var h={};function d(R){return-128<=R&&R<128?l(R,function(A){return new u([A|0],A<0?-1:0)}):new u([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return v;if(R<0)return L(p(-R));const A=[];let x=1;for(let M=0;R>=x;M++)A[M]=R/x|0,x*=4294967296;return new u(A,0)}function y(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return L(y(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=p(Math.pow(A,8));let M=v;for(let k=0;k<R.length;k+=8){var V=Math.min(8,R.length-k);const C=parseInt(R.substring(k,k+V),A);V<8?(V=p(Math.pow(A,V)),M=M.j(V).add(p(C))):(M=M.j(x),M=M.add(p(C)))}return M}var v=d(0),E=d(1),I=d(16777216);n=u.prototype,n.m=function(){if(U(this))return-L(this).m();let R=0,A=1;for(let x=0;x<this.g.length;x++){const M=this.i(x);R+=(M>=0?M:4294967296+M)*A,A*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N(this))return"0";if(U(this))return"-"+L(this).toString(R);const A=p(Math.pow(R,6));var x=this;let M="";for(;;){const V=Y(x,A).g;x=$(x,V.j(A));let k=((x.g.length>0?x.g[0]:x.h)>>>0).toString(R);if(x=V,N(x))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function N(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function U(R){return R.h==-1}n.l=function(R){return R=$(this,R),U(R)?-1:N(R)?0:1};function L(R){const A=R.g.length,x=[];for(let M=0;M<A;M++)x[M]=~R.g[M];return new u(x,~R.h).add(E)}n.abs=function(){return U(this)?L(this):this},n.add=function(R){const A=Math.max(this.g.length,R.g.length),x=[];let M=0;for(let V=0;V<=A;V++){let k=M+(this.i(V)&65535)+(R.i(V)&65535),C=(k>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);M=C>>>16,k&=65535,C&=65535,x[V]=C<<16|k}return new u(x,x[x.length-1]&-2147483648?-1:0)};function $(R,A){return R.add(L(A))}n.j=function(R){if(N(this)||N(R))return v;if(U(this))return U(R)?L(this).j(L(R)):L(L(this).j(R));if(U(R))return L(this.j(L(R)));if(this.l(I)<0&&R.l(I)<0)return p(this.m()*R.m());const A=this.g.length+R.g.length,x=[];for(var M=0;M<2*A;M++)x[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<R.g.length;V++){const k=this.i(M)>>>16,C=this.i(M)&65535,Gt=R.i(V)>>>16,Xt=R.i(V)&65535;x[2*M+2*V]+=C*Xt,J(x,2*M+2*V),x[2*M+2*V+1]+=k*Xt,J(x,2*M+2*V+1),x[2*M+2*V+1]+=C*Gt,J(x,2*M+2*V+1),x[2*M+2*V+2]+=k*Gt,J(x,2*M+2*V+2)}for(R=0;R<A;R++)x[R]=x[2*R+1]<<16|x[2*R];for(R=A;R<2*A;R++)x[R]=0;return new u(x,0)};function J(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function j(R,A){this.g=R,this.h=A}function Y(R,A){if(N(A))throw Error("division by zero");if(N(R))return new j(v,v);if(U(R))return A=Y(L(R),A),new j(L(A.g),L(A.h));if(U(A))return A=Y(R,L(A)),new j(L(A.g),A.h);if(R.g.length>30){if(U(R)||U(A))throw Error("slowDivide_ only works with positive integers.");for(var x=E,M=A;M.l(R)<=0;)x=rt(x),M=rt(M);var V=at(x,1),k=at(M,1);for(M=at(M,2),x=at(x,2);!N(M);){var C=k.add(M);C.l(R)<=0&&(V=V.add(x),k=C),M=at(M,1),x=at(x,1)}return A=$(R,V.j(A)),new j(V,A)}for(V=v;R.l(A)>=0;){for(x=Math.max(1,Math.floor(R.m()/A.m())),M=Math.ceil(Math.log(x)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=p(x),C=k.j(A);U(C)||C.l(R)>0;)x-=M,k=p(x),C=k.j(A);N(k)&&(k=E),V=V.add(k),R=$(R,C)}return new j(V,R)}n.B=function(R){return Y(this,R).h},n.and=function(R){const A=Math.max(this.g.length,R.g.length),x=[];for(let M=0;M<A;M++)x[M]=this.i(M)&R.i(M);return new u(x,this.h&R.h)},n.or=function(R){const A=Math.max(this.g.length,R.g.length),x=[];for(let M=0;M<A;M++)x[M]=this.i(M)|R.i(M);return new u(x,this.h|R.h)},n.xor=function(R){const A=Math.max(this.g.length,R.g.length),x=[];for(let M=0;M<A;M++)x[M]=this.i(M)^R.i(M);return new u(x,this.h^R.h)};function rt(R){const A=R.g.length+1,x=[];for(let M=0;M<A;M++)x[M]=R.i(M)<<1|R.i(M-1)>>>31;return new u(x,R.h)}function at(R,A){const x=A>>5;A%=32;const M=R.g.length-x,V=[];for(let k=0;k<M;k++)V[k]=A>0?R.i(k+x)>>>A|R.i(k+x+1)<<32-A:R.i(k+x);return new u(V,R.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,MI=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Fr=u}).apply(typeof QS<"u"?QS:typeof self<"u"?self:typeof window<"u"?window:{});var hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var NI,Ec,PI,Rd,Wy,OI,kI,LI;(function(){var n,t=Object.defineProperty;function e(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof hd=="object"&&hd];for(var _=0;_<f.length;++_){var b=f[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=e(this);function a(f,_){if(_)t:{var b=i;f=f.split(".");for(var w=0;w<f.length-1;w++){var q=f[w];if(!(q in b))break t;b=b[q]}f=f[f.length-1],w=b[f],_=_(w),_!=w&&_!=null&&t(b,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var b=[],w;for(w in _)Object.prototype.hasOwnProperty.call(_,w)&&b.push([w,_[w]]);return b}});var l=l||{},u=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,b){return f.call.apply(f.bind,arguments)}function p(f,_,b){return p=d,p.apply(null,arguments)}function y(f,_){var b=Array.prototype.slice.call(arguments,1);return function(){var w=b.slice();return w.push.apply(w,arguments),f.apply(this,w)}}function v(f,_){function b(){}b.prototype=_.prototype,f.Z=_.prototype,f.prototype=new b,f.prototype.constructor=f,f.Ob=function(w,q,Q){for(var ct=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)ct[xt-2]=arguments[xt];return _.prototype[q].apply(w,ct)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function I(f){const _=f.length;if(_>0){const b=Array(_);for(let w=0;w<_;w++)b[w]=f[w];return b}return[]}function N(f,_){for(let w=1;w<arguments.length;w++){const q=arguments[w];var b=typeof q;if(b=b!="object"?b:q?Array.isArray(q)?"array":b:"null",b=="array"||b=="object"&&typeof q.length=="number"){b=f.length||0;const Q=q.length||0;f.length=b+Q;for(let ct=0;ct<Q;ct++)f[b+ct]=q[ct]}else f.push(q)}}class U{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function L(f){u.setTimeout(()=>{throw f},0)}function $(){var f=R;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class J{constructor(){this.h=this.g=null}add(_,b){const w=j.get();w.set(_,b),this.h?this.h.next=w:this.g=w,this.h=w}}var j=new U(()=>new Y,f=>f.reset());class Y{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,at=!1,R=new J,A=()=>{const f=Promise.resolve(void 0);rt=()=>{f.then(x)}};function x(){for(var f;f=$();){try{f.h.call(f.g)}catch(b){L(b)}var _=j;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}at=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};u.addEventListener("test",b,_),u.removeEventListener("test",b,_)}catch{}return f})();function C(f){return/^[\s\xa0]*$/.test(f)}function Gt(f,_){V.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(Gt,V),Gt.prototype.init=function(f,_){const b=this.type=f.type,w=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(b=="mouseover"?_=f.fromElement:b=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Gt.Z.h.call(this)},Gt.prototype.h=function(){Gt.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Xt="closure_listenable_"+(Math.random()*1e6|0),tt=0;function lt(f,_,b,w,q){this.listener=f,this.proxy=null,this.src=_,this.type=b,this.capture=!!w,this.ha=q,this.key=++tt,this.da=this.fa=!1}function mt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Dt(f,_,b){for(const w in f)_.call(b,f[w],w,f)}function kt(f,_){for(const b in f)_.call(void 0,f[b],b,f)}function O(f){const _={};for(const b in f)_[b]=f[b];return _}const st="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ft(f,_){let b,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(b in w)f[b]=w[b];for(let Q=0;Q<st.length;Q++)b=st[Q],Object.prototype.hasOwnProperty.call(w,b)&&(f[b]=w[b])}}function pt(f){this.src=f,this.g={},this.h=0}pt.prototype.add=function(f,_,b,w,q){const Q=f.toString();f=this.g[Q],f||(f=this.g[Q]=[],this.h++);const ct=Vt(f,_,w,q);return ct>-1?(_=f[ct],b||(_.fa=!1)):(_=new lt(_,this.src,Q,!!w,q),_.fa=b,f.push(_)),_};function wt(f,_){const b=_.type;if(b in f.g){var w=f.g[b],q=Array.prototype.indexOf.call(w,_,void 0),Q;(Q=q>=0)&&Array.prototype.splice.call(w,q,1),Q&&(mt(_),f.g[b].length==0&&(delete f.g[b],f.h--))}}function Vt(f,_,b,w){for(let q=0;q<f.length;++q){const Q=f[q];if(!Q.da&&Q.listener==_&&Q.capture==!!b&&Q.ha==w)return q}return-1}var Ft="closure_lm_"+(Math.random()*1e6|0),Fe={};function fe(f,_,b,w,q){if(Array.isArray(_)){for(let Q=0;Q<_.length;Q++)fe(f,_[Q],b,w,q);return null}return b=cu(b),f&&f[Xt]?f.J(_,b,h(w)?!!w.capture:!1,q):oa(f,_,b,!1,w,q)}function oa(f,_,b,w,q,Q){if(!_)throw Error("Invalid event type");const ct=h(q)?!!q.capture:!!q;let xt=la(f);if(xt||(f[Ft]=xt=new pt(f)),b=xt.add(_,b,w,ct,Q),b.proxy)return b;if(w=mo(),b.proxy=w,w.src=f,w.listener=b,f.addEventListener)k||(q=ct),q===void 0&&(q=!1),f.addEventListener(_.toString(),w,q);else if(f.attachEvent)f.attachEvent(xi(_.toString()),w);else if(f.addListener&&f.removeListener)f.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return b}function mo(){function f(b){return _.call(f.src,f.listener,b)}const _=lu;return f}function po(f,_,b,w,q){if(Array.isArray(_))for(var Q=0;Q<_.length;Q++)po(f,_[Q],b,w,q);else w=h(w)?!!w.capture:!!w,b=cu(b),f&&f[Xt]?(f=f.i,Q=String(_).toString(),Q in f.g&&(_=f.g[Q],b=Vt(_,b,w,q),b>-1&&(mt(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete f.g[Q],f.h--)))):f&&(f=la(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Vt(_,b,w,q)),(b=f>-1?_[f]:null)&&go(b))}function go(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Xt])wt(_.i,f);else{var b=f.type,w=f.proxy;_.removeEventListener?_.removeEventListener(b,w,f.capture):_.detachEvent?_.detachEvent(xi(b),w):_.addListener&&_.removeListener&&_.removeListener(w),(b=la(_))?(wt(b,f),b.h==0&&(b.src=null,_[Ft]=null)):mt(f)}}}function xi(f){return f in Fe?Fe[f]:Fe[f]="on"+f}function lu(f,_){if(f.da)f=!0;else{_=new Gt(_,this);const b=f.listener,w=f.ha||f.src;f.fa&&go(f),f=b.call(w,_)}return f}function la(f){return f=f[Ft],f instanceof pt?f:null}var uu="__closure_events_fn_"+(Math.random()*1e9>>>0);function cu(f){return typeof f=="function"?f:(f[uu]||(f[uu]=function(_){return f.handleEvent(_)}),f[uu])}function De(){M.call(this),this.i=new pt(this),this.M=this,this.G=null}v(De,M),De.prototype[Xt]=!0,De.prototype.removeEventListener=function(f,_,b,w){po(this,f,_,b,w)};function qe(f,_){var b,w=f.G;if(w)for(b=[];w;w=w.G)b.push(w);if(f=f.M,w=_.type||_,typeof _=="string")_=new V(_,f);else if(_ instanceof V)_.target=_.target||f;else{var q=_;_=new V(w,f),ft(_,q)}q=!0;let Q,ct;if(b)for(ct=b.length-1;ct>=0;ct--)Q=_.g=b[ct],q=Gs(Q,w,!0,_)&&q;if(Q=_.g=f,q=Gs(Q,w,!0,_)&&q,q=Gs(Q,w,!1,_)&&q,b)for(ct=0;ct<b.length;ct++)Q=_.g=b[ct],q=Gs(Q,w,!1,_)&&q}De.prototype.N=function(){if(De.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const b=f.g[_];for(let w=0;w<b.length;w++)mt(b[w]);delete f.g[_],f.h--}}this.G=null},De.prototype.J=function(f,_,b,w){return this.i.add(String(f),_,!1,b,w)},De.prototype.K=function(f,_,b,w){return this.i.add(String(f),_,!0,b,w)};function Gs(f,_,b,w){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let q=!0;for(let Q=0;Q<_.length;++Q){const ct=_[Q];if(ct&&!ct.da&&ct.capture==b){const xt=ct.listener,Se=ct.ha||ct.src;ct.fa&&wt(f.i,ct),q=xt.call(Se,w)!==!1&&q}}return q&&!w.defaultPrevented}function op(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(f,_||0)}function Ph(f){f.g=op(()=>{f.g=null,f.i&&(f.i=!1,Ph(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class yn extends M{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ph(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ua(f){M.call(this),this.h=f,this.g={}}v(ua,M);var hu=[];function fu(f){Dt(f.g,function(_,b){this.g.hasOwnProperty(b)&&go(_)},f),f.g={}}ua.prototype.N=function(){ua.Z.N.call(this),fu(this)},ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ks=u.JSON.stringify,lp=u.JSON.parse,Oh=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function kh(){}function Lh(){}var ui={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function en(){V.call(this,"d")}v(en,V);function $n(){V.call(this,"c")}v($n,V);var be={},Uh=null;function yo(){return Uh=Uh||new De}be.Ia="serverreachability";function Bh(f){V.call(this,be.Ia,f)}v(Bh,V);function Ci(f){const _=yo();qe(_,new Bh(_))}be.STAT_EVENT="statevent";function ca(f,_){V.call(this,be.STAT_EVENT,f),this.stat=_}v(ca,V);function Ve(f){const _=yo();qe(_,new ca(_,f))}be.Ja="timingevent";function Di(f,_){V.call(this,be.Ja,f),this.size=_}v(Di,V);function Vi(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},_)}function ci(){this.g=!0}ci.prototype.ua=function(){this.g=!1};function up(f,_,b,w,q,Q){f.info(function(){if(f.g)if(Q){var ct="",xt=Q.split("&");for(let Yt=0;Yt<xt.length;Yt++){var Se=xt[Yt].split("=");if(Se.length>1){const de=Se[0];Se=Se[1];const Wn=de.split("_");ct=Wn.length>=2&&Wn[1]=="type"?ct+(de+"="+Se+"&"):ct+(de+"=redacted&")}}}else ct=null;else ct=Q;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+_+`
`+b+`
`+ct})}function zh(f,_,b,w,q,Q,ct){f.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+_+`
`+b+`
`+Q+" "+ct})}function Mi(f,_,b,w){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+cp(f,b)+(w?" "+w:"")})}function ha(f,_){f.info(function(){return"TIMEOUT: "+_})}ci.prototype.info=function(){};function cp(f,_){if(!f.g)return _;if(!_)return null;try{const Q=JSON.parse(_);if(Q){for(f=0;f<Q.length;f++)if(Array.isArray(Q[f])){var b=Q[f];if(!(b.length<2)){var w=b[1];if(Array.isArray(w)&&!(w.length<1)){var q=w[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ct=1;ct<w.length;ct++)w[ct]=""}}}}return Ks(Q)}catch{return _}}var fa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},du={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},mu;function da(){}v(da,kh),da.prototype.g=function(){return new XMLHttpRequest},mu=new da;function ls(f){return encodeURIComponent(String(f))}function jh(f){var _=1;f=f.split(":");const b=[];for(;_>0&&f.length;)b.push(f.shift()),_--;return f.length&&b.push(f.join(":")),b}function hi(f,_,b,w){this.j=f,this.i=_,this.l=b,this.S=w||1,this.V=new ua(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fi}function fi(){this.i=null,this.g="",this.h=!1}var Me={},Xe={};function Ni(f,_,b){f.M=1,f.A=ma(Pe(_)),f.u=b,f.R=!0,_o(f,null)}function _o(f,_){f.F=Date.now(),Pi(f),f.B=Pe(f.A);var b=f.B,w=f.S;Array.isArray(w)||(w=[String(w)]),bo(b.i,"t",w),f.C=0,b=f.j.L,f.h=new fi,f.g=nf(f.j,b?_:null,!f.u),f.P>0&&(f.O=new yn(p(f.Y,f,f.g),f.P)),_=f.V,b=f.g,w=f.ba;var q="readystatechange";Array.isArray(q)||(q&&(hu[0]=q.toString()),q=hu);for(let Q=0;Q<q.length;Q++){const ct=fe(b,q[Q],w||_.handleEvent,!1,_.h||_);if(!ct)break;_.g[ct.key]=ct}_=f.J?O(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),Ci(),up(f.i,f.v,f.B,f.l,f.S,f.u)}hi.prototype.ba=function(f){f=f.target;const _=this.O;_&&pi(f)==3?_.j():this.Y(f)},hi.prototype.Y=function(f){try{if(f==this.g)t:{const xt=pi(this.g),Se=this.g.ya(),Yt=this.g.ca();if(!(xt<3)&&(xt!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||xt!=4||Se==7||(Se==8||Yt<=0?Ci(3):Ci(2)),Oi(this);var _=this.g.ca();this.X=_;var b=hp(this);if(this.o=_==200,zh(this.i,this.v,this.B,this.l,this.S,xt,_),this.o){if(this.U&&!this.L){e:{if(this.g){var w,q=this.g;if((w=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(w)){var Q=w;break e}}Q=null}if(f=Q)Mi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ki(this,f);else{this.o=!1,this.m=3,Ve(12),Nn(this),Yn(this);break t}}if(this.R){f=!0;let de;for(;!this.K&&this.C<b.length;)if(de=qh(this,b),de==Xe){xt==4&&(this.m=4,Ve(14),f=!1),Mi(this.i,this.l,null,"[Incomplete Response]");break}else if(de==Me){this.m=4,Ve(15),Mi(this.i,this.l,b,"[Invalid Chunk]"),f=!1;break}else Mi(this.i,this.l,de,null),ki(this,de);if(Fh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||b.length!=0||this.h.h||(this.m=1,Ve(16),f=!1),this.o=this.o&&f,!f)Mi(this.i,this.l,b,"[Invalid Chunked Response]"),Nn(this),Yn(this);else if(b.length>0&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.aa&&!ct.P&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Cu(ct),ct.P=!0,Ve(11))}}else Mi(this.i,this.l,b,null),ki(this,b);xt==4&&Nn(this),this.o&&!this.K&&(xt==4?Jh(this.j,this):(this.o=!1,Pi(this)))}else cs(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,Ve(12)):(this.m=0,Ve(13)),Nn(this),Yn(this)}}}catch{}};function hp(f){if(!Fh(f))return f.g.la();const _=nn(f.g);if(_==="")return"";let b="";const w=_.length,q=pi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Nn(f),Yn(f),"";f.h.i=new u.TextDecoder}for(let Q=0;Q<w;Q++)f.h.h=!0,b+=f.h.i.decode(_[Q],{stream:!(q&&Q==w-1)});return _.length=0,f.h.g+=b,f.C=0,f.h.g}function Fh(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function qh(f,_){var b=f.C,w=_.indexOf(`
`,b);return w==-1?Xe:(b=Number(_.substring(b,w)),isNaN(b)?Me:(w+=1,w+b>_.length?Xe:(_=_.slice(w,w+b),f.C=w+b,_)))}hi.prototype.cancel=function(){this.K=!0,Nn(this)};function Pi(f){f.T=Date.now()+f.H,vo(f,f.H)}function vo(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Vi(p(f.aa,f),_)}function Oi(f){f.D&&(u.clearTimeout(f.D),f.D=null)}hi.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ha(this.i,this.B),this.M!=2&&(Ci(),Ve(17)),Nn(this),this.m=2,Yn(this)):vo(this,this.T-f)};function Yn(f){f.j.I==0||f.K||Jh(f.j,f)}function Nn(f){Oi(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,fu(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function ki(f,_){try{var b=f.j;if(b.I!=0&&(b.g==f||Ui(b.h,f))){if(!f.L&&Ui(b.h,f)&&b.I==3){try{var w=b.Ba.g.parse(_)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){t:if(!b.v){if(b.g)if(b.g.F+3e3<f.F)Ro(b),tr(b);else break t;Ea(b),Ve(18)}}else b.xa=q[1],0<b.xa-b.K&&q[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Vi(p(b.Va,b),6e3));Li(b.h)<=1&&b.ta&&(b.ta=void 0)}else Hi(b,11)}else if((f.L||b.g==f)&&Ro(b),!C(_))for(q=b.Ba.g.parse(_),_=0;_<q.length;_++){let Yt=q[_];const de=Yt[0];if(!(de<=b.K))if(b.K=de,Yt=Yt[1],b.I==2)if(Yt[0]=="c"){b.M=Yt[1],b.ba=Yt[2];const Wn=Yt[3];Wn!=null&&(b.ka=Wn,b.j.info("VER="+b.ka));const Gi=Yt[4];Gi!=null&&(b.za=Gi,b.j.info("SVER="+b.za));const gi=Yt[5];gi!=null&&typeof gi=="number"&&gi>0&&(w=1.5*gi,b.O=w,b.j.info("backChannelRequestTimeoutMs_="+w)),w=b;const yi=f.g;if(yi){const ba=yi.g?yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ba){var Q=w.h;Q.g||ba.indexOf("spdy")==-1&&ba.indexOf("quic")==-1&&ba.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(yu(Q,Q.h),Q.h=null))}if(w.G){const xo=yi.g?yi.g.getResponseHeader("X-HTTP-Session-Id"):null;xo&&(w.wa=xo,Wt(w.J,w.G,xo))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-f.F,b.j.info("Handshake RTT: "+b.T+"ms")),w=b;var ct=f;if(w.na=ef(w,w.L?w.ba:null,w.W),ct.L){_u(w.h,ct);var xt=ct,Se=w.O;Se&&(xt.H=Se),xt.D&&(Oi(xt),Pi(xt)),w.g=ct}else Xh(w);b.i.length>0&&qi(b)}else Yt[0]!="stop"&&Yt[0]!="close"||Hi(b,7);else b.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?Hi(b,7):Ru(b):Yt[0]!="noop"&&b.l&&b.l.qa(Yt),b.A=0)}}Ci(4)}catch{}}var Ne=class{constructor(f,_){this.g=f,this.map=_}};function pu(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gu(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Li(f){return f.h?1:f.g?f.g.size:0}function Ui(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function yu(f,_){f.g?f.g.add(_):f.h=_}function _u(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}pu.prototype.cancel=function(){if(this.i=vu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function vu(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const b of f.g.values())_=_.concat(b.G);return _}return I(f.i)}var Hh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function To(f,_){if(f){f=f.split("&");for(let b=0;b<f.length;b++){const w=f[b].indexOf("=");let q,Q=null;w>=0?(q=f[b].substring(0,w),Q=f[b].substring(w+1)):q=f[b],_(q,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Pn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof Pn?(this.l=f.l,We(this,f.j),this.o=f.o,this.g=f.g,$s(this,f.u),this.h=f.h,Tu(this,Yh(f.i)),this.m=f.m):f&&(_=String(f).match(Hh))?(this.l=!1,We(this,_[1]||"",!0),this.o=Bi(_[2]||""),this.g=Bi(_[3]||"",!0),$s(this,_[4]),this.h=Bi(_[5]||"",!0),Tu(this,_[6]||"",!0),this.m=Bi(_[7]||"")):(this.l=!1,this.i=new Qs(null,this.l))}Pn.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(pa(_,Eo,!0),":");var b=this.g;return(b||_=="file")&&(f.push("//"),(_=this.o)&&f.push(pa(_,Eo,!0),"@"),f.push(ls(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&f.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(pa(b,b.charAt(0)=="/"?Eu:Gh,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",pa(b,Kh)),f.join("")},Pn.prototype.resolve=function(f){const _=Pe(this);let b=!!f.j;b?We(_,f.j):b=!!f.o,b?_.o=f.o:b=!!f.g,b?_.g=f.g:b=f.u!=null;var w=f.h;if(b)$s(_,f.u);else if(b=!!f.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var q=_.h.lastIndexOf("/");q!=-1&&(w=_.h.slice(0,q+1)+w)}if(q=w,q==".."||q==".")w="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){w=q.lastIndexOf("/",0)==0,q=q.split("/");const Q=[];for(let ct=0;ct<q.length;){const xt=q[ct++];xt=="."?w&&ct==q.length&&Q.push(""):xt==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),w&&ct==q.length&&Q.push("")):(Q.push(xt),w=!0)}w=Q.join("/")}else w=q}return b?_.h=w:b=f.i.toString()!=="",b?Tu(_,Yh(f.i)):b=!!f.m,b&&(_.m=f.m),_};function Pe(f){return new Pn(f)}function We(f,_,b){f.j=b?Bi(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function $s(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function Tu(f,_,b){_ instanceof Qs?(f.i=_,So(f.i,f.l)):(b||(_=pa(_,Ys)),f.i=new Qs(_,f.l))}function Wt(f,_,b){f.i.set(_,b)}function ma(f){return Wt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Bi(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function pa(f,_,b){return typeof f=="string"?(f=encodeURI(f).replace(_,bn),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function bn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Eo=/[#\/\?@]/g,Gh=/[#\?:]/g,Eu=/[#\?]/g,Ys=/[#\?@]/g,Kh=/#/g;function Qs(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Sn(f){f.g||(f.g=new Map,f.h=0,f.i&&To(f.i,function(_,b){f.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}n=Qs.prototype,n.add=function(f,_){Sn(this),this.i=null,f=Xs(this,f);let b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(_),this.h+=1,this};function $h(f,_){Sn(f),_=Xs(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function bu(f,_){return Sn(f),_=Xs(f,_),f.g.has(_)}n.forEach=function(f,_){Sn(this),this.g.forEach(function(b,w){b.forEach(function(q){f.call(_,q,w,this)},this)},this)};function Su(f,_){Sn(f);let b=[];if(typeof _=="string")bu(f,_)&&(b=b.concat(f.g.get(Xs(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)b=b.concat(f[_]);return b}n.set=function(f,_){return Sn(this),this.i=null,f=Xs(this,f),bu(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},n.get=function(f,_){return f?(f=Su(this,f),f.length>0?String(f[0]):_):_};function bo(f,_,b){$h(f,_),b.length>0&&(f.i=null,f.g.set(Xs(f,_),I(b)),f.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let w=0;w<_.length;w++){var b=_[w];const q=ls(b);b=Su(this,b);for(let Q=0;Q<b.length;Q++){let ct=q;b[Q]!==""&&(ct+="="+ls(b[Q])),f.push(ct)}}return this.i=f.join("&")};function Yh(f){const _=new Qs;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function Xs(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function So(f,_){_&&!f.j&&(Sn(f),f.i=null,f.g.forEach(function(b,w){const q=w.toLowerCase();w!=q&&($h(this,w),bo(this,q,b))},f)),f.j=_}function di(f,_){const b=new ci;if(u.Image){const w=new Image;w.onload=y(Qn,b,"TestLoadImage: loaded",!0,_,w),w.onerror=y(Qn,b,"TestLoadImage: error",!1,_,w),w.onabort=y(Qn,b,"TestLoadImage: abort",!1,_,w),w.ontimeout=y(Qn,b,"TestLoadImage: timeout",!1,_,w),u.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=f}else _(!1)}function Au(f,_){const b=new ci,w=new AbortController,q=setTimeout(()=>{w.abort(),Qn(b,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:w.signal}).then(Q=>{clearTimeout(q),Q.ok?Qn(b,"TestPingServer: ok",!0,_):Qn(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),Qn(b,"TestPingServer: error",!1,_)})}function Qn(f,_,b,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(b)}catch{}}function Ws(){this.g=new Oh}function zi(f){this.i=f.Sb||null,this.h=f.ab||!1}v(zi,kh),zi.prototype.g=function(){return new ga(this.i,this.h)};function ga(f,_){De.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(ga,De),n=ga.prototype,n.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,mi(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Js(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ao(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ao(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Js(this):mi(this),this.readyState==3&&Ao(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,Js(this))},n.Na=function(f){this.g&&(this.response=f,Js(this))},n.ga=function(){this.g&&Js(this)};function Js(f){f.readyState=4,f.l=null,f.j=null,f.B=null,mi(f)}n.setRequestHeader=function(f,_){this.A.append(f,_)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=_.next();return f.join(`\r
`)};function mi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ga.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Xn(f){let _="";return Dt(f,function(b,w){_+=w,_+=":",_+=b,_+=`\r
`}),_}function ya(f,_,b){t:{for(w in b){var w=!1;break t}w=!0}w||(b=Xn(b),typeof f=="string"?b!=null&&ls(b):Wt(f,_,b))}function ie(f){De.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(ie,De);var ji=/^https?$/i,wu=["POST","PUT"];n=ie.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,_,b,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():mu.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(Q){_a(this,Q);return}if(f=b||"",b=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)b.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Q of w.keys())b.set(Q,w.get(Q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(b.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(wu,_,void 0)>=0)||w||q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ct]of b)this.g.setRequestHeader(Q,ct);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Q){_a(this,Q)}};function _a(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,Iu(f),us(f)}function Iu(f){f.A||(f.A=!0,qe(f,"complete"),qe(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,qe(this,"complete"),qe(this,"abort"),us(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),us(this,!0)),ie.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?va(this):this.Xa())},n.Xa=function(){va(this)};function va(f){if(f.h&&typeof l<"u"){if(f.v&&pi(f)==4)setTimeout(f.Ca.bind(f),0);else if(qe(f,"readystatechange"),pi(f)==4){f.h=!1;try{const Q=f.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var b;if(!(b=_)){var w;if(w=Q===0){let ct=String(f.D).match(Hh)[1]||null;!ct&&u.self&&u.self.location&&(ct=u.self.location.protocol.slice(0,-1)),w=!ji.test(ct?ct.toLowerCase():"")}b=w}if(b)qe(f,"complete"),qe(f,"success");else{f.o=6;try{var q=pi(f)>2?f.g.statusText:""}catch{q=""}f.l=q+" ["+f.ca()+"]",Iu(f)}}finally{us(f)}}}}function us(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const b=f.g;f.g=null,_||qe(f,"ready");try{b.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function pi(f){return f.g?f.g.readyState:0}n.ca=function(){try{return pi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),lp(_)}};function nn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function cs(f){const _={};f=(f.g&&pi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<f.length;w++){if(C(f[w]))continue;var b=jh(f[w]);const q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Q=_[q]||[];_[q]=Q,Q.push(b)}kt(_,function(w){return w.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fi(f,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||_}function Zs(f){this.za=0,this.i=[],this.j=new ci,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fi("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fi("baseRetryDelayMs",5e3,f),this.Za=Fi("retryDelaySeedMs",1e4,f),this.Ta=Fi("forwardChannelMaxRetries",2,f),this.va=Fi("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new pu(f&&f.concurrentRequestLimit),this.Ba=new Ws,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Zs.prototype,n.ka=8,n.I=1,n.connect=function(f,_,b,w){Ve(0),this.W=f,this.H=_||{},b&&w!==void 0&&(this.H.OSID=b,this.H.OAID=w),this.F=this.X,this.J=ef(this,null,this.W),qi(this)};function Ru(f){if(wo(f),f.I==3){var _=f.V++,b=Pe(f.J);if(Wt(b,"SID",f.M),Wt(b,"RID",_),Wt(b,"TYPE","terminate"),Ta(f,b),_=new hi(f,f.j,_),_.M=2,_.A=ma(Pe(b)),b=!1,u.navigator&&u.navigator.sendBeacon)try{b=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&u.Image&&(new Image().src=_.A,b=!0),b||(_.g=nf(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Pi(_)}tf(f)}function tr(f){f.g&&(Cu(f),f.g.cancel(),f.g=null)}function wo(f){tr(f),f.v&&(u.clearTimeout(f.v),f.v=null),Ro(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function qi(f){if(!gu(f.h)&&!f.m){f.m=!0;var _=f.Ea;rt||A(),at||(rt(),at=!0),R.add(_,f),f.D=0}}function Io(f,_){return Li(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Vi(p(f.Ea,f,_),Zh(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const q=new hi(this,this.j,f);let Q=this.o;if(this.U&&(Q?(Q=O(Q),ft(Q,this.U)):Q=this.U),this.u!==null||this.R||(q.J=Q,Q=null),this.S)t:{for(var _=0,b=0;b<this.i.length;b++){e:{var w=this.i[b];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(_+=w,_>4096){_=b;break t}if(_===4096||b===this.i.length-1){_=b+1;break t}}_=1e3}else _=1e3;_=Qh(this,q,_),b=Pe(this.J),Wt(b,"RID",f),Wt(b,"CVER",22),this.G&&Wt(b,"X-HTTP-Session-Id",this.G),Ta(this,b),Q&&(this.R?_="headers="+ls(Xn(Q))+"&"+_:this.u&&ya(b,this.u,Q)),yu(this.h,q),this.Ra&&Wt(b,"TYPE","init"),this.S?(Wt(b,"$req",_),Wt(b,"SID","null"),q.U=!0,Ni(q,b,null)):Ni(q,b,_),this.I=2}}else this.I==3&&(f?xu(this,f):this.i.length==0||gu(this.h)||xu(this))};function xu(f,_){var b;_?b=_.l:b=f.V++;const w=Pe(f.J);Wt(w,"SID",f.M),Wt(w,"RID",b),Wt(w,"AID",f.K),Ta(f,w),f.u&&f.o&&ya(w,f.u,f.o),b=new hi(f,f.j,b,f.D+1),f.u===null&&(b.J=f.o),_&&(f.i=_.G.concat(f.i)),_=Qh(f,b,1e3),b.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),yu(f.h,b),Ni(b,w,_)}function Ta(f,_){f.H&&Dt(f.H,function(b,w){Wt(_,w,b)}),f.l&&Dt({},function(b,w){Wt(_,w,b)})}function Qh(f,_,b){b=Math.min(f.i.length,b);const w=f.l?p(f.l.Ka,f.l,f):null;t:{var q=f.i;let xt=-1;for(;;){const Se=["count="+b];xt==-1?b>0?(xt=q[0].g,Se.push("ofs="+xt)):xt=0:Se.push("ofs="+xt);let Yt=!0;for(let de=0;de<b;de++){var Q=q[de].g;const Wn=q[de].map;if(Q-=xt,Q<0)xt=Math.max(0,q[de].g-100),Yt=!1;else try{Q="req"+Q+"_"||"";try{var ct=Wn instanceof Map?Wn:Object.entries(Wn);for(const[Gi,gi]of ct){let yi=gi;h(gi)&&(yi=Ks(gi)),Se.push(Q+Gi+"="+encodeURIComponent(yi))}}catch(Gi){throw Se.push(Q+"type="+encodeURIComponent("_badmap")),Gi}}catch{w&&w(Wn)}}if(Yt){ct=Se.join("&");break t}}ct=void 0}return f=f.i.splice(0,b),_.G=f,ct}function Xh(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;rt||A(),at||(rt(),at=!0),R.add(_,f),f.A=0}}function Ea(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Vi(p(f.Da,f),Zh(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,Wh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Vi(p(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ve(10),tr(this),Wh(this))};function Cu(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function Wh(f){f.g=new hi(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=Pe(f.na);Wt(_,"RID","rpc"),Wt(_,"SID",f.M),Wt(_,"AID",f.K),Wt(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&Wt(_,"TO",f.ia),Wt(_,"TYPE","xmlhttp"),Ta(f,_),f.u&&f.o&&ya(_,f.u,f.o),f.O&&(f.g.H=f.O);var b=f.g;f=f.ba,b.M=1,b.A=ma(Pe(_)),b.u=null,b.R=!0,_o(b,f)}n.Va=function(){this.C!=null&&(this.C=null,tr(this),Ea(this),Ve(19))};function Ro(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function Jh(f,_){var b=null;if(f.g==_){Ro(f),Cu(f),f.g=null;var w=2}else if(Ui(f.h,_))b=_.G,_u(f.h,_),w=1;else return;if(f.I!=0){if(_.o)if(w==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var q=f.D;w=yo(),qe(w,new Di(w,b)),qi(f)}else Xh(f);else if(q=_.m,q==3||q==0&&_.X>0||!(w==1&&Io(f,_)||w==2&&Ea(f)))switch(b&&b.length>0&&(_=f.h,_.i=_.i.concat(b)),q){case 1:Hi(f,5);break;case 4:Hi(f,10);break;case 3:Hi(f,6);break;default:Hi(f,2)}}}function Zh(f,_){let b=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(b*=2),b*_}function Hi(f,_){if(f.j.info("Error code "+_),_==2){var b=p(f.bb,f),w=f.Ua;const q=!w;w=new Pn(w||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||We(w,"https"),ma(w),q?di(w.toString(),b):Au(w.toString(),b)}else Ve(2);f.I=0,f.l&&f.l.pa(_),tf(f),wo(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function tf(f){if(f.I=0,f.ja=[],f.l){const _=vu(f.h);(_.length!=0||f.i.length!=0)&&(N(f.ja,_),N(f.ja,f.i),f.h.i.length=0,I(f.i),f.i.length=0),f.l.oa()}}function ef(f,_,b){var w=b instanceof Pn?Pe(b):new Pn(b);if(w.g!="")_&&(w.g=_+"."+w.g),$s(w,w.u);else{var q=u.location;w=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;const Q=new Pn(null);w&&We(Q,w),_&&(Q.g=_),q&&$s(Q,q),b&&(Q.h=b),w=Q}return b=f.G,_=f.wa,b&&_&&Wt(w,b,_),Wt(w,"VER",f.ka),Ta(f,w),w}function nf(f,_,b){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new ie(new zi({ab:b})):new ie(f.ma),_.Fa(f.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function sf(){}n=sf.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function er(){}er.prototype.g=function(f,_){return new _n(f,_)};function _n(f,_){De.call(this),this.g=new Zs(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!C(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!C(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new hs(this)}v(_n,De),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Ru(this.g)},_n.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.v&&(b={},b.__data__=Ks(f),f=b);_.i.push(new Ne(_.Ya++,f)),_.I==3&&qi(_)},_n.prototype.N=function(){this.g.l=null,delete this.j,Ru(this.g),delete this.g,_n.Z.N.call(this)};function rf(f){en.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){t:{for(const b in _){f=b;break t}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(rf,en);function af(){$n.call(this),this.status=1}v(af,$n);function hs(f){this.g=f}v(hs,sf),hs.prototype.ra=function(){qe(this.g,"a")},hs.prototype.qa=function(f){qe(this.g,new rf(f))},hs.prototype.pa=function(f){qe(this.g,new af)},hs.prototype.oa=function(){qe(this.g,"b")},er.prototype.createWebChannel=er.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,LI=function(){return new er},kI=function(){return yo()},OI=be,Wy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fa.NO_ERROR=0,fa.TIMEOUT=8,fa.HTTP_ERROR=6,Rd=fa,du.COMPLETE="complete",PI=du,Lh.EventType=ui,ui.OPEN="a",ui.CLOSE="b",ui.ERROR="c",ui.MESSAGE="d",De.prototype.listen=De.prototype.J,Ec=Lh,ie.prototype.listenOnce=ie.prototype.K,ie.prototype.getLastError=ie.prototype.Ha,ie.prototype.getLastErrorCode=ie.prototype.ya,ie.prototype.getStatus=ie.prototype.ca,ie.prototype.getResponseJson=ie.prototype.La,ie.prototype.getResponseText=ie.prototype.la,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Fa,NI=ie}).apply(typeof hd<"u"?hd:typeof self<"u"?self:typeof window<"u"?window:{});class dn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let Jl="12.8.0";function bO(n){Jl=n}const ro=new W_("@firebase/firestore");function cl(){return ro.logLevel}function ot(n,...t){if(ro.logLevel<=Bt.DEBUG){const e=t.map(ov);ro.debug(`Firestore (${Jl}): ${n}`,...e)}}function Ie(n,...t){if(ro.logLevel<=Bt.ERROR){const e=t.map(ov);ro.error(`Firestore (${Jl}): ${n}`,...e)}}function Gc(n,...t){if(ro.logLevel<=Bt.WARN){const e=t.map(ov);ro.warn(`Firestore (${Jl}): ${n}`,...e)}}function ov(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function dt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,UI(n,i,e)}function UI(n,t,e){let i=`FIRESTORE (${Jl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Ie(i),new Error(i)}function vt(n,t,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,n||UI(t,a,i)}function _t(n,t){return n}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends js{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ii{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class SO{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class AO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(dn.UNAUTHENTICATED)))}shutdown(){}}class wO{constructor(t){this.t=t,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){vt(this.o===void 0,42304);let i=this.i;const a=d=>this.i!==i?(i=this.i,e(d)):Promise.resolve();let l=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ii,t.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const d=l;t.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ii)}}),0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(vt(typeof i.accessToken=="string",31837,{l:i}),new SO(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return vt(t===null||typeof t=="string",2055,{h:t}),new dn(t)}}class IO{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class RO{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new IO(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class XS{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xO{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ai(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){vt(this.o===void 0,3512);const i=l=>{l.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ot("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>i(l)))};const a=l=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new XS(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(vt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new XS(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function CO(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class lv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=CO(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<e&&(i+=t.charAt(a[l]%62))}return i}}function It(n,t){return n<t?-1:n>t?1:0}function Jy(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const a=n.charAt(i),l=t.charAt(i);if(a!==l)return _y(a)===_y(l)?It(a,l):_y(a)?1:-1}return It(n.length,t.length)}const DO=55296,VO=57343;function _y(n){const t=n.charCodeAt(0);return t>=DO&&t<=VO}function xl(n,t,e){return n.length===t.length&&n.every(((i,a)=>e(i,t[a])))}function BI(n){return n+"\0"}const WS="__name__";class Xi{constructor(t,e,i){e===void 0?e=0:e>t.length&&dt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&dt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Xi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Xi?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let a=0;a<i;a++){const l=Xi.compareSegments(t.get(a),e.get(a));if(l!==0)return l}return It(t.length,e.length)}static compareSegments(t,e){const i=Xi.isNumericId(t),a=Xi.isNumericId(e);return i&&!a?-1:!i&&a?1:i&&a?Xi.extractNumericId(t).compare(Xi.extractNumericId(e)):Jy(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Fr.fromString(t.substring(4,t.length-2))}}class Ht extends Xi{construct(t,e,i){return new Ht(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ut(W.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((a=>a.length>0)))}return new Ht(e)}static emptyPath(){return new Ht([])}}const MO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ye extends Xi{construct(t,e,i){return new ye(t,e,i)}static isValidIdentifier(t){return MO.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===WS}static keyField(){return new ye([WS])}static fromServerFormat(t){const e=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ut(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new ut(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ut(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(i+=h,a++):(l(),a++)}if(l(),u)throw new ut(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ye(e)}static emptyPath(){return new ye([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(Ht.fromString(t))}static fromName(t){return new ht(Ht.fromString(t).popFirst(5))}static empty(){return new ht(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ht.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Ht.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new Ht(t.slice()))}}function zI(n,t,e){if(!e)throw new ut(W.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function NO(n,t,e,i){if(t===!0&&i===!0)throw new ut(W.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function JS(n){if(!ht.isDocumentKey(n))throw new ut(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ZS(n){if(ht.isDocumentKey(n))throw new ut(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jI(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Vm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":dt(12329,{type:typeof n})}function is(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ut(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Vm(n);throw new ut(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function PO(n,t){if(t<=0)throw new ut(W.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}function je(n,t){const e={typeString:n};return t&&(e.value=t),e}function yh(n,t){if(!jI(n))throw new ut(W.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const a=t[i].typeString,l="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const u=n[i];if(a&&typeof u!==a){e=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){e=`Expected '${i}' field to equal '${l.value}'`;break}}if(e)throw new ut(W.INVALID_ARGUMENT,e);return!0}const tA=-62135596800,eA=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(t){return te.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*eA);return new te(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ut(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ut(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<tA)throw new ut(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eA}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(yh(t,te._jsonSchema))return new te(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-tA;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:je("string",te._jsonSchemaVersion),seconds:je("number"),nanoseconds:je("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new te(0,0))}static max(){return new Et(new te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Cl=-1;class Wd{constructor(t,e,i,a){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=a}}function Zy(n){return n.fields.find((t=>t.kind===2))}function Fa(n){return n.fields.filter((t=>t.kind!==2))}Wd.UNKNOWN_ID=-1;class xd{constructor(t,e){this.fieldPath=t,this.kind=e}}class Kc{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Kc(0,Kn.min())}}function FI(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Et.fromTimestamp(i===1e9?new te(e+1,0):new te(e,i));return new Kn(a,ht.empty(),t)}function qI(n){return new Kn(n.readTime,n.key,Cl)}class Kn{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Kn(Et.min(),ht.empty(),Cl)}static max(){return new Kn(Et.max(),ht.empty(),Cl)}}function uv(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=ht.comparator(n.documentKey,t.documentKey),e!==0?e:It(n.largestBatchId,t.largestBatchId))}const HI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ea(n){if(n.code!==W.FAILED_PRECONDITION||n.message!==HI)throw n;ot("LocalStore","Unexpectedly lost primary lease")}class F{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new F(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(i,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof F?e:F.resolve(e)}catch(e){return F.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):F.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):F.reject(e)}static resolve(t){return new F(((e,i)=>{e(t)}))}static reject(t){return new F(((e,i)=>{i(t)}))}static waitFor(t){return new F(((e,i)=>{let a=0,l=0,u=!1;t.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&e()}),(d=>i(d)))})),u=!0,l===a&&e()}))}static or(t){let e=F.resolve(!1);for(const i of t)e=e.next((a=>a?F.resolve(a):i()));return e}static forEach(t,e){const i=[];return t.forEach(((a,l)=>{i.push(e.call(this,a,l))})),this.waitFor(i)}static mapArray(t,e){return new F(((i,a)=>{const l=t.length,u=new Array(l);let h=0;for(let d=0;d<l;d++){const p=d;e(t[p]).next((y=>{u[p]=y,++h,h===l&&i(u)}),(y=>a(y)))}}))}static doWhile(t,e){return new F(((i,a)=>{const l=()=>{t()===!0?e().next((()=>{l()}),a):i()};l()}))}}const Fn="SimpleDb";class Mm{static open(t,e,i,a){try{return new Mm(e,t.transaction(a,i))}catch(l){throw new Cc(e,l)}}constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.S=new Ii,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{e.error?this.S.reject(new Cc(t,e.error)):this.S.resolve()},this.transaction.onerror=i=>{const a=cv(i.target.error);this.S.reject(new Cc(t,a))}}get D(){return this.S.promise}abort(t){t&&this.S.reject(t),this.aborted||(ot(Fn,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const e=this.transaction.objectStore(t);return new kO(e)}}class qr{static delete(t){return ot(Fn,"Removing database:",t),Ga(j1().indexedDB.deleteDatabase(t)).toPromise()}static v(){if(!Y1())return!1;if(qr.F())return!0;const t=$e(),e=qr.M(t),i=0<e&&e<10,a=KI(t),l=0<a&&a<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||l)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(t,e){return t.store(e)}static M(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(t,e,i){this.name=t,this.version=e,this.N=i,this.B=null,qr.M($e())===12.2&&Ie("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(t){return this.db||(ot(Fn,"Opening database:",this.name),this.db=await new Promise(((e,i)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=l=>{const u=l.target.result;e(u)},a.onblocked=()=>{i(new Cc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const u=l.target.error;u.name==="VersionError"?i(new ut(W.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?i(new ut(W.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):i(new Cc(t,u))},a.onupgradeneeded=l=>{ot(Fn,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const u=l.target.result;this.N.k(u,a.transaction,l.oldVersion,this.version).next((()=>{ot(Fn,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=e=>this.K(e)),this.db}q(t){this.K=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,i,a){const l=e==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(t);const h=Mm.open(this.db,t,l?"readonly":"readwrite",i),d=a(h).next((p=>(h.C(),p))).catch((p=>(h.abort(p),F.reject(p)))).toPromise();return d.catch((()=>{})),await h.D,d}catch(h){const d=h,p=d.name!=="FirebaseError"&&u<3;if(ot(Fn,"Transaction failed with error:",d.message,"Retrying:",p),this.close(),!p)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function KI(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}class OO{constructor(t){this.U=t,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(t){this.U=t}done(){this.$=!0}j(t){this.W=t}delete(){return Ga(this.U.delete())}}class Cc extends ut{constructor(t,e){super(W.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function na(n){return n.name==="IndexedDbTransactionError"}class kO{constructor(t){this.store=t}put(t,e){let i;return e!==void 0?(ot(Fn,"PUT",this.store.name,t,e),i=this.store.put(e,t)):(ot(Fn,"PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Ga(i)}add(t){return ot(Fn,"ADD",this.store.name,t,t),Ga(this.store.add(t))}get(t){return Ga(this.store.get(t)).next((e=>(e===void 0&&(e=null),ot(Fn,"GET",this.store.name,t,e),e)))}delete(t){return ot(Fn,"DELETE",this.store.name,t),Ga(this.store.delete(t))}count(){return ot(Fn,"COUNT",this.store.name),Ga(this.store.count())}H(t,e){const i=this.options(t,e),a=i.index?this.store.index(i.index):this.store;if(typeof a.getAll=="function"){const l=a.getAll(i.range);return new F(((u,h)=>{l.onerror=d=>{h(d.target.error)},l.onsuccess=d=>{u(d.target.result)}}))}{const l=this.cursor(i),u=[];return this.J(l,((h,d)=>{u.push(d)})).next((()=>u))}}Z(t,e){const i=this.store.getAll(t,e===null?void 0:e);return new F(((a,l)=>{i.onerror=u=>{l(u.target.error)},i.onsuccess=u=>{a(u.target.result)}}))}X(t,e){ot(Fn,"DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const a=this.cursor(i);return this.J(a,((l,u,h)=>h.delete()))}ee(t,e){let i;e?i=t:(i={},e=t);const a=this.cursor(i);return this.J(a,e)}te(t){const e=this.cursor({});return new F(((i,a)=>{e.onerror=l=>{const u=cv(l.target.error);a(u)},e.onsuccess=l=>{const u=l.target.result;u?t(u.primaryKey,u.value).next((h=>{h?u.continue():i()})):i()}}))}J(t,e){const i=[];return new F(((a,l)=>{t.onerror=u=>{l(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void a();const d=new OO(h),p=e(h.primaryKey,h.value,d);if(p instanceof F){const y=p.catch((v=>(d.done(),F.reject(v))));i.push(y)}d.isDone?a():d.G===null?h.continue():h.continue(d.G)}})).next((()=>F.waitFor(i)))}options(t,e){let i;return t!==void 0&&(typeof t=="string"?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Ga(n){return new F(((t,e)=>{n.onsuccess=i=>{const a=i.target.result;t(a)},n.onerror=i=>{const a=cv(i.target.error);e(a)}}))}let nA=!1;function cv(n){const t=qr.M($e());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new ut("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return nA||(nA=!0,setTimeout((()=>{throw i}),0)),i}}return n}const Dc="IndexBackfiller";class LO{constructor(t,e){this.asyncQueue=t,this.ne=e,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(t){ot(Dc,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(async()=>{this.task=null;try{const e=await this.ne.ie();ot(Dc,`Documents written: ${e}`)}catch(e){na(e)?ot(Dc,"Ignoring IndexedDB error during index backfill: ",e):await ea(e)}await this.re(6e4)}))}}class UO{constructor(t,e){this.localStore=t,this.persistence=e}async ie(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(e=>this.se(e,t)))}se(t,e){const i=new Set;let a=e,l=!0;return F.doWhile((()=>l===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next((u=>{if(u!==null&&!i.has(u))return ot(Dc,`Processing collection: ${u}`),this.oe(t,u,a).next((h=>{a-=h,i.add(u)}));l=!1})))).next((()=>e-a))}oe(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next((a=>this.localStore.localDocuments.getNextDocuments(t,e,a,i).next((l=>{const u=l.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next((()=>this._e(a,l))).next((h=>(ot(Dc,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h)))).next((()=>u.size))}))))}_e(t,e){let i=t;return e.changes.forEach(((a,l)=>{const u=qI(l);uv(u,i)>0&&(i=u)})),new Kn(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class Vn{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Vn.ce=-1;const Ja=-1;function _h(n){return n==null}function $c(n){return n===0&&1/n==-1/0}function $I(n){return typeof n=="number"&&Number.isInteger(n)&&!$c(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Jd="";function gn(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=iA(t)),t=BO(n.get(e),t);return iA(t)}function BO(n,t){let e=t;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":e+="";break;case Jd:e+="";break;default:e+=l}}return e}function iA(n){return n+Jd+""}function Ji(n){const t=n.length;if(vt(t>=2,64408,{path:n}),t===2)return vt(n.charAt(0)===Jd&&n.charAt(1)==="",56145,{path:n}),Ht.emptyPath();const e=t-2,i=[];let a="";for(let l=0;l<t;){const u=n.indexOf(Jd,l);switch((u<0||u>e)&&dt(50515,{path:n}),n.charAt(u+1)){case"":const h=n.substring(l,u);let d;a.length===0?d=h:(a+=h,d=a,a=""),i.push(d);break;case"":a+=n.substring(l,u),a+="\0";break;case"":a+=n.substring(l,u+1);break;default:dt(61167,{path:n})}l=u+2}return new Ht(i)}const qa="remoteDocuments",vh="owner",sl="owner",Yc="mutationQueues",zO="userId",Si="mutations",sA="batchId",Qa="userMutationsIndex",rA=["userId","batchId"];function Cd(n,t){return[n,gn(t)]}function YI(n,t,e){return[n,gn(t),e]}const jO={},Dl="documentMutations",Zd="remoteDocumentsV14",FO=["prefixPath","collectionGroup","readTime","documentId"],Dd="documentKeyIndex",qO=["prefixPath","collectionGroup","documentId"],QI="collectionGroupIndex",HO=["collectionGroup","readTime","prefixPath","documentId"],Qc="remoteDocumentGlobal",t_="remoteDocumentGlobalKey",Vl="targets",XI="queryTargetsIndex",GO=["canonicalId","targetId"],Ml="targetDocuments",KO=["targetId","path"],hv="documentTargetsIndex",$O=["path","targetId"],tm="targetGlobalKey",Za="targetGlobal",Xc="collectionParents",YO=["collectionId","parent"],Nl="clientMetadata",QO="clientId",Nm="bundles",XO="bundleId",Pm="namedQueries",WO="name",fv="indexConfiguration",JO="indexId",e_="collectionGroupIndex",ZO="collectionGroup",Vc="indexState",tk=["indexId","uid"],WI="sequenceNumberIndex",ek=["uid","sequenceNumber"],Mc="indexEntries",nk=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],JI="documentKeyIndex",ik=["indexId","uid","orderedDocumentKey"],Om="documentOverlays",sk=["userId","collectionPath","documentId"],n_="collectionPathOverlayIndex",rk=["userId","collectionPath","largestBatchId"],ZI="collectionGroupOverlayIndex",ak=["userId","collectionGroup","largestBatchId"],dv="globals",ok="name",tR=[Yc,Si,Dl,qa,Vl,vh,Za,Ml,Nl,Qc,Xc,Nm,Pm],lk=[...tR,Om],eR=[Yc,Si,Dl,Zd,Vl,vh,Za,Ml,Nl,Qc,Xc,Nm,Pm,Om],nR=eR,mv=[...nR,fv,Vc,Mc],uk=mv,iR=[...mv,dv],ck=iR;class i_ extends GI{constructor(t,e){super(),this.le=t,this.currentSequenceNumber=e}}function Qe(n,t){const e=_t(n);return qr.O(e.le,t)}function aA(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ia(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function sR(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class le{constructor(t,e){this.comparator=t,this.root=e||un.EMPTY}insert(t,e){return new le(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,un.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,un.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return e+i.left.size;a<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new fd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new fd(this.root,t,this.comparator,!1)}getReverseIterator(){return new fd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new fd(this.root,t,this.comparator,!0)}}class fd{constructor(t,e,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class un{constructor(t,e,i,a,l){this.key=t,this.value=e,this.color=i??un.RED,this.left=a??un.EMPTY,this.right=l??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,a,l){return new un(t??this.key,e??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const l=i(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,i),null):l===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return un.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw dt(27949);return t+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(t,e,i,a,l){return this}insert(t,e,i){return new un(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ne{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new oA(this.data.getIterator())}getIteratorFrom(t){return new oA(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof ne)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new ne(this.comparator);return e.data=t,e}}class oA{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function rl(n){return n.hasNext()?n.getNext():void 0}class Mn{constructor(t){this.fields=t,t.sort(ye.comparator)}static empty(){return new Mn([])}unionWith(t){let e=new ne(ye.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Mn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return xl(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class rR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ce{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new rR("Invalid base64 string: "+l):l}})(t);return new Ce(e)}static fromUint8Array(t){const e=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(t);return new Ce(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ce.EMPTY_BYTE_STRING=new Ce("");const hk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(n){if(vt(!!n,39018),typeof n=="string"){let t=0;const e=hk.exec(n);if(vt(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:pe(n.seconds),nanos:pe(n.nanos)}}function pe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Us(n){return typeof n=="string"?Ce.fromBase64String(n):Ce.fromUint8Array(n)}const aR="server_timestamp",oR="__type__",lR="__previous_value__",uR="__local_write_time__";function pv(n){return(n?.mapValue?.fields||{})[oR]?.stringValue===aR}function km(n){const t=n.mapValue.fields[lR];return pv(t)?km(t):t}function Wc(n){const t=Ls(n.mapValue.fields[uR].timestampValue);return new te(t.seconds,t.nanos)}class fk{constructor(t,e,i,a,l,u,h,d,p,y,v){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=v}}const em="(default)";class ao{constructor(t,e){this.projectId=t,this.database=e||em}static empty(){return new ao("","")}get isDefaultDatabase(){return this.database===em}isEqual(t){return t instanceof ao&&t.projectId===this.projectId&&t.database===this.database}}function dk(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ut(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ao(n.options.projectId,t)}const gv="__type__",cR="__max__",Or={mapValue:{fields:{__type__:{stringValue:cR}}}},yv="__vector__",Pl="value",Vd={nullValue:"NULL_VALUE"};function $r(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pv(n)?4:hR(n)?9007199254740991:Lm(n)?10:11:dt(28295,{value:n})}function as(n,t){if(n===t)return!0;const e=$r(n);if(e!==$r(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Wc(n).isEqual(Wc(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Ls(a.timestampValue),h=Ls(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,l){return Us(a.bytesValue).isEqual(Us(l.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,l){return pe(a.geoPointValue.latitude)===pe(l.geoPointValue.latitude)&&pe(a.geoPointValue.longitude)===pe(l.geoPointValue.longitude)})(n,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return pe(a.integerValue)===pe(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=pe(a.doubleValue),h=pe(l.doubleValue);return u===h?$c(u)===$c(h):isNaN(u)&&isNaN(h)}return!1})(n,t);case 9:return xl(n.arrayValue.values||[],t.arrayValue.values||[],as);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(aA(u)!==aA(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!as(u[d],h[d])))return!1;return!0})(n,t);default:return dt(52216,{left:n})}}function Jc(n,t){return(n.values||[]).find((e=>as(e,t)))!==void 0}function Yr(n,t){if(n===t)return 0;const e=$r(n),i=$r(t);if(e!==i)return It(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return It(n.booleanValue,t.booleanValue);case 2:return(function(l,u){const h=pe(l.integerValue||l.doubleValue),d=pe(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(n,t);case 3:return lA(n.timestampValue,t.timestampValue);case 4:return lA(Wc(n),Wc(t));case 5:return Jy(n.stringValue,t.stringValue);case 6:return(function(l,u){const h=Us(l),d=Us(u);return h.compareTo(d)})(n.bytesValue,t.bytesValue);case 7:return(function(l,u){const h=l.split("/"),d=u.split("/");for(let p=0;p<h.length&&p<d.length;p++){const y=It(h[p],d[p]);if(y!==0)return y}return It(h.length,d.length)})(n.referenceValue,t.referenceValue);case 8:return(function(l,u){const h=It(pe(l.latitude),pe(u.latitude));return h!==0?h:It(pe(l.longitude),pe(u.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return uA(n.arrayValue,t.arrayValue);case 10:return(function(l,u){const h=l.fields||{},d=u.fields||{},p=h[Pl]?.arrayValue,y=d[Pl]?.arrayValue,v=It(p?.values?.length||0,y?.values?.length||0);return v!==0?v:uA(p,y)})(n.mapValue,t.mapValue);case 11:return(function(l,u){if(l===Or.mapValue&&u===Or.mapValue)return 0;if(l===Or.mapValue)return 1;if(u===Or.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),p=u.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const E=Jy(d[v],y[v]);if(E!==0)return E;const I=Yr(h[d[v]],p[y[v]]);if(I!==0)return I}return It(d.length,y.length)})(n.mapValue,t.mapValue);default:throw dt(23264,{he:e})}}function lA(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return It(n,t);const e=Ls(n),i=Ls(t),a=It(e.seconds,i.seconds);return a!==0?a:It(e.nanos,i.nanos)}function uA(n,t){const e=n.values||[],i=t.values||[];for(let a=0;a<e.length&&a<i.length;++a){const l=Yr(e[a],i[a]);if(l)return l}return It(e.length,i.length)}function Ol(n){return s_(n)}function s_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Ls(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Us(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return ht.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",a=!0;for(const l of e.values||[])a?a=!1:i+=",",i+=s_(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${s_(e.fields[u])}`;return a+"}"})(n.mapValue):dt(61005,{value:n})}function Md(n){switch($r(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=km(n);return t?16+Md(t):16;case 5:return 2*n.stringValue.length;case 6:return Us(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Md(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return ia(i.fields,((l,u)=>{a+=l.length+Md(u)})),a})(n.mapValue);default:throw dt(13486,{value:n})}}function Zc(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function r_(n){return!!n&&"integerValue"in n}function th(n){return!!n&&"arrayValue"in n}function cA(n){return!!n&&"nullValue"in n}function hA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Nd(n){return!!n&&"mapValue"in n}function Lm(n){return(n?.mapValue?.fields||{})[gv]?.stringValue===yv}function Nc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return ia(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=Nc(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Nc(n.arrayValue.values[e]);return t}return{...n}}function hR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===cR}const fR={mapValue:{fields:{[gv]:{stringValue:yv},[Pl]:{arrayValue:{}}}}};function mk(n){return"nullValue"in n?Vd:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Zc(ao.empty(),ht.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Lm(n)?fR:{mapValue:{}}:dt(35942,{value:n})}function pk(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Zc(ao.empty(),ht.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?fR:"mapValue"in n?Lm(n)?{mapValue:{}}:Or:dt(61959,{value:n})}function fA(n,t){const e=Yr(n.value,t.value);return e!==0?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function dA(n,t){const e=Yr(n.value,t.value);return e!==0?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class cn{constructor(t){this.value=t}static empty(){return new cn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Nd(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nc(e)}setAll(t){let e=ye.emptyPath(),i={},a=[];t.forEach(((u,h)=>{if(!e.isImmediateParentOf(h)){const d=this.getFieldsMap(e);this.applyChanges(d,i,a),i={},a=[],e=h.popLast()}u?i[h.lastSegment()]=Nc(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(e);this.applyChanges(l,i,a)}delete(t){const e=this.field(t.popLast());Nd(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return as(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=e.mapValue.fields[t.get(i)];Nd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,i){ia(e,((a,l)=>t[a]=l));for(const a of i)delete t[a]}clone(){return new cn(Nc(this.value))}}function dR(n){const t=[];return ia(n.fields,((e,i)=>{const a=new ye([e]);if(Nd(i)){const l=dR(i.mapValue).fields;if(l.length===0)t.push(a);else for(const u of l)t.push(a.child(u))}else t.push(a)})),new Mn(t)}class ge{constructor(t,e,i,a,l,u,h){this.key=t,this.documentType=e,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(t){return new ge(t,0,Et.min(),Et.min(),Et.min(),cn.empty(),0)}static newFoundDocument(t,e,i,a){return new ge(t,1,e,Et.min(),i,a,0)}static newNoDocument(t,e){return new ge(t,2,e,Et.min(),Et.min(),cn.empty(),0)}static newUnknownDocument(t,e){return new ge(t,3,e,Et.min(),Et.min(),cn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ge&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kl{constructor(t,e){this.position=t,this.inclusive=e}}function mA(n,t,e){let i=0;for(let a=0;a<n.position.length;a++){const l=t[a],u=n.position[a];if(l.field.isKeyField()?i=ht.comparator(ht.fromName(u.referenceValue),e.key):i=Yr(u,e.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function pA(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!as(n.position[e],t.position[e]))return!1;return!0}class eh{constructor(t,e="asc"){this.field=t,this.dir=e}}function gk(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class mR{}class zt extends mR{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new yk(t,e,i):e==="array-contains"?new Tk(t,i):e==="in"?new TR(t,i):e==="not-in"?new Ek(t,i):e==="array-contains-any"?new bk(t,i):new zt(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new _k(t,i):new vk(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Yr(e,this.value)):e!==null&&$r(this.value)===$r(e)&&this.matchesComparison(Yr(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ee extends mR{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new ee(t,e)}matches(t){return Ll(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ll(n){return n.op==="and"}function a_(n){return n.op==="or"}function _v(n){return pR(n)&&Ll(n)}function pR(n){for(const t of n.filters)if(t instanceof ee)return!1;return!0}function o_(n){if(n instanceof zt)return n.field.canonicalString()+n.op.toString()+Ol(n.value);if(_v(n))return n.filters.map((t=>o_(t))).join(",");{const t=n.filters.map((e=>o_(e))).join(",");return`${n.op}(${t})`}}function gR(n,t){return n instanceof zt?(function(i,a){return a instanceof zt&&i.op===a.op&&i.field.isEqual(a.field)&&as(i.value,a.value)})(n,t):n instanceof ee?(function(i,a){return a instanceof ee&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,u,h)=>l&&gR(u,a.filters[h])),!0):!1})(n,t):void dt(19439)}function yR(n,t){const e=n.filters.concat(t);return ee.create(e,n.op)}function _R(n){return n instanceof zt?(function(e){return`${e.field.canonicalString()} ${e.op} ${Ol(e.value)}`})(n):n instanceof ee?(function(e){return e.op.toString()+" {"+e.getFilters().map(_R).join(" ,")+"}"})(n):"Filter"}class yk extends zt{constructor(t,e,i){super(t,e,i),this.key=ht.fromName(i.referenceValue)}matches(t){const e=ht.comparator(t.key,this.key);return this.matchesComparison(e)}}class _k extends zt{constructor(t,e){super(t,"in",e),this.keys=vR("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class vk extends zt{constructor(t,e){super(t,"not-in",e),this.keys=vR("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function vR(n,t){return(t.arrayValue?.values||[]).map((e=>ht.fromName(e.referenceValue)))}class Tk extends zt{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return th(e)&&Jc(e.arrayValue,this.value)}}class TR extends zt{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Jc(this.value.arrayValue,e)}}class Ek extends zt{constructor(t,e){super(t,"not-in",e)}matches(t){if(Jc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Jc(this.value.arrayValue,e)}}class bk extends zt{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!th(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Jc(this.value.arrayValue,i)))}}class Sk{constructor(t,e=null,i=[],a=[],l=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function l_(n,t=null,e=[],i=[],a=null,l=null,u=null){return new Sk(n,t,e,i,a,l,u)}function oo(n){const t=_t(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>o_(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),_h(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Ol(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Ol(i))).join(",")),t.Te=e}return t.Te}function Th(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!gk(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!gR(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!pA(n.startAt,t.startAt)&&pA(n.endAt,t.endAt)}function nm(n){return ht.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function im(n,t){return n.filters.filter((e=>e instanceof zt&&e.field.isEqual(t)))}function gA(n,t,e){let i=Vd,a=!0;for(const l of im(n,t)){let u=Vd,h=!0;switch(l.op){case"<":case"<=":u=mk(l.value);break;case"==":case"in":case">=":u=l.value;break;case">":u=l.value,h=!1;break;case"!=":case"not-in":u=Vd}fA({value:i,inclusive:a},{value:u,inclusive:h})<0&&(i=u,a=h)}if(e!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const u=e.position[l];fA({value:i,inclusive:a},{value:u,inclusive:e.inclusive})<0&&(i=u,a=e.inclusive);break}}return{value:i,inclusive:a}}function yA(n,t,e){let i=Or,a=!0;for(const l of im(n,t)){let u=Or,h=!0;switch(l.op){case">=":case">":u=pk(l.value),h=!1;break;case"==":case"in":case"<=":u=l.value;break;case"<":u=l.value,h=!1;break;case"!=":case"not-in":u=Or}dA({value:i,inclusive:a},{value:u,inclusive:h})>0&&(i=u,a=h)}if(e!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const u=e.position[l];dA({value:i,inclusive:a},{value:u,inclusive:e.inclusive})>0&&(i=u,a=e.inclusive);break}}return{value:i,inclusive:a}}class Zl{constructor(t,e=null,i=[],a=[],l=null,u="F",h=null,d=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function ER(n,t,e,i,a,l,u,h){return new Zl(n,t,e,i,a,l,u,h)}function Eh(n){return new Zl(n)}function _A(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Ak(n){return ht.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function bR(n){return n.collectionGroup!==null}function Pc(n){const t=_t(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),e.add(l.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new ne(ye.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(t).forEach((l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new eh(l,i))})),e.has(ye.keyField().canonicalString())||t.Ie.push(new eh(ye.keyField(),i))}return t.Ie}function Gn(n){const t=_t(n);return t.Ee||(t.Ee=wk(t,Pc(n))),t.Ee}function wk(n,t){if(n.limitType==="F")return l_(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new eh(a.field,l)}));const e=n.endAt?new kl(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new kl(n.startAt.position,n.startAt.inclusive):null;return l_(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function u_(n,t){const e=n.filters.concat([t]);return new Zl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Ik(n,t){const e=n.explicitOrderBy.concat([t]);return new Zl(n.path,n.collectionGroup,e,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function sm(n,t,e){return new Zl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Um(n,t){return Th(Gn(n),Gn(t))&&n.limitType===t.limitType}function SR(n){return`${oo(Gn(n))}|lt:${n.limitType}`}function hl(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((a=>_R(a))).join(", ")}]`),_h(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Ol(a))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Ol(a))).join(",")),`Target(${i})`})(Gn(n))}; limitType=${n.limitType})`}function bh(n,t){return t.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ht.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,t)&&(function(i,a){for(const l of Pc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,t)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(n,t)&&(function(i,a){return!(i.startAt&&!(function(u,h,d){const p=mA(u,h,d);return u.inclusive?p<=0:p<0})(i.startAt,Pc(i),a)||i.endAt&&!(function(u,h,d){const p=mA(u,h,d);return u.inclusive?p>=0:p>0})(i.endAt,Pc(i),a))})(n,t)}function AR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function wR(n){return(t,e)=>{let i=!1;for(const a of Pc(n)){const l=Rk(a,t,e);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function Rk(n,t,e){const i=n.field.isKeyField()?ht.comparator(t.key,e.key):(function(l,u,h){const d=u.data.field(l),p=h.data.field(l);return d!==null&&p!==null?Yr(d,p):dt(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return dt(19790,{direction:n.dir})}}class Fs{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[e]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){ia(this.inner,((e,i)=>{for(const[a,l]of i)t(a,l)}))}isEmpty(){return sR(this.inner)}size(){return this.innerSize}}const xk=new le(ht.comparator);function Hn(){return xk}const IR=new le(ht.comparator);function bc(...n){let t=IR;for(const e of n)t=t.insert(e.key,e);return t}function RR(n){let t=IR;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function Zi(){return Oc()}function xR(){return Oc()}function Oc(){return new Fs((n=>n.toString()),((n,t)=>n.isEqual(t)))}const Ck=new le(ht.comparator),Dk=new ne(ht.comparator);function Nt(...n){let t=Dk;for(const e of n)t=t.add(e);return t}const Vk=new ne(It);function vv(){return Vk}function Tv(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(t)?"-0":t}}function CR(n){return{integerValue:""+n}}function Mk(n,t){return $I(t)?CR(t):Tv(n,t)}class Bm{constructor(){this._=void 0}}function Nk(n,t,e){return n instanceof Ul?(function(a,l){const u={fields:{[oR]:{stringValue:aR},[uR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&pv(l)&&(l=km(l)),l&&(u.fields[lR]=l),{mapValue:u}})(e,t):n instanceof Bl?VR(n,t):n instanceof zl?MR(n,t):(function(a,l){const u=DR(a,l),h=vA(u)+vA(a.Ae);return r_(u)&&r_(a.Ae)?CR(h):Tv(a.serializer,h)})(n,t)}function Pk(n,t,e){return n instanceof Bl?VR(n,t):n instanceof zl?MR(n,t):e}function DR(n,t){return n instanceof nh?(function(i){return r_(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(t)?t:{integerValue:0}:null}class Ul extends Bm{}class Bl extends Bm{constructor(t){super(),this.elements=t}}function VR(n,t){const e=NR(t);for(const i of n.elements)e.some((a=>as(a,i)))||e.push(i);return{arrayValue:{values:e}}}class zl extends Bm{constructor(t){super(),this.elements=t}}function MR(n,t){let e=NR(t);for(const i of n.elements)e=e.filter((a=>!as(a,i)));return{arrayValue:{values:e}}}class nh extends Bm{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function vA(n){return pe(n.integerValue||n.doubleValue)}function NR(n){return th(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class PR{constructor(t,e){this.field=t,this.transform=e}}function Ok(n,t){return n.field.isEqual(t.field)&&(function(i,a){return i instanceof Bl&&a instanceof Bl||i instanceof zl&&a instanceof zl?xl(i.elements,a.elements,as):i instanceof nh&&a instanceof nh?as(i.Ae,a.Ae):i instanceof Ul&&a instanceof Ul})(n.transform,t.transform)}class kk{constructor(t,e){this.version=t,this.transformResults=e}}class Re{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Re}static exists(t){return new Re(void 0,t)}static updateTime(t){return new Re(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pd(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class zm{}function OR(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Sh(n.key,Re.none()):new tu(n.key,n.data,Re.none());{const e=n.data,i=cn.empty();let a=new ne(ye.comparator);for(let l of t.fields)if(!a.has(l)){let u=e.field(l);u===null&&l.length>1&&(l=l.popLast(),u=e.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new qs(n.key,i,new Mn(a.toArray()),Re.none())}}function Lk(n,t,e){n instanceof tu?(function(a,l,u){const h=a.value.clone(),d=EA(a.fieldTransforms,l,u.transformResults);h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,t,e):n instanceof qs?(function(a,l,u){if(!Pd(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=EA(a.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(kR(a)),d.setAll(h),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,t,e):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,t,e)}function kc(n,t,e,i){return n instanceof tu?(function(l,u,h,d){if(!Pd(l.precondition,u))return h;const p=l.value.clone(),y=bA(l.fieldTransforms,d,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,t,e,i):n instanceof qs?(function(l,u,h,d){if(!Pd(l.precondition,u))return h;const p=bA(l.fieldTransforms,d,u),y=u.data;return y.setAll(kR(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(n,t,e,i):(function(l,u,h){return Pd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,t,e)}function Uk(n,t){let e=null;for(const i of n.fieldTransforms){const a=t.data.field(i.field),l=DR(i.transform,a||null);l!=null&&(e===null&&(e=cn.empty()),e.set(i.field,l))}return e||null}function TA(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&xl(i,a,((l,u)=>Ok(l,u)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class tu extends zm{constructor(t,e,i,a=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class qs extends zm{constructor(t,e,i,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function kR(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function EA(n,t,e){const i=new Map;vt(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let a=0;a<e.length;a++){const l=n[a],u=l.transform,h=t.data.field(l.field);i.set(l.field,Pk(u,h,e[a]))}return i}function bA(n,t,e){const i=new Map;for(const a of n){const l=a.transform,u=e.data.field(a.field);i.set(a.field,Nk(l,u,t))}return i}class Sh extends zm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ev extends zm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bv{constructor(t,e,i,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&Lk(l,t,i[a])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=kc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=kc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=xR();return this.mutations.forEach((a=>{const l=t.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=e.has(a.key)?null:h;const d=OR(u,h);d!==null&&i.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(Et.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Nt())}isEqual(t){return this.batchId===t.batchId&&xl(this.mutations,t.mutations,((e,i)=>TA(e,i)))&&xl(this.baseMutations,t.baseMutations,((e,i)=>TA(e,i)))}}class Sv{constructor(t,e,i,a){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=a}static from(t,e,i){vt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let a=(function(){return Ck})();const l=t.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new Sv(t,e,i,a)}}class Av{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Bk{constructor(t,e){this.count=t,this.unchangedNames=e}}var Be,qt;function LR(n){switch(n){case W.OK:return dt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return dt(15467,{code:n})}}function UR(n){if(n===void 0)return Ie("GRPC error has no .code"),W.UNKNOWN;switch(n){case Be.OK:return W.OK;case Be.CANCELLED:return W.CANCELLED;case Be.UNKNOWN:return W.UNKNOWN;case Be.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Be.INTERNAL:return W.INTERNAL;case Be.UNAVAILABLE:return W.UNAVAILABLE;case Be.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Be.NOT_FOUND:return W.NOT_FOUND;case Be.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Be.ABORTED:return W.ABORTED;case Be.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Be.DATA_LOSS:return W.DATA_LOSS;default:return dt(39323,{code:n})}}(qt=Be||(Be={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function zk(){return new TextEncoder}const jk=new Fr([4294967295,4294967295],0);function SA(n){const t=zk().encode(n),e=new MI;return e.update(t),new Uint8Array(e.digest())}function AA(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Fr([e,i],0),new Fr([a,l],0)]}class wv{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Sc(`Invalid padding: ${e}`);if(i<0)throw new Sc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Sc(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Sc(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Fr.fromNumber(this.ge)}ye(t,e,i){let a=t.add(e.multiply(Fr.fromNumber(i)));return a.compare(jk)===1&&(a=new Fr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=SA(t),[i,a]=AA(e);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(t,e,i){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),u=new wv(l,a,e);return i.forEach((h=>u.insert(h))),u}insert(t){if(this.ge===0)return;const e=SA(t),[i,a]=AA(e);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.be(u)}}be(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(t,e,i,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const a=new Map;return a.set(t,wh.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Ah(Et.min(),a,new le(It),Hn(),Nt())}}class wh{constructor(t,e,i,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new wh(i,e,Nt(),Nt(),Nt())}}class Od{constructor(t,e,i,a){this.Se=t,this.removedTargetIds=e,this.key=i,this.De=a}}class BR{constructor(t,e){this.targetId=t,this.Ce=e}}class zR{constructor(t,e,i=Ce.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a}}class wA{constructor(){this.ve=0,this.Fe=IA(),this.Me=Ce.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Nt(),e=Nt(),i=Nt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:i=i.add(a);break;default:dt(38017,{changeType:l})}})),new wh(this.Me,this.xe,t,e,i)}Ke(){this.Oe=!1,this.Fe=IA()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,vt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Fk{constructor(t){this.Ge=t,this.ze=new Map,this.je=Hn(),this.He=dd(),this.Je=dd(),this.Ze=new le(It)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(t.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.Qe(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:dt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,i=t.Ce.count,a=this.ot(e);if(a){const l=a.target;if(nm(l))if(i===0){const u=new ht(l.path);this.et(e,u,ge.newNoDocument(u,Et.min()))}else vt(i===1,20013,{expectedCount:i});else{const u=this._t(e);if(u!==i){const h=this.ut(t),d=h?this.ct(h,t,u):1;if(d!==0){this.it(e);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,p)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=e;let u,h;try{u=Us(i).toUint8Array()}catch(d){if(d instanceof rR)return Gc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new wv(u,a,l)}catch(d){return Gc(d instanceof Sc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let a=0;return i.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;t.mightContain(h)||(this.et(e,l,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&nm(h.target)){const d=new ht(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,ge.newNoDocument(d,t))}l.Be&&(e.set(u,l.ke()),l.Ke())}}));let i=Nt();this.Je.forEach(((l,u)=>{let h=!0;u.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(t)));const a=new Ah(t,e,this.Ze,this.je,i);return this.je=Hn(),this.He=dd(),this.Je=dd(),this.Ze=new le(It),a}Ye(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,i),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.qe(e,1):a.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new wA,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new ne(It),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new ne(It),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ot("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new wA),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function dd(){return new le(ht.comparator)}function IA(){return new le(ht.comparator)}const qk={asc:"ASCENDING",desc:"DESCENDING"},Hk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gk={and:"AND",or:"OR"};class Kk{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function c_(n,t){return n.useProto3Json||_h(t)?t:{value:t}}function jl(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function jR(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function $k(n,t){return jl(n,t.toTimestamp())}function tn(n){return vt(!!n,49232),Et.fromTimestamp((function(e){const i=Ls(e);return new te(i.seconds,i.nanos)})(n))}function Iv(n,t){return h_(n,t).canonicalString()}function h_(n,t){const e=(function(a){return new Ht(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function FR(n){const t=Ht.fromString(n);return vt(WR(t),10190,{key:t.toString()}),t}function ih(n,t){return Iv(n.databaseId,t.path)}function Ms(n,t){const e=FR(t);if(e.get(1)!==n.databaseId.projectId)throw new ut(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ut(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new ht(GR(e))}function qR(n,t){return Iv(n.databaseId,t)}function HR(n){const t=FR(n);return t.length===4?Ht.emptyPath():GR(t)}function f_(n){return new Ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function GR(n){return vt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function RA(n,t,e){return{name:ih(n,t),fields:e.value.mapValue.fields}}function Yk(n,t,e){const i=Ms(n,t.name),a=tn(t.updateTime),l=t.createTime?tn(t.createTime):Et.min(),u=new cn({mapValue:{fields:t.fields}}),h=ge.newFoundDocument(i,a,l,u);return e&&h.setHasCommittedMutations(),e?h.setHasCommittedMutations():h}function Qk(n,t){return"found"in t?(function(i,a){vt(!!a.found,43571),a.found.name,a.found.updateTime;const l=Ms(i,a.found.name),u=tn(a.found.updateTime),h=a.found.createTime?tn(a.found.createTime):Et.min(),d=new cn({mapValue:{fields:a.found.fields}});return ge.newFoundDocument(l,u,h,d)})(n,t):"missing"in t?(function(i,a){vt(!!a.missing,3894),vt(!!a.readTime,22933);const l=Ms(i,a.missing),u=tn(a.readTime);return ge.newNoDocument(l,u)})(n,t):dt(7234,{result:t})}function Xk(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:dt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(vt(y===void 0||typeof y=="string",58123),Ce.fromBase64String(y||"")):(vt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Ce.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&(function(p){const y=p.code===void 0?W.UNKNOWN:UR(p.code);return new ut(y,p.message||"")})(u);e=new zR(i,a,l,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=Ms(n,i.document.name),l=tn(i.document.updateTime),u=i.document.createTime?tn(i.document.createTime):Et.min(),h=new cn({mapValue:{fields:i.document.fields}}),d=ge.newFoundDocument(a,l,u,h),p=i.targetIds||[],y=i.removedTargetIds||[];e=new Od(p,y,d.key,d)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=Ms(n,i.document),l=i.readTime?tn(i.readTime):Et.min(),u=ge.newNoDocument(a,l),h=i.removedTargetIds||[];e=new Od([],h,u.key,u)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=Ms(n,i.document),l=i.removedTargetIds||[];e=new Od([],l,a,null)}else{if(!("filter"in t))return dt(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new Bk(a,l),h=i.targetId;e=new BR(h,u)}}return e}function sh(n,t){let e;if(t instanceof tu)e={update:RA(n,t.key,t.value)};else if(t instanceof Sh)e={delete:ih(n,t.key)};else if(t instanceof qs)e={update:RA(n,t.key,t.data),updateMask:n4(t.fieldMask)};else{if(!(t instanceof Ev))return dt(16599,{dt:t.type});e={verify:ih(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(l,u){const h=u.transform;if(h instanceof Ul)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Bl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof zl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof nh)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw dt(20930,{transform:u.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:$k(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:dt(27497)})(n,t.precondition)),e}function d_(n,t){const e=t.currentDocument?(function(l){return l.updateTime!==void 0?Re.updateTime(tn(l.updateTime)):l.exists!==void 0?Re.exists(l.exists):Re.none()})(t.currentDocument):Re.none(),i=t.updateTransforms?t.updateTransforms.map((a=>(function(u,h){let d=null;if("setToServerValue"in h)vt(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),d=new Ul;else if("appendMissingElements"in h){const y=h.appendMissingElements.values||[];d=new Bl(y)}else if("removeAllFromArray"in h){const y=h.removeAllFromArray.values||[];d=new zl(y)}else"increment"in h?d=new nh(u,h.increment):dt(16584,{proto:h});const p=ye.fromServerFormat(h.fieldPath);return new PR(p,d)})(n,a))):[];if(t.update){t.update.name;const a=Ms(n,t.update.name),l=new cn({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=(function(d){const p=d.fieldPaths||[];return new Mn(p.map((y=>ye.fromServerFormat(y))))})(t.updateMask);return new qs(a,l,u,e,i)}return new tu(a,l,e,i)}if(t.delete){const a=Ms(n,t.delete);return new Sh(a,e)}if(t.verify){const a=Ms(n,t.verify);return new Ev(a,e)}return dt(1463,{proto:t})}function Wk(n,t){return n&&n.length>0?(vt(t!==void 0,14353),n.map((e=>(function(a,l){let u=a.updateTime?tn(a.updateTime):tn(l);return u.isEqual(Et.min())&&(u=tn(l)),new kk(u,a.transformResults||[])})(e,t)))):[]}function KR(n,t){return{documents:[qR(n,t.path)]}}function $R(n,t){const e={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=qR(n,a);const l=(function(p){if(p.length!==0)return XR(ee.create(p,"and"))})(t.filters);l&&(e.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(E){return{field:fl(E.field),direction:Zk(E.dir)}})(y)))})(t.orderBy);u&&(e.structuredQuery.orderBy=u);const h=c_(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:e,parent:a}}function YR(n){let t=HR(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let a=null;if(i>0){vt(i===1,65062);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];e.where&&(l=(function(v){const E=QR(v);return E instanceof ee&&_v(E)?E.getFilters():[E]})(e.where));let u=[];e.orderBy&&(u=(function(v){return v.map((E=>(function(N){return new eh(dl(N.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(E)))})(e.orderBy));let h=null;e.limit&&(h=(function(v){let E;return E=typeof v=="object"?v.value:v,_h(E)?null:E})(e.limit));let d=null;e.startAt&&(d=(function(v){const E=!!v.before,I=v.values||[];return new kl(I,E)})(e.startAt));let p=null;return e.endAt&&(p=(function(v){const E=!v.before,I=v.values||[];return new kl(I,E)})(e.endAt)),ER(t,a,u,l,h,"F",d,p)}function Jk(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function QR(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=dl(e.unaryFilter.field);return zt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=dl(e.unaryFilter.field);return zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=dl(e.unaryFilter.field);return zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=dl(e.unaryFilter.field);return zt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return zt.create(dl(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return ee.create(e.compositeFilter.filters.map((i=>QR(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(e.compositeFilter.op))})(n):dt(30097,{filter:n})}function Zk(n){return qk[n]}function t4(n){return Hk[n]}function e4(n){return Gk[n]}function fl(n){return{fieldPath:n.canonicalString()}}function dl(n){return ye.fromServerFormat(n.fieldPath)}function XR(n){return n instanceof zt?(function(e){if(e.op==="=="){if(hA(e.value))return{unaryFilter:{field:fl(e.field),op:"IS_NAN"}};if(cA(e.value))return{unaryFilter:{field:fl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(hA(e.value))return{unaryFilter:{field:fl(e.field),op:"IS_NOT_NAN"}};if(cA(e.value))return{unaryFilter:{field:fl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fl(e.field),op:t4(e.op),value:e.value}}})(n):n instanceof ee?(function(e){const i=e.getFilters().map((a=>XR(a)));return i.length===1?i[0]:{compositeFilter:{op:e4(e.op),filters:i}}})(n):dt(54877,{filter:n})}function n4(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function WR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function JR(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Vs{constructor(t,e,i,a,l=Et.min(),u=Et.min(),h=Ce.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(t){return new Vs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class ZR{constructor(t){this.yt=t}}function i4(n,t){let e;if(t.document)e=Yk(n.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=ht.fromSegments(t.noDocument.path),a=uo(t.noDocument.readTime);e=ge.newNoDocument(i,a),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return dt(56709);{const i=ht.fromSegments(t.unknownDocument.path),a=uo(t.unknownDocument.version);e=ge.newUnknownDocument(i,a)}}return t.readTime&&e.setReadTime((function(a){const l=new te(a[0],a[1]);return Et.fromTimestamp(l)})(t.readTime)),e}function xA(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:rm(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document=(function(l,u){return{name:ih(l,u.key),fields:u.data.value.mapValue.fields,updateTime:jl(l,u.version.toTimestamp()),createTime:jl(l,u.createTime.toTimestamp())}})(n.yt,t);else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:lo(t.version)};else{if(!t.isUnknownDocument())return dt(57904,{document:t});i.unknownDocument={path:e.path.toArray(),version:lo(t.version)}}return i}function rm(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function lo(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function uo(n){const t=new te(n.seconds,n.nanoseconds);return Et.fromTimestamp(t)}function Ka(n,t){const e=(t.baseMutations||[]).map((l=>d_(n.yt,l)));for(let l=0;l<t.mutations.length-1;++l){const u=t.mutations[l];if(l+1<t.mutations.length&&t.mutations[l+1].transform!==void 0){const h=t.mutations[l+1];u.updateTransforms=h.transform.fieldTransforms,t.mutations.splice(l+1,1),++l}}const i=t.mutations.map((l=>d_(n.yt,l))),a=te.fromMillis(t.localWriteTimeMs);return new bv(t.batchId,a,e,i)}function Ac(n){const t=uo(n.readTime),e=n.lastLimboFreeSnapshotVersion!==void 0?uo(n.lastLimboFreeSnapshotVersion):Et.min();let i;return i=(function(l){return l.documents!==void 0})(n.query)?(function(l){const u=l.documents.length;return vt(u===1,1966,{count:u}),Gn(Eh(HR(l.documents[0])))})(n.query):(function(l){return Gn(YR(l))})(n.query),new Vs(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,Ce.fromBase64String(n.resumeToken))}function tx(n,t){const e=lo(t.snapshotVersion),i=lo(t.lastLimboFreeSnapshotVersion);let a;a=nm(t.target)?KR(n.yt,t.target):$R(n.yt,t.target).ft;const l=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:oo(t.target),readTime:e,resumeToken:l,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:a}}function ex(n){const t=YR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?sm(t,t.limit,"L"):t}function vy(n,t){return new Av(t.largestBatchId,d_(n.yt,t.overlayMutation))}function CA(n,t){const e=t.path.lastSegment();return[n,gn(t.path.popLast()),e]}function DA(n,t,e,i){return{indexId:n,uid:t,sequenceNumber:e,readTime:lo(i.readTime),documentKey:gn(i.documentKey.path),largestBatchId:i.largestBatchId}}class s4{getBundleMetadata(t,e){return VA(t).get(e).next((i=>{if(i)return(function(l){return{id:l.bundleId,createTime:uo(l.createTime),version:l.version}})(i)}))}saveBundleMetadata(t,e){return VA(t).put((function(a){return{bundleId:a.id,createTime:lo(tn(a.createTime)),version:a.version}})(e))}getNamedQuery(t,e){return MA(t).get(e).next((i=>{if(i)return(function(l){return{name:l.name,query:ex(l.bundledQuery),readTime:uo(l.readTime)}})(i)}))}saveNamedQuery(t,e){return MA(t).put((function(a){return{name:a.name,readTime:lo(tn(a.readTime)),bundledQuery:a.bundledQuery}})(e))}}function VA(n){return Qe(n,Nm)}function MA(n){return Qe(n,Pm)}class jm{constructor(t,e){this.serializer=t,this.userId=e}static wt(t,e){const i=e.uid||"";return new jm(t,i)}getOverlay(t,e){return mc(t).get(CA(this.userId,e)).next((i=>i?vy(this.serializer,i):null))}getOverlays(t,e){const i=Zi();return F.forEach(e,(a=>this.getOverlay(t,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(t,e,i){const a=[];return i.forEach(((l,u)=>{const h=new Av(e,u);a.push(this.bt(t,h))})),F.waitFor(a)}removeOverlaysForBatchId(t,e,i){const a=new Set;e.forEach((u=>a.add(gn(u.getCollectionPath()))));const l=[];return a.forEach((u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);l.push(mc(t).X(n_,h))})),F.waitFor(l)}getOverlaysForCollection(t,e,i){const a=Zi(),l=gn(e),u=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return mc(t).H(n_,u).next((h=>{for(const d of h){const p=vy(this.serializer,d);a.set(p.getKey(),p)}return a}))}getOverlaysForCollectionGroup(t,e,i,a){const l=Zi();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return mc(t).ee({index:ZI,range:h},((d,p,y)=>{const v=vy(this.serializer,p);l.size()<a||v.largestBatchId===u?(l.set(v.getKey(),v),u=v.largestBatchId):y.done()})).next((()=>l))}bt(t,e){return mc(t).put((function(a,l,u){const[h,d,p]=CA(l,u.mutation.key);return{userId:l,collectionPath:d,documentId:p,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:sh(a.yt,u.mutation)}})(this.serializer,this.userId,e))}}function mc(n){return Qe(n,Om)}class r4{St(t){return Qe(t,dv)}getSessionToken(t){return this.St(t).get("sessionToken").next((e=>{const i=e?.value;return i?Ce.fromUint8Array(i):Ce.EMPTY_BYTE_STRING}))}setSessionToken(t,e){return this.St(t).put({name:"sessionToken",value:e.toUint8Array()})}}class $a{constructor(){}Dt(t,e){this.Ct(t,e),e.vt()}Ct(t,e){if("nullValue"in t)this.Ft(e,5);else if("booleanValue"in t)this.Ft(e,10),e.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(e,15),e.Mt(pe(t.integerValue));else if("doubleValue"in t){const i=pe(t.doubleValue);isNaN(i)?this.Ft(e,13):(this.Ft(e,15),$c(i)?e.Mt(0):e.Mt(i))}else if("timestampValue"in t){let i=t.timestampValue;this.Ft(e,20),typeof i=="string"&&(i=Ls(i)),e.xt(`${i.seconds||""}`),e.Mt(i.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,e),this.Nt(e);else if("bytesValue"in t)this.Ft(e,30),e.Bt(Us(t.bytesValue)),this.Nt(e);else if("referenceValue"in t)this.Lt(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Ft(e,45),e.Mt(i.latitude||0),e.Mt(i.longitude||0)}else"mapValue"in t?hR(t)?this.Ft(e,Number.MAX_SAFE_INTEGER):Lm(t)?this.kt(t.mapValue,e):(this.Kt(t.mapValue,e),this.Nt(e)):"arrayValue"in t?(this.qt(t.arrayValue,e),this.Nt(e)):dt(19022,{Ut:t})}Ot(t,e){this.Ft(e,25),this.$t(t,e)}$t(t,e){e.xt(t)}Kt(t,e){const i=t.fields||{};this.Ft(e,55);for(const a of Object.keys(i))this.Ot(a,e),this.Ct(i[a],e)}kt(t,e){const i=t.fields||{};this.Ft(e,53);const a=Pl,l=i[a].arrayValue?.values?.length||0;this.Ft(e,15),e.Mt(pe(l)),this.Ot(a,e),this.Ct(i[a],e)}qt(t,e){const i=t.values||[];this.Ft(e,50);for(const a of i)this.Ct(a,e)}Lt(t,e){this.Ft(e,37),ht.fromName(t).path.forEach((i=>{this.Ft(e,60),this.$t(i,e)}))}Ft(t,e){t.Mt(e)}Nt(t){t.Mt(2)}}$a.Wt=new $a;const al=255;function a4(n){if(n===0)return 8;let t=0;return n>>4||(t+=4,n<<=4),n>>6||(t+=2,n<<=2),n>>7||(t+=1),t}function NA(n){const t=64-(function(i){let a=0;for(let l=0;l<8;++l){const u=a4(255&i[l]);if(a+=u,u!==8)break}return a})(n);return Math.ceil(t/8)}class o4{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Gt(i.value),i=e.next();this.zt()}jt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ht(i.value),i=e.next();this.Jt()}Zt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Gt(i);else if(i<2048)this.Gt(960|i>>>6),this.Gt(128|63&i);else if(e<"\uD800"||"\uDBFF"<e)this.Gt(480|i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i);else{const a=e.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Xt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ht(i);else if(i<2048)this.Ht(960|i>>>6),this.Ht(128|63&i);else if(e<"\uD800"||"\uDBFF"<e)this.Ht(480|i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i);else{const a=e.codePointAt(0);this.Ht(240|a>>>18),this.Ht(128|63&a>>>12),this.Ht(128|63&a>>>6),this.Ht(128|63&a)}}this.Jt()}Yt(t){const e=this.en(t),i=NA(e);this.tn(1+i),this.buffer[this.position++]=255&i;for(let a=e.length-i;a<e.length;++a)this.buffer[this.position++]=255&e[a]}nn(t){const e=this.en(t),i=NA(e);this.tn(1+i),this.buffer[this.position++]=~(255&i);for(let a=e.length-i;a<e.length;++a)this.buffer[this.position++]=~(255&e[a])}rn(){this.sn(al),this.sn(255)}_n(){this.an(al),this.an(255)}reset(){this.position=0}seed(t){this.tn(t.length),this.buffer.set(t,this.position),this.position+=t.length}un(){return this.buffer.slice(0,this.position)}en(t){const e=(function(l){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,l,!1),new Uint8Array(u.buffer)})(t),i=!!(128&e[0]);e[0]^=i?255:128;for(let a=1;a<e.length;++a)e[a]^=i?255:0;return e}Gt(t){const e=255&t;e===0?(this.sn(0),this.sn(255)):e===al?(this.sn(al),this.sn(0)):this.sn(e)}Ht(t){const e=255&t;e===0?(this.an(0),this.an(255)):e===al?(this.an(al),this.an(0)):this.an(t)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(t){this.tn(1),this.buffer[this.position++]=t}an(t){this.tn(1),this.buffer[this.position++]=~t}tn(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const a=new Uint8Array(i);a.set(this.buffer),this.buffer=a}}class l4{constructor(t){this.cn=t}Bt(t){this.cn.Qt(t)}xt(t){this.cn.Zt(t)}Mt(t){this.cn.Yt(t)}vt(){this.cn.rn()}}class u4{constructor(t){this.cn=t}Bt(t){this.cn.jt(t)}xt(t){this.cn.Xt(t)}Mt(t){this.cn.nn(t)}vt(){this.cn._n()}}class pc{constructor(){this.cn=new o4,this.ascending=new l4(this.cn),this.descending=new u4(this.cn)}seed(t){this.cn.seed(t)}ln(t){return t===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class Ya{constructor(t,e,i,a){this.hn=t,this.Pn=e,this.Tn=i,this.In=a}En(){const t=this.In.length,e=t===0||this.In[t-1]===255?t+1:t,i=new Uint8Array(e);return i.set(this.In,0),e!==t?i.set([0],this.In.length):++i[i.length-1],new Ya(this.hn,this.Pn,this.Tn,i)}Rn(t,e,i){return{indexId:this.hn,uid:t,arrayValue:kd(this.Tn),directionalValue:kd(this.In),orderedDocumentKey:kd(e),documentKey:i.path.toArray()}}An(t,e,i){const a=this.Rn(t,e,i);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function wr(n,t){let e=n.hn-t.hn;return e!==0?e:(e=PA(n.Tn,t.Tn),e!==0?e:(e=PA(n.In,t.In),e!==0?e:ht.comparator(n.Pn,t.Pn)))}function PA(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(i!==0)return i}return n.length-t.length}function kd(n){return $1()?(function(e){let i="";for(let a=0;a<e.length;a++)i+=String.fromCharCode(e[a]);return i})(n):n}function OA(n){return typeof n!="string"?n:(function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i})(n)}class kA{constructor(t){this.Vn=new ne(((e,i)=>ye.comparator(e.field,i.field))),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.dn=t.orderBy,this.mn=[];for(const e of t.filters){const i=e;i.isInequality()?this.Vn=this.Vn.add(i):this.mn.push(i)}}get fn(){return this.Vn.size>1}gn(t){if(vt(t.collectionGroup===this.collectionId,49279),this.fn)return!1;const e=Zy(t);if(e!==void 0&&!this.pn(e))return!1;const i=Fa(t);let a=new Set,l=0,u=0;for(;l<i.length&&this.pn(i[l]);++l)a=a.add(i[l].fieldPath.canonicalString());if(l===i.length)return!0;if(this.Vn.size>0){const h=this.Vn.getIterator().getNext();if(!a.has(h.field.canonicalString())){const d=i[l];if(!this.yn(h,d)||!this.wn(this.dn[u++],d))return!1}++l}for(;l<i.length;++l){const h=i[l];if(u>=this.dn.length||!this.wn(this.dn[u++],h))return!1}return!0}bn(){if(this.fn)return null;let t=new ne(ye.comparator);const e=[];for(const i of this.mn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")e.push(new xd(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new xd(i.field,0))}for(const i of this.dn)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new xd(i.field,i.dir==="asc"?0:1)));return new Wd(Wd.UNKNOWN_ID,this.collectionId,e,Kc.empty())}pn(t){for(const e of this.mn)if(this.yn(e,t))return!0;return!1}yn(t,e){if(t===void 0||!t.field.isEqual(e.fieldPath))return!1;const i=t.op==="array-contains"||t.op==="array-contains-any";return e.kind===2===i}wn(t,e){return!!t.field.isEqual(e.fieldPath)&&(e.kind===0&&t.dir==="asc"||e.kind===1&&t.dir==="desc")}}function nx(n){if(vt(n instanceof zt||n instanceof ee,20012),n instanceof zt){if(n instanceof TR){const e=n.value.arrayValue?.values?.map((i=>zt.create(n.field,"==",i)))||[];return ee.create(e,"or")}return n}const t=n.filters.map((e=>nx(e)));return ee.create(t,n.op)}function c4(n){if(n.getFilters().length===0)return[];const t=g_(nx(n));return vt(ix(t),7391),m_(t)||p_(t)?[t]:t.getFilters()}function m_(n){return n instanceof zt}function p_(n){return n instanceof ee&&_v(n)}function ix(n){return m_(n)||p_(n)||(function(e){if(e instanceof ee&&a_(e)){for(const i of e.getFilters())if(!m_(i)&&!p_(i))return!1;return!0}return!1})(n)}function g_(n){if(vt(n instanceof zt||n instanceof ee,34018),n instanceof zt)return n;if(n.filters.length===1)return g_(n.filters[0]);const t=n.filters.map((i=>g_(i)));let e=ee.create(t,n.op);return e=am(e),ix(e)?e:(vt(e instanceof ee,64498),vt(Ll(e),40251),vt(e.filters.length>1,57927),e.filters.reduce(((i,a)=>Rv(i,a))))}function Rv(n,t){let e;return vt(n instanceof zt||n instanceof ee,38388),vt(t instanceof zt||t instanceof ee,25473),e=n instanceof zt?t instanceof zt?(function(a,l){return ee.create([a,l],"and")})(n,t):LA(n,t):t instanceof zt?LA(t,n):(function(a,l){if(vt(a.filters.length>0&&l.filters.length>0,48005),Ll(a)&&Ll(l))return yR(a,l.getFilters());const u=a_(a)?a:l,h=a_(a)?l:a,d=u.filters.map((p=>Rv(p,h)));return ee.create(d,"or")})(n,t),am(e)}function LA(n,t){if(Ll(t))return yR(t,n.getFilters());{const e=t.filters.map((i=>Rv(n,i)));return ee.create(e,"or")}}function am(n){if(vt(n instanceof zt||n instanceof ee,11850),n instanceof zt)return n;const t=n.getFilters();if(t.length===1)return am(t[0]);if(pR(n))return n;const e=t.map((a=>am(a))),i=[];return e.forEach((a=>{a instanceof zt?i.push(a):a instanceof ee&&(a.op===n.op?i.push(...a.filters):i.push(a))})),i.length===1?i[0]:ee.create(i,n.op)}class h4{constructor(){this.Sn=new xv}addToCollectionParentIndex(t,e){return this.Sn.add(e),F.resolve()}getCollectionParents(t,e){return F.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return F.resolve()}deleteFieldIndex(t,e){return F.resolve()}deleteAllFieldIndexes(t){return F.resolve()}createTargetIndexes(t,e){return F.resolve()}getDocumentsMatchingTarget(t,e){return F.resolve(null)}getIndexType(t,e){return F.resolve(0)}getFieldIndexes(t,e){return F.resolve([])}getNextCollectionGroupToUpdate(t){return F.resolve(null)}getMinOffset(t,e){return F.resolve(Kn.min())}getMinOffsetFromCollectionGroup(t,e){return F.resolve(Kn.min())}updateCollectionGroup(t,e,i){return F.resolve()}updateIndexEntries(t,e){return F.resolve()}}class xv{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e]||new ne(Ht.comparator),l=!a.has(i);return this.index[e]=a.add(i),l}has(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e];return a&&a.has(i)}getEntries(t){return(this.index[t]||new ne(Ht.comparator)).toArray()}}const UA="IndexedDbIndexManager",md=new Uint8Array(0);class f4{constructor(t,e){this.databaseId=e,this.Dn=new xv,this.Cn=new Fs((i=>oo(i)),((i,a)=>Th(i,a))),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Dn.has(e)){const i=e.lastSegment(),a=e.popLast();t.addOnCommittedListener((()=>{this.Dn.add(e)}));const l={collectionId:i,parent:gn(a)};return BA(t).put(l)}return F.resolve()}getCollectionParents(t,e){const i=[],a=IDBKeyRange.bound([e,""],[BI(e),""],!1,!0);return BA(t).H(a).next((l=>{for(const u of l){if(u.collectionId!==e)break;i.push(Ji(u.parent))}return i}))}addFieldIndex(t,e){const i=gc(t),a=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(e);delete a.indexId;const l=i.add(a);if(e.indexState){const u=ll(t);return l.next((h=>{u.put(DA(h,this.uid,e.indexState.sequenceNumber,e.indexState.offset))}))}return l.next()}deleteFieldIndex(t,e){const i=gc(t),a=ll(t),l=ol(t);return i.delete(e.indexId).next((()=>a.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))))}deleteAllFieldIndexes(t){const e=gc(t),i=ol(t),a=ll(t);return e.X().next((()=>i.X())).next((()=>a.X()))}createTargetIndexes(t,e){return F.forEach(this.vn(e),(i=>this.getIndexType(t,i).next((a=>{if(a===0||a===1){const l=new kA(i).bn();if(l!=null)return this.addFieldIndex(t,l)}}))))}getDocumentsMatchingTarget(t,e){const i=ol(t);let a=!0;const l=new Map;return F.forEach(this.vn(e),(u=>this.Fn(t,u).next((h=>{a&&(a=!!h),l.set(u,h)})))).next((()=>{if(a){let u=Nt();const h=[];return F.forEach(l,((d,p)=>{ot(UA,`Using index ${(function(j){return`id=${j.indexId}|cg=${j.collectionGroup}|f=${j.fields.map((Y=>`${Y.fieldPath}:${Y.kind}`)).join(",")}`})(d)} to execute ${oo(e)}`);const y=(function(j,Y){const rt=Zy(Y);if(rt===void 0)return null;for(const at of im(j,rt.fieldPath))switch(at.op){case"array-contains-any":return at.value.arrayValue.values||[];case"array-contains":return[at.value]}return null})(p,d),v=(function(j,Y){const rt=new Map;for(const at of Fa(Y))for(const R of im(j,at.fieldPath))switch(R.op){case"==":case"in":rt.set(at.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return rt.set(at.fieldPath.canonicalString(),R.value),Array.from(rt.values())}return null})(p,d),E=(function(j,Y){const rt=[];let at=!0;for(const R of Fa(Y)){const A=R.kind===0?gA(j,R.fieldPath,j.startAt):yA(j,R.fieldPath,j.startAt);rt.push(A.value),at&&(at=A.inclusive)}return new kl(rt,at)})(p,d),I=(function(j,Y){const rt=[];let at=!0;for(const R of Fa(Y)){const A=R.kind===0?yA(j,R.fieldPath,j.endAt):gA(j,R.fieldPath,j.endAt);rt.push(A.value),at&&(at=A.inclusive)}return new kl(rt,at)})(p,d),N=this.Mn(d,p,E),U=this.Mn(d,p,I),L=this.xn(d,p,v),$=this.On(d.indexId,y,N,E.inclusive,U,I.inclusive,L);return F.forEach($,(J=>i.Z(J,e.limit).next((j=>{j.forEach((Y=>{const rt=ht.fromSegments(Y.documentKey);u.has(rt)||(u=u.add(rt),h.push(rt))}))}))))})).next((()=>h))}return F.resolve(null)}))}vn(t){let e=this.Cn.get(t);return e||(t.filters.length===0?e=[t]:e=c4(ee.create(t.filters,"and")).map((i=>l_(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt))),this.Cn.set(t,e),e)}On(t,e,i,a,l,u,h){const d=(e!=null?e.length:1)*Math.max(i.length,l.length),p=d/(e!=null?e.length:1),y=[];for(let v=0;v<d;++v){const E=e?this.Nn(e[v/p]):md,I=this.Bn(t,E,i[v%p],a),N=this.Ln(t,E,l[v%p],u),U=h.map((L=>this.Bn(t,E,L,!0)));y.push(...this.createRange(I,N,U))}return y}Bn(t,e,i,a){const l=new Ya(t,ht.empty(),e,i);return a?l:l.En()}Ln(t,e,i,a){const l=new Ya(t,ht.empty(),e,i);return a?l.En():l}Fn(t,e){const i=new kA(e),a=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,a).next((l=>{let u=null;for(const h of l)i.gn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u}))}getIndexType(t,e){let i=2;const a=this.vn(e);return F.forEach(a,(l=>this.Fn(t,l).next((u=>{u?i!==0&&u.fields.length<(function(d){let p=new ne(ye.comparator),y=!1;for(const v of d.filters)for(const E of v.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?y=!0:p=p.add(E.field));for(const v of d.orderBy)v.field.isKeyField()||(p=p.add(v.field));return p.size+(y?1:0)})(l)&&(i=1):i=0})))).next((()=>(function(u){return u.limit!==null})(e)&&a.length>1&&i===2?1:i))}kn(t,e){const i=new pc;for(const a of Fa(t)){const l=e.data.field(a.fieldPath);if(l==null)return null;const u=i.ln(a.kind);$a.Wt.Dt(l,u)}return i.un()}Nn(t){const e=new pc;return $a.Wt.Dt(t,e.ln(0)),e.un()}Kn(t,e){const i=new pc;return $a.Wt.Dt(Zc(this.databaseId,e),i.ln((function(l){const u=Fa(l);return u.length===0?0:u[u.length-1].kind})(t))),i.un()}xn(t,e,i){if(i===null)return[];let a=[];a.push(new pc);let l=0;for(const u of Fa(t)){const h=i[l++];for(const d of a)if(this.qn(e,u.fieldPath)&&th(h))a=this.Un(a,u,h);else{const p=d.ln(u.kind);$a.Wt.Dt(h,p)}}return this.$n(a)}Mn(t,e,i){return this.xn(t,e,i.position)}$n(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].un();return e}Un(t,e,i){const a=[...t],l=[];for(const u of i.arrayValue.values||[])for(const h of a){const d=new pc;d.seed(h.un()),$a.Wt.Dt(u,d.ln(e.kind)),l.push(d)}return l}qn(t,e){return!!t.filters.find((i=>i instanceof zt&&i.field.isEqual(e)&&(i.op==="in"||i.op==="not-in")))}getFieldIndexes(t,e){const i=gc(t),a=ll(t);return(e?i.H(e_,IDBKeyRange.bound(e,e)):i.H()).next((l=>{const u=[];return F.forEach(l,(h=>a.get([h.indexId,this.uid]).next((d=>{u.push((function(y,v){const E=v?new Kc(v.sequenceNumber,new Kn(uo(v.readTime),new ht(Ji(v.documentKey)),v.largestBatchId)):Kc.empty(),I=y.fields.map((([N,U])=>new xd(ye.fromServerFormat(N),U)));return new Wd(y.indexId,y.collectionGroup,I,E)})(h,d))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((e=>e.length===0?null:(e.sort(((i,a)=>{const l=i.indexState.sequenceNumber-a.indexState.sequenceNumber;return l!==0?l:It(i.collectionGroup,a.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(t,e,i){const a=gc(t),l=ll(t);return this.Wn(t).next((u=>a.H(e_,IDBKeyRange.bound(e,e)).next((h=>F.forEach(h,(d=>l.put(DA(d.indexId,this.uid,u,i))))))))}updateIndexEntries(t,e){const i=new Map;return F.forEach(e,((a,l)=>{const u=i.get(a.collectionGroup);return(u?F.resolve(u):this.getFieldIndexes(t,a.collectionGroup)).next((h=>(i.set(a.collectionGroup,h),F.forEach(h,(d=>this.Qn(t,a,d).next((p=>{const y=this.Gn(l,d);return p.isEqual(y)?F.resolve():this.zn(t,l,d,p,y)})))))))}))}jn(t,e,i,a){return ol(t).put(a.Rn(this.uid,this.Kn(i,e.key),e.key))}Hn(t,e,i,a){return ol(t).delete(a.An(this.uid,this.Kn(i,e.key),e.key))}Qn(t,e,i){const a=ol(t);let l=new ne(wr);return a.ee({index:JI,range:IDBKeyRange.only([i.indexId,this.uid,kd(this.Kn(i,e))])},((u,h)=>{l=l.add(new Ya(i.indexId,e,OA(h.arrayValue),OA(h.directionalValue)))})).next((()=>l))}Gn(t,e){let i=new ne(wr);const a=this.kn(e,t);if(a==null)return i;const l=Zy(e);if(l!=null){const u=t.data.field(l.fieldPath);if(th(u))for(const h of u.arrayValue.values||[])i=i.add(new Ya(e.indexId,t.key,this.Nn(h),a))}else i=i.add(new Ya(e.indexId,t.key,md,a));return i}zn(t,e,i,a,l){ot(UA,"Updating index entries for document '%s'",e.key);const u=[];return(function(d,p,y,v,E){const I=d.getIterator(),N=p.getIterator();let U=rl(I),L=rl(N);for(;U||L;){let $=!1,J=!1;if(U&&L){const j=y(U,L);j<0?J=!0:j>0&&($=!0)}else U!=null?J=!0:$=!0;$?(v(L),L=rl(N)):J?(E(U),U=rl(I)):(U=rl(I),L=rl(N))}})(a,l,wr,(h=>{u.push(this.jn(t,e,i,h))}),(h=>{u.push(this.Hn(t,e,i,h))})),F.waitFor(u)}Wn(t){let e=1;return ll(t).ee({index:WI,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((i,a,l)=>{l.done(),e=a.sequenceNumber+1})).next((()=>e))}createRange(t,e,i){i=i.sort(((u,h)=>wr(u,h))).filter(((u,h,d)=>!h||wr(u,d[h-1])!==0));const a=[];a.push(t);for(const u of i){const h=wr(u,t),d=wr(u,e);if(h===0)a[0]=t.En();else if(h>0&&d<0)a.push(u),a.push(u.En());else if(d>0)break}a.push(e);const l=[];for(let u=0;u<a.length;u+=2){if(this.Jn(a[u],a[u+1]))return[];const h=a[u].An(this.uid,md,ht.empty()),d=a[u+1].An(this.uid,md,ht.empty());l.push(IDBKeyRange.bound(h,d))}return l}Jn(t,e){return wr(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(zA)}getMinOffset(t,e){return F.mapArray(this.vn(e),(i=>this.Fn(t,i).next((a=>a||dt(44426))))).next(zA)}}function BA(n){return Qe(n,Xc)}function ol(n){return Qe(n,Mc)}function gc(n){return Qe(n,fv)}function ll(n){return Qe(n,Vc)}function zA(n){vt(n.length!==0,28825);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const a=n[i].indexState.offset;uv(a,t)<0&&(t=a),e<a.largestBatchId&&(e=a.largestBatchId)}return new Kn(t.readTime,t.documentKey,e)}const jA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sx=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}function rx(n,t,e){const i=n.store(Si),a=n.store(Dl),l=[],u=IDBKeyRange.only(e.batchId);let h=0;const d=i.ee({range:u},((y,v,E)=>(h++,E.delete())));l.push(d.next((()=>{vt(h===1,47070,{batchId:e.batchId})})));const p=[];for(const y of e.mutations){const v=YI(t,y.key.path,e.batchId);l.push(a.delete(v)),p.push(y.key)}return F.waitFor(l).next((()=>p))}function om(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw dt(14731);t=n.noDocument}return JSON.stringify(t).length}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(sx,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class Fm{constructor(t,e,i,a){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=a,this.Zn={}}static wt(t,e,i,a){vt(t.uid!=="",64387);const l=t.isAuthenticated()?t.uid:"";return new Fm(l,e,i,a)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ir(t).ee({index:Qa,range:i},((a,l,u)=>{e=!1,u.done()})).next((()=>e))}addMutationBatch(t,e,i,a){const l=ml(t),u=Ir(t);return u.add({}).next((h=>{vt(typeof h=="number",49019);const d=new bv(h,e,i,a),p=(function(I,N,U){const L=U.baseMutations.map((J=>sh(I.yt,J))),$=U.mutations.map((J=>sh(I.yt,J)));return{userId:N,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:L,mutations:$}})(this.serializer,this.userId,d),y=[];let v=new ne(((E,I)=>It(E.canonicalString(),I.canonicalString())));for(const E of a){const I=YI(this.userId,E.key.path,h);v=v.add(E.key.path.popLast()),y.push(u.put(p)),y.push(l.put(I,jO))}return v.forEach((E=>{y.push(this.indexManager.addToCollectionParentIndex(t,E))})),t.addOnCommittedListener((()=>{this.Zn[h]=d.keys()})),F.waitFor(y).next((()=>d))}))}lookupMutationBatch(t,e){return Ir(t).get(e).next((i=>i?(vt(i.userId===this.userId,48,"Unexpected user for mutation batch",{userId:i.userId,batchId:e}),Ka(this.serializer,i)):null))}Xn(t,e){return this.Zn[e]?F.resolve(this.Zn[e]):this.lookupMutationBatch(t,e).next((i=>{if(i){const a=i.keys();return this.Zn[e]=a,a}return null}))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return Ir(t).ee({index:Qa,range:a},((u,h,d)=>{h.userId===this.userId&&(vt(h.batchId>=i,47524,{Yn:i}),l=Ka(this.serializer,h)),d.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=Ja;return Ir(t).ee({index:Qa,range:e,reverse:!0},((a,l,u)=>{i=l.batchId,u.done()})).next((()=>i))}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,Ja],[this.userId,Number.POSITIVE_INFINITY]);return Ir(t).H(Qa,e).next((i=>i.map((a=>Ka(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=Cd(this.userId,e.path),a=IDBKeyRange.lowerBound(i),l=[];return ml(t).ee({range:a},((u,h,d)=>{const[p,y,v]=u,E=Ji(y);if(p===this.userId&&e.path.isEqual(E))return Ir(t).get(v).next((I=>{if(!I)throw dt(61480,{er:u,batchId:v});vt(I.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:I.userId,batchId:v}),l.push(Ka(this.serializer,I))}));d.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ne(It);const a=[];return e.forEach((l=>{const u=Cd(this.userId,l.path),h=IDBKeyRange.lowerBound(u),d=ml(t).ee({range:h},((p,y,v)=>{const[E,I,N]=p,U=Ji(I);E===this.userId&&l.path.isEqual(U)?i=i.add(N):v.done()}));a.push(d)})),F.waitFor(a).next((()=>this.tr(t,i)))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1,l=Cd(this.userId,i),u=IDBKeyRange.lowerBound(l);let h=new ne(It);return ml(t).ee({range:u},((d,p,y)=>{const[v,E,I]=d,N=Ji(E);v===this.userId&&i.isPrefixOf(N)?N.length===a&&(h=h.add(I)):y.done()})).next((()=>this.tr(t,h)))}tr(t,e){const i=[],a=[];return e.forEach((l=>{a.push(Ir(t).get(l).next((u=>{if(u===null)throw dt(35274,{batchId:l});vt(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:l}),i.push(Ka(this.serializer,u))})))})),F.waitFor(a).next((()=>i))}removeMutationBatch(t,e){return rx(t.le,this.userId,e).next((i=>(t.addOnCommittedListener((()=>{this.nr(e.batchId)})),F.forEach(i,(a=>this.referenceDelegate.markPotentiallyOrphaned(t,a))))))}nr(t){delete this.Zn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((e=>{if(!e)return F.resolve();const i=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),a=[];return ml(t).ee({range:i},((l,u,h)=>{if(l[0]===this.userId){const d=Ji(l[1]);a.push(d)}else h.done()})).next((()=>{vt(a.length===0,56720,{rr:a.map((l=>l.canonicalString()))})}))}))}containsKey(t,e){return ax(t,this.userId,e)}ir(t){return ox(t).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:Ja,lastStreamToken:""}))}}function ax(n,t,e){const i=Cd(t,e.path),a=i[1],l=IDBKeyRange.lowerBound(i);let u=!1;return ml(n).ee({range:l,Y:!0},((h,d,p)=>{const[y,v,E]=h;y===t&&v===a&&(u=!0),p.done()})).next((()=>u))}function Ir(n){return Qe(n,Si)}function ml(n){return Qe(n,Dl)}function ox(n){return Qe(n,Yc)}class co{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new co(0)}static ar(){return new co(-1)}}class d4{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.ur(t).next((e=>{const i=new co(e.highestTargetId);return e.highestTargetId=i.next(),this.cr(t,e).next((()=>e.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.ur(t).next((e=>Et.fromTimestamp(new te(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.ur(t).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(t,e,i){return this.ur(t).next((a=>(a.highestListenSequenceNumber=e,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),e>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=e),this.cr(t,a))))}addTargetData(t,e){return this.lr(t,e).next((()=>this.ur(t).next((i=>(i.targetCount+=1,this.hr(e,i),this.cr(t,i))))))}updateTargetData(t,e){return this.lr(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next((()=>ul(t).delete(e.targetId))).next((()=>this.ur(t))).next((i=>(vt(i.targetCount>0,8065),i.targetCount-=1,this.cr(t,i))))}removeTargets(t,e,i){let a=0;const l=[];return ul(t).ee(((u,h)=>{const d=Ac(h);d.sequenceNumber<=e&&i.get(d.targetId)===null&&(a++,l.push(this.removeTargetData(t,d)))})).next((()=>F.waitFor(l))).next((()=>a))}forEachTarget(t,e){return ul(t).ee(((i,a)=>{const l=Ac(a);e(l)}))}ur(t){return FA(t).get(tm).next((e=>(vt(e!==null,2888),e)))}cr(t,e){return FA(t).put(tm,e)}lr(t,e){return ul(t).put(tx(this.serializer,e))}hr(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.ur(t).next((e=>e.targetCount))}getTargetData(t,e){const i=oo(e),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return ul(t).ee({range:a,index:XI},((u,h,d)=>{const p=Ac(h);Th(e,p.target)&&(l=p,d.done())})).next((()=>l))}addMatchingKeys(t,e,i){const a=[],l=Nr(t);return e.forEach((u=>{const h=gn(u.path);a.push(l.put({targetId:i,path:h})),a.push(this.referenceDelegate.addReference(t,i,u))})),F.waitFor(a)}removeMatchingKeys(t,e,i){const a=Nr(t);return F.forEach(e,(l=>{const u=gn(l.path);return F.waitFor([a.delete([i,u]),this.referenceDelegate.removeReference(t,i,l)])}))}removeMatchingKeysForTargetId(t,e){const i=Nr(t),a=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),a=Nr(t);let l=Nt();return a.ee({range:i,Y:!0},((u,h,d)=>{const p=Ji(u[1]),y=new ht(p);l=l.add(y)})).next((()=>l))}containsKey(t,e){const i=gn(e.path),a=IDBKeyRange.bound([i],[BI(i)],!1,!0);let l=0;return Nr(t).ee({index:hv,Y:!0,range:a},(([u,h],d,p)=>{u!==0&&(l++,p.done())})).next((()=>l>0))}At(t,e){return ul(t).get(e).next((i=>i?Ac(i):null))}}function ul(n){return Qe(n,Vl)}function FA(n){return Qe(n,Za)}function Nr(n){return Qe(n,Ml)}const qA="LruGarbageCollector",lx=1048576;function HA([n,t],[e,i]){const a=It(n,e);return a===0?It(t,i):a}class m4{constructor(t){this.Pr=t,this.buffer=new ne(HA),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();HA(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class ux{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ot(qA,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){na(e)?ot(qA,"Ignoring IndexedDB error during garbage collection: ",e):await ea(e)}await this.Ar(3e5)}))}}class p4{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return F.resolve(Vn.ce);const i=new m4(e);return this.Vr.forEachTarget(t,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(t,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.Vr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(jA)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jA):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let i,a,l,u,h,d,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(t,a)))).next((v=>(i=v,h=Date.now(),this.removeTargets(t,i,e)))).next((v=>(l=v,d=Date.now(),this.removeOrphanedDocuments(t,i)))).next((v=>(p=Date.now(),cl()<=Bt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-y}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function cx(n,t){return new p4(n,t)}class g4{constructor(t,e){this.db=t,this.garbageCollector=cx(this,e)}dr(t){const e=this.pr(t);return this.db.getTargetCache().getTargetCount(t).next((i=>e.next((a=>i+a))))}pr(t){let e=0;return this.mr(t,(i=>{e++})).next((()=>e))}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}mr(t,e){return this.yr(t,((i,a)=>e(a)))}addReference(t,e,i){return pd(t,i)}removeReference(t,e,i){return pd(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return pd(t,e)}wr(t,e){return(function(a,l){let u=!1;return ox(a).te((h=>ax(a,h,l).next((d=>(d&&(u=!0),F.resolve(!d)))))).next((()=>u))})(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.yr(t,((u,h)=>{if(h<=e){const d=this.wr(t,u).next((p=>{if(!p)return l++,i.getEntry(t,u).next((()=>(i.removeEntry(u,Et.min()),Nr(t).delete((function(v){return[0,gn(v.path)]})(u)))))}));a.push(d)}})).next((()=>F.waitFor(a))).next((()=>i.apply(t))).next((()=>l))}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return pd(t,e)}yr(t,e){const i=Nr(t);let a,l=Vn.ce;return i.ee({index:hv},(([u,h],{path:d,sequenceNumber:p})=>{u===0?(l!==Vn.ce&&e(new ht(Ji(a)),l),l=p,a=d):l=Vn.ce})).next((()=>{l!==Vn.ce&&e(new ht(Ji(a)),l)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function pd(n,t){return Nr(n).put((function(i,a){return{targetId:0,path:gn(i.path),sequenceNumber:a}})(t,n.currentSequenceNumber))}class hx{constructor(){this.changes=new Fs((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ge.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?F.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class y4{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Ua(t).put(i)}removeEntry(t,e,i){return Ua(t).delete((function(l,u){const h=l.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],rm(u),h[h.length-1]]})(e,i))}updateMetadata(t,e){return this.getMetadata(t).next((i=>(i.byteSize+=e,this.br(t,i))))}getEntry(t,e){let i=ge.newInvalidDocument(e);return Ua(t).ee({index:Dd,range:IDBKeyRange.only(yc(e))},((a,l)=>{i=this.Sr(e,l)})).next((()=>i))}Dr(t,e){let i={size:0,document:ge.newInvalidDocument(e)};return Ua(t).ee({index:Dd,range:IDBKeyRange.only(yc(e))},((a,l)=>{i={document:this.Sr(e,l),size:om(l)}})).next((()=>i))}getEntries(t,e){let i=Hn();return this.Cr(t,e,((a,l)=>{const u=this.Sr(a,l);i=i.insert(a,u)})).next((()=>i))}vr(t,e){let i=Hn(),a=new le(ht.comparator);return this.Cr(t,e,((l,u)=>{const h=this.Sr(l,u);i=i.insert(l,h),a=a.insert(l,om(u))})).next((()=>({documents:i,Fr:a})))}Cr(t,e,i){if(e.isEmpty())return F.resolve();let a=new ne($A);e.forEach((d=>a=a.add(d)));const l=IDBKeyRange.bound(yc(a.first()),yc(a.last())),u=a.getIterator();let h=u.getNext();return Ua(t).ee({index:Dd,range:l},((d,p,y)=>{const v=ht.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;h&&$A(h,v)<0;)i(h,null),h=u.getNext();h&&h.isEqual(v)&&(i(h,p),h=u.hasNext()?u.getNext():null),h?y.j(yc(h)):y.done()})).next((()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(t,e,i,a,l){const u=e.path,h=[u.popLast().toArray(),u.lastSegment(),rm(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],d=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ua(t).H(IDBKeyRange.bound(h,d,!0)).next((p=>{l?.incrementDocumentReadCount(p.length);let y=Hn();for(const v of p){const E=this.Sr(ht.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);E.isFoundDocument()&&(bh(e,E)||a.has(E.key))&&(y=y.insert(E.key,E))}return y}))}getAllFromCollectionGroup(t,e,i,a){let l=Hn();const u=KA(e,i),h=KA(e,Kn.max());return Ua(t).ee({index:QI,range:IDBKeyRange.bound(u,h,!0)},((d,p,y)=>{const v=this.Sr(ht.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);l=l.insert(v.key,v),l.size===a&&y.done()})).next((()=>l))}newChangeBuffer(t){return new _4(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((e=>e.byteSize))}getMetadata(t){return GA(t).get(t_).next((e=>(vt(!!e,20021),e)))}br(t,e){return GA(t).put(t_,e)}Sr(t,e){if(e){const i=i4(this.serializer,e);if(!(i.isNoDocument()&&i.version.isEqual(Et.min())))return i}return ge.newInvalidDocument(t)}}function fx(n){return new y4(n)}class _4 extends hx{constructor(t,e){super(),this.Mr=t,this.trackRemovals=e,this.Or=new Fs((i=>i.toString()),((i,a)=>i.isEqual(a)))}applyChanges(t){const e=[];let i=0,a=new ne(((l,u)=>It(l.canonicalString(),u.canonicalString())));return this.changes.forEach(((l,u)=>{const h=this.Or.get(l);if(e.push(this.Mr.removeEntry(t,l,h.readTime)),u.isValidDocument()){const d=xA(this.Mr.serializer,u);a=a.add(l.path.popLast());const p=om(d);i+=p-h.size,e.push(this.Mr.addEntry(t,l,d))}else if(i-=h.size,this.trackRemovals){const d=xA(this.Mr.serializer,u.convertToNoDocument(Et.min()));e.push(this.Mr.addEntry(t,l,d))}})),a.forEach((l=>{e.push(this.Mr.indexManager.addToCollectionParentIndex(t,l))})),e.push(this.Mr.updateMetadata(t,i)),F.waitFor(e)}getFromCache(t,e){return this.Mr.Dr(t,e).next((i=>(this.Or.set(e,{size:i.size,readTime:i.document.readTime}),i.document)))}getAllFromCache(t,e){return this.Mr.vr(t,e).next((({documents:i,Fr:a})=>(a.forEach(((l,u)=>{this.Or.set(l,{size:u,readTime:i.get(l).readTime})})),i)))}}function GA(n){return Qe(n,Qc)}function Ua(n){return Qe(n,Zd)}function yc(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function KA(n,t){const e=t.documentKey.path.toArray();return[n,rm(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function $A(n,t){const e=n.path.toArray(),i=t.path.toArray();let a=0;for(let l=0;l<e.length-2&&l<i.length-2;++l)if(a=It(e[l],i[l]),a)return a;return a=It(e.length,i.length),a||(a=It(e[e.length-2],i[i.length-2]),a||It(e[e.length-1],i[i.length-1]))}class v4{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class dx{constructor(t,e,i,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(i=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(i!==null&&kc(i.mutation,a,Mn.empty(),te.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Nt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Nt()){const a=Zi();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,i).next((l=>{let u=bc();return l.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(t,e){const i=Zi();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Nt())))}populateOverlays(t,e,i){const a=[];return i.forEach((l=>{e.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((u,h)=>{e.set(u,h)}))}))}computeViews(t,e,i,a){let l=Hn();const u=Oc(),h=(function(){return Oc()})();return e.forEach(((d,p)=>{const y=i.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof qs)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),kc(y.mutation,p,y.mutation.getFieldMask(),te.now())):u.set(p.key,Mn.empty())})),this.recalculateAndSaveOverlays(t,l).next((d=>(d.forEach(((p,y)=>u.set(p,y))),e.forEach(((p,y)=>h.set(p,new v4(y,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=Oc();let a=new le(((u,h)=>u-h)),l=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((u=>{for(const h of u)h.keys().forEach((d=>{const p=e.get(d);if(p===null)return;let y=i.get(d)||Mn.empty();y=h.applyToLocalView(p,y),i.set(d,y);const v=(a.get(h.batchId)||Nt()).add(d);a=a.insert(h.batchId,v)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,y=d.value,v=xR();y.forEach((E=>{if(!l.has(E)){const I=OR(e.get(E),i.get(E));I!==null&&v.set(E,I),l=l.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(t,p,v))}return F.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,a){return Ak(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):bR(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,a):this.getDocumentsMatchingCollectionQuery(t,e,i,a)}getNextDocuments(t,e,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,a-l.size):F.resolve(Zi());let h=Cl,d=l;return u.next((p=>F.forEach(p,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?F.resolve():this.remoteDocumentCache.getEntry(t,y).next((E=>{d=d.insert(y,E)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,d,p,Nt()))).next((y=>({batchId:h,changes:RR(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ht(e)).next((i=>{let a=bc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,a){const l=e.collectionGroup;let u=bc();return this.indexManager.getCollectionParents(t,l).next((h=>F.forEach(h,(d=>{const p=(function(v,E){return new Zl(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(e,d.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,i,a).next((y=>{y.forEach(((v,E)=>{u=u.insert(v,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(t,e,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,l,a)))).next((u=>{l.forEach(((d,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,ge.newInvalidDocument(y)))}));let h=bc();return u.forEach(((d,p)=>{const y=l.get(d);y!==void 0&&kc(y.mutation,p,Mn.empty(),te.now()),bh(e,p)&&(h=h.insert(d,p))})),h}))}}class T4{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return F.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:tn(a.createTime)}})(e)),F.resolve()}getNamedQuery(t,e){return F.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(a){return{name:a.name,query:ex(a.bundledQuery),readTime:tn(a.readTime)}})(e)),F.resolve()}}class E4{constructor(){this.overlays=new le(ht.comparator),this.Lr=new Map}getOverlay(t,e){return F.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Zi();return F.forEach(e,(a=>this.getOverlay(t,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((a,l)=>{this.bt(t,e,l)})),F.resolve()}removeOverlaysForBatchId(t,e,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),F.resolve()}getOverlaysForCollection(t,e,i){const a=Zi(),l=e.length+1,u=new ht(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!e.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>i&&a.set(d.getKey(),d)}return F.resolve(a)}getOverlaysForCollectionGroup(t,e,i,a){let l=new le(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===e&&p.largestBatchId>i){let y=l.get(p.largestBatchId);y===null&&(y=Zi(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=Zi(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=a)););return F.resolve(h)}bt(t,e,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Av(e,i));let l=this.Lr.get(e);l===void 0&&(l=Nt(),this.Lr.set(e,l)),this.Lr.set(e,l.add(i.key))}}class b4{constructor(){this.sessionToken=Ce.EMPTY_BYTE_STRING}getSessionToken(t){return F.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,F.resolve()}}class Cv{constructor(){this.kr=new ne(Ze.Kr),this.qr=new ne(Ze.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const i=new Ze(t,e);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Wr(new Ze(t,e))}Qr(t,e){t.forEach((i=>this.removeReference(i,e)))}Gr(t){const e=new ht(new Ht([])),i=new Ze(e,t),a=new Ze(e,t+1),l=[];return this.qr.forEachInRange([i,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new ht(new Ht([])),i=new Ze(e,t),a=new Ze(e,t+1);let l=Nt();return this.qr.forEachInRange([i,a],(u=>{l=l.add(u.key)})),l}containsKey(t){const e=new Ze(t,0),i=this.kr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Ze{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return ht.comparator(t.key,e.key)||It(t.Hr,e.Hr)}static Ur(t,e){return It(t.Hr,e.Hr)||ht.comparator(t.key,e.key)}}class S4{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new ne(Ze.Kr)}checkEmpty(t){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new bv(l,e,i,a);this.mutationQueue.push(u);for(const h of a)this.Jr=this.Jr.add(new Ze(h.key,l)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return F.resolve(u)}lookupMutationBatch(t,e){return F.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=this.Xr(i),l=a<0?0:a;return F.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Ja:this.Yn-1)}getAllMutationBatches(t){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ze(e,0),a=new Ze(e,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(u=>{const h=this.Zr(u.Hr);l.push(h)})),F.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ne(It);return e.forEach((a=>{const l=new Ze(a,0),u=new Ze(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(h=>{i=i.add(h.Hr)}))})),F.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1;let l=i;ht.isDocumentKey(l)||(l=l.child(""));const u=new Ze(new ht(l),0);let h=new ne(It);return this.Jr.forEachWhile((d=>{const p=d.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(h=h.add(d.Hr)),!0)}),u),F.resolve(this.Yr(h))}Yr(t){const e=[];return t.forEach((i=>{const a=this.Zr(i);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){vt(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return F.forEach(e.mutations,(a=>{const l=new Ze(a.key,e.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Jr=i}))}nr(t){}containsKey(t,e){const i=new Ze(e,0),a=this.Jr.firstAfterOrEqual(i);return F.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,F.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class A4{constructor(t){this.ti=t,this.docs=(function(){return new le(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,a=this.docs.get(i),l=a?a.size:0,u=this.ti(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return F.resolve(i?i.document.mutableCopy():ge.newInvalidDocument(e))}getEntries(t,e){let i=Hn();return e.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():ge.newInvalidDocument(a))})),F.resolve(i)}getDocumentsMatchingQuery(t,e,i,a){let l=Hn();const u=e.path,h=new ht(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||uv(qI(y),i)<=0||(a.has(y.key)||bh(e,y))&&(l=l.insert(y.key,y.mutableCopy()))}return F.resolve(l)}getAllFromCollectionGroup(t,e,i,a){dt(9500)}ni(t,e){return F.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new w4(this)}getSize(t){return F.resolve(this.size)}}class w4 extends hx{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?e.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(i)})),F.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class I4{constructor(t){this.persistence=t,this.ri=new Fs((e=>oo(e)),Th),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ii=0,this.si=new Cv,this.targetCount=0,this.oi=co._r()}forEachTarget(t,e){return this.ri.forEach(((i,a)=>e(a))),F.resolve()}getLastRemoteSnapshotVersion(t){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return F.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.ii&&(this.ii=e),F.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new co(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,F.resolve()}updateTargetData(t,e){return this.lr(e),F.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,F.resolve()}removeTargets(t,e,i){let a=0;const l=[];return this.ri.forEach(((u,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)})),F.waitFor(l).next((()=>a))}getTargetCount(t){return F.resolve(this.targetCount)}getTargetData(t,e){const i=this.ri.get(e)||null;return F.resolve(i)}addMatchingKeys(t,e,i){return this.si.$r(e,i),F.resolve()}removeMatchingKeys(t,e,i){this.si.Qr(e,i);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach((u=>{l.push(a.markPotentiallyOrphaned(t,u))})),F.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),F.resolve()}getMatchingKeysForTargetId(t,e){const i=this.si.jr(e);return F.resolve(i)}containsKey(t,e){return F.resolve(this.si.containsKey(e))}}class Dv{constructor(t,e){this._i={},this.overlays={},this.ai=new Vn(0),this.ui=!1,this.ui=!0,this.ci=new b4,this.referenceDelegate=t(this),this.li=new I4(this),this.indexManager=new h4,this.remoteDocumentCache=(function(a){return new A4(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new ZR(e),this.Pi=new T4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new E4,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this._i[t.toKey()];return i||(i=new S4(e,this.referenceDelegate),this._i[t.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,i){ot("MemoryPersistence","Starting transaction:",t);const a=new R4(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(t,e){return F.or(Object.values(this._i).map((i=>()=>i.containsKey(t,e))))}}class R4 extends GI{constructor(t){super(),this.currentSequenceNumber=t}}class qm{constructor(t){this.persistence=t,this.Ri=new Cv,this.Ai=null}static Vi(t){return new qm(t)}get di(){if(this.Ai)return this.Ai;throw dt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.di.delete(i.toString()),F.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.di.add(i.toString()),F.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),F.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.di,(i=>{const a=ht.fromPath(i);return this.mi(t,a).next((l=>{l||e.removeEntry(a,Et.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((i=>{i?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return F.or([()=>F.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class lm{constructor(t,e){this.persistence=t,this.fi=new Fs((i=>gn(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=cx(this,e)}static Vi(t,e){return new lm(t,e)}Ti(){}Ii(t){return F.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((a=>i+a))))}pr(t){let e=0;return this.mr(t,(i=>{e++})).next((()=>e))}mr(t,e){return F.forEach(this.fi,((i,a)=>this.wr(t,i,a).next((l=>l?F.resolve():e(a)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(t,(u=>this.wr(t,u,e).next((h=>{h||(i++,l.removeEntry(u,Et.min()))})))).next((()=>l.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),F.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.fi.set(i,t.currentSequenceNumber),F.resolve()}removeReference(t,e,i){return this.fi.set(i,t.currentSequenceNumber),F.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),F.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Md(t.data.value)),e}wr(t,e,i){return F.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.fi.get(e);return F.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class x4{constructor(t){this.serializer=t}k(t,e,i,a){const l=new Mm("createOrUpgrade",e);i<1&&a>=1&&((function(d){d.createObjectStore(vh)})(t),(function(d){d.createObjectStore(Yc,{keyPath:zO}),d.createObjectStore(Si,{keyPath:sA,autoIncrement:!0}).createIndex(Qa,rA,{unique:!0}),d.createObjectStore(Dl)})(t),YA(t),(function(d){d.createObjectStore(qa)})(t));let u=F.resolve();return i<3&&a>=3&&(i!==0&&((function(d){d.deleteObjectStore(Ml),d.deleteObjectStore(Vl),d.deleteObjectStore(Za)})(t),YA(t)),u=u.next((()=>(function(d){const p=d.store(Za),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Et.min().toTimestamp(),targetCount:0};return p.put(tm,y)})(l)))),i<4&&a>=4&&(i!==0&&(u=u.next((()=>(function(d,p){return p.store(Si).H().next((v=>{d.deleteObjectStore(Si),d.createObjectStore(Si,{keyPath:sA,autoIncrement:!0}).createIndex(Qa,rA,{unique:!0});const E=p.store(Si),I=v.map((N=>E.put(N)));return F.waitFor(I)}))})(t,l)))),u=u.next((()=>{(function(d){d.createObjectStore(Nl,{keyPath:QO})})(t)}))),i<5&&a>=5&&(u=u.next((()=>this.gi(l)))),i<6&&a>=6&&(u=u.next((()=>((function(d){d.createObjectStore(Qc)})(t),this.pi(l))))),i<7&&a>=7&&(u=u.next((()=>this.yi(l)))),i<8&&a>=8&&(u=u.next((()=>this.wi(t,l)))),i<9&&a>=9&&(u=u.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(t)}))),i<10&&a>=10&&(u=u.next((()=>this.bi(l)))),i<11&&a>=11&&(u=u.next((()=>{(function(d){d.createObjectStore(Nm,{keyPath:XO})})(t),(function(d){d.createObjectStore(Pm,{keyPath:WO})})(t)}))),i<12&&a>=12&&(u=u.next((()=>{(function(d){const p=d.createObjectStore(Om,{keyPath:sk});p.createIndex(n_,rk,{unique:!1}),p.createIndex(ZI,ak,{unique:!1})})(t)}))),i<13&&a>=13&&(u=u.next((()=>(function(d){const p=d.createObjectStore(Zd,{keyPath:FO});p.createIndex(Dd,qO),p.createIndex(QI,HO)})(t))).next((()=>this.Si(t,l))).next((()=>t.deleteObjectStore(qa)))),i<14&&a>=14&&(u=u.next((()=>this.Di(t,l)))),i<15&&a>=15&&(u=u.next((()=>(function(d){d.createObjectStore(fv,{keyPath:JO,autoIncrement:!0}).createIndex(e_,ZO,{unique:!1}),d.createObjectStore(Vc,{keyPath:tk}).createIndex(WI,ek,{unique:!1}),d.createObjectStore(Mc,{keyPath:nk}).createIndex(JI,ik,{unique:!1})})(t)))),i<16&&a>=16&&(u=u.next((()=>{e.objectStore(Vc).clear()})).next((()=>{e.objectStore(Mc).clear()}))),i<17&&a>=17&&(u=u.next((()=>{(function(d){d.createObjectStore(dv,{keyPath:ok})})(t)}))),i<18&&a>=18&&$1()&&(u=u.next((()=>{e.objectStore(Vc).clear()})).next((()=>{e.objectStore(Mc).clear()}))),u}pi(t){let e=0;return t.store(qa).ee(((i,a)=>{e+=om(a)})).next((()=>{const i={byteSize:e};return t.store(Qc).put(t_,i)}))}gi(t){const e=t.store(Yc),i=t.store(Si);return e.H().next((a=>F.forEach(a,(l=>{const u=IDBKeyRange.bound([l.userId,Ja],[l.userId,l.lastAcknowledgedBatchId]);return i.H(Qa,u).next((h=>F.forEach(h,(d=>{vt(d.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const p=Ka(this.serializer,d);return rx(t,l.userId,p).next((()=>{}))}))))}))))}yi(t){const e=t.store(Ml),i=t.store(qa);return t.store(Za).get(tm).next((a=>{const l=[];return i.ee(((u,h)=>{const d=new Ht(u),p=(function(v){return[0,gn(v)]})(d);l.push(e.get(p).next((y=>y?F.resolve():(v=>e.put({targetId:0,path:gn(v),sequenceNumber:a.highestListenSequenceNumber}))(d))))})).next((()=>F.waitFor(l)))}))}wi(t,e){t.createObjectStore(Xc,{keyPath:YO});const i=e.store(Xc),a=new xv,l=u=>{if(a.add(u)){const h=u.lastSegment(),d=u.popLast();return i.put({collectionId:h,parent:gn(d)})}};return e.store(qa).ee({Y:!0},((u,h)=>{const d=new Ht(u);return l(d.popLast())})).next((()=>e.store(Dl).ee({Y:!0},(([u,h,d],p)=>{const y=Ji(h);return l(y.popLast())}))))}bi(t){const e=t.store(Vl);return e.ee(((i,a)=>{const l=Ac(a),u=tx(this.serializer,l);return e.put(u)}))}Si(t,e){const i=e.store(qa),a=[];return i.ee(((l,u)=>{const h=e.store(Zd),d=(function(v){return v.document?new ht(Ht.fromString(v.document.name).popFirst(5)):v.noDocument?ht.fromSegments(v.noDocument.path):v.unknownDocument?ht.fromSegments(v.unknownDocument.path):dt(36783)})(u).path.toArray(),p={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};a.push(h.put(p))})).next((()=>F.waitFor(a)))}Di(t,e){const i=e.store(Si),a=fx(this.serializer),l=new Dv(qm.Vi,this.serializer.yt);return i.H().next((u=>{const h=new Map;return u.forEach((d=>{let p=h.get(d.userId)??Nt();Ka(this.serializer,d).keys().forEach((y=>p=p.add(y))),h.set(d.userId,p)})),F.forEach(h,((d,p)=>{const y=new dn(p),v=jm.wt(this.serializer,y),E=l.getIndexManager(y),I=Fm.wt(y,this.serializer,E,l.referenceDelegate);return new dx(a,I,v,E).recalculateAndSaveOverlaysForDocumentKeys(new i_(e,Vn.ce),d).next()}))}))}}function YA(n){n.createObjectStore(Ml,{keyPath:KO}).createIndex(hv,$O,{unique:!0}),n.createObjectStore(Vl,{keyPath:"targetId"}).createIndex(XI,GO,{unique:!0}),n.createObjectStore(Za)}const Rr="IndexedDbPersistence",Ty=18e5,Ey=5e3,by="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",C4="main";class Vv{constructor(t,e,i,a,l,u,h,d,p,y,v=18){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Ci=l,this.window=u,this.document=h,this.Fi=p,this.Mi=y,this.xi=v,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=E=>Promise.resolve(),!Vv.v())throw new ut(W.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new g4(this,a),this.Ki=e+C4,this.serializer=new ZR(d),this.qi=new qr(this.Ki,this.xi,new x4(this.serializer)),this.ci=new r4,this.li=new d4(this.referenceDelegate,this.serializer),this.remoteDocumentCache=fx(this.serializer),this.Pi=new s4,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,y===!1&&Ie(Rr,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ut(W.FAILED_PRECONDITION,by);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.li.getHighestSequenceNumber(t)))})).then((t=>{this.ai=new Vn(t,this.Fi)})).then((()=>{this.ui=!0})).catch((t=>(this.qi&&this.qi.close(),Promise.reject(t))))}zi(t){return this.ki=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.qi.q((async e=>{e.newVersion===null&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>gd(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(t).next((e=>{e||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(t))).next((e=>this.isPrimary&&!e?this.Ji(t).next((()=>!1)):!!e&&this.Zi(t).next((()=>!0)))))).catch((t=>{if(na(t))return ot(Rr,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return ot(Rr,"Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.Ci.enqueueRetryable((()=>this.ki(t))),this.isPrimary=t}))}ji(t){return _c(t).get(sl).next((e=>F.resolve(this.Xi(e))))}Yi(t){return gd(t).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,Ty)){this.Li=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const i=Qe(e,Nl);return i.H().next((a=>{const l=this.ns(a,Ty),u=a.filter((h=>l.indexOf(h)===-1));return F.forEach(u,(h=>i.delete(h.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ui)for(const e of t)this.Ui.removeItem(this.rs(e.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(t){return!!t&&t.ownerId===this.clientId}Hi(t){return this.Mi?F.resolve(!0):_c(t).get(sl).next((e=>{if(e!==null&&this.ts(e.leaseTimestampMs,Ey)&&!this.ss(e.ownerId)){if(this.Xi(e)&&this.networkEnabled)return!0;if(!this.Xi(e)){if(!e.allowTabSynchronization)throw new ut(W.FAILED_PRECONDITION,by);return!1}}return!(!this.networkEnabled||!this.inForeground)||gd(t).H().next((i=>this.ns(i,Ey).find((a=>{if(this.clientId!==a.clientId){const l=!this.networkEnabled&&a.networkEnabled,u=!this.inForeground&&a.inForeground,h=this.networkEnabled===a.networkEnabled;if(l||u&&h)return!0}return!1}))===void 0))})).next((e=>(this.isPrimary!==e&&ot(Rr,`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[vh,Nl],(t=>{const e=new i_(t,Vn.ce);return this.Ji(e).next((()=>this.Yi(e)))})),this.qi.close(),this.ls()}ns(t,e){return t.filter((i=>this.ts(i.updateTimeMs,e)&&!this.ss(i.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(t=>gd(t).H().next((e=>this.ns(e,Ty).map((i=>i.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(t,e){return Fm.wt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new f4(t,this.serializer.yt.databaseId)}getDocumentOverlayCache(t){return jm.wt(this.serializer,t)}getBundleCache(){return this.Pi}runTransaction(t,e,i){ot(Rr,"Starting transaction:",t);const a=e==="readonly"?"readonly":"readwrite",l=(function(d){return d===18?ck:d===17?iR:d===16?uk:d===15?mv:d===14?nR:d===13?eR:d===12?lk:d===11?tR:void dt(60245)})(this.xi);let u;return this.qi.runTransaction(t,a,l,(h=>(u=new i_(h,this.ai?this.ai.next():Vn.ce),e==="readwrite-primary"?this.ji(u).next((d=>!!d||this.Hi(u))).next((d=>{if(!d)throw Ie(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new ut(W.FAILED_PRECONDITION,HI);return i(u)})).next((d=>this.Zi(u).next((()=>d)))):this.Ps(u).next((()=>i(u)))))).then((h=>(u.raiseOnCommittedEvent(),h)))}Ps(t){return _c(t).get(sl).next((e=>{if(e!==null&&this.ts(e.leaseTimestampMs,Ey)&&!this.ss(e.ownerId)&&!this.Xi(e)&&!(this.Mi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ut(W.FAILED_PRECONDITION,by)}))}Zi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _c(t).put(sl,e)}static v(){return qr.v()}Ji(t){const e=_c(t);return e.get(sl).next((i=>this.Xi(i)?(ot(Rr,"Releasing primary lease."),e.delete(sl)):F.resolve()))}ts(t,e){const i=Date.now();return!(t<i-e)&&(!(t>i)||(Ie(`Detected an update time that is in the future: ${t} > ${i}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const t=/(?:Version|Mobile)\/1[456]/;K1()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(t){try{const e=this.Ui?.getItem(this.rs(t))!==null;return ot(Rr,`Client '${t}' ${e?"is":"is not"} zombied in LocalStorage`),e}catch(e){return Ie(Rr,"Failed to get zombied client id.",e),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(t){Ie("Failed to set zombie client id.",t)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function _c(n){return Qe(n,vh)}function gd(n){return Qe(n,Nl)}function mx(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class Mv{constructor(t,e,i,a){this.targetId=t,this.fromCache=e,this.Ts=i,this.Is=a}static Es(t,e){let i=Nt(),a=Nt();for(const l of e.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Mv(t,e.fromCache,i,a)}}class D4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class px{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return K1()?8:KI($e())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,a){const l={result:null};return this.gs(t,e).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(t,e,a,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new D4;return this.ys(t,e,u).next((h=>{if(l.result=h,this.As)return this.ws(t,e,u,h.size)}))})).next((()=>l.result))}ws(t,e,i,a){return i.documentReadCount<this.Vs?(cl()<=Bt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",hl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),F.resolve()):(cl()<=Bt.DEBUG&&ot("QueryEngine","Query:",hl(e),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(cl()<=Bt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",hl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Gn(e))):F.resolve())}gs(t,e){if(_A(e))return F.resolve(null);let i=Gn(e);return this.indexManager.getIndexType(t,i).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=sm(e,null,"F"),i=Gn(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((l=>{const u=Nt(...l);return this.fs.getDocuments(t,u).next((h=>this.indexManager.getMinOffset(t,i).next((d=>{const p=this.bs(e,h);return this.Ss(e,p,u,d.readTime)?this.gs(t,sm(e,null,"F")):this.Ds(t,p,e,d)}))))})))))}ps(t,e,i,a){return _A(e)||a.isEqual(Et.min())?F.resolve(null):this.fs.getDocuments(t,i).next((l=>{const u=this.bs(e,l);return this.Ss(e,u,i,a)?F.resolve(null):(cl()<=Bt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),hl(e)),this.Ds(t,u,e,FI(a,Cl)).next((h=>h)))}))}bs(t,e){let i=new ne(wR(t));return e.forEach(((a,l)=>{bh(t,l)&&(i=i.add(l))})),i}Ss(t,e,i,a){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(t,e,i){return cl()<=Bt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",hl(e)),this.fs.getDocumentsMatchingQuery(t,e,Kn.min(),i)}Ds(t,e,i,a){return this.fs.getDocumentsMatchingQuery(t,i,a).next((l=>(e.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const Nv="LocalStore",V4=3e8;class M4{constructor(t,e,i,a){this.persistence=t,this.Cs=e,this.serializer=a,this.vs=new le(It),this.Fs=new Fs((l=>oo(l)),Th),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(i)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new dx(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function gx(n,t,e,i){return new M4(n,t,e,i)}async function yx(n,t){const e=_t(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return e.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,e.Os(t),e.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],h=[];let d=Nt();for(const p of a){u.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}return e.localDocuments.getDocuments(i,d).next((p=>({Ns:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function N4(n,t){const e=_t(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=t.batch.keys(),l=e.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,p,y){const v=p.batch,E=v.keys();let I=F.resolve();return E.forEach((N=>{I=I.next((()=>y.getEntry(d,N))).next((U=>{const L=p.docVersions.get(N);vt(L!==null,48541),U.version.compareTo(L)<0&&(v.applyToRemoteDocument(U,p),U.isValidDocument()&&(U.setReadTime(p.commitVersion),y.addEntry(U)))}))})),I.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(e,i,t,l).next((()=>l.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let d=Nt();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d})(t)))).next((()=>e.localDocuments.getDocuments(i,a)))}))}function _x(n){const t=_t(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function P4(n,t){const e=_t(n),i=t.snapshotVersion;let a=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=e.xs.newChangeBuffer({trackRemovals:!0});a=e.vs;const h=[];t.targetChanges.forEach(((y,v)=>{const E=a.get(v);if(!E)return;h.push(e.li.removeMatchingKeys(l,y.removedDocuments,v).next((()=>e.li.addMatchingKeys(l,y.addedDocuments,v))));let I=E.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(v)!==null?I=I.withResumeToken(Ce.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):y.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(y.resumeToken,i)),a=a.insert(v,I),(function(U,L,$){return U.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=V4?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(E,I,y)&&h.push(e.li.updateTargetData(l,I))}));let d=Hn(),p=Nt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(O4(l,u,t.documentUpdates).next((y=>{d=y.Bs,p=y.Ls}))),!i.isEqual(Et.min())){const y=e.li.getLastRemoteSnapshotVersion(l).next((v=>e.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));h.push(y)}return F.waitFor(h).next((()=>u.apply(l))).next((()=>e.localDocuments.getLocalViewOfDocuments(l,d,p))).next((()=>d))})).then((l=>(e.vs=a,l)))}function O4(n,t,e){let i=Nt(),a=Nt();return e.forEach((l=>i=i.add(l))),t.getEntries(n,i).next((l=>{let u=Hn();return e.forEach(((h,d)=>{const p=l.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Et.min())?(t.removeEntry(h,d.readTime),u=u.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(d),u=u.insert(h,d)):ot(Nv,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)})),{Bs:u,Ls:a}}))}function k4(n,t){const e=_t(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=Ja),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function um(n,t){const e=_t(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return e.li.getTargetData(i,t).next((l=>l?(a=l,F.resolve(a)):e.li.allocateTargetId(i).next((u=>(a=new Vs(t,u,"TargetPurposeListen",i.currentSequenceNumber),e.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=e.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.vs=e.vs.insert(i.targetId,i),e.Fs.set(t,i.targetId)),i}))}async function Fl(n,t,e){const i=_t(n),a=i.vs.get(t),l=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!na(u))throw u;ot(Nv,`Failed to update sequence numbers for target ${t}: ${u}`)}i.vs=i.vs.remove(t),i.Fs.delete(a.target)}function y_(n,t,e){const i=_t(n);let a=Et.min(),l=Nt();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,p,y){const v=_t(d),E=v.Fs.get(y);return E!==void 0?F.resolve(v.vs.get(E)):v.li.getTargetData(p,y)})(i,u,Gn(t)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(u,h.targetId).next((d=>{l=d}))})).next((()=>i.Cs.getDocumentsMatchingQuery(u,t,e?a:Et.min(),e?l:Nt()))).next((h=>(Ex(i,AR(t),h),{documents:h,ks:l})))))}function vx(n,t){const e=_t(n),i=_t(e.li),a=e.vs.get(t);return a?Promise.resolve(a.target):e.persistence.runTransaction("Get target data","readonly",(l=>i.At(l,t).next((u=>u?u.target:null))))}function Tx(n,t){const e=_t(n),i=e.Ms.get(t)||Et.min();return e.persistence.runTransaction("Get new document changes","readonly",(a=>e.xs.getAllFromCollectionGroup(a,t,FI(i,Cl),Number.MAX_SAFE_INTEGER))).then((a=>(Ex(e,t,a),a)))}function Ex(n,t,e){let i=n.Ms.get(t)||Et.min();e.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Ms.set(t,i)}const bx="firestore_clients";function QA(n,t){return`${bx}_${n}_${t}`}const Sx="firestore_mutations";function XA(n,t,e){let i=`${Sx}_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}const Ax="firestore_targets";function Sy(n,t){return`${Ax}_${n}_${t}`}const Wi="SharedClientState";class cm{constructor(t,e,i,a){this.user=t,this.batchId=e,this.state=i,this.error=a}static $s(t,e,i){const a=JSON.parse(i);let l,u=typeof a=="object"&&["pending","acknowledged","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return u&&a.error&&(u=typeof a.error.message=="string"&&typeof a.error.code=="string",u&&(l=new ut(a.error.code,a.error.message))),u?new cm(t,e,a.state,l):(Ie(Wi,`Failed to parse mutation state for ID '${e}': ${i}`),null)}Ws(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Lc{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static $s(t,e){const i=JSON.parse(e);let a,l=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(a=new ut(i.error.code,i.error.message))),l?new Lc(t,i.state,a):(Ie(Wi,`Failed to parse target state for ID '${t}': ${e}`),null)}Ws(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class hm{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static $s(t,e){const i=JSON.parse(e);let a=typeof i=="object"&&i.activeTargetIds instanceof Array,l=vv();for(let u=0;a&&u<i.activeTargetIds.length;++u)a=$I(i.activeTargetIds[u]),l=l.add(i.activeTargetIds[u]);return a?new hm(t,l):(Ie(Wi,`Failed to parse client data for instance '${t}': ${e}`),null)}}class Pv{constructor(t,e){this.clientId=t,this.onlineState=e}static $s(t){const e=JSON.parse(t);return typeof e=="object"&&["Unknown","Online","Offline"].indexOf(e.onlineState)!==-1&&typeof e.clientId=="string"?new Pv(e.clientId,e.onlineState):(Ie(Wi,`Failed to parse online state: ${t}`),null)}}class __{constructor(){this.activeTargetIds=vv()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Ay{constructor(t,e,i,a,l){this.window=t,this.Ci=e,this.persistenceKey=i,this.zs=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new le(It),this.started=!1,this.Zs=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Xs=QA(this.persistenceKey,this.zs),this.Ys=(function(d){return`firestore_sequence_number_${d}`})(this.persistenceKey),this.Js=this.Js.insert(this.zs,new __),this.eo=new RegExp(`^${bx}_${u}_([^_]*)$`),this.no=new RegExp(`^${Sx}_${u}_(\\d+)(?:_(.*))?$`),this.ro=new RegExp(`^${Ax}_${u}_(\\d+)$`),this.io=(function(d){return`firestore_online_state_${d}`})(this.persistenceKey),this.so=(function(d){return`firestore_bundle_loaded_v2_${d}`})(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(t){return!(!t||!t.localStorage)}async start(){const t=await this.syncEngine.hs();for(const i of t){if(i===this.zs)continue;const a=this.getItem(QA(this.persistenceKey,i));if(a){const l=hm.$s(i,a);l&&(this.Js=this.Js.insert(l.clientId,l))}}this.oo();const e=this.storage.getItem(this.io);if(e){const i=this._o(e);i&&this.ao(i)}for(const i of this.Zs)this.Hs(i);this.Zs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(t){this.setItem(this.Ys,JSON.stringify(t))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(t){let e=!1;return this.Js.forEach(((i,a)=>{a.activeTargetIds.has(t)&&(e=!0)})),e}addPendingMutation(t){this.co(t,"pending")}updateMutationState(t,e,i){this.co(t,e,i),this.lo(t)}addLocalQueryTarget(t,e=!0){let i="not-current";if(this.isActiveQueryTarget(t)){const a=this.storage.getItem(Sy(this.persistenceKey,t));if(a){const l=Lc.$s(t,a);l&&(i=l.state)}}return e&&this.ho.Qs(t),this.oo(),i}removeLocalQueryTarget(t){this.ho.Gs(t),this.oo()}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Sy(this.persistenceKey,t))}updateQueryState(t,e,i){this.Po(t,e,i)}handleUserChange(t,e,i){e.forEach((a=>{this.lo(a)})),this.currentUser=t,i.forEach((a=>{this.addPendingMutation(a)}))}setOnlineState(t){this.To(t)}notifyBundleLoaded(t){this.Io(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return ot(Wi,"READ",t,e),e}setItem(t,e){ot(Wi,"SET",t,e),this.storage.setItem(t,e)}removeItem(t){ot(Wi,"REMOVE",t),this.storage.removeItem(t)}Hs(t){const e=t;if(e.storageArea===this.storage){if(ot(Wi,"EVENT",e.key,e.newValue),e.key===this.Xs)return void Ie("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable((async()=>{if(this.started){if(e.key!==null){if(this.eo.test(e.key)){if(e.newValue==null){const i=this.Eo(e.key);return this.Ro(i,null)}{const i=this.Ao(e.key,e.newValue);if(i)return this.Ro(i.clientId,i)}}else if(this.no.test(e.key)){if(e.newValue!==null){const i=this.Vo(e.key,e.newValue);if(i)return this.mo(i)}}else if(this.ro.test(e.key)){if(e.newValue!==null){const i=this.fo(e.key,e.newValue);if(i)return this.po(i)}}else if(e.key===this.io){if(e.newValue!==null){const i=this._o(e.newValue);if(i)return this.ao(i)}}else if(e.key===this.Ys){const i=(function(l){let u=Vn.ce;if(l!=null)try{const h=JSON.parse(l);vt(typeof h=="number",30636,{yo:l}),u=h}catch(h){Ie(Wi,"Failed to read sequence number from WebStorage",h)}return u})(e.newValue);i!==Vn.ce&&this.sequenceNumberHandler(i)}else if(e.key===this.so){const i=this.wo(e.newValue);await Promise.all(i.map((a=>this.syncEngine.bo(a))))}}}else this.Zs.push(e)}))}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(t,e,i){const a=new cm(this.currentUser,t,e,i),l=XA(this.persistenceKey,this.currentUser,t);this.setItem(l,a.Ws())}lo(t){const e=XA(this.persistenceKey,this.currentUser,t);this.removeItem(e)}To(t){const e={clientId:this.zs,onlineState:t};this.storage.setItem(this.io,JSON.stringify(e))}Po(t,e,i){const a=Sy(this.persistenceKey,t),l=new Lc(t,e,i);this.setItem(a,l.Ws())}Io(t){const e=JSON.stringify(Array.from(t));this.setItem(this.so,e)}Eo(t){const e=this.eo.exec(t);return e?e[1]:null}Ao(t,e){const i=this.Eo(t);return hm.$s(i,e)}Vo(t,e){const i=this.no.exec(t),a=Number(i[1]),l=i[2]!==void 0?i[2]:null;return cm.$s(new dn(l),a,e)}fo(t,e){const i=this.ro.exec(t),a=Number(i[1]);return Lc.$s(a,e)}_o(t){return Pv.$s(t)}wo(t){return JSON.parse(t)}async mo(t){if(t.user.uid===this.currentUser.uid)return this.syncEngine.So(t.batchId,t.state,t.error);ot(Wi,`Ignoring mutation for non-active user ${t.user.uid}`)}po(t){return this.syncEngine.Do(t.targetId,t.state,t.error)}Ro(t,e){const i=e?this.Js.insert(t,e):this.Js.remove(t),a=this.uo(this.Js),l=this.uo(i),u=[],h=[];return l.forEach((d=>{a.has(d)||u.push(d)})),a.forEach((d=>{l.has(d)||h.push(d)})),this.syncEngine.Co(u,h).then((()=>{this.Js=i}))}ao(t){this.Js.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}uo(t){let e=vv();return t.forEach(((i,a)=>{e=e.unionWith(a.activeTargetIds)})),e}}class wx{constructor(){this.vo=new __,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,i){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new __,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class L4{Mo(t){}shutdown(){}}const WA="ConnectivityMonitor";class JA{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ot(WA,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ot(WA,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let yd=null;function v_(){return yd===null?yd=(function(){return 268435456+Math.round(2147483648*Math.random())})():yd++,"0x"+yd.toString(16)}const wy="RestConnection",U4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class B4{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===em?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(t,e,i,a,l){const u=v_(),h=this.Qo(t,e.toUriEncodedString());ot(wy,`Sending RPC '${t}' ${u}:`,h,i);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,a,l);const{host:p}=new URL(h),y=Ql(p);return this.zo(t,h,d,i,y).then((v=>(ot(wy,`Received RPC '${t}' ${u}: `,v),v)),(v=>{throw Gc(wy,`RPC '${t}' ${u} failed with error: `,v,"url: ",h,"request:",i),v}))}jo(t,e,i,a,l,u){return this.Wo(t,e,i,a,l)}Go(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Jl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,l)=>t[l]=a)),i&&i.headers.forEach(((a,l)=>t[l]=a))}Qo(t,e){const i=U4[t];let a=`${this.qo}/v1/${e}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class z4{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const fn="WebChannelConnection",vc=(n,t,e)=>{n.listen(t,(i=>{try{e(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Al extends B4{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Al.c_){const t=kI();vc(t,OI.STAT_EVENT,(e=>{e.stat===Wy.PROXY?ot(fn,"STAT_EVENT: detected buffering proxy"):e.stat===Wy.NOPROXY&&ot(fn,"STAT_EVENT: detected no buffering proxy")})),Al.c_=!0}}zo(t,e,i,a,l){const u=v_();return new Promise(((h,d)=>{const p=new NI;p.setWithCredentials(!0),p.listenOnce(PI.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Rd.NO_ERROR:const v=p.getResponseJson();ot(fn,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(v)),h(v);break;case Rd.TIMEOUT:ot(fn,`RPC '${t}' ${u} timed out`),d(new ut(W.DEADLINE_EXCEEDED,"Request time out"));break;case Rd.HTTP_ERROR:const E=p.getStatus();if(ot(fn,`RPC '${t}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const N=I?.error;if(N&&N.status&&N.message){const U=(function($){const J=$.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(J)>=0?J:W.UNKNOWN})(N.status);d(new ut(U,N.message))}else d(new ut(W.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ut(W.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:t,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ot(fn,`RPC '${t}' ${u} completed.`)}}));const y=JSON.stringify(a);ot(fn,`RPC '${t}' ${u} sending request:`,a),p.send(e,"POST",y,i,15)}))}T_(t,e,i){const a=v_(),l=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const p=l.join("");ot(fn,`Creating RPC '${t}' stream ${a}: ${p}`,h);const y=u.createWebChannel(p,h);this.I_(y);let v=!1,E=!1;const I=new z4({Ho:N=>{E?ot(fn,`Not sending because RPC '${t}' stream ${a} is closed:`,N):(v||(ot(fn,`Opening RPC '${t}' stream ${a} transport.`),y.open(),v=!0),ot(fn,`RPC '${t}' stream ${a} sending:`,N),y.send(N))},Jo:()=>y.close()});return vc(y,Ec.EventType.OPEN,(()=>{E||(ot(fn,`RPC '${t}' stream ${a} transport opened.`),I.i_())})),vc(y,Ec.EventType.CLOSE,(()=>{E||(E=!0,ot(fn,`RPC '${t}' stream ${a} transport closed`),I.o_(),this.E_(y))})),vc(y,Ec.EventType.ERROR,(N=>{E||(E=!0,Gc(fn,`RPC '${t}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),I.o_(new ut(W.UNAVAILABLE,"The operation could not be completed")))})),vc(y,Ec.EventType.MESSAGE,(N=>{if(!E){const U=N.data[0];vt(!!U,16349);const L=U,$=L?.error||L[0]?.error;if($){ot(fn,`RPC '${t}' stream ${a} received error:`,$);const J=$.status;let j=(function(at){const R=Be[at];if(R!==void 0)return UR(R)})(J),Y=$.message;j===void 0&&(j=W.INTERNAL,Y="Unknown error status: "+J+" with message "+$.message),E=!0,I.o_(new ut(j,Y)),y.close()}else ot(fn,`RPC '${t}' stream ${a} received:`,U),I.__(U)}})),Al.u_(),setTimeout((()=>{I.s_()}),0),I}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,i){super.Go(t,e,i),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return LI()}}function j4(n){return new Al(n)}function Ix(){return typeof window<"u"?window:null}function Ld(){return typeof document<"u"?document:null}function Hm(n){return new Kk(n,!0)}Al.c_=!1;class Ov{constructor(t,e,i=1e3,a=1.5,l=6e4){this.Ci=t,this.timerId=e,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-i);a>0&&ot("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const ZA="PersistentStream";class Rx{constructor(t,e,i,a,l,u,h,d){this.Ci=t,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ov(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===W.RESOURCE_EXHAUSTED?(Ie(e.toString()),Ie("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===e&&this.G_(i,a)}),(i=>{t((()=>{const a=new ut(W.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(t,e){const i=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(ZA,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(ot(ZA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class F4 extends Rx{constructor(t,e,i,a,l,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,a,u),this.serializer=l}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=Xk(this.serializer,t),i=(function(l){if(!("targetChange"in l))return Et.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Et.min():u.readTime?tn(u.readTime):Et.min()})(t);return this.listener.J_(e,i)}Z_(t){const e={};e.database=f_(this.serializer),e.addTarget=(function(l,u){let h;const d=u.target;if(h=nm(d)?{documents:KR(l,d)}:{query:$R(l,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=jR(l,u.resumeToken);const p=c_(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Et.min())>0){h.readTime=jl(l,u.snapshotVersion.toTimestamp());const p=c_(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,t);const i=Jk(this.serializer,t);i&&(e.labels=i),this.K_(e)}X_(t){const e={};e.database=f_(this.serializer),e.removeTarget=t,this.K_(e)}}class q4 extends Rx{constructor(t,e,i,a,l,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return vt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,vt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){vt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=Wk(t.writeResults,t.commitTime),i=tn(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=f_(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>sh(this.serializer,i)))};this.K_(e)}}class H4{}class G4 extends H4{constructor(t,e,i,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ut(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(t,h_(e,i),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ut(W.UNKNOWN,l.toString())}))}jo(t,e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.jo(t,h_(e,i),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ut(W.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function K4(n,t,e,i){return new G4(n,t,e,i)}class $4{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ie(e),this.aa=!1):ot("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ho="RemoteStore";class Y4{constructor(t,e,i,a,l){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{i.enqueueAndForget((async()=>{fo(this)&&(ot(ho,"Restarting streams for network reachability change."),await(async function(d){const p=_t(d);p.Ea.add(4),await Ih(p),p.Va.set("Unknown"),p.Ea.delete(4),await Gm(p)})(this))}))})),this.Va=new $4(i,a)}}async function Gm(n){if(fo(n))for(const t of n.Ra)await t(!0)}async function Ih(n){for(const t of n.Ra)await t(!1)}function Km(n,t){const e=_t(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Uv(e)?Lv(e):nu(e).O_()&&kv(e,t))}function ql(n,t){const e=_t(n),i=nu(e);e.Ia.delete(t),i.O_()&&xx(e,t),e.Ia.size===0&&(i.O_()?i.L_():fo(e)&&e.Va.set("Unknown"))}function kv(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}nu(n).Z_(t)}function xx(n,t){n.da.$e(t),nu(n).X_(t)}function Lv(n){n.da=new Fk({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),nu(n).start(),n.Va.ua()}function Uv(n){return fo(n)&&!nu(n).x_()&&n.Ia.size>0}function fo(n){return _t(n).Ea.size===0}function Cx(n){n.da=void 0}async function Q4(n){n.Va.set("Online")}async function X4(n){n.Ia.forEach(((t,e)=>{kv(n,t)}))}async function W4(n,t){Cx(n),Uv(n)?(n.Va.ha(t),Lv(n)):n.Va.set("Unknown")}async function J4(n,t,e){if(n.Va.set("Online"),t instanceof zR&&t.state===2&&t.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.da.removeTarget(h))})(n,t)}catch(i){ot(ho,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await fm(n,i)}else if(t instanceof Od?n.da.Xe(t):t instanceof BR?n.da.st(t):n.da.tt(t),!e.isEqual(Et.min()))try{const i=await _x(n.localStore);e.compareTo(i)>=0&&await(function(l,u){const h=l.da.Tt(u);return h.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,p)=>{const y=l.Ia.get(d);if(!y)return;l.Ia.set(d,y.withResumeToken(Ce.EMPTY_BYTE_STRING,y.snapshotVersion)),xx(l,d);const v=new Vs(y.target,d,p,y.sequenceNumber);kv(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){ot(ho,"Failed to raise snapshot:",i),await fm(n,i)}}async function fm(n,t,e){if(!na(t))throw t;n.Ea.add(1),await Ih(n),n.Va.set("Offline"),e||(e=()=>_x(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ot(ho,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Gm(n)}))}function Dx(n,t){return t().catch((e=>fm(n,e,t)))}async function eu(n){const t=_t(n),e=Qr(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ja;for(;Z4(t);)try{const a=await k4(t.localStore,i);if(a===null){t.Ta.length===0&&e.L_();break}i=a.batchId,tL(t,a)}catch(a){await fm(t,a)}Vx(t)&&Mx(t)}function Z4(n){return fo(n)&&n.Ta.length<10}function tL(n,t){n.Ta.push(t);const e=Qr(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function Vx(n){return fo(n)&&!Qr(n).x_()&&n.Ta.length>0}function Mx(n){Qr(n).start()}async function eL(n){Qr(n).ra()}async function nL(n){const t=Qr(n);for(const e of n.Ta)t.ea(e.mutations)}async function iL(n,t,e){const i=n.Ta.shift(),a=Sv.from(i,t,e);await Dx(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await eu(n)}async function sL(n,t){t&&Qr(n).Y_&&await(async function(i,a){if((function(u){return LR(u)&&u!==W.ABORTED})(a.code)){const l=i.Ta.shift();Qr(i).B_(),await Dx(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await eu(i)}})(n,t),Vx(n)&&Mx(n)}async function tw(n,t){const e=_t(n);e.asyncQueue.verifyOperationInProgress(),ot(ho,"RemoteStore received new credentials");const i=fo(e);e.Ea.add(3),await Ih(e),i&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Gm(e)}async function T_(n,t){const e=_t(n);t?(e.Ea.delete(2),await Gm(e)):t||(e.Ea.add(2),await Ih(e),e.Va.set("Unknown"))}function nu(n){return n.ma||(n.ma=(function(e,i,a){const l=_t(e);return l.sa(),new F4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:Q4.bind(null,n),Yo:X4.bind(null,n),t_:W4.bind(null,n),J_:J4.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),Uv(n)?Lv(n):n.Va.set("Unknown")):(await n.ma.stop(),Cx(n))}))),n.ma}function Qr(n){return n.fa||(n.fa=(function(e,i,a){const l=_t(e);return l.sa(),new q4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:eL.bind(null,n),t_:sL.bind(null,n),ta:nL.bind(null,n),na:iL.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await eu(n)):(await n.fa.stop(),n.Ta.length>0&&(ot(ho,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Bv{constructor(t,e,i,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,a,l){const u=Date.now()+i,h=new Bv(t,e,u,a,l);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zv(n,t){if(Ie("AsyncQueue",`${t}: ${n}`),na(n))return new ut(W.UNAVAILABLE,`${t}: ${n}`);throw n}class wl{static emptySet(t){return new wl(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||ht.comparator(e.key,i.key):(e,i)=>ht.comparator(e.key,i.key),this.keyedMap=bc(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof wl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new wl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class ew{constructor(){this.ga=new le(ht.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):dt(63341,{Vt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class Hl{constructor(t,e,i,a,l,u,h,d,p){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(t,e,i,a,l){const u=[];return e.forEach((h=>{u.push({type:0,doc:h})})),new Hl(t,e,wl.emptySet(e),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Um(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==i[a].type||!e[a].doc.isEqual(i[a].doc))return!1;return!0}}class rL{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class aL{constructor(){this.queries=nw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const a=_t(e),l=a.queries;a.queries=nw(),l.forEach(((u,h)=>{for(const d of h.ba)d.onError(i)}))})(this,new ut(W.ABORTED,"Firestore shutting down"))}}function nw(){return new Fs((n=>SR(n)),Um)}async function jv(n,t){const e=_t(n);let i=3;const a=t.query;let l=e.queries.get(a);l?!l.Sa()&&t.Da()&&(i=2):(l=new rL,i=t.Da()?0:1);try{switch(i){case 0:l.wa=await e.onListen(a,!0);break;case 1:l.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(u){const h=zv(u,`Initialization of query '${hl(t.query)}' failed`);return void t.onError(h)}e.queries.set(a,l),l.ba.push(t),t.va(e.onlineState),l.wa&&t.Fa(l.wa)&&qv(e)}async function Fv(n,t){const e=_t(n),i=t.query;let a=3;const l=e.queries.get(i);if(l){const u=l.ba.indexOf(t);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=t.Da()?0:1:!l.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function oL(n,t){const e=_t(n);let i=!1;for(const a of t){const l=a.query,u=e.queries.get(l);if(u){for(const h of u.ba)h.Fa(a)&&(i=!0);u.wa=a}}i&&qv(e)}function lL(n,t,e){const i=_t(n),a=i.queries.get(t);if(a)for(const l of a.ba)l.onError(e);i.queries.delete(t)}function qv(n){n.Ca.forEach((t=>{t.next()}))}var E_,iw;(iw=E_||(E_={})).Ma="default",iw.Cache="cache";class Hv{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new Hl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.Ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Hl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==E_.Cache}}class Nx{constructor(t){this.key=t}}class Px{constructor(t){this.key=t}}class uL{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Nt(),this.mutatedKeys=Nt(),this.eu=wR(t),this.tu=new wl(this.eu)}get nu(){return this.Za}ru(t,e){const i=e?e.iu:new ew,a=e?e.tu:this.tu;let l=e?e.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,v)=>{const E=a.get(y),I=bh(this.query,v)?v:null,N=!!E&&this.mutatedKeys.has(E.key),U=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let L=!1;E&&I?E.data.isEqual(I.data)?N!==U&&(i.track({type:3,doc:I}),L=!0):this.su(E,I)||(i.track({type:2,doc:I}),L=!0,(d&&this.eu(I,d)>0||p&&this.eu(I,p)<0)&&(h=!0)):!E&&I?(i.track({type:0,doc:I}),L=!0):E&&!I&&(i.track({type:1,doc:E}),L=!0,(d||p)&&(h=!0)),L&&(I?(u=u.add(I),l=U?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Ss:h,mutatedKeys:l}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const u=t.iu.ya();u.sort(((y,v)=>(function(I,N){const U=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Vt:L})}};return U(I)-U(N)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(i),a=a??!1;const h=e&&!a?this._u():[],d=this.Ya.size===0&&this.current&&!a?1:0,p=d!==this.Xa;return this.Xa=d,u.length!==0||p?{snapshot:new Hl(this.query,t.tu,l,u,t.mutatedKeys,d===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ew,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Nt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const e=[];return t.forEach((i=>{this.Ya.has(i)||e.push(new Px(i))})),this.Ya.forEach((i=>{t.has(i)||e.push(new Nx(i))})),e}cu(t){this.Za=t.ks,this.Ya=Nt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Hl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const iu="SyncEngine";class cL{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class hL{constructor(t){this.key=t,this.hu=!1}}class fL{constructor(t,e,i,a,l,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Fs((h=>SR(h)),Um),this.Iu=new Map,this.Eu=new Set,this.Ru=new le(ht.comparator),this.Au=new Map,this.Vu=new Cv,this.du={},this.mu=new Map,this.fu=co.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dL(n,t,e=!0){const i=$m(n);let a;const l=i.Tu.get(t);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Ox(i,t,e,!0),a}async function mL(n,t){const e=$m(n);await Ox(e,t,!0,!1)}async function Ox(n,t,e,i){const a=await um(n.localStore,Gn(t)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,e);let h;return i&&(h=await Gv(n,t,l,u==="current",a.resumeToken)),n.isPrimaryClient&&e&&Km(n.remoteStore,a),h}async function Gv(n,t,e,i,a){n.pu=(v,E,I)=>(async function(U,L,$,J){let j=L.view.ru($);j.Ss&&(j=await y_(U.localStore,L.query,!1).then((({documents:R})=>L.view.ru(R,j))));const Y=J&&J.targetChanges.get(L.targetId),rt=J&&J.targetMismatches.get(L.targetId)!=null,at=L.view.applyChanges(j,U.isPrimaryClient,Y,rt);return b_(U,L.targetId,at.au),at.snapshot})(n,v,E,I);const l=await y_(n.localStore,t,!0),u=new uL(t,l.ks),h=u.ru(l.documents),d=wh.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",a),p=u.applyChanges(h,n.isPrimaryClient,d);b_(n,e,p.au);const y=new cL(t,e,u);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),p.snapshot}async function pL(n,t,e){const i=_t(n),a=i.Tu.get(t),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((u=>!Um(u,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Fl(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),e&&ql(i.remoteStore,a.targetId),Gl(i,a.targetId)})).catch(ea)):(Gl(i,a.targetId),await Fl(i.localStore,a.targetId,!0))}async function gL(n,t){const e=_t(n),i=e.Tu.get(t),a=e.Iu.get(i.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),ql(e.remoteStore,i.targetId))}async function yL(n,t,e){const i=Qv(n);try{const a=await(function(u,h){const d=_t(u),p=te.now(),y=h.reduce(((I,N)=>I.add(N.key)),Nt());let v,E;return d.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let N=Hn(),U=Nt();return d.xs.getEntries(I,y).next((L=>{N=L,N.forEach((($,J)=>{J.isValidDocument()||(U=U.add($))}))})).next((()=>d.localDocuments.getOverlayedDocuments(I,N))).next((L=>{v=L;const $=[];for(const J of h){const j=Uk(J,v.get(J.key).overlayedDocument);j!=null&&$.push(new qs(J.key,j,dR(j.value.mapValue),Re.exists(!0)))}return d.mutationQueue.addMutationBatch(I,p,$,h)})).next((L=>{E=L;const $=L.applyToLocalDocumentSet(v,U);return d.documentOverlayCache.saveOverlays(I,L.batchId,$)}))})).then((()=>({batchId:E.batchId,changes:RR(v)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),(function(u,h,d){let p=u.du[u.currentUser.toKey()];p||(p=new le(It)),p=p.insert(h,d),u.du[u.currentUser.toKey()]=p})(i,a.batchId,e),await sa(i,a.changes),await eu(i.remoteStore)}catch(a){const l=zv(a,"Failed to persist write");e.reject(l)}}async function kx(n,t){const e=_t(n);try{const i=await P4(e.localStore,t);t.targetChanges.forEach(((a,l)=>{const u=e.Au.get(l);u&&(vt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?vt(u.hu,14607):a.removedDocuments.size>0&&(vt(u.hu,42227),u.hu=!1))})),await sa(e,i,t)}catch(i){await ea(i)}}function sw(n,t,e){const i=_t(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const a=[];i.Tu.forEach(((l,u)=>{const h=u.view.va(t);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const d=_t(u);d.onlineState=h;let p=!1;d.queries.forEach(((y,v)=>{for(const E of v.ba)E.va(h)&&(p=!0)})),p&&qv(d)})(i.eventManager,t),a.length&&i.Pu.J_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function _L(n,t,e){const i=_t(n);i.sharedClientState.updateQueryState(t,"rejected",e);const a=i.Au.get(t),l=a&&a.key;if(l){let u=new le(ht.comparator);u=u.insert(l,ge.newNoDocument(l,Et.min()));const h=Nt().add(l),d=new Ah(Et.min(),new Map,new le(It),u,h);await kx(i,d),i.Ru=i.Ru.remove(l),i.Au.delete(t),Yv(i)}else await Fl(i.localStore,t,!1).then((()=>Gl(i,t,e))).catch(ea)}async function vL(n,t){const e=_t(n),i=t.batch.batchId;try{const a=await N4(e.localStore,t);$v(e,i,null),Kv(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await sa(e,a)}catch(a){await ea(a)}}async function TL(n,t,e){const i=_t(n);try{const a=await(function(u,h){const d=_t(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return d.mutationQueue.lookupMutationBatch(p,h).next((v=>(vt(v!==null,37113),y=v.keys(),d.mutationQueue.removeMutationBatch(p,v)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>d.localDocuments.getDocuments(p,y)))}))})(i.localStore,t);$v(i,t,e),Kv(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await sa(i,a)}catch(a){await ea(a)}}function Kv(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function $v(n,t,e){const i=_t(n);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),i.du[i.currentUser.toKey()]=a}}function Gl(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((i=>{n.Vu.containsKey(i)||Lx(n,i)}))}function Lx(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&(ql(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),Yv(n))}function b_(n,t,e){for(const i of e)i instanceof Nx?(n.Vu.addReference(i.key,t),EL(n,i)):i instanceof Px?(ot(iu,"Document no longer in limbo: "+i.key),n.Vu.removeReference(i.key,t),n.Vu.containsKey(i.key)||Lx(n,i.key)):dt(19791,{wu:i})}function EL(n,t){const e=t.key,i=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(i)||(ot(iu,"New document in limbo: "+e),n.Eu.add(i),Yv(n))}function Yv(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new ht(Ht.fromString(t)),i=n.fu.next();n.Au.set(i,new hL(e)),n.Ru=n.Ru.insert(e,i),Km(n.remoteStore,new Vs(Gn(Eh(e.path)),i,"TargetPurposeLimboResolution",Vn.ce))}}async function sa(n,t,e){const i=_t(n),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,d)=>{u.push(i.pu(d,t,e).then((p=>{if((p||e)&&i.isPrimaryClient){const y=p?!p.fromCache:e?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){a.push(p);const y=Mv.Es(d.targetId,p);l.push(y)}})))})),await Promise.all(u),i.Pu.J_(a),await(async function(d,p){const y=_t(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>F.forEach(p,(E=>F.forEach(E.Ts,(I=>y.persistence.referenceDelegate.addReference(v,E.targetId,I))).next((()=>F.forEach(E.Is,(I=>y.persistence.referenceDelegate.removeReference(v,E.targetId,I)))))))))}catch(v){if(!na(v))throw v;ot(Nv,"Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const I=y.vs.get(E),N=I.snapshotVersion,U=I.withLastLimboFreeSnapshotVersion(N);y.vs=y.vs.insert(E,U)}}})(i.localStore,l))}async function bL(n,t){const e=_t(n);if(!e.currentUser.isEqual(t)){ot(iu,"User change. New user:",t.toKey());const i=await yx(e.localStore,t);e.currentUser=t,(function(l,u){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new ut(W.CANCELLED,u))}))})),l.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await sa(e,i.Ns)}}function SL(n,t){const e=_t(n),i=e.Au.get(t);if(i&&i.hu)return Nt().add(i.key);{let a=Nt();const l=e.Iu.get(t);if(!l)return a;for(const u of l){const h=e.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}async function AL(n,t){const e=_t(n),i=await y_(e.localStore,t.query,!0),a=t.view.cu(i);return e.isPrimaryClient&&b_(e,t.targetId,a.au),a}async function wL(n,t){const e=_t(n);return Tx(e.localStore,t).then((i=>sa(e,i)))}async function IL(n,t,e,i){const a=_t(n),l=await(function(h,d){const p=_t(h),y=_t(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",(v=>y.Xn(v,d).next((E=>E?p.localDocuments.getDocuments(v,E):F.resolve(null)))))})(a.localStore,t);l!==null?(e==="pending"?await eu(a.remoteStore):e==="acknowledged"||e==="rejected"?($v(a,t,i||null),Kv(a,t),(function(h,d){_t(_t(h).mutationQueue).nr(d)})(a.localStore,t)):dt(6720,"Unknown batchState",{bu:e}),await sa(a,l)):ot(iu,"Cannot apply mutation batch with id: "+t)}async function RL(n,t){const e=_t(n);if($m(e),Qv(e),t===!0&&e.gu!==!0){const i=e.sharedClientState.getAllActiveQueryTargets(),a=await rw(e,i.toArray());e.gu=!0,await T_(e.remoteStore,!0);for(const l of a)Km(e.remoteStore,l)}else if(t===!1&&e.gu!==!1){const i=[];let a=Promise.resolve();e.Iu.forEach(((l,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):a=a.then((()=>(Gl(e,u),Fl(e.localStore,u,!0)))),ql(e.remoteStore,u)})),await a,await rw(e,i),(function(u){const h=_t(u);h.Au.forEach(((d,p)=>{ql(h.remoteStore,p)})),h.Vu.zr(),h.Au=new Map,h.Ru=new le(ht.comparator)})(e),e.gu=!1,await T_(e.remoteStore,!1)}}async function rw(n,t,e){const i=_t(n),a=[],l=[];for(const u of t){let h;const d=i.Iu.get(u);if(d&&d.length!==0){h=await um(i.localStore,Gn(d[0]));for(const p of d){const y=i.Tu.get(p),v=await AL(i,y);v.snapshot&&l.push(v.snapshot)}}else{const p=await vx(i.localStore,u);h=await um(i.localStore,p),await Gv(i,Ux(p),u,!1,h.resumeToken)}a.push(h)}return i.Pu.J_(l),a}function Ux(n){return ER(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function xL(n){return(function(e){return _t(_t(e).persistence).hs()})(_t(n).localStore)}async function CL(n,t,e,i){const a=_t(n);if(a.gu)return void ot(iu,"Ignoring unexpected query state notification.");const l=a.Iu.get(t);if(l&&l.length>0)switch(e){case"current":case"not-current":{const u=await Tx(a.localStore,AR(l[0])),h=Ah.createSynthesizedRemoteEventForCurrentChange(t,e==="current",Ce.EMPTY_BYTE_STRING);await sa(a,u,h);break}case"rejected":await Fl(a.localStore,t,!0),Gl(a,t,i);break;default:dt(64155,e)}}async function DL(n,t,e){const i=$m(n);if(i.gu){for(const a of t){if(i.Iu.has(a)&&i.sharedClientState.isActiveQueryTarget(a)){ot(iu,"Adding an already active target "+a);continue}const l=await vx(i.localStore,a),u=await um(i.localStore,l);await Gv(i,Ux(l),u.targetId,!1,u.resumeToken),Km(i.remoteStore,u)}for(const a of e)i.Iu.has(a)&&await Fl(i.localStore,a,!1).then((()=>{ql(i.remoteStore,a),Gl(i,a)})).catch(ea)}}function $m(n){const t=_t(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=kx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=SL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_L.bind(null,t),t.Pu.J_=oL.bind(null,t.eventManager),t.Pu.yu=lL.bind(null,t.eventManager),t}function Qv(n){const t=_t(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=TL.bind(null,t),t}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Hm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return gx(this.persistence,new px,t.initialUser,this.serializer)}Cu(t){return new Dv(qm.Vi,this.serializer)}Du(t){return new wx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class VL extends rh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){vt(this.persistence.referenceDelegate instanceof lm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new ux(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new Dv((i=>lm.Vi(i,e)),this.serializer)}}class Bx extends rh{constructor(t,e,i){super(),this.xu=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.xu.initialize(this,t),await Qv(this.xu.syncEngine),await eu(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(t){return gx(this.persistence,new px,t.initialUser,this.serializer)}Fu(t,e){const i=this.persistence.referenceDelegate.garbageCollector;return new ux(i,t.asyncQueue,e)}Mu(t,e){const i=new UO(e,this.persistence);return new LO(t.asyncQueue,i)}Cu(t){const e=mx(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new Vv(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,Ix(),Ld(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(t){return new wx}}class ML extends Bx{constructor(t,e){super(t,e,!1),this.xu=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}async initialize(t){await super.initialize(t);const e=this.xu.syncEngine;this.sharedClientState instanceof Ay&&(this.sharedClientState.syncEngine={So:IL.bind(null,e),Do:CL.bind(null,e),Co:DL.bind(null,e),hs:xL.bind(null,e),bo:wL.bind(null,e)},await this.sharedClientState.start()),await this.persistence.zi((async i=>{await RL(this.xu.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())}))}Du(t){const e=Ix();if(!Ay.v(e))throw new ut(W.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=mx(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Ay(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class ah{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>sw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=bL.bind(null,this.syncEngine),await T_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new aL})()}createDatastore(t){const e=Hm(t.databaseInfo.databaseId),i=j4(t.databaseInfo);return K4(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,a,l,u,h){return new Y4(i,a,l,u,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>sw(this.syncEngine,e,0)),(function(){return JA.v()?new JA:new L4})())}createSyncEngine(t,e){return(function(a,l,u,h,d,p,y){const v=new fL(a,l,u,h,d,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=_t(e);ot(ho,"RemoteStore shutting down."),i.Ea.add(5),await Ih(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ah.provider={build:()=>new ah};class Xv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ie("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}let NL=class{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ut(W.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const e=await(async function(a,l){const u=_t(a),h={documents:l.map((v=>ih(u.serializer,v)))},d=await u.jo("BatchGetDocuments",u.serializer.databaseId,Ht.emptyPath(),h,l.length),p=new Map;d.forEach((v=>{const E=Qk(u.serializer,v);p.set(E.key.toString(),E)}));const y=[];return l.forEach((v=>{const E=p.get(v.toString());vt(!!E,55234,{key:v}),y.push(E)})),y})(this.datastore,t);return e.forEach((i=>this.recordVersion(i))),e}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Sh(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((e=>{t.delete(e.key.toString())})),t.forEach(((e,i)=>{const a=ht.fromPath(i);this.mutations.push(new Ev(a,this.precondition(a)))})),await(async function(i,a){const l=_t(i),u={writes:a.map((h=>sh(l.serializer,h)))};await l.Wo("Commit",l.serializer.databaseId,Ht.emptyPath(),u)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw dt(50498,{Gu:t.constructor.name});e=Et.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new ut(W.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Et.min())?Re.exists(!1):Re.updateTime(e):Re.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Et.min()))throw new ut(W.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Re.updateTime(e)}return Re.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}};class PL{constructor(t,e,i,a,l){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=a,this.deferred=l,this.zu=i.maxAttempts,this.M_=new Ov(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const t=new NL(this.datastore),e=this.Ju(t);e&&e.then((i=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(i)})).catch((a=>{this.Zu(a)}))))})).catch((i=>{this.Zu(i)}))}))}Ju(t){try{const e=this.updateFunction(t);return!_h(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Zu(t){this.zu>0&&this.Xu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(t)}Xu(t){if(t?.name==="FirebaseError"){const e=t.code;return e==="aborted"||e==="failed-precondition"||e==="already-exists"||!LR(e)}return!1}}const Xr="FirestoreClient";class OL{constructor(t,e,i,a,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this._databaseInfo=a,this.user=dn.UNAUTHENTICATED,this.clientId=lv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{ot(Xr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(ot(Xr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=zv(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Iy(n,t){n.asyncQueue.verifyOperationInProgress(),ot(Xr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await yx(t.localStore,a),i=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function aw(n,t){n.asyncQueue.verifyOperationInProgress();const e=await kL(n);ot(Xr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>tw(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>tw(t.remoteStore,a))),n._onlineComponents=t}async function kL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ot(Xr,"Using user provided OfflineComponentProvider");try{await Iy(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===W.FAILED_PRECONDITION||a.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;Gc("Error using user provided cache. Falling back to memory cache: "+e),await Iy(n,new rh)}}else ot(Xr,"Using default OfflineComponentProvider"),await Iy(n,new VL(void 0));return n._offlineComponents}async function Wv(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ot(Xr,"Using user provided OnlineComponentProvider"),await aw(n,n._uninitializedComponentsProvider._online)):(ot(Xr,"Using default OnlineComponentProvider"),await aw(n,new ah))),n._onlineComponents}function LL(n){return Wv(n).then((t=>t.syncEngine))}function UL(n){return Wv(n).then((t=>t.datastore))}async function dm(n){const t=await Wv(n),e=t.eventManager;return e.onListen=dL.bind(null,t.syncEngine),e.onUnlisten=pL.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=mL.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=gL.bind(null,t.syncEngine),e}function BL(n,t,e,i){const a=new Xv(i),l=new Hv(t,a,e);return n.asyncQueue.enqueueAndForget((async()=>jv(await dm(n),l))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>Fv(await dm(n),l)))}}function zL(n,t,e={}){const i=new Ii;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,p){const y=new Xv({next:E=>{y.Nu(),u.enqueueAndForget((()=>Fv(l,v)));const I=E.docs.has(h);!I&&E.fromCache?p.reject(new ut(W.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&E.fromCache&&d&&d.source==="server"?p.reject(new ut(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new Hv(Eh(h.path),y,{includeMetadataChanges:!0,Ka:!0});return jv(l,v)})(await dm(n),n.asyncQueue,t,e,i))),i.promise}function jL(n,t,e={}){const i=new Ii;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,p){const y=new Xv({next:E=>{y.Nu(),u.enqueueAndForget((()=>Fv(l,v))),E.fromCache&&d.source==="server"?p.reject(new ut(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new Hv(h,y,{includeMetadataChanges:!0,Ka:!0});return jv(l,v)})(await dm(n),n.asyncQueue,t,e,i))),i.promise}function FL(n,t){const e=new Ii;return n.asyncQueue.enqueueAndForget((async()=>yL(await LL(n),t,e))),e.promise}function qL(n,t,e){const i=new Ii;return n.asyncQueue.enqueueAndForget((async()=>{const a=await UL(n);new PL(n.asyncQueue,a,e,t,i).ju()})),i.promise}function zx(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const HL="ComponentProvider",ow=new Map;function GL(n,t,e,i,a){return new fk(n,t,e,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,zx(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const KL="firestore.googleapis.com",lw=!0;class uw{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KL,this.ssl=lw}else this.host=t.host,this.ssl=t.ssl??lw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=sx;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<lx)throw new ut(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}NO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zx(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ut(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ut(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ut(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Jv{constructor(t,e,i,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new AO;switch(i.type){case"firstParty":return new RO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ut(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=ow.get(e);i&&(ot(HL,"Removing Datastore"),ow.delete(e),i.terminate())})(this),Promise.resolve()}}class Hs{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Hs(this.firestore,t,this._query)}}class xe{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new xe(this.firestore,t,this._key)}toJSON(){return{type:xe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(yh(e,xe._jsonSchema))return new xe(t,i||null,new ht(Ht.fromString(e.referencePath)))}}xe._jsonSchemaVersion="firestore/documentReference/1.0",xe._jsonSchema={type:je("string",xe._jsonSchemaVersion),referencePath:je("string")};class Hr extends Hs{constructor(t,e,i){super(t,e,Eh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new xe(this.firestore,null,new ht(t))}withConverter(t){return new Hr(this.firestore,t,this._path)}}function Wr(n,t,...e){if(n=Ye(n),zI("collection","path",t),n instanceof Jv){const i=Ht.fromString(t,...e);return ZS(i),new Hr(n,null,i)}{if(!(n instanceof xe||n instanceof Hr))throw new ut(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ht.fromString(t,...e));return ZS(i),new Hr(n.firestore,null,i)}}function Kl(n,t,...e){if(n=Ye(n),arguments.length===1&&(t=lv.newId()),zI("doc","path",t),n instanceof Jv){const i=Ht.fromString(t,...e);return JS(i),new xe(n,null,new ht(i))}{if(!(n instanceof xe||n instanceof Hr))throw new ut(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ht.fromString(t,...e));return JS(i),new xe(n.firestore,n instanceof Hr?n.converter:null,new ht(i))}}const cw="AsyncQueue";class hw{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ov(this,"async_queue_retry"),this._c=()=>{const i=Ld();i&&ot(cw,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Ld();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Ld();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Ii;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!na(t))throw t;ot(cw,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Ie("INTERNAL UNHANDLED ERROR: ",fw(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=Bv.createAndSchedule(this,t,e,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&dt(47125,{Pc:fw(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function fw(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Jr extends Jv{constructor(t,e,i,a){super(t,e,i,a),this.type="firestore",this._queue=new hw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new hw(t),this._firestoreClient=void 0,await t}}}function $L(n,t,e){e||(e=em);const i=Z_(n,"firestore");if(i.isInitialized(e)){const a=i.getImmediate({identifier:e}),l=i.getOptions(e);if(no(l,t))return a;throw new ut(W.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new ut(W.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<lx)throw new ut(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&Ql(t.host)&&H1(t.host),i.initialize({options:t,instanceIdentifier:e})}function su(n){if(n._terminated)throw new ut(W.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||YL(n),n._firestoreClient}function YL(n){const t=n._freezeSettings(),e=GL(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new OL(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qn(Ce.fromBase64String(t))}catch(e){throw new ut(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new qn(Ce.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(yh(t,qn._jsonSchema))return qn.fromBase64String(t.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:je("string",qn._jsonSchemaVersion),bytes:je("string")};class Ym{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ut(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Qm{constructor(t){this._methodName=t}}class ss{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ut(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ut(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ss._jsonSchemaVersion}}static fromJSON(t){if(yh(t,ss._jsonSchema))return new ss(t.latitude,t.longitude)}}ss._jsonSchemaVersion="firestore/geoPoint/1.0",ss._jsonSchema={type:je("string",ss._jsonSchemaVersion),latitude:je("number"),longitude:je("number")};class Ri{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(yh(t,Ri._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Ri(t.vectorValues);throw new ut(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:je("string",Ri._jsonSchemaVersion),vectorValues:je("object")};const QL=/^__.*__$/;class XL{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new qs(t,this.data,this.fieldMask,e,this.fieldTransforms):new tu(t,this.data,e,this.fieldTransforms)}}class jx{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new qs(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Fx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{dataSource:n})}}class Zv{constructor(t,e,i,a,l,u){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Zv({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),i=this.contextWith({path:e,arrayElement:!1});return i.validatePathSegment(t),i}childContextForFieldPath(t){const e=this.path?.child(t),i=this.contextWith({path:e,arrayElement:!1});return i.validatePath(),i}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return mm(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(Fx(this.dataSource)&&QL.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class WL{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Hm(t)}createContext(t,e,i,a=!1){return new Zv({dataSource:t,methodName:e,targetDoc:i,path:ye.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xm(n){const t=n._freezeSettings(),e=Hm(n._databaseId);return new WL(n._databaseId,!!t.ignoreUndefinedProperties,e)}function t0(n,t,e,i,a,l={}){const u=n.createContext(l.merge||l.mergeFields?2:0,t,e,a);n0("Data must be an object, but it was:",u,i);const h=Gx(i,u);let d,p;if(l.merge)d=new Mn(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const E=$l(t,v,e);if(!u.contains(E))throw new ut(W.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Yx(y,E)||y.push(E)}d=new Mn(y),p=u.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,p=u.fieldTransforms;return new XL(new cn(h),d,p)}class Wm extends Qm{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Wm}}class e0 extends Qm{_toFieldTransform(t){return new PR(t.path,new Ul)}isEqual(t){return t instanceof e0}}function qx(n,t,e,i){const a=n.createContext(1,t,e);n0("Data must be an object, but it was:",a,i);const l=[],u=cn.empty();ia(i,((d,p)=>{const y=$x(t,d,e);p=Ye(p);const v=a.childContextForFieldPath(y);if(p instanceof Wm)l.push(y);else{const E=Rh(p,v);E!=null&&(l.push(y),u.set(y,E))}}));const h=new Mn(l);return new jx(u,h,a.fieldTransforms)}function Hx(n,t,e,i,a,l){const u=n.createContext(1,t,e),h=[$l(t,i,e)],d=[a];if(l.length%2!=0)throw new ut(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)h.push($l(t,l[E])),d.push(l[E+1]);const p=[],y=cn.empty();for(let E=h.length-1;E>=0;--E)if(!Yx(p,h[E])){const I=h[E];let N=d[E];N=Ye(N);const U=u.childContextForFieldPath(I);if(N instanceof Wm)p.push(I);else{const L=Rh(N,U);L!=null&&(p.push(I),y.set(I,L))}}const v=new Mn(p);return new jx(y,v,u.fieldTransforms)}function JL(n,t,e,i=!1){return Rh(e,n.createContext(i?4:3,t))}function Rh(n,t){if(Kx(n=Ye(n)))return n0("Unsupported field value:",t,n),Gx(n,t);if(n instanceof Qm)return(function(i,a){if(!Fx(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(i,a){const l=[];let u=0;for(const h of i){let d=Rh(h,a.childContextForArray(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}})(n,t)}return(function(i,a){if((i=Ye(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Mk(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=te.fromDate(i);return{timestampValue:jl(a.serializer,l)}}if(i instanceof te){const l=new te(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:jl(a.serializer,l)}}if(i instanceof ss)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof qn)return{bytesValue:jR(a.serializer,i._byteString)};if(i instanceof xe){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Iv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Ri)return(function(u,h){const d=u instanceof Ri?u.toArray():u;return{mapValue:{fields:{[gv]:{stringValue:yv},[Pl]:{arrayValue:{values:d.map((y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return Tv(h.serializer,y)}))}}}}}})(i,a);if(JR(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Vm(i)}`)})(n,t)}function Gx(n,t){const e={};return sR(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ia(n,((i,a)=>{const l=Rh(a,t.childContextForField(i));l!=null&&(e[i]=l)})),{mapValue:{fields:e}}}function Kx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof te||n instanceof ss||n instanceof qn||n instanceof xe||n instanceof Qm||n instanceof Ri||JR(n))}function n0(n,t,e){if(!Kx(e)||!jI(e)){const i=Vm(e);throw i==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+i)}}function $l(n,t,e){if((t=Ye(t))instanceof Ym)return t._internalPath;if(typeof t=="string")return $x(n,t);throw mm("Field path arguments must be of type string or ",n,!1,void 0,e)}const ZL=new RegExp("[~\\*/\\[\\]]");function $x(n,t,e){if(t.search(ZL)>=0)throw mm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Ym(...t.split("."))._internalPath}catch{throw mm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function mm(n,t,e,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${i}`),u&&(d+=` in document ${a}`),d+=")"),new ut(W.INVALID_ARGUMENT,h+n+d)}function Yx(n,t){return n.some((e=>e.isEqual(t)))}class Qx{convertValue(t,e="none"){switch($r(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Us(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw dt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return ia(t,((a,l)=>{i[a]=this.convertValue(l,e)})),i}convertVectorValue(t){const e=t.fields?.[Pl].arrayValue?.values?.map((i=>pe(i.doubleValue)));return new Ri(e)}convertGeoPoint(t){return new ss(pe(t.latitude),pe(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=km(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Wc(t));default:return null}}convertTimestamp(t){const e=Ls(t);return new te(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Ht.fromString(t);vt(WR(i),9688,{name:t});const a=new ao(i.get(1),i.get(3)),l=new ht(i.popFirst(5));return a.isEqual(e)||Ie(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}class Jm extends Qx{constructor(t){super(),this.firestore=t}convertBytes(t){return new qn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new xe(this.firestore,null,e)}}function Xx(){return new e0("serverTimestamp")}const dw="@firebase/firestore",mw="4.10.0";function pw(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const a=e;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class pm{constructor(t,e,i,a,l){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new t3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field($l("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class t3 extends pm{data(){return super.data()}}function Wx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ut(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class i0{}class s0 extends i0{}function Zm(n,t,...e){let i=[];t instanceof i0&&i.push(t),i=i.concat(e),(function(l){const u=l.filter((d=>d instanceof a0)).length,h=l.filter((d=>d instanceof r0)).length;if(u>1||u>0&&h>0)throw new ut(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)n=a._apply(n);return n}class r0 extends s0{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new r0(t,e,i)}_apply(t){const e=this._parse(t);return Jx(t._query,e),new Hs(t.firestore,t.converter,u_(t._query,e))}_parse(t){const e=Xm(t.firestore);return(function(l,u,h,d,p,y,v){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ut(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){yw(v,y);const N=[];for(const U of v)N.push(gw(d,l,U));E={arrayValue:{values:N}}}else E=gw(d,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||yw(v,y),E=JL(h,u,v,y==="in"||y==="not-in");return zt.create(p,y,E)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class a0 extends i0{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new a0(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:ee.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(a,l){let u=a;const h=l.getFlattenedFilters();for(const d of h)Jx(u,d),u=u_(u,d)})(t._query,e),new Hs(t.firestore,t.converter,u_(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class o0 extends s0{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new o0(t,e)}_apply(t){const e=(function(a,l,u){if(a.startAt!==null)throw new ut(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ut(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eh(l,u)})(t._query,this._field,this._direction);return new Hs(t.firestore,t.converter,Ik(t._query,e))}}function tp(n,t="asc"){const e=t,i=$l("orderBy",n);return o0._create(i,e)}class l0 extends s0{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new l0(t,e,i)}_apply(t){return new Hs(t.firestore,t.converter,sm(t._query,this._limit,this._limitType))}}function e3(n){return PO("limit",n),l0._create("limit",n,"F")}function gw(n,t,e){if(typeof(e=Ye(e))=="string"){if(e==="")throw new ut(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bR(t)&&e.indexOf("/")!==-1)throw new ut(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Ht.fromString(e));if(!ht.isDocumentKey(i))throw new ut(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Zc(n,new ht(i))}if(e instanceof xe)return Zc(n,e._key);throw new ut(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vm(e)}.`)}function yw(n,t){if(!Array.isArray(n)||n.length===0)throw new ut(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Jx(n,t){const e=(function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ut(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function u0(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class n3 extends Qx{constructor(t){super(),this.firestore=t}convertBytes(t){return new qn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new xe(this.firestore,null,e)}}class i3{constructor(t){let e;this.kind="persistent",t?.tabManager?(t.tabManager._initialize(t),e=t.tabManager):(e=o3(void 0),e._initialize(t)),this._onlineComponentProvider=e._onlineComponentProvider,this._offlineComponentProvider=e._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function s3(n){return new i3(n)}class r3{constructor(t){this.forceOwnership=t,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=ah.provider,this._offlineComponentProvider={build:e=>new Bx(e,t?.cacheSizeBytes,this.forceOwnership)}}}class a3{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=ah.provider,this._offlineComponentProvider={build:e=>new ML(e,t?.cacheSizeBytes)}}}function o3(n){return new r3(n?.forceOwnership)}function l3(){return new a3}class gl{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Gr extends pm{constructor(t,e,i,a,l,u){super(t,e,i,a,u),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Ud(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field($l("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Gr._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Gr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gr._jsonSchema={type:je("string",Gr._jsonSchemaVersion),bundleSource:je("string","DocumentSnapshot"),bundleName:je("string"),bundle:je("string")};class Ud extends Gr{data(t={}){return super.data(t)}}class to{constructor(t,e,i,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new gl(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new Ud(this._firestore,this._userDataWriter,i.key,i,new gl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ut(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const d=new Ud(a._firestore,a._userDataWriter,h.doc.key,h.doc,new gl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new Ud(a._firestore,a._userDataWriter,h.doc.key,h.doc,new gl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:u3(h.type),doc:d,oldIndex:p,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=to._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=lv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(e.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function u3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:n})}}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:je("string",to._jsonSchemaVersion),bundleSource:je("string","QuerySnapshot"),bundleName:je("string"),bundle:je("string")};const c3={maxAttempts:5};class h3{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Xm(t)}set(t,e,i){this._verifyNotCommitted();const a=kr(t,this._firestore),l=u0(a.converter,e,i),u=t0(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,i);return this._mutations.push(u.toMutation(a._key,Re.none())),this}update(t,e,i,...a){this._verifyNotCommitted();const l=kr(t,this._firestore);let u;return u=typeof(e=Ye(e))=="string"||e instanceof Ym?Hx(this._dataReader,"WriteBatch.update",l._key,e,i,a):qx(this._dataReader,"WriteBatch.update",l._key,e),this._mutations.push(u.toMutation(l._key,Re.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=kr(t,this._firestore);return this._mutations=this._mutations.concat(new Sh(e._key,Re.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ut(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function kr(n,t){if((n=Ye(n)).firestore!==t)throw new ut(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class f3{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Xm(t)}get(t){const e=kr(t,this._firestore),i=new n3(this._firestore);return this._transaction.lookup([e._key]).then((a=>{if(!a||a.length!==1)return dt(24041);const l=a[0];if(l.isFoundDocument())return new pm(this._firestore,i,l.key,l,e.converter);if(l.isNoDocument())return new pm(this._firestore,i,e._key,null,e.converter);throw dt(18433,{doc:l})}))}set(t,e,i){const a=kr(t,this._firestore),l=u0(a.converter,e,i),u=t0(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,i);return this._transaction.set(a._key,u),this}update(t,e,i,...a){const l=kr(t,this._firestore);let u;return u=typeof(e=Ye(e))=="string"||e instanceof Ym?Hx(this._dataReader,"Transaction.update",l._key,e,i,a):qx(this._dataReader,"Transaction.update",l._key,e),this._transaction.update(l._key,u),this}delete(t){const e=kr(t,this._firestore);return this._transaction.delete(e._key),this}}class d3 extends f3{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=kr(t,this._firestore),i=new Jm(this._firestore);return super.get(t).then((a=>new Gr(this._firestore,i,e._key,a._document,new gl(!1,!1),e.converter)))}}function m3(n,t,e){n=is(n,Jr);const i={...c3,...e};(function(u){if(u.maxAttempts<1)throw new ut(W.INVALID_ARGUMENT,"Max attempts must be at least 1")})(i);const a=su(n);return qL(a,(l=>t(new d3(n,l))),i)}function p3(n){n=is(n,xe);const t=is(n.firestore,Jr),e=su(t);return zL(e,n._key).then((i=>eC(t,n,i)))}function gm(n){n=is(n,Hs);const t=is(n.firestore,Jr),e=su(t),i=new Jm(t);return Wx(n._query),jL(e,n._query).then((a=>new to(t,i,n,a)))}function g3(n,t){const e=is(n.firestore,Jr),i=Kl(n),a=u0(n.converter,t),l=Xm(n.firestore);return tC(e,[t0(l,"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,Re.exists(!1))]).then((()=>i))}function Zx(n,...t){n=Ye(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||pw(t[i])||(e=t[i++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(pw(t[i])){const p=t[i];t[i]=p.next?.bind(p),t[i+1]=p.error?.bind(p),t[i+2]=p.complete?.bind(p)}let l,u,h;if(n instanceof xe)u=is(n.firestore,Jr),h=Eh(n._key.path),l={next:p=>{t[i]&&t[i](eC(u,n,p))},error:t[i+1],complete:t[i+2]};else{const p=is(n,Hs);u=is(p.firestore,Jr),h=p._query;const y=new Jm(u);l={next:v=>{t[i]&&t[i](new to(u,y,p,v))},error:t[i+1],complete:t[i+2]},Wx(n._query)}const d=su(u);return BL(d,h,a,l)}function tC(n,t){const e=su(n);return FL(e,t)}function eC(n,t,e){const i=e.docs.get(t._key),a=new Jm(n);return new Gr(n,a,t._key,i,new gl(e.hasPendingWrites,e.fromCache),t.converter)}function y3(n){return n=is(n,Jr),su(n),new h3(n,(t=>tC(n,t)))}(function(t,e=!0){bO(Xl),Rl(new io("firestore",((i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),h=new Jr(new wO(i.getProvider("auth-internal")),new xO(u,i.getProvider("app-check-internal")),dk(u,a),u);return l={useFetchStreams:e,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),zr(dw,mw,t),zr(dw,mw,"esm2020")})();const _3={apiKey:"AIzaSyCpfz0Zk6VPZq3_T-sltwFYvCssTNt7SrA",authDomain:"soka-3ce9a.firebaseapp.com",projectId:"soka-3ce9a",storageBucket:"soka-3ce9a.firebasestorage.app",messagingSenderId:"103213261935",appId:"1:103213261935:web:800acc4fb30c7f8f45599a"},nC=W1(_3),ym=_O(nC),Cn=$L(nC,{localCache:s3({tabManager:l3()})}),c0=Z.createContext({});function h0(n){const t=Z.useRef(null);return t.current===null&&(t.current=n()),t.current}const iC=typeof window<"u",sC=iC?Z.useLayoutEffect:Z.useEffect,ep=Z.createContext(null);function f0(n,t){n.indexOf(t)===-1&&n.push(t)}function d0(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const os=(n,t,e)=>e>t?t:e<n?n:e;let m0=()=>{};const Bs={},rC=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function aC(n){return typeof n=="object"&&n!==null}const oC=n=>/^0[^.\s]+$/u.test(n);function p0(n){let t;return()=>(t===void 0&&(t=n()),t)}const li=n=>n,v3=(n,t)=>e=>t(n(e)),xh=(...n)=>n.reduce(v3),oh=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i};class g0{constructor(){this.subscriptions=[]}add(t){return f0(this.subscriptions,t),()=>d0(this.subscriptions,t)}notify(t,e,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,e,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ns=n=>n*1e3,oi=n=>n/1e3;function lC(n,t){return t?n*(1e3/t):0}const uC=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,T3=1e-7,E3=12;function b3(n,t,e,i,a){let l,u,h=0;do u=t+(e-t)/2,l=uC(u,i,a)-n,l>0?e=u:t=u;while(Math.abs(l)>T3&&++h<E3);return u}function Ch(n,t,e,i){if(n===t&&e===i)return li;const a=l=>b3(l,0,1,n,e);return l=>l===0||l===1?l:uC(a(l),t,i)}const cC=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,hC=n=>t=>1-n(1-t),fC=Ch(.33,1.53,.69,.99),y0=hC(fC),dC=cC(y0),mC=n=>(n*=2)<1?.5*y0(n):.5*(2-Math.pow(2,-10*(n-1))),_0=n=>1-Math.sin(Math.acos(n)),pC=hC(_0),gC=cC(_0),S3=Ch(.42,0,1,1),A3=Ch(0,0,.58,1),yC=Ch(.42,0,.58,1),w3=n=>Array.isArray(n)&&typeof n[0]!="number",_C=n=>Array.isArray(n)&&typeof n[0]=="number",I3={linear:li,easeIn:S3,easeInOut:yC,easeOut:A3,circIn:_0,circInOut:gC,circOut:pC,backIn:y0,backInOut:dC,backOut:fC,anticipate:mC},R3=n=>typeof n=="string",_w=n=>{if(_C(n)){m0(n.length===4);const[t,e,i,a]=n;return Ch(t,e,i,a)}else if(R3(n))return I3[n];return n},_d=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function x3(n,t){let e=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(y){u.has(y)&&(p.schedule(y),n()),y(h)}const p={schedule:(y,v=!1,E=!1)=>{const N=E&&a?e:i;return v&&u.add(y),N.has(y)||N.add(y),y},cancel:y=>{i.delete(y),u.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[e,i]=[i,e],e.forEach(d),e.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const C3=40;function vC(n,t){let e=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>e=!0,u=_d.reduce((j,Y)=>(j[Y]=x3(l),j),{}),{setup:h,read:d,resolveKeyframes:p,preUpdate:y,update:v,preRender:E,render:I,postRender:N}=u,U=()=>{const j=Bs.useManualTiming?a.timestamp:performance.now();e=!1,Bs.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(j-a.timestamp,C3),1)),a.timestamp=j,a.isProcessing=!0,h.process(a),d.process(a),p.process(a),y.process(a),v.process(a),E.process(a),I.process(a),N.process(a),a.isProcessing=!1,e&&t&&(i=!1,n(U))},L=()=>{e=!0,i=!0,a.isProcessing||n(U)};return{schedule:_d.reduce((j,Y)=>{const rt=u[Y];return j[Y]=(at,R=!1,A=!1)=>(e||L(),rt.schedule(at,R,A)),j},{}),cancel:j=>{for(let Y=0;Y<_d.length;Y++)u[_d[Y]].cancel(j)},state:a,steps:u}}const{schedule:he,cancel:Zr,state:ln,steps:Ry}=vC(typeof requestAnimationFrame<"u"?requestAnimationFrame:li,!0);let Bd;function D3(){Bd=void 0}const Tn={now:()=>(Bd===void 0&&Tn.set(ln.isProcessing||Bs.useManualTiming?ln.timestamp:performance.now()),Bd),set:n=>{Bd=n,queueMicrotask(D3)}},TC=n=>t=>typeof t=="string"&&t.startsWith(n),EC=TC("--"),V3=TC("var(--"),v0=n=>V3(n)?M3.test(n.split("/*")[0].trim()):!1,M3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function vw(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const ru={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},lh={...ru,transform:n=>os(0,1,n)},vd={...ru,default:1},Uc=n=>Math.round(n*1e5)/1e5,T0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function N3(n){return n==null}const P3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,E0=(n,t)=>e=>!!(typeof e=="string"&&P3.test(e)&&e.startsWith(n)||t&&!N3(e)&&Object.prototype.hasOwnProperty.call(e,t)),bC=(n,t,e)=>i=>{if(typeof i!="string")return i;const[a,l,u,h]=i.match(T0);return{[n]:parseFloat(a),[t]:parseFloat(l),[e]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},O3=n=>os(0,255,n),xy={...ru,transform:n=>Math.round(O3(n))},Xa={test:E0("rgb","red"),parse:bC("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+xy.transform(n)+", "+xy.transform(t)+", "+xy.transform(e)+", "+Uc(lh.transform(i))+")"};function k3(n){let t="",e="",i="",a="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),a=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),a=n.substring(4,5),t+=t,e+=e,i+=i,a+=a),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const S_={test:E0("#"),parse:k3,transform:Xa.transform},Dh=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),xr=Dh("deg"),rs=Dh("%"),yt=Dh("px"),L3=Dh("vh"),U3=Dh("vw"),Tw={...rs,parse:n=>rs.parse(n)/100,transform:n=>rs.transform(n*100)},yl={test:E0("hsl","hue"),parse:bC("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+rs.transform(Uc(t))+", "+rs.transform(Uc(e))+", "+Uc(lh.transform(i))+")"},ze={test:n=>Xa.test(n)||S_.test(n)||yl.test(n),parse:n=>Xa.test(n)?Xa.parse(n):yl.test(n)?yl.parse(n):S_.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Xa.transform(n):yl.transform(n),getAnimatableNone:n=>{const t=ze.parse(n);return t.alpha=0,ze.transform(t)}},B3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function z3(n){return isNaN(n)&&typeof n=="string"&&(n.match(T0)?.length||0)+(n.match(B3)?.length||0)>0}const SC="number",AC="color",j3="var",F3="var(",Ew="${}",q3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uh(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},a=[];let l=0;const h=t.replace(q3,d=>(ze.test(d)?(i.color.push(l),a.push(AC),e.push(ze.parse(d))):d.startsWith(F3)?(i.var.push(l),a.push(j3),e.push(d)):(i.number.push(l),a.push(SC),e.push(parseFloat(d))),++l,Ew)).split(Ew);return{values:e,split:h,indexes:i,types:a}}function wC(n){return uh(n).values}function IC(n){const{split:t,types:e}=uh(n),i=t.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=t[u],a[u]!==void 0){const h=e[u];h===SC?l+=Uc(a[u]):h===AC?l+=ze.transform(a[u]):l+=a[u]}return l}}const H3=n=>typeof n=="number"?0:ze.test(n)?ze.getAnimatableNone(n):n;function G3(n){const t=wC(n);return IC(n)(t.map(H3))}const ta={test:z3,parse:wC,createTransformer:IC,getAnimatableNone:G3};function Cy(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function K3({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let a=0,l=0,u=0;if(!t)a=l=u=e;else{const h=e<.5?e*(1+t):e+t-e*t,d=2*e-h;a=Cy(d,h,n+1/3),l=Cy(d,h,n),u=Cy(d,h,n-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function _m(n,t){return e=>e>0?t:n}const _e=(n,t,e)=>n+(t-n)*e,Dy=(n,t,e)=>{const i=n*n,a=e*(t*t-i)+i;return a<0?0:Math.sqrt(a)},$3=[S_,Xa,yl],Y3=n=>$3.find(t=>t.test(n));function bw(n){const t=Y3(n);if(!t)return!1;let e=t.parse(n);return t===yl&&(e=K3(e)),e}const Sw=(n,t)=>{const e=bw(n),i=bw(t);if(!e||!i)return _m(n,t);const a={...e};return l=>(a.red=Dy(e.red,i.red,l),a.green=Dy(e.green,i.green,l),a.blue=Dy(e.blue,i.blue,l),a.alpha=_e(e.alpha,i.alpha,l),Xa.transform(a))},A_=new Set(["none","hidden"]);function Q3(n,t){return A_.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function X3(n,t){return e=>_e(n,t,e)}function b0(n){return typeof n=="number"?X3:typeof n=="string"?v0(n)?_m:ze.test(n)?Sw:Z3:Array.isArray(n)?RC:typeof n=="object"?ze.test(n)?Sw:W3:_m}function RC(n,t){const e=[...n],i=e.length,a=n.map((l,u)=>b0(l)(l,t[u]));return l=>{for(let u=0;u<i;u++)e[u]=a[u](l);return e}}function W3(n,t){const e={...n,...t},i={};for(const a in e)n[a]!==void 0&&t[a]!==void 0&&(i[a]=b0(n[a])(n[a],t[a]));return a=>{for(const l in i)e[l]=i[l](a);return e}}function J3(n,t){const e=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],u=n.indexes[l][i[l]],h=n.values[u]??0;e[a]=h,i[l]++}return e}const Z3=(n,t)=>{const e=ta.createTransformer(t),i=uh(n),a=uh(t);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?A_.has(n)&&!a.values.length||A_.has(t)&&!i.values.length?Q3(n,t):xh(RC(J3(i,a),a.values),e):_m(n,t)};function xC(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?_e(n,t,e):b0(n)(n,t)}const t5=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>he.update(t,e),stop:()=>Zr(t),now:()=>ln.isProcessing?ln.timestamp:Tn.now()}},CC=(n,t,e=10)=>{let i="";const a=Math.max(Math.round(t/e),2);for(let l=0;l<a;l++)i+=Math.round(n(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},vm=2e4;function S0(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<vm;)t+=e,i=n.next(t);return t>=vm?1/0:t}function e5(n,t=100,e){const i=e({...n,keyframes:[0,t]}),a=Math.min(S0(i),vm);return{type:"keyframes",ease:l=>i.next(a*l).value/t,duration:oi(a)}}const n5=5;function DC(n,t,e){const i=Math.max(t-n5,0);return lC(e-n(i),t-i)}const Ee={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Vy=.001;function i5({duration:n=Ee.duration,bounce:t=Ee.bounce,velocity:e=Ee.velocity,mass:i=Ee.mass}){let a,l,u=1-t;u=os(Ee.minDamping,Ee.maxDamping,u),n=os(Ee.minDuration,Ee.maxDuration,oi(n)),u<1?(a=p=>{const y=p*u,v=y*n,E=y-e,I=w_(p,u),N=Math.exp(-v);return Vy-E/I*N},l=p=>{const v=p*u*n,E=v*e+e,I=Math.pow(u,2)*Math.pow(p,2)*n,N=Math.exp(-v),U=w_(Math.pow(p,2),u);return(-a(p)+Vy>0?-1:1)*((E-I)*N)/U}):(a=p=>{const y=Math.exp(-p*n),v=(p-e)*n+1;return-Vy+y*v},l=p=>{const y=Math.exp(-p*n),v=(e-p)*(n*n);return y*v});const h=5/n,d=r5(a,l,h);if(n=Ns(n),isNaN(d))return{stiffness:Ee.stiffness,damping:Ee.damping,duration:n};{const p=Math.pow(d,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:n}}}const s5=12;function r5(n,t,e){let i=e;for(let a=1;a<s5;a++)i=i-n(i)/t(i);return i}function w_(n,t){return n*Math.sqrt(1-t*t)}const a5=["duration","bounce"],o5=["stiffness","damping","mass"];function Aw(n,t){return t.some(e=>n[e]!==void 0)}function l5(n){let t={velocity:Ee.velocity,stiffness:Ee.stiffness,damping:Ee.damping,mass:Ee.mass,isResolvedFromDuration:!1,...n};if(!Aw(n,o5)&&Aw(n,a5))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),a=i*i,l=2*os(.05,1,1-(n.bounce||0))*Math.sqrt(a);t={...t,mass:Ee.mass,stiffness:a,damping:l}}else{const e=i5(n);t={...t,...e,mass:Ee.mass},t.isResolvedFromDuration=!0}return t}function Tm(n=Ee.visualDuration,t=Ee.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:a}=e;const l=e.keyframes[0],u=e.keyframes[e.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:p,mass:y,duration:v,velocity:E,isResolvedFromDuration:I}=l5({...e,velocity:-oi(e.velocity||0)}),N=E||0,U=p/(2*Math.sqrt(d*y)),L=u-l,$=oi(Math.sqrt(d/y)),J=Math.abs(L)<5;i||(i=J?Ee.restSpeed.granular:Ee.restSpeed.default),a||(a=J?Ee.restDelta.granular:Ee.restDelta.default);let j;if(U<1){const rt=w_($,U);j=at=>{const R=Math.exp(-U*$*at);return u-R*((N+U*$*L)/rt*Math.sin(rt*at)+L*Math.cos(rt*at))}}else if(U===1)j=rt=>u-Math.exp(-$*rt)*(L+(N+$*L)*rt);else{const rt=$*Math.sqrt(U*U-1);j=at=>{const R=Math.exp(-U*$*at),A=Math.min(rt*at,300);return u-R*((N+U*$*L)*Math.sinh(A)+rt*L*Math.cosh(A))/rt}}const Y={calculatedDuration:I&&v||null,next:rt=>{const at=j(rt);if(I)h.done=rt>=v;else{let R=rt===0?N:0;U<1&&(R=rt===0?Ns(N):DC(j,rt,at));const A=Math.abs(R)<=i,x=Math.abs(u-at)<=a;h.done=A&&x}return h.value=h.done?u:at,h},toString:()=>{const rt=Math.min(S0(Y),vm),at=CC(R=>Y.next(rt*R).value,rt,30);return rt+"ms "+at},toTransition:()=>{}};return Y}Tm.applyToOptions=n=>{const t=e5(n,100,Tm);return n.ease=t.ease,n.duration=Ns(t.duration),n.type="keyframes",n};function I_({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:d,restDelta:p=.5,restSpeed:y}){const v=n[0],E={done:!1,value:v},I=A=>h!==void 0&&A<h||d!==void 0&&A>d,N=A=>h===void 0?d:d===void 0||Math.abs(h-A)<Math.abs(d-A)?h:d;let U=e*t;const L=v+U,$=u===void 0?L:u(L);$!==L&&(U=$-v);const J=A=>-U*Math.exp(-A/i),j=A=>$+J(A),Y=A=>{const x=J(A),M=j(A);E.done=Math.abs(x)<=p,E.value=E.done?$:M};let rt,at;const R=A=>{I(E.value)&&(rt=A,at=Tm({keyframes:[E.value,N(E.value)],velocity:DC(j,A,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return R(0),{calculatedDuration:null,next:A=>{let x=!1;return!at&&rt===void 0&&(x=!0,Y(A),R(A)),rt!==void 0&&A>=rt?at.next(A-rt):(!x&&Y(A),E)}}}function u5(n,t,e){const i=[],a=e||Bs.mix||xC,l=n.length-1;for(let u=0;u<l;u++){let h=a(n[u],n[u+1]);if(t){const d=Array.isArray(t)?t[u]||li:t;h=xh(d,h)}i.push(h)}return i}function c5(n,t,{clamp:e=!0,ease:i,mixer:a}={}){const l=n.length;if(m0(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const u=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),t=[...t].reverse());const h=u5(t,i,a),d=h.length,p=y=>{if(u&&y<n[0])return t[0];let v=0;if(d>1)for(;v<n.length-2&&!(y<n[v+1]);v++);const E=oh(n[v],n[v+1],y);return h[v](E)};return e?y=>p(os(n[0],n[l-1],y)):p}function h5(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const a=oh(0,t,i);n.push(_e(e,1,a))}}function f5(n){const t=[0];return h5(t,n.length-1),t}function d5(n,t){return n.map(e=>e*t)}function m5(n,t){return n.map(()=>t||yC).splice(0,n.length-1)}function Bc({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const a=w3(i)?i.map(_w):_w(i),l={done:!1,value:t[0]},u=d5(e&&e.length===t.length?e:f5(t),n),h=c5(u,t,{ease:Array.isArray(a)?a:m5(t,a)});return{calculatedDuration:n,next:d=>(l.value=h(d),l.done=d>=n,l)}}const p5=n=>n!==null;function A0(n,{repeat:t,repeatType:e="loop"},i,a=1){const l=n.filter(p5),h=a<0||t&&e!=="loop"&&t%2===1?0:l.length-1;return!h||i===void 0?l[h]:i}const g5={decay:I_,inertia:I_,tween:Bc,keyframes:Bc,spring:Tm};function VC(n){typeof n.type=="string"&&(n.type=g5[n.type])}class w0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const y5=n=>n/100;class I0 extends w0{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Tn.now()&&this.tick(Tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;VC(t);const{type:e=Bc,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=t;let{keyframes:h}=t;const d=e||Bc;d!==Bc&&typeof h[0]!="number"&&(this.mixKeyframes=xh(y5,xC(h[0],h[1])),h=[0,100]);const p=d({...t,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=S0(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:E,repeatDelay:I,type:N,onUpdate:U,finalKeyframe:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const $=this.currentTime-p*(this.playbackSpeed>=0?1:-1),J=this.playbackSpeed>=0?$<0:$>a;this.currentTime=Math.max($,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let j=this.currentTime,Y=i;if(v){const A=Math.min(this.currentTime,a)/h;let x=Math.floor(A),M=A%1;!M&&A>=1&&(M=1),M===1&&x--,x=Math.min(x,v+1),x%2&&(E==="reverse"?(M=1-M,I&&(M-=I/h)):E==="mirror"&&(Y=u)),j=os(0,1,M)*h}const rt=J?{done:!1,value:y[0]}:Y.next(j);l&&(rt.value=l(rt.value));let{done:at}=rt;!J&&d!==null&&(at=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&at);return R&&N!==I_&&(rt.value=A0(y,this.options,L,this.speed)),U&&U(rt.value),R&&this.finish(),rt}then(t,e){return this.finished.then(t,e)}get duration(){return oi(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+oi(t)}get time(){return oi(this.currentTime)}set time(t){t=Ns(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Tn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=oi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=t5,startTime:e}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=e??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function _5(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Wa=n=>n*180/Math.PI,R_=n=>{const t=Wa(Math.atan2(n[1],n[0]));return x_(t)},v5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:R_,rotateZ:R_,skewX:n=>Wa(Math.atan(n[1])),skewY:n=>Wa(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},x_=n=>(n=n%360,n<0&&(n+=360),n),ww=R_,Iw=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Rw=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),T5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Iw,scaleY:Rw,scale:n=>(Iw(n)+Rw(n))/2,rotateX:n=>x_(Wa(Math.atan2(n[6],n[5]))),rotateY:n=>x_(Wa(Math.atan2(-n[2],n[0]))),rotateZ:ww,rotate:ww,skewX:n=>Wa(Math.atan(n[4])),skewY:n=>Wa(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function C_(n){return n.includes("scale")?1:0}function D_(n,t){if(!n||n==="none")return C_(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(e)i=T5,a=e;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=v5,a=h}if(!a)return C_(t);const l=i[t],u=a[1].split(",").map(b5);return typeof l=="function"?l(u):u[l]}const E5=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return D_(e,t)};function b5(n){return parseFloat(n.trim())}const au=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ou=new Set(au),xw=n=>n===ru||n===yt,S5=new Set(["x","y","z"]),A5=au.filter(n=>!S5.has(n));function w5(n){const t=[];return A5.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const Lr={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>D_(t,"x"),y:(n,{transform:t})=>D_(t,"y")};Lr.translateX=Lr.x;Lr.translateY=Lr.y;const eo=new Set;let V_=!1,M_=!1,N_=!1;function MC(){if(M_){const n=Array.from(eo).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const a=w5(i);a.length&&(e.set(i,a),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const a=e.get(i);a&&a.forEach(([l,u])=>{i.getValue(l)?.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}M_=!1,V_=!1,eo.forEach(n=>n.complete(N_)),eo.clear()}function NC(){eo.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(M_=!0)})}function I5(){N_=!0,NC(),MC(),N_=!1}class R0{constructor(t,e,i,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(eo.add(this),V_||(V_=!0,he.read(NC),he.resolveKeyframes(MC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:a}=this;if(t[0]===null){const l=a?.get(),u=t[t.length-1];if(l!==void 0)t[0]=l;else if(i&&e){const h=i.readValue(e,u);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=u),a&&l===void 0&&a.set(t[0])}_5(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),eo.delete(this)}cancel(){this.state==="scheduled"&&(eo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const R5=n=>n.startsWith("--");function x5(n,t,e){R5(t)?n.style.setProperty(t,e):n.style[t]=e}const C5=p0(()=>window.ScrollTimeline!==void 0),D5={};function V5(n,t){const e=p0(n);return()=>D5[t]??e()}const PC=V5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wc=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,Cw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wc([0,.65,.55,1]),circOut:wc([.55,0,1,.45]),backIn:wc([.31,.01,.66,-.59]),backOut:wc([.33,1.53,.69,.99])};function OC(n,t){if(n)return typeof n=="function"?PC()?CC(n,t):"ease-out":_C(n)?wc(n):Array.isArray(n)?n.map(e=>OC(e,t)||Cw.easeOut):Cw[n]}function M5(n,t,e,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:d}={},p=void 0){const y={[t]:e};d&&(y.offset=d);const v=OC(h,a);Array.isArray(v)&&(y.easing=v);const E={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),n.animate(y,E)}function kC(n){return typeof n=="function"&&"applyToOptions"in n}function N5({type:n,...t}){return kC(n)&&PC()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class P5 extends w0{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:i,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:d}=t;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=t,m0(typeof t.type!="string");const p=N5(t);this.animation=M5(e,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=A0(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):x5(e,i,y),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return oi(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+oi(t)}get time(){return oi(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ns(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&C5()?(this.animation.timeline=t,li):e(this)}}const LC={anticipate:mC,backInOut:dC,circInOut:gC};function O5(n){return n in LC}function k5(n){typeof n.ease=="string"&&O5(n.ease)&&(n.ease=LC[n.ease])}const My=10;class L5 extends P5{constructor(t){k5(t),VC(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:i,onComplete:a,element:l,...u}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const h=new I0({...u,autoplay:!1}),d=Math.max(My,Tn.now()-this.startTime),p=os(0,My,d-My);e.setWithVelocity(h.sample(Math.max(0,d-p)).value,h.sample(d).value,p),h.stop()}}const Dw=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ta.test(n)||n==="0")&&!n.startsWith("url("));function U5(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function B5(n,t,e,i){const a=n[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=n[n.length-1],u=Dw(a,t),h=Dw(l,t);return!u||!h?!1:U5(n)||(e==="spring"||kC(e))&&i}function P_(n){n.duration=0,n.type="keyframes"}const z5=new Set(["opacity","clipPath","filter","transform"]),j5=p0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function F5(n){const{motionValue:t,name:e,repeatDelay:i,repeatType:a,damping:l,type:u}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=t.owner.getProps();return j5()&&e&&z5.has(e)&&(e!=="transform"||!p)&&!d&&!i&&a!=="mirror"&&l!==0&&u!=="inertia"}const q5=40;class H5 extends w0{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:d,motionValue:p,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Tn.now();const E={autoplay:t,delay:e,type:i,repeat:a,repeatDelay:l,repeatType:u,name:d,motionValue:p,element:y,...v},I=y?.KeyframeResolver||R0;this.keyframeResolver=new I(h,(N,U,L)=>this.onKeyframesResolved(N,U,E,!L),d,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,i,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:d,isHandoff:p,onUpdate:y}=i;this.resolvedAt=Tn.now(),B5(t,l,u,h)||((Bs.instantAnimations||!d)&&y?.(A0(t,i,e)),t[0]=t[t.length-1],P_(i),i.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>q5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...i,keyframes:t},I=!p&&F5(E),N=E.motionValue?.owner?.current,U=I?new L5({...E,element:N}):new I0(E);U.finished.then(()=>{this.notifyFinished()}).catch(li),this.pendingTimeline&&(this.stopTimeline=U.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=U}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),I5()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function UC(n,t,e,i=0,a=1){const l=Array.from(n).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),u=n.size,h=(u-1)*i;return typeof e=="function"?e(l,u):a===1?l*i:h-l*i}const G5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function K5(n){const t=G5.exec(n);if(!t)return[,];const[,e,i,a]=t;return[`--${e??i}`,a]}function BC(n,t,e=1){const[i,a]=K5(n);if(!i)return;const l=window.getComputedStyle(t).getPropertyValue(i);if(l){const u=l.trim();return rC(u)?parseFloat(u):u}return v0(a)?BC(a,t,e+1):a}const $5={type:"spring",stiffness:500,damping:25,restSpeed:10},Y5=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Q5={type:"keyframes",duration:.8},X5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},W5=(n,{keyframes:t})=>t.length>2?Q5:ou.has(n)?n.startsWith("scale")?Y5(t[1]):$5:X5,J5=n=>n!==null;function Z5(n,{repeat:t,repeatType:e="loop"},i){const a=n.filter(J5),l=t&&e!=="loop"&&t%2===1?0:a.length-1;return a[l]}function x0(n,t){return n?.[t]??n?.default??n}function t6({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:d,elapsed:p,...y}){return!!Object.keys(y).length}const C0=(n,t,e,i={},a,l)=>u=>{const h=x0(i,n)||{},d=h.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Ns(d);const y={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-p,onUpdate:E=>{t.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:n,motionValue:t,element:l?void 0:a};t6(h)||Object.assign(y,W5(n,y)),y.duration&&(y.duration=Ns(y.duration)),y.repeatDelay&&(y.repeatDelay=Ns(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(P_(y),y.delay===0&&(v=!0)),(Bs.instantAnimations||Bs.skipAnimations)&&(v=!0,P_(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!l&&t.get()!==void 0){const E=Z5(y.keyframes,h);if(E!==void 0){he.update(()=>{y.onUpdate(E),y.onComplete()});return}}return h.isSync?new I0(y):new H5(y)};function Vw(n){const t=[{},{}];return n?.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function D0(n,t,e,i){if(typeof t=="function"){const[a,l]=Vw(i);t=t(e!==void 0?e:n.custom,a,l)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[a,l]=Vw(i);t=t(e!==void 0?e:n.custom,a,l)}return t}function Il(n,t,e){const i=n.getProps();return D0(i,t,e!==void 0?e:i.custom,n)}const zC=new Set(["width","height","top","left","right","bottom",...au]),Mw=30,e6=n=>!isNaN(parseFloat(n));class n6{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=Tn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Tn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=e6(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new g0);const i=this.events[t].add(e);return t==="change"?()=>{i(),he.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Mw)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,Mw);return lC(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yl(n,t){return new n6(n,t)}const O_=n=>Array.isArray(n);function i6(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,Yl(e))}function s6(n){return O_(n)?n[n.length-1]||0:n}function r6(n,t){const e=Il(n,t);let{transitionEnd:i={},transition:a={},...l}=e||{};l={...l,...i};for(const u in l){const h=s6(l[u]);i6(n,u,h)}}const pn=n=>!!(n&&n.getVelocity);function a6(n){return!!(pn(n)&&n.add)}function k_(n,t){const e=n.getValue("willChange");if(a6(e))return e.add(t);if(!e&&Bs.WillChange){const i=new Bs.WillChange("auto");n.addValue("willChange",i),i.add(t)}}function V0(n){return n.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const o6="framerAppearId",jC="data-"+V0(o6);function FC(n){return n.props[jC]}function l6({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function qC(n,t,{delay:e=0,transitionOverride:i,type:a}={}){let{transition:l=n.getDefaultTransition(),transitionEnd:u,...h}=t;const d=l?.reduceMotion;i&&(l=i);const p=[],y=a&&n.animationState&&n.animationState.getState()[a];for(const v in h){const E=n.getValue(v,n.latestValues[v]??null),I=h[v];if(I===void 0||y&&l6(y,v))continue;const N={delay:e,...x0(l||{},v)},U=E.get();if(U!==void 0&&!E.isAnimating&&!Array.isArray(I)&&I===U&&!N.velocity)continue;let L=!1;if(window.MotionHandoffAnimation){const j=FC(n);if(j){const Y=window.MotionHandoffAnimation(j,v,he);Y!==null&&(N.startTime=Y,L=!0)}}k_(n,v);const $=d??n.shouldReduceMotion;E.start(C0(v,E,I,$&&zC.has(v)?{type:!1}:N,n,L));const J=E.animation;J&&p.push(J)}return u&&Promise.all(p).then(()=>{he.update(()=>{u&&r6(n,u)})}),p}function L_(n,t,e={}){const i=Il(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(a=e.transitionOverride);const l=i?()=>Promise.all(qC(n,i,e)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=a;return u6(n,t,d,p,y,v,e)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,p]=h==="beforeChildren"?[l,u]:[u,l];return d().then(()=>p())}else return Promise.all([l(),u(e.delay)])}function u6(n,t,e=0,i=0,a=0,l=1,u){const h=[];for(const d of n.variantChildren)d.notify("AnimationStart",t),h.push(L_(d,t,{...u,delay:e+(typeof i=="function"?0:i)+UC(n.variantChildren,d,i,a,l)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(h)}function c6(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const a=t.map(l=>L_(n,l,e));i=Promise.all(a)}else if(typeof t=="string")i=L_(n,t,e);else{const a=typeof t=="function"?Il(n,t,e.custom):t;i=Promise.all(qC(n,a,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}const h6={test:n=>n==="auto",parse:n=>n},HC=n=>t=>t.test(n),GC=[ru,yt,rs,xr,U3,L3,h6],Nw=n=>GC.find(HC(n));function f6(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||oC(n):!0}const d6=new Set(["brightness","contrast","saturate","opacity"]);function m6(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(T0)||[];if(!i)return n;const a=e.replace(i,"");let l=d6.has(t)?1:0;return i!==e&&(l*=100),t+"("+l+a+")"}const p6=/\b([a-z-]*)\(.*?\)/gu,U_={...ta,getAnimatableNone:n=>{const t=n.match(p6);return t?t.map(m6).join(" "):n}},Pw={...ru,transform:Math.round},g6={rotate:xr,rotateX:xr,rotateY:xr,rotateZ:xr,scale:vd,scaleX:vd,scaleY:vd,scaleZ:vd,skew:xr,skewX:xr,skewY:xr,distance:yt,translateX:yt,translateY:yt,translateZ:yt,x:yt,y:yt,z:yt,perspective:yt,transformPerspective:yt,opacity:lh,originX:Tw,originY:Tw,originZ:yt},M0={borderWidth:yt,borderTopWidth:yt,borderRightWidth:yt,borderBottomWidth:yt,borderLeftWidth:yt,borderRadius:yt,borderTopLeftRadius:yt,borderTopRightRadius:yt,borderBottomRightRadius:yt,borderBottomLeftRadius:yt,width:yt,maxWidth:yt,height:yt,maxHeight:yt,top:yt,right:yt,bottom:yt,left:yt,inset:yt,insetBlock:yt,insetBlockStart:yt,insetBlockEnd:yt,insetInline:yt,insetInlineStart:yt,insetInlineEnd:yt,padding:yt,paddingTop:yt,paddingRight:yt,paddingBottom:yt,paddingLeft:yt,paddingBlock:yt,paddingBlockStart:yt,paddingBlockEnd:yt,paddingInline:yt,paddingInlineStart:yt,paddingInlineEnd:yt,margin:yt,marginTop:yt,marginRight:yt,marginBottom:yt,marginLeft:yt,marginBlock:yt,marginBlockStart:yt,marginBlockEnd:yt,marginInline:yt,marginInlineStart:yt,marginInlineEnd:yt,fontSize:yt,backgroundPositionX:yt,backgroundPositionY:yt,...g6,zIndex:Pw,fillOpacity:lh,strokeOpacity:lh,numOctaves:Pw},y6={...M0,color:ze,backgroundColor:ze,outlineColor:ze,fill:ze,stroke:ze,borderColor:ze,borderTopColor:ze,borderRightColor:ze,borderBottomColor:ze,borderLeftColor:ze,filter:U_,WebkitFilter:U_},KC=n=>y6[n];function $C(n,t){let e=KC(n);return e!==U_&&(e=ta),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const _6=new Set(["auto","none","0"]);function v6(n,t,e){let i=0,a;for(;i<n.length&&!a;){const l=n[i];typeof l=="string"&&!_6.has(l)&&uh(l).values.length&&(a=n[i]),i++}if(a&&e)for(const l of t)n[l]=$C(e,a)}class T6 extends R0{constructor(t,e,i,a,l){super(t,e,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let v=t[y];if(typeof v=="string"&&(v=v.trim(),v0(v))){const E=BC(v,e.current);E!==void 0&&(t[y]=E),y===t.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!zC.has(i)||t.length!==2)return;const[a,l]=t,u=Nw(a),h=Nw(l),d=vw(a),p=vw(l);if(d!==p&&Lr[i]){this.needsMeasurement=!0;return}if(u!==h)if(xw(u)&&xw(h))for(let y=0;y<t.length;y++){const v=t[y];typeof v=="string"&&(t[y]=parseFloat(v))}else Lr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let a=0;a<t.length;a++)(t[a]===null||f6(t[a]))&&i.push(a);i.length&&v6(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Lr[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const a=e[e.length-1];a!==void 0&&t.getValue(i,a).jump(a,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const a=t.getValue(e);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=Lr[e](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{t.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function E6(n,t,e){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const a=e?.[n]??i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n).filter(i=>i!=null)}const YC=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function B_(n){return aC(n)&&"offsetHeight"in n}const{schedule:N0}=vC(queueMicrotask,!1),bi={x:!1,y:!1};function QC(){return bi.x||bi.y}function b6(n){return n==="x"||n==="y"?bi[n]?null:(bi[n]=!0,()=>{bi[n]=!1}):bi.x||bi.y?null:(bi.x=bi.y=!0,()=>{bi.x=bi.y=!1})}function XC(n,t){const e=E6(n),i=new AbortController,a={passive:!0,...t,signal:i.signal};return[e,a,()=>i.abort()]}function Ow(n){return!(n.pointerType==="touch"||QC())}function S6(n,t,e={}){const[i,a,l]=XC(n,e),u=h=>{if(!Ow(h))return;const{target:d}=h,p=t(d,h);if(typeof p!="function"||!d)return;const y=v=>{Ow(v)&&(p(v),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,a)};return i.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const WC=(n,t)=>t?n===t?!0:WC(n,t.parentElement):!1,P0=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,A6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function JC(n){return A6.has(n.tagName)||n.isContentEditable===!0}const zd=new WeakSet;function kw(n){return t=>{t.key==="Enter"&&n(t)}}function Ny(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const w6=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=kw(()=>{if(zd.has(e))return;Ny(e,"down");const a=kw(()=>{Ny(e,"up")}),l=()=>Ny(e,"cancel");e.addEventListener("keyup",a,t),e.addEventListener("blur",l,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function Lw(n){return P0(n)&&!QC()}function I6(n,t,e={}){const[i,a,l]=XC(n,e),u=h=>{const d=h.currentTarget;if(!Lw(h))return;zd.add(d);const p=t(d,h),y=(I,N)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",E),zd.has(d)&&zd.delete(d),Lw(I)&&typeof p=="function"&&p(I,{success:N})},v=I=>{y(I,d===window||d===document||e.useGlobalTarget||WC(d,I.target))},E=I=>{y(I,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",E,a)};return i.forEach(h=>{(e.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),B_(h)&&(h.addEventListener("focus",p=>w6(p,a)),!JC(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function ZC(n){return aC(n)&&"ownerSVGElement"in n}function R6(n){return ZC(n)&&n.tagName==="svg"}const x6=[...GC,ze,ta],C6=n=>x6.find(HC(n)),Uw=()=>({translate:0,scale:1,origin:0,originPoint:0}),_l=()=>({x:Uw(),y:Uw()}),Bw=()=>({min:0,max:0}),Ge=()=>({x:Bw(),y:Bw()}),z_={current:null},tD={current:!1},D6=typeof window<"u";function V6(){if(tD.current=!0,!!D6)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>z_.current=n.matches;n.addEventListener("change",t),t()}else z_.current=!1}const M6=new WeakMap;function np(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function ch(n){return typeof n=="string"||Array.isArray(n)}const O0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],k0=["initial",...O0];function ip(n){return np(n.animate)||k0.some(t=>ch(n[t]))}function eD(n){return!!(ip(n)||n.variants)}function N6(n,t,e){for(const i in t){const a=t[i],l=e[i];if(pn(a))n.addValue(i,a);else if(pn(l))n.addValue(i,Yl(a,{owner:n}));else if(l!==a)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=n.getStaticValue(i);n.addValue(i,Yl(u!==void 0?u:a,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const zw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Em={};function nD(n){Em=n}function P6(){return Em}class O6{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=R0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Tn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,he.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=e.initial?{...d}:{},this.renderState=p,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=ip(e),this.isVariantNode=eD(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(e,{},this);for(const E in v){const I=v[E];d[E]!==void 0&&pn(I)&&I.set(d[E])}}mount(t){this.current=t,M6.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(tD.current||V6(),this.shouldReduceMotion=z_.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Zr(this.notifyUpdate),Zr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=ou.has(t);i&&this.onBindTransform&&this.onBindTransform();const a=e.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&he.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Em){const e=Em[t];if(!e)continue;const{isEnabled:i,Feature:a}=e;if(!this.features[t]&&a&&i(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<zw.length;i++){const a=zw[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=t[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=N6(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=Yl(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(rC(i)||oC(i))?i=parseFloat(i):!C6(i)&&ta.test(e)&&(i=$C(t,e)),this.setBaseTarget(t,pn(i)?i.get():i)),pn(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const l=D0(this.props,e,this.presenceContext?.custom);l&&(i=l[t])}if(e&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!pn(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new g0),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){N0.render(this.render)}}class iD extends O6{constructor(){super(...arguments),this.KeyframeResolver=T6}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){const i=t.style;return i?i[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;pn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class ra{constructor(t){this.isMounted=!1,this.node=t}update(){}}function sD({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function k6({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function L6(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}function Py(n){return n===void 0||n===1}function j_({scale:n,scaleX:t,scaleY:e}){return!Py(n)||!Py(t)||!Py(e)}function Ha(n){return j_(n)||rD(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function rD(n){return jw(n.x)||jw(n.y)}function jw(n){return n&&n!=="0%"}function bm(n,t,e){const i=n-e,a=t*i;return e+a}function Fw(n,t,e,i,a){return a!==void 0&&(n=bm(n,a,i)),bm(n,e,i)+t}function F_(n,t=0,e=1,i,a){n.min=Fw(n.min,t,e,i,a),n.max=Fw(n.max,t,e,i,a)}function aD(n,{x:t,y:e}){F_(n.x,t.translate,t.scale,t.originPoint),F_(n.y,e.translate,e.scale,e.originPoint)}const qw=.999999999999,Hw=1.0000000000001;function U6(n,t,e,i=!1){const a=e.length;if(!a)return;t.x=t.y=1;let l,u;for(let h=0;h<a;h++){l=e[h],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Tl(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,aD(n,u)),i&&Ha(l.latestValues)&&Tl(n,l.latestValues))}t.x<Hw&&t.x>qw&&(t.x=1),t.y<Hw&&t.y>qw&&(t.y=1)}function vl(n,t){n.min=n.min+t,n.max=n.max+t}function Gw(n,t,e,i,a=.5){const l=_e(n.min,n.max,a);F_(n,t,e,l,i)}function Tl(n,t){Gw(n.x,t.x,t.scaleX,t.scale,t.originX),Gw(n.y,t.y,t.scaleY,t.scale,t.originY)}function oD(n,t){return sD(L6(n.getBoundingClientRect(),t))}function B6(n,t,e){const i=oD(n,e),{scroll:a}=t;return a&&(vl(i.x,a.offset.x),vl(i.y,a.offset.y)),i}const z6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},j6=au.length;function F6(n,t,e){let i="",a=!0;for(let l=0;l<j6;l++){const u=au[l],h=n[u];if(h===void 0)continue;let d=!0;if(typeof h=="number")d=h===(u.startsWith("scale")?1:0);else{const p=parseFloat(h);d=u.startsWith("scale")?p===1:p===0}if(!d||e){const p=YC(h,M0[u]);if(!d){a=!1;const y=z6[u]||u;i+=`${y}(${p}) `}e&&(t[u]=p)}}return i=i.trim(),e?i=e(t,a?"":i):a&&(i="none"),i}function L0(n,t,e){const{style:i,vars:a,transformOrigin:l}=n;let u=!1,h=!1;for(const d in t){const p=t[d];if(ou.has(d)){u=!0;continue}else if(EC(d)){a[d]=p;continue}else{const y=YC(p,M0[d]);d.startsWith("origin")?(h=!0,l[d]=y):i[d]=y}}if(t.transform||(u||e?i.transform=F6(t,n.transform,e):i.transform&&(i.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:y=0}=l;i.transformOrigin=`${d} ${p} ${y}`}}function lD(n,{style:t,vars:e},i,a){const l=n.style;let u;for(u in t)l[u]=t[u];a?.applyProjectionStyles(l,i);for(u in e)l.setProperty(u,e[u])}function Kw(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Tc={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(yt.test(n))n=parseFloat(n);else return n;const e=Kw(n,t.target.x),i=Kw(n,t.target.y);return`${e}% ${i}%`}},q6={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,a=ta.parse(n);if(a.length>5)return i;const l=ta.createTransformer(n),u=typeof a[0]!="number"?1:0,h=e.x.scale*t.x,d=e.y.scale*t.y;a[0+u]/=h,a[1+u]/=d;const p=_e(h,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}},q_={borderRadius:{...Tc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tc,borderTopRightRadius:Tc,borderBottomLeftRadius:Tc,borderBottomRightRadius:Tc,boxShadow:q6};function uD(n,{layout:t,layoutId:e}){return ou.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!q_[n]||n==="opacity")}function U0(n,t,e){const i=n.style,a=t?.style,l={};if(!i)return l;for(const u in i)(pn(i[u])||a&&pn(a[u])||uD(u,n)||e?.getValue(u)?.liveStyle!==void 0)&&(l[u]=i[u]);return l}function H6(n){return window.getComputedStyle(n)}class G6 extends iD{constructor(){super(...arguments),this.type="html",this.renderInstance=lD}readValueFromInstance(t,e){if(ou.has(e))return this.projection?.isProjecting?C_(e):E5(t,e);{const i=H6(t),a=(EC(e)?i.getPropertyValue(e):i[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return oD(t,e)}build(t,e,i){L0(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return U0(t,e,i)}}const K6={offset:"stroke-dashoffset",array:"stroke-dasharray"},$6={offset:"strokeDashoffset",array:"strokeDasharray"};function Y6(n,t,e=1,i=0,a=!0){n.pathLength=1;const l=a?K6:$6;n[l.offset]=`${-i}`,n[l.array]=`${t} ${e}`}const Q6=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function cD(n,{attrX:t,attrY:e,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},d,p,y){if(L0(n,h,p),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:E}=n;v.transform&&(E.transform=v.transform,delete v.transform),(E.transform||v.transformOrigin)&&(E.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete v.transformBox);for(const I of Q6)v[I]!==void 0&&(E[I]=v[I],delete v[I]);t!==void 0&&(v.x=t),e!==void 0&&(v.y=e),i!==void 0&&(v.scale=i),a!==void 0&&Y6(v,a,l,u,!1)}const hD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),fD=n=>typeof n=="string"&&n.toLowerCase()==="svg";function X6(n,t,e,i){lD(n,t,void 0,i);for(const a in t.attrs)n.setAttribute(hD.has(a)?a:V0(a),t.attrs[a])}function dD(n,t,e){const i=U0(n,t,e);for(const a in n)if(pn(n[a])||pn(t[a])){const l=au.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=n[a]}return i}class W6 extends iD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ge}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(ou.has(e)){const i=KC(e);return i&&i.default||0}return e=hD.has(e)?e:V0(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return dD(t,e,i)}build(t,e,i){cD(t,e,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,e,i,a){X6(t,e,i,a)}mount(t){this.isSVGTag=fD(t.tagName),super.mount(t)}}const J6=k0.length;function mD(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?mD(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<J6;e++){const i=k0[e],a=n.props[i];(ch(a)||a===!1)&&(t[i]=a)}return t}function pD(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const Z6=[...O0].reverse(),tU=O0.length;function eU(n){return t=>Promise.all(t.map(({animation:e,options:i})=>c6(n,e,i)))}function nU(n){let t=eU(n),e=$w(),i=!0;const a=d=>(p,y)=>{const v=Il(n,y,d==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:E,transitionEnd:I,...N}=v;p={...p,...N,...I}}return p};function l(d){t=d(n)}function u(d){const{props:p}=n,y=mD(n.parent)||{},v=[],E=new Set;let I={},N=1/0;for(let L=0;L<tU;L++){const $=Z6[L],J=e[$],j=p[$]!==void 0?p[$]:y[$],Y=ch(j),rt=$===d?J.isActive:null;rt===!1&&(N=L);let at=j===y[$]&&j!==p[$]&&Y;if(at&&i&&n.manuallyAnimateOnMount&&(at=!1),J.protectedKeys={...I},!J.isActive&&rt===null||!j&&!J.prevProp||np(j)||typeof j=="boolean")continue;const R=iU(J.prevProp,j);let A=R||$===d&&J.isActive&&!at&&Y||L>N&&Y,x=!1;const M=Array.isArray(j)?j:[j];let V=M.reduce(a($),{});rt===!1&&(V={});const{prevResolvedValues:k={}}=J,C={...k,...V},Gt=lt=>{A=!0,E.has(lt)&&(x=!0,E.delete(lt)),J.needsAnimating[lt]=!0;const mt=n.getValue(lt);mt&&(mt.liveStyle=!1)};for(const lt in C){const mt=V[lt],Dt=k[lt];if(I.hasOwnProperty(lt))continue;let kt=!1;O_(mt)&&O_(Dt)?kt=!pD(mt,Dt):kt=mt!==Dt,kt?mt!=null?Gt(lt):E.add(lt):mt!==void 0&&E.has(lt)?Gt(lt):J.protectedKeys[lt]=!0}J.prevProp=j,J.prevResolvedValues=V,J.isActive&&(I={...I,...V}),i&&n.blockInitialAnimation&&(A=!1);const Xt=at&&R;A&&(!Xt||x)&&v.push(...M.map(lt=>{const mt={type:$};if(typeof lt=="string"&&i&&!Xt&&n.manuallyAnimateOnMount&&n.parent){const{parent:Dt}=n,kt=Il(Dt,lt);if(Dt.enteringChildren&&kt){const{delayChildren:O}=kt.transition||{};mt.delay=UC(Dt.enteringChildren,n,O)}}return{animation:lt,options:mt}}))}if(E.size){const L={};if(typeof p.initial!="boolean"){const $=Il(n,Array.isArray(p.initial)?p.initial[0]:p.initial);$&&$.transition&&(L.transition=$.transition)}E.forEach($=>{const J=n.getBaseTarget($),j=n.getValue($);j&&(j.liveStyle=!0),L[$]=J??null}),v.push({animation:L})}let U=!!v.length;return i&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(U=!1),i=!1,U?t(v):Promise.resolve()}function h(d,p){if(e[d].isActive===p)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(d,p)),e[d].isActive=p;const y=u(d);for(const v in e)e[v].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>e,reset:()=>{e=$w()}}}function iU(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!pD(t,n):!1}function Ba(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $w(){return{animate:Ba(!0),whileInView:Ba(),whileHover:Ba(),whileTap:Ba(),whileDrag:Ba(),whileFocus:Ba(),exit:Ba()}}function Yw(n,t){n.min=t.min,n.max=t.max}function Ei(n,t){Yw(n.x,t.x),Yw(n.y,t.y)}function Qw(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}const gD=1e-4,sU=1-gD,rU=1+gD,yD=.01,aU=0-yD,oU=0+yD;function En(n){return n.max-n.min}function lU(n,t,e){return Math.abs(n-t)<=e}function Xw(n,t,e,i=.5){n.origin=i,n.originPoint=_e(t.min,t.max,n.origin),n.scale=En(e)/En(t),n.translate=_e(e.min,e.max,n.origin)-n.originPoint,(n.scale>=sU&&n.scale<=rU||isNaN(n.scale))&&(n.scale=1),(n.translate>=aU&&n.translate<=oU||isNaN(n.translate))&&(n.translate=0)}function zc(n,t,e,i){Xw(n.x,t.x,e.x,i?i.originX:void 0),Xw(n.y,t.y,e.y,i?i.originY:void 0)}function Ww(n,t,e){n.min=e.min+t.min,n.max=n.min+En(t)}function uU(n,t,e){Ww(n.x,t.x,e.x),Ww(n.y,t.y,e.y)}function Jw(n,t,e){n.min=t.min-e.min,n.max=n.min+En(t)}function Sm(n,t,e){Jw(n.x,t.x,e.x),Jw(n.y,t.y,e.y)}function Zw(n,t,e,i,a){return n-=t,n=bm(n,1/e,i),a!==void 0&&(n=bm(n,1/a,i)),n}function cU(n,t=0,e=1,i=.5,a,l=n,u=n){if(rs.test(t)&&(t=parseFloat(t),t=_e(u.min,u.max,t/100)-u.min),typeof t!="number")return;let h=_e(l.min,l.max,i);n===l&&(h-=t),n.min=Zw(n.min,t,e,h,a),n.max=Zw(n.max,t,e,h,a)}function t1(n,t,[e,i,a],l,u){cU(n,t[e],t[i],t[a],t.scale,l,u)}const hU=["x","scaleX","originX"],fU=["y","scaleY","originY"];function e1(n,t,e,i){t1(n.x,t,hU,e?e.x:void 0,i?i.x:void 0),t1(n.y,t,fU,e?e.y:void 0,i?i.y:void 0)}function n1(n){return n.translate===0&&n.scale===1}function _D(n){return n1(n.x)&&n1(n.y)}function i1(n,t){return n.min===t.min&&n.max===t.max}function dU(n,t){return i1(n.x,t.x)&&i1(n.y,t.y)}function s1(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function vD(n,t){return s1(n.x,t.x)&&s1(n.y,t.y)}function r1(n){return En(n.x)/En(n.y)}function a1(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}function ai(n){return[n("x"),n("y")]}function mU(n,t,e){let i="";const a=n.x.translate/t.x,l=n.y.translate/t.y,u=e?.z||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:E,skewX:I,skewY:N}=e;p&&(i=`perspective(${p}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),E&&(i+=`rotateY(${E}deg) `),I&&(i+=`skewX(${I}deg) `),N&&(i+=`skewY(${N}deg) `)}const h=n.x.scale*t.x,d=n.y.scale*t.y;return(h!==1||d!==1)&&(i+=`scale(${h}, ${d})`),i||"none"}const TD=["TopLeft","TopRight","BottomLeft","BottomRight"],pU=TD.length,o1=n=>typeof n=="string"?parseFloat(n):n,l1=n=>typeof n=="number"||yt.test(n);function gU(n,t,e,i,a,l){a?(n.opacity=_e(0,e.opacity??1,yU(i)),n.opacityExit=_e(t.opacity??1,0,_U(i))):l&&(n.opacity=_e(t.opacity??1,e.opacity??1,i));for(let u=0;u<pU;u++){const h=`border${TD[u]}Radius`;let d=u1(t,h),p=u1(e,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||l1(d)===l1(p)?(n[h]=Math.max(_e(o1(d),o1(p),i),0),(rs.test(p)||rs.test(d))&&(n[h]+="%")):n[h]=p}(t.rotate||e.rotate)&&(n.rotate=_e(t.rotate||0,e.rotate||0,i))}function u1(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const yU=ED(0,.5,pC),_U=ED(.5,.95,li);function ED(n,t,e){return i=>i<n?0:i>t?1:e(oh(n,t,i))}function vU(n,t,e){const i=pn(n)?n:Yl(n);return i.start(C0("",i,t,e)),i.animation}function hh(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}const TU=(n,t)=>n.depth-t.depth;class EU{constructor(){this.children=[],this.isDirty=!1}add(t){f0(this.children,t),this.isDirty=!0}remove(t){d0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(TU),this.isDirty=!1,this.children.forEach(t)}}function bU(n,t){const e=Tn.now(),i=({timestamp:a})=>{const l=a-e;l>=t&&(Zr(i),n(l-t))};return he.setup(i,!0),()=>Zr(i)}function jd(n){return pn(n)?n.get():n}class SU{constructor(){this.members=[]}add(t){f0(this.members,t),t.scheduleRender()}remove(t){if(d0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(a=>t===a);if(e===0)return!1;let i;for(let a=e;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender();const a=i.options.layoutDependency,l=t.options.layoutDependency;a!==void 0&&l!==void 0&&a===l||(t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:h}=t.options;h===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Fd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Oy=["","X","Y","Z"],AU=1e3;let wU=0;function ky(n,t,e,i){const{latestValues:a}=t;a[n]&&(e[n]=a[n],t.setStaticValue(n,0),i&&(i[n]=0))}function bD(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=FC(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:a,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",he,!(a||l))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&bD(i)}function SD({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},h=t?.()){this.id=wU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(xU),this.nodes.forEach(MU),this.nodes.forEach(NU),this.nodes.forEach(CU)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new EU)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new g0),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=ZC(u)&&!R6(u),this.instance=u;const{layoutId:h,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),n){let y,v=0;const E=()=>this.root.updateBlockedByResize=!1;he.read(()=>{v=window.innerWidth}),n(u,()=>{const I=window.innerWidth;I!==v&&(v=I,this.root.updateBlockedByResize=!0,y&&y(),y=bU(E,250),Fd.hasAnimatedSinceResize&&(Fd.hasAnimatedSinceResize=!1,this.nodes.forEach(f1)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:E,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||p.getDefaultTransition()||UU,{onLayoutAnimationStart:U,onLayoutAnimationComplete:L}=p.getProps(),$=!this.targetLayout||!vD(this.targetLayout,I),J=!v&&E;if(this.options.layoutRoot||this.resumeFrom||J||v&&($||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...x0(N,"layout"),onPlay:U,onComplete:L};(p.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(y,J)}else v||f1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(PU),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(c1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(h1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(VU),this.nodes.forEach(IU),this.nodes.forEach(RU)):this.nodes.forEach(h1),this.clearAllSnapshots();const h=Tn.now();ln.delta=os(0,1e3/60,h-ln.timestamp),ln.timestamp=h,ln.isProcessing=!0,Ry.update.process(ln),Ry.preRender.process(ln),Ry.render.process(ln),ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,N0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(DU),this.sharedNodes.forEach(OU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,he.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){he.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!En(this.snapshot.measuredBox.x)&&!En(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!_D(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||Ha(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),BU(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Ge();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(zU))){const{scroll:p}=this.root;p&&(vl(h.x,p.offset.x),vl(h.y,p.offset.y))}return h}removeElementScroll(u){const h=Ge();if(Ei(h,u),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Ei(h,u),vl(h.x,y.offset.x),vl(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const d=Ge();Ei(d,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Tl(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ha(y.latestValues)&&Tl(d,y.latestValues)}return Ha(this.latestValues)&&Tl(d,this.latestValues),d}removeTransform(u){const h=Ge();Ei(h,u);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Ha(p.latestValues))continue;j_(p.latestValues)&&p.updateSnapshot();const y=Ge(),v=p.measurePageBox();Ei(y,v),e1(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Ha(this.latestValues)&&e1(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=ln.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ge(),this.targetWithTransforms=Ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ei(this.target,this.layout.layoutBox),aD(this.target,this.targetDelta)):Ei(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||j_(this.parent.latestValues)||rD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,h,d){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),Sm(this.relativeTargetOrigin,h,d),Ei(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ln.timestamp&&(d=!1),d)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Ei(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,E=this.treeScale.y;U6(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Ge());const{target:I}=u;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Qw(this.prevProjectionDelta.x,this.projectionDelta.x),Qw(this.prevProjectionDelta.y,this.projectionDelta.y)),zc(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==E||!a1(this.projectionDelta.x,this.prevProjectionDelta.x)||!a1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_l(),this.projectionDelta=_l(),this.projectionDeltaWithTransform=_l()}setAnimationOrigin(u,h=!1){const d=this.snapshot,p=d?d.latestValues:{},y={...this.latestValues},v=_l();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=Ge(),I=d?d.source:void 0,N=this.layout?this.layout.source:void 0,U=I!==N,L=this.getStack(),$=!L||L.members.length<=1,J=!!(U&&!$&&this.options.crossfade===!0&&!this.path.some(LU));this.animationProgress=0;let j;this.mixTargetDelta=Y=>{const rt=Y/1e3;d1(v.x,u.x,rt),d1(v.y,u.y,rt),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sm(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kU(this.relativeTarget,this.relativeTargetOrigin,E,rt),j&&dU(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Ge()),Ei(j,this.relativeTarget)),U&&(this.animationValues=y,gU(y,p,this.latestValues,rt,J,$)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=rt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=he.update(()=>{Fd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Yl(0)),this.currentAnimation=vU(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(AU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:y}=u;if(!(!h||!d||!p)){if(this!==u&&this.layout&&p&&AD(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||Ge();const v=En(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+v;const E=En(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+E}Ei(h,d),Tl(h,y),zc(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new SU),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&ky("z",u,p,this.animationValues);for(let y=0;y<Oy.length;y++)ky(`rotate${Oy[y]}`,u,p,this.animationValues),ky(`skew${Oy[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=jd(h?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=jd(h?.pointerEvents)||""),this.hasProjected&&!Ha(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=mU(this.projectionDeltaWithTransform,this.treeScale,y);d&&(v=d(y,v)),u.transform=v;const{x:E,y:I}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${I.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const N in q_){if(y[N]===void 0)continue;const{correct:U,applyTo:L,isCSSVariable:$}=q_[N],J=v==="none"?y[N]:U(y[N],p);if(L){const j=L.length;for(let Y=0;Y<j;Y++)u[L[Y]]=J}else $?this.options.visualElement.renderState.vars[N]=J:u[N]=J}this.options.layoutId&&(u.pointerEvents=p===this?jd(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(c1),this.root.sharedNodes.clear()}}}function IU(n){n.updateLayout()}function RU(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:i}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?ai(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],E=En(v);v.min=e[y].min,v.max=v.min+E}):AD(a,t.layoutBox,e)&&ai(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],E=En(e[y]);v.max=v.min+E,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+E)});const u=_l();zc(u,e,t.layoutBox);const h=_l();l?zc(h,n.applyTransform(i,!0),t.measuredBox):zc(h,e,t.layoutBox);const d=!_D(u);let p=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:E}=y;if(v&&E){const I=Ge();Sm(I,t.layoutBox,v.layoutBox);const N=Ge();Sm(N,e,E.layoutBox),vD(I,N)||(p=!0),y.options.layoutRoot&&(n.relativeTarget=N,n.relativeTargetOrigin=I,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function xU(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function CU(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function DU(n){n.clearSnapshot()}function c1(n){n.clearMeasurements()}function h1(n){n.isLayoutDirty=!1}function VU(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function f1(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function MU(n){n.resolveTargetDelta()}function NU(n){n.calcProjection()}function PU(n){n.resetSkewAndRotation()}function OU(n){n.removeLeadSnapshot()}function d1(n,t,e){n.translate=_e(t.translate,0,e),n.scale=_e(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function m1(n,t,e,i){n.min=_e(t.min,e.min,i),n.max=_e(t.max,e.max,i)}function kU(n,t,e,i){m1(n.x,t.x,e.x,i),m1(n.y,t.y,e.y,i)}function LU(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const UU={duration:.45,ease:[.4,0,.1,1]},p1=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),g1=p1("applewebkit/")&&!p1("chrome/")?Math.round:li;function y1(n){n.min=g1(n.min),n.max=g1(n.max)}function BU(n){y1(n.x),y1(n.y)}function AD(n,t,e){return n==="position"||n==="preserve-aspect"&&!lU(r1(t),r1(e),.2)}function zU(n){return n!==n.root&&n.scroll?.wasRoot}const jU=SD({attachResizeListener:(n,t)=>hh(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Ly={current:void 0},wD=SD({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Ly.current){const n=new jU({});n.mount(window),n.setOptions({layoutScroll:!0}),Ly.current=n}return Ly.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),B0=Z.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function _1(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function FU(...n){return t=>{let e=!1;const i=n.map(a=>{const l=_1(a,t);return!e&&typeof l=="function"&&(e=!0),l});if(e)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():_1(n[a],null)}}}}function qU(...n){return Z.useCallback(FU(...n),n)}class HU extends Z.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const i=e.offsetParent,a=B_(i)&&i.offsetWidth||0,l=B_(i)&&i.offsetHeight||0,u=this.props.sizeRef.current;u.height=e.offsetHeight||0,u.width=e.offsetWidth||0,u.top=e.offsetTop,u.left=e.offsetLeft,u.right=a-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function GU({children:n,isPresent:t,anchorX:e,anchorY:i,root:a}){const l=Z.useId(),u=Z.useRef(null),h=Z.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=Z.useContext(B0),p=n.props?.ref??n?.ref,y=qU(u,p);return Z.useInsertionEffect(()=>{const{width:v,height:E,top:I,left:N,right:U,bottom:L}=h.current;if(t||!u.current||!v||!E)return;const $=e==="left"?`left: ${N}`:`right: ${U}`,J=i==="bottom"?`bottom: ${L}`:`top: ${I}`;u.current.dataset.motionPopId=l;const j=document.createElement("style");d&&(j.nonce=d);const Y=a??document.head;return Y.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${E}px !important;
            ${$}px !important;
            ${J}px !important;
          }
        `),()=>{Y.contains(j)&&Y.removeChild(j)}},[t]),B.jsx(HU,{isPresent:t,childRef:u,sizeRef:h,children:Z.cloneElement(n,{ref:y})})}const KU=({children:n,initial:t,isPresent:e,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h,anchorY:d,root:p})=>{const y=h0($U),v=Z.useId();let E=!0,I=Z.useMemo(()=>(E=!1,{id:v,initial:t,isPresent:e,custom:a,onExitComplete:N=>{y.set(N,!0);for(const U of y.values())if(!U)return;i&&i()},register:N=>(y.set(N,!1),()=>y.delete(N))}),[e,y,i]);return l&&E&&(I={...I}),Z.useMemo(()=>{y.forEach((N,U)=>y.set(U,!1))},[e]),Z.useEffect(()=>{!e&&!y.size&&i&&i()},[e]),u==="popLayout"&&(n=B.jsx(GU,{isPresent:e,anchorX:h,anchorY:d,root:p,children:n})),B.jsx(ep.Provider,{value:I,children:n})};function $U(){return new Map}function ID(n=!0){const t=Z.useContext(ep);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:a}=t,l=Z.useId();Z.useEffect(()=>{if(n)return a(l)},[n]);const u=Z.useCallback(()=>n&&i&&i(l),[l,i,n]);return!e&&i?[!1,u]:[!0]}const Td=n=>n.key||"";function v1(n){const t=[];return Z.Children.forEach(n,e=>{Z.isValidElement(e)&&t.push(e)}),t}const Vh=({children:n,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left",anchorY:d="top",root:p})=>{const[y,v]=ID(u),E=Z.useMemo(()=>v1(n),[n]),I=u&&!y?[]:E.map(Td),N=Z.useRef(!0),U=Z.useRef(E),L=h0(()=>new Map),$=Z.useRef(new Set),[J,j]=Z.useState(E),[Y,rt]=Z.useState(E);sC(()=>{N.current=!1,U.current=E;for(let A=0;A<Y.length;A++){const x=Td(Y[A]);I.includes(x)?(L.delete(x),$.current.delete(x)):L.get(x)!==!0&&L.set(x,!1)}},[Y,I.length,I.join("-")]);const at=[];if(E!==J){let A=[...E];for(let x=0;x<Y.length;x++){const M=Y[x],V=Td(M);I.includes(V)||(A.splice(x,0,M),at.push(M))}return l==="wait"&&at.length&&(A=at),rt(v1(A)),j(E),null}const{forceRender:R}=Z.useContext(c0);return B.jsx(B.Fragment,{children:Y.map(A=>{const x=Td(A),M=u&&!y?!1:E===Y||I.includes(x),V=()=>{if($.current.has(x))return;if($.current.add(x),L.has(x))L.set(x,!0);else return;let k=!0;L.forEach(C=>{C||(k=!1)}),k&&(R?.(),rt(U.current),u&&v?.(),i&&i())};return B.jsx(KU,{isPresent:M,initial:!N.current||e?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:M?void 0:V,anchorX:h,anchorY:d,children:A},x)})})},RD=Z.createContext({strict:!1}),T1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let E1=!1;function YU(){if(E1)return;const n={};for(const t in T1)n[t]={isEnabled:e=>T1[t].some(i=>!!e[i])};nD(n),E1=!0}function xD(){return YU(),P6()}function QU(n){const t=xD();for(const e in n)t[e]={...t[e],...n[e]};nD(t)}const XU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Am(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||XU.has(n)}let CD=n=>!Am(n);function WU(n){typeof n=="function"&&(CD=t=>t.startsWith("on")?!Am(t):n(t))}try{WU(require("@emotion/is-prop-valid").default)}catch{}function JU(n,t,e){const i={};for(const a in n)a==="values"&&typeof n.values=="object"||(CD(a)||e===!0&&Am(a)||!t&&!Am(a)||n.draggable&&a.startsWith("onDrag"))&&(i[a]=n[a]);return i}const sp=Z.createContext({});function ZU(n,t){if(ip(n)){const{initial:e,animate:i}=n;return{initial:e===!1||ch(e)?e:void 0,animate:ch(i)?i:void 0}}return n.inherit!==!1?t:{}}function t9(n){const{initial:t,animate:e}=ZU(n,Z.useContext(sp));return Z.useMemo(()=>({initial:t,animate:e}),[b1(t),b1(e)])}function b1(n){return Array.isArray(n)?n.join(" "):n}const z0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function DD(n,t,e){for(const i in t)!pn(t[i])&&!uD(i,e)&&(n[i]=t[i])}function e9({transformTemplate:n},t){return Z.useMemo(()=>{const e=z0();return L0(e,t,n),Object.assign({},e.vars,e.style)},[t])}function n9(n,t){const e=n.style||{},i={};return DD(i,e,n),Object.assign(i,e9(n,t)),i}function i9(n,t){const e={},i=n9(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const VD=()=>({...z0(),attrs:{}});function s9(n,t,e,i){const a=Z.useMemo(()=>{const l=VD();return cD(l,t,fD(i),n.transformTemplate,n.style),{...l.attrs,style:{...l.style}}},[t]);if(n.style){const l={};DD(l,n.style,n),a.style={...l,...a.style}}return a}const r9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function j0(n){return typeof n!="string"||n.includes("-")?!1:!!(r9.indexOf(n)>-1||/[A-Z]/u.test(n))}function a9(n,t,e,{latestValues:i},a,l=!1,u){const d=(u??j0(n)?s9:i9)(t,i,a,n),p=JU(t,typeof n=="string",l),y=n!==Z.Fragment?{...p,...d,ref:e}:{},{children:v}=t,E=Z.useMemo(()=>pn(v)?v.get():v,[v]);return Z.createElement(n,{...y,children:E})}function o9({scrapeMotionValuesFromProps:n,createRenderState:t},e,i,a){return{latestValues:l9(e,i,a,n),renderState:t()}}function l9(n,t,e,i){const a={},l=i(n,{});for(const E in l)a[E]=jd(l[E]);let{initial:u,animate:h}=n;const d=ip(n),p=eD(n);t&&p&&!d&&n.inherit!==!1&&(u===void 0&&(u=t.initial),h===void 0&&(h=t.animate));let y=e?e.initial===!1:!1;y=y||u===!1;const v=y?h:u;if(v&&typeof v!="boolean"&&!np(v)){const E=Array.isArray(v)?v:[v];for(let I=0;I<E.length;I++){const N=D0(n,E[I]);if(N){const{transitionEnd:U,transition:L,...$}=N;for(const J in $){let j=$[J];if(Array.isArray(j)){const Y=y?j.length-1:0;j=j[Y]}j!==null&&(a[J]=j)}for(const J in U)a[J]=U[J]}}}return a}const MD=n=>(t,e)=>{const i=Z.useContext(sp),a=Z.useContext(ep),l=()=>o9(n,t,i,a);return e?l():h0(l)},u9=MD({scrapeMotionValuesFromProps:U0,createRenderState:z0}),c9=MD({scrapeMotionValuesFromProps:dD,createRenderState:VD}),h9=Symbol.for("motionComponentSymbol");function f9(n,t,e){const i=Z.useRef(e);Z.useInsertionEffect(()=>{i.current=e});const a=Z.useRef(null);return Z.useCallback(l=>{l&&n.onMount?.(l),t&&(l?t.mount(l):t.unmount());const u=i.current;if(typeof u=="function")if(l){const h=u(l);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[t])}const ND=Z.createContext({});function Ic(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function d9(n,t,e,i,a,l){const{visualElement:u}=Z.useContext(sp),h=Z.useContext(RD),d=Z.useContext(ep),p=Z.useContext(B0).reducedMotion,y=Z.useRef(null),v=Z.useRef(!1);i=i||h.renderer,!y.current&&i&&(y.current=i(n,{visualState:t,parent:u,props:e,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p,isSVG:l}),v.current&&y.current&&(y.current.manuallyAnimateOnMount=!0));const E=y.current,I=Z.useContext(ND);E&&!E.projection&&a&&(E.type==="html"||E.type==="svg")&&m9(y.current,e,a,I);const N=Z.useRef(!1);Z.useInsertionEffect(()=>{E&&N.current&&E.update(e,d)});const U=e[jC],L=Z.useRef(!!U&&!window.MotionHandoffIsComplete?.(U)&&window.MotionHasOptimisedAnimation?.(U));return sC(()=>{v.current=!0,E&&(N.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),E.scheduleRenderMicrotask(),L.current&&E.animationState&&E.animationState.animateChanges())}),Z.useEffect(()=>{E&&(!L.current&&E.animationState&&E.animationState.animateChanges(),L.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(U)}),L.current=!1),E.enteringChildren=void 0)}),E}function m9(n,t,e,i){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:p,layoutCrossfade:y}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:PD(n.parent)),n.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&Ic(h),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:d,layoutRoot:p})}function PD(n){if(n)return n.options.allowProjection!==!1?n.projection:PD(n.parent)}function Uy(n,{forwardMotionProps:t=!1,type:e}={},i,a){i&&QU(i);const l=e?e==="svg":j0(n),u=l?c9:u9;function h(p,y){let v;const E={...Z.useContext(B0),...p,layoutId:p9(p)},{isStatic:I}=E,N=t9(p),U=u(p,I);if(!I&&iC){g9();const L=y9(E);v=L.MeasureLayout,N.visualElement=d9(n,U,E,a,L.ProjectionNode,l)}return B.jsxs(sp.Provider,{value:N,children:[v&&N.visualElement?B.jsx(v,{visualElement:N.visualElement,...E}):null,a9(n,p,f9(U,N.visualElement,y),U,I,t,l)]})}h.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const d=Z.forwardRef(h);return d[h9]=n,d}function p9({layoutId:n}){const t=Z.useContext(c0).id;return t&&n!==void 0?t+"-"+n:n}function g9(n,t){Z.useContext(RD).strict}function y9(n){const t=xD(),{drag:e,layout:i}=t;if(!e&&!i)return{};const a={...e,...i};return{MeasureLayout:e?.isEnabled(n)||i?.isEnabled(n)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function _9(n,t){if(typeof Proxy>"u")return Uy;const e=new Map,i=(l,u)=>Uy(l,u,n,t),a=(l,u)=>i(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?i:(e.has(u)||e.set(u,Uy(u,void 0,n,t)),e.get(u))})}const v9=(n,t)=>t.isSVG??j0(n)?new W6(t):new G6(t,{allowProjection:n!==Z.Fragment});class T9 extends ra{constructor(t){super(t),t.animationState||(t.animationState=nU(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();np(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let E9=0;class b9 extends ra{constructor(){super(...arguments),this.id=E9++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t);e&&!t&&a.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const S9={animation:{Feature:T9},exit:{Feature:b9}};function Mh(n){return{point:{x:n.pageX,y:n.pageY}}}const A9=n=>t=>P0(t)&&n(t,Mh(t));function jc(n,t,e,i){return hh(n,t,A9(e),i)}const OD=({current:n})=>n?n.ownerDocument.defaultView:null,S1=(n,t)=>Math.abs(n-t);function w9(n,t){const e=S1(n.x,t.x),i=S1(n.y,t.y);return Math.sqrt(e**2+i**2)}const A1=new Set(["auto","scroll"]);class kD{constructor(t,e,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=I=>{this.handleScroll(I.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=zy(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,U=w9(I.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!U)return;const{point:L}=I,{timestamp:$}=ln;this.history.push({...L,timestamp:$});const{onStart:J,onMove:j}=this.handlers;N||(J&&J(this.lastMoveEvent,I),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,I)},this.handlePointerMove=(I,N)=>{this.lastMoveEvent=I,this.lastMoveEventInfo=By(N,this.transformPagePoint),he.update(this.updatePoint,!0)},this.handlePointerUp=(I,N)=>{this.end();const{onEnd:U,onSessionEnd:L,resumeAnimation:$}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&$&&$(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const J=zy(I.type==="pointercancel"?this.lastMoveEventInfo:By(N,this.transformPagePoint),this.history);this.startEvent&&U&&U(I,J),L&&L(I,J)},!P0(t))return;this.dragSnapToOrigin=l,this.handlers=e,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const d=Mh(t),p=By(d,this.transformPagePoint),{point:y}=p,{timestamp:v}=ln;this.history=[{...y,timestamp:v}];const{onSessionStart:E}=e;E&&E(t,zy(p,this.history)),this.removeListeners=xh(jc(this.contextWindow,"pointermove",this.handlePointerMove),jc(this.contextWindow,"pointerup",this.handlePointerUp),jc(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(t){let e=t.parentElement;for(;e;){const i=getComputedStyle(e);(A1.has(i.overflowX)||A1.has(i.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const i=t===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},l={x:a.x-e.x,y:a.y-e.y};l.x===0&&l.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(t,a),he.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Zr(this.updatePoint)}}function By(n,t){return t?{point:t(n.point)}:n}function w1(n,t){return{x:n.x-t.x,y:n.y-t.y}}function zy({point:n},t){return{point:n,delta:w1(n,LD(t)),offset:w1(n,I9(t)),velocity:R9(t,.1)}}function I9(n){return n[0]}function LD(n){return n[n.length-1]}function R9(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const a=LD(n);for(;e>=0&&(i=n[e],!(a.timestamp-i.timestamp>Ns(t)));)e--;if(!i)return{x:0,y:0};const l=oi(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function x9(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?_e(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?_e(e,n,i.max):Math.min(n,e)),n}function I1(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function C9(n,{top:t,left:e,bottom:i,right:a}){return{x:I1(n.x,e,a),y:I1(n.y,t,i)}}function R1(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function D9(n,t){return{x:R1(n.x,t.x),y:R1(n.y,t.y)}}function V9(n,t){let e=.5;const i=En(n),a=En(t);return a>i?e=oh(t.min,t.max-i,n.min):i>a&&(e=oh(n.min,n.max-a,t.min)),os(0,1,e)}function M9(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const H_=.35;function N9(n=H_){return n===!1?n=0:n===!0&&(n=H_),{x:x1(n,"left","right"),y:x1(n,"top","bottom")}}function x1(n,t,e){return{min:C1(n,t),max:C1(n,e)}}function C1(n,t){return typeof n=="number"?n:n[t]||0}const P9=new WeakMap;class O9{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ge(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{e?(this.stopAnimation(),this.snapToCursor(Mh(v).point)):this.pauseAnimation()},u=(v,E)=>{this.stopAnimation();const{drag:I,dragPropagation:N,onDragStart:U}=this.getProps();if(I&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=b6(I),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ai($=>{let J=this.getAxisMotionValue($).get()||0;if(rs.test(J)){const{projection:j}=this.visualElement;if(j&&j.layout){const Y=j.layout.layoutBox[$];Y&&(J=En(Y)*(parseFloat(J)/100))}}this.originPoint[$]=J}),U&&he.postRender(()=>U(v,E)),k_(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},h=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E;const{dragPropagation:I,dragDirectionLock:N,onDirectionLock:U,onDrag:L}=this.getProps();if(!I&&!this.openDragLock)return;const{offset:$}=E;if(N&&this.currentDirection===null){this.currentDirection=k9($),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",E.point,$),this.updateAxis("y",E.point,$),this.visualElement.render(),L&&L(v,E)},d=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E,this.stop(v,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ai(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new kD(t,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:OD(this.visualElement),element:this.visualElement.current})}stop(t,e){const i=t||this.latestPointerEvent,a=e||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&he.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,e,i){const{drag:a}=this.getProps();if(!i||!Ed(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let u=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(u=x9(u,this.constraints[t],this.elastic[t])),l.set(u)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Ic(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=C9(i.layoutBox,t):this.constraints=!1,this.elastic=N9(e),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ai(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=M9(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Ic(t))return!1;const i=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=B6(i,a.root,this.visualElement.getTransformPagePoint());let u=D9(a.layout.layoutBox,l);if(e){const h=e(k6(u));this.hasMutatedConstraints=!!h,h&&(u=sD(h))}return u}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=ai(y=>{if(!Ed(y,e,this.currentDirection))return;let v=d&&d[y]||{};u&&(v={min:0,max:0});const E=a?200:1e6,I=a?40:1e7,N={type:"inertia",velocity:i?t[y]:0,bounceStiffness:E,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,N)});return Promise.all(p).then(h)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return k_(this.visualElement,t),i.start(C0(t,i,0,e,this.visualElement,!1))}stopAnimation(){ai(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ai(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),a=i[e];return a||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){ai(e=>{const{drag:i}=this.getProps();if(!Ed(e,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(e);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[e],d=l.get()||0;l.set(t[e]-_e(u,h,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!Ic(e)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ai(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();a[u]=V9({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ai(u=>{if(!Ed(u,t,null))return;const h=this.getAxisMotionValue(u),{min:d,max:p}=this.constraints[u];h.set(_e(d,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;P9.set(this.visualElement,this);const t=this.visualElement.current,e=jc(t,"pointerdown",d=>{const{drag:p,dragListener:y=!0}=this.getProps(),v=d.target,E=v!==t&&JC(v);p&&y&&!E&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();Ic(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),he.read(i);const u=hh(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(ai(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=d[y].translate,v.set(v.get()+d[y].translate))}),this.visualElement.render())}));return()=>{u(),e(),l(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=H_,dragMomentum:h=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function Ed(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function k9(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class L9 extends ra{constructor(t){super(t),this.removeGroupControls=li,this.removeListeners=li,this.controls=new O9(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||li}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const D1=n=>(t,e)=>{n&&he.postRender(()=>n(t,e))};class U9 extends ra{constructor(){super(...arguments),this.removePointerDownListener=li}onPointerDown(t){this.session=new kD(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:OD(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:D1(t),onStart:D1(e),onMove:i,onEnd:(l,u)=>{delete this.session,a&&he.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=jc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let jy=!1;class B9 extends Z.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=t;l&&(e.group&&e.group.add(l),i&&i.register&&a&&i.register(l),jy&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Fd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:a,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,t.layoutDependency!==e&&u.setOptions({...u.options,layoutDependency:e}),jy=!0,a||t.layoutDependency!==e||e===void 0||t.isPresent!==l?u.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?u.promote():u.relegate()||he.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),N0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:a}=t;jy=!0,a&&(a.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function UD(n){const[t,e]=ID(),i=Z.useContext(c0);return B.jsx(B9,{...n,layoutGroup:i,switchLayoutGroup:Z.useContext(ND),isPresent:t,safeToRemove:e})}const z9={pan:{Feature:U9},drag:{Feature:L9,ProjectionNode:wD,MeasureLayout:UD}};function V1(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const a="onHover"+e,l=i[a];l&&he.postRender(()=>l(t,Mh(t)))}class j9 extends ra{mount(){const{current:t}=this.node;t&&(this.unmount=S6(t,(e,i)=>(V1(this.node,i,"Start"),a=>V1(this.node,a,"End"))))}unmount(){}}class F9 extends ra{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xh(hh(this.node.current,"focus",()=>this.onFocus()),hh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function M1(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const a="onTap"+(e==="End"?"":e),l=i[a];l&&he.postRender(()=>l(t,Mh(t)))}class q9 extends ra{mount(){const{current:t}=this.node;t&&(this.unmount=I6(t,(e,i)=>(M1(this.node,i,"Start"),(a,{success:l})=>M1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const G_=new WeakMap,Fy=new WeakMap,H9=n=>{const t=G_.get(n.target);t&&t(n)},G9=n=>{n.forEach(H9)};function K9({root:n,...t}){const e=n||document;Fy.has(e)||Fy.set(e,{});const i=Fy.get(e),a=JSON.stringify(t);return i[a]||(i[a]=new IntersectionObserver(G9,{root:n,...t})),i[a]}function $9(n,t,e){const i=K9(t);return G_.set(n,e),i.observe(n),()=>{G_.delete(n),i.unobserve(n)}}const Y9={some:0,all:1};class Q9 extends ra{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:a="some",once:l}=t,u={root:e?e.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:Y9[a]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),E=p?y:v;E&&E(d)};return $9(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(X9(t,e))&&this.startObserver()}unmount(){}}function X9({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const W9={inView:{Feature:Q9},tap:{Feature:q9},focus:{Feature:F9},hover:{Feature:j9}},J9={layout:{ProjectionNode:wD,MeasureLayout:UD}},Z9={...S9,...W9,...z9,...J9},Dn=_9(Z9,v9),N1=["...","...","...","...","..."],K_=()=>{const[n,t]=Z.useState(0),[e,i]=Z.useState(0);return Z.useEffect(()=>{const a=setInterval(()=>{t(u=>{if(u>=95)return u+.1>99?99:u+.1;const h=(100-u)/20;return u+h})},200),l=setInterval(()=>{i(u=>(u+1)%N1.length)},2e3);return()=>{clearInterval(a),clearInterval(l)}},[]),B.jsxs(Dn.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.8},style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)",zIndex:9999,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:[B.jsx("div",{className:"loading-bg-orb",style:{position:"absolute",width:"60vw",height:"60vw",background:"radial-gradient(circle, rgba(99, 102, 241, 0.15) 0%, transparent 70%)",filter:"blur(60px)",zIndex:-1,animation:"floating 10s ease-in-out infinite"}}),B.jsxs(Dn.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"glass-card",style:{width:"min(90%, 400px)",padding:"40px",textAlign:"center",background:"rgba(255, 255, 255, 0.8)",border:"1px solid rgba(255, 255, 255, 0.4)",boxShadow:"0 20px 50px rgba(0,0,0,0.1)"},children:[B.jsxs("div",{style:{marginBottom:"25px"},children:[B.jsx("img",{src:"./SDGs.png",alt:"Soka",style:{width:"60px",height:"60px",marginBottom:"15px"}}),B.jsx("h2",{style:{margin:0,fontSize:"1.5rem",background:"linear-gradient(135deg, #4f46e5 0%, #9333ea 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:800},children:"Soka Education EXPO"})]}),B.jsx("div",{style:{height:"24px",marginBottom:"20px"},children:B.jsx(Vh,{mode:"wait",children:B.jsx(Dn.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},style:{margin:0,color:"#64748b",fontSize:"0.95rem",fontWeight:500},children:N1[e]},e)})}),B.jsx("div",{style:{width:"100%",height:"8px",background:"#f1f5f9",borderRadius:"10px",overflow:"hidden",marginBottom:"10px"},children:B.jsx(Dn.div,{style:{height:"100%",background:"linear-gradient(90deg, #6366f1, #8b5cf6, #db2777)",width:`${n}%`},transition:{type:"spring",stiffness:50,damping:20}})}),B.jsxs("div",{style:{textAlign:"right",color:"#94a3b8",fontSize:"0.8rem",fontVariantNumeric:"tabular-nums"},children:[Math.round(n),"%"]})]}),B.jsx("style",{children:`
        @keyframes floating {
          0% { transform: translate(-10%, -10%) scale(1); }
          50% { transform: translate(10%, 10%) scale(1.1); }
          100% { transform: translate(-10%, -10%) scale(1); }
        }
      `})]})},tB=({children:n})=>{const[t,e]=Z.useState(null),[i,a]=Z.useState(!0);return Z.useEffect(()=>{const l=oP(ym,u=>{e(u),a(!1),u||eP(ym).catch(h=>{console.error("Auth Error:",h)})});return()=>l()},[]),i?B.jsx(K_,{}):t?B.jsx(B.Fragment,{children:n}):B.jsx("div",{className:"error",children:"Authenticating..."})},BD=Z.createContext(void 0),eB=({children:n})=>{const[t,e]=Z.useState({selectedA:null,selectedB:null,selectedC:null,selectedD:null}),[i,a]=Z.useState(!1),l=d=>d==="soka2026"||d==="admin"?(a(!0),!0):!1,u=(d,p)=>{e(y=>{const v={...y};return p==="C"?{selectedA:null,selectedB:null,selectedC:d,selectedD:null}:p==="D"?{selectedA:null,selectedB:null,selectedC:null,selectedD:d}:((p==="A"||p==="B")&&(v.selectedC=null,v.selectedD=null,p==="A"&&(v.selectedA=d),p==="B"&&(v.selectedB=d)),v)})},h=!!t.selectedC||!!t.selectedD||!!t.selectedA&&!!t.selectedB;return B.jsx(BD.Provider,{value:{selection:t,selectSession:u,isValid:h,isAdmin:i,login:l},children:n})},F0=()=>{const n=Z.useContext(BD);if(!n)throw new Error("useBooking must be used within BookingProvider");return n};let nB={data:""},iB=n=>{if(typeof window=="object"){let t=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(n||document.head).appendChild(t),t.firstChild}return n||nB},sB=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,rB=/\/\*[^]*?\*\/|  +/g,P1=/\n+/g,Pr=(n,t)=>{let e="",i="",a="";for(let l in n){let u=n[l];l[0]=="@"?l[1]=="i"?e=l+" "+u+";":i+=l[1]=="f"?Pr(u,l):l+"{"+Pr(u,l[1]=="k"?"":t)+"}":typeof u=="object"?i+=Pr(u,t?t.replace(/([^,])+/g,h=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,h):h?h+" "+d:d)):l):u!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Pr.p?Pr.p(l,u):l+":"+u+";")}return e+(t&&a?t+"{"+a+"}":a)+i},Rs={},zD=n=>{if(typeof n=="object"){let t="";for(let e in n)t+=e+zD(n[e]);return t}return n},aB=(n,t,e,i,a)=>{let l=zD(n),u=Rs[l]||(Rs[l]=(d=>{let p=0,y=11;for(;p<d.length;)y=101*y+d.charCodeAt(p++)>>>0;return"go"+y})(l));if(!Rs[u]){let d=l!==n?n:(p=>{let y,v,E=[{}];for(;y=sB.exec(p.replace(rB,""));)y[4]?E.shift():y[3]?(v=y[3].replace(P1," ").trim(),E.unshift(E[0][v]=E[0][v]||{})):E[0][y[1]]=y[2].replace(P1," ").trim();return E[0]})(n);Rs[u]=Pr(a?{["@keyframes "+u]:d}:d,e?"":"."+u)}let h=e&&Rs.g?Rs.g:null;return e&&(Rs.g=Rs[u]),((d,p,y,v)=>{v?p.data=p.data.replace(v,d):p.data.indexOf(d)===-1&&(p.data=y?d+p.data:p.data+d)})(Rs[u],t,i,h),u},oB=(n,t,e)=>n.reduce((i,a,l)=>{let u=t[l];if(u&&u.call){let h=u(e),d=h&&h.props&&h.props.className||/^go/.test(h)&&h;u=d?"."+d:h&&typeof h=="object"?h.props?"":Pr(h,""):h===!1?"":h}return i+a+(u??"")},"");function rp(n){let t=this||{},e=n.call?n(t.p):n;return aB(e.unshift?e.raw?oB(e,[].slice.call(arguments,1),t.p):e.reduce((i,a)=>Object.assign(i,a&&a.call?a(t.p):a),{}):e,iB(t.target),t.g,t.o,t.k)}let jD,$_,Y_;rp.bind({g:1});let zs=rp.bind({k:1});function lB(n,t,e,i){Pr.p=t,jD=n,$_=e,Y_=i}function aa(n,t){let e=this||{};return function(){let i=arguments;function a(l,u){let h=Object.assign({},l),d=h.className||a.className;e.p=Object.assign({theme:$_&&$_()},h),e.o=/ *go\d+/.test(d),h.className=rp.apply(e,i)+(d?" "+d:"");let p=n;return n[0]&&(p=h.as||n,delete h.as),Y_&&p[0]&&Y_(h),jD(p,h)}return a}}var uB=n=>typeof n=="function",wm=(n,t)=>uB(n)?n(t):n,cB=(()=>{let n=0;return()=>(++n).toString()})(),FD=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");n=!t||t.matches}return n}})(),hB=20,q0="default",qD=(n,t)=>{let{toastLimit:e}=n.settings;switch(t.type){case 0:return{...n,toasts:[t.toast,...n.toasts].slice(0,e)};case 1:return{...n,toasts:n.toasts.map(u=>u.id===t.toast.id?{...u,...t.toast}:u)};case 2:let{toast:i}=t;return qD(n,{type:n.toasts.find(u=>u.id===i.id)?1:0,toast:i});case 3:let{toastId:a}=t;return{...n,toasts:n.toasts.map(u=>u.id===a||a===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return t.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(u=>u.id!==t.toastId)};case 5:return{...n,pausedAt:t.time};case 6:let l=t.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+l}))}}},qd=[],HD={toasts:[],pausedAt:void 0,settings:{toastLimit:hB}},ts={},GD=(n,t=q0)=>{ts[t]=qD(ts[t]||HD,n),qd.forEach(([e,i])=>{e===t&&i(ts[t])})},KD=n=>Object.keys(ts).forEach(t=>GD(n,t)),fB=n=>Object.keys(ts).find(t=>ts[t].toasts.some(e=>e.id===n)),ap=(n=q0)=>t=>{GD(t,n)},dB={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},mB=(n={},t=q0)=>{let[e,i]=Z.useState(ts[t]||HD),a=Z.useRef(ts[t]);Z.useEffect(()=>(a.current!==ts[t]&&i(ts[t]),qd.push([t,i]),()=>{let u=qd.findIndex(([h])=>h===t);u>-1&&qd.splice(u,1)}),[t]);let l=e.toasts.map(u=>{var h,d,p;return{...n,...n[u.type],...u,removeDelay:u.removeDelay||((h=n[u.type])==null?void 0:h.removeDelay)||n?.removeDelay,duration:u.duration||((d=n[u.type])==null?void 0:d.duration)||n?.duration||dB[u.type],style:{...n.style,...(p=n[u.type])==null?void 0:p.style,...u.style}}});return{...e,toasts:l}},pB=(n,t="blank",e)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...e,id:e?.id||cB()}),Nh=n=>(t,e)=>{let i=pB(t,n,e);return ap(i.toasterId||fB(i.id))({type:2,toast:i}),i.id},Ke=(n,t)=>Nh("blank")(n,t);Ke.error=Nh("error");Ke.success=Nh("success");Ke.loading=Nh("loading");Ke.custom=Nh("custom");Ke.dismiss=(n,t)=>{let e={type:3,toastId:n};t?ap(t)(e):KD(e)};Ke.dismissAll=n=>Ke.dismiss(void 0,n);Ke.remove=(n,t)=>{let e={type:4,toastId:n};t?ap(t)(e):KD(e)};Ke.removeAll=n=>Ke.remove(void 0,n);Ke.promise=(n,t,e)=>{let i=Ke.loading(t.loading,{...e,...e?.loading});return typeof n=="function"&&(n=n()),n.then(a=>{let l=t.success?wm(t.success,a):void 0;return l?Ke.success(l,{id:i,...e,...e?.success}):Ke.dismiss(i),a}).catch(a=>{let l=t.error?wm(t.error,a):void 0;l?Ke.error(l,{id:i,...e,...e?.error}):Ke.dismiss(i)}),n};var gB=1e3,yB=(n,t="default")=>{let{toasts:e,pausedAt:i}=mB(n,t),a=Z.useRef(new Map).current,l=Z.useCallback((v,E=gB)=>{if(a.has(v))return;let I=setTimeout(()=>{a.delete(v),u({type:4,toastId:v})},E);a.set(v,I)},[]);Z.useEffect(()=>{if(i)return;let v=Date.now(),E=e.map(I=>{if(I.duration===1/0)return;let N=(I.duration||0)+I.pauseDuration-(v-I.createdAt);if(N<0){I.visible&&Ke.dismiss(I.id);return}return setTimeout(()=>Ke.dismiss(I.id,t),N)});return()=>{E.forEach(I=>I&&clearTimeout(I))}},[e,i,t]);let u=Z.useCallback(ap(t),[t]),h=Z.useCallback(()=>{u({type:5,time:Date.now()})},[u]),d=Z.useCallback((v,E)=>{u({type:1,toast:{id:v,height:E}})},[u]),p=Z.useCallback(()=>{i&&u({type:6,time:Date.now()})},[i,u]),y=Z.useCallback((v,E)=>{let{reverseOrder:I=!1,gutter:N=8,defaultPosition:U}=E||{},L=e.filter(j=>(j.position||U)===(v.position||U)&&j.height),$=L.findIndex(j=>j.id===v.id),J=L.filter((j,Y)=>Y<$&&j.visible).length;return L.filter(j=>j.visible).slice(...I?[J+1]:[0,J]).reduce((j,Y)=>j+(Y.height||0)+N,0)},[e]);return Z.useEffect(()=>{e.forEach(v=>{if(v.dismissed)l(v.id,v.removeDelay);else{let E=a.get(v.id);E&&(clearTimeout(E),a.delete(v.id))}})},[e,l]),{toasts:e,handlers:{updateHeight:d,startPause:h,endPause:p,calculateOffset:y}}},_B=zs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,vB=zs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,TB=zs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,EB=aa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_B} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${vB} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${TB} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,bB=zs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,SB=aa("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${bB} 1s linear infinite;
`,AB=zs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,wB=zs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,IB=aa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${AB} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${wB} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,RB=aa("div")`
  position: absolute;
`,xB=aa("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,CB=zs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,DB=aa("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${CB} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,VB=({toast:n})=>{let{icon:t,type:e,iconTheme:i}=n;return t!==void 0?typeof t=="string"?Z.createElement(DB,null,t):t:e==="blank"?null:Z.createElement(xB,null,Z.createElement(SB,{...i}),e!=="loading"&&Z.createElement(RB,null,e==="error"?Z.createElement(EB,{...i}):Z.createElement(IB,{...i})))},MB=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,NB=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,PB="0%{opacity:0;} 100%{opacity:1;}",OB="0%{opacity:1;} 100%{opacity:0;}",kB=aa("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,LB=aa("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,UB=(n,t)=>{let e=n.includes("top")?1:-1,[i,a]=FD()?[PB,OB]:[MB(e),NB(e)];return{animation:t?`${zs(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${zs(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},BB=Z.memo(({toast:n,position:t,style:e,children:i})=>{let a=n.height?UB(n.position||t||"top-center",n.visible):{opacity:0},l=Z.createElement(VB,{toast:n}),u=Z.createElement(LB,{...n.ariaProps},wm(n.message,n));return Z.createElement(kB,{className:n.className,style:{...a,...e,...n.style}},typeof i=="function"?i({icon:l,message:u}):Z.createElement(Z.Fragment,null,l,u))});lB(Z.createElement);var zB=({id:n,className:t,style:e,onHeightUpdate:i,children:a})=>{let l=Z.useCallback(u=>{if(u){let h=()=>{let d=u.getBoundingClientRect().height;i(n,d)};h(),new MutationObserver(h).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[n,i]);return Z.createElement("div",{ref:l,className:t,style:e},a)},jB=(n,t)=>{let e=n.includes("top"),i=e?{top:0}:{bottom:0},a=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:FD()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(e?1:-1)}px)`,...i,...a}},FB=rp`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,bd=16,qB=({reverseOrder:n,position:t="top-center",toastOptions:e,gutter:i,children:a,toasterId:l,containerStyle:u,containerClassName:h})=>{let{toasts:d,handlers:p}=yB(e,l);return Z.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:bd,left:bd,right:bd,bottom:bd,pointerEvents:"none",...u},className:h,onMouseEnter:p.startPause,onMouseLeave:p.endPause},d.map(y=>{let v=y.position||t,E=p.calculateOffset(y,{reverseOrder:n,gutter:i,defaultPosition:t}),I=jB(v,E);return Z.createElement(zB,{id:y.id,key:y.id,onHeightUpdate:p.updateHeight,className:y.visible?FB:"",style:I},y.type==="custom"?wm(y.message,y):a?a(y):Z.createElement(BB,{toast:y,position:v}))}))},Fc=Ke;const $D=()=>{const[n,t]=Z.useState([]),[e,i]=Z.useState(!0);return Z.useEffect(()=>{const a=Zm(Wr(Cn,"slots"),tp("id")),l=Zx(a,u=>{const h=u.docs.map(d=>d.data());t(h),i(!1)},u=>{console.error("Error fetching real-time slots:",u),i(!1)});return()=>l()},[]),{slots:n,loading:e}},YD="admin_logs",Q_=async(n,t,e)=>{try{await g3(Wr(Cn,YD),{timestamp:Xx(),action:n,status:t,details:e,userAgent:navigator.userAgent})}catch(i){console.error("Failed to add admin log:",i)}},hz=async(n=20)=>{try{const t=Zm(Wr(Cn,YD),tp("timestamp","desc"),e3(n));return(await gm(t)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){return console.error("Failed to fetch admin logs:",t),[]}},HB=()=>{const n=async()=>{if(!confirm(`  

1. 
2. 

`))return;const e=y3(Cn);try{const i=Wr(Cn,"bookings");(await gm(i)).forEach(p=>{e.delete(p.ref)});const l=Wr(Cn,"slots");(await gm(l)).forEach(p=>{e.delete(p.ref)}),[{id:"2F_A",type:"A",location:"",title:"",description:"",capacity:50,booked:0,startTime:"20"},{id:"3F_A",type:"A",location:"",title:"*4 / *4",description:`



`,capacity:160,booked:0,startTime:"20"},{id:"5F_A",type:"A",location:"",title:" OPEN SPACE",description:"",capacity:120,booked:0,startTime:"20"},{id:"2F_B",type:"B",location:"",title:"",description:"",capacity:50,booked:0,startTime:"20"},{id:"3F_B",type:"B",location:"",title:"*4 / *4",description:`



`,capacity:160,booked:0,startTime:"20"},{id:"5F_B",type:"B",location:"",title:" OPEN SPACE",description:"",capacity:120,booked:0,startTime:"20"},{id:"6F_C",type:"C",location:"",title:"",description:" SEL ",capacity:70,booked:0,startTime:"40"},{id:"6F_D",type:"D",location:"",title:"",description:"",capacity:70,booked:0,startTime:"40"}].forEach(p=>{const y=Kl(Cn,"slots",p.id);e.set(y,{...p,endTime:""})});const d=Kl(Cn,"system","config");e.set(d,{lastReset:new Date().toISOString()}),await e.commit(),await Q_("SEED_DATA","SUCCESS",""),alert(""),window.location.reload()}catch(i){console.error(i),alert(" Error seeding data")}};return B.jsx("button",{onClick:n,className:"btn-primary",style:{margin:"20px auto",display:"block"},children:" (Initialize DB)"})};var GB=O1();const KB=({isOpen:n,onConfirm:t,onCancel:e,title:i="",message:a=""})=>GB.createPortal(B.jsx(Vh,{children:n&&B.jsx(Dn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(31, 41, 55, 0.7)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(12px)",padding:"20px"},onClick:l=>{l.target===l.currentTarget&&e()},children:B.jsxs(Dn.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"glass-card",style:{maxWidth:"400px",width:"100%",padding:"32px",textAlign:"center",border:"1px solid rgba(255,255,255,0.5)",background:"rgba(255,255,255,0.85)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",maxHeight:"90vh",overflowY:"auto"},children:[B.jsx("div",{style:{fontSize:"4rem",marginBottom:"16px",filter:"drop-shadow(0 4px 6px rgba(0,0,0,0.1))",animation:"bounce 1s infinite"},children:""}),B.jsx("h3",{style:{justifyContent:"center",fontSize:"1.75rem",marginBottom:"12px",background:"linear-gradient(135deg, #b91c1c 0%, #ef4444 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:800},children:i}),B.jsx("p",{style:{color:"#4b5563",marginBottom:"32px",lineHeight:"1.6",fontSize:"1.1rem"},children:a}),B.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[B.jsx("button",{onClick:e,className:"btn-secondary",style:{padding:"16px",fontSize:"1.1rem",background:"#f3f4f6",border:"1px solid #e5e7eb",color:"#374151"},children:""}),B.jsx("button",{onClick:t,className:"btn-primary",style:{padding:"16px",fontSize:"1.1rem",background:"linear-gradient(135deg, #dc2626 0%, #ef4444 100%)",boxShadow:"0 4px 12px rgba(220, 38, 38, 0.3)"},children:""})]})]})})}),document.body),$B=xs.createContext({}),QD=!0;function YB({baseColor:n,highlightColor:t,width:e,height:i,borderRadius:a,circle:l,direction:u,duration:h,enableAnimation:d=QD,customHighlightBackground:p}){const y={};return u==="rtl"&&(y["--animation-direction"]="reverse"),typeof h=="number"&&(y["--animation-duration"]=`${h}s`),d||(y["--pseudo-element-display"]="none"),(typeof e=="string"||typeof e=="number")&&(y.width=e),(typeof i=="string"||typeof i=="number")&&(y.height=i),(typeof a=="string"||typeof a=="number")&&(y.borderRadius=a),l&&(y.borderRadius="50%"),typeof n<"u"&&(y["--base-color"]=n),typeof t<"u"&&(y["--highlight-color"]=t),typeof p=="string"&&(y["--custom-highlight-background"]=p),y}function za({count:n=1,wrapper:t,className:e,containerClassName:i,containerTestId:a,circle:l=!1,style:u,...h}){var d,p,y;const v=xs.useContext($B),E={...h};for(const[j,Y]of Object.entries(h))typeof Y>"u"&&delete E[j];const I={...v,...E,circle:l},N={...u,...YB(I)};let U="react-loading-skeleton";e&&(U+=` ${e}`);const L=(d=I.inline)!==null&&d!==void 0?d:!1,$=[],J=Math.ceil(n);for(let j=0;j<J;j++){let Y=N;if(J>n&&j===J-1){const at=(p=Y.width)!==null&&p!==void 0?p:"100%",R=n%1,A=typeof at=="number"?at*R:`calc(${at} * ${R})`;Y={...Y,width:A}}const rt=xs.createElement("span",{className:U,style:Y,key:j},"");L?$.push(rt):$.push(xs.createElement(xs.Fragment,{key:j},rt,xs.createElement("br",null)))}return xs.createElement("span",{className:i,"data-testid":a,"aria-live":"polite","aria-busy":(y=I.enableAnimation)!==null&&y!==void 0?y:QD},t?$.map((j,Y)=>xs.createElement(t,{key:Y},j)):$)}const QB=()=>B.jsxs(Dn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"slot-card",style:{background:"#fff",border:"1px solid #e2e8f0",cursor:"default",display:"flex",flexDirection:"column"},children:[B.jsx("div",{style:{marginBottom:"8px"},children:B.jsx(za,{height:24,width:"80%"})}),B.jsx("div",{style:{marginBottom:"12px"},children:B.jsx(za,{width:"40%",height:16})}),B.jsx("div",{style:{marginBottom:"auto"},children:B.jsx(za,{count:2})}),B.jsxs("div",{style:{marginTop:"20px"},children:[B.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"12px"},children:[B.jsx(za,{width:80,height:20}),B.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"4px"},children:[B.jsx(za,{width:60,height:20,style:{borderRadius:"12px"}}),B.jsx(za,{width:80,height:24})]})]}),B.jsx(za,{height:8,borderRadius:4})]})]}),XB=({disabled:n=!1,bookedSlotIds:t})=>{const{slots:e,loading:i}=$D(),{selection:a,selectSession:l,isAdmin:u}=F0(),[h,d]=Z.useState(null),[p,y]=Z.useState(!1),v=Z.useRef(null);Z.useEffect(()=>{const{selectedA:L,selectedB:$}=a;if(!L||!$)return;const J=`${L}-${$}`;if(v.current===J)return;const j=L.split("_")[0],Y=$.split("_")[0];j==="3F"&&Y==="3F"&&(Fc(rt=>B.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",padding:"4px"},children:[B.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:800,color:"#334155",display:"flex",alignItems:"center",gap:"8px"},children:[B.jsx("span",{style:{fontSize:"1.6rem"},children:""}),""]}),B.jsxs("div",{style:{textAlign:"center",lineHeight:"1.6",fontSize:"1.05rem",color:"#475569",fontWeight:500},children:["",B.jsx("br",{}),"",B.jsx("br",{}),"3F ",B.jsx("br",{}),""]}),B.jsx("button",{onClick:()=>Fc.dismiss(rt.id),style:{marginTop:"4px",padding:"8px 24px",background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white",border:"none",borderRadius:"50px",fontWeight:600,fontSize:"0.95rem",cursor:"pointer",boxShadow:"0 4px 12px rgba(37, 99, 235, 0.2)",transition:"transform 0.1s"},onMouseDown:at=>at.currentTarget.style.transform="scale(0.95)",onMouseUp:at=>at.currentTarget.style.transform="scale(1)",children:""})]}),{id:J,duration:1/0,position:"top-center",style:{borderRadius:"24px",background:"rgba(255, 255, 255, 1)",border:"2px solid #3b82f6",padding:"20px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",maxWidth:"90vw",width:"360px",zIndex:9999}}),v.current=J)},[a.selectedA,a.selectedB]);const E=(L,$)=>{if(n)return;const J=!!a.selectedA||!!a.selectedB,j=!!a.selectedC,Y=!!a.selectedD;let rt=!1;J?($==="C"||$==="D")&&(rt=!0):j?["A","B","D"].includes($)&&(rt=!0):Y&&["A","B","C"].includes($)&&(rt=!0),rt?(d({id:L,type:$}),y(!0)):l(L,$)},I=()=>{h&&(l(h.id,h.type),d(null),y(!1))};if(i){const L=($,J)=>B.jsxs("div",{className:"section-container",children:[B.jsx("h3",{children:$}),B.jsx("div",{className:"slot-grid",children:Array.from({length:J}).map((j,Y)=>B.jsx(QB,{},Y))})]});return B.jsxs("div",{className:"selection-container",children:[B.jsxs("div",{className:"combo-row",children:[L(" (A)",2),L(" (B)",1)]}),B.jsx("div",{className:"sc-divider",children:"OR"}),B.jsxs("div",{className:"combo-row",children:[L(" (C)",2),L(" (D)",1)]})]})}const N=e.filter(L=>!!L.title);if(N.length===0)return B.jsxs(Dn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"empty-state",style:{textAlign:"center",padding:"40px",color:"#64748b"},children:[B.jsx("div",{style:{fontSize:"3rem",marginBottom:"20px"},children:""}),B.jsx("p",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:""}),B.jsx("p",{children:"No active sessions found."}),u?B.jsxs("div",{style:{marginTop:"20px"},children:[B.jsx("p",{style:{color:"#ef4444",marginBottom:"10px"},children:" "}),B.jsx(HB,{})]}):B.jsxs("p",{style:{marginTop:"20px",fontSize:"0.9rem",opacity:.7},children:["",B.jsx("br",{}),"Please contact the administrator to initialize the system."]})]});const U=(L,$,J)=>{const j=N.filter(Y=>$.includes(Y.type));return B.jsxs("div",{className:"section-container",children:[B.jsxs("h3",{children:[L," ",B.jsx("span",{style:{fontSize:"0.8em",fontWeight:"normal",marginLeft:"10px",opacity:.7},children:J})]}),B.jsx("div",{className:"slot-grid",children:B.jsx(Vh,{children:j.map(Y=>{const rt=t?t.includes(Y.id):a.selectedA===Y.id||a.selectedB===Y.id||a.selectedC===Y.id||a.selectedD===Y.id;let at=!1,R=!1;if(!t){a.selectedC&&a.selectedC!==Y.id&&(["A","B","D"].includes(Y.type)&&(at=!0),Y.type==="C"&&(at=!0)),a.selectedD&&a.selectedD!==Y.id&&(["A","B","C"].includes(Y.type)&&(at=!0),Y.type==="D"&&(at=!0)),(a.selectedA||a.selectedB)&&(Y.type==="C"||Y.type==="D")&&(at=!0);const[Xt,tt]=Y.id.split("_");if(Xt==="2F"||Xt==="5F"){const mt=(tt==="A"?"B":"A")==="A"?a.selectedA:a.selectedB;mt&&mt.startsWith(`${Xt}_`)&&(R=!0)}}const A=Y.booked>=Y.capacity,x=at||R,M=Y.capacity-Y.booked,V=Y.booked/Y.capacity*100;let k="#10b981",C="",Gt="";return M===0?(k="#64748b",C="",Gt=""):M<=20?(k="#ef4444",C="",Gt=""):V>=70&&(k="#f59e0b",C="",Gt=""),B.jsxs(Dn.div,{layoutId:Y.id,initial:{opacity:0,scale:.9},animate:{opacity:(n||x)&&!rt?.4:1,scale:rt?1.02:1,filter:(A||x)&&!rt||n&&!rt?"grayscale(100%)":"none"},whileHover:!A&&!x&&!n?{y:-5,boxShadow:"0 10px 20px rgba(0,0,0,0.1)"}:{},whileTap:!A&&!x&&!n?{scale:.98}:{},onClick:()=>!A&&!n&&!R&&E(Y.id,Y.type),role:"button","aria-disabled":n||R||A,"aria-label":`${Y.title}, : ${Y.location}, : ${M}`,tabIndex:n||R||A?-1:0,onKeyDown:Xt=>{(Xt.key==="Enter"||Xt.key===" ")&&!A&&!n&&!R&&(Xt.preventDefault(),E(Y.id,Y.type))},className:`slot-card type-${Y.type} ${rt?"selected":""} ${A?"full":""}`,style:n||R?{cursor:"default",pointerEvents:R?"none":"auto",border:rt?void 0:"1px solid transparent",background:rt?void 0:"#f1f5f9",boxShadow:rt?"0 4px 12px rgba(0,0,0,0.1)":"none",transform:rt?"scale(1.02)":"none"}:{},children:[rt&&B.jsx(Dn.div,{initial:{scale:0},animate:{scale:1},className:"check-mark",style:{background:n?"#10b981":void 0},children:""}),A&&B.jsx("div",{className:"sold-out-overlay-text",children:"SOLD OUT"}),B.jsx("span",{className:"slot-name",children:Y.title}),B.jsxs("div",{className:"slot-location",children:[" ",Y.location]}),B.jsx("p",{className:"slot-description",children:Y.description}),B.jsxs("div",{className:"slot-footer",style:{flexDirection:"column",alignItems:"stretch",gap:"12px"},children:[B.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[B.jsxs("span",{className:"slot-time",children:[" ",Y.startTime]}),B.jsx("div",{style:{textAlign:"right"},children:B.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"2px"},children:[B.jsxs("span",{style:{fontSize:"0.8rem",fontWeight:700,color:k,background:`${k}15`,padding:"2px 8px",borderRadius:"12px",marginBottom:"2px"},children:[Gt," ",C]}),B.jsxs("span",{style:{fontSize:"1.2rem",fontWeight:800,color:"#334155"},children:[" ",B.jsx("span",{style:{color:k,fontSize:"1.4rem"},children:M})," "]})]})})]}),B.jsx("div",{style:{width:"100%",height:"8px",background:"#e2e8f0",borderRadius:"4px",overflow:"hidden"},children:B.jsx(Dn.div,{initial:{width:0},animate:{width:`${Y.booked/Y.capacity*100}%`},transition:{duration:1,ease:"easeOut"},style:{height:"100%",background:k,borderRadius:"4px"}})})]})]},Y.id)})})})]})};return B.jsxs(Dn.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"selection-container",children:[B.jsxs("div",{className:"combo-row",children:[U(" (A)",["A"]," B"),U(" (B)",["B"]," A")]}),B.jsx("div",{className:"sc-divider",children:"OR"}),B.jsxs("div",{className:"combo-row",children:[U(" (C)",["C"]," 40 "),U(" (D)",["D"]," 40 ")]}),B.jsx(KB,{isOpen:p,onConfirm:I,onCancel:()=>y(!1)})]})},WB=({onSubmit:n,onCancel:t,loading:e})=>{const[i,a]=Z.useState({name:"",studentId:""}),l=u=>{u.preventDefault(),n(i)};return B.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(31, 41, 55, 0.4)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(12px)",padding:"20px"},children:B.jsxs("div",{className:"glass-card",style:{maxWidth:"450px",width:"100%",padding:"32px",background:"rgba(255,255,255,0.9)",boxShadow:"0 20px 60px -10px rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.8)"},children:[B.jsx("h2",{style:{textAlign:"left",marginBottom:"24px",fontSize:"1.8rem",background:"linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:800},children:B.jsx("span",{style:{borderLeft:"6px solid #6366f1",paddingLeft:"16px",display:"block",lineHeight:"1.2"},children:""})}),B.jsxs("form",{onSubmit:l,style:{display:"flex",flexDirection:"column",gap:"24px"},children:[B.jsxs("div",{children:[B.jsx("label",{className:"slot-name",style:{fontSize:"1.1rem",marginBottom:"10px",display:"block",color:"#374151"},children:"  Name"}),B.jsx("input",{required:!0,type:"text",placeholder:" / Your Name",value:i.name,onChange:u=>a(h=>({...h,name:u.target.value})),style:{background:"#f9fafb"}})]}),B.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:"16px",marginTop:"12px"},children:[B.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:e,style:{borderRadius:"16px",fontSize:"1.1rem",justifyContent:"center"},children:""}),B.jsx("button",{type:"submit",className:"btn-primary",disabled:e,style:{borderRadius:"16px",fontSize:"1.1rem",justifyContent:"center",boxShadow:"0 4px 15px rgba(79, 70, 229, 0.4)"},children:e?"...":" "})]})]})]})})},JB=({isOpen:n,onClose:t})=>{const[e,i]=Z.useState(""),{login:a}=F0(),[l,u]=Z.useState(!1),h=async d=>{d.preventDefault(),a(e)?(await Q_("LOGIN","SUCCESS",""),t(),i(""),u(!1)):(u(!0),await Q_("LOGIN","FAILURE",""),setTimeout(()=>u(!1),2e3))};return B.jsx(Vh,{children:n&&B.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",zIndex:3e3,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(8px)"},children:B.jsxs(Dn.div,{initial:{scale:.9,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:30},className:"glass-card",style:{maxWidth:"350px",width:"90%",padding:"30px",border:"1px solid rgba(255,255,255,0.4)",background:"rgba(255,255,255,0.85)"},children:[B.jsx("h3",{style:{textAlign:"center",marginBottom:"20px",color:"#1e293b"},children:" "}),B.jsxs("form",{onSubmit:h,children:[B.jsx("input",{type:"text",id:"admin-username",name:"username",autoComplete:"username",style:{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0,0,0,0)",whiteSpace:"nowrap",border:"0",visibility:"hidden"},readOnly:!0,value:"admin"}),B.jsx("input",{type:"password",autoComplete:"current-password",autoFocus:!0,placeholder:"...",value:e,onChange:d=>i(d.target.value),style:{marginBottom:"15px",border:l?"2px solid #ef4444":void 0,background:"white"}}),l&&B.jsx("p",{style:{color:"#ef4444",fontSize:"0.9rem",marginBottom:"15px",textAlign:"center"},children:""}),B.jsxs("div",{style:{display:"flex",gap:"10px"},children:[B.jsx("button",{type:"button",onClick:t,className:"btn-secondary",style:{flex:1},children:""}),B.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1,padding:"12px",fontSize:"1rem"},children:""})]})]})]})})})},ZB=({isOpen:n,onConfirm:t,onCancel:e,selectedIds:i})=>{const{slots:a}=$D(),l=i.map(u=>a.find(h=>h.id===u)).filter(Boolean);return B.jsx(Vh,{children:n&&B.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:B.jsxs(Dn.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},style:{background:"white",padding:"30px",borderRadius:"24px",width:"100%",maxWidth:"400px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",textAlign:"left"},children:[B.jsx("h2",{style:{margin:"0 0 15px",color:"#1e293b",fontSize:"1.25rem",borderBottom:"1px solid #e2e8f0",paddingBottom:"15px"},children:" "}),B.jsx("p",{style:{color:"#64748b",fontSize:"0.95rem",marginBottom:"20px"},children:""}),B.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px",marginBottom:"25px",maxHeight:"40vh",overflowY:"auto"},children:l.map(u=>B.jsxs("div",{style:{padding:"12px",background:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0",borderLeft:"4px solid #6366f1"},children:[B.jsx("div",{style:{fontWeight:700,color:"#334155"},children:u?.title}),B.jsxs("div",{style:{fontSize:"0.85rem",color:"#64748b",marginTop:"2px",display:"flex",justifyContent:"space-between"},children:[B.jsxs("span",{children:[" ",u?.location]}),B.jsxs("span",{style:{color:"#0ea5e9",fontWeight:600},children:[" ",u?.type==="C"||u?.type==="D"?"40":"20"]})]})]},u?.id))}),B.jsxs("div",{style:{background:"#fff1f2",padding:"12px",borderRadius:"12px",marginBottom:"25px",fontSize:"0.9rem",color:"#be123c",border:"1px solid #fda4af"},children:[" ",B.jsx("b",{children:""}),"",B.jsx("br",{}),"",B.jsx("b",{children:""}),""]}),B.jsxs("div",{style:{display:"flex",gap:"12px"},children:[B.jsx("button",{onClick:e,style:{flex:1,padding:"12px",border:"1px solid #cbd5e1",borderRadius:"12px",background:"white",color:"#64748b",fontWeight:600,cursor:"pointer"},children:""}),B.jsx("button",{onClick:t,style:{flex:1.5,padding:"12px",border:"none",borderRadius:"12px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",fontWeight:600,cursor:"pointer",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:" "})]})]})})})},tz=n=>new Promise(t=>setTimeout(t,n)),ez=async(n,t)=>{if(!ym.currentUser)throw new Error("Must be logged in");const e=5;let i=0;for(;i<e;)try{const a=Kl(Wr(Cn,"bookings"));return await m3(Cn,async l=>{const u=[];if(n.selectedC&&u.push(n.selectedC),n.selectedD&&u.push(n.selectedD),n.selectedA&&u.push(n.selectedA),n.selectedB&&u.push(n.selectedB),u.length===0)throw new Error("No sessions selected");const h=await Promise.all(u.map(d=>l.get(Kl(Cn,"slots",d))));h.forEach(d=>{if(!d.exists())throw new Error(`Slot ${d.id} not found`);const p=d.data();if(p.booked>=p.capacity)throw new Error(` ${p.name} `)}),h.forEach(d=>{const p=d.data();if(!p)throw new Error("Slot data missing");l.update(d.ref,{booked:p.booked+1})}),l.set(a,{userId:ym.currentUser.uid,userName:t.name,slots:u,selectionData:n,timestamp:Xx(),status:"confirmed"})}),a.id}catch(a){if(console.warn(`Booking attempt ${i+1} failed:`,a),a.message&&a.message.includes(""))throw a;if(i++,i>=e)throw new Error("System is busy (Max Retries), please try again.");const l=Math.pow(2,i)*100+Math.random()*200;await tz(l)}throw new Error("Unexpected booking failure")},fz=async()=>{const n=Zm(Wr(Cn,"bookings"),tp("timestamp","desc"));return(await gm(n)).docs.map(e=>{const i=e.data();return{id:e.id,bookingId:i.bookingId||"UNKNOWN",name:i.userName||i.name||"Unknown",studentId:i.studentId||"",department:i.department||"",slots:i.slots||[],timestamp:i.timestamp,status:i.status||"confirmed"}})},dz=n=>{const t=Zm(Wr(Cn,"bookings"),tp("timestamp","desc"));return Zx(t,e=>{const i=e.docs.map(a=>{const l=a.data();return{id:a.id,bookingId:l.bookingId||"UNKNOWN",name:l.userName||l.name||"Unknown",studentId:l.studentId||"",department:l.department||"",slots:l.slots||[],timestamp:l.timestamp,status:l.status||"confirmed"}});n(i)},e=>{console.error("Error watching bookings:",e)})},XD=(n,t="Component")=>Z.lazy(async()=>{try{return await n()}catch(e){console.error(`Lazy loading failed for ${t}:`,e);const i=e.message?.includes("Failed to fetch")||e.message?.includes("ChunkLoadError")||e.name==="ChunkLoadError",a=window.sessionStorage.getItem(`retry-${t}`);if(i&&!a)return console.log(`Reloading page to recover from missing chunk for ${t}...`),window.sessionStorage.setItem(`retry-${t}`,"true"),"serviceWorker"in navigator?navigator.serviceWorker.getRegistrations().then(l=>{for(const u of l)u.unregister();window.location.reload()}):window.location.reload(),new Promise(()=>{});throw e}});class nz extends Z.Component{state={hasError:!1,error:null};static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,e){console.error("Uncaught error:",t,e)}handleReload=()=>{"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(t=>{t.forEach(e=>e.unregister())}),caches.keys().then(t=>{t.forEach(e=>{caches.delete(e)})}),window.location.reload()};render(){return this.state.hasError?B.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",padding:"20px",textAlign:"center",background:"#f8fafc"},children:[B.jsx("h2",{style:{color:"#334155",marginBottom:"10px"},children:""}),B.jsx("p",{style:{color:"#64748b",marginBottom:"20px"},children:""}),B.jsx("button",{onClick:this.handleReload,style:{padding:"12px 24px",background:"#3b82f6",color:"white",border:"none",borderRadius:"8px",fontSize:"1rem",cursor:"pointer",boxShadow:"0 4px 6px -1px rgba(59, 130, 246, 0.5)"},children:"  (Update)"})]}):this.props.children}}const iz=XD(()=>k1(()=>import("./AdminDashboard-Bug44_ZH.js"),[]).then(n=>({default:n.AdminDashboard})),"AdminDashboard"),sz=XD(()=>k1(()=>import("./TicketView-DcqYHDKY.js"),[]).then(n=>({default:n.TicketView})),"TicketView"),rz=()=>{const{isValid:n,selection:t,isAdmin:e}=F0(),[i,a]=Z.useState(!1),[l,u]=Z.useState(!1),[h,d]=Z.useState(!1),[p,y]=Z.useState(null),[v,E]=Z.useState(!1),[I,N]=Z.useState(null),[U,L]=Z.useState(!1);Z.useEffect(()=>{(async()=>{const R=localStorage.getItem("soka_ticket_2026");if(!R)return;let A;try{A=JSON.parse(R)}catch(x){console.error("Failed to parse saved ticket",x),localStorage.removeItem("soka_ticket_2026");return}try{const x=await p3(Kl(Cn,"system","config"));if(x.exists()){const M=x.data();if(M.lastReset){const V=new Date(M.lastReset).getTime(),k=A.timestamp||0;if(V>k){console.log("System reset detected. Clearing local ticket."),localStorage.removeItem("soka_ticket_2026"),y(null);return}}}}catch(x){console.error("Failed to check system status:",x)}y(A),L(!0)})()},[]);const $=()=>{n&&a(!0)},J=()=>{const at=[];return t.selectedC&&at.push(t.selectedC),t.selectedD&&at.push(t.selectedD),t.selectedA&&at.push(t.selectedA),t.selectedB&&at.push(t.selectedB),at},j=at=>{N(at),E(!0)},Y=async()=>{if(!I)return;E(!1),u(!0);const at=Fc.loading("...");try{const R=await ez(t,I),A=J(),x={bookingId:R,userDetails:I,selectedSlotIds:A,timestamp:Date.now()};localStorage.setItem("soka_ticket_2026",JSON.stringify(x)),y(x),L(!0),a(!1),Fc.success("",{id:at,duration:5e3})}catch(R){console.error(R),Fc.error(`: ${R.message}`,{id:at,duration:5e3})}finally{u(!1),N(null)}},rt=()=>{L(!1),setTimeout(()=>{document.getElementById("ticket-access-section")?.scrollIntoView({behavior:"smooth"})},100)};return U&&p?B.jsx("div",{className:"container",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:B.jsx(Z.Suspense,{fallback:B.jsx(K_,{}),children:B.jsx(sz,{bookingId:p.bookingId,userDetails:p.userDetails,selectedSlotIds:p.selectedSlotIds,onClose:rt})})}):B.jsxs("div",{className:"container",children:[B.jsxs("div",{className:"glass-card",children:[B.jsx("h1",{children:"2026  EXPO"}),B.jsx("h2",{children:" - "}),B.jsxs("p",{className:"description",style:{textAlign:"center",color:"#64748b",marginBottom:"30px"},children:["",B.jsx("br",{}),"(A+B C  D )"]}),B.jsx(XB,{disabled:!!p,bookedSlotIds:p?.selectedSlotIds}),B.jsx("div",{id:"ticket-access-section",style:{textAlign:"center",marginTop:"30px"},children:p?B.jsxs("button",{className:"btn-primary",style:{fontSize:"1.2rem",padding:"15px 40px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",boxShadow:"0 4px 15px rgba(16, 185, 129, 0.4)",display:"inline-flex",flexDirection:"column",alignItems:"center",gap:"4px",lineHeight:"1.2"},onClick:()=>L(!0),children:[B.jsx("span",{style:{fontSize:"0.9rem",opacity:.9},children:" "}),B.jsx("span",{style:{fontWeight:"bold"},children:" "})]}):B.jsx("button",{className:"btn-primary",disabled:!n,style:{opacity:n?1:.5,fontSize:"1.2rem",padding:"15px 40px"},onClick:$,children:n?"":" Let's Go"})})]}),i&&B.jsx(WB,{onSubmit:j,onCancel:()=>a(!1),loading:l}),B.jsx(ZB,{isOpen:v,onConfirm:Y,onCancel:()=>E(!1),selectedIds:J()}),e&&B.jsx("div",{style:{padding:"30px",background:"rgba(255,255,255,0.85)",backdropFilter:"blur(10px)",borderRadius:"24px",marginTop:"40px",border:"1px solid rgba(255,255,255,0.5)",boxShadow:"0 20px 40px -10px rgba(0,0,0,0.1)"},children:B.jsx(Z.Suspense,{fallback:B.jsx(K_,{}),children:B.jsx(iz,{})})}),B.jsxs("footer",{style:{textAlign:"center",padding:"40px 0",color:"#94a3b8",fontSize:"0.9rem"},children:[" 2026 Soka Education EXPO. All rights reserved.",B.jsx("br",{}),B.jsx("span",{onClick:()=>d(!0),style:{cursor:"pointer",opacity:.3,marginTop:"10px",display:"inline-block"},children:"Admin Access"}),B.jsx("br",{}),B.jsx("a",{href:"https://cagoooo.github.io/Akai/",target:"_blank",rel:"noopener noreferrer",className:"akai-badge",children:" Made by "})]}),B.jsx(JB,{isOpen:h,onClose:()=>d(!1)})]})};function az(){return B.jsx(tB,{children:B.jsxs(eB,{children:[B.jsx(nz,{children:B.jsx(rz,{})}),B.jsx(qB,{position:"top-center",reverseOrder:!1,containerStyle:{top:40,zIndex:999999},toastOptions:{style:{background:"#333",color:"#fff",zIndex:999999}}})]})})}L2.createRoot(document.getElementById("root")).render(B.jsx(Z.StrictMode,{children:B.jsx(az,{})}));export{Vh as A,oz as R,HB as S,X_ as a,GB as b,hz as c,fz as d,Q_ as e,xs as f,x2 as g,B as j,Dn as m,Z as r,dz as s,$D as u,Fc as z};
