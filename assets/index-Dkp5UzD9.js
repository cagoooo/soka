function CV(n,t){for(var e=0;e<t.length;e++){const i=t[e];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function DV(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var uy={exports:{}},dc={};var mS;function VV(){if(mS)return dc;mS=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:u,ref:a!==void 0?a:null,props:l}}return dc.Fragment=t,dc.jsx=e,dc.jsxs=e,dc}var pS;function MV(){return pS||(pS=1,uy.exports=VV()),uy.exports}var V=MV(),cy={exports:{}},xt={};var gS;function NV(){if(gS)return xt;gS=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function I(L){return L===null||typeof L!="object"?null:(L=E&&L[E]||L["@@iterator"],typeof L=="function"?L:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,U={};function K(L,st,ft){this.props=L,this.context=st,this.refs=U,this.updater=ft||N}K.prototype.isReactComponent={},K.prototype.setState=function(L,st){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,st,"setState")},K.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function Z(){}Z.prototype=K.prototype;function j(L,st,ft){this.props=L,this.context=st,this.refs=U,this.updater=ft||N}var Y=j.prototype=new Z;Y.constructor=j,B(Y,K.prototype),Y.isPureReactComponent=!0;var rt=Array.isArray;function lt(){}var x={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(L,st,ft){var pt=ft.ref;return{$$typeof:n,type:L,key:st,ref:pt!==void 0?pt:null,props:ft}}function P(L,st){return R(L.type,st,L.props)}function M(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function k(L){var st={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ft){return st[ft]})}var C=/\/+/g;function Ot(L,st){return typeof L=="object"&&L!==null&&L.key!=null?k(""+L.key):st.toString(36)}function Nt(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(lt,lt):(L.status="pending",L.then(function(st){L.status==="pending"&&(L.status="fulfilled",L.value=st)},function(st){L.status==="pending"&&(L.status="rejected",L.reason=st)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function tt(L,st,ft,pt,wt){var Vt=typeof L;(Vt==="undefined"||Vt==="boolean")&&(L=null);var Ht=!1;if(L===null)Ht=!0;else switch(Vt){case"bigint":case"string":case"number":Ht=!0;break;case"object":switch(L.$$typeof){case n:case t:Ht=!0;break;case y:return Ht=L._init,tt(Ht(L._payload),st,ft,pt,wt)}}if(Ht)return wt=wt(L),Ht=pt===""?"."+Ot(L,0):pt,rt(wt)?(ft="",Ht!=null&&(ft=Ht.replace(C,"$&/")+"/"),tt(wt,st,ft,"",function(oa){return oa})):wt!=null&&(M(wt)&&(wt=P(wt,ft+(wt.key==null||L&&L.key===wt.key?"":(""+wt.key).replace(C,"$&/")+"/")+Ht)),st.push(wt)),1;Ht=0;var qe=pt===""?".":pt+":";if(rt(L))for(var fe=0;fe<L.length;fe++)pt=L[fe],Vt=qe+Ot(pt,fe),Ht+=tt(pt,st,ft,Vt,wt);else if(fe=I(L),typeof fe=="function")for(L=fe.call(L),fe=0;!(pt=L.next()).done;)pt=pt.value,Vt=qe+Ot(pt,fe++),Ht+=tt(pt,st,ft,Vt,wt);else if(Vt==="object"){if(typeof L.then=="function")return tt(Nt(L),st,ft,pt,wt);throw st=String(L),Error("Objects are not valid as a React child (found: "+(st==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":st)+"). If you meant to render a collection of children, use an array instead.")}return Ht}function ot(L,st,ft){if(L==null)return L;var pt=[],wt=0;return tt(L,pt,"","",function(Vt){return st.call(ft,Vt,wt++)}),pt}function dt(L){if(L._status===-1){var st=L._result;st=st(),st.then(function(ft){(L._status===0||L._status===-1)&&(L._status=1,L._result=ft)},function(ft){(L._status===0||L._status===-1)&&(L._status=2,L._result=ft)}),L._status===-1&&(L._status=0,L._result=st)}if(L._status===1)return L._result.default;throw L._result}var Dt=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var st=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(st))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Ut={map:ot,forEach:function(L,st,ft){ot(L,function(){st.apply(this,arguments)},ft)},count:function(L){var st=0;return ot(L,function(){st++}),st},toArray:function(L){return ot(L,function(st){return st})||[]},only:function(L){if(!M(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return xt.Activity=v,xt.Children=Ut,xt.Component=K,xt.Fragment=e,xt.Profiler=a,xt.PureComponent=j,xt.StrictMode=i,xt.Suspense=d,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,xt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return x.H.useMemoCache(L)}},xt.cache=function(L){return function(){return L.apply(null,arguments)}},xt.cacheSignal=function(){return null},xt.cloneElement=function(L,st,ft){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var pt=B({},L.props),wt=L.key;if(st!=null)for(Vt in st.key!==void 0&&(wt=""+st.key),st)!w.call(st,Vt)||Vt==="key"||Vt==="__self"||Vt==="__source"||Vt==="ref"&&st.ref===void 0||(pt[Vt]=st[Vt]);var Vt=arguments.length-2;if(Vt===1)pt.children=ft;else if(1<Vt){for(var Ht=Array(Vt),qe=0;qe<Vt;qe++)Ht[qe]=arguments[qe+2];pt.children=Ht}return R(L.type,wt,pt)},xt.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},xt.createElement=function(L,st,ft){var pt,wt={},Vt=null;if(st!=null)for(pt in st.key!==void 0&&(Vt=""+st.key),st)w.call(st,pt)&&pt!=="key"&&pt!=="__self"&&pt!=="__source"&&(wt[pt]=st[pt]);var Ht=arguments.length-2;if(Ht===1)wt.children=ft;else if(1<Ht){for(var qe=Array(Ht),fe=0;fe<Ht;fe++)qe[fe]=arguments[fe+2];wt.children=qe}if(L&&L.defaultProps)for(pt in Ht=L.defaultProps,Ht)wt[pt]===void 0&&(wt[pt]=Ht[pt]);return R(L,Vt,wt)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(L){return{$$typeof:h,render:L}},xt.isValidElement=M,xt.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:dt}},xt.memo=function(L,st){return{$$typeof:p,type:L,compare:st===void 0?null:st}},xt.startTransition=function(L){var st=x.T,ft={};x.T=ft;try{var pt=L(),wt=x.S;wt!==null&&wt(ft,pt),typeof pt=="object"&&pt!==null&&typeof pt.then=="function"&&pt.then(lt,Dt)}catch(Vt){Dt(Vt)}finally{st!==null&&ft.types!==null&&(st.types=ft.types),x.T=st}},xt.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},xt.use=function(L){return x.H.use(L)},xt.useActionState=function(L,st,ft){return x.H.useActionState(L,st,ft)},xt.useCallback=function(L,st){return x.H.useCallback(L,st)},xt.useContext=function(L){return x.H.useContext(L)},xt.useDebugValue=function(){},xt.useDeferredValue=function(L,st){return x.H.useDeferredValue(L,st)},xt.useEffect=function(L,st){return x.H.useEffect(L,st)},xt.useEffectEvent=function(L){return x.H.useEffectEvent(L)},xt.useId=function(){return x.H.useId()},xt.useImperativeHandle=function(L,st,ft){return x.H.useImperativeHandle(L,st,ft)},xt.useInsertionEffect=function(L,st){return x.H.useInsertionEffect(L,st)},xt.useLayoutEffect=function(L,st){return x.H.useLayoutEffect(L,st)},xt.useMemo=function(L,st){return x.H.useMemo(L,st)},xt.useOptimistic=function(L,st){return x.H.useOptimistic(L,st)},xt.useReducer=function(L,st,ft){return x.H.useReducer(L,st,ft)},xt.useRef=function(L){return x.H.useRef(L)},xt.useState=function(L){return x.H.useState(L)},xt.useSyncExternalStore=function(L,st,ft){return x.H.useSyncExternalStore(L,st,ft)},xt.useTransition=function(){return x.H.useTransition()},xt.version="19.2.4",xt}var yS;function Z_(){return yS||(yS=1,cy.exports=NV()),cy.exports}var X=Z_();const Cs=DV(X),fz=CV({__proto__:null,default:Cs},[X]);var hy={exports:{}},mc={},fy={exports:{}},dy={};var _S;function PV(){return _S||(_S=1,(function(n){function t(tt,ot){var dt=tt.length;tt.push(ot);t:for(;0<dt;){var Dt=dt-1>>>1,Ut=tt[Dt];if(0<a(Ut,ot))tt[Dt]=ot,tt[dt]=Ut,dt=Dt;else break t}}function e(tt){return tt.length===0?null:tt[0]}function i(tt){if(tt.length===0)return null;var ot=tt[0],dt=tt.pop();if(dt!==ot){tt[0]=dt;t:for(var Dt=0,Ut=tt.length,L=Ut>>>1;Dt<L;){var st=2*(Dt+1)-1,ft=tt[st],pt=st+1,wt=tt[pt];if(0>a(ft,dt))pt<Ut&&0>a(wt,ft)?(tt[Dt]=wt,tt[pt]=dt,Dt=pt):(tt[Dt]=ft,tt[st]=dt,Dt=st);else if(pt<Ut&&0>a(wt,dt))tt[Dt]=wt,tt[pt]=dt,Dt=pt;else break t}}return ot}function a(tt,ot){var dt=tt.sortIndex-ot.sortIndex;return dt!==0?dt:tt.id-ot.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],p=[],y=1,v=null,E=3,I=!1,N=!1,B=!1,U=!1,K=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function Y(tt){for(var ot=e(p);ot!==null;){if(ot.callback===null)i(p);else if(ot.startTime<=tt)i(p),ot.sortIndex=ot.expirationTime,t(d,ot);else break;ot=e(p)}}function rt(tt){if(B=!1,Y(tt),!N)if(e(d)!==null)N=!0,lt||(lt=!0,k());else{var ot=e(p);ot!==null&&Nt(rt,ot.startTime-tt)}}var lt=!1,x=-1,w=5,R=-1;function P(){return U?!0:!(n.unstable_now()-R<w)}function M(){if(U=!1,lt){var tt=n.unstable_now();R=tt;var ot=!0;try{t:{N=!1,B&&(B=!1,Z(x),x=-1),I=!0;var dt=E;try{e:{for(Y(tt),v=e(d);v!==null&&!(v.expirationTime>tt&&P());){var Dt=v.callback;if(typeof Dt=="function"){v.callback=null,E=v.priorityLevel;var Ut=Dt(v.expirationTime<=tt);if(tt=n.unstable_now(),typeof Ut=="function"){v.callback=Ut,Y(tt),ot=!0;break e}v===e(d)&&i(d),Y(tt)}else i(d);v=e(d)}if(v!==null)ot=!0;else{var L=e(p);L!==null&&Nt(rt,L.startTime-tt),ot=!1}}break t}finally{v=null,E=dt,I=!1}ot=void 0}}finally{ot?k():lt=!1}}}var k;if(typeof j=="function")k=function(){j(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Ot=C.port2;C.port1.onmessage=M,k=function(){Ot.postMessage(null)}}else k=function(){K(M,0)};function Nt(tt,ot){x=K(function(){tt(n.unstable_now())},ot)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(tt){tt.callback=null},n.unstable_forceFrameRate=function(tt){0>tt||125<tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<tt?Math.floor(1e3/tt):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(tt){switch(E){case 1:case 2:case 3:var ot=3;break;default:ot=E}var dt=E;E=ot;try{return tt()}finally{E=dt}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(tt,ot){switch(tt){case 1:case 2:case 3:case 4:case 5:break;default:tt=3}var dt=E;E=tt;try{return ot()}finally{E=dt}},n.unstable_scheduleCallback=function(tt,ot,dt){var Dt=n.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Dt+dt:Dt):dt=Dt,tt){case 1:var Ut=-1;break;case 2:Ut=250;break;case 5:Ut=1073741823;break;case 4:Ut=1e4;break;default:Ut=5e3}return Ut=dt+Ut,tt={id:y++,callback:ot,priorityLevel:tt,startTime:dt,expirationTime:Ut,sortIndex:-1},dt>Dt?(tt.sortIndex=dt,t(p,tt),e(d)===null&&tt===e(p)&&(B?(Z(x),x=-1):B=!0,Nt(rt,dt-Dt))):(tt.sortIndex=Ut,t(d,tt),N||I||(N=!0,lt||(lt=!0,k()))),tt},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(tt){var ot=E;return function(){var dt=E;E=ot;try{return tt.apply(this,arguments)}finally{E=dt}}}})(dy)),dy}var vS;function OV(){return vS||(vS=1,fy.exports=PV()),fy.exports}var my={exports:{}},hn={};var TS;function kV(){if(TS)return hn;TS=1;var n=Z_();function t(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:p,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,hn.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(d,p,null,y)},hn.flushSync=function(d){var p=u.T,y=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=p,i.p=y,i.d.f()}},hn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(d,p))},hn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},hn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,I=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:I}):y==="script"&&i.d.X(d,{crossOrigin:v,integrity:E,fetchPriority:I,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},hn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);i.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(d)},hn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);i.d.L(d,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},hn.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=h(p.as,p.crossOrigin);i.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(d)},hn.requestFormReset=function(d){i.d.r(d)},hn.unstable_batchedUpdates=function(d,p){return d(p)},hn.useFormState=function(d,p,y){return u.H.useFormState(d,p,y)},hn.useFormStatus=function(){return u.H.useHostTransitionStatus()},hn.version="19.2.4",hn}var ES;function zw(){if(ES)return my.exports;ES=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),my.exports=kV(),my.exports}var bS;function LV(){if(bS)return mc;bS=1;var n=OV(),t=Z_(),e=zw();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function u(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(l(s)!==s)throw Error(i(188))}function p(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,c=r;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return d(m),s;if(g===c)return d(m),r;g=g.sibling}throw Error(i(188))}if(o.return!==c.return)o=m,c=g;else{for(var T=!1,S=m.child;S;){if(S===o){T=!0,o=m,c=g;break}if(S===c){T=!0,c=m,o=g;break}S=S.sibling}if(!T){for(S=g.child;S;){if(S===o){T=!0,o=g,c=m;break}if(S===c){T=!0,c=g,o=m;break}S=S.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function y(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=y(s),r!==null)return r;s=s.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),j=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function k(s){return s===null||typeof s!="object"?null:(s=M&&s[M]||s["@@iterator"],typeof s=="function"?s:null)}var C=Symbol.for("react.client.reference");function Ot(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===C?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case B:return"Fragment";case K:return"Profiler";case U:return"StrictMode";case rt:return"Suspense";case lt:return"SuspenseList";case R:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case N:return"Portal";case j:return s.displayName||"Context";case Z:return(s._context.displayName||"Context")+".Consumer";case Y:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case x:return r=s.displayName||null,r!==null?r:Ot(s.type)||"Memo";case w:r=s._payload,s=s._init;try{return Ot(s(r))}catch{}}return null}var Nt=Array.isArray,tt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Dt=[],Ut=-1;function L(s){return{current:s}}function st(s){0>Ut||(s.current=Dt[Ut],Dt[Ut]=null,Ut--)}function ft(s,r){Ut++,Dt[Ut]=s.current,s.current=r}var pt=L(null),wt=L(null),Vt=L(null),Ht=L(null);function qe(s,r){switch(ft(Vt,r),ft(wt,s),ft(pt,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?Lb(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=Lb(r),s=Ub(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}st(pt),ft(pt,s)}function fe(){st(pt),st(wt),st(Vt)}function oa(s){s.memoizedState!==null&&ft(Ht,s);var r=pt.current,o=Ub(r,s.type);r!==o&&(ft(wt,s),ft(pt,o))}function po(s){wt.current===s&&(st(pt),st(wt)),Ht.current===s&&(st(Ht),uc._currentValue=dt)}var go,yo;function Ci(s){if(go===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);go=r&&r[1]||"",yo=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+go+s+yo}var uu=!1;function la(s,r){if(!s||uu)return"";uu=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(W){var $=W}Reflect.construct(s,[],it)}else{try{it.call()}catch(W){$=W}s.call(it.prototype)}}else{try{throw Error()}catch(W){$=W}(it=s())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(W){if(W&&$&&typeof W.stack=="string")return[W.stack,$.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],S=g[1];if(T&&S){var D=T.split(`
`),G=S.split(`
`);for(m=c=0;c<D.length&&!D[c].includes("DetermineComponentFrameRoot");)c++;for(;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;if(c===D.length||m===G.length)for(c=D.length-1,m=G.length-1;1<=c&&0<=m&&D[c]!==G[m];)m--;for(;1<=c&&0<=m;c--,m--)if(D[c]!==G[m]){if(c!==1||m!==1)do if(c--,m--,0>m||D[c]!==G[m]){var et=`
`+D[c].replace(" at new "," at ");return s.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",s.displayName)),et}while(1<=c&&0<=m);break}}}finally{uu=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Ci(o):""}function cu(s,r){switch(s.tag){case 26:case 27:case 5:return Ci(s.type);case 16:return Ci("Lazy");case 13:return s.child!==r&&r!==null?Ci("Suspense Fallback"):Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return la(s.type,!1);case 11:return la(s.type.render,!1);case 1:return la(s.type,!0);case 31:return Ci("Activity");default:return""}}function hu(s){try{var r="",o=null;do r+=cu(s,o),o=s,s=s.return;while(s);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var De=Object.prototype.hasOwnProperty,He=n.unstable_scheduleCallback,Ks=n.unstable_cancelCallback,hp=n.unstable_shouldYield,kh=n.unstable_requestPaint,yn=n.unstable_now,ua=n.unstable_getCurrentPriorityLevel,fu=n.unstable_ImmediatePriority,du=n.unstable_UserBlockingPriority,$s=n.unstable_NormalPriority,fp=n.unstable_LowPriority,Lh=n.unstable_IdlePriority,Uh=n.log,Bh=n.unstable_setDisableYieldValue,ci=null,en=null;function Yn(s){if(typeof Uh=="function"&&Bh(s),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(ci,s)}catch{}}var Ae=Math.clz32?Math.clz32:jh,zh=Math.log,_o=Math.LN2;function jh(s){return s>>>=0,s===0?32:31-(zh(s)/_o|0)|0}var Di=256,ca=262144,Ve=4194304;function Vi(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Mi(s,r,o){var c=s.pendingLanes;if(c===0)return 0;var m=0,g=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var S=c&134217727;return S!==0?(c=S&~g,c!==0?m=Vi(c):(T&=S,T!==0?m=Vi(T):o||(o=S&~s,o!==0&&(m=Vi(o))))):(S=c&~g,S!==0?m=Vi(S):T!==0?m=Vi(T):o||(o=c&~s,o!==0&&(m=Vi(o)))),m===0?0:r!==0&&r!==m&&(r&g)===0&&(g=m&-m,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:m}function hi(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function dp(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fh(){var s=Ve;return Ve<<=1,(Ve&62914560)===0&&(Ve=4194304),s}function Ni(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function ha(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function mp(s,r,o,c,m,g){var T=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var S=s.entanglements,D=s.expirationTimes,G=s.hiddenUpdates;for(o=T&~o;0<o;){var et=31-Ae(o),it=1<<et;S[et]=0,D[et]=-1;var $=G[et];if($!==null)for(G[et]=null,et=0;et<$.length;et++){var W=$[et];W!==null&&(W.lane&=-536870913)}o&=~it}c!==0&&fa(s,c,0),g!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=g&~(T&~r))}function fa(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var c=31-Ae(r);s.entangledLanes|=r,s.entanglements[c]=s.entanglements[c]|1073741824|o&261930}function mu(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var c=31-Ae(o),m=1<<c;m&r|s[c]&r&&(s[c]|=r),o&=~m}}function pu(s,r){var o=r&-r;return o=(o&42)!==0?1:da(o),(o&(s.suspendedLanes|r))!==0?0:o}function da(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function us(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function qh(){var s=ot.p;return s!==0?s:(s=window.event,s===void 0?32:oS(s.type))}function fi(s,r){var o=ot.p;try{return ot.p=s,r()}finally{ot.p=o}}var di=Math.random().toString(36).slice(2),Me="__reactFiber$"+di,Xe="__reactProps$"+di,Pi="__reactContainer$"+di,vo="__reactEvents$"+di,pp="__reactListeners$"+di,Hh="__reactHandles$"+di,Gh="__reactResources$"+di,Oi="__reactMarker$"+di;function To(s){delete s[Me],delete s[Xe],delete s[vo],delete s[pp],delete s[Hh]}function ki(s){var r=s[Me];if(r)return r;for(var o=s.parentNode;o;){if(r=o[Pi]||o[Me]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=Gb(s);s!==null;){if(o=s[Me])return o;s=Gb(s)}return r}s=o,o=s.parentNode}return null}function Qn(s){if(s=s[Me]||s[Pi]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Pn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Li(s){var r=s[Gh];return r||(r=s[Gh]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ne(s){s[Oi]=!0}var gu=new Set,yu={};function Ui(s,r){Bi(s,r),Bi(s+"Capture",r)}function Bi(s,r){for(yu[s]=r,s=0;s<r.length;s++)gu.add(r[s])}var _u=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vu={},Tu={};function Kh(s){return De.call(Tu,s)?!0:De.call(vu,s)?!1:_u.test(s)?Tu[s]=!0:(vu[s]=!0,!1)}function Eo(s,r,o){if(Kh(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function On(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Pe(s,r,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+c)}}function We(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ys(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Eu(s,r,o){var c=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return m.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(s,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Wt(s){if(!s._valueTracker){var r=Ys(s)?"checked":"value";s._valueTracker=Eu(s,r,""+s[r])}}function ma(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return s&&(c=Ys(s)?s.checked?"true":"false":s.value),s=c,s!==o?(r.setValue(s),!0):!1}function zi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var pa=/[\n"\\]/g;function Sn(s){return s.replace(pa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function bo(s,r,o,c,m,g,T,S){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),r!=null?T==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+We(r)):s.value!==""+We(r)&&(s.value=""+We(r)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),r!=null?bu(s,T,We(r)):o!=null?bu(s,T,We(o)):c!=null&&s.removeAttribute("value"),m==null&&g!=null&&(s.defaultChecked=!!g),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+We(S):s.removeAttribute("name")}function $h(s,r,o,c,m,g,T,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Wt(s);return}o=o!=null?""+We(o):"",r=r!=null?""+We(r):o,S||r===s.value||(s.value=r),s.defaultValue=r}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=S?s.checked:!!c,s.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T),Wt(s)}function bu(s,r,o){r==="number"&&zi(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function Qs(s,r,o,c){if(s=s.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<s.length;o++)m=r.hasOwnProperty("$"+s[o].value),s[o].selected!==m&&(s[o].selected=m),m&&c&&(s[o].defaultSelected=!0)}else{for(o=""+We(o),r=null,m=0;m<s.length;m++){if(s[m].value===o){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}r!==null||s[m].disabled||(r=s[m])}r!==null&&(r.selected=!0)}}function Yh(s,r,o){if(r!=null&&(r=""+We(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+We(o):""}function Xs(s,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(i(92));if(Nt(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=We(r),s.defaultValue=o,c=s.textContent,c===o&&c!==""&&c!==null&&(s.value=c),Wt(s)}function An(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var Qh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Su(s,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":c?s.setProperty(r,o):typeof o!="number"||o===0||Qh.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function Au(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in r)c=r[m],r.hasOwnProperty(m)&&o[m]!==c&&Su(s,m,c)}else for(var g in r)r.hasOwnProperty(g)&&Su(s,g,r[g])}function So(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ao(s){return Ws.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function mi(){}var wu=null;function Xn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Js=null,ji=null;function ga(s){var r=Qn(s);if(r&&(s=r.stateNode)){var o=s[Xe]||null;t:switch(s=r.stateNode,r.type){case"input":if(bo(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Sn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==s&&c.form===s.form){var m=c[Xe]||null;if(!m)throw Error(i(90));bo(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===s.form&&ma(c)}break t;case"textarea":Yh(s,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Qs(s,!!o.multiple,r,!1)}}}var wo=!1;function Zs(s,r,o){if(wo)return s(r,o);wo=!0;try{var c=s(r);return c}finally{if(wo=!1,(Js!==null||ji!==null)&&(Hf(),Js&&(r=Js,s=ji,ji=Js=null,ga(r),s)))for(r=0;r<s.length;r++)ga(s[r])}}function pi(s,r){var o=s.stateNode;if(o===null)return null;var c=o[Xe]||null;if(c===null)return null;o=c[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break t;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ya=!1;if(Wn)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){ya=!0}}),window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{ya=!1}var Fi=null,Iu=null,_a=null;function xu(){if(_a)return _a;var s,r=Iu,o=r.length,c,m="value"in Fi?Fi.value:Fi.textContent,g=m.length;for(s=0;s<o&&r[s]===m[s];s++);var T=o-s;for(c=1;c<=T&&r[o-c]===m[g-c];c++);return _a=m.slice(s,1<c?1-c:void 0)}function va(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function cs(){return!0}function gi(){return!1}function nn(s){function r(o,c,m,g,T){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(o=s[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?cs:gi,this.isPropagationStopped=gi,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),r}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=nn(hs),tr=v({},hs,{view:0,detail:0}),Ru=nn(tr),er,Io,Hi,xo=v({},tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Hi&&(Hi&&s.type==="mousemove"?(er=s.screenX-Hi.screenX,Io=s.screenY-Hi.screenY):Io=er=0,Hi=s),er)},movementY:function(s){return"movementY"in s?s.movementY:Io}}),Cu=nn(xo),Ta=v({},xo,{dataTransfer:0}),Wh=nn(Ta),Jh=v({},tr,{relatedTarget:0}),Ea=nn(Jh),Du=v({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),Zh=nn(Du),Ro=v({},hs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),tf=nn(Ro),ef=v({},hs,{data:0}),Gi=nn(ef),nf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function af(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=rf[s])?!!r[s]:!1}function nr(){return af}var _n=v({},tr,{key:function(s){if(s.key){var r=nf[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=va(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?sf[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nr,charCode:function(s){return s.type==="keypress"?va(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?va(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),of=nn(_n),lf=v({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fs=nn(lf),f=v({},tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nr}),_=nn(f),b=v({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=nn(b),q=v({},xo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=nn(q),ct=v({},hs,{newState:0,oldState:0}),Rt=nn(ct),we=[9,13,27,32],Qt=Wn&&"CompositionEvent"in window,de=null;Wn&&"documentMode"in document&&(de=document.documentMode);var Jn=Wn&&"TextEvent"in window&&!de,Ki=Wn&&(!Qt||de&&8<de&&11>=de),yi=" ",_i=!1;function ba(s,r){switch(s){case"keyup":return we.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Co(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Do=!1;function ZD(s,r){switch(s){case"compositionend":return Co(r);case"keypress":return r.which!==32?null:(_i=!0,yi);case"textInput":return s=r.data,s===yi&&_i?null:s;default:return null}}function t2(s,r){if(Do)return s==="compositionend"||!Qt&&ba(s,r)?(s=xu(),_a=Iu=Fi=null,Do=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ki&&r.locale!=="ko"?null:r.data;default:return null}}var e2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y0(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!e2[s.type]:r==="textarea"}function Q0(s,r,o,c){Js?ji?ji.push(c):ji=[c]:Js=c,r=Wf(r,"onChange"),0<r.length&&(o=new qi("onChange","change",null,o,c),s.push({event:o,listeners:r}))}var Vu=null,Mu=null;function n2(s){Vb(s,0)}function uf(s){var r=Pn(s);if(ma(r))return s}function X0(s,r){if(s==="change")return r}var W0=!1;if(Wn){var gp;if(Wn){var yp="oninput"in document;if(!yp){var J0=document.createElement("div");J0.setAttribute("oninput","return;"),yp=typeof J0.oninput=="function"}gp=yp}else gp=!1;W0=gp&&(!document.documentMode||9<document.documentMode)}function Z0(){Vu&&(Vu.detachEvent("onpropertychange",tT),Mu=Vu=null)}function tT(s){if(s.propertyName==="value"&&uf(Mu)){var r=[];Q0(r,Mu,s,Xn(s)),Zs(n2,r)}}function i2(s,r,o){s==="focusin"?(Z0(),Vu=r,Mu=o,Vu.attachEvent("onpropertychange",tT)):s==="focusout"&&Z0()}function s2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return uf(Mu)}function r2(s,r){if(s==="click")return uf(r)}function a2(s,r){if(s==="input"||s==="change")return uf(r)}function o2(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var kn=typeof Object.is=="function"?Object.is:o2;function Nu(s,r){if(kn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!De.call(r,m)||!kn(s[m],r[m]))return!1}return!0}function eT(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function nT(s,r){var o=eT(s);s=0;for(var c;o;){if(o.nodeType===3){if(c=s+o.textContent.length,s<=r&&c>=r)return{node:o,offset:r-s};s=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=eT(o)}}function iT(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?iT(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function sT(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=zi(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=zi(s.document)}return r}function _p(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var l2=Wn&&"documentMode"in document&&11>=document.documentMode,Vo=null,vp=null,Pu=null,Tp=!1;function rT(s,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Tp||Vo==null||Vo!==zi(c)||(c=Vo,"selectionStart"in c&&_p(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Pu&&Nu(Pu,c)||(Pu=c,c=Wf(vp,"onSelect"),0<c.length&&(r=new qi("onSelect","select",null,r,o),s.push({event:r,listeners:c}),r.target=Vo)))}function Sa(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var Mo={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionrun:Sa("Transition","TransitionRun"),transitionstart:Sa("Transition","TransitionStart"),transitioncancel:Sa("Transition","TransitionCancel"),transitionend:Sa("Transition","TransitionEnd")},Ep={},aT={};Wn&&(aT=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function Aa(s){if(Ep[s])return Ep[s];if(!Mo[s])return s;var r=Mo[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in aT)return Ep[s]=r[o];return s}var oT=Aa("animationend"),lT=Aa("animationiteration"),uT=Aa("animationstart"),u2=Aa("transitionrun"),c2=Aa("transitionstart"),h2=Aa("transitioncancel"),cT=Aa("transitionend"),hT=new Map,bp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bp.push("scrollEnd");function vi(s,r){hT.set(s,r),Ui(r,[s])}var cf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Zn=[],No=0,Sp=0;function hf(){for(var s=No,r=Sp=No=0;r<s;){var o=Zn[r];Zn[r++]=null;var c=Zn[r];Zn[r++]=null;var m=Zn[r];Zn[r++]=null;var g=Zn[r];if(Zn[r++]=null,c!==null&&m!==null){var T=c.pending;T===null?m.next=m:(m.next=T.next,T.next=m),c.pending=m}g!==0&&fT(o,m,g)}}function ff(s,r,o,c){Zn[No++]=s,Zn[No++]=r,Zn[No++]=o,Zn[No++]=c,Sp|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function Ap(s,r,o,c){return ff(s,r,o,c),df(s)}function wa(s,r){return ff(s,null,null,r),df(s)}function fT(s,r,o){s.lanes|=o;var c=s.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=s.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(m=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,m&&r!==null&&(m=31-Ae(o),s=g.hiddenUpdates,c=s[m],c===null?s[m]=[r]:c.push(r),r.lane=o|536870912),g):null}function df(s){if(50<nc)throw nc=0,Ng=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Po={};function f2(s,r,o,c){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(s,r,o,c){return new f2(s,r,o,c)}function wp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ds(s,r){var o=s.alternate;return o===null?(o=Ln(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function dT(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function mf(s,r,o,c,m,g){var T=0;if(c=s,typeof s=="function")wp(s)&&(T=1);else if(typeof s=="string")T=yV(s,o,pt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case R:return s=Ln(31,o,r,m),s.elementType=R,s.lanes=g,s;case B:return Ia(o.children,m,g,r);case U:T=8,m|=24;break;case K:return s=Ln(12,o,r,m|2),s.elementType=K,s.lanes=g,s;case rt:return s=Ln(13,o,r,m),s.elementType=rt,s.lanes=g,s;case lt:return s=Ln(19,o,r,m),s.elementType=lt,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:T=10;break t;case Z:T=9;break t;case Y:T=11;break t;case x:T=14;break t;case w:T=16,c=null;break t}T=29,o=Error(i(130,s===null?"null":typeof s,"")),c=null}return r=Ln(T,o,r,m),r.elementType=s,r.type=c,r.lanes=g,r}function Ia(s,r,o,c){return s=Ln(7,s,c,r),s.lanes=o,s}function Ip(s,r,o){return s=Ln(6,s,null,r),s.lanes=o,s}function mT(s){var r=Ln(18,null,null,0);return r.stateNode=s,r}function xp(s,r,o){return r=Ln(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var pT=new WeakMap;function ti(s,r){if(typeof s=="object"&&s!==null){var o=pT.get(s);return o!==void 0?o:(r={value:s,source:r,stack:hu(r)},pT.set(s,r),r)}return{value:s,source:r,stack:hu(r)}}var Oo=[],ko=0,pf=null,Ou=0,ei=[],ni=0,ir=null,$i=1,Yi="";function ms(s,r){Oo[ko++]=Ou,Oo[ko++]=pf,pf=s,Ou=r}function gT(s,r,o){ei[ni++]=$i,ei[ni++]=Yi,ei[ni++]=ir,ir=s;var c=$i;s=Yi;var m=32-Ae(c)-1;c&=~(1<<m),o+=1;var g=32-Ae(r)+m;if(30<g){var T=m-m%5;g=(c&(1<<T)-1).toString(32),c>>=T,m-=T,$i=1<<32-Ae(r)+m|o<<m|c,Yi=g+s}else $i=1<<g|o<<m|c,Yi=s}function Rp(s){s.return!==null&&(ms(s,1),gT(s,1,0))}function Cp(s){for(;s===pf;)pf=Oo[--ko],Oo[ko]=null,Ou=Oo[--ko],Oo[ko]=null;for(;s===ir;)ir=ei[--ni],ei[ni]=null,Yi=ei[--ni],ei[ni]=null,$i=ei[--ni],ei[ni]=null}function yT(s,r){ei[ni++]=$i,ei[ni++]=Yi,ei[ni++]=ir,$i=r.id,Yi=r.overflow,ir=s}var sn=null,ue=null,qt=!1,sr=null,ii=!1,Dp=Error(i(519));function rr(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ku(ti(r,s)),Dp}function _T(s){var r=s.stateNode,o=s.type,c=s.memoizedProps;switch(r[Me]=s,r[Xe]=c,o){case"dialog":Lt("cancel",r),Lt("close",r);break;case"iframe":case"object":case"embed":Lt("load",r);break;case"video":case"audio":for(o=0;o<sc.length;o++)Lt(sc[o],r);break;case"source":Lt("error",r);break;case"img":case"image":case"link":Lt("error",r),Lt("load",r);break;case"details":Lt("toggle",r);break;case"input":Lt("invalid",r),$h(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Lt("invalid",r);break;case"textarea":Lt("invalid",r),Xs(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||Ob(r.textContent,o)?(c.popover!=null&&(Lt("beforetoggle",r),Lt("toggle",r)),c.onScroll!=null&&Lt("scroll",r),c.onScrollEnd!=null&&Lt("scrollend",r),c.onClick!=null&&(r.onclick=mi),r=!0):r=!1,r||rr(s,!0)}function vT(s){for(sn=s.return;sn;)switch(sn.tag){case 5:case 31:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:sn=sn.return}}function Lo(s){if(s!==sn)return!1;if(!qt)return vT(s),qt=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||Yg(s.type,s.memoizedProps)),o=!o),o&&ue&&rr(s),vT(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ue=Hb(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ue=Hb(s)}else r===27?(r=ue,vr(s.type)?(s=Zg,Zg=null,ue=s):ue=r):ue=sn?ri(s.stateNode.nextSibling):null;return!0}function xa(){ue=sn=null,qt=!1}function Vp(){var s=sr;return s!==null&&(Rn===null?Rn=s:Rn.push.apply(Rn,s),sr=null),s}function ku(s){sr===null?sr=[s]:sr.push(s)}var Mp=L(null),Ra=null,ps=null;function ar(s,r,o){ft(Mp,r._currentValue),r._currentValue=o}function gs(s){s._currentValue=Mp.current,st(Mp)}function Np(s,r,o){for(;s!==null;){var c=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),s===o)break;s=s.return}}function Pp(s,r,o,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var g=m.dependencies;if(g!==null){var T=m.child;g=g.firstContext;t:for(;g!==null;){var S=g;g=m;for(var D=0;D<r.length;D++)if(S.context===r[D]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),Np(g.return,o,s),c||(T=null);break t}g=S.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(i(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),Np(T,o,s),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===s){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function Uo(s,r,o,c){s=null;for(var m=r,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var S=m.type;kn(m.pendingProps.value,T.value)||(s!==null?s.push(S):s=[S])}}else if(m===Ht.current){if(T=m.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(uc):s=[uc])}m=m.return}s!==null&&Pp(r,s,o,c),r.flags|=262144}function gf(s){for(s=s.firstContext;s!==null;){if(!kn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ca(s){Ra=s,ps=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function rn(s){return TT(Ra,s)}function yf(s,r){return Ra===null&&Ca(s),TT(s,r)}function TT(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ps===null){if(s===null)throw Error(i(308));ps=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else ps=ps.next=r;return o}var d2=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,c){s.push(c)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},m2=n.unstable_scheduleCallback,p2=n.unstable_NormalPriority,Oe={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Op(){return{controller:new d2,data:new Map,refCount:0}}function Lu(s){s.refCount--,s.refCount===0&&m2(p2,function(){s.controller.abort()})}var Uu=null,kp=0,Bo=0,zo=null;function g2(s,r){if(Uu===null){var o=Uu=[];kp=0,Bo=Bg(),zo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return kp++,r.then(ET,ET),r}function ET(){if(--kp===0&&Uu!==null){zo!==null&&(zo.status="fulfilled");var s=Uu;Uu=null,Bo=0,zo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function y2(s,r){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return s.then(function(){c.status="fulfilled",c.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var bT=tt.S;tt.S=function(s,r){rb=yn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&g2(s,r),bT!==null&&bT(s,r)};var Da=L(null);function Lp(){var s=Da.current;return s!==null?s:oe.pooledCache}function _f(s,r){r===null?ft(Da,Da.current):ft(Da,r.pool)}function ST(){var s=Lp();return s===null?null:{parent:Oe._currentValue,pool:s}}var jo=Error(i(460)),Up=Error(i(474)),vf=Error(i(542)),Tf={then:function(){}};function AT(s){return s=s.status,s==="fulfilled"||s==="rejected"}function wT(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(mi,mi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,xT(s),s;default:if(typeof r.status=="string")r.then(mi,mi);else{if(s=oe,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(c){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=c}},function(c){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,xT(s),s}throw Ma=r,jo}}function Va(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ma=o,jo):o}}var Ma=null;function IT(){if(Ma===null)throw Error(i(459));var s=Ma;return Ma=null,s}function xT(s){if(s===jo||s===vf)throw Error(i(483))}var Fo=null,Bu=0;function Ef(s){var r=Bu;return Bu+=1,Fo===null&&(Fo=[]),wT(Fo,s,r)}function zu(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function bf(s,r){throw r.$$typeof===E?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function RT(s){function r(z,O){if(s){var H=z.deletions;H===null?(z.deletions=[O],z.flags|=16):H.push(O)}}function o(z,O){if(!s)return null;for(;O!==null;)r(z,O),O=O.sibling;return null}function c(z){for(var O=new Map;z!==null;)z.key!==null?O.set(z.key,z):O.set(z.index,z),z=z.sibling;return O}function m(z,O){return z=ds(z,O),z.index=0,z.sibling=null,z}function g(z,O,H){return z.index=H,s?(H=z.alternate,H!==null?(H=H.index,H<O?(z.flags|=67108866,O):H):(z.flags|=67108866,O)):(z.flags|=1048576,O)}function T(z){return s&&z.alternate===null&&(z.flags|=67108866),z}function S(z,O,H,nt){return O===null||O.tag!==6?(O=Ip(H,z.mode,nt),O.return=z,O):(O=m(O,H),O.return=z,O)}function D(z,O,H,nt){var bt=H.type;return bt===B?et(z,O,H.props.children,nt,H.key):O!==null&&(O.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===w&&Va(bt)===O.type)?(O=m(O,H.props),zu(O,H),O.return=z,O):(O=mf(H.type,H.key,H.props,null,z.mode,nt),zu(O,H),O.return=z,O)}function G(z,O,H,nt){return O===null||O.tag!==4||O.stateNode.containerInfo!==H.containerInfo||O.stateNode.implementation!==H.implementation?(O=xp(H,z.mode,nt),O.return=z,O):(O=m(O,H.children||[]),O.return=z,O)}function et(z,O,H,nt,bt){return O===null||O.tag!==7?(O=Ia(H,z.mode,nt,bt),O.return=z,O):(O=m(O,H),O.return=z,O)}function it(z,O,H){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Ip(""+O,z.mode,H),O.return=z,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case I:return H=mf(O.type,O.key,O.props,null,z.mode,H),zu(H,O),H.return=z,H;case N:return O=xp(O,z.mode,H),O.return=z,O;case w:return O=Va(O),it(z,O,H)}if(Nt(O)||k(O))return O=Ia(O,z.mode,H,null),O.return=z,O;if(typeof O.then=="function")return it(z,Ef(O),H);if(O.$$typeof===j)return it(z,yf(z,O),H);bf(z,O)}return null}function $(z,O,H,nt){var bt=O!==null?O.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return bt!==null?null:S(z,O,""+H,nt);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case I:return H.key===bt?D(z,O,H,nt):null;case N:return H.key===bt?G(z,O,H,nt):null;case w:return H=Va(H),$(z,O,H,nt)}if(Nt(H)||k(H))return bt!==null?null:et(z,O,H,nt,null);if(typeof H.then=="function")return $(z,O,Ef(H),nt);if(H.$$typeof===j)return $(z,O,yf(z,H),nt);bf(z,H)}return null}function W(z,O,H,nt,bt){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return z=z.get(H)||null,S(O,z,""+nt,bt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case I:return z=z.get(nt.key===null?H:nt.key)||null,D(O,z,nt,bt);case N:return z=z.get(nt.key===null?H:nt.key)||null,G(O,z,nt,bt);case w:return nt=Va(nt),W(z,O,H,nt,bt)}if(Nt(nt)||k(nt))return z=z.get(H)||null,et(O,z,nt,bt,null);if(typeof nt.then=="function")return W(z,O,H,Ef(nt),bt);if(nt.$$typeof===j)return W(z,O,H,yf(O,nt),bt);bf(O,nt)}return null}function gt(z,O,H,nt){for(var bt=null,$t=null,Tt=O,Mt=O=0,zt=null;Tt!==null&&Mt<H.length;Mt++){Tt.index>Mt?(zt=Tt,Tt=null):zt=Tt.sibling;var Yt=$(z,Tt,H[Mt],nt);if(Yt===null){Tt===null&&(Tt=zt);break}s&&Tt&&Yt.alternate===null&&r(z,Tt),O=g(Yt,O,Mt),$t===null?bt=Yt:$t.sibling=Yt,$t=Yt,Tt=zt}if(Mt===H.length)return o(z,Tt),qt&&ms(z,Mt),bt;if(Tt===null){for(;Mt<H.length;Mt++)Tt=it(z,H[Mt],nt),Tt!==null&&(O=g(Tt,O,Mt),$t===null?bt=Tt:$t.sibling=Tt,$t=Tt);return qt&&ms(z,Mt),bt}for(Tt=c(Tt);Mt<H.length;Mt++)zt=W(Tt,z,Mt,H[Mt],nt),zt!==null&&(s&&zt.alternate!==null&&Tt.delete(zt.key===null?Mt:zt.key),O=g(zt,O,Mt),$t===null?bt=zt:$t.sibling=zt,$t=zt);return s&&Tt.forEach(function(Ar){return r(z,Ar)}),qt&&ms(z,Mt),bt}function St(z,O,H,nt){if(H==null)throw Error(i(151));for(var bt=null,$t=null,Tt=O,Mt=O=0,zt=null,Yt=H.next();Tt!==null&&!Yt.done;Mt++,Yt=H.next()){Tt.index>Mt?(zt=Tt,Tt=null):zt=Tt.sibling;var Ar=$(z,Tt,Yt.value,nt);if(Ar===null){Tt===null&&(Tt=zt);break}s&&Tt&&Ar.alternate===null&&r(z,Tt),O=g(Ar,O,Mt),$t===null?bt=Ar:$t.sibling=Ar,$t=Ar,Tt=zt}if(Yt.done)return o(z,Tt),qt&&ms(z,Mt),bt;if(Tt===null){for(;!Yt.done;Mt++,Yt=H.next())Yt=it(z,Yt.value,nt),Yt!==null&&(O=g(Yt,O,Mt),$t===null?bt=Yt:$t.sibling=Yt,$t=Yt);return qt&&ms(z,Mt),bt}for(Tt=c(Tt);!Yt.done;Mt++,Yt=H.next())Yt=W(Tt,z,Mt,Yt.value,nt),Yt!==null&&(s&&Yt.alternate!==null&&Tt.delete(Yt.key===null?Mt:Yt.key),O=g(Yt,O,Mt),$t===null?bt=Yt:$t.sibling=Yt,$t=Yt);return s&&Tt.forEach(function(RV){return r(z,RV)}),qt&&ms(z,Mt),bt}function ae(z,O,H,nt){if(typeof H=="object"&&H!==null&&H.type===B&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case I:t:{for(var bt=H.key;O!==null;){if(O.key===bt){if(bt=H.type,bt===B){if(O.tag===7){o(z,O.sibling),nt=m(O,H.props.children),nt.return=z,z=nt;break t}}else if(O.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===w&&Va(bt)===O.type){o(z,O.sibling),nt=m(O,H.props),zu(nt,H),nt.return=z,z=nt;break t}o(z,O);break}else r(z,O);O=O.sibling}H.type===B?(nt=Ia(H.props.children,z.mode,nt,H.key),nt.return=z,z=nt):(nt=mf(H.type,H.key,H.props,null,z.mode,nt),zu(nt,H),nt.return=z,z=nt)}return T(z);case N:t:{for(bt=H.key;O!==null;){if(O.key===bt)if(O.tag===4&&O.stateNode.containerInfo===H.containerInfo&&O.stateNode.implementation===H.implementation){o(z,O.sibling),nt=m(O,H.children||[]),nt.return=z,z=nt;break t}else{o(z,O);break}else r(z,O);O=O.sibling}nt=xp(H,z.mode,nt),nt.return=z,z=nt}return T(z);case w:return H=Va(H),ae(z,O,H,nt)}if(Nt(H))return gt(z,O,H,nt);if(k(H)){if(bt=k(H),typeof bt!="function")throw Error(i(150));return H=bt.call(H),St(z,O,H,nt)}if(typeof H.then=="function")return ae(z,O,Ef(H),nt);if(H.$$typeof===j)return ae(z,O,yf(z,H),nt);bf(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,O!==null&&O.tag===6?(o(z,O.sibling),nt=m(O,H),nt.return=z,z=nt):(o(z,O),nt=Ip(H,z.mode,nt),nt.return=z,z=nt),T(z)):o(z,O)}return function(z,O,H,nt){try{Bu=0;var bt=ae(z,O,H,nt);return Fo=null,bt}catch(Tt){if(Tt===jo||Tt===vf)throw Tt;var $t=Ln(29,Tt,null,z.mode);return $t.lanes=nt,$t.return=z,$t}}}var Na=RT(!0),CT=RT(!1),or=!1;function Bp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zp(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function lr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ur(s,r,o){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(Xt&2)!==0){var m=c.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),c.pending=r,r=df(s),fT(s,null,o),r}return ff(s,c,r,o),df(s)}function ju(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=s.pendingLanes,o|=c,r.lanes=o,mu(s,o)}}function jp(s,r){var o=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?m=g=r:g=g.next=r}else m=g=r;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var Fp=!1;function Fu(){if(Fp){var s=zo;if(s!==null)throw s}}function qu(s,r,o,c){Fp=!1;var m=s.updateQueue;or=!1;var g=m.firstBaseUpdate,T=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var D=S,G=D.next;D.next=null,T===null?g=G:T.next=G,T=D;var et=s.alternate;et!==null&&(et=et.updateQueue,S=et.lastBaseUpdate,S!==T&&(S===null?et.firstBaseUpdate=G:S.next=G,et.lastBaseUpdate=D))}if(g!==null){var it=m.baseState;T=0,et=G=D=null,S=g;do{var $=S.lane&-536870913,W=$!==S.lane;if(W?(Bt&$)===$:(c&$)===$){$!==0&&$===Bo&&(Fp=!0),et!==null&&(et=et.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var gt=s,St=S;$=r;var ae=o;switch(St.tag){case 1:if(gt=St.payload,typeof gt=="function"){it=gt.call(ae,it,$);break t}it=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=St.payload,$=typeof gt=="function"?gt.call(ae,it,$):gt,$==null)break t;it=v({},it,$);break t;case 2:or=!0}}$=S.callback,$!==null&&(s.flags|=64,W&&(s.flags|=8192),W=m.callbacks,W===null?m.callbacks=[$]:W.push($))}else W={lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},et===null?(G=et=W,D=it):et=et.next=W,T|=$;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;W=S,S=W.next,W.next=null,m.lastBaseUpdate=W,m.shared.pending=null}}while(!0);et===null&&(D=it),m.baseState=D,m.firstBaseUpdate=G,m.lastBaseUpdate=et,g===null&&(m.shared.lanes=0),mr|=T,s.lanes=T,s.memoizedState=it}}function DT(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function VT(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)DT(o[s],r)}var qo=L(null),Sf=L(0);function MT(s,r){s=ws,ft(Sf,s),ft(qo,r),ws=s|r.baseLanes}function qp(){ft(Sf,ws),ft(qo,qo.current)}function Hp(){ws=Sf.current,st(qo),st(Sf)}var Un=L(null),si=null;function cr(s){var r=s.alternate;ft(Ie,Ie.current&1),ft(Un,s),si===null&&(r===null||qo.current!==null||r.memoizedState!==null)&&(si=s)}function Gp(s){ft(Ie,Ie.current),ft(Un,s),si===null&&(si=s)}function NT(s){s.tag===22?(ft(Ie,Ie.current),ft(Un,s),si===null&&(si=s)):hr()}function hr(){ft(Ie,Ie.current),ft(Un,Un.current)}function Bn(s){st(Un),si===s&&(si=null),st(Ie)}var Ie=L(0);function Af(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Wg(o)||Jg(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ys=0,Ct=null,se=null,ke=null,wf=!1,Ho=!1,Pa=!1,If=0,Hu=0,Go=null,_2=0;function Ee(){throw Error(i(321))}function Kp(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!kn(s[o],r[o]))return!1;return!0}function $p(s,r,o,c,m,g){return ys=g,Ct=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,tt.H=s===null||s.memoizedState===null?gE:lg,Pa=!1,g=o(c,m),Pa=!1,Ho&&(g=OT(r,o,c,m)),PT(s),g}function PT(s){tt.H=$u;var r=se!==null&&se.next!==null;if(ys=0,ke=se=Ct=null,wf=!1,Hu=0,Go=null,r)throw Error(i(300));s===null||Le||(s=s.dependencies,s!==null&&gf(s)&&(Le=!0))}function OT(s,r,o,c){Ct=s;var m=0;do{if(Ho&&(Go=null),Hu=0,Ho=!1,25<=m)throw Error(i(301));if(m+=1,ke=se=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}tt.H=yE,g=r(o,c)}while(Ho);return g}function v2(){var s=tt.H,r=s.useState()[0];return r=typeof r.then=="function"?Gu(r):r,s=s.useState()[0],(se!==null?se.memoizedState:null)!==s&&(Ct.flags|=1024),r}function Yp(){var s=If!==0;return If=0,s}function Qp(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function Xp(s){if(wf){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}wf=!1}ys=0,ke=se=Ct=null,Ho=!1,Hu=If=0,Go=null}function vn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?Ct.memoizedState=ke=s:ke=ke.next=s,ke}function xe(){if(se===null){var s=Ct.alternate;s=s!==null?s.memoizedState:null}else s=se.next;var r=ke===null?Ct.memoizedState:ke.next;if(r!==null)ke=r,se=s;else{if(s===null)throw Ct.alternate===null?Error(i(467)):Error(i(310));se=s,s={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},ke===null?Ct.memoizedState=ke=s:ke=ke.next=s}return ke}function xf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gu(s){var r=Hu;return Hu+=1,Go===null&&(Go=[]),s=wT(Go,s,r),r=Ct,(ke===null?r.memoizedState:ke.next)===null&&(r=r.alternate,tt.H=r===null||r.memoizedState===null?gE:lg),s}function Rf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Gu(s);if(s.$$typeof===j)return rn(s)}throw Error(i(438,String(s)))}function Wp(s){var r=null,o=Ct.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Ct.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=xf(),Ct.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),c=0;c<s;c++)o[c]=P;return r.index++,o}function _s(s,r){return typeof r=="function"?r(s):r}function Cf(s){var r=xe();return Jp(r,se,s)}function Jp(s,r,o){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var m=s.baseQueue,g=c.pending;if(g!==null){if(m!==null){var T=m.next;m.next=g.next,g.next=T}r.baseQueue=m=g,c.pending=null}if(g=s.baseState,m===null)s.memoizedState=g;else{r=m.next;var S=T=null,D=null,G=r,et=!1;do{var it=G.lane&-536870913;if(it!==G.lane?(Bt&it)===it:(ys&it)===it){var $=G.revertLane;if($===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),it===Bo&&(et=!0);else if((ys&$)===$){G=G.next,$===Bo&&(et=!0);continue}else it={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(S=D=it,T=g):D=D.next=it,Ct.lanes|=$,mr|=$;it=G.action,Pa&&o(g,it),g=G.hasEagerState?G.eagerState:o(g,it)}else $={lane:it,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(S=D=$,T=g):D=D.next=$,Ct.lanes|=it,mr|=it;G=G.next}while(G!==null&&G!==r);if(D===null?T=g:D.next=S,!kn(g,s.memoizedState)&&(Le=!0,et&&(o=zo,o!==null)))throw o;s.memoizedState=g,s.baseState=T,s.baseQueue=D,c.lastRenderedState=g}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function Zp(s){var r=xe(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var c=o.dispatch,m=o.pending,g=r.memoizedState;if(m!==null){o.pending=null;var T=m=m.next;do g=s(g,T.action),T=T.next;while(T!==m);kn(g,r.memoizedState)||(Le=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function kT(s,r,o){var c=Ct,m=xe(),g=qt;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=r();var T=!kn((se||m).memoizedState,o);if(T&&(m.memoizedState=o,Le=!0),m=m.queue,ng(BT.bind(null,c,m,s),[s]),m.getSnapshot!==r||T||ke!==null&&ke.memoizedState.tag&1){if(c.flags|=2048,Ko(9,{destroy:void 0},UT.bind(null,c,m,o,r),null),oe===null)throw Error(i(349));g||(ys&127)!==0||LT(c,r,o)}return o}function LT(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Ct.updateQueue,r===null?(r=xf(),Ct.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function UT(s,r,o,c){r.value=o,r.getSnapshot=c,zT(r)&&jT(s)}function BT(s,r,o){return o(function(){zT(r)&&jT(s)})}function zT(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!kn(s,o)}catch{return!0}}function jT(s){var r=wa(s,2);r!==null&&Cn(r,s,2)}function tg(s){var r=vn();if(typeof s=="function"){var o=s;if(s=o(),Pa){Yn(!0);try{o()}finally{Yn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:s},r}function FT(s,r,o,c){return s.baseState=o,Jp(s,se,typeof c=="function"?c:_s)}function T2(s,r,o,c,m){if(Mf(s))throw Error(i(485));if(s=r.action,s!==null){var g={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};tt.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,qT(r,g)):(g.next=o.next,r.pending=o.next=g)}}function qT(s,r){var o=r.action,c=r.payload,m=s.state;if(r.isTransition){var g=tt.T,T={};tt.T=T;try{var S=o(m,c),D=tt.S;D!==null&&D(T,S),HT(s,r,S)}catch(G){eg(s,r,G)}finally{g!==null&&T.types!==null&&(g.types=T.types),tt.T=g}}else try{g=o(m,c),HT(s,r,g)}catch(G){eg(s,r,G)}}function HT(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){GT(s,r,c)},function(c){return eg(s,r,c)}):GT(s,r,o)}function GT(s,r,o){r.status="fulfilled",r.value=o,KT(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,qT(s,o)))}function eg(s,r,o){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,KT(r),r=r.next;while(r!==c)}s.action=null}function KT(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function $T(s,r){return r}function YT(s,r){if(qt){var o=oe.formState;if(o!==null){t:{var c=Ct;if(qt){if(ue){e:{for(var m=ue,g=ii;m.nodeType!==8;){if(!g){m=null;break e}if(m=ri(m.nextSibling),m===null){m=null;break e}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){ue=ri(m.nextSibling),c=m.data==="F!";break t}}rr(c)}c=!1}c&&(r=o[0])}}return o=vn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$T,lastRenderedState:r},o.queue=c,o=dE.bind(null,Ct,c),c.dispatch=o,c=tg(!1),g=og.bind(null,Ct,!1,c.queue),c=vn(),m={state:r,dispatch:null,action:s,pending:null},c.queue=m,o=T2.bind(null,Ct,m,g,o),m.dispatch=o,c.memoizedState=s,[r,o,!1]}function QT(s){var r=xe();return XT(r,se,s)}function XT(s,r,o){if(r=Jp(s,r,$T)[0],s=Cf(_s)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Gu(r)}catch(T){throw T===jo?vf:T}else c=r;r=xe();var m=r.queue,g=m.dispatch;return o!==r.memoizedState&&(Ct.flags|=2048,Ko(9,{destroy:void 0},E2.bind(null,m,o),null)),[c,g,s]}function E2(s,r){s.action=r}function WT(s){var r=xe(),o=se;if(o!==null)return XT(r,o,s);xe(),r=r.memoizedState,o=xe();var c=o.queue.dispatch;return o.memoizedState=s,[r,c,!1]}function Ko(s,r,o,c){return s={tag:s,create:o,deps:c,inst:r,next:null},r=Ct.updateQueue,r===null&&(r=xf(),Ct.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(c=o.next,o.next=s,s.next=c,r.lastEffect=s),s}function JT(){return xe().memoizedState}function Df(s,r,o,c){var m=vn();Ct.flags|=s,m.memoizedState=Ko(1|r,{destroy:void 0},o,c===void 0?null:c)}function Vf(s,r,o,c){var m=xe();c=c===void 0?null:c;var g=m.memoizedState.inst;se!==null&&c!==null&&Kp(c,se.memoizedState.deps)?m.memoizedState=Ko(r,g,o,c):(Ct.flags|=s,m.memoizedState=Ko(1|r,g,o,c))}function ZT(s,r){Df(8390656,8,s,r)}function ng(s,r){Vf(2048,8,s,r)}function b2(s){Ct.flags|=4;var r=Ct.updateQueue;if(r===null)r=xf(),Ct.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function tE(s){var r=xe().memoizedState;return b2({ref:r,nextImpl:s}),function(){if((Xt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function eE(s,r){return Vf(4,2,s,r)}function nE(s,r){return Vf(4,4,s,r)}function iE(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function sE(s,r,o){o=o!=null?o.concat([s]):null,Vf(4,4,iE.bind(null,r,s),o)}function ig(){}function rE(s,r){var o=xe();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Kp(r,c[1])?c[0]:(o.memoizedState=[s,r],s)}function aE(s,r){var o=xe();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Kp(r,c[1]))return c[0];if(c=s(),Pa){Yn(!0);try{s()}finally{Yn(!1)}}return o.memoizedState=[c,r],c}function sg(s,r,o){return o===void 0||(ys&1073741824)!==0&&(Bt&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=ob(),Ct.lanes|=s,mr|=s,o)}function oE(s,r,o,c){return kn(o,r)?o:qo.current!==null?(s=sg(s,o,c),kn(s,r)||(Le=!0),s):(ys&42)===0||(ys&1073741824)!==0&&(Bt&261930)===0?(Le=!0,s.memoizedState=o):(s=ob(),Ct.lanes|=s,mr|=s,r)}function lE(s,r,o,c,m){var g=ot.p;ot.p=g!==0&&8>g?g:8;var T=tt.T,S={};tt.T=S,og(s,!1,r,o);try{var D=m(),G=tt.S;if(G!==null&&G(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var et=y2(D,c);Ku(s,r,et,Fn(s))}else Ku(s,r,c,Fn(s))}catch(it){Ku(s,r,{then:function(){},status:"rejected",reason:it},Fn())}finally{ot.p=g,T!==null&&S.types!==null&&(T.types=S.types),tt.T=T}}function S2(){}function rg(s,r,o,c){if(s.tag!==5)throw Error(i(476));var m=uE(s).queue;lE(s,m,r,dt,o===null?S2:function(){return cE(s),o(c)})}function uE(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:dt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function cE(s){var r=uE(s);r.next===null&&(r=s.alternate.memoizedState),Ku(s,r.next.queue,{},Fn())}function ag(){return rn(uc)}function hE(){return xe().memoizedState}function fE(){return xe().memoizedState}function A2(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Fn();s=lr(o);var c=ur(r,s,o);c!==null&&(Cn(c,r,o),ju(c,r,o)),r={cache:Op()},s.payload=r;return}r=r.return}}function w2(s,r,o){var c=Fn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Mf(s)?mE(r,o):(o=Ap(s,r,o,c),o!==null&&(Cn(o,s,c),pE(o,r,c)))}function dE(s,r,o){var c=Fn();Ku(s,r,o,c)}function Ku(s,r,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Mf(s))mE(r,m);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,S=g(T,o);if(m.hasEagerState=!0,m.eagerState=S,kn(S,T))return ff(s,r,m,0),oe===null&&hf(),!1}catch{}if(o=Ap(s,r,m,c),o!==null)return Cn(o,s,c),pE(o,r,c),!0}return!1}function og(s,r,o,c){if(c={lane:2,revertLane:Bg(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Mf(s)){if(r)throw Error(i(479))}else r=Ap(s,o,c,2),r!==null&&Cn(r,s,2)}function Mf(s){var r=s.alternate;return s===Ct||r!==null&&r===Ct}function mE(s,r){Ho=wf=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function pE(s,r,o){if((o&4194048)!==0){var c=r.lanes;c&=s.pendingLanes,o|=c,r.lanes=o,mu(s,o)}}var $u={readContext:rn,use:Rf,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee};$u.useEffectEvent=Ee;var gE={readContext:rn,use:Rf,useCallback:function(s,r){return vn().memoizedState=[s,r===void 0?null:r],s},useContext:rn,useEffect:ZT,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,Df(4194308,4,iE.bind(null,r,s),o)},useLayoutEffect:function(s,r){return Df(4194308,4,s,r)},useInsertionEffect:function(s,r){Df(4,2,s,r)},useMemo:function(s,r){var o=vn();r=r===void 0?null:r;var c=s();if(Pa){Yn(!0);try{s()}finally{Yn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(s,r,o){var c=vn();if(o!==void 0){var m=o(r);if(Pa){Yn(!0);try{o(r)}finally{Yn(!1)}}}else m=r;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=w2.bind(null,Ct,s),[c.memoizedState,s]},useRef:function(s){var r=vn();return s={current:s},r.memoizedState=s},useState:function(s){s=tg(s);var r=s.queue,o=dE.bind(null,Ct,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:ig,useDeferredValue:function(s,r){var o=vn();return sg(o,s,r)},useTransition:function(){var s=tg(!1);return s=lE.bind(null,Ct,s.queue,!0,!1),vn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var c=Ct,m=vn();if(qt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),oe===null)throw Error(i(349));(Bt&127)!==0||LT(c,r,o)}m.memoizedState=o;var g={value:o,getSnapshot:r};return m.queue=g,ZT(BT.bind(null,c,g,s),[s]),c.flags|=2048,Ko(9,{destroy:void 0},UT.bind(null,c,g,o,r),null),o},useId:function(){var s=vn(),r=oe.identifierPrefix;if(qt){var o=Yi,c=$i;o=(c&~(1<<32-Ae(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=If++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=_2++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:ag,useFormState:YT,useActionState:YT,useOptimistic:function(s){var r=vn();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=og.bind(null,Ct,!0,o),o.dispatch=r,[s,r]},useMemoCache:Wp,useCacheRefresh:function(){return vn().memoizedState=A2.bind(null,Ct)},useEffectEvent:function(s){var r=vn(),o={impl:s};return r.memoizedState=o,function(){if((Xt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},lg={readContext:rn,use:Rf,useCallback:rE,useContext:rn,useEffect:ng,useImperativeHandle:sE,useInsertionEffect:eE,useLayoutEffect:nE,useMemo:aE,useReducer:Cf,useRef:JT,useState:function(){return Cf(_s)},useDebugValue:ig,useDeferredValue:function(s,r){var o=xe();return oE(o,se.memoizedState,s,r)},useTransition:function(){var s=Cf(_s)[0],r=xe().memoizedState;return[typeof s=="boolean"?s:Gu(s),r]},useSyncExternalStore:kT,useId:hE,useHostTransitionStatus:ag,useFormState:QT,useActionState:QT,useOptimistic:function(s,r){var o=xe();return FT(o,se,s,r)},useMemoCache:Wp,useCacheRefresh:fE};lg.useEffectEvent=tE;var yE={readContext:rn,use:Rf,useCallback:rE,useContext:rn,useEffect:ng,useImperativeHandle:sE,useInsertionEffect:eE,useLayoutEffect:nE,useMemo:aE,useReducer:Zp,useRef:JT,useState:function(){return Zp(_s)},useDebugValue:ig,useDeferredValue:function(s,r){var o=xe();return se===null?sg(o,s,r):oE(o,se.memoizedState,s,r)},useTransition:function(){var s=Zp(_s)[0],r=xe().memoizedState;return[typeof s=="boolean"?s:Gu(s),r]},useSyncExternalStore:kT,useId:hE,useHostTransitionStatus:ag,useFormState:WT,useActionState:WT,useOptimistic:function(s,r){var o=xe();return se!==null?FT(o,se,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:Wp,useCacheRefresh:fE};yE.useEffectEvent=tE;function ug(s,r,o,c){r=s.memoizedState,o=o(c,r),o=o==null?r:v({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var cg={enqueueSetState:function(s,r,o){s=s._reactInternals;var c=Fn(),m=lr(c);m.payload=r,o!=null&&(m.callback=o),r=ur(s,m,c),r!==null&&(Cn(r,s,c),ju(r,s,c))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var c=Fn(),m=lr(c);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=ur(s,m,c),r!==null&&(Cn(r,s,c),ju(r,s,c))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Fn(),c=lr(o);c.tag=2,r!=null&&(c.callback=r),r=ur(s,c,o),r!==null&&(Cn(r,s,o),ju(r,s,o))}};function _E(s,r,o,c,m,g,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,g,T):r.prototype&&r.prototype.isPureReactComponent?!Nu(o,c)||!Nu(m,g):!0}function vE(s,r,o,c){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==s&&cg.enqueueReplaceState(r,r.state,null)}function Oa(s,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(s=s.defaultProps){o===r&&(o=v({},o));for(var m in s)o[m]===void 0&&(o[m]=s[m])}return o}function TE(s){cf(s)}function EE(s){console.error(s)}function bE(s){cf(s)}function Nf(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function SE(s,r,o){try{var c=s.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function hg(s,r,o){return o=lr(o),o.tag=3,o.payload={element:null},o.callback=function(){Nf(s,r)},o}function AE(s){return s=lr(s),s.tag=3,s}function wE(s,r,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;s.payload=function(){return m(g)},s.callback=function(){SE(r,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){SE(r,o,c),typeof m!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function I2(s,r,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Uo(r,o,m,!0),o=Un.current,o!==null){switch(o.tag){case 31:case 13:return si===null?Gf():o.alternate===null&&be===0&&(be=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Tf?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),kg(s,c,m)),!1;case 22:return o.flags|=65536,c===Tf?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),kg(s,c,m)),!1}throw Error(i(435,o.tag))}return kg(s,c,m),Gf(),!1}if(qt)return r=Un.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,c!==Dp&&(s=Error(i(422),{cause:c}),ku(ti(s,o)))):(c!==Dp&&(r=Error(i(423),{cause:c}),ku(ti(r,o))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=ti(c,o),m=hg(s.stateNode,c,m),jp(s,m),be!==4&&(be=2)),!1;var g=Error(i(520),{cause:c});if(g=ti(g,o),ec===null?ec=[g]:ec.push(g),be!==4&&(be=2),r===null)return!0;c=ti(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=m&-m,o.lanes|=s,s=hg(o.stateNode,c,s),jp(o,s),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(pr===null||!pr.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=AE(m),wE(m,s,o,c),jp(o,m),!1}o=o.return}while(o!==null);return!1}var fg=Error(i(461)),Le=!1;function an(s,r,o,c){r.child=s===null?CT(r,null,o,c):Na(r,s.child,o,c)}function IE(s,r,o,c,m){o=o.render;var g=r.ref;if("ref"in c){var T={};for(var S in c)S!=="ref"&&(T[S]=c[S])}else T=c;return Ca(r),c=$p(s,r,o,T,g,m),S=Yp(),s!==null&&!Le?(Qp(s,r,m),vs(s,r,m)):(qt&&S&&Rp(r),r.flags|=1,an(s,r,c,m),r.child)}function xE(s,r,o,c,m){if(s===null){var g=o.type;return typeof g=="function"&&!wp(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,RE(s,r,g,c,m)):(s=mf(o.type,null,c,r,r.mode,m),s.ref=r.ref,s.return=r,r.child=s)}if(g=s.child,!Tg(s,m)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Nu,o(T,c)&&s.ref===r.ref)return vs(s,r,m)}return r.flags|=1,s=ds(g,c),s.ref=r.ref,s.return=r,r.child=s}function RE(s,r,o,c,m){if(s!==null){var g=s.memoizedProps;if(Nu(g,c)&&s.ref===r.ref)if(Le=!1,r.pendingProps=c=g,Tg(s,m))(s.flags&131072)!==0&&(Le=!0);else return r.lanes=s.lanes,vs(s,r,m)}return dg(s,r,o,c,m)}function CE(s,r,o,c){var m=c.children,g=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,s!==null){for(c=r.child=s.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,r.child=null;return DE(s,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&_f(r,g!==null?g.cachePool:null),g!==null?MT(r,g):qp(),NT(r);else return c=r.lanes=536870912,DE(s,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(_f(r,g.cachePool),MT(r,g),hr(),r.memoizedState=null):(s!==null&&_f(r,null),qp(),hr());return an(s,r,m,o),r.child}function Yu(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function DE(s,r,o,c,m){var g=Lp();return g=g===null?null:{parent:Oe._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},s!==null&&_f(r,null),qp(),NT(r),s!==null&&Uo(s,r,c,!0),r.childLanes=m,null}function Pf(s,r){return r=kf({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function VE(s,r,o){return Na(r,s.child,null,o),s=Pf(r,r.pendingProps),s.flags|=2,Bn(r),r.memoizedState=null,s}function x2(s,r,o){var c=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(qt){if(c.mode==="hidden")return s=Pf(r,c),r.lanes=536870912,Yu(null,s);if(Gp(r),(s=ue)?(s=qb(s,ii),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:ir!==null?{id:$i,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},o=mT(s),o.return=r,r.child=o,sn=r,ue=null)):s=null,s===null)throw rr(r);return r.lanes=536870912,null}return Pf(r,c)}var g=s.memoizedState;if(g!==null){var T=g.dehydrated;if(Gp(r),m)if(r.flags&256)r.flags&=-257,r=VE(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Le||Uo(s,r,o,!1),m=(o&s.childLanes)!==0,Le||m){if(c=oe,c!==null&&(T=pu(c,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,wa(s,T),Cn(c,s,T),fg;Gf(),r=VE(s,r,o)}else s=g.treeContext,ue=ri(T.nextSibling),sn=r,qt=!0,sr=null,ii=!1,s!==null&&yT(r,s),r=Pf(r,c),r.flags|=4096;return r}return s=ds(s.child,{mode:c.mode,children:c.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Of(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function dg(s,r,o,c,m){return Ca(r),o=$p(s,r,o,c,void 0,m),c=Yp(),s!==null&&!Le?(Qp(s,r,m),vs(s,r,m)):(qt&&c&&Rp(r),r.flags|=1,an(s,r,o,m),r.child)}function ME(s,r,o,c,m,g){return Ca(r),r.updateQueue=null,o=OT(r,c,o,m),PT(s),c=Yp(),s!==null&&!Le?(Qp(s,r,g),vs(s,r,g)):(qt&&c&&Rp(r),r.flags|=1,an(s,r,o,g),r.child)}function NE(s,r,o,c,m){if(Ca(r),r.stateNode===null){var g=Po,T=o.contextType;typeof T=="object"&&T!==null&&(g=rn(T)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=cg,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},Bp(r),T=o.contextType,g.context=typeof T=="object"&&T!==null?rn(T):Po,g.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(ug(r,o,T,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&cg.enqueueReplaceState(g,g.state,null),qu(r,c,g,m),Fu(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(s===null){g=r.stateNode;var S=r.memoizedProps,D=Oa(o,S);g.props=D;var G=g.context,et=o.contextType;T=Po,typeof et=="object"&&et!==null&&(T=rn(et));var it=o.getDerivedStateFromProps;et=typeof it=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,et||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||G!==T)&&vE(r,g,c,T),or=!1;var $=r.memoizedState;g.state=$,qu(r,c,g,m),Fu(),G=r.memoizedState,S||$!==G||or?(typeof it=="function"&&(ug(r,o,it,c),G=r.memoizedState),(D=or||_E(r,o,D,c,$,G,T))?(et||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=G),g.props=c,g.state=G,g.context=T,c=D):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,zp(s,r),T=r.memoizedProps,et=Oa(o,T),g.props=et,it=r.pendingProps,$=g.context,G=o.contextType,D=Po,typeof G=="object"&&G!==null&&(D=rn(G)),S=o.getDerivedStateFromProps,(G=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==it||$!==D)&&vE(r,g,c,D),or=!1,$=r.memoizedState,g.state=$,qu(r,c,g,m),Fu();var W=r.memoizedState;T!==it||$!==W||or||s!==null&&s.dependencies!==null&&gf(s.dependencies)?(typeof S=="function"&&(ug(r,o,S,c),W=r.memoizedState),(et=or||_E(r,o,et,c,$,W,D)||s!==null&&s.dependencies!==null&&gf(s.dependencies))?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,W,D),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,W,D)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===s.memoizedProps&&$===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&$===s.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=W),g.props=c,g.state=W,g.context=D,c=et):(typeof g.componentDidUpdate!="function"||T===s.memoizedProps&&$===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&$===s.memoizedState||(r.flags|=1024),c=!1)}return g=c,Of(s,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,s!==null&&c?(r.child=Na(r,s.child,null,m),r.child=Na(r,null,o,m)):an(s,r,o,m),r.memoizedState=g.state,s=r.child):s=vs(s,r,m),s}function PE(s,r,o,c){return xa(),r.flags|=256,an(s,r,o,c),r.child}var mg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pg(s){return{baseLanes:s,cachePool:ST()}}function gg(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=jn),s}function OE(s,r,o){var c=r.pendingProps,m=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=s!==null&&s.memoizedState===null?!1:(Ie.current&2)!==0),T&&(m=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,s===null){if(qt){if(m?cr(r):hr(),(s=ue)?(s=qb(s,ii),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:ir!==null?{id:$i,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},o=mT(s),o.return=r,r.child=o,sn=r,ue=null)):s=null,s===null)throw rr(r);return Jg(s)?r.lanes=32:r.lanes=536870912,null}var S=c.children;return c=c.fallback,m?(hr(),m=r.mode,S=kf({mode:"hidden",children:S},m),c=Ia(c,m,o,null),S.return=r,c.return=r,S.sibling=c,r.child=S,c=r.child,c.memoizedState=pg(o),c.childLanes=gg(s,T,o),r.memoizedState=mg,Yu(null,c)):(cr(r),yg(r,S))}var D=s.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(g)r.flags&256?(cr(r),r.flags&=-257,r=_g(s,r,o)):r.memoizedState!==null?(hr(),r.child=s.child,r.flags|=128,r=null):(hr(),S=c.fallback,m=r.mode,c=kf({mode:"visible",children:c.children},m),S=Ia(S,m,o,null),S.flags|=2,c.return=r,S.return=r,c.sibling=S,r.child=c,Na(r,s.child,null,o),c=r.child,c.memoizedState=pg(o),c.childLanes=gg(s,T,o),r.memoizedState=mg,r=Yu(null,c));else if(cr(r),Jg(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var G=T.dgst;T=G,c=Error(i(419)),c.stack="",c.digest=T,ku({value:c,source:null,stack:null}),r=_g(s,r,o)}else if(Le||Uo(s,r,o,!1),T=(o&s.childLanes)!==0,Le||T){if(T=oe,T!==null&&(c=pu(T,o),c!==0&&c!==D.retryLane))throw D.retryLane=c,wa(s,c),Cn(T,s,c),fg;Wg(S)||Gf(),r=_g(s,r,o)}else Wg(S)?(r.flags|=192,r.child=s.child,r=null):(s=D.treeContext,ue=ri(S.nextSibling),sn=r,qt=!0,sr=null,ii=!1,s!==null&&yT(r,s),r=yg(r,c.children),r.flags|=4096);return r}return m?(hr(),S=c.fallback,m=r.mode,D=s.child,G=D.sibling,c=ds(D,{mode:"hidden",children:c.children}),c.subtreeFlags=D.subtreeFlags&65011712,G!==null?S=ds(G,S):(S=Ia(S,m,o,null),S.flags|=2),S.return=r,c.return=r,c.sibling=S,r.child=c,Yu(null,c),c=r.child,S=s.child.memoizedState,S===null?S=pg(o):(m=S.cachePool,m!==null?(D=Oe._currentValue,m=m.parent!==D?{parent:D,pool:D}:m):m=ST(),S={baseLanes:S.baseLanes|o,cachePool:m}),c.memoizedState=S,c.childLanes=gg(s,T,o),r.memoizedState=mg,Yu(s.child,c)):(cr(r),o=s.child,s=o.sibling,o=ds(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,s!==null&&(T=r.deletions,T===null?(r.deletions=[s],r.flags|=16):T.push(s)),r.child=o,r.memoizedState=null,o)}function yg(s,r){return r=kf({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function kf(s,r){return s=Ln(22,s,null,r),s.lanes=0,s}function _g(s,r,o){return Na(r,s.child,null,o),s=yg(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function kE(s,r,o){s.lanes|=r;var c=s.alternate;c!==null&&(c.lanes|=r),Np(s.return,r,o)}function vg(s,r,o,c,m,g){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=m,T.treeForkCount=g)}function LE(s,r,o){var c=r.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var T=Ie.current,S=(T&2)!==0;if(S?(T=T&1|2,r.flags|=128):T&=1,ft(Ie,T),an(s,r,c,o),c=qt?Ou:0,!S&&s!==null&&(s.flags&128)!==0)t:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&kE(s,o,r);else if(s.tag===19)kE(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)s=o.alternate,s!==null&&Af(s)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),vg(r,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(s=m.alternate,s!==null&&Af(s)===null){r.child=m;break}s=m.sibling,m.sibling=o,o=m,m=s}vg(r,!0,o,null,g,c);break;case"together":vg(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function vs(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),mr|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(Uo(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=ds(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=ds(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function Tg(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&gf(s)))}function R2(s,r,o){switch(r.tag){case 3:qe(r,r.stateNode.containerInfo),ar(r,Oe,s.memoizedState.cache),xa();break;case 27:case 5:oa(r);break;case 4:qe(r,r.stateNode.containerInfo);break;case 10:ar(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Gp(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(cr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?OE(s,r,o):(cr(r),s=vs(s,r,o),s!==null?s.sibling:null);cr(r);break;case 19:var m=(s.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Uo(s,r,o,!1),c=(o&r.childLanes)!==0),m){if(c)return LE(s,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ft(Ie,Ie.current),c)break;return null;case 22:return r.lanes=0,CE(s,r,o,r.pendingProps);case 24:ar(r,Oe,s.memoizedState.cache)}return vs(s,r,o)}function UE(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)Le=!0;else{if(!Tg(s,o)&&(r.flags&128)===0)return Le=!1,R2(s,r,o);Le=(s.flags&131072)!==0}else Le=!1,qt&&(r.flags&1048576)!==0&&gT(r,Ou,r.index);switch(r.lanes=0,r.tag){case 16:t:{var c=r.pendingProps;if(s=Va(r.elementType),r.type=s,typeof s=="function")wp(s)?(c=Oa(s,c),r.tag=1,r=NE(null,r,s,c,o)):(r.tag=0,r=dg(null,r,s,c,o));else{if(s!=null){var m=s.$$typeof;if(m===Y){r.tag=11,r=IE(null,r,s,c,o);break t}else if(m===x){r.tag=14,r=xE(null,r,s,c,o);break t}}throw r=Ot(s)||s,Error(i(306,r,""))}}return r;case 0:return dg(s,r,r.type,r.pendingProps,o);case 1:return c=r.type,m=Oa(c,r.pendingProps),NE(s,r,c,m,o);case 3:t:{if(qe(r,r.stateNode.containerInfo),s===null)throw Error(i(387));c=r.pendingProps;var g=r.memoizedState;m=g.element,zp(s,r),qu(r,c,null,o);var T=r.memoizedState;if(c=T.cache,ar(r,Oe,c),c!==g.cache&&Pp(r,[Oe],o,!0),Fu(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=PE(s,r,c,o);break t}else if(c!==m){m=ti(Error(i(424)),r),ku(m),r=PE(s,r,c,o);break t}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,ue=ri(s.firstChild),sn=r,qt=!0,sr=null,ii=!0,o=CT(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(xa(),c===m){r=vs(s,r,o);break t}an(s,r,c,o)}r=r.child}return r;case 26:return Of(s,r),s===null?(o=Qb(r.type,null,r.pendingProps,null))?r.memoizedState=o:qt||(o=r.type,s=r.pendingProps,c=Jf(Vt.current).createElement(o),c[Me]=r,c[Xe]=s,on(c,o,s),Ne(c),r.stateNode=c):r.memoizedState=Qb(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return oa(r),s===null&&qt&&(c=r.stateNode=Kb(r.type,r.pendingProps,Vt.current),sn=r,ii=!0,m=ue,vr(r.type)?(Zg=m,ue=ri(c.firstChild)):ue=m),an(s,r,r.pendingProps.children,o),Of(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&qt&&((m=c=ue)&&(c=sV(c,r.type,r.pendingProps,ii),c!==null?(r.stateNode=c,sn=r,ue=ri(c.firstChild),ii=!1,m=!0):m=!1),m||rr(r)),oa(r),m=r.type,g=r.pendingProps,T=s!==null?s.memoizedProps:null,c=g.children,Yg(m,g)?c=null:T!==null&&Yg(m,T)&&(r.flags|=32),r.memoizedState!==null&&(m=$p(s,r,v2,null,null,o),uc._currentValue=m),Of(s,r),an(s,r,c,o),r.child;case 6:return s===null&&qt&&((s=o=ue)&&(o=rV(o,r.pendingProps,ii),o!==null?(r.stateNode=o,sn=r,ue=null,s=!0):s=!1),s||rr(r)),null;case 13:return OE(s,r,o);case 4:return qe(r,r.stateNode.containerInfo),c=r.pendingProps,s===null?r.child=Na(r,null,c,o):an(s,r,c,o),r.child;case 11:return IE(s,r,r.type,r.pendingProps,o);case 7:return an(s,r,r.pendingProps,o),r.child;case 8:return an(s,r,r.pendingProps.children,o),r.child;case 12:return an(s,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,ar(r,r.type,c.value),an(s,r,c.children,o),r.child;case 9:return m=r.type._context,c=r.pendingProps.children,Ca(r),m=rn(m),c=c(m),r.flags|=1,an(s,r,c,o),r.child;case 14:return xE(s,r,r.type,r.pendingProps,o);case 15:return RE(s,r,r.type,r.pendingProps,o);case 19:return LE(s,r,o);case 31:return x2(s,r,o);case 22:return CE(s,r,o,r.pendingProps);case 24:return Ca(r),c=rn(Oe),s===null?(m=Lp(),m===null&&(m=oe,g=Op(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),r.memoizedState={parent:c,cache:m},Bp(r),ar(r,Oe,m)):((s.lanes&o)!==0&&(zp(s,r),qu(r,null,null,o),Fu()),m=s.memoizedState,g=r.memoizedState,m.parent!==c?(m={parent:c,cache:c},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),ar(r,Oe,c)):(c=g.cache,ar(r,Oe,c),c!==m.cache&&Pp(r,[Oe],o,!0))),an(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Ts(s){s.flags|=4}function Eg(s,r,o,c,m){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(hb())s.flags|=8192;else throw Ma=Tf,Up}else s.flags&=-16777217}function BE(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!tS(r))if(hb())s.flags|=8192;else throw Ma=Tf,Up}function Lf(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Fh():536870912,s.lanes|=r,Xo|=r)}function Qu(s,r){if(!qt)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function ce(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,c=0;if(r)for(var m=s.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=o,r}function C2(s,r,o){var c=r.pendingProps;switch(Cp(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(r),null;case 1:return ce(r),null;case 3:return o=r.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),gs(Oe),fe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Lo(r)?Ts(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Vp())),ce(r),null;case 26:var m=r.type,g=r.memoizedState;return s===null?(Ts(r),g!==null?(ce(r),BE(r,g)):(ce(r),Eg(r,m,null,c,o))):g?g!==s.memoizedState?(Ts(r),ce(r),BE(r,g)):(ce(r),r.flags&=-16777217):(s=s.memoizedProps,s!==c&&Ts(r),ce(r),Eg(r,m,s,c,o)),null;case 27:if(po(r),o=Vt.current,m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&Ts(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return ce(r),null}s=pt.current,Lo(r)?_T(r):(s=Kb(m,c,o),r.stateNode=s,Ts(r))}return ce(r),null;case 5:if(po(r),m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&Ts(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return ce(r),null}if(g=pt.current,Lo(r))_T(r);else{var T=Jf(Vt.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?T.createElement(m,{is:c.is}):T.createElement(m)}}g[Me]=r,g[Xe]=c;t:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break t;for(;T.sibling===null;){if(T.return===null||T.return===r)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=g;t:switch(on(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&Ts(r)}}return ce(r),Eg(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==c&&Ts(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(s=Vt.current,Lo(r)){if(s=r.stateNode,o=r.memoizedProps,c=null,m=sn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[Me]=r,s=!!(s.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Ob(s.nodeValue,o)),s||rr(r,!0)}else s=Jf(s).createTextNode(c),s[Me]=r,r.stateNode=s}return ce(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(c=Lo(r),o!==null){if(s===null){if(!c)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Me]=r}else xa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ce(r),s=!1}else o=Vp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(Bn(r),r):(Bn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ce(r),null;case 13:if(c=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Lo(r),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Me]=r}else xa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ce(r),m=!1}else m=Vp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(Bn(r),r):(Bn(r),null)}return Bn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,s=s!==null&&s.memoizedState!==null,o&&(c=r.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),Lf(r,r.updateQueue),ce(r),null);case 4:return fe(),s===null&&qg(r.stateNode.containerInfo),ce(r),null;case 10:return gs(r.type),ce(r),null;case 19:if(st(Ie),c=r.memoizedState,c===null)return ce(r),null;if(m=(r.flags&128)!==0,g=c.rendering,g===null)if(m)Qu(c,!1);else{if(be!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(g=Af(s),g!==null){for(r.flags|=128,Qu(c,!1),s=g.updateQueue,r.updateQueue=s,Lf(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)dT(o,s),o=o.sibling;return ft(Ie,Ie.current&1|2),qt&&ms(r,c.treeForkCount),r.child}s=s.sibling}c.tail!==null&&yn()>Ff&&(r.flags|=128,m=!0,Qu(c,!1),r.lanes=4194304)}else{if(!m)if(s=Af(g),s!==null){if(r.flags|=128,m=!0,s=s.updateQueue,r.updateQueue=s,Lf(r,s),Qu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!qt)return ce(r),null}else 2*yn()-c.renderingStartTime>Ff&&o!==536870912&&(r.flags|=128,m=!0,Qu(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(s=c.last,s!==null?s.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=yn(),s.sibling=null,o=Ie.current,ft(Ie,m?o&1|2:o&1),qt&&ms(r,c.treeForkCount),s):(ce(r),null);case 22:case 23:return Bn(r),Hp(),c=r.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(ce(r),r.subtreeFlags&6&&(r.flags|=8192)):ce(r),o=r.updateQueue,o!==null&&Lf(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),s!==null&&st(Da),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),gs(Oe),ce(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function D2(s,r){switch(Cp(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return gs(Oe),fe(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return po(r),null;case 31:if(r.memoizedState!==null){if(Bn(r),r.alternate===null)throw Error(i(340));xa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Bn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));xa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return st(Ie),null;case 4:return fe(),null;case 10:return gs(r.type),null;case 22:case 23:return Bn(r),Hp(),s!==null&&st(Da),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return gs(Oe),null;case 25:return null;default:return null}}function zE(s,r){switch(Cp(r),r.tag){case 3:gs(Oe),fe();break;case 26:case 27:case 5:po(r);break;case 4:fe();break;case 31:r.memoizedState!==null&&Bn(r);break;case 13:Bn(r);break;case 19:st(Ie);break;case 10:gs(r.type);break;case 22:case 23:Bn(r),Hp(),s!==null&&st(Da);break;case 24:gs(Oe)}}function Xu(s,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&s)===s){c=void 0;var g=o.create,T=o.inst;c=g(),T.destroy=c}o=o.next}while(o!==m)}}catch(S){Zt(r,r.return,S)}}function fr(s,r,o){try{var c=r.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&s)===s){var T=c.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,m=r;var D=o,G=S;try{G()}catch(et){Zt(m,D,et)}}}c=c.next}while(c!==g)}}catch(et){Zt(r,r.return,et)}}function jE(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{VT(r,o)}catch(c){Zt(s,s.return,c)}}}function FE(s,r,o){o.props=Oa(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(c){Zt(s,r,c)}}function Wu(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof o=="function"?s.refCleanup=o(c):o.current=c}}catch(m){Zt(s,r,m)}}function Qi(s,r){var o=s.ref,c=s.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Zt(s,r,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Zt(s,r,m)}else o.current=null}function qE(s){var r=s.type,o=s.memoizedProps,c=s.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Zt(s,s.return,m)}}function bg(s,r,o){try{var c=s.stateNode;J2(c,s.type,o,r),c[Xe]=r}catch(m){Zt(s,s.return,m)}}function HE(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&vr(s.type)||s.tag===4}function Sg(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||HE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&vr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ag(s,r,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=mi));else if(c!==4&&(c===27&&vr(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(Ag(s,r,o),s=s.sibling;s!==null;)Ag(s,r,o),s=s.sibling}function Uf(s,r,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(c!==4&&(c===27&&vr(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(Uf(s,r,o),s=s.sibling;s!==null;)Uf(s,r,o),s=s.sibling}function GE(s){var r=s.stateNode,o=s.memoizedProps;try{for(var c=s.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);on(r,c,o),r[Me]=s,r[Xe]=o}catch(g){Zt(s,s.return,g)}}var Es=!1,Ue=!1,wg=!1,KE=typeof WeakSet=="function"?WeakSet:Set,Je=null;function V2(s,r){if(s=s.containerInfo,Kg=rd,s=sT(s),_p(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else t:{o=(o=s.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var T=0,S=-1,D=-1,G=0,et=0,it=s,$=null;e:for(;;){for(var W;it!==o||m!==0&&it.nodeType!==3||(S=T+m),it!==g||c!==0&&it.nodeType!==3||(D=T+c),it.nodeType===3&&(T+=it.nodeValue.length),(W=it.firstChild)!==null;)$=it,it=W;for(;;){if(it===s)break e;if($===o&&++G===m&&(S=T),$===g&&++et===c&&(D=T),(W=it.nextSibling)!==null)break;it=$,$=it.parentNode}it=W}o=S===-1||D===-1?null:{start:S,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for($g={focusedElem:s,selectionRange:o},rd=!1,Je=r;Je!==null;)if(r=Je,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Je=s;else for(;Je!==null;){switch(r=Je,g=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)m=s[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,o=r,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var gt=Oa(o.type,m);s=c.getSnapshotBeforeUpdate(gt,g),c.__reactInternalSnapshotBeforeUpdate=s}catch(St){Zt(o,o.return,St)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)Xg(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Xg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Je=s;break}Je=r.return}}function $E(s,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Ss(s,o),c&4&&Xu(5,o);break;case 1:if(Ss(s,o),c&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(T){Zt(o,o.return,T)}else{var m=Oa(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(m,r,s.__reactInternalSnapshotBeforeUpdate)}catch(T){Zt(o,o.return,T)}}c&64&&jE(o),c&512&&Wu(o,o.return);break;case 3:if(Ss(s,o),c&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{VT(s,r)}catch(T){Zt(o,o.return,T)}}break;case 27:r===null&&c&4&&GE(o);case 26:case 5:Ss(s,o),r===null&&c&4&&qE(o),c&512&&Wu(o,o.return);break;case 12:Ss(s,o);break;case 31:Ss(s,o),c&4&&XE(s,o);break;case 13:Ss(s,o),c&4&&WE(s,o),c&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=z2.bind(null,o),aV(s,o))));break;case 22:if(c=o.memoizedState!==null||Es,!c){r=r!==null&&r.memoizedState!==null||Ue,m=Es;var g=Ue;Es=c,(Ue=r)&&!g?As(s,o,(o.subtreeFlags&8772)!==0):Ss(s,o),Es=m,Ue=g}break;case 30:break;default:Ss(s,o)}}function YE(s){var r=s.alternate;r!==null&&(s.alternate=null,YE(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&To(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var me=null,wn=!1;function bs(s,r,o){for(o=o.child;o!==null;)QE(s,r,o),o=o.sibling}function QE(s,r,o){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(ci,o)}catch{}switch(o.tag){case 26:Ue||Qi(o,r),bs(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ue||Qi(o,r);var c=me,m=wn;vr(o.type)&&(me=o.stateNode,wn=!1),bs(s,r,o),ac(o.stateNode),me=c,wn=m;break;case 5:Ue||Qi(o,r);case 6:if(c=me,m=wn,me=null,bs(s,r,o),me=c,wn=m,me!==null)if(wn)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(o.stateNode)}catch(g){Zt(o,r,g)}else try{me.removeChild(o.stateNode)}catch(g){Zt(o,r,g)}break;case 18:me!==null&&(wn?(s=me,jb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),sl(s)):jb(me,o.stateNode));break;case 4:c=me,m=wn,me=o.stateNode.containerInfo,wn=!0,bs(s,r,o),me=c,wn=m;break;case 0:case 11:case 14:case 15:fr(2,o,r),Ue||fr(4,o,r),bs(s,r,o);break;case 1:Ue||(Qi(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&FE(o,r,c)),bs(s,r,o);break;case 21:bs(s,r,o);break;case 22:Ue=(c=Ue)||o.memoizedState!==null,bs(s,r,o),Ue=c;break;default:bs(s,r,o)}}function XE(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{sl(s)}catch(o){Zt(r,r.return,o)}}}function WE(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{sl(s)}catch(o){Zt(r,r.return,o)}}function M2(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new KE),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new KE),r;default:throw Error(i(435,s.tag))}}function Bf(s,r){var o=M2(s);r.forEach(function(c){if(!o.has(c)){o.add(c);var m=j2.bind(null,s,c);c.then(m,m)}})}function In(s,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=s,T=r,S=T;t:for(;S!==null;){switch(S.tag){case 27:if(vr(S.type)){me=S.stateNode,wn=!1;break t}break;case 5:me=S.stateNode,wn=!1;break t;case 3:case 4:me=S.stateNode.containerInfo,wn=!0;break t}S=S.return}if(me===null)throw Error(i(160));QE(g,T,m),me=null,wn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)JE(r,s),r=r.sibling}var Ti=null;function JE(s,r){var o=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:In(r,s),xn(s),c&4&&(fr(3,s,s.return),Xu(3,s),fr(5,s,s.return));break;case 1:In(r,s),xn(s),c&512&&(Ue||o===null||Qi(o,o.return)),c&64&&Es&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Ti;if(In(r,s),xn(s),c&512&&(Ue||o===null||Qi(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=s.memoizedState,o===null)if(c===null)if(s.stateNode===null){t:{c=s.type,o=s.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Oi]||g[Me]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),on(g,c,o),g[Me]=s,Ne(g),c=g;break t;case"link":var T=Jb("link","href",m).get(c+(o.href||""));if(T){for(var S=0;S<T.length;S++)if(g=T[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(S,1);break e}}g=m.createElement(c),on(g,c,o),m.head.appendChild(g);break;case"meta":if(T=Jb("meta","content",m).get(c+(o.content||""))){for(S=0;S<T.length;S++)if(g=T[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(S,1);break e}}g=m.createElement(c),on(g,c,o),m.head.appendChild(g);break;default:throw Error(i(468,c))}g[Me]=s,Ne(g),c=g}s.stateNode=c}else Zb(m,s.type,s.stateNode);else s.stateNode=Wb(m,c,s.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?Zb(m,s.type,s.stateNode):Wb(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&bg(s,s.memoizedProps,o.memoizedProps)}break;case 27:In(r,s),xn(s),c&512&&(Ue||o===null||Qi(o,o.return)),o!==null&&c&4&&bg(s,s.memoizedProps,o.memoizedProps);break;case 5:if(In(r,s),xn(s),c&512&&(Ue||o===null||Qi(o,o.return)),s.flags&32){m=s.stateNode;try{An(m,"")}catch(gt){Zt(s,s.return,gt)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,bg(s,m,o!==null?o.memoizedProps:m)),c&1024&&(wg=!0);break;case 6:if(In(r,s),xn(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,o=s.stateNode;try{o.nodeValue=c}catch(gt){Zt(s,s.return,gt)}}break;case 3:if(ed=null,m=Ti,Ti=Zf(r.containerInfo),In(r,s),Ti=m,xn(s),c&4&&o!==null&&o.memoizedState.isDehydrated)try{sl(r.containerInfo)}catch(gt){Zt(s,s.return,gt)}wg&&(wg=!1,ZE(s));break;case 4:c=Ti,Ti=Zf(s.stateNode.containerInfo),In(r,s),xn(s),Ti=c;break;case 12:In(r,s),xn(s);break;case 31:In(r,s),xn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Bf(s,c)));break;case 13:In(r,s),xn(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(jf=yn()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Bf(s,c)));break;case 22:m=s.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,G=Es,et=Ue;if(Es=G||m,Ue=et||D,In(r,s),Ue=et,Es=G,xn(s),c&8192)t:for(r=s.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||D||Es||Ue||ka(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){D=o=r;try{if(g=D.stateNode,m)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=D.stateNode;var it=D.memoizedProps.style,$=it!=null&&it.hasOwnProperty("display")?it.display:null;S.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(gt){Zt(D,D.return,gt)}}}else if(r.tag===6){if(o===null){D=r;try{D.stateNode.nodeValue=m?"":D.memoizedProps}catch(gt){Zt(D,D.return,gt)}}}else if(r.tag===18){if(o===null){D=r;try{var W=D.stateNode;m?Fb(W,!0):Fb(D.stateNode,!1)}catch(gt){Zt(D,D.return,gt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=s.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Bf(s,o))));break;case 19:In(r,s),xn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Bf(s,c)));break;case 30:break;case 21:break;default:In(r,s),xn(s)}}function xn(s){var r=s.flags;if(r&2){try{for(var o,c=s.return;c!==null;){if(HE(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,g=Sg(s);Uf(s,g,m);break;case 5:var T=o.stateNode;o.flags&32&&(An(T,""),o.flags&=-33);var S=Sg(s);Uf(s,S,T);break;case 3:case 4:var D=o.stateNode.containerInfo,G=Sg(s);Ag(s,G,D);break;default:throw Error(i(161))}}catch(et){Zt(s,s.return,et)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function ZE(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;ZE(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Ss(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)$E(s,r.alternate,r),r=r.sibling}function ka(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:fr(4,r,r.return),ka(r);break;case 1:Qi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&FE(r,r.return,o),ka(r);break;case 27:ac(r.stateNode);case 26:case 5:Qi(r,r.return),ka(r);break;case 22:r.memoizedState===null&&ka(r);break;case 30:ka(r);break;default:ka(r)}s=s.sibling}}function As(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,m=s,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:As(m,g,o),Xu(4,g);break;case 1:if(As(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(G){Zt(c,c.return,G)}if(c=g,m=c.updateQueue,m!==null){var S=c.stateNode;try{var D=m.shared.hiddenCallbacks;if(D!==null)for(m.shared.hiddenCallbacks=null,m=0;m<D.length;m++)DT(D[m],S)}catch(G){Zt(c,c.return,G)}}o&&T&64&&jE(g),Wu(g,g.return);break;case 27:GE(g);case 26:case 5:As(m,g,o),o&&c===null&&T&4&&qE(g),Wu(g,g.return);break;case 12:As(m,g,o);break;case 31:As(m,g,o),o&&T&4&&XE(m,g);break;case 13:As(m,g,o),o&&T&4&&WE(m,g);break;case 22:g.memoizedState===null&&As(m,g,o),Wu(g,g.return);break;case 30:break;default:As(m,g,o)}r=r.sibling}}function Ig(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&Lu(o))}function xg(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Lu(s))}function Ei(s,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)tb(s,r,o,c),r=r.sibling}function tb(s,r,o,c){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Ei(s,r,o,c),m&2048&&Xu(9,r);break;case 1:Ei(s,r,o,c);break;case 3:Ei(s,r,o,c),m&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Lu(s)));break;case 12:if(m&2048){Ei(s,r,o,c),s=r.stateNode;try{var g=r.memoizedProps,T=g.id,S=g.onPostCommit;typeof S=="function"&&S(T,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(D){Zt(r,r.return,D)}}else Ei(s,r,o,c);break;case 31:Ei(s,r,o,c);break;case 13:Ei(s,r,o,c);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?Ei(s,r,o,c):Ju(s,r):g._visibility&2?Ei(s,r,o,c):(g._visibility|=2,$o(s,r,o,c,(r.subtreeFlags&10256)!==0||!1)),m&2048&&Ig(T,r);break;case 24:Ei(s,r,o,c),m&2048&&xg(r.alternate,r);break;default:Ei(s,r,o,c)}}function $o(s,r,o,c,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=s,T=r,S=o,D=c,G=T.flags;switch(T.tag){case 0:case 11:case 15:$o(g,T,S,D,m),Xu(8,T);break;case 23:break;case 22:var et=T.stateNode;T.memoizedState!==null?et._visibility&2?$o(g,T,S,D,m):Ju(g,T):(et._visibility|=2,$o(g,T,S,D,m)),m&&G&2048&&Ig(T.alternate,T);break;case 24:$o(g,T,S,D,m),m&&G&2048&&xg(T.alternate,T);break;default:$o(g,T,S,D,m)}r=r.sibling}}function Ju(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,c=r,m=c.flags;switch(c.tag){case 22:Ju(o,c),m&2048&&Ig(c.alternate,c);break;case 24:Ju(o,c),m&2048&&xg(c.alternate,c);break;default:Ju(o,c)}r=r.sibling}}var Zu=8192;function Yo(s,r,o){if(s.subtreeFlags&Zu)for(s=s.child;s!==null;)eb(s,r,o),s=s.sibling}function eb(s,r,o){switch(s.tag){case 26:Yo(s,r,o),s.flags&Zu&&s.memoizedState!==null&&_V(o,Ti,s.memoizedState,s.memoizedProps);break;case 5:Yo(s,r,o);break;case 3:case 4:var c=Ti;Ti=Zf(s.stateNode.containerInfo),Yo(s,r,o),Ti=c;break;case 22:s.memoizedState===null&&(c=s.alternate,c!==null&&c.memoizedState!==null?(c=Zu,Zu=16777216,Yo(s,r,o),Zu=c):Yo(s,r,o));break;default:Yo(s,r,o)}}function nb(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function tc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Je=c,sb(c,s)}nb(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ib(s),s=s.sibling}function ib(s){switch(s.tag){case 0:case 11:case 15:tc(s),s.flags&2048&&fr(9,s,s.return);break;case 3:tc(s);break;case 12:tc(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,zf(s)):tc(s);break;default:tc(s)}}function zf(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Je=c,sb(c,s)}nb(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:fr(8,r,r.return),zf(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,zf(r));break;default:zf(r)}s=s.sibling}}function sb(s,r){for(;Je!==null;){var o=Je;switch(o.tag){case 0:case 11:case 15:fr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Lu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Je=c;else t:for(o=s;Je!==null;){c=Je;var m=c.sibling,g=c.return;if(YE(c),c===o){Je=null;break t}if(m!==null){m.return=g,Je=m;break t}Je=g}}}var N2={getCacheForType:function(s){var r=rn(Oe),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return rn(Oe).controller.signal}},P2=typeof WeakMap=="function"?WeakMap:Map,Xt=0,oe=null,kt=null,Bt=0,Jt=0,zn=null,dr=!1,Qo=!1,Rg=!1,ws=0,be=0,mr=0,La=0,Cg=0,jn=0,Xo=0,ec=null,Rn=null,Dg=!1,jf=0,rb=0,Ff=1/0,qf=null,pr=null,Ge=0,gr=null,Wo=null,Is=0,Vg=0,Mg=null,ab=null,nc=0,Ng=null;function Fn(){return(Xt&2)!==0&&Bt!==0?Bt&-Bt:tt.T!==null?Bg():qh()}function ob(){if(jn===0)if((Bt&536870912)===0||qt){var s=ca;ca<<=1,(ca&3932160)===0&&(ca=262144),jn=s}else jn=536870912;return s=Un.current,s!==null&&(s.flags|=32),jn}function Cn(s,r,o){(s===oe&&(Jt===2||Jt===9)||s.cancelPendingCommit!==null)&&(Jo(s,0),yr(s,Bt,jn,!1)),ha(s,o),((Xt&2)===0||s!==oe)&&(s===oe&&((Xt&2)===0&&(La|=o),be===4&&yr(s,Bt,jn,!1)),Xi(s))}function lb(s,r,o){if((Xt&6)!==0)throw Error(i(327));var c=!o&&(r&127)===0&&(r&s.expiredLanes)===0||hi(s,r),m=c?L2(s,r):Og(s,r,!0),g=c;do{if(m===0){Qo&&!c&&yr(s,r,0,!1);break}else{if(o=s.current.alternate,g&&!O2(o)){m=Og(s,r,!1),g=!1;continue}if(m===2){if(g=r,s.errorRecoveryDisabledLanes&g)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var S=s;m=ec;var D=S.current.memoizedState.isDehydrated;if(D&&(Jo(S,T).flags|=256),T=Og(S,T,!1),T!==2){if(Rg&&!D){S.errorRecoveryDisabledLanes|=g,La|=g,m=4;break t}g=Rn,Rn=m,g!==null&&(Rn===null?Rn=g:Rn.push.apply(Rn,g))}m=T}if(g=!1,m!==2)continue}}if(m===1){Jo(s,0),yr(s,r,0,!0);break}t:{switch(c=s,g=m,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:yr(c,r,jn,!dr);break t;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(m=jf+300-yn(),10<m)){if(yr(c,r,jn,!dr),Mi(c,0,!0)!==0)break t;Is=r,c.timeoutHandle=Bb(ub.bind(null,c,o,Rn,qf,Dg,r,jn,La,Xo,dr,g,"Throttled",-0,0),m);break t}ub(c,o,Rn,qf,Dg,r,jn,La,Xo,dr,g,null,-0,0)}}break}while(!0);Xi(s)}function ub(s,r,o,c,m,g,T,S,D,G,et,it,$,W){if(s.timeoutHandle=-1,it=r.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mi},eb(r,g,it);var gt=(g&62914560)===g?jf-yn():(g&4194048)===g?rb-yn():0;if(gt=vV(it,gt),gt!==null){Is=g,s.cancelPendingCommit=gt(yb.bind(null,s,r,g,o,c,m,T,S,D,et,it,null,$,W)),yr(s,g,T,!G);return}}yb(s,r,g,o,c,m,T,S,D)}function O2(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!kn(g(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function yr(s,r,o,c){r&=~Cg,r&=~La,s.suspendedLanes|=r,s.pingedLanes&=~r,c&&(s.warmLanes|=r),c=s.expirationTimes;for(var m=r;0<m;){var g=31-Ae(m),T=1<<g;c[g]=-1,m&=~T}o!==0&&fa(s,o,r)}function Hf(){return(Xt&6)===0?(ic(0),!1):!0}function Pg(){if(kt!==null){if(Jt===0)var s=kt.return;else s=kt,ps=Ra=null,Xp(s),Fo=null,Bu=0,s=kt;for(;s!==null;)zE(s.alternate,s),s=s.return;kt=null}}function Jo(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,eV(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Is=0,Pg(),oe=s,kt=o=ds(s.current,null),Bt=r,Jt=0,zn=null,dr=!1,Qo=hi(s,r),Rg=!1,Xo=jn=Cg=La=mr=be=0,Rn=ec=null,Dg=!1,(r&8)!==0&&(r|=r&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=r;0<c;){var m=31-Ae(c),g=1<<m;r|=s[m],c&=~g}return ws=r,hf(),o}function cb(s,r){Ct=null,tt.H=$u,r===jo||r===vf?(r=IT(),Jt=3):r===Up?(r=IT(),Jt=4):Jt=r===fg?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,zn=r,kt===null&&(be=1,Nf(s,ti(r,s.current)))}function hb(){var s=Un.current;return s===null?!0:(Bt&4194048)===Bt?si===null:(Bt&62914560)===Bt||(Bt&536870912)!==0?s===si:!1}function fb(){var s=tt.H;return tt.H=$u,s===null?$u:s}function db(){var s=tt.A;return tt.A=N2,s}function Gf(){be=4,dr||(Bt&4194048)!==Bt&&Un.current!==null||(Qo=!0),(mr&134217727)===0&&(La&134217727)===0||oe===null||yr(oe,Bt,jn,!1)}function Og(s,r,o){var c=Xt;Xt|=2;var m=fb(),g=db();(oe!==s||Bt!==r)&&(qf=null,Jo(s,r)),r=!1;var T=be;t:do try{if(Jt!==0&&kt!==null){var S=kt,D=zn;switch(Jt){case 8:Pg(),T=6;break t;case 3:case 2:case 9:case 6:Un.current===null&&(r=!0);var G=Jt;if(Jt=0,zn=null,Zo(s,S,D,G),o&&Qo){T=0;break t}break;default:G=Jt,Jt=0,zn=null,Zo(s,S,D,G)}}k2(),T=be;break}catch(et){cb(s,et)}while(!0);return r&&s.shellSuspendCounter++,ps=Ra=null,Xt=c,tt.H=m,tt.A=g,kt===null&&(oe=null,Bt=0,hf()),T}function k2(){for(;kt!==null;)mb(kt)}function L2(s,r){var o=Xt;Xt|=2;var c=fb(),m=db();oe!==s||Bt!==r?(qf=null,Ff=yn()+500,Jo(s,r)):Qo=hi(s,r);t:do try{if(Jt!==0&&kt!==null){r=kt;var g=zn;e:switch(Jt){case 1:Jt=0,zn=null,Zo(s,r,g,1);break;case 2:case 9:if(AT(g)){Jt=0,zn=null,pb(r);break}r=function(){Jt!==2&&Jt!==9||oe!==s||(Jt=7),Xi(s)},g.then(r,r);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:AT(g)?(Jt=0,zn=null,pb(r)):(Jt=0,zn=null,Zo(s,r,g,7));break;case 5:var T=null;switch(kt.tag){case 26:T=kt.memoizedState;case 5:case 27:var S=kt;if(T?tS(T):S.stateNode.complete){Jt=0,zn=null;var D=S.sibling;if(D!==null)kt=D;else{var G=S.return;G!==null?(kt=G,Kf(G)):kt=null}break e}}Jt=0,zn=null,Zo(s,r,g,5);break;case 6:Jt=0,zn=null,Zo(s,r,g,6);break;case 8:Pg(),be=6;break t;default:throw Error(i(462))}}U2();break}catch(et){cb(s,et)}while(!0);return ps=Ra=null,tt.H=c,tt.A=m,Xt=o,kt!==null?0:(oe=null,Bt=0,hf(),be)}function U2(){for(;kt!==null&&!hp();)mb(kt)}function mb(s){var r=UE(s.alternate,s,ws);s.memoizedProps=s.pendingProps,r===null?Kf(s):kt=r}function pb(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=ME(o,r,r.pendingProps,r.type,void 0,Bt);break;case 11:r=ME(o,r,r.pendingProps,r.type.render,r.ref,Bt);break;case 5:Xp(r);default:zE(o,r),r=kt=dT(r,ws),r=UE(o,r,ws)}s.memoizedProps=s.pendingProps,r===null?Kf(s):kt=r}function Zo(s,r,o,c){ps=Ra=null,Xp(r),Fo=null,Bu=0;var m=r.return;try{if(I2(s,m,r,o,Bt)){be=1,Nf(s,ti(o,s.current)),kt=null;return}}catch(g){if(m!==null)throw kt=m,g;be=1,Nf(s,ti(o,s.current)),kt=null;return}r.flags&32768?(qt||c===1?s=!0:Qo||(Bt&536870912)!==0?s=!1:(dr=s=!0,(c===2||c===9||c===3||c===6)&&(c=Un.current,c!==null&&c.tag===13&&(c.flags|=16384))),gb(r,s)):Kf(r)}function Kf(s){var r=s;do{if((r.flags&32768)!==0){gb(r,dr);return}s=r.return;var o=C2(r.alternate,r,ws);if(o!==null){kt=o;return}if(r=r.sibling,r!==null){kt=r;return}kt=r=s}while(r!==null);be===0&&(be=5)}function gb(s,r){do{var o=D2(s.alternate,s);if(o!==null){o.flags&=32767,kt=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){kt=s;return}kt=s=o}while(s!==null);be=6,kt=null}function yb(s,r,o,c,m,g,T,S,D){s.cancelPendingCommit=null;do $f();while(Ge!==0);if((Xt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=Sp,mp(s,o,g,T,S,D),s===oe&&(kt=oe=null,Bt=0),Wo=r,gr=s,Is=o,Vg=g,Mg=m,ab=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,F2($s,function(){return bb(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=tt.T,tt.T=null,m=ot.p,ot.p=2,T=Xt,Xt|=4;try{V2(s,r,o)}finally{Xt=T,ot.p=m,tt.T=c}}Ge=1,_b(),vb(),Tb()}}function _b(){if(Ge===1){Ge=0;var s=gr,r=Wo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=tt.T,tt.T=null;var c=ot.p;ot.p=2;var m=Xt;Xt|=4;try{JE(r,s);var g=$g,T=sT(s.containerInfo),S=g.focusedElem,D=g.selectionRange;if(T!==S&&S&&S.ownerDocument&&iT(S.ownerDocument.documentElement,S)){if(D!==null&&_p(S)){var G=D.start,et=D.end;if(et===void 0&&(et=G),"selectionStart"in S)S.selectionStart=G,S.selectionEnd=Math.min(et,S.value.length);else{var it=S.ownerDocument||document,$=it&&it.defaultView||window;if($.getSelection){var W=$.getSelection(),gt=S.textContent.length,St=Math.min(D.start,gt),ae=D.end===void 0?St:Math.min(D.end,gt);!W.extend&&St>ae&&(T=ae,ae=St,St=T);var z=nT(S,St),O=nT(S,ae);if(z&&O&&(W.rangeCount!==1||W.anchorNode!==z.node||W.anchorOffset!==z.offset||W.focusNode!==O.node||W.focusOffset!==O.offset)){var H=it.createRange();H.setStart(z.node,z.offset),W.removeAllRanges(),St>ae?(W.addRange(H),W.extend(O.node,O.offset)):(H.setEnd(O.node,O.offset),W.addRange(H))}}}}for(it=[],W=S;W=W.parentNode;)W.nodeType===1&&it.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<it.length;S++){var nt=it[S];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}rd=!!Kg,$g=Kg=null}finally{Xt=m,ot.p=c,tt.T=o}}s.current=r,Ge=2}}function vb(){if(Ge===2){Ge=0;var s=gr,r=Wo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=tt.T,tt.T=null;var c=ot.p;ot.p=2;var m=Xt;Xt|=4;try{$E(s,r.alternate,r)}finally{Xt=m,ot.p=c,tt.T=o}}Ge=3}}function Tb(){if(Ge===4||Ge===3){Ge=0,kh();var s=gr,r=Wo,o=Is,c=ab;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ge=5:(Ge=0,Wo=gr=null,Eb(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(pr=null),us(o),r=r.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(ci,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=tt.T,m=ot.p,ot.p=2,tt.T=null;try{for(var g=s.onRecoverableError,T=0;T<c.length;T++){var S=c[T];g(S.value,{componentStack:S.stack})}}finally{tt.T=r,ot.p=m}}(Is&3)!==0&&$f(),Xi(s),m=s.pendingLanes,(o&261930)!==0&&(m&42)!==0?s===Ng?nc++:(nc=0,Ng=s):nc=0,ic(0)}}function Eb(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Lu(r)))}function $f(){return _b(),vb(),Tb(),bb()}function bb(){if(Ge!==5)return!1;var s=gr,r=Vg;Vg=0;var o=us(Is),c=tt.T,m=ot.p;try{ot.p=32>o?32:o,tt.T=null,o=Mg,Mg=null;var g=gr,T=Is;if(Ge=0,Wo=gr=null,Is=0,(Xt&6)!==0)throw Error(i(331));var S=Xt;if(Xt|=4,ib(g.current),tb(g,g.current,T,o),Xt=S,ic(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(ci,g)}catch{}return!0}finally{ot.p=m,tt.T=c,Eb(s,r)}}function Sb(s,r,o){r=ti(o,r),r=hg(s.stateNode,r,2),s=ur(s,r,2),s!==null&&(ha(s,2),Xi(s))}function Zt(s,r,o){if(s.tag===3)Sb(s,s,o);else for(;r!==null;){if(r.tag===3){Sb(r,s,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(pr===null||!pr.has(c))){s=ti(o,s),o=AE(2),c=ur(r,o,2),c!==null&&(wE(o,c,r,s),ha(c,2),Xi(c));break}}r=r.return}}function kg(s,r,o){var c=s.pingCache;if(c===null){c=s.pingCache=new P2;var m=new Set;c.set(r,m)}else m=c.get(r),m===void 0&&(m=new Set,c.set(r,m));m.has(o)||(Rg=!0,m.add(o),s=B2.bind(null,s,r,o),r.then(s,s))}function B2(s,r,o){var c=s.pingCache;c!==null&&c.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,oe===s&&(Bt&o)===o&&(be===4||be===3&&(Bt&62914560)===Bt&&300>yn()-jf?(Xt&2)===0&&Jo(s,0):Cg|=o,Xo===Bt&&(Xo=0)),Xi(s)}function Ab(s,r){r===0&&(r=Fh()),s=wa(s,r),s!==null&&(ha(s,r),Xi(s))}function z2(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),Ab(s,o)}function j2(s,r){var o=0;switch(s.tag){case 31:case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),Ab(s,o)}function F2(s,r){return He(s,r)}var Yf=null,tl=null,Lg=!1,Qf=!1,Ug=!1,_r=0;function Xi(s){s!==tl&&s.next===null&&(tl===null?Yf=tl=s:tl=tl.next=s),Qf=!0,Lg||(Lg=!0,H2())}function ic(s,r){if(!Ug&&Qf){Ug=!0;do for(var o=!1,c=Yf;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var T=c.suspendedLanes,S=c.pingedLanes;g=(1<<31-Ae(42|s)+1)-1,g&=m&~(T&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Rb(c,g))}else g=Bt,g=Mi(c,c===oe?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||hi(c,g)||(o=!0,Rb(c,g));c=c.next}while(o);Ug=!1}}function q2(){wb()}function wb(){Qf=Lg=!1;var s=0;_r!==0&&tV()&&(s=_r);for(var r=yn(),o=null,c=Yf;c!==null;){var m=c.next,g=Ib(c,r);g===0?(c.next=null,o===null?Yf=m:o.next=m,m===null&&(tl=o)):(o=c,(s!==0||(g&3)!==0)&&(Qf=!0)),c=m}Ge!==0&&Ge!==5||ic(s),_r!==0&&(_r=0)}function Ib(s,r){for(var o=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var T=31-Ae(g),S=1<<T,D=m[T];D===-1?((S&o)===0||(S&c)!==0)&&(m[T]=dp(S,r)):D<=r&&(s.expiredLanes|=S),g&=~S}if(r=oe,o=Bt,o=Mi(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,o===0||s===r&&(Jt===2||Jt===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Ks(c),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||hi(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(c!==null&&Ks(c),us(o)){case 2:case 8:o=du;break;case 32:o=$s;break;case 268435456:o=Lh;break;default:o=$s}return c=xb.bind(null,s),o=He(o,c),s.callbackPriority=r,s.callbackNode=o,r}return c!==null&&c!==null&&Ks(c),s.callbackPriority=2,s.callbackNode=null,2}function xb(s,r){if(Ge!==0&&Ge!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if($f()&&s.callbackNode!==o)return null;var c=Bt;return c=Mi(s,s===oe?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(lb(s,c,r),Ib(s,yn()),s.callbackNode!=null&&s.callbackNode===o?xb.bind(null,s):null)}function Rb(s,r){if($f())return null;lb(s,r,!0)}function H2(){nV(function(){(Xt&6)!==0?He(fu,q2):wb()})}function Bg(){if(_r===0){var s=Bo;s===0&&(s=Di,Di<<=1,(Di&261888)===0&&(Di=256)),_r=s}return _r}function Cb(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ao(""+s)}function Db(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function G2(s,r,o,c,m){if(r==="submit"&&o&&o.stateNode===m){var g=Cb((m[Xe]||null).action),T=c.submitter;T&&(r=(r=T[Xe]||null)?Cb(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var S=new qi("action","action",null,c,m);s.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(_r!==0){var D=T?Db(m,T):new FormData(m);rg(o,{pending:!0,data:D,method:m.method,action:g},null,D)}}else typeof g=="function"&&(S.preventDefault(),D=T?Db(m,T):new FormData(m),rg(o,{pending:!0,data:D,method:m.method,action:g},g,D))},currentTarget:m}]})}}for(var zg=0;zg<bp.length;zg++){var jg=bp[zg],K2=jg.toLowerCase(),$2=jg[0].toUpperCase()+jg.slice(1);vi(K2,"on"+$2)}vi(oT,"onAnimationEnd"),vi(lT,"onAnimationIteration"),vi(uT,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(u2,"onTransitionRun"),vi(c2,"onTransitionStart"),vi(h2,"onTransitionCancel"),vi(cT,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),Ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sc));function Vb(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var c=s[o],m=c.event;c=c.listeners;t:{var g=void 0;if(r)for(var T=c.length-1;0<=T;T--){var S=c[T],D=S.instance,G=S.currentTarget;if(S=S.listener,D!==g&&m.isPropagationStopped())break t;g=S,m.currentTarget=G;try{g(m)}catch(et){cf(et)}m.currentTarget=null,g=D}else for(T=0;T<c.length;T++){if(S=c[T],D=S.instance,G=S.currentTarget,S=S.listener,D!==g&&m.isPropagationStopped())break t;g=S,m.currentTarget=G;try{g(m)}catch(et){cf(et)}m.currentTarget=null,g=D}}}}function Lt(s,r){var o=r[vo];o===void 0&&(o=r[vo]=new Set);var c=s+"__bubble";o.has(c)||(Mb(r,s,2,!1),o.add(c))}function Fg(s,r,o){var c=0;r&&(c|=4),Mb(o,s,c,r)}var Xf="_reactListening"+Math.random().toString(36).slice(2);function qg(s){if(!s[Xf]){s[Xf]=!0,gu.forEach(function(o){o!=="selectionchange"&&(Y2.has(o)||Fg(o,!1,s),Fg(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Xf]||(r[Xf]=!0,Fg("selectionchange",!1,r))}}function Mb(s,r,o,c){switch(oS(r)){case 2:var m=bV;break;case 8:m=SV;break;default:m=sy}o=m.bind(null,r,o,s),m=void 0,!ya||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(r,o,{capture:!0,passive:m}):s.addEventListener(r,o,!0):m!==void 0?s.addEventListener(r,o,{passive:m}):s.addEventListener(r,o,!1)}function Hg(s,r,o,c,m){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)t:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var S=c.stateNode.containerInfo;if(S===m)break;if(T===4)for(T=c.return;T!==null;){var D=T.tag;if((D===3||D===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;S!==null;){if(T=ki(S),T===null)return;if(D=T.tag,D===5||D===6||D===26||D===27){c=g=T;continue t}S=S.parentNode}}c=c.return}Zs(function(){var G=g,et=Xn(o),it=[];t:{var $=hT.get(s);if($!==void 0){var W=qi,gt=s;switch(s){case"keypress":if(va(o)===0)break t;case"keydown":case"keyup":W=of;break;case"focusin":gt="focus",W=Ea;break;case"focusout":gt="blur",W=Ea;break;case"beforeblur":case"afterblur":W=Ea;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Wh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=_;break;case oT:case lT:case uT:W=Zh;break;case cT:W=A;break;case"scroll":case"scrollend":W=Ru;break;case"wheel":W=Q;break;case"copy":case"cut":case"paste":W=tf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=fs;break;case"toggle":case"beforetoggle":W=Rt}var St=(r&4)!==0,ae=!St&&(s==="scroll"||s==="scrollend"),z=St?$!==null?$+"Capture":null:$;St=[];for(var O=G,H;O!==null;){var nt=O;if(H=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||H===null||z===null||(nt=pi(O,z),nt!=null&&St.push(rc(O,nt,H))),ae)break;O=O.return}0<St.length&&($=new W($,gt,null,o,et),it.push({event:$,listeners:St}))}}if((r&7)===0){t:{if($=s==="mouseover"||s==="pointerover",W=s==="mouseout"||s==="pointerout",$&&o!==wu&&(gt=o.relatedTarget||o.fromElement)&&(ki(gt)||gt[Pi]))break t;if((W||$)&&($=et.window===et?et:($=et.ownerDocument)?$.defaultView||$.parentWindow:window,W?(gt=o.relatedTarget||o.toElement,W=G,gt=gt?ki(gt):null,gt!==null&&(ae=l(gt),St=gt.tag,gt!==ae||St!==5&&St!==27&&St!==6)&&(gt=null)):(W=null,gt=G),W!==gt)){if(St=Cu,nt="onMouseLeave",z="onMouseEnter",O="mouse",(s==="pointerout"||s==="pointerover")&&(St=fs,nt="onPointerLeave",z="onPointerEnter",O="pointer"),ae=W==null?$:Pn(W),H=gt==null?$:Pn(gt),$=new St(nt,O+"leave",W,o,et),$.target=ae,$.relatedTarget=H,nt=null,ki(et)===G&&(St=new St(z,O+"enter",gt,o,et),St.target=H,St.relatedTarget=ae,nt=St),ae=nt,W&&gt)e:{for(St=Q2,z=W,O=gt,H=0,nt=z;nt;nt=St(nt))H++;nt=0;for(var bt=O;bt;bt=St(bt))nt++;for(;0<H-nt;)z=St(z),H--;for(;0<nt-H;)O=St(O),nt--;for(;H--;){if(z===O||O!==null&&z===O.alternate){St=z;break e}z=St(z),O=St(O)}St=null}else St=null;W!==null&&Nb(it,$,W,St,!1),gt!==null&&ae!==null&&Nb(it,ae,gt,St,!0)}}t:{if($=G?Pn(G):window,W=$.nodeName&&$.nodeName.toLowerCase(),W==="select"||W==="input"&&$.type==="file")var $t=X0;else if(Y0($))if(W0)$t=a2;else{$t=s2;var Tt=i2}else W=$.nodeName,!W||W.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&So(G.elementType)&&($t=X0):$t=r2;if($t&&($t=$t(s,G))){Q0(it,$t,o,et);break t}Tt&&Tt(s,$,G),s==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&bu($,"number",$.value)}switch(Tt=G?Pn(G):window,s){case"focusin":(Y0(Tt)||Tt.contentEditable==="true")&&(Vo=Tt,vp=G,Pu=null);break;case"focusout":Pu=vp=Vo=null;break;case"mousedown":Tp=!0;break;case"contextmenu":case"mouseup":case"dragend":Tp=!1,rT(it,o,et);break;case"selectionchange":if(l2)break;case"keydown":case"keyup":rT(it,o,et)}var Mt;if(Qt)t:{switch(s){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else Do?ba(s,o)&&(zt="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(zt="onCompositionStart");zt&&(Ki&&o.locale!=="ko"&&(Do||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&Do&&(Mt=xu()):(Fi=et,Iu="value"in Fi?Fi.value:Fi.textContent,Do=!0)),Tt=Wf(G,zt),0<Tt.length&&(zt=new Gi(zt,s,null,o,et),it.push({event:zt,listeners:Tt}),Mt?zt.data=Mt:(Mt=Co(o),Mt!==null&&(zt.data=Mt)))),(Mt=Jn?ZD(s,o):t2(s,o))&&(zt=Wf(G,"onBeforeInput"),0<zt.length&&(Tt=new Gi("onBeforeInput","beforeinput",null,o,et),it.push({event:Tt,listeners:zt}),Tt.data=Mt)),G2(it,s,G,o,et)}Vb(it,r)})}function rc(s,r,o){return{instance:s,listener:r,currentTarget:o}}function Wf(s,r){for(var o=r+"Capture",c=[];s!==null;){var m=s,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=pi(s,o),m!=null&&c.unshift(rc(s,m,g)),m=pi(s,r),m!=null&&c.push(rc(s,m,g))),s.tag===3)return c;s=s.return}return[]}function Q2(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Nb(s,r,o,c,m){for(var g=r._reactName,T=[];o!==null&&o!==c;){var S=o,D=S.alternate,G=S.stateNode;if(S=S.tag,D!==null&&D===c)break;S!==5&&S!==26&&S!==27||G===null||(D=G,m?(G=pi(o,g),G!=null&&T.unshift(rc(o,G,D))):m||(G=pi(o,g),G!=null&&T.push(rc(o,G,D)))),o=o.return}T.length!==0&&s.push({event:r,listeners:T})}var X2=/\r\n?/g,W2=/\u0000|\uFFFD/g;function Pb(s){return(typeof s=="string"?s:""+s).replace(X2,`
`).replace(W2,"")}function Ob(s,r){return r=Pb(r),Pb(s)===r}function re(s,r,o,c,m,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||An(s,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&An(s,""+c);break;case"className":On(s,"class",c);break;case"tabIndex":On(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":On(s,o,c);break;case"style":Au(s,c,g);break;case"data":if(r!=="object"){On(s,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=Ao(""+c),s.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&re(s,r,"name",m.name,m,null),re(s,r,"formEncType",m.formEncType,m,null),re(s,r,"formMethod",m.formMethod,m,null),re(s,r,"formTarget",m.formTarget,m,null)):(re(s,r,"encType",m.encType,m,null),re(s,r,"method",m.method,m,null),re(s,r,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=Ao(""+c),s.setAttribute(o,c);break;case"onClick":c!=null&&(s.onclick=mi);break;case"onScroll":c!=null&&Lt("scroll",s);break;case"onScrollEnd":c!=null&&Lt("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}o=Ao(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""+c):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":c===!0?s.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,c):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(o,c):s.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(o):s.setAttribute(o,c);break;case"popover":Lt("beforetoggle",s),Lt("toggle",s),Eo(s,"popover",c);break;case"xlinkActuate":Pe(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Pe(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Pe(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Pe(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Pe(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Pe(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Pe(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Pe(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Pe(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Eo(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Xh.get(o)||o,Eo(s,o,c))}}function Gg(s,r,o,c,m,g){switch(o){case"style":Au(s,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof c=="string"?An(s,c):(typeof c=="number"||typeof c=="bigint")&&An(s,""+c);break;case"onScroll":c!=null&&Lt("scroll",s);break;case"onScrollEnd":c!=null&&Lt("scrollend",s);break;case"onClick":c!=null&&(s.onclick=mi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yu.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),g=s[Xe]||null,g=g!=null?g[o]:null,typeof g=="function"&&s.removeEventListener(r,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,c,m);break t}o in s?s[o]=c:c===!0?s.setAttribute(o,""):Eo(s,o,c)}}}function on(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",s),Lt("load",s);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:re(s,r,g,T,o,null)}}m&&re(s,r,"srcSet",o.srcSet,o,null),c&&re(s,r,"src",o.src,o,null);return;case"input":Lt("invalid",s);var S=g=T=m=null,D=null,G=null;for(c in o)if(o.hasOwnProperty(c)){var et=o[c];if(et!=null)switch(c){case"name":m=et;break;case"type":T=et;break;case"checked":D=et;break;case"defaultChecked":G=et;break;case"value":g=et;break;case"defaultValue":S=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(i(137,r));break;default:re(s,r,c,et,o,null)}}$h(s,g,S,D,G,T,m,!1);return;case"select":Lt("invalid",s),c=T=g=null;for(m in o)if(o.hasOwnProperty(m)&&(S=o[m],S!=null))switch(m){case"value":g=S;break;case"defaultValue":T=S;break;case"multiple":c=S;default:re(s,r,m,S,o,null)}r=g,o=T,s.multiple=!!c,r!=null?Qs(s,!!c,r,!1):o!=null&&Qs(s,!!c,o,!0);return;case"textarea":Lt("invalid",s),g=m=c=null;for(T in o)if(o.hasOwnProperty(T)&&(S=o[T],S!=null))switch(T){case"value":c=S;break;case"defaultValue":m=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:re(s,r,T,S,o,null)}Xs(s,c,m,g);return;case"option":for(D in o)o.hasOwnProperty(D)&&(c=o[D],c!=null)&&(D==="selected"?s.selected=c&&typeof c!="function"&&typeof c!="symbol":re(s,r,D,c,o,null));return;case"dialog":Lt("beforetoggle",s),Lt("toggle",s),Lt("cancel",s),Lt("close",s);break;case"iframe":case"object":Lt("load",s);break;case"video":case"audio":for(c=0;c<sc.length;c++)Lt(sc[c],s);break;case"image":Lt("error",s),Lt("load",s);break;case"details":Lt("toggle",s);break;case"embed":case"source":case"link":Lt("error",s),Lt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(c=o[G],c!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:re(s,r,G,c,o,null)}return;default:if(So(r)){for(et in o)o.hasOwnProperty(et)&&(c=o[et],c!==void 0&&Gg(s,r,et,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&re(s,r,S,c,o,null))}function J2(s,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,T=null,S=null,D=null,G=null,et=null;for(W in o){var it=o[W];if(o.hasOwnProperty(W)&&it!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":D=it;default:c.hasOwnProperty(W)||re(s,r,W,null,c,it)}}for(var $ in c){var W=c[$];if(it=o[$],c.hasOwnProperty($)&&(W!=null||it!=null))switch($){case"type":g=W;break;case"name":m=W;break;case"checked":G=W;break;case"defaultChecked":et=W;break;case"value":T=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,r));break;default:W!==it&&re(s,r,$,W,c,it)}}bo(s,T,S,D,G,et,g,m);return;case"select":W=T=S=$=null;for(g in o)if(D=o[g],o.hasOwnProperty(g)&&D!=null)switch(g){case"value":break;case"multiple":W=D;default:c.hasOwnProperty(g)||re(s,r,g,null,c,D)}for(m in c)if(g=c[m],D=o[m],c.hasOwnProperty(m)&&(g!=null||D!=null))switch(m){case"value":$=g;break;case"defaultValue":S=g;break;case"multiple":T=g;default:g!==D&&re(s,r,m,g,c,D)}r=S,o=T,c=W,$!=null?Qs(s,!!o,$,!1):!!c!=!!o&&(r!=null?Qs(s,!!o,r,!0):Qs(s,!!o,o?[]:"",!1));return;case"textarea":W=$=null;for(S in o)if(m=o[S],o.hasOwnProperty(S)&&m!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:re(s,r,S,null,c,m)}for(T in c)if(m=c[T],g=o[T],c.hasOwnProperty(T)&&(m!=null||g!=null))switch(T){case"value":$=m;break;case"defaultValue":W=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==g&&re(s,r,T,m,c,g)}Yh(s,$,W);return;case"option":for(var gt in o)$=o[gt],o.hasOwnProperty(gt)&&$!=null&&!c.hasOwnProperty(gt)&&(gt==="selected"?s.selected=!1:re(s,r,gt,null,c,$));for(D in c)$=c[D],W=o[D],c.hasOwnProperty(D)&&$!==W&&($!=null||W!=null)&&(D==="selected"?s.selected=$&&typeof $!="function"&&typeof $!="symbol":re(s,r,D,$,c,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in o)$=o[St],o.hasOwnProperty(St)&&$!=null&&!c.hasOwnProperty(St)&&re(s,r,St,null,c,$);for(G in c)if($=c[G],W=o[G],c.hasOwnProperty(G)&&$!==W&&($!=null||W!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,r));break;default:re(s,r,G,$,c,W)}return;default:if(So(r)){for(var ae in o)$=o[ae],o.hasOwnProperty(ae)&&$!==void 0&&!c.hasOwnProperty(ae)&&Gg(s,r,ae,void 0,c,$);for(et in c)$=c[et],W=o[et],!c.hasOwnProperty(et)||$===W||$===void 0&&W===void 0||Gg(s,r,et,$,c,W);return}}for(var z in o)$=o[z],o.hasOwnProperty(z)&&$!=null&&!c.hasOwnProperty(z)&&re(s,r,z,null,c,$);for(it in c)$=c[it],W=o[it],!c.hasOwnProperty(it)||$===W||$==null&&W==null||re(s,r,it,$,c,W)}function kb(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Z2(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,T=m.initiatorType,S=m.duration;if(g&&S&&kb(T)){for(T=0,S=m.responseEnd,c+=1;c<o.length;c++){var D=o[c],G=D.startTime;if(G>S)break;var et=D.transferSize,it=D.initiatorType;et&&kb(it)&&(D=D.responseEnd,T+=et*(D<S?1:(S-G)/(D-G)))}if(--c,r+=8*(g+T)/(m.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Kg=null,$g=null;function Jf(s){return s.nodeType===9?s:s.ownerDocument}function Lb(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ub(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Yg(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Qg=null;function tV(){var s=window.event;return s&&s.type==="popstate"?s===Qg?!1:(Qg=s,!0):(Qg=null,!1)}var Bb=typeof setTimeout=="function"?setTimeout:void 0,eV=typeof clearTimeout=="function"?clearTimeout:void 0,zb=typeof Promise=="function"?Promise:void 0,nV=typeof queueMicrotask=="function"?queueMicrotask:typeof zb<"u"?function(s){return zb.resolve(null).then(s).catch(iV)}:Bb;function iV(s){setTimeout(function(){throw s})}function vr(s){return s==="head"}function jb(s,r){var o=r,c=0;do{var m=o.nextSibling;if(s.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){s.removeChild(m),sl(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")ac(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,ac(o);for(var g=o.firstChild;g;){var T=g.nextSibling,S=g.nodeName;g[Oi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&ac(s.ownerDocument.body);o=m}while(o);sl(r)}function Fb(s,r){var o=s;s=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=c}while(o)}function Xg(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Xg(o),To(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function sV(s,r,o,c){for(;s.nodeType===1;){var m=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Oi])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=ri(s.nextSibling),s===null)break}return null}function rV(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=ri(s.nextSibling),s===null))return null;return s}function qb(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=ri(s.nextSibling),s===null))return null;return s}function Wg(s){return s.data==="$?"||s.data==="$~"}function Jg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function aV(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function ri(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var Zg=null;function Hb(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return ri(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function Gb(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function Kb(s,r,o){switch(r=Jf(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function ac(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);To(s)}var ai=new Map,$b=new Set;function Zf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var xs=ot.d;ot.d={f:oV,r:lV,D:uV,C:cV,L:hV,m:fV,X:mV,S:dV,M:pV};function oV(){var s=xs.f(),r=Hf();return s||r}function lV(s){var r=Qn(s);r!==null&&r.tag===5&&r.type==="form"?cE(r):xs.r(s)}var el=typeof document>"u"?null:document;function Yb(s,r,o){var c=el;if(c&&typeof r=="string"&&r){var m=Sn(r);m='link[rel="'+s+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),$b.has(m)||($b.add(m),s={rel:s,crossOrigin:o,href:r},c.querySelector(m)===null&&(r=c.createElement("link"),on(r,"link",s),Ne(r),c.head.appendChild(r)))}}function uV(s){xs.D(s),Yb("dns-prefetch",s,null)}function cV(s,r){xs.C(s,r),Yb("preconnect",s,r)}function hV(s,r,o){xs.L(s,r,o);var c=el;if(c&&s&&r){var m='link[rel="preload"][as="'+Sn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Sn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Sn(o.imageSizes)+'"]')):m+='[href="'+Sn(s)+'"]';var g=m;switch(r){case"style":g=nl(s);break;case"script":g=il(s)}ai.has(g)||(s=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),ai.set(g,s),c.querySelector(m)!==null||r==="style"&&c.querySelector(oc(g))||r==="script"&&c.querySelector(lc(g))||(r=c.createElement("link"),on(r,"link",s),Ne(r),c.head.appendChild(r)))}}function fV(s,r){xs.m(s,r);var o=el;if(o&&s){var c=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+Sn(c)+'"][href="'+Sn(s)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=il(s)}if(!ai.has(g)&&(s=v({rel:"modulepreload",href:s},r),ai.set(g,s),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(lc(g)))return}c=o.createElement("link"),on(c,"link",s),Ne(c),o.head.appendChild(c)}}}function dV(s,r,o){xs.S(s,r,o);var c=el;if(c&&s){var m=Li(c).hoistableStyles,g=nl(s);r=r||"default";var T=m.get(g);if(!T){var S={loading:0,preload:null};if(T=c.querySelector(oc(g)))S.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":r},o),(o=ai.get(g))&&ty(s,o);var D=T=c.createElement("link");Ne(D),on(D,"link",s),D._p=new Promise(function(G,et){D.onload=G,D.onerror=et}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,td(T,r,c)}T={type:"stylesheet",instance:T,count:1,state:S},m.set(g,T)}}}function mV(s,r){xs.X(s,r);var o=el;if(o&&s){var c=Li(o).hoistableScripts,m=il(s),g=c.get(m);g||(g=o.querySelector(lc(m)),g||(s=v({src:s,async:!0},r),(r=ai.get(m))&&ey(s,r),g=o.createElement("script"),Ne(g),on(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function pV(s,r){xs.M(s,r);var o=el;if(o&&s){var c=Li(o).hoistableScripts,m=il(s),g=c.get(m);g||(g=o.querySelector(lc(m)),g||(s=v({src:s,async:!0,type:"module"},r),(r=ai.get(m))&&ey(s,r),g=o.createElement("script"),Ne(g),on(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function Qb(s,r,o,c){var m=(m=Vt.current)?Zf(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=nl(o.href),o=Li(m).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=nl(o.href);var g=Li(m).hoistableStyles,T=g.get(s);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,T),(g=m.querySelector(oc(s)))&&!g._p&&(T.instance=g,T.state.loading=5),ai.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ai.set(s,o),g||gV(m,s,o,T.state))),r&&c===null)throw Error(i(528,""));return T}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=il(o),o=Li(m).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function nl(s){return'href="'+Sn(s)+'"'}function oc(s){return'link[rel="stylesheet"]['+s+"]"}function Xb(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function gV(s,r,o,c){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=s.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),on(r,"link",o),Ne(r),s.head.appendChild(r))}function il(s){return'[src="'+Sn(s)+'"]'}function lc(s){return"script[async]"+s}function Wb(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=s.querySelector('style[data-href~="'+Sn(o.href)+'"]');if(c)return r.instance=c,Ne(c),c;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Ne(c),on(c,"style",m),td(c,o.precedence,s),r.instance=c;case"stylesheet":m=nl(o.href);var g=s.querySelector(oc(m));if(g)return r.state.loading|=4,r.instance=g,Ne(g),g;c=Xb(o),(m=ai.get(m))&&ty(c,m),g=(s.ownerDocument||s).createElement("link"),Ne(g);var T=g;return T._p=new Promise(function(S,D){T.onload=S,T.onerror=D}),on(g,"link",c),r.state.loading|=4,td(g,o.precedence,s),r.instance=g;case"script":return g=il(o.src),(m=s.querySelector(lc(g)))?(r.instance=m,Ne(m),m):(c=o,(m=ai.get(g))&&(c=v({},o),ey(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),Ne(m),on(m,"link",c),s.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,td(c,o.precedence,s));return r.instance}function td(s,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,T=0;T<c.length;T++){var S=c[T];if(S.dataset.precedence===r)g=S;else if(g!==m)break}g?g.parentNode.insertBefore(s,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function ty(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function ey(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var ed=null;function Jb(s,r,o){if(ed===null){var c=new Map,m=ed=new Map;m.set(o,c)}else m=ed,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(s))return c;for(c.set(s,null),o=o.getElementsByTagName(s),m=0;m<o.length;m++){var g=o[m];if(!(g[Oi]||g[Me]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=s+T;var S=c.get(T);S?S.push(g):c.set(T,[g])}}return c}function Zb(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function yV(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function tS(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function _V(s,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=nl(c.href),g=r.querySelector(oc(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=nd.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=g,Ne(g);return}g=r.ownerDocument||r,c=Xb(c),(m=ai.get(m))&&ty(c,m),g=g.createElement("link"),Ne(g);var T=g;T._p=new Promise(function(S,D){T.onload=S,T.onerror=D}),on(g,"link",c),o.instance=g}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=nd.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var ny=0;function vV(s,r){return s.stylesheets&&s.count===0&&sd(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var c=setTimeout(function(){if(s.stylesheets&&sd(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4+r);0<s.imgBytes&&ny===0&&(ny=62500*Z2());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&sd(s,s.stylesheets),s.unsuspend)){var g=s.unsuspend;s.unsuspend=null,g()}},(s.imgBytes>ny?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function nd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var id=null;function sd(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,id=new Map,r.forEach(TV,s),id=null,nd.call(s))}function TV(s,r){if(!(r.state.loading&4)){var o=id.get(s);if(o)var c=o.get(null);else{o=new Map,id.set(s,o);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var T=m[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}m=r.instance,T=m.getAttribute("data-precedence"),g=o.get(T)||c,g===c&&o.set(null,m),o.set(T,m),this.count++,c=nd.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),r.state.loading|=4}}var uc={$$typeof:j,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function EV(s,r,o,c,m,g,T,S,D){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.hiddenUpdates=Ni(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function eS(s,r,o,c,m,g,T,S,D,G,et,it){return s=new EV(s,r,o,T,D,G,et,it,S),r=1,g===!0&&(r|=24),g=Ln(3,null,null,r),s.current=g,g.stateNode=s,r=Op(),r.refCount++,s.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},Bp(g),s}function nS(s){return s?(s=Po,s):Po}function iS(s,r,o,c,m,g){m=nS(m),c.context===null?c.context=m:c.pendingContext=m,c=lr(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=ur(s,c,r),o!==null&&(Cn(o,s,r),ju(o,s,r))}function sS(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function iy(s,r){sS(s,r),(s=s.alternate)&&sS(s,r)}function rS(s){if(s.tag===13||s.tag===31){var r=wa(s,67108864);r!==null&&Cn(r,s,67108864),iy(s,67108864)}}function aS(s){if(s.tag===13||s.tag===31){var r=Fn();r=da(r);var o=wa(s,r);o!==null&&Cn(o,s,r),iy(s,r)}}var rd=!0;function bV(s,r,o,c){var m=tt.T;tt.T=null;var g=ot.p;try{ot.p=2,sy(s,r,o,c)}finally{ot.p=g,tt.T=m}}function SV(s,r,o,c){var m=tt.T;tt.T=null;var g=ot.p;try{ot.p=8,sy(s,r,o,c)}finally{ot.p=g,tt.T=m}}function sy(s,r,o,c){if(rd){var m=ry(c);if(m===null)Hg(s,r,c,ad,o),lS(s,c);else if(wV(m,s,r,o,c))c.stopPropagation();else if(lS(s,c),r&4&&-1<AV.indexOf(s)){for(;m!==null;){var g=Qn(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Vi(g.pendingLanes);if(T!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var D=1<<31-Ae(T);S.entanglements[1]|=D,T&=~D}Xi(g),(Xt&6)===0&&(Ff=yn()+500,ic(0))}}break;case 31:case 13:S=wa(g,2),S!==null&&Cn(S,g,2),Hf(),iy(g,2)}if(g=ry(c),g===null&&Hg(s,r,c,ad,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else Hg(s,r,c,null,o)}}function ry(s){return s=Xn(s),ay(s)}var ad=null;function ay(s){if(ad=null,s=ki(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=u(r),s!==null)return s;s=null}else if(o===31){if(s=h(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return ad=s,null}function oS(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ua()){case fu:return 2;case du:return 8;case $s:case fp:return 32;case Lh:return 268435456;default:return 32}default:return 32}}var oy=!1,Tr=null,Er=null,br=null,cc=new Map,hc=new Map,Sr=[],AV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lS(s,r){switch(s){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":cc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":hc.delete(r.pointerId)}}function fc(s,r,o,c,m,g){return s===null||s.nativeEvent!==g?(s={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},r!==null&&(r=Qn(r),r!==null&&rS(r)),s):(s.eventSystemFlags|=c,r=s.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),s)}function wV(s,r,o,c,m){switch(r){case"focusin":return Tr=fc(Tr,s,r,o,c,m),!0;case"dragenter":return Er=fc(Er,s,r,o,c,m),!0;case"mouseover":return br=fc(br,s,r,o,c,m),!0;case"pointerover":var g=m.pointerId;return cc.set(g,fc(cc.get(g)||null,s,r,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,hc.set(g,fc(hc.get(g)||null,s,r,o,c,m)),!0}return!1}function uS(s){var r=ki(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){s.blockedOn=r,fi(s.priority,function(){aS(o)});return}}else if(r===31){if(r=h(o),r!==null){s.blockedOn=r,fi(s.priority,function(){aS(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function od(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=ry(s.nativeEvent);if(o===null){o=s.nativeEvent;var c=new o.constructor(o.type,o);wu=c,o.target.dispatchEvent(c),wu=null}else return r=Qn(o),r!==null&&rS(r),s.blockedOn=o,!1;r.shift()}return!0}function cS(s,r,o){od(s)&&o.delete(r)}function IV(){oy=!1,Tr!==null&&od(Tr)&&(Tr=null),Er!==null&&od(Er)&&(Er=null),br!==null&&od(br)&&(br=null),cc.forEach(cS),hc.forEach(cS)}function ld(s,r){s.blockedOn===r&&(s.blockedOn=null,oy||(oy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,IV)))}var ud=null;function hS(s){ud!==s&&(ud=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ud===s&&(ud=null);for(var r=0;r<s.length;r+=3){var o=s[r],c=s[r+1],m=s[r+2];if(typeof c!="function"){if(ay(c||o)===null)continue;break}var g=Qn(o);g!==null&&(s.splice(r,3),r-=3,rg(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function sl(s){function r(D){return ld(D,s)}Tr!==null&&ld(Tr,s),Er!==null&&ld(Er,s),br!==null&&ld(br,s),cc.forEach(r),hc.forEach(r);for(var o=0;o<Sr.length;o++){var c=Sr[o];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Sr.length&&(o=Sr[0],o.blockedOn===null);)uS(o),o.blockedOn===null&&Sr.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],T=m[Xe]||null;if(typeof g=="function")T||hS(o);else if(T){var S=null;if(g&&g.hasAttribute("formAction")){if(m=g,T=g[Xe]||null)S=T.formAction;else if(ay(m)!==null)continue}else S=T.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),hS(o)}}}function fS(){function s(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return m=T})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function ly(s){this._internalRoot=s}cd.prototype.render=ly.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,c=Fn();iS(o,c,s,r,null,null)},cd.prototype.unmount=ly.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;iS(s.current,2,null,s,null,null),Hf(),r[Pi]=null}};function cd(s){this._internalRoot=s}cd.prototype.unstable_scheduleHydration=function(s){if(s){var r=qh();s={blockedOn:null,target:s,priority:r};for(var o=0;o<Sr.length&&r!==0&&r<Sr[o].priority;o++);Sr.splice(o,0,s),o===0&&uS(s)}};var dS=t.version;if(dS!=="19.2.4")throw Error(i(527,dS,"19.2.4"));ot.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(r),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var xV={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:tt,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hd.isDisabled&&hd.supportsFiber)try{ci=hd.inject(xV),en=hd}catch{}}return mc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,c="",m=TE,g=EE,T=bE;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=eS(s,1,!1,null,null,o,c,null,m,g,T,fS),s[Pi]=r.current,qg(s),new ly(r)},mc.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var c=!1,m="",g=TE,T=EE,S=bE,D=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(D=o.formState)),r=eS(s,1,!0,r,o??null,c,m,D,g,T,S,fS),r.context=nS(null),o=r.current,c=Fn(),c=da(c),m=lr(c),m.callback=null,ur(o,m,c),o=c,r.current.lanes=o,ha(r,o),Xi(r),s[Pi]=r.current,qg(s),new cd(r)},mc.version="19.2.4",mc}var SS;function UV(){if(SS)return hy.exports;SS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),hy.exports=LV(),hy.exports}var BV=UV();const zV="modulepreload",jV=function(n){return"/soka/"+n},AS={},jw=function(t,e,i){let a=Promise.resolve();if(e&&e.length>0){let d=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");a=d(e.map(p=>{if(p=jV(p),p in AS)return;AS[p]=!0;const y=p.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const E=document.createElement("link");if(E.rel=y?"stylesheet":zV,y||(E.as="script"),E.crossOrigin="",E.href=p,h&&E.setAttribute("nonce",h),document.head.appendChild(E),y)return new Promise((I,N)=>{E.addEventListener("load",I),E.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&l(h.reason);return t().catch(l)})},FV=()=>{};var wS={};const Fw=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},qV=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const a=n[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[e++];t[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[e++],u=n[e++],h=n[e++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(d>>10)),t[i++]=String.fromCharCode(56320+(d&1023))}else{const l=n[e++],u=n[e++];t[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return t.join("")},qw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,h=u?n[a+1]:0,d=a+2<n.length,p=d?n[a+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let E=(h&15)<<2|p>>6,I=p&63;d||(I=64,u||(E=64)),i.push(e[y],e[v],e[E],e[I])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(Fw(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):qV(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=e[n.charAt(a++)],h=a<n.length?e[n.charAt(a)]:0;++a;const p=a<n.length?e[n.charAt(a)]:64;++a;const v=a<n.length?e[n.charAt(a)]:64;if(++a,l==null||h==null||p==null||v==null)throw new HV;const E=l<<2|h>>4;if(i.push(E),p!==64){const I=h<<4&240|p>>2;if(i.push(I),v!==64){const N=p<<6&192|v;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class HV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GV=function(n){const t=Fw(n);return qw.encodeByteArray(t,!0)},Hw=function(n){return GV(n).replace(/\./g,"")},Gw=function(n){try{return qw.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Kw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const KV=()=>Kw().__FIREBASE_DEFAULTS__,$V=()=>{if(typeof process>"u"||typeof wS>"u")return;const n=wS.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},YV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Gw(n[1]);return t&&JSON.parse(t)},Cm=()=>{try{return FV()||KV()||$V()||YV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},QV=n=>Cm()?.emulatorHosts?.[n],$w=()=>Cm()?.config,Yw=n=>Cm()?.[`_${n}`];class XV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function Ql(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qw(n){return(await fetch(n,{credentials:"include"})).ok}const Rc={};function WV(){const n={prod:[],emulator:[]};for(const t of Object.keys(Rc))Rc[t]?n.emulator.push(t):n.prod.push(t);return n}function JV(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let IS=!1;function ZV(n,t){if(typeof window>"u"||typeof document>"u"||!Ql(window.location.host)||Rc[n]===t||Rc[n]||IS)return;Rc[n]=t;function e(E){return`__firebase__banner__${E}`}const i="__firebase__banner",l=WV().prod.length>0;function u(){const E=document.getElementById(i);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,I){E.setAttribute("width","24"),E.setAttribute("id",I),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{IS=!0,u()},E}function y(E,I){E.setAttribute("id",I),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=JV(i),I=e("text"),N=document.getElementById(I)||document.createElement("span"),B=e("learnmore"),U=document.getElementById(B)||document.createElement("a"),K=e("preprendIcon"),Z=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const j=E.element;h(j),y(U,B);const Y=p();d(Z,K),j.append(Z,N,U,Y),document.body.appendChild(j)}l?(N.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Ye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function Xw(){const n=Cm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function iM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sM(){const n=Ye();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Ww(){return!Xw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jw(){return!Xw()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Zw(){try{return typeof indexedDB=="object"}catch{return!1}}function rM(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}const aM="FirebaseError";class Fs extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=aM,Object.setPrototypeOf(this,Fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dh.prototype.create)}}class dh{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],u=l?oM(l,i):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Fs(a,h,i)}}function oM(n,t){return n.replace(lM,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const lM=/\{\$([^}]+)}/g;function uM(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function no(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const l=n[a],u=t[a];if(xS(l)&&xS(u)){if(!no(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function xS(n){return n!==null&&typeof n=="object"}function mh(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function cM(n,t){const e=new hM(n,t);return e.subscribe.bind(e)}class hM{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let a;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");fM(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:i},a.next===void 0&&(a.next=py),a.error===void 0&&(a.error=py),a.complete===void 0&&(a.complete=py);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fM(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function py(){}function Fe(n){return n&&n._delegate?n._delegate:n}class io{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ja="[DEFAULT]";class dM{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new XV;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(pM(t))try{this.getOrInitializeService({instanceIdentifier:ja})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(t=ja){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ja){return this.instances.has(t)}getOptions(t=ja){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&u.resolve(a)}return a}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&t(l,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:mM(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ja){return this.component?this.component.multipleInstances?t:ja:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mM(n){return n===ja?void 0:n}function pM(n){return n.instantiationMode==="EAGER"}class gM{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new dM(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var jt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(jt||(jt={}));const yM={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},_M=jt.INFO,vM={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},TM=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),a=vM[t];if(a)console[a](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class tv{constructor(t){this.name=t,this._logLevel=_M,this._logHandler=TM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?yM[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const EM=(n,t)=>t.some(e=>n instanceof e);let RS,CS;function bM(){return RS||(RS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SM(){return CS||(CS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tI=new WeakMap,$y=new WeakMap,eI=new WeakMap,gy=new WeakMap,ev=new WeakMap;function AM(n){const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{e(Br(n.result)),a()},u=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&tI.set(e,n)}).catch(()=>{}),ev.set(t,n),t}function wM(n){if($y.has(n))return;const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{e(),a()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});$y.set(n,t)}let Yy={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return $y.get(n);if(t==="objectStoreNames")return n.objectStoreNames||eI.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Br(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function IM(n){Yy=n(Yy)}function xM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(yy(this),t,...e);return eI.set(i,t.sort?t.sort():[t]),Br(i)}:SM().includes(n)?function(...t){return n.apply(yy(this),t),Br(tI.get(this))}:function(...t){return Br(n.apply(yy(this),t))}}function RM(n){return typeof n=="function"?xM(n):(n instanceof IDBTransaction&&wM(n),EM(n,bM())?new Proxy(n,Yy):n)}function Br(n){if(n instanceof IDBRequest)return AM(n);if(gy.has(n))return gy.get(n);const t=RM(n);return t!==n&&(gy.set(n,t),ev.set(t,n)),t}const yy=n=>ev.get(n);function CM(n,t,{blocked:e,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(n,t),h=Br(u);return i&&u.addEventListener("upgradeneeded",d=>{i(Br(u.result),d.oldVersion,d.newVersion,Br(u.transaction),d)}),e&&u.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const DM=["get","getKey","getAll","getAllKeys","count"],VM=["put","add","delete","clear"],_y=new Map;function DS(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(_y.get(t))return _y.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=VM.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||DM.includes(e)))return;const l=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let p=d.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[e](...h),a&&d.done]))[0]};return _y.set(t,l),l}IM(n=>({...n,get:(t,e,i)=>DS(t,e)||n.get(t,e,i),has:(t,e)=>!!DS(t,e)||n.has(t,e)}));class MM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(NM(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function NM(n){return n.getComponent()?.type==="VERSION"}const Qy="@firebase/app",VS="0.14.7";const Os=new tv("@firebase/app"),PM="@firebase/app-compat",OM="@firebase/analytics-compat",kM="@firebase/analytics",LM="@firebase/app-check-compat",UM="@firebase/app-check",BM="@firebase/auth",zM="@firebase/auth-compat",jM="@firebase/database",FM="@firebase/data-connect",qM="@firebase/database-compat",HM="@firebase/functions",GM="@firebase/functions-compat",KM="@firebase/installations",$M="@firebase/installations-compat",YM="@firebase/messaging",QM="@firebase/messaging-compat",XM="@firebase/performance",WM="@firebase/performance-compat",JM="@firebase/remote-config",ZM="@firebase/remote-config-compat",tN="@firebase/storage",eN="@firebase/storage-compat",nN="@firebase/firestore",iN="@firebase/ai",sN="@firebase/firestore-compat",rN="firebase",aN="12.8.0";const Xy="[DEFAULT]",oN={[Qy]:"fire-core",[PM]:"fire-core-compat",[kM]:"fire-analytics",[OM]:"fire-analytics-compat",[UM]:"fire-app-check",[LM]:"fire-app-check-compat",[BM]:"fire-auth",[zM]:"fire-auth-compat",[jM]:"fire-rtdb",[FM]:"fire-data-connect",[qM]:"fire-rtdb-compat",[HM]:"fire-fn",[GM]:"fire-fn-compat",[KM]:"fire-iid",[$M]:"fire-iid-compat",[YM]:"fire-fcm",[QM]:"fire-fcm-compat",[XM]:"fire-perf",[WM]:"fire-perf-compat",[JM]:"fire-rc",[ZM]:"fire-rc-compat",[tN]:"fire-gcs",[eN]:"fire-gcs-compat",[nN]:"fire-fst",[sN]:"fire-fst-compat",[iN]:"fire-vertex","fire-js":"fire-js",[rN]:"fire-js-all"};const $d=new Map,lN=new Map,Wy=new Map;function MS(n,t){try{n.container.addComponent(t)}catch(e){Os.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Rl(n){const t=n.name;if(Wy.has(t))return Os.debug(`There were multiple attempts to register component ${t}.`),!1;Wy.set(t,n);for(const e of $d.values())MS(e,n);for(const e of lN.values())MS(e,n);return!0}function nv(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function wi(n){return n==null?!1:n.settings!==void 0}const uN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zr=new dh("app","Firebase",uN);class cN{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}const Xl=aN;function nI(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:Xy,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw zr.create("bad-app-name",{appName:String(a)});if(e||(e=$w()),!e)throw zr.create("no-options");const l=$d.get(a);if(l){if(no(e,l.options)&&no(i,l.config))return l;throw zr.create("duplicate-app",{appName:a})}const u=new gM(a);for(const d of Wy.values())u.addComponent(d);const h=new cN(e,i,u);return $d.set(a,h),h}function hN(n=Xy){const t=$d.get(n);if(!t&&n===Xy&&$w())return nI();if(!t)throw zr.create("no-app",{appName:n});return t}function jr(n,t,e){let i=oN[n]??n;e&&(i+=`-${e}`);const a=i.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${t}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Os.warn(u.join(" "));return}Rl(new io(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const fN="firebase-heartbeat-database",dN=1,Hc="firebase-heartbeat-store";let vy=null;function iI(){return vy||(vy=CM(fN,dN,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Hc)}catch(e){console.warn(e)}}}}).catch(n=>{throw zr.create("idb-open",{originalErrorMessage:n.message})})),vy}async function mN(n){try{const e=(await iI()).transaction(Hc),i=await e.objectStore(Hc).get(sI(n));return await e.done,i}catch(t){if(t instanceof Fs)Os.warn(t.message);else{const e=zr.create("idb-get",{originalErrorMessage:t?.message});Os.warn(e.message)}}}async function NS(n,t){try{const i=(await iI()).transaction(Hc,"readwrite");await i.objectStore(Hc).put(t,sI(n)),await i.done}catch(e){if(e instanceof Fs)Os.warn(e.message);else{const i=zr.create("idb-set",{originalErrorMessage:e?.message});Os.warn(i.message)}}}function sI(n){return`${n.name}!${n.options.appId}`}const pN=1024,gN=30;class yN{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new vN(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=PS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>gN){const a=TN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Os.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=PS(),{heartbeatsToSend:e,unsentEntries:i}=_N(this._heartbeatsCache.heartbeats),a=Hw(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Os.warn(t),""}}}function PS(){return new Date().toISOString().substring(0,10)}function _N(n,t=pN){const e=[];let i=n.slice();for(const a of n){const l=e.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),OS(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),OS(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class vN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zw()?rM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await mN(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return NS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return NS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function OS(n){return Hw(JSON.stringify({version:2,heartbeats:n})).length}function TN(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function EN(n){Rl(new io("platform-logger",t=>new MM(t),"PRIVATE")),Rl(new io("heartbeat",t=>new yN(t),"PRIVATE")),jr(Qy,VS,n),jr(Qy,VS,"esm2020"),jr("fire-js","")}EN("");function rI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bN=rI,aI=new dh("auth","Firebase",rI());const Yd=new tv("@firebase/auth");function SN(n,...t){Yd.logLevel<=jt.WARN&&Yd.warn(`Auth (${Xl}): ${n}`,...t)}function wd(n,...t){Yd.logLevel<=jt.ERROR&&Yd.error(`Auth (${Xl}): ${n}`,...t)}function ks(n,...t){throw iv(n,...t)}function ns(n,...t){return iv(n,...t)}function oI(n,t,e){const i={...bN(),[t]:e};return new dh("auth","Firebase",i).create(t,{appName:n.name})}function Fr(n){return oI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iv(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return aI.create(n,...t)}function At(n,t,...e){if(!n)throw iv(t,...e)}function Ds(n){const t="INTERNAL ASSERTION FAILED: "+n;throw wd(t),new Error(t)}function Ls(n,t){n||Ds(t)}function Jy(){return typeof self<"u"&&self.location?.href||""}function AN(){return kS()==="http:"||kS()==="https:"}function kS(){return typeof self<"u"&&self.location?.protocol||null}function wN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AN()||nM()||"connection"in navigator)?navigator.onLine:!0}function IN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class ph{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ls(e>t,"Short delay should be less than long delay!"),this.isMobile=tM()||iM()}get(){return wN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function sv(n,t){Ls(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class lI{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const RN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CN=new ph(3e4,6e4);function Dm(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Wl(n,t,e,i,a={}){return uI(n,a,async()=>{let l={},u={};i&&(t==="GET"?u=i:l={body:JSON.stringify(i)});const h=mh({key:n.config.apiKey,...u}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p={method:t,headers:d,...l};return eM()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Ql(n.emulatorConfig.host)&&(p.credentials="include"),lI.fetch()(await hI(n,n.config.apiHost,e,h),p)})}async function uI(n,t,e){n._canInitEmulator=!1;const i={...xN,...t};try{const a=new DN(n),l=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw fd(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw fd(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw fd(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw fd(n,"user-disabled",u);const y=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw oI(n,y,p);ks(n,y)}}catch(a){if(a instanceof Fs)throw a;ks(n,"network-request-failed",{message:String(a)})}}async function cI(n,t,e,i,a={}){const l=await Wl(n,t,e,i,a);return"mfaPendingCredential"in l&&ks(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function hI(n,t,e,i){const a=`${t}${e}?${i}`,l=n,u=l.config.emulator?sv(n.config,a):`${n.config.apiScheme}://${a}`;return RN.includes(e)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class DN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(ns(this.auth,"network-request-failed")),CN.get())})}}function fd(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const a=ns(n,t,i);return a.customData._tokenResponse=e,a}async function VN(n,t){return Wl(n,"POST","/v1/accounts:delete",t)}async function Qd(n,t){return Wl(n,"POST","/v1/accounts:lookup",t)}function Cc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function MN(n,t=!1){const e=Fe(n),i=await e.getIdToken(t),a=rv(i);At(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:i,authTime:Cc(Ty(a.auth_time)),issuedAtTime:Cc(Ty(a.iat)),expirationTime:Cc(Ty(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Ty(n){return Number(n)*1e3}function rv(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return wd("JWT malformed, contained fewer than 3 sections"),null;try{const a=Gw(e);return a?JSON.parse(a):(wd("Failed to decode base64 JWT payload"),null)}catch(a){return wd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function LS(n){const t=rv(n);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Gc(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Fs&&NN(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function NN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class PN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Zy{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cc(this.lastLoginAt),this.creationTime=Cc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xd(n){const t=n.auth,e=await n.getIdToken(),i=await Gc(n,Qd(t,{idToken:e}));At(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?fI(a.providerUserInfo):[],u=kN(n.providerData,l),h=n.isAnonymous,d=!(n.email&&a.passwordHash)&&!u?.length,p=h?d:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Zy(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,y)}async function ON(n){const t=Fe(n);await Xd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function kN(n,t){return[...n.filter(i=>!t.some(a=>a.providerId===i.providerId)),...t]}function fI(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function LN(n,t){const e=await uI(n,{},async()=>{const i=mh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=await hI(n,a,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:i};return n.emulatorConfig&&Ql(n.emulatorConfig.host)&&(d.credentials="include"),lI.fetch()(u,d)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function UN(n,t){return Wl(n,"POST","/v2/accounts:revokeToken",Dm(n,t))}class bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):LS(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){At(t.length!==0,"internal-error");const e=LS(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:a,expiresIn:l}=await LN(t,e);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:a,expirationTime:l}=e,u=new bl;return i&&(At(typeof i=="string","internal-error",{appName:t}),u.refreshToken=i),a&&(At(typeof a=="string","internal-error",{appName:t}),u.accessToken=a),l&&(At(typeof l=="number","internal-error",{appName:t}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new bl,this.toJSON())}_performRefresh(){return Ds("not implemented")}}function wr(n,t){At(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Ii{constructor({uid:t,auth:e,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new PN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Zy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await Gc(this,this.stsTokenManager.getToken(this.auth,t));return At(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return MN(this,t)}reload(){return ON(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Ii({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Xd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wi(this.auth.app))return Promise.reject(Fr(this.auth));const t=await this.getIdToken();return await Gc(this,VN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,a=e.email??void 0,l=e.phoneNumber??void 0,u=e.photoURL??void 0,h=e.tenantId??void 0,d=e._redirectEventId??void 0,p=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:I,providerData:N,stsTokenManager:B}=e;At(v&&B,t,"internal-error");const U=bl.fromJSON(this.name,B);At(typeof v=="string",t,"internal-error"),wr(i,t.name),wr(a,t.name),At(typeof E=="boolean",t,"internal-error"),At(typeof I=="boolean",t,"internal-error"),wr(l,t.name),wr(u,t.name),wr(h,t.name),wr(d,t.name),wr(p,t.name),wr(y,t.name);const K=new Ii({uid:v,auth:t,email:a,emailVerified:E,displayName:i,isAnonymous:I,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:U,createdAt:p,lastLoginAt:y});return N&&Array.isArray(N)&&(K.providerData=N.map(Z=>({...Z}))),d&&(K._redirectEventId=d),K}static async _fromIdTokenResponse(t,e,i=!1){const a=new bl;a.updateFromServerResponse(e);const l=new Ii({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:i});return await Xd(l),l}static async _fromGetAccountInfoResponse(t,e,i){const a=e.users[0];At(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?fI(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new bl;h.updateFromIdToken(i);const d=new Ii({uid:a.localId,auth:t,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Zy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,p),d}}const US=new Map;function Vs(n){Ls(n instanceof Function,"Expected a class definition");let t=US.get(n);return t?(Ls(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,US.set(n,t),t)}class dI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}dI.type="NONE";const BS=dI;function Id(n,t,e){return`firebase:${n}:${t}:${e}`}class Sl{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Id(this.userKey,a.apiKey,l),this.fullPersistenceKey=Id("persistence",a.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Qd(this.auth,{idToken:t}).catch(()=>{});return e?Ii._fromGetAccountInfoResponse(this.auth,e,t):null}return Ii._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Sl(Vs(BS),t,i);const a=(await Promise.all(e.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Vs(BS);const u=Id(i,t.config.apiKey,t.name);let h=null;for(const p of e)try{const y=await p._get(u);if(y){let v;if(typeof y=="string"){const E=await Qd(t,{idToken:y}).catch(()=>{});if(!E)break;v=await Ii._fromGetAccountInfoResponse(t,E,y)}else v=Ii._fromJSON(t,y);p!==l&&(h=v),l=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new Sl(l,t,i):(l=d[0],h&&await l._set(u,h.toJSON()),await Promise.all(e.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new Sl(l,t,i))}}function zS(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yI(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mI(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vI(t))return"Blackberry";if(TI(t))return"Webos";if(pI(t))return"Safari";if((t.includes("chrome/")||gI(t))&&!t.includes("edge/"))return"Chrome";if(_I(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function mI(n=Ye()){return/firefox\//i.test(n)}function pI(n=Ye()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gI(n=Ye()){return/crios\//i.test(n)}function yI(n=Ye()){return/iemobile/i.test(n)}function _I(n=Ye()){return/android/i.test(n)}function vI(n=Ye()){return/blackberry/i.test(n)}function TI(n=Ye()){return/webos/i.test(n)}function av(n=Ye()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function BN(n=Ye()){return av(n)&&!!window.navigator?.standalone}function zN(){return sM()&&document.documentMode===10}function EI(n=Ye()){return av(n)||_I(n)||TI(n)||vI(n)||/windows phone/i.test(n)||yI(n)}function bI(n,t=[]){let e;switch(n){case"Browser":e=zS(Ye());break;case"Worker":e=`${zS(Ye())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Xl}/${i}`}class jN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=l=>new Promise((u,h)=>{try{const d=t(l);u(d)}catch(d){h(d)}});i.onAbort=e,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function FN(n,t={}){return Wl(n,"GET","/v2/passwordPolicy",Dm(n,t))}const qN=6;class HN{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??qN,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let a=0;a<t.length;a++)i=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}class GN{constructor(t,e,i,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jS(this),this.idTokenSubscription=new jS(this),this.beforeStateQueue=new jN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Vs(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Sl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Qd(this,{idToken:t}),i=await Ii._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(wi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!l||l===u)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Xd(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=IN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(wi(this.app))return Promise.reject(Fr(this));const e=t?Fe(t):null;return e&&At(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return wi(this.app)?Promise.reject(Fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return wi(this.app)?Promise.reject(Fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await FN(this),e=new HN(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new dh("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await UN(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Vs(t)||this._popupRedirectResolver;At(e,this,"argument-error"),this.redirectPersistenceManager=await Sl.create(this,[Vs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,a){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof e=="function"){const d=t.addObserver(e,i,a);return()=>{u=!0,d()}}else{const d=t.addObserver(e);return()=>{u=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=bI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(wi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&SN(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Vm(n){return Fe(n)}class jS{constructor(t){this.auth=t,this.observer=null,this.addObserver=cM(e=>this.observer=e)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ov={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KN(n){ov=n}function $N(n){return ov.loadJS(n)}function YN(){return ov.gapiScript}function QN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function XN(n,t){const e=nv(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),l=e.getOptions();if(no(l,t??{}))return a;ks(a,"already-initialized")}return e.initialize({options:t})}function WN(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Vs);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function JN(n,t,e){const i=Vm(n);At(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const a=!1,l=SI(t),{host:u,port:h}=ZN(t),d=h===null?"":`:${h}`,p={url:`${l}//${u}${d}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){At(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),At(no(p,i.config.emulator)&&no(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Ql(u)?(Qw(`${l}//${u}${d}`),ZV("Auth",!0)):tP()}function SI(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function ZN(n){const t=SI(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:FS(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:FS(u)}}}function FS(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function tP(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class AI{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ds("not implemented")}_getIdTokenResponse(t){return Ds("not implemented")}_linkToIdToken(t,e){return Ds("not implemented")}_getReauthenticationResolver(t){return Ds("not implemented")}}async function Al(n,t){return cI(n,"POST","/v1/accounts:signInWithIdp",Dm(n,t))}const eP="http://localhost";class so extends AI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new so(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ks("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:a,...l}=e;if(!i||!a)return null;const u=new so(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(t){const e=this.buildRequest();return Al(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Al(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Al(t,e)}buildRequest(){const t={requestUri:eP,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=mh(e)}return t}}class wI{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class gh extends wI{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Dr extends gh{constructor(){super("facebook.com")}static credential(t){return so._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Dr.credentialFromTaggedObject(t)}static credentialFromError(t){return Dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Dr.credential(t.oauthAccessToken)}catch{return null}}}Dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Dr.PROVIDER_ID="facebook.com";class Vr extends gh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return so._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Vr.credentialFromTaggedObject(t)}static credentialFromError(t){return Vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Vr.credential(e,i)}catch{return null}}}Vr.GOOGLE_SIGN_IN_METHOD="google.com";Vr.PROVIDER_ID="google.com";class Mr extends gh{constructor(){super("github.com")}static credential(t){return so._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Mr.credentialFromTaggedObject(t)}static credentialFromError(t){return Mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Mr.credential(t.oauthAccessToken)}catch{return null}}}Mr.GITHUB_SIGN_IN_METHOD="github.com";Mr.PROVIDER_ID="github.com";class Nr extends gh{constructor(){super("twitter.com")}static credential(t,e){return so._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Nr.credentialFromTaggedObject(t)}static credentialFromError(t){return Nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Nr.credential(e,i)}catch{return null}}}Nr.TWITTER_SIGN_IN_METHOD="twitter.com";Nr.PROVIDER_ID="twitter.com";async function nP(n,t){return cI(n,"POST","/v1/accounts:signUp",Dm(n,t))}class $r{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,a=!1){const l=await Ii._fromIdTokenResponse(t,i,a),u=qS(i);return new $r({user:l,providerId:u,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const a=qS(i);return new $r({user:t,providerId:a,_tokenResponse:i,operationType:e})}}function qS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function iP(n){if(wi(n.app))return Promise.reject(Fr(n));const t=Vm(n);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new $r({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await nP(t,{returnSecureToken:!0}),i=await $r._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(i.user),i}class Wd extends Fs{constructor(t,e,i,a){super(e.code,e.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Wd.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,a){return new Wd(t,e,i,a)}}function II(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Wd._fromErrorAndOperation(n,l,t,i):l})}async function sP(n,t,e=!1){const i=await Gc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return $r._forOperation(n,"link",i)}async function rP(n,t,e=!1){const{auth:i}=n;if(wi(i.app))return Promise.reject(Fr(i));const a="reauthenticate";try{const l=await Gc(n,II(i,a,t,n),e);At(l.idToken,i,"internal-error");const u=rv(l.idToken);At(u,i,"internal-error");const{sub:h}=u;return At(n.uid===h,i,"user-mismatch"),$r._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ks(i,"user-mismatch"),l}}async function aP(n,t,e=!1){if(wi(n.app))return Promise.reject(Fr(n));const i="signIn",a=await II(n,i,t),l=await $r._fromIdTokenResponse(n,i,a);return e||await n._updateCurrentUser(l.user),l}function oP(n,t,e,i){return Fe(n).onIdTokenChanged(t,e,i)}function lP(n,t,e){return Fe(n).beforeAuthStateChanged(t,e)}function uP(n,t,e,i){return Fe(n).onAuthStateChanged(t,e,i)}const Jd="__sak";class xI{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Jd,"1"),this.storage.removeItem(Jd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const cP=1e3,hP=10;class RI extends xI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=EI(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),a=this.localCache[e];i!==a&&t(e,a,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const i=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!e&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);zN()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,hP):a()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},cP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}RI.type="LOCAL";const fP=RI;class CI extends xI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}CI.type="SESSION";const DI=CI;function dP(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Mm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const i=new Mm(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:a,data:l}=e.data,u=this.handlersMap[a];if(!u?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(u).map(async p=>p(e.origin,l)),d=await dP(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:d})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mm.receivers=[];function lv(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class mP{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,d)=>{const p=lv("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(E.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:p,data:e},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function is(){return window}function pP(n){is().location.href=n}function VI(){return typeof is().WorkerGlobalScope<"u"&&typeof is().importScripts=="function"}async function gP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yP(){return navigator?.serviceWorker?.controller||null}function _P(){return VI()?self:null}const MI="firebaseLocalStorageDb",vP=1,Zd="firebaseLocalStorage",NI="fbase_key";class yh{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Nm(n,t){return n.transaction([Zd],t?"readwrite":"readonly").objectStore(Zd)}function TP(){const n=indexedDB.deleteDatabase(MI);return new yh(n).toPromise()}function t_(){const n=indexedDB.open(MI,vP);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Zd,{keyPath:NI})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Zd)?t(i):(i.close(),await TP(),t(await t_()))})})}async function HS(n,t,e){const i=Nm(n,!0).put({[NI]:t,value:e});return new yh(i).toPromise()}async function EP(n,t){const e=Nm(n,!1).get(t),i=await new yh(e).toPromise();return i===void 0?null:i.value}function GS(n,t){const e=Nm(n,!0).delete(t);return new yh(e).toPromise()}const bP=800,SP=3;class PI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await t_(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>SP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mm._getInstance(_P()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gP(),!this.activeServiceWorker)return;this.sender=new mP(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||yP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await t_();return await HS(t,Jd,"1"),await GS(t,Jd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>HS(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>EP(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>GS(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=Nm(a,!1).getAll();return new yh(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PI.type="LOCAL";const AP=PI;new ph(3e4,6e4);function wP(n,t){return t?Vs(t):(At(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class uv extends AI{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Al(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Al(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Al(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function IP(n){return aP(n.auth,new uv(n),n.bypassAuthState)}function xP(n){const{auth:t,user:e}=n;return At(e,t,"internal-error"),rP(e,new uv(n),n.bypassAuthState)}async function RP(n){const{auth:t,user:e}=n;return At(e,t,"internal-error"),sP(e,new uv(n),n.bypassAuthState)}class OI{constructor(t,e,i,a,l=!1){this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:a,tenantId:l,error:u,type:h}=t;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:e,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return IP;case"linkViaPopup":case"linkViaRedirect":return RP;case"reauthViaPopup":case"reauthViaRedirect":return xP;default:ks(this.auth,"internal-error")}}resolve(t){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const CP=new ph(2e3,1e4);class gl extends OI{constructor(t,e,i,a,l){super(t,e,a,l),this.provider=i,this.authWindow=null,this.pollId=null,gl.currentPopupAction&&gl.currentPopupAction.cancel(),gl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){Ls(this.filter.length===1,"Popup operations only handle one event");const t=lv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gl.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,CP.get())};t()}}gl.currentPopupAction=null;const DP="pendingRedirect",xd=new Map;class VP extends OI{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=xd.get(this.auth._key());if(!t){try{const i=await MP(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}xd.set(this.auth._key(),t)}return this.bypassAuthState||xd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MP(n,t){const e=OP(t),i=PP(n);if(!await i._isAvailable())return!1;const a=await i._get(e)==="true";return await i._remove(e),a}function NP(n,t){xd.set(n._key(),t)}function PP(n){return Vs(n._redirectPersistence)}function OP(n){return Id(DP,n.config.apiKey,n.name)}async function kP(n,t,e=!1){if(wi(n.app))return Promise.reject(Fr(n));const i=Vm(n),a=wP(i,t),u=await new VP(i,a,e).execute();return u&&!e&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,t)),u}const LP=600*1e3;class UP{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!BP(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!kI(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(ns(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=LP&&this.cachedEventUids.clear(),this.cachedEventUids.has(KS(t))}saveEventToCache(t){this.cachedEventUids.add(KS(t)),this.lastProcessedEventTime=Date.now()}}function KS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function kI({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function BP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kI(n);default:return!1}}async function zP(n,t={}){return Wl(n,"GET","/v1/projects",t)}const jP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FP=/^https?/;async function qP(n){if(n.config.emulator)return;const{authorizedDomains:t}=await zP(n);for(const e of t)try{if(HP(e))return}catch{}ks(n,"unauthorized-domain")}function HP(n){const t=Jy(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&u.hostname===i}if(!FP.test(e))return!1;if(jP.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const GP=new ph(3e4,6e4);function $S(){const n=is().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function KP(n){return new Promise((t,e)=>{function i(){$S(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{$S(),e(ns(n,"network-request-failed"))},timeout:GP.get()})}if(is().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(is().gapi?.load)i();else{const a=QN("iframefcb");return is()[a]=()=>{gapi.load?i():e(ns(n,"network-request-failed"))},$N(`${YN()}?onload=${a}`).catch(l=>e(l))}}).catch(t=>{throw Rd=null,t})}let Rd=null;function $P(n){return Rd=Rd||KP(n),Rd}const YP=new ph(5e3,15e3),QP="__/auth/iframe",XP="emulator/auth/iframe",WP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZP(n){const t=n.config;At(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?sv(t,XP):`https://${n.config.authDomain}/${QP}`,i={apiKey:t.apiKey,appName:n.name,v:Xl},a=JP.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${e}?${mh(i).slice(1)}`}async function tO(n){const t=await $P(n),e=is().gapi;return At(e,n,"internal-error"),t.open({where:document.body,url:ZP(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WP,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=ns(n,"network-request-failed"),h=is().setTimeout(()=>{l(u)},YP.get());function d(){is().clearTimeout(h),a(i)}i.ping(d).then(d,()=>{l(u)})}))}const eO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nO=500,iO=600,sO="_blank",rO="http://localhost";class YS{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aO(n,t,e,i=nO,a=iO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d={...eO,width:i.toString(),height:a.toString(),top:l,left:u},p=Ye().toLowerCase();e&&(h=gI(p)?sO:e),mI(p)&&(t=t||rO,d.scrollbars="yes");const y=Object.entries(d).reduce((E,[I,N])=>`${E}${I}=${N},`,"");if(BN(p)&&h!=="_self")return oO(t||"",h),new YS(null);const v=window.open(t||"",h,y);At(v,n,"popup-blocked");try{v.focus()}catch{}return new YS(v)}function oO(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const lO="__/auth/handler",uO="emulator/auth/handler",cO=encodeURIComponent("fac");async function QS(n,t,e,i,a,l){At(n.config.authDomain,n,"auth-domain-config-required"),At(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Xl,eventId:a};if(t instanceof wI){t.setDefaultLanguage(n.languageCode),u.providerId=t.providerId||"",uM(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(t instanceof gh){const y=t.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await n._getAppCheckToken(),p=d?`#${cO}=${encodeURIComponent(d)}`:"";return`${hO(n)}?${mh(h).slice(1)}${p}`}function hO({config:n}){return n.emulator?sv(n,uO):`https://${n.authDomain}/${lO}`}const Ey="webStorageSupport";class fO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DI,this._completeRedirectFn=kP,this._overrideRedirectResult=NP}async _openPopup(t,e,i,a){Ls(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await QS(t,e,i,Jy(),a);return aO(t,l,lv())}async _openRedirect(t,e,i,a){await this._originValidation(t);const l=await QS(t,e,i,Jy(),a);return pP(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:l}=this.eventManagers[e];return a?Promise.resolve(a):(Ls(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await tO(t),i=new UP(t);return e.register("authEvent",a=>(At(a?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Ey,{type:Ey},a=>{const l=a?.[0]?.[Ey];l!==void 0&&e(!!l),ks(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=qP(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return EI()||pI()||av()}}const dO=fO;var XS="@firebase/auth",WS="1.12.0";class mO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function pO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gO(n){Rl(new io("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;At(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bI(n)},p=new GN(i,a,l,d);return WN(p,e),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Rl(new io("auth-internal",t=>{const e=Vm(t.getProvider("auth").getImmediate());return(i=>new mO(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),jr(XS,WS,pO(n)),jr(XS,WS,"esm2020")}const yO=300,_O=Yw("authIdTokenMaxAge")||yO;let JS=null;const vO=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>_O)return;const a=e?.token;JS!==a&&(JS=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function TO(n=hN()){const t=nv(n,"auth");if(t.isInitialized())return t.getImmediate();const e=XN(n,{popupRedirectResolver:dO,persistence:[AP,fP,DI]}),i=Yw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=vO(l.toString());lP(e,u,()=>u(e.currentUser)),oP(e,h=>u(h))}}const a=QV("auth");return a&&JN(e,`http://${a}`),e}function EO(){return document.getElementsByTagName("head")?.[0]??document}KN({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=a=>{const l=ns("internal-error");l.customData=a,e(l)},i.type="text/javascript",i.charset="UTF-8",EO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gO("Browser");var bO="firebase",SO="12.8.0";jr(bO,SO,"app");var ZS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qr,LI;(function(){var n;function t(x,w){function R(){}R.prototype=w.prototype,x.F=w.prototype,x.prototype=new R,x.prototype.constructor=x,x.D=function(P,M,k){for(var C=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)C[Ot-2]=arguments[Ot];return w.prototype[M].apply(P,C)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,w,R){R||(R=0);const P=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)P[M]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(M=0;M<16;++M)P[M]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=x.g[0],R=x.g[1],M=x.g[2];let k=x.g[3],C;C=w+(k^R&(M^k))+P[0]+3614090360&4294967295,w=R+(C<<7&4294967295|C>>>25),C=k+(M^w&(R^M))+P[1]+3905402710&4294967295,k=w+(C<<12&4294967295|C>>>20),C=M+(R^k&(w^R))+P[2]+606105819&4294967295,M=k+(C<<17&4294967295|C>>>15),C=R+(w^M&(k^w))+P[3]+3250441966&4294967295,R=M+(C<<22&4294967295|C>>>10),C=w+(k^R&(M^k))+P[4]+4118548399&4294967295,w=R+(C<<7&4294967295|C>>>25),C=k+(M^w&(R^M))+P[5]+1200080426&4294967295,k=w+(C<<12&4294967295|C>>>20),C=M+(R^k&(w^R))+P[6]+2821735955&4294967295,M=k+(C<<17&4294967295|C>>>15),C=R+(w^M&(k^w))+P[7]+4249261313&4294967295,R=M+(C<<22&4294967295|C>>>10),C=w+(k^R&(M^k))+P[8]+1770035416&4294967295,w=R+(C<<7&4294967295|C>>>25),C=k+(M^w&(R^M))+P[9]+2336552879&4294967295,k=w+(C<<12&4294967295|C>>>20),C=M+(R^k&(w^R))+P[10]+4294925233&4294967295,M=k+(C<<17&4294967295|C>>>15),C=R+(w^M&(k^w))+P[11]+2304563134&4294967295,R=M+(C<<22&4294967295|C>>>10),C=w+(k^R&(M^k))+P[12]+1804603682&4294967295,w=R+(C<<7&4294967295|C>>>25),C=k+(M^w&(R^M))+P[13]+4254626195&4294967295,k=w+(C<<12&4294967295|C>>>20),C=M+(R^k&(w^R))+P[14]+2792965006&4294967295,M=k+(C<<17&4294967295|C>>>15),C=R+(w^M&(k^w))+P[15]+1236535329&4294967295,R=M+(C<<22&4294967295|C>>>10),C=w+(M^k&(R^M))+P[1]+4129170786&4294967295,w=R+(C<<5&4294967295|C>>>27),C=k+(R^M&(w^R))+P[6]+3225465664&4294967295,k=w+(C<<9&4294967295|C>>>23),C=M+(w^R&(k^w))+P[11]+643717713&4294967295,M=k+(C<<14&4294967295|C>>>18),C=R+(k^w&(M^k))+P[0]+3921069994&4294967295,R=M+(C<<20&4294967295|C>>>12),C=w+(M^k&(R^M))+P[5]+3593408605&4294967295,w=R+(C<<5&4294967295|C>>>27),C=k+(R^M&(w^R))+P[10]+38016083&4294967295,k=w+(C<<9&4294967295|C>>>23),C=M+(w^R&(k^w))+P[15]+3634488961&4294967295,M=k+(C<<14&4294967295|C>>>18),C=R+(k^w&(M^k))+P[4]+3889429448&4294967295,R=M+(C<<20&4294967295|C>>>12),C=w+(M^k&(R^M))+P[9]+568446438&4294967295,w=R+(C<<5&4294967295|C>>>27),C=k+(R^M&(w^R))+P[14]+3275163606&4294967295,k=w+(C<<9&4294967295|C>>>23),C=M+(w^R&(k^w))+P[3]+4107603335&4294967295,M=k+(C<<14&4294967295|C>>>18),C=R+(k^w&(M^k))+P[8]+1163531501&4294967295,R=M+(C<<20&4294967295|C>>>12),C=w+(M^k&(R^M))+P[13]+2850285829&4294967295,w=R+(C<<5&4294967295|C>>>27),C=k+(R^M&(w^R))+P[2]+4243563512&4294967295,k=w+(C<<9&4294967295|C>>>23),C=M+(w^R&(k^w))+P[7]+1735328473&4294967295,M=k+(C<<14&4294967295|C>>>18),C=R+(k^w&(M^k))+P[12]+2368359562&4294967295,R=M+(C<<20&4294967295|C>>>12),C=w+(R^M^k)+P[5]+4294588738&4294967295,w=R+(C<<4&4294967295|C>>>28),C=k+(w^R^M)+P[8]+2272392833&4294967295,k=w+(C<<11&4294967295|C>>>21),C=M+(k^w^R)+P[11]+1839030562&4294967295,M=k+(C<<16&4294967295|C>>>16),C=R+(M^k^w)+P[14]+4259657740&4294967295,R=M+(C<<23&4294967295|C>>>9),C=w+(R^M^k)+P[1]+2763975236&4294967295,w=R+(C<<4&4294967295|C>>>28),C=k+(w^R^M)+P[4]+1272893353&4294967295,k=w+(C<<11&4294967295|C>>>21),C=M+(k^w^R)+P[7]+4139469664&4294967295,M=k+(C<<16&4294967295|C>>>16),C=R+(M^k^w)+P[10]+3200236656&4294967295,R=M+(C<<23&4294967295|C>>>9),C=w+(R^M^k)+P[13]+681279174&4294967295,w=R+(C<<4&4294967295|C>>>28),C=k+(w^R^M)+P[0]+3936430074&4294967295,k=w+(C<<11&4294967295|C>>>21),C=M+(k^w^R)+P[3]+3572445317&4294967295,M=k+(C<<16&4294967295|C>>>16),C=R+(M^k^w)+P[6]+76029189&4294967295,R=M+(C<<23&4294967295|C>>>9),C=w+(R^M^k)+P[9]+3654602809&4294967295,w=R+(C<<4&4294967295|C>>>28),C=k+(w^R^M)+P[12]+3873151461&4294967295,k=w+(C<<11&4294967295|C>>>21),C=M+(k^w^R)+P[15]+530742520&4294967295,M=k+(C<<16&4294967295|C>>>16),C=R+(M^k^w)+P[2]+3299628645&4294967295,R=M+(C<<23&4294967295|C>>>9),C=w+(M^(R|~k))+P[0]+4096336452&4294967295,w=R+(C<<6&4294967295|C>>>26),C=k+(R^(w|~M))+P[7]+1126891415&4294967295,k=w+(C<<10&4294967295|C>>>22),C=M+(w^(k|~R))+P[14]+2878612391&4294967295,M=k+(C<<15&4294967295|C>>>17),C=R+(k^(M|~w))+P[5]+4237533241&4294967295,R=M+(C<<21&4294967295|C>>>11),C=w+(M^(R|~k))+P[12]+1700485571&4294967295,w=R+(C<<6&4294967295|C>>>26),C=k+(R^(w|~M))+P[3]+2399980690&4294967295,k=w+(C<<10&4294967295|C>>>22),C=M+(w^(k|~R))+P[10]+4293915773&4294967295,M=k+(C<<15&4294967295|C>>>17),C=R+(k^(M|~w))+P[1]+2240044497&4294967295,R=M+(C<<21&4294967295|C>>>11),C=w+(M^(R|~k))+P[8]+1873313359&4294967295,w=R+(C<<6&4294967295|C>>>26),C=k+(R^(w|~M))+P[15]+4264355552&4294967295,k=w+(C<<10&4294967295|C>>>22),C=M+(w^(k|~R))+P[6]+2734768916&4294967295,M=k+(C<<15&4294967295|C>>>17),C=R+(k^(M|~w))+P[13]+1309151649&4294967295,R=M+(C<<21&4294967295|C>>>11),C=w+(M^(R|~k))+P[4]+4149444226&4294967295,w=R+(C<<6&4294967295|C>>>26),C=k+(R^(w|~M))+P[11]+3174756917&4294967295,k=w+(C<<10&4294967295|C>>>22),C=M+(w^(k|~R))+P[2]+718787259&4294967295,M=k+(C<<15&4294967295|C>>>17),C=R+(k^(M|~w))+P[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+k&4294967295}i.prototype.v=function(x,w){w===void 0&&(w=x.length);const R=w-this.blockSize,P=this.C;let M=this.h,k=0;for(;k<w;){if(M==0)for(;k<=R;)a(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<w;)if(P[M++]=x.charCodeAt(k++),M==this.blockSize){a(this,P),M=0;break}}else for(;k<w;)if(P[M++]=x[k++],M==this.blockSize){a(this,P),M=0;break}}this.h=M,this.o+=w},i.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;w=this.o*8;for(var R=x.length-8;R<x.length;++R)x[R]=w&255,w/=256;for(this.v(x),x=Array(16),w=0,R=0;R<4;++R)for(let P=0;P<32;P+=8)x[w++]=this.g[R]>>>P&255;return x};function l(x,w){var R=h;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=w(x)}function u(x,w){this.h=w;const R=[];let P=!0;for(let M=x.length-1;M>=0;M--){const k=x[M]|0;P&&k==w||(R[M]=k,P=!1)}this.g=R}var h={};function d(x){return-128<=x&&x<128?l(x,function(w){return new u([w|0],w<0?-1:0)}):new u([x|0],x<0?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return v;if(x<0)return U(p(-x));const w=[];let R=1;for(let P=0;x>=R;P++)w[P]=x/R|0,R*=4294967296;return new u(w,0)}function y(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return U(y(x.substring(1),w));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(w,8));let P=v;for(let k=0;k<x.length;k+=8){var M=Math.min(8,x.length-k);const C=parseInt(x.substring(k,k+M),w);M<8?(M=p(Math.pow(w,M)),P=P.j(M).add(p(C))):(P=P.j(R),P=P.add(p(C)))}return P}var v=d(0),E=d(1),I=d(16777216);n=u.prototype,n.m=function(){if(B(this))return-U(this).m();let x=0,w=1;for(let R=0;R<this.g.length;R++){const P=this.i(R);x+=(P>=0?P:4294967296+P)*w,w*=4294967296}return x},n.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(N(this))return"0";if(B(this))return"-"+U(this).toString(x);const w=p(Math.pow(x,6));var R=this;let P="";for(;;){const M=Y(R,w).g;R=K(R,M.j(w));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(x);if(R=M,N(R))return k+P;for(;k.length<6;)k="0"+k;P=k+P}},n.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function N(x){if(x.h!=0)return!1;for(let w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function B(x){return x.h==-1}n.l=function(x){return x=K(this,x),B(x)?-1:N(x)?0:1};function U(x){const w=x.g.length,R=[];for(let P=0;P<w;P++)R[P]=~x.g[P];return new u(R,~x.h).add(E)}n.abs=function(){return B(this)?U(this):this},n.add=function(x){const w=Math.max(this.g.length,x.g.length),R=[];let P=0;for(let M=0;M<=w;M++){let k=P+(this.i(M)&65535)+(x.i(M)&65535),C=(k>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);P=C>>>16,k&=65535,C&=65535,R[M]=C<<16|k}return new u(R,R[R.length-1]&-2147483648?-1:0)};function K(x,w){return x.add(U(w))}n.j=function(x){if(N(this)||N(x))return v;if(B(this))return B(x)?U(this).j(U(x)):U(U(this).j(x));if(B(x))return U(this.j(U(x)));if(this.l(I)<0&&x.l(I)<0)return p(this.m()*x.m());const w=this.g.length+x.g.length,R=[];for(var P=0;P<2*w;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(let M=0;M<x.g.length;M++){const k=this.i(P)>>>16,C=this.i(P)&65535,Ot=x.i(M)>>>16,Nt=x.i(M)&65535;R[2*P+2*M]+=C*Nt,Z(R,2*P+2*M),R[2*P+2*M+1]+=k*Nt,Z(R,2*P+2*M+1),R[2*P+2*M+1]+=C*Ot,Z(R,2*P+2*M+1),R[2*P+2*M+2]+=k*Ot,Z(R,2*P+2*M+2)}for(x=0;x<w;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=w;x<2*w;x++)R[x]=0;return new u(R,0)};function Z(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function j(x,w){this.g=x,this.h=w}function Y(x,w){if(N(w))throw Error("division by zero");if(N(x))return new j(v,v);if(B(x))return w=Y(U(x),w),new j(U(w.g),U(w.h));if(B(w))return w=Y(x,U(w)),new j(U(w.g),w.h);if(x.g.length>30){if(B(x)||B(w))throw Error("slowDivide_ only works with positive integers.");for(var R=E,P=w;P.l(x)<=0;)R=rt(R),P=rt(P);var M=lt(R,1),k=lt(P,1);for(P=lt(P,2),R=lt(R,2);!N(P);){var C=k.add(P);C.l(x)<=0&&(M=M.add(R),k=C),P=lt(P,1),R=lt(R,1)}return w=K(x,M.j(w)),new j(M,w)}for(M=v;x.l(w)>=0;){for(R=Math.max(1,Math.floor(x.m()/w.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),k=p(R),C=k.j(w);B(C)||C.l(x)>0;)R-=P,k=p(R),C=k.j(w);N(k)&&(k=E),M=M.add(k),x=K(x,C)}return new j(M,x)}n.B=function(x){return Y(this,x).h},n.and=function(x){const w=Math.max(this.g.length,x.g.length),R=[];for(let P=0;P<w;P++)R[P]=this.i(P)&x.i(P);return new u(R,this.h&x.h)},n.or=function(x){const w=Math.max(this.g.length,x.g.length),R=[];for(let P=0;P<w;P++)R[P]=this.i(P)|x.i(P);return new u(R,this.h|x.h)},n.xor=function(x){const w=Math.max(this.g.length,x.g.length),R=[];for(let P=0;P<w;P++)R[P]=this.i(P)^x.i(P);return new u(R,this.h^x.h)};function rt(x){const w=x.g.length+1,R=[];for(let P=0;P<w;P++)R[P]=x.i(P)<<1|x.i(P-1)>>>31;return new u(R,x.h)}function lt(x,w){const R=w>>5;w%=32;const P=x.g.length-R,M=[];for(let k=0;k<P;k++)M[k]=w>0?x.i(k+R)>>>w|x.i(k+R+1)<<32-w:x.i(k+R);return new u(M,x.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,LI=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,qr=u}).apply(typeof ZS<"u"?ZS:typeof self<"u"?self:typeof window<"u"?window:{});var dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var UI,bc,BI,Cd,e_,zI,jI,FI;(function(){var n,t=Object.defineProperty;function e(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof dd=="object"&&dd];for(var _=0;_<f.length;++_){var b=f[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=e(this);function a(f,_){if(_)t:{var b=i;f=f.split(".");for(var A=0;A<f.length-1;A++){var q=f[A];if(!(q in b))break t;b=b[q]}f=f[f.length-1],A=b[f],_=_(A),_!=A&&_!=null&&t(b,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var b=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&b.push([A,_[A]]);return b}});var l=l||{},u=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,b){return f.call.apply(f.bind,arguments)}function p(f,_,b){return p=d,p.apply(null,arguments)}function y(f,_){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function v(f,_){function b(){}b.prototype=_.prototype,f.Z=_.prototype,f.prototype=new b,f.prototype.constructor=f,f.Ob=function(A,q,Q){for(var ct=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)ct[Rt-2]=arguments[Rt];return _.prototype[q].apply(A,ct)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function I(f){const _=f.length;if(_>0){const b=Array(_);for(let A=0;A<_;A++)b[A]=f[A];return b}return[]}function N(f,_){for(let A=1;A<arguments.length;A++){const q=arguments[A];var b=typeof q;if(b=b!="object"?b:q?Array.isArray(q)?"array":b:"null",b=="array"||b=="object"&&typeof q.length=="number"){b=f.length||0;const Q=q.length||0;f.length=b+Q;for(let ct=0;ct<Q;ct++)f[b+ct]=q[ct]}else f.push(q)}}class B{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function U(f){u.setTimeout(()=>{throw f},0)}function K(){var f=x;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class Z{constructor(){this.h=this.g=null}add(_,b){const A=j.get();A.set(_,b),this.h?this.h.next=A:this.g=A,this.h=A}}var j=new B(()=>new Y,f=>f.reset());class Y{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,lt=!1,x=new Z,w=()=>{const f=Promise.resolve(void 0);rt=()=>{f.then(R)}};function R(){for(var f;f=K();){try{f.h.call(f.g)}catch(b){U(b)}var _=j;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}lt=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};u.addEventListener("test",b,_),u.removeEventListener("test",b,_)}catch{}return f})();function C(f){return/^[\s\xa0]*$/.test(f)}function Ot(f,_){M.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(Ot,M),Ot.prototype.init=function(f,_){const b=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(b=="mouseover"?_=f.fromElement:b=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Ot.Z.h.call(this)},Ot.prototype.h=function(){Ot.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Nt="closure_listenable_"+(Math.random()*1e6|0),tt=0;function ot(f,_,b,A,q){this.listener=f,this.proxy=null,this.src=_,this.type=b,this.capture=!!A,this.ha=q,this.key=++tt,this.da=this.fa=!1}function dt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Dt(f,_,b){for(const A in f)_.call(b,f[A],A,f)}function Ut(f,_){for(const b in f)_.call(void 0,f[b],b,f)}function L(f){const _={};for(const b in f)_[b]=f[b];return _}const st="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ft(f,_){let b,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(b in A)f[b]=A[b];for(let Q=0;Q<st.length;Q++)b=st[Q],Object.prototype.hasOwnProperty.call(A,b)&&(f[b]=A[b])}}function pt(f){this.src=f,this.g={},this.h=0}pt.prototype.add=function(f,_,b,A,q){const Q=f.toString();f=this.g[Q],f||(f=this.g[Q]=[],this.h++);const ct=Vt(f,_,A,q);return ct>-1?(_=f[ct],b||(_.fa=!1)):(_=new ot(_,this.src,Q,!!A,q),_.fa=b,f.push(_)),_};function wt(f,_){const b=_.type;if(b in f.g){var A=f.g[b],q=Array.prototype.indexOf.call(A,_,void 0),Q;(Q=q>=0)&&Array.prototype.splice.call(A,q,1),Q&&(dt(_),f.g[b].length==0&&(delete f.g[b],f.h--))}}function Vt(f,_,b,A){for(let q=0;q<f.length;++q){const Q=f[q];if(!Q.da&&Q.listener==_&&Q.capture==!!b&&Q.ha==A)return q}return-1}var Ht="closure_lm_"+(Math.random()*1e6|0),qe={};function fe(f,_,b,A,q){if(Array.isArray(_)){for(let Q=0;Q<_.length;Q++)fe(f,_[Q],b,A,q);return null}return b=hu(b),f&&f[Nt]?f.J(_,b,h(A)?!!A.capture:!1,q):oa(f,_,b,!1,A,q)}function oa(f,_,b,A,q,Q){if(!_)throw Error("Invalid event type");const ct=h(q)?!!q.capture:!!q;let Rt=la(f);if(Rt||(f[Ht]=Rt=new pt(f)),b=Rt.add(_,b,A,ct,Q),b.proxy)return b;if(A=po(),b.proxy=A,A.src=f,A.listener=b,f.addEventListener)k||(q=ct),q===void 0&&(q=!1),f.addEventListener(_.toString(),A,q);else if(f.attachEvent)f.attachEvent(Ci(_.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function po(){function f(b){return _.call(f.src,f.listener,b)}const _=uu;return f}function go(f,_,b,A,q){if(Array.isArray(_))for(var Q=0;Q<_.length;Q++)go(f,_[Q],b,A,q);else A=h(A)?!!A.capture:!!A,b=hu(b),f&&f[Nt]?(f=f.i,Q=String(_).toString(),Q in f.g&&(_=f.g[Q],b=Vt(_,b,A,q),b>-1&&(dt(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete f.g[Q],f.h--)))):f&&(f=la(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Vt(_,b,A,q)),(b=f>-1?_[f]:null)&&yo(b))}function yo(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Nt])wt(_.i,f);else{var b=f.type,A=f.proxy;_.removeEventListener?_.removeEventListener(b,A,f.capture):_.detachEvent?_.detachEvent(Ci(b),A):_.addListener&&_.removeListener&&_.removeListener(A),(b=la(_))?(wt(b,f),b.h==0&&(b.src=null,_[Ht]=null)):dt(f)}}}function Ci(f){return f in qe?qe[f]:qe[f]="on"+f}function uu(f,_){if(f.da)f=!0;else{_=new Ot(_,this);const b=f.listener,A=f.ha||f.src;f.fa&&yo(f),f=b.call(A,_)}return f}function la(f){return f=f[Ht],f instanceof pt?f:null}var cu="__closure_events_fn_"+(Math.random()*1e9>>>0);function hu(f){return typeof f=="function"?f:(f[cu]||(f[cu]=function(_){return f.handleEvent(_)}),f[cu])}function De(){P.call(this),this.i=new pt(this),this.M=this,this.G=null}v(De,P),De.prototype[Nt]=!0,De.prototype.removeEventListener=function(f,_,b,A){go(this,f,_,b,A)};function He(f,_){var b,A=f.G;if(A)for(b=[];A;A=A.G)b.push(A);if(f=f.M,A=_.type||_,typeof _=="string")_=new M(_,f);else if(_ instanceof M)_.target=_.target||f;else{var q=_;_=new M(A,f),ft(_,q)}q=!0;let Q,ct;if(b)for(ct=b.length-1;ct>=0;ct--)Q=_.g=b[ct],q=Ks(Q,A,!0,_)&&q;if(Q=_.g=f,q=Ks(Q,A,!0,_)&&q,q=Ks(Q,A,!1,_)&&q,b)for(ct=0;ct<b.length;ct++)Q=_.g=b[ct],q=Ks(Q,A,!1,_)&&q}De.prototype.N=function(){if(De.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const b=f.g[_];for(let A=0;A<b.length;A++)dt(b[A]);delete f.g[_],f.h--}}this.G=null},De.prototype.J=function(f,_,b,A){return this.i.add(String(f),_,!1,b,A)},De.prototype.K=function(f,_,b,A){return this.i.add(String(f),_,!0,b,A)};function Ks(f,_,b,A){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let q=!0;for(let Q=0;Q<_.length;++Q){const ct=_[Q];if(ct&&!ct.da&&ct.capture==b){const Rt=ct.listener,we=ct.ha||ct.src;ct.fa&&wt(f.i,ct),q=Rt.call(we,A)!==!1&&q}}return q&&!A.defaultPrevented}function hp(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(f,_||0)}function kh(f){f.g=hp(()=>{f.g=null,f.i&&(f.i=!1,kh(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class yn extends P{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:kh(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ua(f){P.call(this),this.h=f,this.g={}}v(ua,P);var fu=[];function du(f){Dt(f.g,function(_,b){this.g.hasOwnProperty(b)&&yo(_)},f),f.g={}}ua.prototype.N=function(){ua.Z.N.call(this),du(this)},ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $s=u.JSON.stringify,fp=u.JSON.parse,Lh=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function Uh(){}function Bh(){}var ci={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function en(){M.call(this,"d")}v(en,M);function Yn(){M.call(this,"c")}v(Yn,M);var Ae={},zh=null;function _o(){return zh=zh||new De}Ae.Ia="serverreachability";function jh(f){M.call(this,Ae.Ia,f)}v(jh,M);function Di(f){const _=_o();He(_,new jh(_))}Ae.STAT_EVENT="statevent";function ca(f,_){M.call(this,Ae.STAT_EVENT,f),this.stat=_}v(ca,M);function Ve(f){const _=_o();He(_,new ca(_,f))}Ae.Ja="timingevent";function Vi(f,_){M.call(this,Ae.Ja,f),this.size=_}v(Vi,M);function Mi(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},_)}function hi(){this.g=!0}hi.prototype.ua=function(){this.g=!1};function dp(f,_,b,A,q,Q){f.info(function(){if(f.g)if(Q){var ct="",Rt=Q.split("&");for(let Qt=0;Qt<Rt.length;Qt++){var we=Rt[Qt].split("=");if(we.length>1){const de=we[0];we=we[1];const Jn=de.split("_");ct=Jn.length>=2&&Jn[1]=="type"?ct+(de+"="+we+"&"):ct+(de+"=redacted&")}}}else ct=null;else ct=Q;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+_+`
`+b+`
`+ct})}function Fh(f,_,b,A,q,Q,ct){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+_+`
`+b+`
`+Q+" "+ct})}function Ni(f,_,b,A){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+mp(f,b)+(A?" "+A:"")})}function ha(f,_){f.info(function(){return"TIMEOUT: "+_})}hi.prototype.info=function(){};function mp(f,_){if(!f.g)return _;if(!_)return null;try{const Q=JSON.parse(_);if(Q){for(f=0;f<Q.length;f++)if(Array.isArray(Q[f])){var b=Q[f];if(!(b.length<2)){var A=b[1];if(Array.isArray(A)&&!(A.length<1)){var q=A[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ct=1;ct<A.length;ct++)A[ct]=""}}}}return $s(Q)}catch{return _}}var fa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mu={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pu;function da(){}v(da,Uh),da.prototype.g=function(){return new XMLHttpRequest},pu=new da;function us(f){return encodeURIComponent(String(f))}function qh(f){var _=1;f=f.split(":");const b=[];for(;_>0&&f.length;)b.push(f.shift()),_--;return f.length&&b.push(f.join(":")),b}function fi(f,_,b,A){this.j=f,this.i=_,this.l=b,this.S=A||1,this.V=new ua(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new di}function di(){this.i=null,this.g="",this.h=!1}var Me={},Xe={};function Pi(f,_,b){f.M=1,f.A=ma(Pe(_)),f.u=b,f.R=!0,vo(f,null)}function vo(f,_){f.F=Date.now(),Oi(f),f.B=Pe(f.A);var b=f.B,A=f.S;Array.isArray(A)||(A=[String(A)]),So(b.i,"t",A),f.C=0,b=f.j.L,f.h=new di,f.g=rf(f.j,b?_:null,!f.u),f.P>0&&(f.O=new yn(p(f.Y,f,f.g),f.P)),_=f.V,b=f.g,A=f.ba;var q="readystatechange";Array.isArray(q)||(q&&(fu[0]=q.toString()),q=fu);for(let Q=0;Q<q.length;Q++){const ct=fe(b,q[Q],A||_.handleEvent,!1,_.h||_);if(!ct)break;_.g[ct.key]=ct}_=f.J?L(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),Di(),dp(f.i,f.v,f.B,f.l,f.S,f.u)}fi.prototype.ba=function(f){f=f.target;const _=this.O;_&&gi(f)==3?_.j():this.Y(f)},fi.prototype.Y=function(f){try{if(f==this.g)t:{const Rt=gi(this.g),we=this.g.ya(),Qt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||Rt!=4||we==7||(we==8||Qt<=0?Di(3):Di(2)),ki(this);var _=this.g.ca();this.X=_;var b=pp(this);if(this.o=_==200,Fh(this.i,this.v,this.B,this.l,this.S,Rt,_),this.o){if(this.U&&!this.L){e:{if(this.g){var A,q=this.g;if((A=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var Q=A;break e}}Q=null}if(f=Q)Ni(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Li(this,f);else{this.o=!1,this.m=3,Ve(12),Pn(this),Qn(this);break t}}if(this.R){f=!0;let de;for(;!this.K&&this.C<b.length;)if(de=Gh(this,b),de==Xe){Rt==4&&(this.m=4,Ve(14),f=!1),Ni(this.i,this.l,null,"[Incomplete Response]");break}else if(de==Me){this.m=4,Ve(15),Ni(this.i,this.l,b,"[Invalid Chunk]"),f=!1;break}else Ni(this.i,this.l,de,null),Li(this,de);if(Hh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||b.length!=0||this.h.h||(this.m=1,Ve(16),f=!1),this.o=this.o&&f,!f)Ni(this.i,this.l,b,"[Invalid Chunked Response]"),Pn(this),Qn(this);else if(b.length>0&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.aa&&!ct.P&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Du(ct),ct.P=!0,Ve(11))}}else Ni(this.i,this.l,b,null),Li(this,b);Rt==4&&Pn(this),this.o&&!this.K&&(Rt==4?tf(this.j,this):(this.o=!1,Oi(this)))}else hs(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,Ve(12)):(this.m=0,Ve(13)),Pn(this),Qn(this)}}}catch{}};function pp(f){if(!Hh(f))return f.g.la();const _=nn(f.g);if(_==="")return"";let b="";const A=_.length,q=gi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Pn(f),Qn(f),"";f.h.i=new u.TextDecoder}for(let Q=0;Q<A;Q++)f.h.h=!0,b+=f.h.i.decode(_[Q],{stream:!(q&&Q==A-1)});return _.length=0,f.h.g+=b,f.C=0,f.h.g}function Hh(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Gh(f,_){var b=f.C,A=_.indexOf(`
`,b);return A==-1?Xe:(b=Number(_.substring(b,A)),isNaN(b)?Me:(A+=1,A+b>_.length?Xe:(_=_.slice(A,A+b),f.C=A+b,_)))}fi.prototype.cancel=function(){this.K=!0,Pn(this)};function Oi(f){f.T=Date.now()+f.H,To(f,f.H)}function To(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Mi(p(f.aa,f),_)}function ki(f){f.D&&(u.clearTimeout(f.D),f.D=null)}fi.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ha(this.i,this.B),this.M!=2&&(Di(),Ve(17)),Pn(this),this.m=2,Qn(this)):To(this,this.T-f)};function Qn(f){f.j.I==0||f.K||tf(f.j,f)}function Pn(f){ki(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,du(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function Li(f,_){try{var b=f.j;if(b.I!=0&&(b.g==f||Bi(b.h,f))){if(!f.L&&Bi(b.h,f)&&b.I==3){try{var A=b.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){t:if(!b.v){if(b.g)if(b.g.F+3e3<f.F)Ro(b),er(b);else break t;Ea(b),Ve(18)}}else b.xa=q[1],0<b.xa-b.K&&q[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Mi(p(b.Va,b),6e3));Ui(b.h)<=1&&b.ta&&(b.ta=void 0)}else Gi(b,11)}else if((f.L||b.g==f)&&Ro(b),!C(_))for(q=b.Ba.g.parse(_),_=0;_<q.length;_++){let Qt=q[_];const de=Qt[0];if(!(de<=b.K))if(b.K=de,Qt=Qt[1],b.I==2)if(Qt[0]=="c"){b.M=Qt[1],b.ba=Qt[2];const Jn=Qt[3];Jn!=null&&(b.ka=Jn,b.j.info("VER="+b.ka));const Ki=Qt[4];Ki!=null&&(b.za=Ki,b.j.info("SVER="+b.za));const yi=Qt[5];yi!=null&&typeof yi=="number"&&yi>0&&(A=1.5*yi,b.O=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const _i=f.g;if(_i){const ba=_i.g?_i.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ba){var Q=A.h;Q.g||ba.indexOf("spdy")==-1&&ba.indexOf("quic")==-1&&ba.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(_u(Q,Q.h),Q.h=null))}if(A.G){const Co=_i.g?_i.g.getResponseHeader("X-HTTP-Session-Id"):null;Co&&(A.wa=Co,Wt(A.J,A.G,Co))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-f.F,b.j.info("Handshake RTT: "+b.T+"ms")),A=b;var ct=f;if(A.na=sf(A,A.L?A.ba:null,A.W),ct.L){vu(A.h,ct);var Rt=ct,we=A.O;we&&(Rt.H=we),Rt.D&&(ki(Rt),Oi(Rt)),A.g=ct}else Jh(A);b.i.length>0&&Hi(b)}else Qt[0]!="stop"&&Qt[0]!="close"||Gi(b,7);else b.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Gi(b,7):Ru(b):Qt[0]!="noop"&&b.l&&b.l.qa(Qt),b.A=0)}}Di(4)}catch{}}var Ne=class{constructor(f,_){this.g=f,this.map=_}};function gu(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yu(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ui(f){return f.h?1:f.g?f.g.size:0}function Bi(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function _u(f,_){f.g?f.g.add(_):f.h=_}function vu(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}gu.prototype.cancel=function(){if(this.i=Tu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Tu(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const b of f.g.values())_=_.concat(b.G);return _}return I(f.i)}var Kh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Eo(f,_){if(f){f=f.split("&");for(let b=0;b<f.length;b++){const A=f[b].indexOf("=");let q,Q=null;A>=0?(q=f[b].substring(0,A),Q=f[b].substring(A+1)):q=f[b],_(q,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function On(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof On?(this.l=f.l,We(this,f.j),this.o=f.o,this.g=f.g,Ys(this,f.u),this.h=f.h,Eu(this,Xh(f.i)),this.m=f.m):f&&(_=String(f).match(Kh))?(this.l=!1,We(this,_[1]||"",!0),this.o=zi(_[2]||""),this.g=zi(_[3]||"",!0),Ys(this,_[4]),this.h=zi(_[5]||"",!0),Eu(this,_[6]||"",!0),this.m=zi(_[7]||"")):(this.l=!1,this.i=new Xs(null,this.l))}On.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(pa(_,bo,!0),":");var b=this.g;return(b||_=="file")&&(f.push("//"),(_=this.o)&&f.push(pa(_,bo,!0),"@"),f.push(us(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&f.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(pa(b,b.charAt(0)=="/"?bu:$h,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",pa(b,Yh)),f.join("")},On.prototype.resolve=function(f){const _=Pe(this);let b=!!f.j;b?We(_,f.j):b=!!f.o,b?_.o=f.o:b=!!f.g,b?_.g=f.g:b=f.u!=null;var A=f.h;if(b)Ys(_,f.u);else if(b=!!f.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var q=_.h.lastIndexOf("/");q!=-1&&(A=_.h.slice(0,q+1)+A)}if(q=A,q==".."||q==".")A="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){A=q.lastIndexOf("/",0)==0,q=q.split("/");const Q=[];for(let ct=0;ct<q.length;){const Rt=q[ct++];Rt=="."?A&&ct==q.length&&Q.push(""):Rt==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&ct==q.length&&Q.push("")):(Q.push(Rt),A=!0)}A=Q.join("/")}else A=q}return b?_.h=A:b=f.i.toString()!=="",b?Eu(_,Xh(f.i)):b=!!f.m,b&&(_.m=f.m),_};function Pe(f){return new On(f)}function We(f,_,b){f.j=b?zi(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Ys(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function Eu(f,_,b){_ instanceof Xs?(f.i=_,Ao(f.i,f.l)):(b||(_=pa(_,Qs)),f.i=new Xs(_,f.l))}function Wt(f,_,b){f.i.set(_,b)}function ma(f){return Wt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function zi(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function pa(f,_,b){return typeof f=="string"?(f=encodeURI(f).replace(_,Sn),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Sn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var bo=/[#\/\?@]/g,$h=/[#\?:]/g,bu=/[#\?]/g,Qs=/[#\?@]/g,Yh=/#/g;function Xs(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function An(f){f.g||(f.g=new Map,f.h=0,f.i&&Eo(f.i,function(_,b){f.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}n=Xs.prototype,n.add=function(f,_){An(this),this.i=null,f=Ws(this,f);let b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(_),this.h+=1,this};function Qh(f,_){An(f),_=Ws(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Su(f,_){return An(f),_=Ws(f,_),f.g.has(_)}n.forEach=function(f,_){An(this),this.g.forEach(function(b,A){b.forEach(function(q){f.call(_,q,A,this)},this)},this)};function Au(f,_){An(f);let b=[];if(typeof _=="string")Su(f,_)&&(b=b.concat(f.g.get(Ws(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)b=b.concat(f[_]);return b}n.set=function(f,_){return An(this),this.i=null,f=Ws(this,f),Su(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},n.get=function(f,_){return f?(f=Au(this,f),f.length>0?String(f[0]):_):_};function So(f,_,b){Qh(f,_),b.length>0&&(f.i=null,f.g.set(Ws(f,_),I(b)),f.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var b=_[A];const q=us(b);b=Au(this,b);for(let Q=0;Q<b.length;Q++){let ct=q;b[Q]!==""&&(ct+="="+us(b[Q])),f.push(ct)}}return this.i=f.join("&")};function Xh(f){const _=new Xs;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function Ws(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function Ao(f,_){_&&!f.j&&(An(f),f.i=null,f.g.forEach(function(b,A){const q=A.toLowerCase();A!=q&&(Qh(this,A),So(this,q,b))},f)),f.j=_}function mi(f,_){const b=new hi;if(u.Image){const A=new Image;A.onload=y(Xn,b,"TestLoadImage: loaded",!0,_,A),A.onerror=y(Xn,b,"TestLoadImage: error",!1,_,A),A.onabort=y(Xn,b,"TestLoadImage: abort",!1,_,A),A.ontimeout=y(Xn,b,"TestLoadImage: timeout",!1,_,A),u.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else _(!1)}function wu(f,_){const b=new hi,A=new AbortController,q=setTimeout(()=>{A.abort(),Xn(b,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:A.signal}).then(Q=>{clearTimeout(q),Q.ok?Xn(b,"TestPingServer: ok",!0,_):Xn(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),Xn(b,"TestPingServer: error",!1,_)})}function Xn(f,_,b,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(b)}catch{}}function Js(){this.g=new Lh}function ji(f){this.i=f.Sb||null,this.h=f.ab||!1}v(ji,Uh),ji.prototype.g=function(){return new ga(this.i,this.h)};function ga(f,_){De.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(ga,De),n=ga.prototype,n.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,pi(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zs(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function wo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Zs(this):pi(this),this.readyState==3&&wo(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,Zs(this))},n.Na=function(f){this.g&&(this.response=f,Zs(this))},n.ga=function(){this.g&&Zs(this)};function Zs(f){f.readyState=4,f.l=null,f.j=null,f.B=null,pi(f)}n.setRequestHeader=function(f,_){this.A.append(f,_)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=_.next();return f.join(`\r
`)};function pi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ga.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Wn(f){let _="";return Dt(f,function(b,A){_+=A,_+=":",_+=b,_+=`\r
`}),_}function ya(f,_,b){t:{for(A in b){var A=!1;break t}A=!0}A||(b=Wn(b),typeof f=="string"?b!=null&&us(b):Wt(f,_,b))}function ie(f){De.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(ie,De);var Fi=/^https?$/i,Iu=["POST","PUT"];n=ie.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,_,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pu.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(Q){_a(this,Q);return}if(f=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)b.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())b.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(Iu,_,void 0)>=0)||A||q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ct]of b)this.g.setRequestHeader(Q,ct);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Q){_a(this,Q)}};function _a(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,xu(f),cs(f)}function xu(f){f.A||(f.A=!0,He(f,"complete"),He(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,He(this,"complete"),He(this,"abort"),cs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cs(this,!0)),ie.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?va(this):this.Xa())},n.Xa=function(){va(this)};function va(f){if(f.h&&typeof l<"u"){if(f.v&&gi(f)==4)setTimeout(f.Ca.bind(f),0);else if(He(f,"readystatechange"),gi(f)==4){f.h=!1;try{const Q=f.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var b;if(!(b=_)){var A;if(A=Q===0){let ct=String(f.D).match(Kh)[1]||null;!ct&&u.self&&u.self.location&&(ct=u.self.location.protocol.slice(0,-1)),A=!Fi.test(ct?ct.toLowerCase():"")}b=A}if(b)He(f,"complete"),He(f,"success");else{f.o=6;try{var q=gi(f)>2?f.g.statusText:""}catch{q=""}f.l=q+" ["+f.ca()+"]",xu(f)}}finally{cs(f)}}}}function cs(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const b=f.g;f.g=null,_||He(f,"ready");try{b.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function gi(f){return f.g?f.g.readyState:0}n.ca=function(){try{return gi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),fp(_)}};function nn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function hs(f){const _={};f=(f.g&&gi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if(C(f[A]))continue;var b=qh(f[A]);const q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Q=_[q]||[];_[q]=Q,Q.push(b)}Ut(_,function(A){return A.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qi(f,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||_}function tr(f){this.za=0,this.i=[],this.j=new hi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qi("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qi("baseRetryDelayMs",5e3,f),this.Za=qi("retryDelaySeedMs",1e4,f),this.Ta=qi("forwardChannelMaxRetries",2,f),this.va=qi("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new gu(f&&f.concurrentRequestLimit),this.Ba=new Js,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=tr.prototype,n.ka=8,n.I=1,n.connect=function(f,_,b,A){Ve(0),this.W=f,this.H=_||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.J=sf(this,null,this.W),Hi(this)};function Ru(f){if(Io(f),f.I==3){var _=f.V++,b=Pe(f.J);if(Wt(b,"SID",f.M),Wt(b,"RID",_),Wt(b,"TYPE","terminate"),Ta(f,b),_=new fi(f,f.j,_),_.M=2,_.A=ma(Pe(b)),b=!1,u.navigator&&u.navigator.sendBeacon)try{b=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&u.Image&&(new Image().src=_.A,b=!0),b||(_.g=rf(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Oi(_)}nf(f)}function er(f){f.g&&(Du(f),f.g.cancel(),f.g=null)}function Io(f){er(f),f.v&&(u.clearTimeout(f.v),f.v=null),Ro(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function Hi(f){if(!yu(f.h)&&!f.m){f.m=!0;var _=f.Ea;rt||w(),lt||(rt(),lt=!0),x.add(_,f),f.D=0}}function xo(f,_){return Ui(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Mi(p(f.Ea,f,_),ef(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const q=new fi(this,this.j,f);let Q=this.o;if(this.U&&(Q?(Q=L(Q),ft(Q,this.U)):Q=this.U),this.u!==null||this.R||(q.J=Q,Q=null),this.S)t:{for(var _=0,b=0;b<this.i.length;b++){e:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=b;break t}if(_===4096||b===this.i.length-1){_=b+1;break t}}_=1e3}else _=1e3;_=Wh(this,q,_),b=Pe(this.J),Wt(b,"RID",f),Wt(b,"CVER",22),this.G&&Wt(b,"X-HTTP-Session-Id",this.G),Ta(this,b),Q&&(this.R?_="headers="+us(Wn(Q))+"&"+_:this.u&&ya(b,this.u,Q)),_u(this.h,q),this.Ra&&Wt(b,"TYPE","init"),this.S?(Wt(b,"$req",_),Wt(b,"SID","null"),q.U=!0,Pi(q,b,null)):Pi(q,b,_),this.I=2}}else this.I==3&&(f?Cu(this,f):this.i.length==0||yu(this.h)||Cu(this))};function Cu(f,_){var b;_?b=_.l:b=f.V++;const A=Pe(f.J);Wt(A,"SID",f.M),Wt(A,"RID",b),Wt(A,"AID",f.K),Ta(f,A),f.u&&f.o&&ya(A,f.u,f.o),b=new fi(f,f.j,b,f.D+1),f.u===null&&(b.J=f.o),_&&(f.i=_.G.concat(f.i)),_=Wh(f,b,1e3),b.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),_u(f.h,b),Pi(b,A,_)}function Ta(f,_){f.H&&Dt(f.H,function(b,A){Wt(_,A,b)}),f.l&&Dt({},function(b,A){Wt(_,A,b)})}function Wh(f,_,b){b=Math.min(f.i.length,b);const A=f.l?p(f.l.Ka,f.l,f):null;t:{var q=f.i;let Rt=-1;for(;;){const we=["count="+b];Rt==-1?b>0?(Rt=q[0].g,we.push("ofs="+Rt)):Rt=0:we.push("ofs="+Rt);let Qt=!0;for(let de=0;de<b;de++){var Q=q[de].g;const Jn=q[de].map;if(Q-=Rt,Q<0)Rt=Math.max(0,q[de].g-100),Qt=!1;else try{Q="req"+Q+"_"||"";try{var ct=Jn instanceof Map?Jn:Object.entries(Jn);for(const[Ki,yi]of ct){let _i=yi;h(yi)&&(_i=$s(yi)),we.push(Q+Ki+"="+encodeURIComponent(_i))}}catch(Ki){throw we.push(Q+"type="+encodeURIComponent("_badmap")),Ki}}catch{A&&A(Jn)}}if(Qt){ct=we.join("&");break t}}ct=void 0}return f=f.i.splice(0,b),_.G=f,ct}function Jh(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;rt||w(),lt||(rt(),lt=!0),x.add(_,f),f.A=0}}function Ea(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Mi(p(f.Da,f),ef(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,Zh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Mi(p(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ve(10),er(this),Zh(this))};function Du(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function Zh(f){f.g=new fi(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=Pe(f.na);Wt(_,"RID","rpc"),Wt(_,"SID",f.M),Wt(_,"AID",f.K),Wt(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&Wt(_,"TO",f.ia),Wt(_,"TYPE","xmlhttp"),Ta(f,_),f.u&&f.o&&ya(_,f.u,f.o),f.O&&(f.g.H=f.O);var b=f.g;f=f.ba,b.M=1,b.A=ma(Pe(_)),b.u=null,b.R=!0,vo(b,f)}n.Va=function(){this.C!=null&&(this.C=null,er(this),Ea(this),Ve(19))};function Ro(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function tf(f,_){var b=null;if(f.g==_){Ro(f),Du(f),f.g=null;var A=2}else if(Bi(f.h,_))b=_.G,vu(f.h,_),A=1;else return;if(f.I!=0){if(_.o)if(A==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var q=f.D;A=_o(),He(A,new Vi(A,b)),Hi(f)}else Jh(f);else if(q=_.m,q==3||q==0&&_.X>0||!(A==1&&xo(f,_)||A==2&&Ea(f)))switch(b&&b.length>0&&(_=f.h,_.i=_.i.concat(b)),q){case 1:Gi(f,5);break;case 4:Gi(f,10);break;case 3:Gi(f,6);break;default:Gi(f,2)}}}function ef(f,_){let b=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(b*=2),b*_}function Gi(f,_){if(f.j.info("Error code "+_),_==2){var b=p(f.bb,f),A=f.Ua;const q=!A;A=new On(A||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||We(A,"https"),ma(A),q?mi(A.toString(),b):wu(A.toString(),b)}else Ve(2);f.I=0,f.l&&f.l.pa(_),nf(f),Io(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function nf(f){if(f.I=0,f.ja=[],f.l){const _=Tu(f.h);(_.length!=0||f.i.length!=0)&&(N(f.ja,_),N(f.ja,f.i),f.h.i.length=0,I(f.i),f.i.length=0),f.l.oa()}}function sf(f,_,b){var A=b instanceof On?Pe(b):new On(b);if(A.g!="")_&&(A.g=_+"."+A.g),Ys(A,A.u);else{var q=u.location;A=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;const Q=new On(null);A&&We(Q,A),_&&(Q.g=_),q&&Ys(Q,q),b&&(Q.h=b),A=Q}return b=f.G,_=f.wa,b&&_&&Wt(A,b,_),Wt(A,"VER",f.ka),Ta(f,A),A}function rf(f,_,b){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new ie(new ji({ab:b})):new ie(f.ma),_.Fa(f.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function af(){}n=af.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function nr(){}nr.prototype.g=function(f,_){return new _n(f,_)};function _n(f,_){De.call(this),this.g=new tr(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!C(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!C(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new fs(this)}v(_n,De),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Ru(this.g)},_n.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.v&&(b={},b.__data__=$s(f),f=b);_.i.push(new Ne(_.Ya++,f)),_.I==3&&Hi(_)},_n.prototype.N=function(){this.g.l=null,delete this.j,Ru(this.g),delete this.g,_n.Z.N.call(this)};function of(f){en.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){t:{for(const b in _){f=b;break t}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(of,en);function lf(){Yn.call(this),this.status=1}v(lf,Yn);function fs(f){this.g=f}v(fs,af),fs.prototype.ra=function(){He(this.g,"a")},fs.prototype.qa=function(f){He(this.g,new of(f))},fs.prototype.pa=function(f){He(this.g,new lf)},fs.prototype.oa=function(){He(this.g,"b")},nr.prototype.createWebChannel=nr.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,FI=function(){return new nr},jI=function(){return _o()},zI=Ae,e_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fa.NO_ERROR=0,fa.TIMEOUT=8,fa.HTTP_ERROR=6,Cd=fa,mu.COMPLETE="complete",BI=mu,Bh.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",De.prototype.listen=De.prototype.J,bc=Bh,ie.prototype.listenOnce=ie.prototype.K,ie.prototype.getLastError=ie.prototype.Ha,ie.prototype.getLastErrorCode=ie.prototype.ya,ie.prototype.getStatus=ie.prototype.ca,ie.prototype.getResponseJson=ie.prototype.La,ie.prototype.getResponseText=ie.prototype.la,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Fa,UI=ie}).apply(typeof dd<"u"?dd:typeof self<"u"?self:typeof window<"u"?window:{});class dn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let Jl="12.8.0";function AO(n){Jl=n}const ro=new tv("@firebase/firestore");function hl(){return ro.logLevel}function at(n,...t){if(ro.logLevel<=jt.DEBUG){const e=t.map(cv);ro.debug(`Firestore (${Jl}): ${n}`,...e)}}function Re(n,...t){if(ro.logLevel<=jt.ERROR){const e=t.map(cv);ro.error(`Firestore (${Jl}): ${n}`,...e)}}function Kc(n,...t){if(ro.logLevel<=jt.WARN){const e=t.map(cv);ro.warn(`Firestore (${Jl}): ${n}`,...e)}}function cv(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function mt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,qI(n,i,e)}function qI(n,t,e){let i=`FIRESTORE (${Jl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Re(i),new Error(i)}function vt(n,t,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,n||qI(t,a,i)}function _t(n,t){return n}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Fs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xi{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class wO{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class IO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(dn.UNAUTHENTICATED)))}shutdown(){}}class xO{constructor(t){this.t=t,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){vt(this.o===void 0,42304);let i=this.i;const a=d=>this.i!==i?(i=this.i,e(d)):Promise.resolve();let l=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new xi,t.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const d=l;t.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new xi)}}),0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(vt(typeof i.accessToken=="string",31837,{l:i}),new wO(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return vt(t===null||typeof t=="string",2055,{h:t}),new dn(t)}}class RO{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class CO{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new RO(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tA{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DO{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){vt(this.o===void 0,3512);const i=l=>{l.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,at("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>i(l)))};const a=l=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new tA(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(vt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new tA(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function VO(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class hv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=VO(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<e&&(i+=t.charAt(a[l]%62))}return i}}function It(n,t){return n<t?-1:n>t?1:0}function n_(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const a=n.charAt(i),l=t.charAt(i);if(a!==l)return by(a)===by(l)?It(a,l):by(a)?1:-1}return It(n.length,t.length)}const MO=55296,NO=57343;function by(n){const t=n.charCodeAt(0);return t>=MO&&t<=NO}function Cl(n,t,e){return n.length===t.length&&n.every(((i,a)=>e(i,t[a])))}function HI(n){return n+"\0"}const eA="__name__";class Wi{constructor(t,e,i){e===void 0?e=0:e>t.length&&mt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&mt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Wi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Wi?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let a=0;a<i;a++){const l=Wi.compareSegments(t.get(a),e.get(a));if(l!==0)return l}return It(t.length,e.length)}static compareSegments(t,e){const i=Wi.isNumericId(t),a=Wi.isNumericId(e);return i&&!a?-1:!i&&a?1:i&&a?Wi.extractNumericId(t).compare(Wi.extractNumericId(e)):n_(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return qr.fromString(t.substring(4,t.length-2))}}class Kt extends Wi{construct(t,e,i){return new Kt(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ut(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((a=>a.length>0)))}return new Kt(e)}static emptyPath(){return new Kt([])}}const PO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ye extends Wi{construct(t,e,i){return new ye(t,e,i)}static isValidIdentifier(t){return PO.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eA}static keyField(){return new ye([eA])}static fromServerFormat(t){const e=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new ut(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ut(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(i+=h,a++):(l(),a++)}if(l(),u)throw new ut(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ye(e)}static emptyPath(){return new ye([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(Kt.fromString(t))}static fromName(t){return new ht(Kt.fromString(t).popFirst(5))}static empty(){return new ht(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Kt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Kt.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new Kt(t.slice()))}}function GI(n,t,e){if(!e)throw new ut(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function OO(n,t,e,i){if(t===!0&&i===!0)throw new ut(J.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function nA(n){if(!ht.isDocumentKey(n))throw new ut(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function iA(n){if(ht.isDocumentKey(n))throw new ut(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function KI(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Pm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":mt(12329,{type:typeof n})}function Nn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ut(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Pm(n);throw new ut(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function kO(n,t){if(t<=0)throw new ut(J.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}function je(n,t){const e={typeString:n};return t&&(e.value=t),e}function _h(n,t){if(!KI(n))throw new ut(J.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const a=t[i].typeString,l="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const u=n[i];if(a&&typeof u!==a){e=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){e=`Expected '${i}' field to equal '${l.value}'`;break}}if(e)throw new ut(J.INVALID_ARGUMENT,e);return!0}const sA=-62135596800,rA=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(t){return te.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*rA);return new te(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<sA)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rA}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(_h(t,te._jsonSchema))return new te(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-sA;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:je("string",te._jsonSchemaVersion),seconds:je("number"),nanoseconds:je("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new te(0,0))}static max(){return new Et(new te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Dl=-1;class tm{constructor(t,e,i,a){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=a}}function i_(n){return n.fields.find((t=>t.kind===2))}function Fa(n){return n.fields.filter((t=>t.kind!==2))}tm.UNKNOWN_ID=-1;class Dd{constructor(t,e){this.fieldPath=t,this.kind=e}}class $c{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new $c(0,$n.min())}}function $I(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Et.fromTimestamp(i===1e9?new te(e+1,0):new te(e,i));return new $n(a,ht.empty(),t)}function YI(n){return new $n(n.readTime,n.key,Dl)}class $n{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new $n(Et.min(),ht.empty(),Dl)}static max(){return new $n(Et.max(),ht.empty(),Dl)}}function fv(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=ht.comparator(n.documentKey,t.documentKey),e!==0?e:It(n.largestBatchId,t.largestBatchId))}const QI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ea(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==QI)throw n;at("LocalStore","Unexpectedly lost primary lease")}class F{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new F(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(i,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof F?e:F.resolve(e)}catch(e){return F.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):F.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):F.reject(e)}static resolve(t){return new F(((e,i)=>{e(t)}))}static reject(t){return new F(((e,i)=>{i(t)}))}static waitFor(t){return new F(((e,i)=>{let a=0,l=0,u=!1;t.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&e()}),(d=>i(d)))})),u=!0,l===a&&e()}))}static or(t){let e=F.resolve(!1);for(const i of t)e=e.next((a=>a?F.resolve(a):i()));return e}static forEach(t,e){const i=[];return t.forEach(((a,l)=>{i.push(e.call(this,a,l))})),this.waitFor(i)}static mapArray(t,e){return new F(((i,a)=>{const l=t.length,u=new Array(l);let h=0;for(let d=0;d<l;d++){const p=d;e(t[p]).next((y=>{u[p]=y,++h,h===l&&i(u)}),(y=>a(y)))}}))}static doWhile(t,e){return new F(((i,a)=>{const l=()=>{t()===!0?e().next((()=>{l()}),a):i()};l()}))}}const qn="SimpleDb";class Om{static open(t,e,i,a){try{return new Om(e,t.transaction(a,i))}catch(l){throw new Dc(e,l)}}constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.S=new xi,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{e.error?this.S.reject(new Dc(t,e.error)):this.S.resolve()},this.transaction.onerror=i=>{const a=dv(i.target.error);this.S.reject(new Dc(t,a))}}get D(){return this.S.promise}abort(t){t&&this.S.reject(t),this.aborted||(at(qn,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const e=this.transaction.objectStore(t);return new UO(e)}}class Hr{static delete(t){return at(qn,"Removing database:",t),Ga(Kw().indexedDB.deleteDatabase(t)).toPromise()}static v(){if(!Zw())return!1;if(Hr.F())return!0;const t=Ye(),e=Hr.M(t),i=0<e&&e<10,a=WI(t),l=0<a&&a<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||l)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(t,e){return t.store(e)}static M(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(t,e,i){this.name=t,this.version=e,this.N=i,this.B=null,Hr.M(Ye())===12.2&&Re("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(t){return this.db||(at(qn,"Opening database:",this.name),this.db=await new Promise(((e,i)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=l=>{const u=l.target.result;e(u)},a.onblocked=()=>{i(new Dc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const u=l.target.error;u.name==="VersionError"?i(new ut(J.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?i(new ut(J.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):i(new Dc(t,u))},a.onupgradeneeded=l=>{at(qn,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const u=l.target.result;this.N.k(u,a.transaction,l.oldVersion,this.version).next((()=>{at(qn,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=e=>this.K(e)),this.db}q(t){this.K=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,i,a){const l=e==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(t);const h=Om.open(this.db,t,l?"readonly":"readwrite",i),d=a(h).next((p=>(h.C(),p))).catch((p=>(h.abort(p),F.reject(p)))).toPromise();return d.catch((()=>{})),await h.D,d}catch(h){const d=h,p=d.name!=="FirebaseError"&&u<3;if(at(qn,"Transaction failed with error:",d.message,"Retrying:",p),this.close(),!p)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function WI(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}class LO{constructor(t){this.U=t,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(t){this.U=t}done(){this.$=!0}j(t){this.W=t}delete(){return Ga(this.U.delete())}}class Dc extends ut{constructor(t,e){super(J.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function na(n){return n.name==="IndexedDbTransactionError"}class UO{constructor(t){this.store=t}put(t,e){let i;return e!==void 0?(at(qn,"PUT",this.store.name,t,e),i=this.store.put(e,t)):(at(qn,"PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Ga(i)}add(t){return at(qn,"ADD",this.store.name,t,t),Ga(this.store.add(t))}get(t){return Ga(this.store.get(t)).next((e=>(e===void 0&&(e=null),at(qn,"GET",this.store.name,t,e),e)))}delete(t){return at(qn,"DELETE",this.store.name,t),Ga(this.store.delete(t))}count(){return at(qn,"COUNT",this.store.name),Ga(this.store.count())}H(t,e){const i=this.options(t,e),a=i.index?this.store.index(i.index):this.store;if(typeof a.getAll=="function"){const l=a.getAll(i.range);return new F(((u,h)=>{l.onerror=d=>{h(d.target.error)},l.onsuccess=d=>{u(d.target.result)}}))}{const l=this.cursor(i),u=[];return this.J(l,((h,d)=>{u.push(d)})).next((()=>u))}}Z(t,e){const i=this.store.getAll(t,e===null?void 0:e);return new F(((a,l)=>{i.onerror=u=>{l(u.target.error)},i.onsuccess=u=>{a(u.target.result)}}))}X(t,e){at(qn,"DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const a=this.cursor(i);return this.J(a,((l,u,h)=>h.delete()))}ee(t,e){let i;e?i=t:(i={},e=t);const a=this.cursor(i);return this.J(a,e)}te(t){const e=this.cursor({});return new F(((i,a)=>{e.onerror=l=>{const u=dv(l.target.error);a(u)},e.onsuccess=l=>{const u=l.target.result;u?t(u.primaryKey,u.value).next((h=>{h?u.continue():i()})):i()}}))}J(t,e){const i=[];return new F(((a,l)=>{t.onerror=u=>{l(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void a();const d=new LO(h),p=e(h.primaryKey,h.value,d);if(p instanceof F){const y=p.catch((v=>(d.done(),F.reject(v))));i.push(y)}d.isDone?a():d.G===null?h.continue():h.continue(d.G)}})).next((()=>F.waitFor(i)))}options(t,e){let i;return t!==void 0&&(typeof t=="string"?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Ga(n){return new F(((t,e)=>{n.onsuccess=i=>{const a=i.target.result;t(a)},n.onerror=i=>{const a=dv(i.target.error);e(a)}}))}let aA=!1;function dv(n){const t=Hr.M(Ye());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new ut("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return aA||(aA=!0,setTimeout((()=>{throw i}),0)),i}}return n}const Vc="IndexBackfiller";class BO{constructor(t,e){this.asyncQueue=t,this.ne=e,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(t){at(Vc,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(async()=>{this.task=null;try{const e=await this.ne.ie();at(Vc,`Documents written: ${e}`)}catch(e){na(e)?at(Vc,"Ignoring IndexedDB error during index backfill: ",e):await ea(e)}await this.re(6e4)}))}}class zO{constructor(t,e){this.localStore=t,this.persistence=e}async ie(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(e=>this.se(e,t)))}se(t,e){const i=new Set;let a=e,l=!0;return F.doWhile((()=>l===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next((u=>{if(u!==null&&!i.has(u))return at(Vc,`Processing collection: ${u}`),this.oe(t,u,a).next((h=>{a-=h,i.add(u)}));l=!1})))).next((()=>e-a))}oe(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next((a=>this.localStore.localDocuments.getNextDocuments(t,e,a,i).next((l=>{const u=l.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next((()=>this._e(a,l))).next((h=>(at(Vc,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h)))).next((()=>u.size))}))))}_e(t,e){let i=t;return e.changes.forEach(((a,l)=>{const u=YI(l);fv(u,i)>0&&(i=u)})),new $n(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class Vn{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Vn.ce=-1;const Ja=-1;function vh(n){return n==null}function Yc(n){return n===0&&1/n==-1/0}function JI(n){return typeof n=="number"&&Number.isInteger(n)&&!Yc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const em="";function gn(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=oA(t)),t=jO(n.get(e),t);return oA(t)}function jO(n,t){let e=t;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":e+="";break;case em:e+="";break;default:e+=l}}return e}function oA(n){return n+em+""}function Zi(n){const t=n.length;if(vt(t>=2,64408,{path:n}),t===2)return vt(n.charAt(0)===em&&n.charAt(1)==="",56145,{path:n}),Kt.emptyPath();const e=t-2,i=[];let a="";for(let l=0;l<t;){const u=n.indexOf(em,l);switch((u<0||u>e)&&mt(50515,{path:n}),n.charAt(u+1)){case"":const h=n.substring(l,u);let d;a.length===0?d=h:(a+=h,d=a,a=""),i.push(d);break;case"":a+=n.substring(l,u),a+="\0";break;case"":a+=n.substring(l,u+1);break;default:mt(61167,{path:n})}l=u+2}return new Kt(i)}const qa="remoteDocuments",Th="owner",rl="owner",Qc="mutationQueues",FO="userId",Ai="mutations",lA="batchId",Qa="userMutationsIndex",uA=["userId","batchId"];function Vd(n,t){return[n,gn(t)]}function ZI(n,t,e){return[n,gn(t),e]}const qO={},Vl="documentMutations",nm="remoteDocumentsV14",HO=["prefixPath","collectionGroup","readTime","documentId"],Md="documentKeyIndex",GO=["prefixPath","collectionGroup","documentId"],tx="collectionGroupIndex",KO=["collectionGroup","readTime","prefixPath","documentId"],Xc="remoteDocumentGlobal",s_="remoteDocumentGlobalKey",Ml="targets",ex="queryTargetsIndex",$O=["canonicalId","targetId"],Nl="targetDocuments",YO=["targetId","path"],mv="documentTargetsIndex",QO=["path","targetId"],im="targetGlobalKey",Za="targetGlobal",Wc="collectionParents",XO=["collectionId","parent"],Pl="clientMetadata",WO="clientId",km="bundles",JO="bundleId",Lm="namedQueries",ZO="name",pv="indexConfiguration",tk="indexId",r_="collectionGroupIndex",ek="collectionGroup",Mc="indexState",nk=["indexId","uid"],nx="sequenceNumberIndex",ik=["uid","sequenceNumber"],Nc="indexEntries",sk=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ix="documentKeyIndex",rk=["indexId","uid","orderedDocumentKey"],Um="documentOverlays",ak=["userId","collectionPath","documentId"],a_="collectionPathOverlayIndex",ok=["userId","collectionPath","largestBatchId"],sx="collectionGroupOverlayIndex",lk=["userId","collectionGroup","largestBatchId"],gv="globals",uk="name",rx=[Qc,Ai,Vl,qa,Ml,Th,Za,Nl,Pl,Xc,Wc,km,Lm],ck=[...rx,Um],ax=[Qc,Ai,Vl,nm,Ml,Th,Za,Nl,Pl,Xc,Wc,km,Lm,Um],ox=ax,yv=[...ox,pv,Mc,Nc],hk=yv,lx=[...yv,gv],fk=lx;class o_ extends XI{constructor(t,e){super(),this.le=t,this.currentSequenceNumber=e}}function Qe(n,t){const e=_t(n);return Hr.O(e.le,t)}function cA(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ia(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function ux(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class le{constructor(t,e){this.comparator=t,this.root=e||un.EMPTY}insert(t,e){return new le(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,un.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,un.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return e+i.left.size;a<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new md(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new md(this.root,t,this.comparator,!1)}getReverseIterator(){return new md(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new md(this.root,t,this.comparator,!0)}}class md{constructor(t,e,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class un{constructor(t,e,i,a,l){this.key=t,this.value=e,this.color=i??un.RED,this.left=a??un.EMPTY,this.right=l??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,a,l){return new un(t??this.key,e??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const l=i(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,i),null):l===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return un.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,e,i,a,l){return this}insert(t,e,i){return new un(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ne{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new hA(this.data.getIterator())}getIteratorFrom(t){return new hA(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof ne)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new ne(this.comparator);return e.data=t,e}}class hA{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function al(n){return n.hasNext()?n.getNext():void 0}class Mn{constructor(t){this.fields=t,t.sort(ye.comparator)}static empty(){return new Mn([])}unionWith(t){let e=new ne(ye.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Mn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Cl(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class cx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ce{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new cx("Invalid base64 string: "+l):l}})(t);return new Ce(e)}static fromUint8Array(t){const e=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(t);return new Ce(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ce.EMPTY_BYTE_STRING=new Ce("");const dk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(n){if(vt(!!n,39018),typeof n=="string"){let t=0;const e=dk.exec(n);if(vt(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:pe(n.seconds),nanos:pe(n.nanos)}}function pe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Bs(n){return typeof n=="string"?Ce.fromBase64String(n):Ce.fromUint8Array(n)}const hx="server_timestamp",fx="__type__",dx="__previous_value__",mx="__local_write_time__";function _v(n){return(n?.mapValue?.fields||{})[fx]?.stringValue===hx}function Bm(n){const t=n.mapValue.fields[dx];return _v(t)?Bm(t):t}function Jc(n){const t=Us(n.mapValue.fields[mx].timestampValue);return new te(t.seconds,t.nanos)}class mk{constructor(t,e,i,a,l,u,h,d,p,y,v){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=v}}const sm="(default)";class ao{constructor(t,e){this.projectId=t,this.database=e||sm}static empty(){return new ao("","")}get isDefaultDatabase(){return this.database===sm}isEqual(t){return t instanceof ao&&t.projectId===this.projectId&&t.database===this.database}}function pk(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ut(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ao(n.options.projectId,t)}const vv="__type__",px="__max__",kr={mapValue:{fields:{__type__:{stringValue:px}}}},Tv="__vector__",Ol="value",Nd={nullValue:"NULL_VALUE"};function Yr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_v(n)?4:gx(n)?9007199254740991:zm(n)?10:11:mt(28295,{value:n})}function as(n,t){if(n===t)return!0;const e=Yr(n);if(e!==Yr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Jc(n).isEqual(Jc(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Us(a.timestampValue),h=Us(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,l){return Bs(a.bytesValue).isEqual(Bs(l.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,l){return pe(a.geoPointValue.latitude)===pe(l.geoPointValue.latitude)&&pe(a.geoPointValue.longitude)===pe(l.geoPointValue.longitude)})(n,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return pe(a.integerValue)===pe(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=pe(a.doubleValue),h=pe(l.doubleValue);return u===h?Yc(u)===Yc(h):isNaN(u)&&isNaN(h)}return!1})(n,t);case 9:return Cl(n.arrayValue.values||[],t.arrayValue.values||[],as);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(cA(u)!==cA(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!as(u[d],h[d])))return!1;return!0})(n,t);default:return mt(52216,{left:n})}}function Zc(n,t){return(n.values||[]).find((e=>as(e,t)))!==void 0}function Qr(n,t){if(n===t)return 0;const e=Yr(n),i=Yr(t);if(e!==i)return It(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return It(n.booleanValue,t.booleanValue);case 2:return(function(l,u){const h=pe(l.integerValue||l.doubleValue),d=pe(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(n,t);case 3:return fA(n.timestampValue,t.timestampValue);case 4:return fA(Jc(n),Jc(t));case 5:return n_(n.stringValue,t.stringValue);case 6:return(function(l,u){const h=Bs(l),d=Bs(u);return h.compareTo(d)})(n.bytesValue,t.bytesValue);case 7:return(function(l,u){const h=l.split("/"),d=u.split("/");for(let p=0;p<h.length&&p<d.length;p++){const y=It(h[p],d[p]);if(y!==0)return y}return It(h.length,d.length)})(n.referenceValue,t.referenceValue);case 8:return(function(l,u){const h=It(pe(l.latitude),pe(u.latitude));return h!==0?h:It(pe(l.longitude),pe(u.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return dA(n.arrayValue,t.arrayValue);case 10:return(function(l,u){const h=l.fields||{},d=u.fields||{},p=h[Ol]?.arrayValue,y=d[Ol]?.arrayValue,v=It(p?.values?.length||0,y?.values?.length||0);return v!==0?v:dA(p,y)})(n.mapValue,t.mapValue);case 11:return(function(l,u){if(l===kr.mapValue&&u===kr.mapValue)return 0;if(l===kr.mapValue)return 1;if(u===kr.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),p=u.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const E=n_(d[v],y[v]);if(E!==0)return E;const I=Qr(h[d[v]],p[y[v]]);if(I!==0)return I}return It(d.length,y.length)})(n.mapValue,t.mapValue);default:throw mt(23264,{he:e})}}function fA(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return It(n,t);const e=Us(n),i=Us(t),a=It(e.seconds,i.seconds);return a!==0?a:It(e.nanos,i.nanos)}function dA(n,t){const e=n.values||[],i=t.values||[];for(let a=0;a<e.length&&a<i.length;++a){const l=Qr(e[a],i[a]);if(l)return l}return It(e.length,i.length)}function kl(n){return l_(n)}function l_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Us(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Bs(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return ht.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",a=!0;for(const l of e.values||[])a?a=!1:i+=",",i+=l_(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${l_(e.fields[u])}`;return a+"}"})(n.mapValue):mt(61005,{value:n})}function Pd(n){switch(Yr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Bm(n);return t?16+Pd(t):16;case 5:return 2*n.stringValue.length;case 6:return Bs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Pd(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return ia(i.fields,((l,u)=>{a+=l.length+Pd(u)})),a})(n.mapValue);default:throw mt(13486,{value:n})}}function th(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function u_(n){return!!n&&"integerValue"in n}function eh(n){return!!n&&"arrayValue"in n}function mA(n){return!!n&&"nullValue"in n}function pA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Od(n){return!!n&&"mapValue"in n}function zm(n){return(n?.mapValue?.fields||{})[vv]?.stringValue===Tv}function Pc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return ia(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=Pc(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Pc(n.arrayValue.values[e]);return t}return{...n}}function gx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===px}const yx={mapValue:{fields:{[vv]:{stringValue:Tv},[Ol]:{arrayValue:{}}}}};function gk(n){return"nullValue"in n?Nd:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?th(ao.empty(),ht.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?zm(n)?yx:{mapValue:{}}:mt(35942,{value:n})}function yk(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?th(ao.empty(),ht.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?yx:"mapValue"in n?zm(n)?{mapValue:{}}:kr:mt(61959,{value:n})}function gA(n,t){const e=Qr(n.value,t.value);return e!==0?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function yA(n,t){const e=Qr(n.value,t.value);return e!==0?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class cn{constructor(t){this.value=t}static empty(){return new cn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Od(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Pc(e)}setAll(t){let e=ye.emptyPath(),i={},a=[];t.forEach(((u,h)=>{if(!e.isImmediateParentOf(h)){const d=this.getFieldsMap(e);this.applyChanges(d,i,a),i={},a=[],e=h.popLast()}u?i[h.lastSegment()]=Pc(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(e);this.applyChanges(l,i,a)}delete(t){const e=this.field(t.popLast());Od(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return as(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=e.mapValue.fields[t.get(i)];Od(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,i){ia(e,((a,l)=>t[a]=l));for(const a of i)delete t[a]}clone(){return new cn(Pc(this.value))}}function _x(n){const t=[];return ia(n.fields,((e,i)=>{const a=new ye([e]);if(Od(i)){const l=_x(i.mapValue).fields;if(l.length===0)t.push(a);else for(const u of l)t.push(a.child(u))}else t.push(a)})),new Mn(t)}class ge{constructor(t,e,i,a,l,u,h){this.key=t,this.documentType=e,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(t){return new ge(t,0,Et.min(),Et.min(),Et.min(),cn.empty(),0)}static newFoundDocument(t,e,i,a){return new ge(t,1,e,Et.min(),i,a,0)}static newNoDocument(t,e){return new ge(t,2,e,Et.min(),Et.min(),cn.empty(),0)}static newUnknownDocument(t,e){return new ge(t,3,e,Et.min(),Et.min(),cn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ge&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ll{constructor(t,e){this.position=t,this.inclusive=e}}function _A(n,t,e){let i=0;for(let a=0;a<n.position.length;a++){const l=t[a],u=n.position[a];if(l.field.isKeyField()?i=ht.comparator(ht.fromName(u.referenceValue),e.key):i=Qr(u,e.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function vA(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!as(n.position[e],t.position[e]))return!1;return!0}class nh{constructor(t,e="asc"){this.field=t,this.dir=e}}function _k(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class vx{}class Ft extends vx{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new vk(t,e,i):e==="array-contains"?new bk(t,i):e==="in"?new wx(t,i):e==="not-in"?new Sk(t,i):e==="array-contains-any"?new Ak(t,i):new Ft(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new Tk(t,i):new Ek(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Qr(e,this.value)):e!==null&&Yr(this.value)===Yr(e)&&this.matchesComparison(Qr(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ee extends vx{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new ee(t,e)}matches(t){return Ul(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ul(n){return n.op==="and"}function c_(n){return n.op==="or"}function Ev(n){return Tx(n)&&Ul(n)}function Tx(n){for(const t of n.filters)if(t instanceof ee)return!1;return!0}function h_(n){if(n instanceof Ft)return n.field.canonicalString()+n.op.toString()+kl(n.value);if(Ev(n))return n.filters.map((t=>h_(t))).join(",");{const t=n.filters.map((e=>h_(e))).join(",");return`${n.op}(${t})`}}function Ex(n,t){return n instanceof Ft?(function(i,a){return a instanceof Ft&&i.op===a.op&&i.field.isEqual(a.field)&&as(i.value,a.value)})(n,t):n instanceof ee?(function(i,a){return a instanceof ee&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,u,h)=>l&&Ex(u,a.filters[h])),!0):!1})(n,t):void mt(19439)}function bx(n,t){const e=n.filters.concat(t);return ee.create(e,n.op)}function Sx(n){return n instanceof Ft?(function(e){return`${e.field.canonicalString()} ${e.op} ${kl(e.value)}`})(n):n instanceof ee?(function(e){return e.op.toString()+" {"+e.getFilters().map(Sx).join(" ,")+"}"})(n):"Filter"}class vk extends Ft{constructor(t,e,i){super(t,e,i),this.key=ht.fromName(i.referenceValue)}matches(t){const e=ht.comparator(t.key,this.key);return this.matchesComparison(e)}}class Tk extends Ft{constructor(t,e){super(t,"in",e),this.keys=Ax("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class Ek extends Ft{constructor(t,e){super(t,"not-in",e),this.keys=Ax("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Ax(n,t){return(t.arrayValue?.values||[]).map((e=>ht.fromName(e.referenceValue)))}class bk extends Ft{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return eh(e)&&Zc(e.arrayValue,this.value)}}class wx extends Ft{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Zc(this.value.arrayValue,e)}}class Sk extends Ft{constructor(t,e){super(t,"not-in",e)}matches(t){if(Zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Zc(this.value.arrayValue,e)}}class Ak extends Ft{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!eh(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Zc(this.value.arrayValue,i)))}}class wk{constructor(t,e=null,i=[],a=[],l=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function f_(n,t=null,e=[],i=[],a=null,l=null,u=null){return new wk(n,t,e,i,a,l,u)}function oo(n){const t=_t(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>h_(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),vh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>kl(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>kl(i))).join(",")),t.Te=e}return t.Te}function Eh(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!_k(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Ex(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!vA(n.startAt,t.startAt)&&vA(n.endAt,t.endAt)}function rm(n){return ht.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function am(n,t){return n.filters.filter((e=>e instanceof Ft&&e.field.isEqual(t)))}function TA(n,t,e){let i=Nd,a=!0;for(const l of am(n,t)){let u=Nd,h=!0;switch(l.op){case"<":case"<=":u=gk(l.value);break;case"==":case"in":case">=":u=l.value;break;case">":u=l.value,h=!1;break;case"!=":case"not-in":u=Nd}gA({value:i,inclusive:a},{value:u,inclusive:h})<0&&(i=u,a=h)}if(e!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const u=e.position[l];gA({value:i,inclusive:a},{value:u,inclusive:e.inclusive})<0&&(i=u,a=e.inclusive);break}}return{value:i,inclusive:a}}function EA(n,t,e){let i=kr,a=!0;for(const l of am(n,t)){let u=kr,h=!0;switch(l.op){case">=":case">":u=yk(l.value),h=!1;break;case"==":case"in":case"<=":u=l.value;break;case"<":u=l.value,h=!1;break;case"!=":case"not-in":u=kr}yA({value:i,inclusive:a},{value:u,inclusive:h})>0&&(i=u,a=h)}if(e!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const u=e.position[l];yA({value:i,inclusive:a},{value:u,inclusive:e.inclusive})>0&&(i=u,a=e.inclusive);break}}return{value:i,inclusive:a}}class Zl{constructor(t,e=null,i=[],a=[],l=null,u="F",h=null,d=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Ix(n,t,e,i,a,l,u,h){return new Zl(n,t,e,i,a,l,u,h)}function bh(n){return new Zl(n)}function bA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Ik(n){return ht.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function xx(n){return n.collectionGroup!==null}function Oc(n){const t=_t(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),e.add(l.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new ne(ye.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(t).forEach((l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new nh(l,i))})),e.has(ye.keyField().canonicalString())||t.Ie.push(new nh(ye.keyField(),i))}return t.Ie}function Kn(n){const t=_t(n);return t.Ee||(t.Ee=xk(t,Oc(n))),t.Ee}function xk(n,t){if(n.limitType==="F")return f_(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new nh(a.field,l)}));const e=n.endAt?new Ll(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ll(n.startAt.position,n.startAt.inclusive):null;return f_(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function d_(n,t){const e=n.filters.concat([t]);return new Zl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Rk(n,t){const e=n.explicitOrderBy.concat([t]);return new Zl(n.path,n.collectionGroup,e,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function om(n,t,e){return new Zl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function jm(n,t){return Eh(Kn(n),Kn(t))&&n.limitType===t.limitType}function Rx(n){return`${oo(Kn(n))}|lt:${n.limitType}`}function fl(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((a=>Sx(a))).join(", ")}]`),vh(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>kl(a))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>kl(a))).join(",")),`Target(${i})`})(Kn(n))}; limitType=${n.limitType})`}function Sh(n,t){return t.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ht.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,t)&&(function(i,a){for(const l of Oc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,t)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(n,t)&&(function(i,a){return!(i.startAt&&!(function(u,h,d){const p=_A(u,h,d);return u.inclusive?p<=0:p<0})(i.startAt,Oc(i),a)||i.endAt&&!(function(u,h,d){const p=_A(u,h,d);return u.inclusive?p>=0:p>0})(i.endAt,Oc(i),a))})(n,t)}function Cx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Dx(n){return(t,e)=>{let i=!1;for(const a of Oc(n)){const l=Ck(a,t,e);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function Ck(n,t,e){const i=n.field.isKeyField()?ht.comparator(t.key,e.key):(function(l,u,h){const d=u.data.field(l),p=h.data.field(l);return d!==null&&p!==null?Qr(d,p):mt(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return mt(19790,{direction:n.dir})}}class qs{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[e]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){ia(this.inner,((e,i)=>{for(const[a,l]of i)t(a,l)}))}isEmpty(){return ux(this.inner)}size(){return this.innerSize}}const Dk=new le(ht.comparator);function Gn(){return Dk}const Vx=new le(ht.comparator);function Sc(...n){let t=Vx;for(const e of n)t=t.insert(e.key,e);return t}function Mx(n){let t=Vx;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function ts(){return kc()}function Nx(){return kc()}function kc(){return new qs((n=>n.toString()),((n,t)=>n.isEqual(t)))}const Vk=new le(ht.comparator),Mk=new ne(ht.comparator);function Pt(...n){let t=Mk;for(const e of n)t=t.add(e);return t}const Nk=new ne(It);function bv(){return Nk}function Sv(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(t)?"-0":t}}function Px(n){return{integerValue:""+n}}function Pk(n,t){return JI(t)?Px(t):Sv(n,t)}class Fm{constructor(){this._=void 0}}function Ok(n,t,e){return n instanceof Bl?(function(a,l){const u={fields:{[fx]:{stringValue:hx},[mx]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&_v(l)&&(l=Bm(l)),l&&(u.fields[dx]=l),{mapValue:u}})(e,t):n instanceof zl?kx(n,t):n instanceof jl?Lx(n,t):(function(a,l){const u=Ox(a,l),h=SA(u)+SA(a.Ae);return u_(u)&&u_(a.Ae)?Px(h):Sv(a.serializer,h)})(n,t)}function kk(n,t,e){return n instanceof zl?kx(n,t):n instanceof jl?Lx(n,t):e}function Ox(n,t){return n instanceof ih?(function(i){return u_(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(t)?t:{integerValue:0}:null}class Bl extends Fm{}class zl extends Fm{constructor(t){super(),this.elements=t}}function kx(n,t){const e=Ux(t);for(const i of n.elements)e.some((a=>as(a,i)))||e.push(i);return{arrayValue:{values:e}}}class jl extends Fm{constructor(t){super(),this.elements=t}}function Lx(n,t){let e=Ux(t);for(const i of n.elements)e=e.filter((a=>!as(a,i)));return{arrayValue:{values:e}}}class ih extends Fm{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function SA(n){return pe(n.integerValue||n.doubleValue)}function Ux(n){return eh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Bx{constructor(t,e){this.field=t,this.transform=e}}function Lk(n,t){return n.field.isEqual(t.field)&&(function(i,a){return i instanceof zl&&a instanceof zl||i instanceof jl&&a instanceof jl?Cl(i.elements,a.elements,as):i instanceof ih&&a instanceof ih?as(i.Ae,a.Ae):i instanceof Bl&&a instanceof Bl})(n.transform,t.transform)}class Uk{constructor(t,e){this.version=t,this.transformResults=e}}class _e{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new _e}static exists(t){return new _e(void 0,t)}static updateTime(t){return new _e(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function kd(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class qm{}function zx(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Ah(n.key,_e.none()):new tu(n.key,n.data,_e.none());{const e=n.data,i=cn.empty();let a=new ne(ye.comparator);for(let l of t.fields)if(!a.has(l)){let u=e.field(l);u===null&&l.length>1&&(l=l.popLast(),u=e.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new Hs(n.key,i,new Mn(a.toArray()),_e.none())}}function Bk(n,t,e){n instanceof tu?(function(a,l,u){const h=a.value.clone(),d=wA(a.fieldTransforms,l,u.transformResults);h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,t,e):n instanceof Hs?(function(a,l,u){if(!kd(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=wA(a.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(jx(a)),d.setAll(h),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,t,e):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,t,e)}function Lc(n,t,e,i){return n instanceof tu?(function(l,u,h,d){if(!kd(l.precondition,u))return h;const p=l.value.clone(),y=IA(l.fieldTransforms,d,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,t,e,i):n instanceof Hs?(function(l,u,h,d){if(!kd(l.precondition,u))return h;const p=IA(l.fieldTransforms,d,u),y=u.data;return y.setAll(jx(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(n,t,e,i):(function(l,u,h){return kd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,t,e)}function zk(n,t){let e=null;for(const i of n.fieldTransforms){const a=t.data.field(i.field),l=Ox(i.transform,a||null);l!=null&&(e===null&&(e=cn.empty()),e.set(i.field,l))}return e||null}function AA(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Cl(i,a,((l,u)=>Lk(l,u)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class tu extends qm{constructor(t,e,i,a=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Hs extends qm{constructor(t,e,i,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function jx(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function wA(n,t,e){const i=new Map;vt(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let a=0;a<e.length;a++){const l=n[a],u=l.transform,h=t.data.field(l.field);i.set(l.field,kk(u,h,e[a]))}return i}function IA(n,t,e){const i=new Map;for(const a of n){const l=a.transform,u=e.data.field(a.field);i.set(a.field,Ok(l,u,t))}return i}class Ah extends qm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Av extends qm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wv{constructor(t,e,i,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&Bk(l,t,i[a])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Lc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Lc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=Nx();return this.mutations.forEach((a=>{const l=t.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=e.has(a.key)?null:h;const d=zx(u,h);d!==null&&i.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(Et.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&Cl(this.mutations,t.mutations,((e,i)=>AA(e,i)))&&Cl(this.baseMutations,t.baseMutations,((e,i)=>AA(e,i)))}}class Iv{constructor(t,e,i,a){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=a}static from(t,e,i){vt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let a=(function(){return Vk})();const l=t.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new Iv(t,e,i,a)}}class xv{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class jk{constructor(t,e){this.count=t,this.unchangedNames=e}}var Be,Gt;function Fx(n){switch(n){case J.OK:return mt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return mt(15467,{code:n})}}function qx(n){if(n===void 0)return Re("GRPC error has no .code"),J.UNKNOWN;switch(n){case Be.OK:return J.OK;case Be.CANCELLED:return J.CANCELLED;case Be.UNKNOWN:return J.UNKNOWN;case Be.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Be.INTERNAL:return J.INTERNAL;case Be.UNAVAILABLE:return J.UNAVAILABLE;case Be.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Be.NOT_FOUND:return J.NOT_FOUND;case Be.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Be.ABORTED:return J.ABORTED;case Be.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Be.DATA_LOSS:return J.DATA_LOSS;default:return mt(39323,{code:n})}}(Gt=Be||(Be={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";function Fk(){return new TextEncoder}const qk=new qr([4294967295,4294967295],0);function xA(n){const t=Fk().encode(n),e=new LI;return e.update(t),new Uint8Array(e.digest())}function RA(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new qr([e,i],0),new qr([a,l],0)]}class Rv{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Ac(`Invalid padding: ${e}`);if(i<0)throw new Ac(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Ac(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Ac(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=qr.fromNumber(this.ge)}ye(t,e,i){let a=t.add(e.multiply(qr.fromNumber(i)));return a.compare(qk)===1&&(a=new qr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=xA(t),[i,a]=RA(e);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(t,e,i){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),u=new Rv(l,a,e);return i.forEach((h=>u.insert(h))),u}insert(t){if(this.ge===0)return;const e=xA(t),[i,a]=RA(e);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.be(u)}}be(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wh{constructor(t,e,i,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const a=new Map;return a.set(t,Ih.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new wh(Et.min(),a,new le(It),Gn(),Pt())}}class Ih{constructor(t,e,i,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Ih(i,e,Pt(),Pt(),Pt())}}class Ld{constructor(t,e,i,a){this.Se=t,this.removedTargetIds=e,this.key=i,this.De=a}}class Hx{constructor(t,e){this.targetId=t,this.Ce=e}}class Gx{constructor(t,e,i=Ce.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a}}class CA{constructor(){this.ve=0,this.Fe=DA(),this.Me=Ce.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),e=Pt(),i=Pt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:i=i.add(a);break;default:mt(38017,{changeType:l})}})),new Ih(this.Me,this.xe,t,e,i)}Ke(){this.Oe=!1,this.Fe=DA()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,vt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Hk{constructor(t){this.Ge=t,this.ze=new Map,this.je=Gn(),this.He=pd(),this.Je=pd(),this.Ze=new le(It)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(t.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.Qe(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,i=t.Ce.count,a=this.ot(e);if(a){const l=a.target;if(rm(l))if(i===0){const u=new ht(l.path);this.et(e,u,ge.newNoDocument(u,Et.min()))}else vt(i===1,20013,{expectedCount:i});else{const u=this._t(e);if(u!==i){const h=this.ut(t),d=h?this.ct(h,t,u):1;if(d!==0){this.it(e);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,p)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=e;let u,h;try{u=Bs(i).toUint8Array()}catch(d){if(d instanceof cx)return Kc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Rv(u,a,l)}catch(d){return Kc(d instanceof Ac?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let a=0;return i.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;t.mightContain(h)||(this.et(e,l,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&rm(h.target)){const d=new ht(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,ge.newNoDocument(d,t))}l.Be&&(e.set(u,l.ke()),l.Ke())}}));let i=Pt();this.Je.forEach(((l,u)=>{let h=!0;u.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(t)));const a=new wh(t,e,this.Ze,this.je,i);return this.je=Gn(),this.He=pd(),this.Je=pd(),this.Ze=new le(It),a}Ye(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,i),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.qe(e,1):a.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new CA,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new ne(It),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new ne(It),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||at("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new CA),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function pd(){return new le(ht.comparator)}function DA(){return new le(ht.comparator)}const Gk={asc:"ASCENDING",desc:"DESCENDING"},Kk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$k={and:"AND",or:"OR"};class Yk{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function m_(n,t){return n.useProto3Json||vh(t)?t:{value:t}}function Fl(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Kx(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Qk(n,t){return Fl(n,t.toTimestamp())}function tn(n){return vt(!!n,49232),Et.fromTimestamp((function(e){const i=Us(e);return new te(i.seconds,i.nanos)})(n))}function Cv(n,t){return p_(n,t).canonicalString()}function p_(n,t){const e=(function(a){return new Kt(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function $x(n){const t=Kt.fromString(n);return vt(nR(t),10190,{key:t.toString()}),t}function sh(n,t){return Cv(n.databaseId,t.path)}function Ns(n,t){const e=$x(t);if(e.get(1)!==n.databaseId.projectId)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new ht(Xx(e))}function Yx(n,t){return Cv(n.databaseId,t)}function Qx(n){const t=$x(n);return t.length===4?Kt.emptyPath():Xx(t)}function g_(n){return new Kt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Xx(n){return vt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function VA(n,t,e){return{name:sh(n,t),fields:e.value.mapValue.fields}}function Xk(n,t,e){const i=Ns(n,t.name),a=tn(t.updateTime),l=t.createTime?tn(t.createTime):Et.min(),u=new cn({mapValue:{fields:t.fields}}),h=ge.newFoundDocument(i,a,l,u);return e&&h.setHasCommittedMutations(),e?h.setHasCommittedMutations():h}function Wk(n,t){return"found"in t?(function(i,a){vt(!!a.found,43571),a.found.name,a.found.updateTime;const l=Ns(i,a.found.name),u=tn(a.found.updateTime),h=a.found.createTime?tn(a.found.createTime):Et.min(),d=new cn({mapValue:{fields:a.found.fields}});return ge.newFoundDocument(l,u,h,d)})(n,t):"missing"in t?(function(i,a){vt(!!a.missing,3894),vt(!!a.readTime,22933);const l=Ns(i,a.missing),u=tn(a.readTime);return ge.newNoDocument(l,u)})(n,t):mt(7234,{result:t})}function Jk(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:mt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(vt(y===void 0||typeof y=="string",58123),Ce.fromBase64String(y||"")):(vt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Ce.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&(function(p){const y=p.code===void 0?J.UNKNOWN:qx(p.code);return new ut(y,p.message||"")})(u);e=new Gx(i,a,l,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=Ns(n,i.document.name),l=tn(i.document.updateTime),u=i.document.createTime?tn(i.document.createTime):Et.min(),h=new cn({mapValue:{fields:i.document.fields}}),d=ge.newFoundDocument(a,l,u,h),p=i.targetIds||[],y=i.removedTargetIds||[];e=new Ld(p,y,d.key,d)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=Ns(n,i.document),l=i.readTime?tn(i.readTime):Et.min(),u=ge.newNoDocument(a,l),h=i.removedTargetIds||[];e=new Ld([],h,u.key,u)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=Ns(n,i.document),l=i.removedTargetIds||[];e=new Ld([],l,a,null)}else{if(!("filter"in t))return mt(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new jk(a,l),h=i.targetId;e=new Hx(h,u)}}return e}function rh(n,t){let e;if(t instanceof tu)e={update:VA(n,t.key,t.value)};else if(t instanceof Ah)e={delete:sh(n,t.key)};else if(t instanceof Hs)e={update:VA(n,t.key,t.data),updateMask:s4(t.fieldMask)};else{if(!(t instanceof Av))return mt(16599,{dt:t.type});e={verify:sh(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(l,u){const h=u.transform;if(h instanceof Bl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof zl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof jl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof ih)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw mt(20930,{transform:u.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:Qk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:mt(27497)})(n,t.precondition)),e}function y_(n,t){const e=t.currentDocument?(function(l){return l.updateTime!==void 0?_e.updateTime(tn(l.updateTime)):l.exists!==void 0?_e.exists(l.exists):_e.none()})(t.currentDocument):_e.none(),i=t.updateTransforms?t.updateTransforms.map((a=>(function(u,h){let d=null;if("setToServerValue"in h)vt(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),d=new Bl;else if("appendMissingElements"in h){const y=h.appendMissingElements.values||[];d=new zl(y)}else if("removeAllFromArray"in h){const y=h.removeAllFromArray.values||[];d=new jl(y)}else"increment"in h?d=new ih(u,h.increment):mt(16584,{proto:h});const p=ye.fromServerFormat(h.fieldPath);return new Bx(p,d)})(n,a))):[];if(t.update){t.update.name;const a=Ns(n,t.update.name),l=new cn({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=(function(d){const p=d.fieldPaths||[];return new Mn(p.map((y=>ye.fromServerFormat(y))))})(t.updateMask);return new Hs(a,l,u,e,i)}return new tu(a,l,e,i)}if(t.delete){const a=Ns(n,t.delete);return new Ah(a,e)}if(t.verify){const a=Ns(n,t.verify);return new Av(a,e)}return mt(1463,{proto:t})}function Zk(n,t){return n&&n.length>0?(vt(t!==void 0,14353),n.map((e=>(function(a,l){let u=a.updateTime?tn(a.updateTime):tn(l);return u.isEqual(Et.min())&&(u=tn(l)),new Uk(u,a.transformResults||[])})(e,t)))):[]}function Wx(n,t){return{documents:[Yx(n,t.path)]}}function Jx(n,t){const e={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=Yx(n,a);const l=(function(p){if(p.length!==0)return eR(ee.create(p,"and"))})(t.filters);l&&(e.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(E){return{field:dl(E.field),direction:e4(E.dir)}})(y)))})(t.orderBy);u&&(e.structuredQuery.orderBy=u);const h=m_(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:e,parent:a}}function Zx(n){let t=Qx(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let a=null;if(i>0){vt(i===1,65062);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];e.where&&(l=(function(v){const E=tR(v);return E instanceof ee&&Ev(E)?E.getFilters():[E]})(e.where));let u=[];e.orderBy&&(u=(function(v){return v.map((E=>(function(N){return new nh(ml(N.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(E)))})(e.orderBy));let h=null;e.limit&&(h=(function(v){let E;return E=typeof v=="object"?v.value:v,vh(E)?null:E})(e.limit));let d=null;e.startAt&&(d=(function(v){const E=!!v.before,I=v.values||[];return new Ll(I,E)})(e.startAt));let p=null;return e.endAt&&(p=(function(v){const E=!v.before,I=v.values||[];return new Ll(I,E)})(e.endAt)),Ix(t,a,u,l,h,"F",d,p)}function t4(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function tR(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=ml(e.unaryFilter.field);return Ft.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=ml(e.unaryFilter.field);return Ft.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ml(e.unaryFilter.field);return Ft.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ml(e.unaryFilter.field);return Ft.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ft.create(ml(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return ee.create(e.compositeFilter.filters.map((i=>tR(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(e.compositeFilter.op))})(n):mt(30097,{filter:n})}function e4(n){return Gk[n]}function n4(n){return Kk[n]}function i4(n){return $k[n]}function dl(n){return{fieldPath:n.canonicalString()}}function ml(n){return ye.fromServerFormat(n.fieldPath)}function eR(n){return n instanceof Ft?(function(e){if(e.op==="=="){if(pA(e.value))return{unaryFilter:{field:dl(e.field),op:"IS_NAN"}};if(mA(e.value))return{unaryFilter:{field:dl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(pA(e.value))return{unaryFilter:{field:dl(e.field),op:"IS_NOT_NAN"}};if(mA(e.value))return{unaryFilter:{field:dl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dl(e.field),op:n4(e.op),value:e.value}}})(n):n instanceof ee?(function(e){const i=e.getFilters().map((a=>eR(a)));return i.length===1?i[0]:{compositeFilter:{op:i4(e.op),filters:i}}})(n):mt(54877,{filter:n})}function s4(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function nR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function iR(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Ms{constructor(t,e,i,a,l=Et.min(),u=Et.min(),h=Ce.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(t){return new Ms(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class sR{constructor(t){this.yt=t}}function r4(n,t){let e;if(t.document)e=Xk(n.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=ht.fromSegments(t.noDocument.path),a=uo(t.noDocument.readTime);e=ge.newNoDocument(i,a),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return mt(56709);{const i=ht.fromSegments(t.unknownDocument.path),a=uo(t.unknownDocument.version);e=ge.newUnknownDocument(i,a)}}return t.readTime&&e.setReadTime((function(a){const l=new te(a[0],a[1]);return Et.fromTimestamp(l)})(t.readTime)),e}function MA(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:lm(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document=(function(l,u){return{name:sh(l,u.key),fields:u.data.value.mapValue.fields,updateTime:Fl(l,u.version.toTimestamp()),createTime:Fl(l,u.createTime.toTimestamp())}})(n.yt,t);else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:lo(t.version)};else{if(!t.isUnknownDocument())return mt(57904,{document:t});i.unknownDocument={path:e.path.toArray(),version:lo(t.version)}}return i}function lm(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function lo(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function uo(n){const t=new te(n.seconds,n.nanoseconds);return Et.fromTimestamp(t)}function Ka(n,t){const e=(t.baseMutations||[]).map((l=>y_(n.yt,l)));for(let l=0;l<t.mutations.length-1;++l){const u=t.mutations[l];if(l+1<t.mutations.length&&t.mutations[l+1].transform!==void 0){const h=t.mutations[l+1];u.updateTransforms=h.transform.fieldTransforms,t.mutations.splice(l+1,1),++l}}const i=t.mutations.map((l=>y_(n.yt,l))),a=te.fromMillis(t.localWriteTimeMs);return new wv(t.batchId,a,e,i)}function wc(n){const t=uo(n.readTime),e=n.lastLimboFreeSnapshotVersion!==void 0?uo(n.lastLimboFreeSnapshotVersion):Et.min();let i;return i=(function(l){return l.documents!==void 0})(n.query)?(function(l){const u=l.documents.length;return vt(u===1,1966,{count:u}),Kn(bh(Qx(l.documents[0])))})(n.query):(function(l){return Kn(Zx(l))})(n.query),new Ms(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,Ce.fromBase64String(n.resumeToken))}function rR(n,t){const e=lo(t.snapshotVersion),i=lo(t.lastLimboFreeSnapshotVersion);let a;a=rm(t.target)?Wx(n.yt,t.target):Jx(n.yt,t.target).ft;const l=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:oo(t.target),readTime:e,resumeToken:l,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:a}}function aR(n){const t=Zx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?om(t,t.limit,"L"):t}function Sy(n,t){return new xv(t.largestBatchId,y_(n.yt,t.overlayMutation))}function NA(n,t){const e=t.path.lastSegment();return[n,gn(t.path.popLast()),e]}function PA(n,t,e,i){return{indexId:n,uid:t,sequenceNumber:e,readTime:lo(i.readTime),documentKey:gn(i.documentKey.path),largestBatchId:i.largestBatchId}}class a4{getBundleMetadata(t,e){return OA(t).get(e).next((i=>{if(i)return(function(l){return{id:l.bundleId,createTime:uo(l.createTime),version:l.version}})(i)}))}saveBundleMetadata(t,e){return OA(t).put((function(a){return{bundleId:a.id,createTime:lo(tn(a.createTime)),version:a.version}})(e))}getNamedQuery(t,e){return kA(t).get(e).next((i=>{if(i)return(function(l){return{name:l.name,query:aR(l.bundledQuery),readTime:uo(l.readTime)}})(i)}))}saveNamedQuery(t,e){return kA(t).put((function(a){return{name:a.name,readTime:lo(tn(a.readTime)),bundledQuery:a.bundledQuery}})(e))}}function OA(n){return Qe(n,km)}function kA(n){return Qe(n,Lm)}class Hm{constructor(t,e){this.serializer=t,this.userId=e}static wt(t,e){const i=e.uid||"";return new Hm(t,i)}getOverlay(t,e){return pc(t).get(NA(this.userId,e)).next((i=>i?Sy(this.serializer,i):null))}getOverlays(t,e){const i=ts();return F.forEach(e,(a=>this.getOverlay(t,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(t,e,i){const a=[];return i.forEach(((l,u)=>{const h=new xv(e,u);a.push(this.bt(t,h))})),F.waitFor(a)}removeOverlaysForBatchId(t,e,i){const a=new Set;e.forEach((u=>a.add(gn(u.getCollectionPath()))));const l=[];return a.forEach((u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);l.push(pc(t).X(a_,h))})),F.waitFor(l)}getOverlaysForCollection(t,e,i){const a=ts(),l=gn(e),u=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return pc(t).H(a_,u).next((h=>{for(const d of h){const p=Sy(this.serializer,d);a.set(p.getKey(),p)}return a}))}getOverlaysForCollectionGroup(t,e,i,a){const l=ts();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return pc(t).ee({index:sx,range:h},((d,p,y)=>{const v=Sy(this.serializer,p);l.size()<a||v.largestBatchId===u?(l.set(v.getKey(),v),u=v.largestBatchId):y.done()})).next((()=>l))}bt(t,e){return pc(t).put((function(a,l,u){const[h,d,p]=NA(l,u.mutation.key);return{userId:l,collectionPath:d,documentId:p,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:rh(a.yt,u.mutation)}})(this.serializer,this.userId,e))}}function pc(n){return Qe(n,Um)}class o4{St(t){return Qe(t,gv)}getSessionToken(t){return this.St(t).get("sessionToken").next((e=>{const i=e?.value;return i?Ce.fromUint8Array(i):Ce.EMPTY_BYTE_STRING}))}setSessionToken(t,e){return this.St(t).put({name:"sessionToken",value:e.toUint8Array()})}}class $a{constructor(){}Dt(t,e){this.Ct(t,e),e.vt()}Ct(t,e){if("nullValue"in t)this.Ft(e,5);else if("booleanValue"in t)this.Ft(e,10),e.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(e,15),e.Mt(pe(t.integerValue));else if("doubleValue"in t){const i=pe(t.doubleValue);isNaN(i)?this.Ft(e,13):(this.Ft(e,15),Yc(i)?e.Mt(0):e.Mt(i))}else if("timestampValue"in t){let i=t.timestampValue;this.Ft(e,20),typeof i=="string"&&(i=Us(i)),e.xt(`${i.seconds||""}`),e.Mt(i.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,e),this.Nt(e);else if("bytesValue"in t)this.Ft(e,30),e.Bt(Bs(t.bytesValue)),this.Nt(e);else if("referenceValue"in t)this.Lt(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Ft(e,45),e.Mt(i.latitude||0),e.Mt(i.longitude||0)}else"mapValue"in t?gx(t)?this.Ft(e,Number.MAX_SAFE_INTEGER):zm(t)?this.kt(t.mapValue,e):(this.Kt(t.mapValue,e),this.Nt(e)):"arrayValue"in t?(this.qt(t.arrayValue,e),this.Nt(e)):mt(19022,{Ut:t})}Ot(t,e){this.Ft(e,25),this.$t(t,e)}$t(t,e){e.xt(t)}Kt(t,e){const i=t.fields||{};this.Ft(e,55);for(const a of Object.keys(i))this.Ot(a,e),this.Ct(i[a],e)}kt(t,e){const i=t.fields||{};this.Ft(e,53);const a=Ol,l=i[a].arrayValue?.values?.length||0;this.Ft(e,15),e.Mt(pe(l)),this.Ot(a,e),this.Ct(i[a],e)}qt(t,e){const i=t.values||[];this.Ft(e,50);for(const a of i)this.Ct(a,e)}Lt(t,e){this.Ft(e,37),ht.fromName(t).path.forEach((i=>{this.Ft(e,60),this.$t(i,e)}))}Ft(t,e){t.Mt(e)}Nt(t){t.Mt(2)}}$a.Wt=new $a;const ol=255;function l4(n){if(n===0)return 8;let t=0;return n>>4||(t+=4,n<<=4),n>>6||(t+=2,n<<=2),n>>7||(t+=1),t}function LA(n){const t=64-(function(i){let a=0;for(let l=0;l<8;++l){const u=l4(255&i[l]);if(a+=u,u!==8)break}return a})(n);return Math.ceil(t/8)}class u4{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Gt(i.value),i=e.next();this.zt()}jt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ht(i.value),i=e.next();this.Jt()}Zt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Gt(i);else if(i<2048)this.Gt(960|i>>>6),this.Gt(128|63&i);else if(e<"\uD800"||"\uDBFF"<e)this.Gt(480|i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i);else{const a=e.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Xt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ht(i);else if(i<2048)this.Ht(960|i>>>6),this.Ht(128|63&i);else if(e<"\uD800"||"\uDBFF"<e)this.Ht(480|i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i);else{const a=e.codePointAt(0);this.Ht(240|a>>>18),this.Ht(128|63&a>>>12),this.Ht(128|63&a>>>6),this.Ht(128|63&a)}}this.Jt()}Yt(t){const e=this.en(t),i=LA(e);this.tn(1+i),this.buffer[this.position++]=255&i;for(let a=e.length-i;a<e.length;++a)this.buffer[this.position++]=255&e[a]}nn(t){const e=this.en(t),i=LA(e);this.tn(1+i),this.buffer[this.position++]=~(255&i);for(let a=e.length-i;a<e.length;++a)this.buffer[this.position++]=~(255&e[a])}rn(){this.sn(ol),this.sn(255)}_n(){this.an(ol),this.an(255)}reset(){this.position=0}seed(t){this.tn(t.length),this.buffer.set(t,this.position),this.position+=t.length}un(){return this.buffer.slice(0,this.position)}en(t){const e=(function(l){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,l,!1),new Uint8Array(u.buffer)})(t),i=!!(128&e[0]);e[0]^=i?255:128;for(let a=1;a<e.length;++a)e[a]^=i?255:0;return e}Gt(t){const e=255&t;e===0?(this.sn(0),this.sn(255)):e===ol?(this.sn(ol),this.sn(0)):this.sn(e)}Ht(t){const e=255&t;e===0?(this.an(0),this.an(255)):e===ol?(this.an(ol),this.an(0)):this.an(t)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(t){this.tn(1),this.buffer[this.position++]=t}an(t){this.tn(1),this.buffer[this.position++]=~t}tn(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const a=new Uint8Array(i);a.set(this.buffer),this.buffer=a}}class c4{constructor(t){this.cn=t}Bt(t){this.cn.Qt(t)}xt(t){this.cn.Zt(t)}Mt(t){this.cn.Yt(t)}vt(){this.cn.rn()}}class h4{constructor(t){this.cn=t}Bt(t){this.cn.jt(t)}xt(t){this.cn.Xt(t)}Mt(t){this.cn.nn(t)}vt(){this.cn._n()}}class gc{constructor(){this.cn=new u4,this.ascending=new c4(this.cn),this.descending=new h4(this.cn)}seed(t){this.cn.seed(t)}ln(t){return t===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class Ya{constructor(t,e,i,a){this.hn=t,this.Pn=e,this.Tn=i,this.In=a}En(){const t=this.In.length,e=t===0||this.In[t-1]===255?t+1:t,i=new Uint8Array(e);return i.set(this.In,0),e!==t?i.set([0],this.In.length):++i[i.length-1],new Ya(this.hn,this.Pn,this.Tn,i)}Rn(t,e,i){return{indexId:this.hn,uid:t,arrayValue:Ud(this.Tn),directionalValue:Ud(this.In),orderedDocumentKey:Ud(e),documentKey:i.path.toArray()}}An(t,e,i){const a=this.Rn(t,e,i);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Ir(n,t){let e=n.hn-t.hn;return e!==0?e:(e=UA(n.Tn,t.Tn),e!==0?e:(e=UA(n.In,t.In),e!==0?e:ht.comparator(n.Pn,t.Pn)))}function UA(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(i!==0)return i}return n.length-t.length}function Ud(n){return Jw()?(function(e){let i="";for(let a=0;a<e.length;a++)i+=String.fromCharCode(e[a]);return i})(n):n}function BA(n){return typeof n!="string"?n:(function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i})(n)}class zA{constructor(t){this.Vn=new ne(((e,i)=>ye.comparator(e.field,i.field))),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.dn=t.orderBy,this.mn=[];for(const e of t.filters){const i=e;i.isInequality()?this.Vn=this.Vn.add(i):this.mn.push(i)}}get fn(){return this.Vn.size>1}gn(t){if(vt(t.collectionGroup===this.collectionId,49279),this.fn)return!1;const e=i_(t);if(e!==void 0&&!this.pn(e))return!1;const i=Fa(t);let a=new Set,l=0,u=0;for(;l<i.length&&this.pn(i[l]);++l)a=a.add(i[l].fieldPath.canonicalString());if(l===i.length)return!0;if(this.Vn.size>0){const h=this.Vn.getIterator().getNext();if(!a.has(h.field.canonicalString())){const d=i[l];if(!this.yn(h,d)||!this.wn(this.dn[u++],d))return!1}++l}for(;l<i.length;++l){const h=i[l];if(u>=this.dn.length||!this.wn(this.dn[u++],h))return!1}return!0}bn(){if(this.fn)return null;let t=new ne(ye.comparator);const e=[];for(const i of this.mn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")e.push(new Dd(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new Dd(i.field,0))}for(const i of this.dn)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new Dd(i.field,i.dir==="asc"?0:1)));return new tm(tm.UNKNOWN_ID,this.collectionId,e,$c.empty())}pn(t){for(const e of this.mn)if(this.yn(e,t))return!0;return!1}yn(t,e){if(t===void 0||!t.field.isEqual(e.fieldPath))return!1;const i=t.op==="array-contains"||t.op==="array-contains-any";return e.kind===2===i}wn(t,e){return!!t.field.isEqual(e.fieldPath)&&(e.kind===0&&t.dir==="asc"||e.kind===1&&t.dir==="desc")}}function oR(n){if(vt(n instanceof Ft||n instanceof ee,20012),n instanceof Ft){if(n instanceof wx){const e=n.value.arrayValue?.values?.map((i=>Ft.create(n.field,"==",i)))||[];return ee.create(e,"or")}return n}const t=n.filters.map((e=>oR(e)));return ee.create(t,n.op)}function f4(n){if(n.getFilters().length===0)return[];const t=T_(oR(n));return vt(lR(t),7391),__(t)||v_(t)?[t]:t.getFilters()}function __(n){return n instanceof Ft}function v_(n){return n instanceof ee&&Ev(n)}function lR(n){return __(n)||v_(n)||(function(e){if(e instanceof ee&&c_(e)){for(const i of e.getFilters())if(!__(i)&&!v_(i))return!1;return!0}return!1})(n)}function T_(n){if(vt(n instanceof Ft||n instanceof ee,34018),n instanceof Ft)return n;if(n.filters.length===1)return T_(n.filters[0]);const t=n.filters.map((i=>T_(i)));let e=ee.create(t,n.op);return e=um(e),lR(e)?e:(vt(e instanceof ee,64498),vt(Ul(e),40251),vt(e.filters.length>1,57927),e.filters.reduce(((i,a)=>Dv(i,a))))}function Dv(n,t){let e;return vt(n instanceof Ft||n instanceof ee,38388),vt(t instanceof Ft||t instanceof ee,25473),e=n instanceof Ft?t instanceof Ft?(function(a,l){return ee.create([a,l],"and")})(n,t):jA(n,t):t instanceof Ft?jA(t,n):(function(a,l){if(vt(a.filters.length>0&&l.filters.length>0,48005),Ul(a)&&Ul(l))return bx(a,l.getFilters());const u=c_(a)?a:l,h=c_(a)?l:a,d=u.filters.map((p=>Dv(p,h)));return ee.create(d,"or")})(n,t),um(e)}function jA(n,t){if(Ul(t))return bx(t,n.getFilters());{const e=t.filters.map((i=>Dv(n,i)));return ee.create(e,"or")}}function um(n){if(vt(n instanceof Ft||n instanceof ee,11850),n instanceof Ft)return n;const t=n.getFilters();if(t.length===1)return um(t[0]);if(Tx(n))return n;const e=t.map((a=>um(a))),i=[];return e.forEach((a=>{a instanceof Ft?i.push(a):a instanceof ee&&(a.op===n.op?i.push(...a.filters):i.push(a))})),i.length===1?i[0]:ee.create(i,n.op)}class d4{constructor(){this.Sn=new Vv}addToCollectionParentIndex(t,e){return this.Sn.add(e),F.resolve()}getCollectionParents(t,e){return F.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return F.resolve()}deleteFieldIndex(t,e){return F.resolve()}deleteAllFieldIndexes(t){return F.resolve()}createTargetIndexes(t,e){return F.resolve()}getDocumentsMatchingTarget(t,e){return F.resolve(null)}getIndexType(t,e){return F.resolve(0)}getFieldIndexes(t,e){return F.resolve([])}getNextCollectionGroupToUpdate(t){return F.resolve(null)}getMinOffset(t,e){return F.resolve($n.min())}getMinOffsetFromCollectionGroup(t,e){return F.resolve($n.min())}updateCollectionGroup(t,e,i){return F.resolve()}updateIndexEntries(t,e){return F.resolve()}}class Vv{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e]||new ne(Kt.comparator),l=!a.has(i);return this.index[e]=a.add(i),l}has(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e];return a&&a.has(i)}getEntries(t){return(this.index[t]||new ne(Kt.comparator)).toArray()}}const FA="IndexedDbIndexManager",gd=new Uint8Array(0);class m4{constructor(t,e){this.databaseId=e,this.Dn=new Vv,this.Cn=new qs((i=>oo(i)),((i,a)=>Eh(i,a))),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Dn.has(e)){const i=e.lastSegment(),a=e.popLast();t.addOnCommittedListener((()=>{this.Dn.add(e)}));const l={collectionId:i,parent:gn(a)};return qA(t).put(l)}return F.resolve()}getCollectionParents(t,e){const i=[],a=IDBKeyRange.bound([e,""],[HI(e),""],!1,!0);return qA(t).H(a).next((l=>{for(const u of l){if(u.collectionId!==e)break;i.push(Zi(u.parent))}return i}))}addFieldIndex(t,e){const i=yc(t),a=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(e);delete a.indexId;const l=i.add(a);if(e.indexState){const u=ul(t);return l.next((h=>{u.put(PA(h,this.uid,e.indexState.sequenceNumber,e.indexState.offset))}))}return l.next()}deleteFieldIndex(t,e){const i=yc(t),a=ul(t),l=ll(t);return i.delete(e.indexId).next((()=>a.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))))}deleteAllFieldIndexes(t){const e=yc(t),i=ll(t),a=ul(t);return e.X().next((()=>i.X())).next((()=>a.X()))}createTargetIndexes(t,e){return F.forEach(this.vn(e),(i=>this.getIndexType(t,i).next((a=>{if(a===0||a===1){const l=new zA(i).bn();if(l!=null)return this.addFieldIndex(t,l)}}))))}getDocumentsMatchingTarget(t,e){const i=ll(t);let a=!0;const l=new Map;return F.forEach(this.vn(e),(u=>this.Fn(t,u).next((h=>{a&&(a=!!h),l.set(u,h)})))).next((()=>{if(a){let u=Pt();const h=[];return F.forEach(l,((d,p)=>{at(FA,`Using index ${(function(j){return`id=${j.indexId}|cg=${j.collectionGroup}|f=${j.fields.map((Y=>`${Y.fieldPath}:${Y.kind}`)).join(",")}`})(d)} to execute ${oo(e)}`);const y=(function(j,Y){const rt=i_(Y);if(rt===void 0)return null;for(const lt of am(j,rt.fieldPath))switch(lt.op){case"array-contains-any":return lt.value.arrayValue.values||[];case"array-contains":return[lt.value]}return null})(p,d),v=(function(j,Y){const rt=new Map;for(const lt of Fa(Y))for(const x of am(j,lt.fieldPath))switch(x.op){case"==":case"in":rt.set(lt.fieldPath.canonicalString(),x.value);break;case"not-in":case"!=":return rt.set(lt.fieldPath.canonicalString(),x.value),Array.from(rt.values())}return null})(p,d),E=(function(j,Y){const rt=[];let lt=!0;for(const x of Fa(Y)){const w=x.kind===0?TA(j,x.fieldPath,j.startAt):EA(j,x.fieldPath,j.startAt);rt.push(w.value),lt&&(lt=w.inclusive)}return new Ll(rt,lt)})(p,d),I=(function(j,Y){const rt=[];let lt=!0;for(const x of Fa(Y)){const w=x.kind===0?EA(j,x.fieldPath,j.endAt):TA(j,x.fieldPath,j.endAt);rt.push(w.value),lt&&(lt=w.inclusive)}return new Ll(rt,lt)})(p,d),N=this.Mn(d,p,E),B=this.Mn(d,p,I),U=this.xn(d,p,v),K=this.On(d.indexId,y,N,E.inclusive,B,I.inclusive,U);return F.forEach(K,(Z=>i.Z(Z,e.limit).next((j=>{j.forEach((Y=>{const rt=ht.fromSegments(Y.documentKey);u.has(rt)||(u=u.add(rt),h.push(rt))}))}))))})).next((()=>h))}return F.resolve(null)}))}vn(t){let e=this.Cn.get(t);return e||(t.filters.length===0?e=[t]:e=f4(ee.create(t.filters,"and")).map((i=>f_(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt))),this.Cn.set(t,e),e)}On(t,e,i,a,l,u,h){const d=(e!=null?e.length:1)*Math.max(i.length,l.length),p=d/(e!=null?e.length:1),y=[];for(let v=0;v<d;++v){const E=e?this.Nn(e[v/p]):gd,I=this.Bn(t,E,i[v%p],a),N=this.Ln(t,E,l[v%p],u),B=h.map((U=>this.Bn(t,E,U,!0)));y.push(...this.createRange(I,N,B))}return y}Bn(t,e,i,a){const l=new Ya(t,ht.empty(),e,i);return a?l:l.En()}Ln(t,e,i,a){const l=new Ya(t,ht.empty(),e,i);return a?l.En():l}Fn(t,e){const i=new zA(e),a=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,a).next((l=>{let u=null;for(const h of l)i.gn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u}))}getIndexType(t,e){let i=2;const a=this.vn(e);return F.forEach(a,(l=>this.Fn(t,l).next((u=>{u?i!==0&&u.fields.length<(function(d){let p=new ne(ye.comparator),y=!1;for(const v of d.filters)for(const E of v.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?y=!0:p=p.add(E.field));for(const v of d.orderBy)v.field.isKeyField()||(p=p.add(v.field));return p.size+(y?1:0)})(l)&&(i=1):i=0})))).next((()=>(function(u){return u.limit!==null})(e)&&a.length>1&&i===2?1:i))}kn(t,e){const i=new gc;for(const a of Fa(t)){const l=e.data.field(a.fieldPath);if(l==null)return null;const u=i.ln(a.kind);$a.Wt.Dt(l,u)}return i.un()}Nn(t){const e=new gc;return $a.Wt.Dt(t,e.ln(0)),e.un()}Kn(t,e){const i=new gc;return $a.Wt.Dt(th(this.databaseId,e),i.ln((function(l){const u=Fa(l);return u.length===0?0:u[u.length-1].kind})(t))),i.un()}xn(t,e,i){if(i===null)return[];let a=[];a.push(new gc);let l=0;for(const u of Fa(t)){const h=i[l++];for(const d of a)if(this.qn(e,u.fieldPath)&&eh(h))a=this.Un(a,u,h);else{const p=d.ln(u.kind);$a.Wt.Dt(h,p)}}return this.$n(a)}Mn(t,e,i){return this.xn(t,e,i.position)}$n(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].un();return e}Un(t,e,i){const a=[...t],l=[];for(const u of i.arrayValue.values||[])for(const h of a){const d=new gc;d.seed(h.un()),$a.Wt.Dt(u,d.ln(e.kind)),l.push(d)}return l}qn(t,e){return!!t.filters.find((i=>i instanceof Ft&&i.field.isEqual(e)&&(i.op==="in"||i.op==="not-in")))}getFieldIndexes(t,e){const i=yc(t),a=ul(t);return(e?i.H(r_,IDBKeyRange.bound(e,e)):i.H()).next((l=>{const u=[];return F.forEach(l,(h=>a.get([h.indexId,this.uid]).next((d=>{u.push((function(y,v){const E=v?new $c(v.sequenceNumber,new $n(uo(v.readTime),new ht(Zi(v.documentKey)),v.largestBatchId)):$c.empty(),I=y.fields.map((([N,B])=>new Dd(ye.fromServerFormat(N),B)));return new tm(y.indexId,y.collectionGroup,I,E)})(h,d))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((e=>e.length===0?null:(e.sort(((i,a)=>{const l=i.indexState.sequenceNumber-a.indexState.sequenceNumber;return l!==0?l:It(i.collectionGroup,a.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(t,e,i){const a=yc(t),l=ul(t);return this.Wn(t).next((u=>a.H(r_,IDBKeyRange.bound(e,e)).next((h=>F.forEach(h,(d=>l.put(PA(d.indexId,this.uid,u,i))))))))}updateIndexEntries(t,e){const i=new Map;return F.forEach(e,((a,l)=>{const u=i.get(a.collectionGroup);return(u?F.resolve(u):this.getFieldIndexes(t,a.collectionGroup)).next((h=>(i.set(a.collectionGroup,h),F.forEach(h,(d=>this.Qn(t,a,d).next((p=>{const y=this.Gn(l,d);return p.isEqual(y)?F.resolve():this.zn(t,l,d,p,y)})))))))}))}jn(t,e,i,a){return ll(t).put(a.Rn(this.uid,this.Kn(i,e.key),e.key))}Hn(t,e,i,a){return ll(t).delete(a.An(this.uid,this.Kn(i,e.key),e.key))}Qn(t,e,i){const a=ll(t);let l=new ne(Ir);return a.ee({index:ix,range:IDBKeyRange.only([i.indexId,this.uid,Ud(this.Kn(i,e))])},((u,h)=>{l=l.add(new Ya(i.indexId,e,BA(h.arrayValue),BA(h.directionalValue)))})).next((()=>l))}Gn(t,e){let i=new ne(Ir);const a=this.kn(e,t);if(a==null)return i;const l=i_(e);if(l!=null){const u=t.data.field(l.fieldPath);if(eh(u))for(const h of u.arrayValue.values||[])i=i.add(new Ya(e.indexId,t.key,this.Nn(h),a))}else i=i.add(new Ya(e.indexId,t.key,gd,a));return i}zn(t,e,i,a,l){at(FA,"Updating index entries for document '%s'",e.key);const u=[];return(function(d,p,y,v,E){const I=d.getIterator(),N=p.getIterator();let B=al(I),U=al(N);for(;B||U;){let K=!1,Z=!1;if(B&&U){const j=y(B,U);j<0?Z=!0:j>0&&(K=!0)}else B!=null?Z=!0:K=!0;K?(v(U),U=al(N)):Z?(E(B),B=al(I)):(B=al(I),U=al(N))}})(a,l,Ir,(h=>{u.push(this.jn(t,e,i,h))}),(h=>{u.push(this.Hn(t,e,i,h))})),F.waitFor(u)}Wn(t){let e=1;return ul(t).ee({index:nx,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((i,a,l)=>{l.done(),e=a.sequenceNumber+1})).next((()=>e))}createRange(t,e,i){i=i.sort(((u,h)=>Ir(u,h))).filter(((u,h,d)=>!h||Ir(u,d[h-1])!==0));const a=[];a.push(t);for(const u of i){const h=Ir(u,t),d=Ir(u,e);if(h===0)a[0]=t.En();else if(h>0&&d<0)a.push(u),a.push(u.En());else if(d>0)break}a.push(e);const l=[];for(let u=0;u<a.length;u+=2){if(this.Jn(a[u],a[u+1]))return[];const h=a[u].An(this.uid,gd,ht.empty()),d=a[u+1].An(this.uid,gd,ht.empty());l.push(IDBKeyRange.bound(h,d))}return l}Jn(t,e){return Ir(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(HA)}getMinOffset(t,e){return F.mapArray(this.vn(e),(i=>this.Fn(t,i).next((a=>a||mt(44426))))).next(HA)}}function qA(n){return Qe(n,Wc)}function ll(n){return Qe(n,Nc)}function yc(n){return Qe(n,pv)}function ul(n){return Qe(n,Mc)}function HA(n){vt(n.length!==0,28825);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const a=n[i].indexState.offset;fv(a,t)<0&&(t=a),e<a.largestBatchId&&(e=a.largestBatchId)}return new $n(t.readTime,t.documentKey,e)}const GA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uR=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}function cR(n,t,e){const i=n.store(Ai),a=n.store(Vl),l=[],u=IDBKeyRange.only(e.batchId);let h=0;const d=i.ee({range:u},((y,v,E)=>(h++,E.delete())));l.push(d.next((()=>{vt(h===1,47070,{batchId:e.batchId})})));const p=[];for(const y of e.mutations){const v=ZI(t,y.key.path,e.batchId);l.push(a.delete(v)),p.push(y.key)}return F.waitFor(l).next((()=>p))}function cm(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw mt(14731);t=n.noDocument}return JSON.stringify(t).length}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(uR,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class Gm{constructor(t,e,i,a){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=a,this.Zn={}}static wt(t,e,i,a){vt(t.uid!=="",64387);const l=t.isAuthenticated()?t.uid:"";return new Gm(l,e,i,a)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xr(t).ee({index:Qa,range:i},((a,l,u)=>{e=!1,u.done()})).next((()=>e))}addMutationBatch(t,e,i,a){const l=pl(t),u=xr(t);return u.add({}).next((h=>{vt(typeof h=="number",49019);const d=new wv(h,e,i,a),p=(function(I,N,B){const U=B.baseMutations.map((Z=>rh(I.yt,Z))),K=B.mutations.map((Z=>rh(I.yt,Z)));return{userId:N,batchId:B.batchId,localWriteTimeMs:B.localWriteTime.toMillis(),baseMutations:U,mutations:K}})(this.serializer,this.userId,d),y=[];let v=new ne(((E,I)=>It(E.canonicalString(),I.canonicalString())));for(const E of a){const I=ZI(this.userId,E.key.path,h);v=v.add(E.key.path.popLast()),y.push(u.put(p)),y.push(l.put(I,qO))}return v.forEach((E=>{y.push(this.indexManager.addToCollectionParentIndex(t,E))})),t.addOnCommittedListener((()=>{this.Zn[h]=d.keys()})),F.waitFor(y).next((()=>d))}))}lookupMutationBatch(t,e){return xr(t).get(e).next((i=>i?(vt(i.userId===this.userId,48,"Unexpected user for mutation batch",{userId:i.userId,batchId:e}),Ka(this.serializer,i)):null))}Xn(t,e){return this.Zn[e]?F.resolve(this.Zn[e]):this.lookupMutationBatch(t,e).next((i=>{if(i){const a=i.keys();return this.Zn[e]=a,a}return null}))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return xr(t).ee({index:Qa,range:a},((u,h,d)=>{h.userId===this.userId&&(vt(h.batchId>=i,47524,{Yn:i}),l=Ka(this.serializer,h)),d.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=Ja;return xr(t).ee({index:Qa,range:e,reverse:!0},((a,l,u)=>{i=l.batchId,u.done()})).next((()=>i))}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,Ja],[this.userId,Number.POSITIVE_INFINITY]);return xr(t).H(Qa,e).next((i=>i.map((a=>Ka(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=Vd(this.userId,e.path),a=IDBKeyRange.lowerBound(i),l=[];return pl(t).ee({range:a},((u,h,d)=>{const[p,y,v]=u,E=Zi(y);if(p===this.userId&&e.path.isEqual(E))return xr(t).get(v).next((I=>{if(!I)throw mt(61480,{er:u,batchId:v});vt(I.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:I.userId,batchId:v}),l.push(Ka(this.serializer,I))}));d.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ne(It);const a=[];return e.forEach((l=>{const u=Vd(this.userId,l.path),h=IDBKeyRange.lowerBound(u),d=pl(t).ee({range:h},((p,y,v)=>{const[E,I,N]=p,B=Zi(I);E===this.userId&&l.path.isEqual(B)?i=i.add(N):v.done()}));a.push(d)})),F.waitFor(a).next((()=>this.tr(t,i)))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1,l=Vd(this.userId,i),u=IDBKeyRange.lowerBound(l);let h=new ne(It);return pl(t).ee({range:u},((d,p,y)=>{const[v,E,I]=d,N=Zi(E);v===this.userId&&i.isPrefixOf(N)?N.length===a&&(h=h.add(I)):y.done()})).next((()=>this.tr(t,h)))}tr(t,e){const i=[],a=[];return e.forEach((l=>{a.push(xr(t).get(l).next((u=>{if(u===null)throw mt(35274,{batchId:l});vt(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:l}),i.push(Ka(this.serializer,u))})))})),F.waitFor(a).next((()=>i))}removeMutationBatch(t,e){return cR(t.le,this.userId,e).next((i=>(t.addOnCommittedListener((()=>{this.nr(e.batchId)})),F.forEach(i,(a=>this.referenceDelegate.markPotentiallyOrphaned(t,a))))))}nr(t){delete this.Zn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((e=>{if(!e)return F.resolve();const i=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),a=[];return pl(t).ee({range:i},((l,u,h)=>{if(l[0]===this.userId){const d=Zi(l[1]);a.push(d)}else h.done()})).next((()=>{vt(a.length===0,56720,{rr:a.map((l=>l.canonicalString()))})}))}))}containsKey(t,e){return hR(t,this.userId,e)}ir(t){return fR(t).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:Ja,lastStreamToken:""}))}}function hR(n,t,e){const i=Vd(t,e.path),a=i[1],l=IDBKeyRange.lowerBound(i);let u=!1;return pl(n).ee({range:l,Y:!0},((h,d,p)=>{const[y,v,E]=h;y===t&&v===a&&(u=!0),p.done()})).next((()=>u))}function xr(n){return Qe(n,Ai)}function pl(n){return Qe(n,Vl)}function fR(n){return Qe(n,Qc)}class co{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new co(0)}static ar(){return new co(-1)}}class p4{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.ur(t).next((e=>{const i=new co(e.highestTargetId);return e.highestTargetId=i.next(),this.cr(t,e).next((()=>e.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.ur(t).next((e=>Et.fromTimestamp(new te(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.ur(t).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(t,e,i){return this.ur(t).next((a=>(a.highestListenSequenceNumber=e,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),e>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=e),this.cr(t,a))))}addTargetData(t,e){return this.lr(t,e).next((()=>this.ur(t).next((i=>(i.targetCount+=1,this.hr(e,i),this.cr(t,i))))))}updateTargetData(t,e){return this.lr(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next((()=>cl(t).delete(e.targetId))).next((()=>this.ur(t))).next((i=>(vt(i.targetCount>0,8065),i.targetCount-=1,this.cr(t,i))))}removeTargets(t,e,i){let a=0;const l=[];return cl(t).ee(((u,h)=>{const d=wc(h);d.sequenceNumber<=e&&i.get(d.targetId)===null&&(a++,l.push(this.removeTargetData(t,d)))})).next((()=>F.waitFor(l))).next((()=>a))}forEachTarget(t,e){return cl(t).ee(((i,a)=>{const l=wc(a);e(l)}))}ur(t){return KA(t).get(im).next((e=>(vt(e!==null,2888),e)))}cr(t,e){return KA(t).put(im,e)}lr(t,e){return cl(t).put(rR(this.serializer,e))}hr(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.ur(t).next((e=>e.targetCount))}getTargetData(t,e){const i=oo(e),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return cl(t).ee({range:a,index:ex},((u,h,d)=>{const p=wc(h);Eh(e,p.target)&&(l=p,d.done())})).next((()=>l))}addMatchingKeys(t,e,i){const a=[],l=Pr(t);return e.forEach((u=>{const h=gn(u.path);a.push(l.put({targetId:i,path:h})),a.push(this.referenceDelegate.addReference(t,i,u))})),F.waitFor(a)}removeMatchingKeys(t,e,i){const a=Pr(t);return F.forEach(e,(l=>{const u=gn(l.path);return F.waitFor([a.delete([i,u]),this.referenceDelegate.removeReference(t,i,l)])}))}removeMatchingKeysForTargetId(t,e){const i=Pr(t),a=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),a=Pr(t);let l=Pt();return a.ee({range:i,Y:!0},((u,h,d)=>{const p=Zi(u[1]),y=new ht(p);l=l.add(y)})).next((()=>l))}containsKey(t,e){const i=gn(e.path),a=IDBKeyRange.bound([i],[HI(i)],!1,!0);let l=0;return Pr(t).ee({index:mv,Y:!0,range:a},(([u,h],d,p)=>{u!==0&&(l++,p.done())})).next((()=>l>0))}At(t,e){return cl(t).get(e).next((i=>i?wc(i):null))}}function cl(n){return Qe(n,Ml)}function KA(n){return Qe(n,Za)}function Pr(n){return Qe(n,Nl)}const $A="LruGarbageCollector",dR=1048576;function YA([n,t],[e,i]){const a=It(n,e);return a===0?It(t,i):a}class g4{constructor(t){this.Pr=t,this.buffer=new ne(YA),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();YA(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class mR{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){at($A,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){na(e)?at($A,"Ignoring IndexedDB error during garbage collection: ",e):await ea(e)}await this.Ar(3e5)}))}}class y4{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return F.resolve(Vn.ce);const i=new g4(e);return this.Vr.forEachTarget(t,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(t,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.Vr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(GA)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GA):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let i,a,l,u,h,d,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(t,a)))).next((v=>(i=v,h=Date.now(),this.removeTargets(t,i,e)))).next((v=>(l=v,d=Date.now(),this.removeOrphanedDocuments(t,i)))).next((v=>(p=Date.now(),hl()<=jt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-y}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function pR(n,t){return new y4(n,t)}class _4{constructor(t,e){this.db=t,this.garbageCollector=pR(this,e)}dr(t){const e=this.pr(t);return this.db.getTargetCache().getTargetCount(t).next((i=>e.next((a=>i+a))))}pr(t){let e=0;return this.mr(t,(i=>{e++})).next((()=>e))}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}mr(t,e){return this.yr(t,((i,a)=>e(a)))}addReference(t,e,i){return yd(t,i)}removeReference(t,e,i){return yd(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return yd(t,e)}wr(t,e){return(function(a,l){let u=!1;return fR(a).te((h=>hR(a,h,l).next((d=>(d&&(u=!0),F.resolve(!d)))))).next((()=>u))})(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.yr(t,((u,h)=>{if(h<=e){const d=this.wr(t,u).next((p=>{if(!p)return l++,i.getEntry(t,u).next((()=>(i.removeEntry(u,Et.min()),Pr(t).delete((function(v){return[0,gn(v.path)]})(u)))))}));a.push(d)}})).next((()=>F.waitFor(a))).next((()=>i.apply(t))).next((()=>l))}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return yd(t,e)}yr(t,e){const i=Pr(t);let a,l=Vn.ce;return i.ee({index:mv},(([u,h],{path:d,sequenceNumber:p})=>{u===0?(l!==Vn.ce&&e(new ht(Zi(a)),l),l=p,a=d):l=Vn.ce})).next((()=>{l!==Vn.ce&&e(new ht(Zi(a)),l)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function yd(n,t){return Pr(n).put((function(i,a){return{targetId:0,path:gn(i.path),sequenceNumber:a}})(t,n.currentSequenceNumber))}class gR{constructor(){this.changes=new qs((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ge.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?F.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class v4{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Ua(t).put(i)}removeEntry(t,e,i){return Ua(t).delete((function(l,u){const h=l.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],lm(u),h[h.length-1]]})(e,i))}updateMetadata(t,e){return this.getMetadata(t).next((i=>(i.byteSize+=e,this.br(t,i))))}getEntry(t,e){let i=ge.newInvalidDocument(e);return Ua(t).ee({index:Md,range:IDBKeyRange.only(_c(e))},((a,l)=>{i=this.Sr(e,l)})).next((()=>i))}Dr(t,e){let i={size:0,document:ge.newInvalidDocument(e)};return Ua(t).ee({index:Md,range:IDBKeyRange.only(_c(e))},((a,l)=>{i={document:this.Sr(e,l),size:cm(l)}})).next((()=>i))}getEntries(t,e){let i=Gn();return this.Cr(t,e,((a,l)=>{const u=this.Sr(a,l);i=i.insert(a,u)})).next((()=>i))}vr(t,e){let i=Gn(),a=new le(ht.comparator);return this.Cr(t,e,((l,u)=>{const h=this.Sr(l,u);i=i.insert(l,h),a=a.insert(l,cm(u))})).next((()=>({documents:i,Fr:a})))}Cr(t,e,i){if(e.isEmpty())return F.resolve();let a=new ne(WA);e.forEach((d=>a=a.add(d)));const l=IDBKeyRange.bound(_c(a.first()),_c(a.last())),u=a.getIterator();let h=u.getNext();return Ua(t).ee({index:Md,range:l},((d,p,y)=>{const v=ht.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;h&&WA(h,v)<0;)i(h,null),h=u.getNext();h&&h.isEqual(v)&&(i(h,p),h=u.hasNext()?u.getNext():null),h?y.j(_c(h)):y.done()})).next((()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(t,e,i,a,l){const u=e.path,h=[u.popLast().toArray(),u.lastSegment(),lm(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],d=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ua(t).H(IDBKeyRange.bound(h,d,!0)).next((p=>{l?.incrementDocumentReadCount(p.length);let y=Gn();for(const v of p){const E=this.Sr(ht.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);E.isFoundDocument()&&(Sh(e,E)||a.has(E.key))&&(y=y.insert(E.key,E))}return y}))}getAllFromCollectionGroup(t,e,i,a){let l=Gn();const u=XA(e,i),h=XA(e,$n.max());return Ua(t).ee({index:tx,range:IDBKeyRange.bound(u,h,!0)},((d,p,y)=>{const v=this.Sr(ht.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);l=l.insert(v.key,v),l.size===a&&y.done()})).next((()=>l))}newChangeBuffer(t){return new T4(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((e=>e.byteSize))}getMetadata(t){return QA(t).get(s_).next((e=>(vt(!!e,20021),e)))}br(t,e){return QA(t).put(s_,e)}Sr(t,e){if(e){const i=r4(this.serializer,e);if(!(i.isNoDocument()&&i.version.isEqual(Et.min())))return i}return ge.newInvalidDocument(t)}}function yR(n){return new v4(n)}class T4 extends gR{constructor(t,e){super(),this.Mr=t,this.trackRemovals=e,this.Or=new qs((i=>i.toString()),((i,a)=>i.isEqual(a)))}applyChanges(t){const e=[];let i=0,a=new ne(((l,u)=>It(l.canonicalString(),u.canonicalString())));return this.changes.forEach(((l,u)=>{const h=this.Or.get(l);if(e.push(this.Mr.removeEntry(t,l,h.readTime)),u.isValidDocument()){const d=MA(this.Mr.serializer,u);a=a.add(l.path.popLast());const p=cm(d);i+=p-h.size,e.push(this.Mr.addEntry(t,l,d))}else if(i-=h.size,this.trackRemovals){const d=MA(this.Mr.serializer,u.convertToNoDocument(Et.min()));e.push(this.Mr.addEntry(t,l,d))}})),a.forEach((l=>{e.push(this.Mr.indexManager.addToCollectionParentIndex(t,l))})),e.push(this.Mr.updateMetadata(t,i)),F.waitFor(e)}getFromCache(t,e){return this.Mr.Dr(t,e).next((i=>(this.Or.set(e,{size:i.size,readTime:i.document.readTime}),i.document)))}getAllFromCache(t,e){return this.Mr.vr(t,e).next((({documents:i,Fr:a})=>(a.forEach(((l,u)=>{this.Or.set(l,{size:u,readTime:i.get(l).readTime})})),i)))}}function QA(n){return Qe(n,Xc)}function Ua(n){return Qe(n,nm)}function _c(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function XA(n,t){const e=t.documentKey.path.toArray();return[n,lm(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function WA(n,t){const e=n.path.toArray(),i=t.path.toArray();let a=0;for(let l=0;l<e.length-2&&l<i.length-2;++l)if(a=It(e[l],i[l]),a)return a;return a=It(e.length,i.length),a||(a=It(e[e.length-2],i[i.length-2]),a||It(e[e.length-1],i[i.length-1]))}class E4{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class _R{constructor(t,e,i,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(i=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(i!==null&&Lc(i.mutation,a,Mn.empty(),te.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Pt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Pt()){const a=ts();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,i).next((l=>{let u=Sc();return l.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(t,e){const i=ts();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Pt())))}populateOverlays(t,e,i){const a=[];return i.forEach((l=>{e.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((u,h)=>{e.set(u,h)}))}))}computeViews(t,e,i,a){let l=Gn();const u=kc(),h=(function(){return kc()})();return e.forEach(((d,p)=>{const y=i.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Hs)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),Lc(y.mutation,p,y.mutation.getFieldMask(),te.now())):u.set(p.key,Mn.empty())})),this.recalculateAndSaveOverlays(t,l).next((d=>(d.forEach(((p,y)=>u.set(p,y))),e.forEach(((p,y)=>h.set(p,new E4(y,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=kc();let a=new le(((u,h)=>u-h)),l=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((u=>{for(const h of u)h.keys().forEach((d=>{const p=e.get(d);if(p===null)return;let y=i.get(d)||Mn.empty();y=h.applyToLocalView(p,y),i.set(d,y);const v=(a.get(h.batchId)||Pt()).add(d);a=a.insert(h.batchId,v)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,y=d.value,v=Nx();y.forEach((E=>{if(!l.has(E)){const I=zx(e.get(E),i.get(E));I!==null&&v.set(E,I),l=l.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(t,p,v))}return F.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,a){return Ik(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):xx(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,a):this.getDocumentsMatchingCollectionQuery(t,e,i,a)}getNextDocuments(t,e,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,a-l.size):F.resolve(ts());let h=Dl,d=l;return u.next((p=>F.forEach(p,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?F.resolve():this.remoteDocumentCache.getEntry(t,y).next((E=>{d=d.insert(y,E)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,d,p,Pt()))).next((y=>({batchId:h,changes:Mx(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ht(e)).next((i=>{let a=Sc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,a){const l=e.collectionGroup;let u=Sc();return this.indexManager.getCollectionParents(t,l).next((h=>F.forEach(h,(d=>{const p=(function(v,E){return new Zl(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(e,d.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,i,a).next((y=>{y.forEach(((v,E)=>{u=u.insert(v,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(t,e,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,l,a)))).next((u=>{l.forEach(((d,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,ge.newInvalidDocument(y)))}));let h=Sc();return u.forEach(((d,p)=>{const y=l.get(d);y!==void 0&&Lc(y.mutation,p,Mn.empty(),te.now()),Sh(e,p)&&(h=h.insert(d,p))})),h}))}}class b4{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return F.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:tn(a.createTime)}})(e)),F.resolve()}getNamedQuery(t,e){return F.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(a){return{name:a.name,query:aR(a.bundledQuery),readTime:tn(a.readTime)}})(e)),F.resolve()}}class S4{constructor(){this.overlays=new le(ht.comparator),this.Lr=new Map}getOverlay(t,e){return F.resolve(this.overlays.get(e))}getOverlays(t,e){const i=ts();return F.forEach(e,(a=>this.getOverlay(t,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((a,l)=>{this.bt(t,e,l)})),F.resolve()}removeOverlaysForBatchId(t,e,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),F.resolve()}getOverlaysForCollection(t,e,i){const a=ts(),l=e.length+1,u=new ht(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!e.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>i&&a.set(d.getKey(),d)}return F.resolve(a)}getOverlaysForCollectionGroup(t,e,i,a){let l=new le(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===e&&p.largestBatchId>i){let y=l.get(p.largestBatchId);y===null&&(y=ts(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=ts(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=a)););return F.resolve(h)}bt(t,e,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new xv(e,i));let l=this.Lr.get(e);l===void 0&&(l=Pt(),this.Lr.set(e,l)),this.Lr.set(e,l.add(i.key))}}class A4{constructor(){this.sessionToken=Ce.EMPTY_BYTE_STRING}getSessionToken(t){return F.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,F.resolve()}}class Mv{constructor(){this.kr=new ne(Ze.Kr),this.qr=new ne(Ze.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const i=new Ze(t,e);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Wr(new Ze(t,e))}Qr(t,e){t.forEach((i=>this.removeReference(i,e)))}Gr(t){const e=new ht(new Kt([])),i=new Ze(e,t),a=new Ze(e,t+1),l=[];return this.qr.forEachInRange([i,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new ht(new Kt([])),i=new Ze(e,t),a=new Ze(e,t+1);let l=Pt();return this.qr.forEachInRange([i,a],(u=>{l=l.add(u.key)})),l}containsKey(t){const e=new Ze(t,0),i=this.kr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Ze{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return ht.comparator(t.key,e.key)||It(t.Hr,e.Hr)}static Ur(t,e){return It(t.Hr,e.Hr)||ht.comparator(t.key,e.key)}}class w4{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new ne(Ze.Kr)}checkEmpty(t){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new wv(l,e,i,a);this.mutationQueue.push(u);for(const h of a)this.Jr=this.Jr.add(new Ze(h.key,l)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return F.resolve(u)}lookupMutationBatch(t,e){return F.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=this.Xr(i),l=a<0?0:a;return F.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Ja:this.Yn-1)}getAllMutationBatches(t){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ze(e,0),a=new Ze(e,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(u=>{const h=this.Zr(u.Hr);l.push(h)})),F.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ne(It);return e.forEach((a=>{const l=new Ze(a,0),u=new Ze(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(h=>{i=i.add(h.Hr)}))})),F.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1;let l=i;ht.isDocumentKey(l)||(l=l.child(""));const u=new Ze(new ht(l),0);let h=new ne(It);return this.Jr.forEachWhile((d=>{const p=d.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(h=h.add(d.Hr)),!0)}),u),F.resolve(this.Yr(h))}Yr(t){const e=[];return t.forEach((i=>{const a=this.Zr(i);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){vt(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return F.forEach(e.mutations,(a=>{const l=new Ze(a.key,e.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Jr=i}))}nr(t){}containsKey(t,e){const i=new Ze(e,0),a=this.Jr.firstAfterOrEqual(i);return F.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,F.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class I4{constructor(t){this.ti=t,this.docs=(function(){return new le(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,a=this.docs.get(i),l=a?a.size:0,u=this.ti(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return F.resolve(i?i.document.mutableCopy():ge.newInvalidDocument(e))}getEntries(t,e){let i=Gn();return e.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():ge.newInvalidDocument(a))})),F.resolve(i)}getDocumentsMatchingQuery(t,e,i,a){let l=Gn();const u=e.path,h=new ht(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||fv(YI(y),i)<=0||(a.has(y.key)||Sh(e,y))&&(l=l.insert(y.key,y.mutableCopy()))}return F.resolve(l)}getAllFromCollectionGroup(t,e,i,a){mt(9500)}ni(t,e){return F.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new x4(this)}getSize(t){return F.resolve(this.size)}}class x4 extends gR{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?e.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(i)})),F.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class R4{constructor(t){this.persistence=t,this.ri=new qs((e=>oo(e)),Eh),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ii=0,this.si=new Mv,this.targetCount=0,this.oi=co._r()}forEachTarget(t,e){return this.ri.forEach(((i,a)=>e(a))),F.resolve()}getLastRemoteSnapshotVersion(t){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return F.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.ii&&(this.ii=e),F.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new co(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,F.resolve()}updateTargetData(t,e){return this.lr(e),F.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,F.resolve()}removeTargets(t,e,i){let a=0;const l=[];return this.ri.forEach(((u,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)})),F.waitFor(l).next((()=>a))}getTargetCount(t){return F.resolve(this.targetCount)}getTargetData(t,e){const i=this.ri.get(e)||null;return F.resolve(i)}addMatchingKeys(t,e,i){return this.si.$r(e,i),F.resolve()}removeMatchingKeys(t,e,i){this.si.Qr(e,i);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach((u=>{l.push(a.markPotentiallyOrphaned(t,u))})),F.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),F.resolve()}getMatchingKeysForTargetId(t,e){const i=this.si.jr(e);return F.resolve(i)}containsKey(t,e){return F.resolve(this.si.containsKey(e))}}class Nv{constructor(t,e){this._i={},this.overlays={},this.ai=new Vn(0),this.ui=!1,this.ui=!0,this.ci=new A4,this.referenceDelegate=t(this),this.li=new R4(this),this.indexManager=new d4,this.remoteDocumentCache=(function(a){return new I4(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new sR(e),this.Pi=new b4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new S4,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this._i[t.toKey()];return i||(i=new w4(e,this.referenceDelegate),this._i[t.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,i){at("MemoryPersistence","Starting transaction:",t);const a=new C4(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(t,e){return F.or(Object.values(this._i).map((i=>()=>i.containsKey(t,e))))}}class C4 extends XI{constructor(t){super(),this.currentSequenceNumber=t}}class Km{constructor(t){this.persistence=t,this.Ri=new Mv,this.Ai=null}static Vi(t){return new Km(t)}get di(){if(this.Ai)return this.Ai;throw mt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.di.delete(i.toString()),F.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.di.add(i.toString()),F.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),F.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.di,(i=>{const a=ht.fromPath(i);return this.mi(t,a).next((l=>{l||e.removeEntry(a,Et.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((i=>{i?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return F.or([()=>F.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class hm{constructor(t,e){this.persistence=t,this.fi=new qs((i=>gn(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=pR(this,e)}static Vi(t,e){return new hm(t,e)}Ti(){}Ii(t){return F.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((a=>i+a))))}pr(t){let e=0;return this.mr(t,(i=>{e++})).next((()=>e))}mr(t,e){return F.forEach(this.fi,((i,a)=>this.wr(t,i,a).next((l=>l?F.resolve():e(a)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(t,(u=>this.wr(t,u,e).next((h=>{h||(i++,l.removeEntry(u,Et.min()))})))).next((()=>l.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),F.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.fi.set(i,t.currentSequenceNumber),F.resolve()}removeReference(t,e,i){return this.fi.set(i,t.currentSequenceNumber),F.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),F.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Pd(t.data.value)),e}wr(t,e,i){return F.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.fi.get(e);return F.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class D4{constructor(t){this.serializer=t}k(t,e,i,a){const l=new Om("createOrUpgrade",e);i<1&&a>=1&&((function(d){d.createObjectStore(Th)})(t),(function(d){d.createObjectStore(Qc,{keyPath:FO}),d.createObjectStore(Ai,{keyPath:lA,autoIncrement:!0}).createIndex(Qa,uA,{unique:!0}),d.createObjectStore(Vl)})(t),JA(t),(function(d){d.createObjectStore(qa)})(t));let u=F.resolve();return i<3&&a>=3&&(i!==0&&((function(d){d.deleteObjectStore(Nl),d.deleteObjectStore(Ml),d.deleteObjectStore(Za)})(t),JA(t)),u=u.next((()=>(function(d){const p=d.store(Za),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Et.min().toTimestamp(),targetCount:0};return p.put(im,y)})(l)))),i<4&&a>=4&&(i!==0&&(u=u.next((()=>(function(d,p){return p.store(Ai).H().next((v=>{d.deleteObjectStore(Ai),d.createObjectStore(Ai,{keyPath:lA,autoIncrement:!0}).createIndex(Qa,uA,{unique:!0});const E=p.store(Ai),I=v.map((N=>E.put(N)));return F.waitFor(I)}))})(t,l)))),u=u.next((()=>{(function(d){d.createObjectStore(Pl,{keyPath:WO})})(t)}))),i<5&&a>=5&&(u=u.next((()=>this.gi(l)))),i<6&&a>=6&&(u=u.next((()=>((function(d){d.createObjectStore(Xc)})(t),this.pi(l))))),i<7&&a>=7&&(u=u.next((()=>this.yi(l)))),i<8&&a>=8&&(u=u.next((()=>this.wi(t,l)))),i<9&&a>=9&&(u=u.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(t)}))),i<10&&a>=10&&(u=u.next((()=>this.bi(l)))),i<11&&a>=11&&(u=u.next((()=>{(function(d){d.createObjectStore(km,{keyPath:JO})})(t),(function(d){d.createObjectStore(Lm,{keyPath:ZO})})(t)}))),i<12&&a>=12&&(u=u.next((()=>{(function(d){const p=d.createObjectStore(Um,{keyPath:ak});p.createIndex(a_,ok,{unique:!1}),p.createIndex(sx,lk,{unique:!1})})(t)}))),i<13&&a>=13&&(u=u.next((()=>(function(d){const p=d.createObjectStore(nm,{keyPath:HO});p.createIndex(Md,GO),p.createIndex(tx,KO)})(t))).next((()=>this.Si(t,l))).next((()=>t.deleteObjectStore(qa)))),i<14&&a>=14&&(u=u.next((()=>this.Di(t,l)))),i<15&&a>=15&&(u=u.next((()=>(function(d){d.createObjectStore(pv,{keyPath:tk,autoIncrement:!0}).createIndex(r_,ek,{unique:!1}),d.createObjectStore(Mc,{keyPath:nk}).createIndex(nx,ik,{unique:!1}),d.createObjectStore(Nc,{keyPath:sk}).createIndex(ix,rk,{unique:!1})})(t)))),i<16&&a>=16&&(u=u.next((()=>{e.objectStore(Mc).clear()})).next((()=>{e.objectStore(Nc).clear()}))),i<17&&a>=17&&(u=u.next((()=>{(function(d){d.createObjectStore(gv,{keyPath:uk})})(t)}))),i<18&&a>=18&&Jw()&&(u=u.next((()=>{e.objectStore(Mc).clear()})).next((()=>{e.objectStore(Nc).clear()}))),u}pi(t){let e=0;return t.store(qa).ee(((i,a)=>{e+=cm(a)})).next((()=>{const i={byteSize:e};return t.store(Xc).put(s_,i)}))}gi(t){const e=t.store(Qc),i=t.store(Ai);return e.H().next((a=>F.forEach(a,(l=>{const u=IDBKeyRange.bound([l.userId,Ja],[l.userId,l.lastAcknowledgedBatchId]);return i.H(Qa,u).next((h=>F.forEach(h,(d=>{vt(d.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const p=Ka(this.serializer,d);return cR(t,l.userId,p).next((()=>{}))}))))}))))}yi(t){const e=t.store(Nl),i=t.store(qa);return t.store(Za).get(im).next((a=>{const l=[];return i.ee(((u,h)=>{const d=new Kt(u),p=(function(v){return[0,gn(v)]})(d);l.push(e.get(p).next((y=>y?F.resolve():(v=>e.put({targetId:0,path:gn(v),sequenceNumber:a.highestListenSequenceNumber}))(d))))})).next((()=>F.waitFor(l)))}))}wi(t,e){t.createObjectStore(Wc,{keyPath:XO});const i=e.store(Wc),a=new Vv,l=u=>{if(a.add(u)){const h=u.lastSegment(),d=u.popLast();return i.put({collectionId:h,parent:gn(d)})}};return e.store(qa).ee({Y:!0},((u,h)=>{const d=new Kt(u);return l(d.popLast())})).next((()=>e.store(Vl).ee({Y:!0},(([u,h,d],p)=>{const y=Zi(h);return l(y.popLast())}))))}bi(t){const e=t.store(Ml);return e.ee(((i,a)=>{const l=wc(a),u=rR(this.serializer,l);return e.put(u)}))}Si(t,e){const i=e.store(qa),a=[];return i.ee(((l,u)=>{const h=e.store(nm),d=(function(v){return v.document?new ht(Kt.fromString(v.document.name).popFirst(5)):v.noDocument?ht.fromSegments(v.noDocument.path):v.unknownDocument?ht.fromSegments(v.unknownDocument.path):mt(36783)})(u).path.toArray(),p={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};a.push(h.put(p))})).next((()=>F.waitFor(a)))}Di(t,e){const i=e.store(Ai),a=yR(this.serializer),l=new Nv(Km.Vi,this.serializer.yt);return i.H().next((u=>{const h=new Map;return u.forEach((d=>{let p=h.get(d.userId)??Pt();Ka(this.serializer,d).keys().forEach((y=>p=p.add(y))),h.set(d.userId,p)})),F.forEach(h,((d,p)=>{const y=new dn(p),v=Hm.wt(this.serializer,y),E=l.getIndexManager(y),I=Gm.wt(y,this.serializer,E,l.referenceDelegate);return new _R(a,I,v,E).recalculateAndSaveOverlaysForDocumentKeys(new o_(e,Vn.ce),d).next()}))}))}}function JA(n){n.createObjectStore(Nl,{keyPath:YO}).createIndex(mv,QO,{unique:!0}),n.createObjectStore(Ml,{keyPath:"targetId"}).createIndex(ex,$O,{unique:!0}),n.createObjectStore(Za)}const Rr="IndexedDbPersistence",Ay=18e5,wy=5e3,Iy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",V4="main";class Pv{constructor(t,e,i,a,l,u,h,d,p,y,v=18){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Ci=l,this.window=u,this.document=h,this.Fi=p,this.Mi=y,this.xi=v,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=E=>Promise.resolve(),!Pv.v())throw new ut(J.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _4(this,a),this.Ki=e+V4,this.serializer=new sR(d),this.qi=new Hr(this.Ki,this.xi,new D4(this.serializer)),this.ci=new o4,this.li=new p4(this.referenceDelegate,this.serializer),this.remoteDocumentCache=yR(this.serializer),this.Pi=new a4,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,y===!1&&Re(Rr,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ut(J.FAILED_PRECONDITION,Iy);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.li.getHighestSequenceNumber(t)))})).then((t=>{this.ai=new Vn(t,this.Fi)})).then((()=>{this.ui=!0})).catch((t=>(this.qi&&this.qi.close(),Promise.reject(t))))}zi(t){return this.ki=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.qi.q((async e=>{e.newVersion===null&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>_d(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(t).next((e=>{e||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(t))).next((e=>this.isPrimary&&!e?this.Ji(t).next((()=>!1)):!!e&&this.Zi(t).next((()=>!0)))))).catch((t=>{if(na(t))return at(Rr,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return at(Rr,"Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.Ci.enqueueRetryable((()=>this.ki(t))),this.isPrimary=t}))}ji(t){return vc(t).get(rl).next((e=>F.resolve(this.Xi(e))))}Yi(t){return _d(t).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,Ay)){this.Li=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const i=Qe(e,Pl);return i.H().next((a=>{const l=this.ns(a,Ay),u=a.filter((h=>l.indexOf(h)===-1));return F.forEach(u,(h=>i.delete(h.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ui)for(const e of t)this.Ui.removeItem(this.rs(e.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(t){return!!t&&t.ownerId===this.clientId}Hi(t){return this.Mi?F.resolve(!0):vc(t).get(rl).next((e=>{if(e!==null&&this.ts(e.leaseTimestampMs,wy)&&!this.ss(e.ownerId)){if(this.Xi(e)&&this.networkEnabled)return!0;if(!this.Xi(e)){if(!e.allowTabSynchronization)throw new ut(J.FAILED_PRECONDITION,Iy);return!1}}return!(!this.networkEnabled||!this.inForeground)||_d(t).H().next((i=>this.ns(i,wy).find((a=>{if(this.clientId!==a.clientId){const l=!this.networkEnabled&&a.networkEnabled,u=!this.inForeground&&a.inForeground,h=this.networkEnabled===a.networkEnabled;if(l||u&&h)return!0}return!1}))===void 0))})).next((e=>(this.isPrimary!==e&&at(Rr,`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[Th,Pl],(t=>{const e=new o_(t,Vn.ce);return this.Ji(e).next((()=>this.Yi(e)))})),this.qi.close(),this.ls()}ns(t,e){return t.filter((i=>this.ts(i.updateTimeMs,e)&&!this.ss(i.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(t=>_d(t).H().next((e=>this.ns(e,Ay).map((i=>i.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(t,e){return Gm.wt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new m4(t,this.serializer.yt.databaseId)}getDocumentOverlayCache(t){return Hm.wt(this.serializer,t)}getBundleCache(){return this.Pi}runTransaction(t,e,i){at(Rr,"Starting transaction:",t);const a=e==="readonly"?"readonly":"readwrite",l=(function(d){return d===18?fk:d===17?lx:d===16?hk:d===15?yv:d===14?ox:d===13?ax:d===12?ck:d===11?rx:void mt(60245)})(this.xi);let u;return this.qi.runTransaction(t,a,l,(h=>(u=new o_(h,this.ai?this.ai.next():Vn.ce),e==="readwrite-primary"?this.ji(u).next((d=>!!d||this.Hi(u))).next((d=>{if(!d)throw Re(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new ut(J.FAILED_PRECONDITION,QI);return i(u)})).next((d=>this.Zi(u).next((()=>d)))):this.Ps(u).next((()=>i(u)))))).then((h=>(u.raiseOnCommittedEvent(),h)))}Ps(t){return vc(t).get(rl).next((e=>{if(e!==null&&this.ts(e.leaseTimestampMs,wy)&&!this.ss(e.ownerId)&&!this.Xi(e)&&!(this.Mi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ut(J.FAILED_PRECONDITION,Iy)}))}Zi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vc(t).put(rl,e)}static v(){return Hr.v()}Ji(t){const e=vc(t);return e.get(rl).next((i=>this.Xi(i)?(at(Rr,"Releasing primary lease."),e.delete(rl)):F.resolve()))}ts(t,e){const i=Date.now();return!(t<i-e)&&(!(t>i)||(Re(`Detected an update time that is in the future: ${t} > ${i}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const t=/(?:Version|Mobile)\/1[456]/;Ww()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(t){try{const e=this.Ui?.getItem(this.rs(t))!==null;return at(Rr,`Client '${t}' ${e?"is":"is not"} zombied in LocalStorage`),e}catch(e){return Re(Rr,"Failed to get zombied client id.",e),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(t){Re("Failed to set zombie client id.",t)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function vc(n){return Qe(n,Th)}function _d(n){return Qe(n,Pl)}function vR(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class Ov{constructor(t,e,i,a){this.targetId=t,this.fromCache=e,this.Ts=i,this.Is=a}static Es(t,e){let i=Pt(),a=Pt();for(const l of e.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Ov(t,e.fromCache,i,a)}}class M4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class TR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Ww()?8:WI(Ye())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,a){const l={result:null};return this.gs(t,e).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(t,e,a,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new M4;return this.ys(t,e,u).next((h=>{if(l.result=h,this.As)return this.ws(t,e,u,h.size)}))})).next((()=>l.result))}ws(t,e,i,a){return i.documentReadCount<this.Vs?(hl()<=jt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",fl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),F.resolve()):(hl()<=jt.DEBUG&&at("QueryEngine","Query:",fl(e),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(hl()<=jt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",fl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Kn(e))):F.resolve())}gs(t,e){if(bA(e))return F.resolve(null);let i=Kn(e);return this.indexManager.getIndexType(t,i).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=om(e,null,"F"),i=Kn(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((l=>{const u=Pt(...l);return this.fs.getDocuments(t,u).next((h=>this.indexManager.getMinOffset(t,i).next((d=>{const p=this.bs(e,h);return this.Ss(e,p,u,d.readTime)?this.gs(t,om(e,null,"F")):this.Ds(t,p,e,d)}))))})))))}ps(t,e,i,a){return bA(e)||a.isEqual(Et.min())?F.resolve(null):this.fs.getDocuments(t,i).next((l=>{const u=this.bs(e,l);return this.Ss(e,u,i,a)?F.resolve(null):(hl()<=jt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),fl(e)),this.Ds(t,u,e,$I(a,Dl)).next((h=>h)))}))}bs(t,e){let i=new ne(Dx(t));return e.forEach(((a,l)=>{Sh(t,l)&&(i=i.add(l))})),i}Ss(t,e,i,a){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(t,e,i){return hl()<=jt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",fl(e)),this.fs.getDocumentsMatchingQuery(t,e,$n.min(),i)}Ds(t,e,i,a){return this.fs.getDocumentsMatchingQuery(t,i,a).next((l=>(e.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const kv="LocalStore",N4=3e8;class P4{constructor(t,e,i,a){this.persistence=t,this.Cs=e,this.serializer=a,this.vs=new le(It),this.Fs=new qs((l=>oo(l)),Eh),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(i)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new _R(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function ER(n,t,e,i){return new P4(n,t,e,i)}async function bR(n,t){const e=_t(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return e.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,e.Os(t),e.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],h=[];let d=Pt();for(const p of a){u.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}return e.localDocuments.getDocuments(i,d).next((p=>({Ns:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function O4(n,t){const e=_t(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=t.batch.keys(),l=e.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,p,y){const v=p.batch,E=v.keys();let I=F.resolve();return E.forEach((N=>{I=I.next((()=>y.getEntry(d,N))).next((B=>{const U=p.docVersions.get(N);vt(U!==null,48541),B.version.compareTo(U)<0&&(v.applyToRemoteDocument(B,p),B.isValidDocument()&&(B.setReadTime(p.commitVersion),y.addEntry(B)))}))})),I.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(e,i,t,l).next((()=>l.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let d=Pt();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d})(t)))).next((()=>e.localDocuments.getDocuments(i,a)))}))}function SR(n){const t=_t(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function k4(n,t){const e=_t(n),i=t.snapshotVersion;let a=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=e.xs.newChangeBuffer({trackRemovals:!0});a=e.vs;const h=[];t.targetChanges.forEach(((y,v)=>{const E=a.get(v);if(!E)return;h.push(e.li.removeMatchingKeys(l,y.removedDocuments,v).next((()=>e.li.addMatchingKeys(l,y.addedDocuments,v))));let I=E.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(v)!==null?I=I.withResumeToken(Ce.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):y.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(y.resumeToken,i)),a=a.insert(v,I),(function(B,U,K){return B.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=N4?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(E,I,y)&&h.push(e.li.updateTargetData(l,I))}));let d=Gn(),p=Pt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(L4(l,u,t.documentUpdates).next((y=>{d=y.Bs,p=y.Ls}))),!i.isEqual(Et.min())){const y=e.li.getLastRemoteSnapshotVersion(l).next((v=>e.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));h.push(y)}return F.waitFor(h).next((()=>u.apply(l))).next((()=>e.localDocuments.getLocalViewOfDocuments(l,d,p))).next((()=>d))})).then((l=>(e.vs=a,l)))}function L4(n,t,e){let i=Pt(),a=Pt();return e.forEach((l=>i=i.add(l))),t.getEntries(n,i).next((l=>{let u=Gn();return e.forEach(((h,d)=>{const p=l.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Et.min())?(t.removeEntry(h,d.readTime),u=u.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(d),u=u.insert(h,d)):at(kv,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)})),{Bs:u,Ls:a}}))}function U4(n,t){const e=_t(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=Ja),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function fm(n,t){const e=_t(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return e.li.getTargetData(i,t).next((l=>l?(a=l,F.resolve(a)):e.li.allocateTargetId(i).next((u=>(a=new Ms(t,u,"TargetPurposeListen",i.currentSequenceNumber),e.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=e.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.vs=e.vs.insert(i.targetId,i),e.Fs.set(t,i.targetId)),i}))}async function ql(n,t,e){const i=_t(n),a=i.vs.get(t),l=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!na(u))throw u;at(kv,`Failed to update sequence numbers for target ${t}: ${u}`)}i.vs=i.vs.remove(t),i.Fs.delete(a.target)}function E_(n,t,e){const i=_t(n);let a=Et.min(),l=Pt();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,p,y){const v=_t(d),E=v.Fs.get(y);return E!==void 0?F.resolve(v.vs.get(E)):v.li.getTargetData(p,y)})(i,u,Kn(t)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(u,h.targetId).next((d=>{l=d}))})).next((()=>i.Cs.getDocumentsMatchingQuery(u,t,e?a:Et.min(),e?l:Pt()))).next((h=>(IR(i,Cx(t),h),{documents:h,ks:l})))))}function AR(n,t){const e=_t(n),i=_t(e.li),a=e.vs.get(t);return a?Promise.resolve(a.target):e.persistence.runTransaction("Get target data","readonly",(l=>i.At(l,t).next((u=>u?u.target:null))))}function wR(n,t){const e=_t(n),i=e.Ms.get(t)||Et.min();return e.persistence.runTransaction("Get new document changes","readonly",(a=>e.xs.getAllFromCollectionGroup(a,t,$I(i,Dl),Number.MAX_SAFE_INTEGER))).then((a=>(IR(e,t,a),a)))}function IR(n,t,e){let i=n.Ms.get(t)||Et.min();e.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Ms.set(t,i)}const xR="firestore_clients";function ZA(n,t){return`${xR}_${n}_${t}`}const RR="firestore_mutations";function t1(n,t,e){let i=`${RR}_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}const CR="firestore_targets";function xy(n,t){return`${CR}_${n}_${t}`}const Ji="SharedClientState";class dm{constructor(t,e,i,a){this.user=t,this.batchId=e,this.state=i,this.error=a}static $s(t,e,i){const a=JSON.parse(i);let l,u=typeof a=="object"&&["pending","acknowledged","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return u&&a.error&&(u=typeof a.error.message=="string"&&typeof a.error.code=="string",u&&(l=new ut(a.error.code,a.error.message))),u?new dm(t,e,a.state,l):(Re(Ji,`Failed to parse mutation state for ID '${e}': ${i}`),null)}Ws(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Uc{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static $s(t,e){const i=JSON.parse(e);let a,l=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(a=new ut(i.error.code,i.error.message))),l?new Uc(t,i.state,a):(Re(Ji,`Failed to parse target state for ID '${t}': ${e}`),null)}Ws(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class mm{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static $s(t,e){const i=JSON.parse(e);let a=typeof i=="object"&&i.activeTargetIds instanceof Array,l=bv();for(let u=0;a&&u<i.activeTargetIds.length;++u)a=JI(i.activeTargetIds[u]),l=l.add(i.activeTargetIds[u]);return a?new mm(t,l):(Re(Ji,`Failed to parse client data for instance '${t}': ${e}`),null)}}class Lv{constructor(t,e){this.clientId=t,this.onlineState=e}static $s(t){const e=JSON.parse(t);return typeof e=="object"&&["Unknown","Online","Offline"].indexOf(e.onlineState)!==-1&&typeof e.clientId=="string"?new Lv(e.clientId,e.onlineState):(Re(Ji,`Failed to parse online state: ${t}`),null)}}class b_{constructor(){this.activeTargetIds=bv()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Ry{constructor(t,e,i,a,l){this.window=t,this.Ci=e,this.persistenceKey=i,this.zs=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new le(It),this.started=!1,this.Zs=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Xs=ZA(this.persistenceKey,this.zs),this.Ys=(function(d){return`firestore_sequence_number_${d}`})(this.persistenceKey),this.Js=this.Js.insert(this.zs,new b_),this.eo=new RegExp(`^${xR}_${u}_([^_]*)$`),this.no=new RegExp(`^${RR}_${u}_(\\d+)(?:_(.*))?$`),this.ro=new RegExp(`^${CR}_${u}_(\\d+)$`),this.io=(function(d){return`firestore_online_state_${d}`})(this.persistenceKey),this.so=(function(d){return`firestore_bundle_loaded_v2_${d}`})(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(t){return!(!t||!t.localStorage)}async start(){const t=await this.syncEngine.hs();for(const i of t){if(i===this.zs)continue;const a=this.getItem(ZA(this.persistenceKey,i));if(a){const l=mm.$s(i,a);l&&(this.Js=this.Js.insert(l.clientId,l))}}this.oo();const e=this.storage.getItem(this.io);if(e){const i=this._o(e);i&&this.ao(i)}for(const i of this.Zs)this.Hs(i);this.Zs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(t){this.setItem(this.Ys,JSON.stringify(t))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(t){let e=!1;return this.Js.forEach(((i,a)=>{a.activeTargetIds.has(t)&&(e=!0)})),e}addPendingMutation(t){this.co(t,"pending")}updateMutationState(t,e,i){this.co(t,e,i),this.lo(t)}addLocalQueryTarget(t,e=!0){let i="not-current";if(this.isActiveQueryTarget(t)){const a=this.storage.getItem(xy(this.persistenceKey,t));if(a){const l=Uc.$s(t,a);l&&(i=l.state)}}return e&&this.ho.Qs(t),this.oo(),i}removeLocalQueryTarget(t){this.ho.Gs(t),this.oo()}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(xy(this.persistenceKey,t))}updateQueryState(t,e,i){this.Po(t,e,i)}handleUserChange(t,e,i){e.forEach((a=>{this.lo(a)})),this.currentUser=t,i.forEach((a=>{this.addPendingMutation(a)}))}setOnlineState(t){this.To(t)}notifyBundleLoaded(t){this.Io(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return at(Ji,"READ",t,e),e}setItem(t,e){at(Ji,"SET",t,e),this.storage.setItem(t,e)}removeItem(t){at(Ji,"REMOVE",t),this.storage.removeItem(t)}Hs(t){const e=t;if(e.storageArea===this.storage){if(at(Ji,"EVENT",e.key,e.newValue),e.key===this.Xs)return void Re("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable((async()=>{if(this.started){if(e.key!==null){if(this.eo.test(e.key)){if(e.newValue==null){const i=this.Eo(e.key);return this.Ro(i,null)}{const i=this.Ao(e.key,e.newValue);if(i)return this.Ro(i.clientId,i)}}else if(this.no.test(e.key)){if(e.newValue!==null){const i=this.Vo(e.key,e.newValue);if(i)return this.mo(i)}}else if(this.ro.test(e.key)){if(e.newValue!==null){const i=this.fo(e.key,e.newValue);if(i)return this.po(i)}}else if(e.key===this.io){if(e.newValue!==null){const i=this._o(e.newValue);if(i)return this.ao(i)}}else if(e.key===this.Ys){const i=(function(l){let u=Vn.ce;if(l!=null)try{const h=JSON.parse(l);vt(typeof h=="number",30636,{yo:l}),u=h}catch(h){Re(Ji,"Failed to read sequence number from WebStorage",h)}return u})(e.newValue);i!==Vn.ce&&this.sequenceNumberHandler(i)}else if(e.key===this.so){const i=this.wo(e.newValue);await Promise.all(i.map((a=>this.syncEngine.bo(a))))}}}else this.Zs.push(e)}))}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(t,e,i){const a=new dm(this.currentUser,t,e,i),l=t1(this.persistenceKey,this.currentUser,t);this.setItem(l,a.Ws())}lo(t){const e=t1(this.persistenceKey,this.currentUser,t);this.removeItem(e)}To(t){const e={clientId:this.zs,onlineState:t};this.storage.setItem(this.io,JSON.stringify(e))}Po(t,e,i){const a=xy(this.persistenceKey,t),l=new Uc(t,e,i);this.setItem(a,l.Ws())}Io(t){const e=JSON.stringify(Array.from(t));this.setItem(this.so,e)}Eo(t){const e=this.eo.exec(t);return e?e[1]:null}Ao(t,e){const i=this.Eo(t);return mm.$s(i,e)}Vo(t,e){const i=this.no.exec(t),a=Number(i[1]),l=i[2]!==void 0?i[2]:null;return dm.$s(new dn(l),a,e)}fo(t,e){const i=this.ro.exec(t),a=Number(i[1]);return Uc.$s(a,e)}_o(t){return Lv.$s(t)}wo(t){return JSON.parse(t)}async mo(t){if(t.user.uid===this.currentUser.uid)return this.syncEngine.So(t.batchId,t.state,t.error);at(Ji,`Ignoring mutation for non-active user ${t.user.uid}`)}po(t){return this.syncEngine.Do(t.targetId,t.state,t.error)}Ro(t,e){const i=e?this.Js.insert(t,e):this.Js.remove(t),a=this.uo(this.Js),l=this.uo(i),u=[],h=[];return l.forEach((d=>{a.has(d)||u.push(d)})),a.forEach((d=>{l.has(d)||h.push(d)})),this.syncEngine.Co(u,h).then((()=>{this.Js=i}))}ao(t){this.Js.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}uo(t){let e=bv();return t.forEach(((i,a)=>{e=e.unionWith(a.activeTargetIds)})),e}}class DR{constructor(){this.vo=new b_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,i){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new b_,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class B4{Mo(t){}shutdown(){}}const e1="ConnectivityMonitor";class n1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(e1,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){at(e1,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let vd=null;function S_(){return vd===null?vd=(function(){return 268435456+Math.round(2147483648*Math.random())})():vd++,"0x"+vd.toString(16)}const Cy="RestConnection",z4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class j4{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===sm?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(t,e,i,a,l){const u=S_(),h=this.Qo(t,e.toUriEncodedString());at(Cy,`Sending RPC '${t}' ${u}:`,h,i);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,a,l);const{host:p}=new URL(h),y=Ql(p);return this.zo(t,h,d,i,y).then((v=>(at(Cy,`Received RPC '${t}' ${u}: `,v),v)),(v=>{throw Kc(Cy,`RPC '${t}' ${u} failed with error: `,v,"url: ",h,"request:",i),v}))}jo(t,e,i,a,l,u){return this.Wo(t,e,i,a,l)}Go(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Jl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,l)=>t[l]=a)),i&&i.headers.forEach(((a,l)=>t[l]=a))}Qo(t,e){const i=z4[t];let a=`${this.qo}/v1/${e}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class F4{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const fn="WebChannelConnection",Tc=(n,t,e)=>{n.listen(t,(i=>{try{e(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class wl extends j4{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!wl.c_){const t=jI();Tc(t,zI.STAT_EVENT,(e=>{e.stat===e_.PROXY?at(fn,"STAT_EVENT: detected buffering proxy"):e.stat===e_.NOPROXY&&at(fn,"STAT_EVENT: detected no buffering proxy")})),wl.c_=!0}}zo(t,e,i,a,l){const u=S_();return new Promise(((h,d)=>{const p=new UI;p.setWithCredentials(!0),p.listenOnce(BI.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Cd.NO_ERROR:const v=p.getResponseJson();at(fn,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(v)),h(v);break;case Cd.TIMEOUT:at(fn,`RPC '${t}' ${u} timed out`),d(new ut(J.DEADLINE_EXCEEDED,"Request time out"));break;case Cd.HTTP_ERROR:const E=p.getStatus();if(at(fn,`RPC '${t}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const N=I?.error;if(N&&N.status&&N.message){const B=(function(K){const Z=K.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Z)>=0?Z:J.UNKNOWN})(N.status);d(new ut(B,N.message))}else d(new ut(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ut(J.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{at(fn,`RPC '${t}' ${u} completed.`)}}));const y=JSON.stringify(a);at(fn,`RPC '${t}' ${u} sending request:`,a),p.send(e,"POST",y,i,15)}))}T_(t,e,i){const a=S_(),l=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const p=l.join("");at(fn,`Creating RPC '${t}' stream ${a}: ${p}`,h);const y=u.createWebChannel(p,h);this.I_(y);let v=!1,E=!1;const I=new F4({Ho:N=>{E?at(fn,`Not sending because RPC '${t}' stream ${a} is closed:`,N):(v||(at(fn,`Opening RPC '${t}' stream ${a} transport.`),y.open(),v=!0),at(fn,`RPC '${t}' stream ${a} sending:`,N),y.send(N))},Jo:()=>y.close()});return Tc(y,bc.EventType.OPEN,(()=>{E||(at(fn,`RPC '${t}' stream ${a} transport opened.`),I.i_())})),Tc(y,bc.EventType.CLOSE,(()=>{E||(E=!0,at(fn,`RPC '${t}' stream ${a} transport closed`),I.o_(),this.E_(y))})),Tc(y,bc.EventType.ERROR,(N=>{E||(E=!0,Kc(fn,`RPC '${t}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),I.o_(new ut(J.UNAVAILABLE,"The operation could not be completed")))})),Tc(y,bc.EventType.MESSAGE,(N=>{if(!E){const B=N.data[0];vt(!!B,16349);const U=B,K=U?.error||U[0]?.error;if(K){at(fn,`RPC '${t}' stream ${a} received error:`,K);const Z=K.status;let j=(function(lt){const x=Be[lt];if(x!==void 0)return qx(x)})(Z),Y=K.message;j===void 0&&(j=J.INTERNAL,Y="Unknown error status: "+Z+" with message "+K.message),E=!0,I.o_(new ut(j,Y)),y.close()}else at(fn,`RPC '${t}' stream ${a} received:`,B),I.__(B)}})),wl.u_(),setTimeout((()=>{I.s_()}),0),I}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,i){super.Go(t,e,i),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return FI()}}function q4(n){return new wl(n)}function VR(){return typeof window<"u"?window:null}function Bd(){return typeof document<"u"?document:null}function $m(n){return new Yk(n,!0)}wl.c_=!1;class Uv{constructor(t,e,i=1e3,a=1.5,l=6e4){this.Ci=t,this.timerId=e,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-i);a>0&&at("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const i1="PersistentStream";class MR{constructor(t,e,i,a,l,u,h,d){this.Ci=t,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Uv(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===J.RESOURCE_EXHAUSTED?(Re(e.toString()),Re("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===e&&this.G_(i,a)}),(i=>{t((()=>{const a=new ut(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(t,e){const i=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(i1,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(at(i1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class H4 extends MR{constructor(t,e,i,a,l,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,a,u),this.serializer=l}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=Jk(this.serializer,t),i=(function(l){if(!("targetChange"in l))return Et.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Et.min():u.readTime?tn(u.readTime):Et.min()})(t);return this.listener.J_(e,i)}Z_(t){const e={};e.database=g_(this.serializer),e.addTarget=(function(l,u){let h;const d=u.target;if(h=rm(d)?{documents:Wx(l,d)}:{query:Jx(l,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=Kx(l,u.resumeToken);const p=m_(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Et.min())>0){h.readTime=Fl(l,u.snapshotVersion.toTimestamp());const p=m_(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,t);const i=t4(this.serializer,t);i&&(e.labels=i),this.K_(e)}X_(t){const e={};e.database=g_(this.serializer),e.removeTarget=t,this.K_(e)}}class G4 extends MR{constructor(t,e,i,a,l,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return vt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,vt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){vt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=Zk(t.writeResults,t.commitTime),i=tn(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=g_(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>rh(this.serializer,i)))};this.K_(e)}}class K4{}class $4 extends K4{constructor(t,e,i,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(t,p_(e,i),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ut(J.UNKNOWN,l.toString())}))}jo(t,e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.jo(t,p_(e,i),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ut(J.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Y4(n,t,e,i){return new $4(n,t,e,i)}class Q4{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Re(e),this.aa=!1):at("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ho="RemoteStore";class X4{constructor(t,e,i,a,l){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{i.enqueueAndForget((async()=>{mo(this)&&(at(ho,"Restarting streams for network reachability change."),await(async function(d){const p=_t(d);p.Ea.add(4),await xh(p),p.Va.set("Unknown"),p.Ea.delete(4),await Ym(p)})(this))}))})),this.Va=new Q4(i,a)}}async function Ym(n){if(mo(n))for(const t of n.Ra)await t(!0)}async function xh(n){for(const t of n.Ra)await t(!1)}function Qm(n,t){const e=_t(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),jv(e)?zv(e):nu(e).O_()&&Bv(e,t))}function Hl(n,t){const e=_t(n),i=nu(e);e.Ia.delete(t),i.O_()&&NR(e,t),e.Ia.size===0&&(i.O_()?i.L_():mo(e)&&e.Va.set("Unknown"))}function Bv(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}nu(n).Z_(t)}function NR(n,t){n.da.$e(t),nu(n).X_(t)}function zv(n){n.da=new Hk({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),nu(n).start(),n.Va.ua()}function jv(n){return mo(n)&&!nu(n).x_()&&n.Ia.size>0}function mo(n){return _t(n).Ea.size===0}function PR(n){n.da=void 0}async function W4(n){n.Va.set("Online")}async function J4(n){n.Ia.forEach(((t,e)=>{Bv(n,t)}))}async function Z4(n,t){PR(n),jv(n)?(n.Va.ha(t),zv(n)):n.Va.set("Unknown")}async function t5(n,t,e){if(n.Va.set("Online"),t instanceof Gx&&t.state===2&&t.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.da.removeTarget(h))})(n,t)}catch(i){at(ho,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await pm(n,i)}else if(t instanceof Ld?n.da.Xe(t):t instanceof Hx?n.da.st(t):n.da.tt(t),!e.isEqual(Et.min()))try{const i=await SR(n.localStore);e.compareTo(i)>=0&&await(function(l,u){const h=l.da.Tt(u);return h.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,p)=>{const y=l.Ia.get(d);if(!y)return;l.Ia.set(d,y.withResumeToken(Ce.EMPTY_BYTE_STRING,y.snapshotVersion)),NR(l,d);const v=new Ms(y.target,d,p,y.sequenceNumber);Bv(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){at(ho,"Failed to raise snapshot:",i),await pm(n,i)}}async function pm(n,t,e){if(!na(t))throw t;n.Ea.add(1),await xh(n),n.Va.set("Offline"),e||(e=()=>SR(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{at(ho,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Ym(n)}))}function OR(n,t){return t().catch((e=>pm(n,e,t)))}async function eu(n){const t=_t(n),e=Xr(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ja;for(;e5(t);)try{const a=await U4(t.localStore,i);if(a===null){t.Ta.length===0&&e.L_();break}i=a.batchId,n5(t,a)}catch(a){await pm(t,a)}kR(t)&&LR(t)}function e5(n){return mo(n)&&n.Ta.length<10}function n5(n,t){n.Ta.push(t);const e=Xr(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function kR(n){return mo(n)&&!Xr(n).x_()&&n.Ta.length>0}function LR(n){Xr(n).start()}async function i5(n){Xr(n).ra()}async function s5(n){const t=Xr(n);for(const e of n.Ta)t.ea(e.mutations)}async function r5(n,t,e){const i=n.Ta.shift(),a=Iv.from(i,t,e);await OR(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await eu(n)}async function a5(n,t){t&&Xr(n).Y_&&await(async function(i,a){if((function(u){return Fx(u)&&u!==J.ABORTED})(a.code)){const l=i.Ta.shift();Xr(i).B_(),await OR(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await eu(i)}})(n,t),kR(n)&&LR(n)}async function s1(n,t){const e=_t(n);e.asyncQueue.verifyOperationInProgress(),at(ho,"RemoteStore received new credentials");const i=mo(e);e.Ea.add(3),await xh(e),i&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Ym(e)}async function A_(n,t){const e=_t(n);t?(e.Ea.delete(2),await Ym(e)):t||(e.Ea.add(2),await xh(e),e.Va.set("Unknown"))}function nu(n){return n.ma||(n.ma=(function(e,i,a){const l=_t(e);return l.sa(),new H4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:W4.bind(null,n),Yo:J4.bind(null,n),t_:Z4.bind(null,n),J_:t5.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),jv(n)?zv(n):n.Va.set("Unknown")):(await n.ma.stop(),PR(n))}))),n.ma}function Xr(n){return n.fa||(n.fa=(function(e,i,a){const l=_t(e);return l.sa(),new G4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:i5.bind(null,n),t_:a5.bind(null,n),ta:s5.bind(null,n),na:r5.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await eu(n)):(await n.fa.stop(),n.Ta.length>0&&(at(ho,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Fv{constructor(t,e,i,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,a,l){const u=Date.now()+i,h=new Fv(t,e,u,a,l);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qv(n,t){if(Re("AsyncQueue",`${t}: ${n}`),na(n))return new ut(J.UNAVAILABLE,`${t}: ${n}`);throw n}class Il{static emptySet(t){return new Il(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||ht.comparator(e.key,i.key):(e,i)=>ht.comparator(e.key,i.key),this.keyedMap=Sc(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Il)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Il;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class r1{constructor(){this.ga=new le(ht.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):mt(63341,{Vt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class Gl{constructor(t,e,i,a,l,u,h,d,p){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(t,e,i,a,l){const u=[];return e.forEach((h=>{u.push({type:0,doc:h})})),new Gl(t,e,Il.emptySet(e),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&jm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==i[a].type||!e[a].doc.isEqual(i[a].doc))return!1;return!0}}class o5{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class l5{constructor(){this.queries=a1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const a=_t(e),l=a.queries;a.queries=a1(),l.forEach(((u,h)=>{for(const d of h.ba)d.onError(i)}))})(this,new ut(J.ABORTED,"Firestore shutting down"))}}function a1(){return new qs((n=>Rx(n)),jm)}async function Hv(n,t){const e=_t(n);let i=3;const a=t.query;let l=e.queries.get(a);l?!l.Sa()&&t.Da()&&(i=2):(l=new o5,i=t.Da()?0:1);try{switch(i){case 0:l.wa=await e.onListen(a,!0);break;case 1:l.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(u){const h=qv(u,`Initialization of query '${fl(t.query)}' failed`);return void t.onError(h)}e.queries.set(a,l),l.ba.push(t),t.va(e.onlineState),l.wa&&t.Fa(l.wa)&&Kv(e)}async function Gv(n,t){const e=_t(n),i=t.query;let a=3;const l=e.queries.get(i);if(l){const u=l.ba.indexOf(t);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=t.Da()?0:1:!l.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function u5(n,t){const e=_t(n);let i=!1;for(const a of t){const l=a.query,u=e.queries.get(l);if(u){for(const h of u.ba)h.Fa(a)&&(i=!0);u.wa=a}}i&&Kv(e)}function c5(n,t,e){const i=_t(n),a=i.queries.get(t);if(a)for(const l of a.ba)l.onError(e);i.queries.delete(t)}function Kv(n){n.Ca.forEach((t=>{t.next()}))}var w_,o1;(o1=w_||(w_={})).Ma="default",o1.Cache="cache";class $v{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new Gl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.Ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Gl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==w_.Cache}}class UR{constructor(t){this.key=t}}class BR{constructor(t){this.key=t}}class h5{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pt(),this.mutatedKeys=Pt(),this.eu=Dx(t),this.tu=new Il(this.eu)}get nu(){return this.Za}ru(t,e){const i=e?e.iu:new r1,a=e?e.tu:this.tu;let l=e?e.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,v)=>{const E=a.get(y),I=Sh(this.query,v)?v:null,N=!!E&&this.mutatedKeys.has(E.key),B=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let U=!1;E&&I?E.data.isEqual(I.data)?N!==B&&(i.track({type:3,doc:I}),U=!0):this.su(E,I)||(i.track({type:2,doc:I}),U=!0,(d&&this.eu(I,d)>0||p&&this.eu(I,p)<0)&&(h=!0)):!E&&I?(i.track({type:0,doc:I}),U=!0):E&&!I&&(i.track({type:1,doc:E}),U=!0,(d||p)&&(h=!0)),U&&(I?(u=u.add(I),l=B?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Ss:h,mutatedKeys:l}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const u=t.iu.ya();u.sort(((y,v)=>(function(I,N){const B=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Vt:U})}};return B(I)-B(N)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(i),a=a??!1;const h=e&&!a?this._u():[],d=this.Ya.size===0&&this.current&&!a?1:0,p=d!==this.Xa;return this.Xa=d,u.length!==0||p?{snapshot:new Gl(this.query,t.tu,l,u,t.mutatedKeys,d===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new r1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Pt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const e=[];return t.forEach((i=>{this.Ya.has(i)||e.push(new BR(i))})),this.Ya.forEach((i=>{t.has(i)||e.push(new UR(i))})),e}cu(t){this.Za=t.ks,this.Ya=Pt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Gl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const iu="SyncEngine";class f5{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class d5{constructor(t){this.key=t,this.hu=!1}}class m5{constructor(t,e,i,a,l,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new qs((h=>Rx(h)),jm),this.Iu=new Map,this.Eu=new Set,this.Ru=new le(ht.comparator),this.Au=new Map,this.Vu=new Mv,this.du={},this.mu=new Map,this.fu=co.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function p5(n,t,e=!0){const i=Xm(n);let a;const l=i.Tu.get(t);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await zR(i,t,e,!0),a}async function g5(n,t){const e=Xm(n);await zR(e,t,!0,!1)}async function zR(n,t,e,i){const a=await fm(n.localStore,Kn(t)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,e);let h;return i&&(h=await Yv(n,t,l,u==="current",a.resumeToken)),n.isPrimaryClient&&e&&Qm(n.remoteStore,a),h}async function Yv(n,t,e,i,a){n.pu=(v,E,I)=>(async function(B,U,K,Z){let j=U.view.ru(K);j.Ss&&(j=await E_(B.localStore,U.query,!1).then((({documents:x})=>U.view.ru(x,j))));const Y=Z&&Z.targetChanges.get(U.targetId),rt=Z&&Z.targetMismatches.get(U.targetId)!=null,lt=U.view.applyChanges(j,B.isPrimaryClient,Y,rt);return I_(B,U.targetId,lt.au),lt.snapshot})(n,v,E,I);const l=await E_(n.localStore,t,!0),u=new h5(t,l.ks),h=u.ru(l.documents),d=Ih.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",a),p=u.applyChanges(h,n.isPrimaryClient,d);I_(n,e,p.au);const y=new f5(t,e,u);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),p.snapshot}async function y5(n,t,e){const i=_t(n),a=i.Tu.get(t),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((u=>!jm(u,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await ql(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),e&&Hl(i.remoteStore,a.targetId),Kl(i,a.targetId)})).catch(ea)):(Kl(i,a.targetId),await ql(i.localStore,a.targetId,!0))}async function _5(n,t){const e=_t(n),i=e.Tu.get(t),a=e.Iu.get(i.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),Hl(e.remoteStore,i.targetId))}async function v5(n,t,e){const i=Jv(n);try{const a=await(function(u,h){const d=_t(u),p=te.now(),y=h.reduce(((I,N)=>I.add(N.key)),Pt());let v,E;return d.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let N=Gn(),B=Pt();return d.xs.getEntries(I,y).next((U=>{N=U,N.forEach(((K,Z)=>{Z.isValidDocument()||(B=B.add(K))}))})).next((()=>d.localDocuments.getOverlayedDocuments(I,N))).next((U=>{v=U;const K=[];for(const Z of h){const j=zk(Z,v.get(Z.key).overlayedDocument);j!=null&&K.push(new Hs(Z.key,j,_x(j.value.mapValue),_e.exists(!0)))}return d.mutationQueue.addMutationBatch(I,p,K,h)})).next((U=>{E=U;const K=U.applyToLocalDocumentSet(v,B);return d.documentOverlayCache.saveOverlays(I,U.batchId,K)}))})).then((()=>({batchId:E.batchId,changes:Mx(v)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),(function(u,h,d){let p=u.du[u.currentUser.toKey()];p||(p=new le(It)),p=p.insert(h,d),u.du[u.currentUser.toKey()]=p})(i,a.batchId,e),await sa(i,a.changes),await eu(i.remoteStore)}catch(a){const l=qv(a,"Failed to persist write");e.reject(l)}}async function jR(n,t){const e=_t(n);try{const i=await k4(e.localStore,t);t.targetChanges.forEach(((a,l)=>{const u=e.Au.get(l);u&&(vt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?vt(u.hu,14607):a.removedDocuments.size>0&&(vt(u.hu,42227),u.hu=!1))})),await sa(e,i,t)}catch(i){await ea(i)}}function l1(n,t,e){const i=_t(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const a=[];i.Tu.forEach(((l,u)=>{const h=u.view.va(t);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const d=_t(u);d.onlineState=h;let p=!1;d.queries.forEach(((y,v)=>{for(const E of v.ba)E.va(h)&&(p=!0)})),p&&Kv(d)})(i.eventManager,t),a.length&&i.Pu.J_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function T5(n,t,e){const i=_t(n);i.sharedClientState.updateQueryState(t,"rejected",e);const a=i.Au.get(t),l=a&&a.key;if(l){let u=new le(ht.comparator);u=u.insert(l,ge.newNoDocument(l,Et.min()));const h=Pt().add(l),d=new wh(Et.min(),new Map,new le(It),u,h);await jR(i,d),i.Ru=i.Ru.remove(l),i.Au.delete(t),Wv(i)}else await ql(i.localStore,t,!1).then((()=>Kl(i,t,e))).catch(ea)}async function E5(n,t){const e=_t(n),i=t.batch.batchId;try{const a=await O4(e.localStore,t);Xv(e,i,null),Qv(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await sa(e,a)}catch(a){await ea(a)}}async function b5(n,t,e){const i=_t(n);try{const a=await(function(u,h){const d=_t(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return d.mutationQueue.lookupMutationBatch(p,h).next((v=>(vt(v!==null,37113),y=v.keys(),d.mutationQueue.removeMutationBatch(p,v)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>d.localDocuments.getDocuments(p,y)))}))})(i.localStore,t);Xv(i,t,e),Qv(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await sa(i,a)}catch(a){await ea(a)}}function Qv(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function Xv(n,t,e){const i=_t(n);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),i.du[i.currentUser.toKey()]=a}}function Kl(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((i=>{n.Vu.containsKey(i)||FR(n,i)}))}function FR(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&(Hl(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),Wv(n))}function I_(n,t,e){for(const i of e)i instanceof UR?(n.Vu.addReference(i.key,t),S5(n,i)):i instanceof BR?(at(iu,"Document no longer in limbo: "+i.key),n.Vu.removeReference(i.key,t),n.Vu.containsKey(i.key)||FR(n,i.key)):mt(19791,{wu:i})}function S5(n,t){const e=t.key,i=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(i)||(at(iu,"New document in limbo: "+e),n.Eu.add(i),Wv(n))}function Wv(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new ht(Kt.fromString(t)),i=n.fu.next();n.Au.set(i,new d5(e)),n.Ru=n.Ru.insert(e,i),Qm(n.remoteStore,new Ms(Kn(bh(e.path)),i,"TargetPurposeLimboResolution",Vn.ce))}}async function sa(n,t,e){const i=_t(n),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,d)=>{u.push(i.pu(d,t,e).then((p=>{if((p||e)&&i.isPrimaryClient){const y=p?!p.fromCache:e?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){a.push(p);const y=Ov.Es(d.targetId,p);l.push(y)}})))})),await Promise.all(u),i.Pu.J_(a),await(async function(d,p){const y=_t(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>F.forEach(p,(E=>F.forEach(E.Ts,(I=>y.persistence.referenceDelegate.addReference(v,E.targetId,I))).next((()=>F.forEach(E.Is,(I=>y.persistence.referenceDelegate.removeReference(v,E.targetId,I)))))))))}catch(v){if(!na(v))throw v;at(kv,"Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const I=y.vs.get(E),N=I.snapshotVersion,B=I.withLastLimboFreeSnapshotVersion(N);y.vs=y.vs.insert(E,B)}}})(i.localStore,l))}async function A5(n,t){const e=_t(n);if(!e.currentUser.isEqual(t)){at(iu,"User change. New user:",t.toKey());const i=await bR(e.localStore,t);e.currentUser=t,(function(l,u){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new ut(J.CANCELLED,u))}))})),l.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await sa(e,i.Ns)}}function w5(n,t){const e=_t(n),i=e.Au.get(t);if(i&&i.hu)return Pt().add(i.key);{let a=Pt();const l=e.Iu.get(t);if(!l)return a;for(const u of l){const h=e.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}async function I5(n,t){const e=_t(n),i=await E_(e.localStore,t.query,!0),a=t.view.cu(i);return e.isPrimaryClient&&I_(e,t.targetId,a.au),a}async function x5(n,t){const e=_t(n);return wR(e.localStore,t).then((i=>sa(e,i)))}async function R5(n,t,e,i){const a=_t(n),l=await(function(h,d){const p=_t(h),y=_t(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",(v=>y.Xn(v,d).next((E=>E?p.localDocuments.getDocuments(v,E):F.resolve(null)))))})(a.localStore,t);l!==null?(e==="pending"?await eu(a.remoteStore):e==="acknowledged"||e==="rejected"?(Xv(a,t,i||null),Qv(a,t),(function(h,d){_t(_t(h).mutationQueue).nr(d)})(a.localStore,t)):mt(6720,"Unknown batchState",{bu:e}),await sa(a,l)):at(iu,"Cannot apply mutation batch with id: "+t)}async function C5(n,t){const e=_t(n);if(Xm(e),Jv(e),t===!0&&e.gu!==!0){const i=e.sharedClientState.getAllActiveQueryTargets(),a=await u1(e,i.toArray());e.gu=!0,await A_(e.remoteStore,!0);for(const l of a)Qm(e.remoteStore,l)}else if(t===!1&&e.gu!==!1){const i=[];let a=Promise.resolve();e.Iu.forEach(((l,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):a=a.then((()=>(Kl(e,u),ql(e.localStore,u,!0)))),Hl(e.remoteStore,u)})),await a,await u1(e,i),(function(u){const h=_t(u);h.Au.forEach(((d,p)=>{Hl(h.remoteStore,p)})),h.Vu.zr(),h.Au=new Map,h.Ru=new le(ht.comparator)})(e),e.gu=!1,await A_(e.remoteStore,!1)}}async function u1(n,t,e){const i=_t(n),a=[],l=[];for(const u of t){let h;const d=i.Iu.get(u);if(d&&d.length!==0){h=await fm(i.localStore,Kn(d[0]));for(const p of d){const y=i.Tu.get(p),v=await I5(i,y);v.snapshot&&l.push(v.snapshot)}}else{const p=await AR(i.localStore,u);h=await fm(i.localStore,p),await Yv(i,qR(p),u,!1,h.resumeToken)}a.push(h)}return i.Pu.J_(l),a}function qR(n){return Ix(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function D5(n){return(function(e){return _t(_t(e).persistence).hs()})(_t(n).localStore)}async function V5(n,t,e,i){const a=_t(n);if(a.gu)return void at(iu,"Ignoring unexpected query state notification.");const l=a.Iu.get(t);if(l&&l.length>0)switch(e){case"current":case"not-current":{const u=await wR(a.localStore,Cx(l[0])),h=wh.createSynthesizedRemoteEventForCurrentChange(t,e==="current",Ce.EMPTY_BYTE_STRING);await sa(a,u,h);break}case"rejected":await ql(a.localStore,t,!0),Kl(a,t,i);break;default:mt(64155,e)}}async function M5(n,t,e){const i=Xm(n);if(i.gu){for(const a of t){if(i.Iu.has(a)&&i.sharedClientState.isActiveQueryTarget(a)){at(iu,"Adding an already active target "+a);continue}const l=await AR(i.localStore,a),u=await fm(i.localStore,l);await Yv(i,qR(l),u.targetId,!1,u.resumeToken),Qm(i.remoteStore,u)}for(const a of e)i.Iu.has(a)&&await ql(i.localStore,a,!1).then((()=>{Hl(i.remoteStore,a),Kl(i,a)})).catch(ea)}}function Xm(n){const t=_t(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=jR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=w5.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=T5.bind(null,t),t.Pu.J_=u5.bind(null,t.eventManager),t.Pu.yu=c5.bind(null,t.eventManager),t}function Jv(n){const t=_t(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=E5.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=b5.bind(null,t),t}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=$m(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return ER(this.persistence,new TR,t.initialUser,this.serializer)}Cu(t){return new Nv(Km.Vi,this.serializer)}Du(t){return new DR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class N5 extends ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){vt(this.persistence.referenceDelegate instanceof hm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new mR(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new Nv((i=>hm.Vi(i,e)),this.serializer)}}class HR extends ah{constructor(t,e,i){super(),this.xu=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.xu.initialize(this,t),await Jv(this.xu.syncEngine),await eu(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(t){return ER(this.persistence,new TR,t.initialUser,this.serializer)}Fu(t,e){const i=this.persistence.referenceDelegate.garbageCollector;return new mR(i,t.asyncQueue,e)}Mu(t,e){const i=new zO(e,this.persistence);return new BO(t.asyncQueue,i)}Cu(t){const e=vR(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new Pv(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,VR(),Bd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(t){return new DR}}class P5 extends HR{constructor(t,e){super(t,e,!1),this.xu=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}async initialize(t){await super.initialize(t);const e=this.xu.syncEngine;this.sharedClientState instanceof Ry&&(this.sharedClientState.syncEngine={So:R5.bind(null,e),Do:V5.bind(null,e),Co:M5.bind(null,e),hs:D5.bind(null,e),bo:x5.bind(null,e)},await this.sharedClientState.start()),await this.persistence.zi((async i=>{await C5(this.xu.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())}))}Du(t){const e=VR();if(!Ry.v(e))throw new ut(J.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=vR(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Ry(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class oh{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>l1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=A5.bind(null,this.syncEngine),await A_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new l5})()}createDatastore(t){const e=$m(t.databaseInfo.databaseId),i=q4(t.databaseInfo);return Y4(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,a,l,u,h){return new X4(i,a,l,u,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>l1(this.syncEngine,e,0)),(function(){return n1.v()?new n1:new B4})())}createSyncEngine(t,e){return(function(a,l,u,h,d,p,y){const v=new m5(a,l,u,h,d,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=_t(e);at(ho,"RemoteStore shutting down."),i.Ea.add(5),await xh(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}oh.provider={build:()=>new oh};class Zv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Re("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}let O5=class{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ut(J.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const e=await(async function(a,l){const u=_t(a),h={documents:l.map((v=>sh(u.serializer,v)))},d=await u.jo("BatchGetDocuments",u.serializer.databaseId,Kt.emptyPath(),h,l.length),p=new Map;d.forEach((v=>{const E=Wk(u.serializer,v);p.set(E.key.toString(),E)}));const y=[];return l.forEach((v=>{const E=p.get(v.toString());vt(!!E,55234,{key:v}),y.push(E)})),y})(this.datastore,t);return e.forEach((i=>this.recordVersion(i))),e}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Ah(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((e=>{t.delete(e.key.toString())})),t.forEach(((e,i)=>{const a=ht.fromPath(i);this.mutations.push(new Av(a,this.precondition(a)))})),await(async function(i,a){const l=_t(i),u={writes:a.map((h=>rh(l.serializer,h)))};await l.Wo("Commit",l.serializer.databaseId,Kt.emptyPath(),u)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw mt(50498,{Gu:t.constructor.name});e=Et.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new ut(J.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Et.min())?_e.exists(!1):_e.updateTime(e):_e.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Et.min()))throw new ut(J.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _e.updateTime(e)}return _e.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}};class k5{constructor(t,e,i,a,l){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=a,this.deferred=l,this.zu=i.maxAttempts,this.M_=new Uv(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const t=new O5(this.datastore),e=this.Ju(t);e&&e.then((i=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(i)})).catch((a=>{this.Zu(a)}))))})).catch((i=>{this.Zu(i)}))}))}Ju(t){try{const e=this.updateFunction(t);return!vh(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Zu(t){this.zu>0&&this.Xu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(t)}Xu(t){if(t?.name==="FirebaseError"){const e=t.code;return e==="aborted"||e==="failed-precondition"||e==="already-exists"||!Fx(e)}return!1}}const Wr="FirestoreClient";class L5{constructor(t,e,i,a,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this._databaseInfo=a,this.user=dn.UNAUTHENTICATED,this.clientId=hv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{at(Wr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(at(Wr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=qv(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Dy(n,t){n.asyncQueue.verifyOperationInProgress(),at(Wr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await bR(t.localStore,a),i=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function c1(n,t){n.asyncQueue.verifyOperationInProgress();const e=await U5(n);at(Wr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>s1(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>s1(t.remoteStore,a))),n._onlineComponents=t}async function U5(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){at(Wr,"Using user provided OfflineComponentProvider");try{await Dy(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===J.FAILED_PRECONDITION||a.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;Kc("Error using user provided cache. Falling back to memory cache: "+e),await Dy(n,new ah)}}else at(Wr,"Using default OfflineComponentProvider"),await Dy(n,new N5(void 0));return n._offlineComponents}async function t0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(at(Wr,"Using user provided OnlineComponentProvider"),await c1(n,n._uninitializedComponentsProvider._online)):(at(Wr,"Using default OnlineComponentProvider"),await c1(n,new oh))),n._onlineComponents}function B5(n){return t0(n).then((t=>t.syncEngine))}function z5(n){return t0(n).then((t=>t.datastore))}async function gm(n){const t=await t0(n),e=t.eventManager;return e.onListen=p5.bind(null,t.syncEngine),e.onUnlisten=y5.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=g5.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=_5.bind(null,t.syncEngine),e}function j5(n,t,e,i){const a=new Zv(i),l=new $v(t,a,e);return n.asyncQueue.enqueueAndForget((async()=>Hv(await gm(n),l))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>Gv(await gm(n),l)))}}function F5(n,t,e={}){const i=new xi;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,p){const y=new Zv({next:E=>{y.Nu(),u.enqueueAndForget((()=>Gv(l,v)));const I=E.docs.has(h);!I&&E.fromCache?p.reject(new ut(J.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&E.fromCache&&d&&d.source==="server"?p.reject(new ut(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new $v(bh(h.path),y,{includeMetadataChanges:!0,Ka:!0});return Hv(l,v)})(await gm(n),n.asyncQueue,t,e,i))),i.promise}function q5(n,t,e={}){const i=new xi;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,p){const y=new Zv({next:E=>{y.Nu(),u.enqueueAndForget((()=>Gv(l,v))),E.fromCache&&d.source==="server"?p.reject(new ut(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new $v(h,y,{includeMetadataChanges:!0,Ka:!0});return Hv(l,v)})(await gm(n),n.asyncQueue,t,e,i))),i.promise}function H5(n,t){const e=new xi;return n.asyncQueue.enqueueAndForget((async()=>v5(await B5(n),t,e))),e.promise}function G5(n,t,e){const i=new xi;return n.asyncQueue.enqueueAndForget((async()=>{const a=await z5(n);new k5(n.asyncQueue,a,e,t,i).ju()})),i.promise}function GR(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const K5="ComponentProvider",h1=new Map;function $5(n,t,e,i,a){return new mk(n,t,e,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,GR(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const Y5="firestore.googleapis.com",f1=!0;class d1{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Y5,this.ssl=f1}else this.host=t.host,this.ssl=t.ssl??f1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=uR;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<dR)throw new ut(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}OO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GR(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class e0{constructor(t,e,i,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new IO;switch(i.type){case"firstParty":return new CO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ut(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=h1.get(e);i&&(at(K5,"Removing Datastore"),h1.delete(e),i.terminate())})(this),Promise.resolve()}}class Gs{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Gs(this.firestore,t,this._query)}}class Te{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Te(this.firestore,t,this._key)}toJSON(){return{type:Te._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(_h(e,Te._jsonSchema))return new Te(t,i||null,new ht(Kt.fromString(e.referencePath)))}}Te._jsonSchemaVersion="firestore/documentReference/1.0",Te._jsonSchema={type:je("string",Te._jsonSchemaVersion),referencePath:je("string")};class Gr extends Gs{constructor(t,e,i){super(t,e,bh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Te(this.firestore,null,new ht(t))}withConverter(t){return new Gr(this.firestore,t,this._path)}}function Jr(n,t,...e){if(n=Fe(n),GI("collection","path",t),n instanceof e0){const i=Kt.fromString(t,...e);return iA(i),new Gr(n,null,i)}{if(!(n instanceof Te||n instanceof Gr))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Kt.fromString(t,...e));return iA(i),new Gr(n.firestore,null,i)}}function fo(n,t,...e){if(n=Fe(n),arguments.length===1&&(t=hv.newId()),GI("doc","path",t),n instanceof e0){const i=Kt.fromString(t,...e);return nA(i),new Te(n,null,new ht(i))}{if(!(n instanceof Te||n instanceof Gr))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Kt.fromString(t,...e));return nA(i),new Te(n.firestore,n instanceof Gr?n.converter:null,new ht(i))}}const m1="AsyncQueue";class p1{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Uv(this,"async_queue_retry"),this._c=()=>{const i=Bd();i&&at(m1,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Bd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Bd();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new xi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!na(t))throw t;at(m1,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Re("INTERNAL UNHANDLED ERROR: ",g1(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=Fv.createAndSchedule(this,t,e,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&mt(47125,{Pc:g1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function g1(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class os extends e0{constructor(t,e,i,a){super(t,e,i,a),this.type="firestore",this._queue=new p1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new p1(t),this._firestoreClient=void 0,await t}}}function Q5(n,t,e){e||(e=sm);const i=nv(n,"firestore");if(i.isInitialized(e)){const a=i.getImmediate({identifier:e}),l=i.getOptions(e);if(no(l,t))return a;throw new ut(J.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new ut(J.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<dR)throw new ut(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&Ql(t.host)&&Qw(t.host),i.initialize({options:t,instanceIdentifier:e})}function su(n){if(n._terminated)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||X5(n),n._firestoreClient}function X5(n){const t=n._freezeSettings(),e=$5(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new L5(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class Hn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hn(Ce.fromBase64String(t))}catch(e){throw new ut(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Hn(Ce.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(_h(t,Hn._jsonSchema))return Hn.fromBase64String(t.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:je("string",Hn._jsonSchemaVersion),bytes:je("string")};class Rh{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ut(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Wm{constructor(t){this._methodName=t}}class ss{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ut(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ut(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ss._jsonSchemaVersion}}static fromJSON(t){if(_h(t,ss._jsonSchema))return new ss(t.latitude,t.longitude)}}ss._jsonSchemaVersion="firestore/geoPoint/1.0",ss._jsonSchema={type:je("string",ss._jsonSchemaVersion),latitude:je("number"),longitude:je("number")};class Ri{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(_h(t,Ri._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Ri(t.vectorValues);throw new ut(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:je("string",Ri._jsonSchemaVersion),vectorValues:je("object")};const W5=/^__.*__$/;class J5{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Hs(t,this.data,this.fieldMask,e,this.fieldTransforms):new tu(t,this.data,e,this.fieldTransforms)}}class KR{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Hs(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function $R(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{dataSource:n})}}class n0{constructor(t,e,i,a,l,u){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new n0({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),i=this.contextWith({path:e,arrayElement:!1});return i.validatePathSegment(t),i}childContextForFieldPath(t){const e=this.path?.child(t),i=this.contextWith({path:e,arrayElement:!1});return i.validatePath(),i}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return ym(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if($R(this.dataSource)&&W5.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class Z5{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||$m(t)}createContext(t,e,i,a=!1){return new n0({dataSource:t,methodName:e,targetDoc:i,path:ye.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ru(n){const t=n._freezeSettings(),e=$m(n._databaseId);return new Z5(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Jm(n,t,e,i,a,l={}){const u=n.createContext(l.merge||l.mergeFields?2:0,t,e,a);a0("Data must be an object, but it was:",u,i);const h=YR(i,u);let d,p;if(l.merge)d=new Mn(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const E=$l(t,v,e);if(!u.contains(E))throw new ut(J.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);WR(y,E)||y.push(E)}d=new Mn(y),p=u.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,p=u.fieldTransforms;return new J5(new cn(h),d,p)}class Zm extends Wm{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Zm}}class i0 extends Wm{_toFieldTransform(t){return new Bx(t.path,new Bl)}isEqual(t){return t instanceof i0}}function s0(n,t,e,i){const a=n.createContext(1,t,e);a0("Data must be an object, but it was:",a,i);const l=[],u=cn.empty();ia(i,((d,p)=>{const y=XR(t,d,e);p=Fe(p);const v=a.childContextForFieldPath(y);if(p instanceof Zm)l.push(y);else{const E=Ch(p,v);E!=null&&(l.push(y),u.set(y,E))}}));const h=new Mn(l);return new KR(u,h,a.fieldTransforms)}function r0(n,t,e,i,a,l){const u=n.createContext(1,t,e),h=[$l(t,i,e)],d=[a];if(l.length%2!=0)throw new ut(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)h.push($l(t,l[E])),d.push(l[E+1]);const p=[],y=cn.empty();for(let E=h.length-1;E>=0;--E)if(!WR(p,h[E])){const I=h[E];let N=d[E];N=Fe(N);const B=u.childContextForFieldPath(I);if(N instanceof Zm)p.push(I);else{const U=Ch(N,B);U!=null&&(p.push(I),y.set(I,U))}}const v=new Mn(p);return new KR(y,v,u.fieldTransforms)}function t3(n,t,e,i=!1){return Ch(e,n.createContext(i?4:3,t))}function Ch(n,t){if(QR(n=Fe(n)))return a0("Unsupported field value:",t,n),YR(n,t);if(n instanceof Wm)return(function(i,a){if(!$R(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(i,a){const l=[];let u=0;for(const h of i){let d=Ch(h,a.childContextForArray(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}})(n,t)}return(function(i,a){if((i=Fe(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Pk(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=te.fromDate(i);return{timestampValue:Fl(a.serializer,l)}}if(i instanceof te){const l=new te(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Fl(a.serializer,l)}}if(i instanceof ss)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Hn)return{bytesValue:Kx(a.serializer,i._byteString)};if(i instanceof Te){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Cv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Ri)return(function(u,h){const d=u instanceof Ri?u.toArray():u;return{mapValue:{fields:{[vv]:{stringValue:Tv},[Ol]:{arrayValue:{values:d.map((y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return Sv(h.serializer,y)}))}}}}}})(i,a);if(iR(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Pm(i)}`)})(n,t)}function YR(n,t){const e={};return ux(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ia(n,((i,a)=>{const l=Ch(a,t.childContextForField(i));l!=null&&(e[i]=l)})),{mapValue:{fields:e}}}function QR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof te||n instanceof ss||n instanceof Hn||n instanceof Te||n instanceof Wm||n instanceof Ri||iR(n))}function a0(n,t,e){if(!QR(e)||!KI(e)){const i=Pm(e);throw i==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+i)}}function $l(n,t,e){if((t=Fe(t))instanceof Rh)return t._internalPath;if(typeof t=="string")return XR(n,t);throw ym("Field path arguments must be of type string or ",n,!1,void 0,e)}const e3=new RegExp("[~\\*/\\[\\]]");function XR(n,t,e){if(t.search(e3)>=0)throw ym(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Rh(...t.split("."))._internalPath}catch{throw ym(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function ym(n,t,e,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${i}`),u&&(d+=` in document ${a}`),d+=")"),new ut(J.INVALID_ARGUMENT,h+n+d)}function WR(n,t){return n.some((e=>e.isEqual(t)))}class JR{convertValue(t,e="none"){switch(Yr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Bs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return ia(t,((a,l)=>{i[a]=this.convertValue(l,e)})),i}convertVectorValue(t){const e=t.fields?.[Ol].arrayValue?.values?.map((i=>pe(i.doubleValue)));return new Ri(e)}convertGeoPoint(t){return new ss(pe(t.latitude),pe(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Bm(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Jc(t));default:return null}}convertTimestamp(t){const e=Us(t);return new te(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Kt.fromString(t);vt(nR(i),9688,{name:t});const a=new ao(i.get(1),i.get(3)),l=new ht(i.popFirst(5));return a.isEqual(e)||Re(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}class tp extends JR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Te(this.firestore,null,e)}}function ZR(){return new i0("serverTimestamp")}const y1="@firebase/firestore",_1="4.10.0";function v1(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const a=e;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class _m{constructor(t,e,i,a,l){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Te(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new n3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field($l("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class n3 extends _m{data(){return super.data()}}function tC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ut(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class o0{}class l0 extends o0{}function ep(n,t,...e){let i=[];t instanceof o0&&i.push(t),i=i.concat(e),(function(l){const u=l.filter((d=>d instanceof c0)).length,h=l.filter((d=>d instanceof u0)).length;if(u>1||u>0&&h>0)throw new ut(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)n=a._apply(n);return n}class u0 extends l0{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new u0(t,e,i)}_apply(t){const e=this._parse(t);return eC(t._query,e),new Gs(t.firestore,t.converter,d_(t._query,e))}_parse(t){const e=ru(t.firestore);return(function(l,u,h,d,p,y,v){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ut(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){E1(v,y);const N=[];for(const B of v)N.push(T1(d,l,B));E={arrayValue:{values:N}}}else E=T1(d,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||E1(v,y),E=t3(h,u,v,y==="in"||y==="not-in");return Ft.create(p,y,E)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class c0 extends o0{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new c0(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:ee.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(a,l){let u=a;const h=l.getFlattenedFilters();for(const d of h)eC(u,d),u=d_(u,d)})(t._query,e),new Gs(t.firestore,t.converter,d_(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class h0 extends l0{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new h0(t,e)}_apply(t){const e=(function(a,l,u){if(a.startAt!==null)throw new ut(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ut(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nh(l,u)})(t._query,this._field,this._direction);return new Gs(t.firestore,t.converter,Rk(t._query,e))}}function np(n,t="asc"){const e=t,i=$l("orderBy",n);return h0._create(i,e)}class f0 extends l0{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new f0(t,e,i)}_apply(t){return new Gs(t.firestore,t.converter,om(t._query,this._limit,this._limitType))}}function i3(n){return kO("limit",n),f0._create("limit",n,"F")}function T1(n,t,e){if(typeof(e=Fe(e))=="string"){if(e==="")throw new ut(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xx(t)&&e.indexOf("/")!==-1)throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Kt.fromString(e));if(!ht.isDocumentKey(i))throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return th(n,new ht(i))}if(e instanceof Te)return th(n,e._key);throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pm(e)}.`)}function E1(n,t){if(!Array.isArray(n)||n.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function eC(n,t){const e=(function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ut(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function ip(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class s3 extends JR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Te(this.firestore,null,e)}}class r3{constructor(t){let e;this.kind="persistent",t?.tabManager?(t.tabManager._initialize(t),e=t.tabManager):(e=u3(void 0),e._initialize(t)),this._onlineComponentProvider=e._onlineComponentProvider,this._offlineComponentProvider=e._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function a3(n){return new r3(n)}class o3{constructor(t){this.forceOwnership=t,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=oh.provider,this._offlineComponentProvider={build:e=>new HR(e,t?.cacheSizeBytes,this.forceOwnership)}}}class l3{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=oh.provider,this._offlineComponentProvider={build:e=>new P5(e,t?.cacheSizeBytes)}}}function u3(n){return new o3(n?.forceOwnership)}function c3(){return new l3}class yl{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Kr extends _m{constructor(t,e,i,a,l,u){super(t,e,i,a,u),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new zd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field($l("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Kr._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Kr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Kr._jsonSchema={type:je("string",Kr._jsonSchemaVersion),bundleSource:je("string","DocumentSnapshot"),bundleName:je("string"),bundle:je("string")};class zd extends Kr{data(t={}){return super.data(t)}}class to{constructor(t,e,i,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new yl(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new zd(this._firestore,this._userDataWriter,i.key,i,new yl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ut(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const d=new zd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new yl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new zd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new yl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:h3(h.type),doc:d,oldIndex:p,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=to._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=hv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(e.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function h3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:n})}}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:je("string",to._jsonSchemaVersion),bundleSource:je("string","QuerySnapshot"),bundleName:je("string"),bundle:je("string")};const f3={maxAttempts:5};class d3{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=ru(t)}set(t,e,i){this._verifyNotCommitted();const a=Lr(t,this._firestore),l=ip(a.converter,e,i),u=Jm(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,i);return this._mutations.push(u.toMutation(a._key,_e.none())),this}update(t,e,i,...a){this._verifyNotCommitted();const l=Lr(t,this._firestore);let u;return u=typeof(e=Fe(e))=="string"||e instanceof Rh?r0(this._dataReader,"WriteBatch.update",l._key,e,i,a):s0(this._dataReader,"WriteBatch.update",l._key,e),this._mutations.push(u.toMutation(l._key,_e.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Lr(t,this._firestore);return this._mutations=this._mutations.concat(new Ah(e._key,_e.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ut(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lr(n,t){if((n=Fe(n)).firestore!==t)throw new ut(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class m3{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=ru(t)}get(t){const e=Lr(t,this._firestore),i=new s3(this._firestore);return this._transaction.lookup([e._key]).then((a=>{if(!a||a.length!==1)return mt(24041);const l=a[0];if(l.isFoundDocument())return new _m(this._firestore,i,l.key,l,e.converter);if(l.isNoDocument())return new _m(this._firestore,i,e._key,null,e.converter);throw mt(18433,{doc:l})}))}set(t,e,i){const a=Lr(t,this._firestore),l=ip(a.converter,e,i),u=Jm(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,i);return this._transaction.set(a._key,u),this}update(t,e,i,...a){const l=Lr(t,this._firestore);let u;return u=typeof(e=Fe(e))=="string"||e instanceof Rh?r0(this._dataReader,"Transaction.update",l._key,e,i,a):s0(this._dataReader,"Transaction.update",l._key,e),this._transaction.update(l._key,u),this}delete(t){const e=Lr(t,this._firestore);return this._transaction.delete(e._key),this}}class p3 extends m3{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Lr(t,this._firestore),i=new tp(this._firestore);return super.get(t).then((a=>new Kr(this._firestore,i,e._key,a._document,new yl(!1,!1),e.converter)))}}function g3(n,t,e){n=Nn(n,os);const i={...f3,...e};(function(u){if(u.maxAttempts<1)throw new ut(J.INVALID_ARGUMENT,"Max attempts must be at least 1")})(i);const a=su(n);return G5(a,(l=>t(new p3(n,l))),i)}function y3(n){n=Nn(n,Te);const t=Nn(n.firestore,os),e=su(t);return F5(e,n._key).then((i=>nC(t,n,i)))}function vm(n){n=Nn(n,Gs);const t=Nn(n.firestore,os),e=su(t),i=new tp(t);return tC(n._query),q5(e,n._query).then((a=>new to(t,i,n,a)))}function pz(n,t,e){n=Nn(n,Te);const i=Nn(n.firestore,os),a=ip(n.converter,t,e),l=ru(i);return sp(i,[Jm(l,"setDoc",n._key,a,n.converter!==null,e).toMutation(n._key,_e.none())])}function gz(n,t,e,...i){n=Nn(n,Te);const a=Nn(n.firestore,os),l=ru(a);let u;return u=typeof(t=Fe(t))=="string"||t instanceof Rh?r0(l,"updateDoc",n._key,t,e,i):s0(l,"updateDoc",n._key,t),sp(a,[u.toMutation(n._key,_e.exists(!0))])}function _3(n,t){const e=Nn(n.firestore,os),i=fo(n),a=ip(n.converter,t),l=ru(n.firestore);return sp(e,[Jm(l,"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,_e.exists(!1))]).then((()=>i))}function d0(n,...t){n=Fe(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||v1(t[i])||(e=t[i++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(v1(t[i])){const p=t[i];t[i]=p.next?.bind(p),t[i+1]=p.error?.bind(p),t[i+2]=p.complete?.bind(p)}let l,u,h;if(n instanceof Te)u=Nn(n.firestore,os),h=bh(n._key.path),l={next:p=>{t[i]&&t[i](nC(u,n,p))},error:t[i+1],complete:t[i+2]};else{const p=Nn(n,Gs);u=Nn(p.firestore,os),h=p._query;const y=new tp(u);l={next:v=>{t[i]&&t[i](new to(u,y,p,v))},error:t[i+1],complete:t[i+2]},tC(n._query)}const d=su(u);return j5(d,h,a,l)}function sp(n,t){const e=su(n);return H5(e,t)}function nC(n,t,e){const i=e.docs.get(t._key),a=new tp(n);return new Kr(n,a,t._key,i,new yl(e.hasPendingWrites,e.fromCache),t.converter)}function v3(n){return n=Nn(n,os),su(n),new d3(n,(t=>sp(n,t)))}(function(t,e=!0){AO(Xl),Rl(new io("firestore",((i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),h=new os(new xO(i.getProvider("auth-internal")),new DO(u,i.getProvider("app-check-internal")),pk(u,a),u);return l={useFetchStreams:e,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),jr(y1,_1,t),jr(y1,_1,"esm2020")})();const T3={apiKey:"AIzaSyCpfz0Zk6VPZq3_T-sltwFYvCssTNt7SrA",authDomain:"soka-3ce9a.firebaseapp.com",projectId:"soka-3ce9a",storageBucket:"soka-3ce9a.firebasestorage.app",messagingSenderId:"103213261935",appId:"1:103213261935:web:800acc4fb30c7f8f45599a"},iC=nI(T3),Tm=TO(iC),Tn=Q5(iC,{localCache:a3({tabManager:c3()})}),m0=X.createContext({});function p0(n){const t=X.useRef(null);return t.current===null&&(t.current=n()),t.current}const sC=typeof window<"u",rC=sC?X.useLayoutEffect:X.useEffect,rp=X.createContext(null);function g0(n,t){n.indexOf(t)===-1&&n.push(t)}function y0(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const ls=(n,t,e)=>e>t?t:e<n?n:e;let _0=()=>{};const zs={},aC=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function oC(n){return typeof n=="object"&&n!==null}const lC=n=>/^0[^.\s]+$/u.test(n);function v0(n){let t;return()=>(t===void 0&&(t=n()),t)}const ui=n=>n,E3=(n,t)=>e=>t(n(e)),Dh=(...n)=>n.reduce(E3),lh=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i};class T0{constructor(){this.subscriptions=[]}add(t){return g0(this.subscriptions,t),()=>y0(this.subscriptions,t)}notify(t,e,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,e,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ps=n=>n*1e3,li=n=>n/1e3;function uC(n,t){return t?n*(1e3/t):0}const cC=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,b3=1e-7,S3=12;function A3(n,t,e,i,a){let l,u,h=0;do u=t+(e-t)/2,l=cC(u,i,a)-n,l>0?e=u:t=u;while(Math.abs(l)>b3&&++h<S3);return u}function Vh(n,t,e,i){if(n===t&&e===i)return ui;const a=l=>A3(l,0,1,n,e);return l=>l===0||l===1?l:cC(a(l),t,i)}const hC=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,fC=n=>t=>1-n(1-t),dC=Vh(.33,1.53,.69,.99),E0=fC(dC),mC=hC(E0),pC=n=>(n*=2)<1?.5*E0(n):.5*(2-Math.pow(2,-10*(n-1))),b0=n=>1-Math.sin(Math.acos(n)),gC=fC(b0),yC=hC(b0),w3=Vh(.42,0,1,1),I3=Vh(0,0,.58,1),_C=Vh(.42,0,.58,1),x3=n=>Array.isArray(n)&&typeof n[0]!="number",vC=n=>Array.isArray(n)&&typeof n[0]=="number",R3={linear:ui,easeIn:w3,easeInOut:_C,easeOut:I3,circIn:b0,circInOut:yC,circOut:gC,backIn:E0,backInOut:mC,backOut:dC,anticipate:pC},C3=n=>typeof n=="string",b1=n=>{if(vC(n)){_0(n.length===4);const[t,e,i,a]=n;return Vh(t,e,i,a)}else if(C3(n))return R3[n];return n},Td=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function D3(n,t){let e=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(y){u.has(y)&&(p.schedule(y),n()),y(h)}const p={schedule:(y,v=!1,E=!1)=>{const N=E&&a?e:i;return v&&u.add(y),N.has(y)||N.add(y),y},cancel:y=>{i.delete(y),u.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[e,i]=[i,e],e.forEach(d),e.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const V3=40;function TC(n,t){let e=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>e=!0,u=Td.reduce((j,Y)=>(j[Y]=D3(l),j),{}),{setup:h,read:d,resolveKeyframes:p,preUpdate:y,update:v,preRender:E,render:I,postRender:N}=u,B=()=>{const j=zs.useManualTiming?a.timestamp:performance.now();e=!1,zs.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(j-a.timestamp,V3),1)),a.timestamp=j,a.isProcessing=!0,h.process(a),d.process(a),p.process(a),y.process(a),v.process(a),E.process(a),I.process(a),N.process(a),a.isProcessing=!1,e&&t&&(i=!1,n(B))},U=()=>{e=!0,i=!0,a.isProcessing||n(B)};return{schedule:Td.reduce((j,Y)=>{const rt=u[Y];return j[Y]=(lt,x=!1,w=!1)=>(e||U(),rt.schedule(lt,x,w)),j},{}),cancel:j=>{for(let Y=0;Y<Td.length;Y++)u[Td[Y]].cancel(j)},state:a,steps:u}}const{schedule:he,cancel:Zr,state:ln,steps:Vy}=TC(typeof requestAnimationFrame<"u"?requestAnimationFrame:ui,!0);let jd;function M3(){jd=void 0}const En={now:()=>(jd===void 0&&En.set(ln.isProcessing||zs.useManualTiming?ln.timestamp:performance.now()),jd),set:n=>{jd=n,queueMicrotask(M3)}},EC=n=>t=>typeof t=="string"&&t.startsWith(n),bC=EC("--"),N3=EC("var(--"),S0=n=>N3(n)?P3.test(n.split("/*")[0].trim()):!1,P3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function S1(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const au={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},uh={...au,transform:n=>ls(0,1,n)},Ed={...au,default:1},Bc=n=>Math.round(n*1e5)/1e5,A0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function O3(n){return n==null}const k3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,w0=(n,t)=>e=>!!(typeof e=="string"&&k3.test(e)&&e.startsWith(n)||t&&!O3(e)&&Object.prototype.hasOwnProperty.call(e,t)),SC=(n,t,e)=>i=>{if(typeof i!="string")return i;const[a,l,u,h]=i.match(A0);return{[n]:parseFloat(a),[t]:parseFloat(l),[e]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},L3=n=>ls(0,255,n),My={...au,transform:n=>Math.round(L3(n))},Xa={test:w0("rgb","red"),parse:SC("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+My.transform(n)+", "+My.transform(t)+", "+My.transform(e)+", "+Bc(uh.transform(i))+")"};function U3(n){let t="",e="",i="",a="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),a=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),a=n.substring(4,5),t+=t,e+=e,i+=i,a+=a),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const x_={test:w0("#"),parse:U3,transform:Xa.transform},Mh=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Cr=Mh("deg"),rs=Mh("%"),yt=Mh("px"),B3=Mh("vh"),z3=Mh("vw"),A1={...rs,parse:n=>rs.parse(n)/100,transform:n=>rs.transform(n*100)},_l={test:w0("hsl","hue"),parse:SC("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+rs.transform(Bc(t))+", "+rs.transform(Bc(e))+", "+Bc(uh.transform(i))+")"},ze={test:n=>Xa.test(n)||x_.test(n)||_l.test(n),parse:n=>Xa.test(n)?Xa.parse(n):_l.test(n)?_l.parse(n):x_.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Xa.transform(n):_l.transform(n),getAnimatableNone:n=>{const t=ze.parse(n);return t.alpha=0,ze.transform(t)}},j3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function F3(n){return isNaN(n)&&typeof n=="string"&&(n.match(A0)?.length||0)+(n.match(j3)?.length||0)>0}const AC="number",wC="color",q3="var",H3="var(",w1="${}",G3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ch(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},a=[];let l=0;const h=t.replace(G3,d=>(ze.test(d)?(i.color.push(l),a.push(wC),e.push(ze.parse(d))):d.startsWith(H3)?(i.var.push(l),a.push(q3),e.push(d)):(i.number.push(l),a.push(AC),e.push(parseFloat(d))),++l,w1)).split(w1);return{values:e,split:h,indexes:i,types:a}}function IC(n){return ch(n).values}function xC(n){const{split:t,types:e}=ch(n),i=t.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=t[u],a[u]!==void 0){const h=e[u];h===AC?l+=Bc(a[u]):h===wC?l+=ze.transform(a[u]):l+=a[u]}return l}}const K3=n=>typeof n=="number"?0:ze.test(n)?ze.getAnimatableNone(n):n;function $3(n){const t=IC(n);return xC(n)(t.map(K3))}const ta={test:F3,parse:IC,createTransformer:xC,getAnimatableNone:$3};function Ny(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function Y3({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let a=0,l=0,u=0;if(!t)a=l=u=e;else{const h=e<.5?e*(1+t):e+t-e*t,d=2*e-h;a=Ny(d,h,n+1/3),l=Ny(d,h,n),u=Ny(d,h,n-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function Em(n,t){return e=>e>0?t:n}const ve=(n,t,e)=>n+(t-n)*e,Py=(n,t,e)=>{const i=n*n,a=e*(t*t-i)+i;return a<0?0:Math.sqrt(a)},Q3=[x_,Xa,_l],X3=n=>Q3.find(t=>t.test(n));function I1(n){const t=X3(n);if(!t)return!1;let e=t.parse(n);return t===_l&&(e=Y3(e)),e}const x1=(n,t)=>{const e=I1(n),i=I1(t);if(!e||!i)return Em(n,t);const a={...e};return l=>(a.red=Py(e.red,i.red,l),a.green=Py(e.green,i.green,l),a.blue=Py(e.blue,i.blue,l),a.alpha=ve(e.alpha,i.alpha,l),Xa.transform(a))},R_=new Set(["none","hidden"]);function W3(n,t){return R_.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function J3(n,t){return e=>ve(n,t,e)}function I0(n){return typeof n=="number"?J3:typeof n=="string"?S0(n)?Em:ze.test(n)?x1:e6:Array.isArray(n)?RC:typeof n=="object"?ze.test(n)?x1:Z3:Em}function RC(n,t){const e=[...n],i=e.length,a=n.map((l,u)=>I0(l)(l,t[u]));return l=>{for(let u=0;u<i;u++)e[u]=a[u](l);return e}}function Z3(n,t){const e={...n,...t},i={};for(const a in e)n[a]!==void 0&&t[a]!==void 0&&(i[a]=I0(n[a])(n[a],t[a]));return a=>{for(const l in i)e[l]=i[l](a);return e}}function t6(n,t){const e=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],u=n.indexes[l][i[l]],h=n.values[u]??0;e[a]=h,i[l]++}return e}const e6=(n,t)=>{const e=ta.createTransformer(t),i=ch(n),a=ch(t);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?R_.has(n)&&!a.values.length||R_.has(t)&&!i.values.length?W3(n,t):Dh(RC(t6(i,a),a.values),e):Em(n,t)};function CC(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?ve(n,t,e):I0(n)(n,t)}const n6=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>he.update(t,e),stop:()=>Zr(t),now:()=>ln.isProcessing?ln.timestamp:En.now()}},DC=(n,t,e=10)=>{let i="";const a=Math.max(Math.round(t/e),2);for(let l=0;l<a;l++)i+=Math.round(n(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},bm=2e4;function x0(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<bm;)t+=e,i=n.next(t);return t>=bm?1/0:t}function i6(n,t=100,e){const i=e({...n,keyframes:[0,t]}),a=Math.min(x0(i),bm);return{type:"keyframes",ease:l=>i.next(a*l).value/t,duration:li(a)}}const s6=5;function VC(n,t,e){const i=Math.max(t-s6,0);return uC(e-n(i),t-i)}const Se={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Oy=.001;function r6({duration:n=Se.duration,bounce:t=Se.bounce,velocity:e=Se.velocity,mass:i=Se.mass}){let a,l,u=1-t;u=ls(Se.minDamping,Se.maxDamping,u),n=ls(Se.minDuration,Se.maxDuration,li(n)),u<1?(a=p=>{const y=p*u,v=y*n,E=y-e,I=C_(p,u),N=Math.exp(-v);return Oy-E/I*N},l=p=>{const v=p*u*n,E=v*e+e,I=Math.pow(u,2)*Math.pow(p,2)*n,N=Math.exp(-v),B=C_(Math.pow(p,2),u);return(-a(p)+Oy>0?-1:1)*((E-I)*N)/B}):(a=p=>{const y=Math.exp(-p*n),v=(p-e)*n+1;return-Oy+y*v},l=p=>{const y=Math.exp(-p*n),v=(e-p)*(n*n);return y*v});const h=5/n,d=o6(a,l,h);if(n=Ps(n),isNaN(d))return{stiffness:Se.stiffness,damping:Se.damping,duration:n};{const p=Math.pow(d,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:n}}}const a6=12;function o6(n,t,e){let i=e;for(let a=1;a<a6;a++)i=i-n(i)/t(i);return i}function C_(n,t){return n*Math.sqrt(1-t*t)}const l6=["duration","bounce"],u6=["stiffness","damping","mass"];function R1(n,t){return t.some(e=>n[e]!==void 0)}function c6(n){let t={velocity:Se.velocity,stiffness:Se.stiffness,damping:Se.damping,mass:Se.mass,isResolvedFromDuration:!1,...n};if(!R1(n,u6)&&R1(n,l6))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),a=i*i,l=2*ls(.05,1,1-(n.bounce||0))*Math.sqrt(a);t={...t,mass:Se.mass,stiffness:a,damping:l}}else{const e=r6(n);t={...t,...e,mass:Se.mass},t.isResolvedFromDuration=!0}return t}function Sm(n=Se.visualDuration,t=Se.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:a}=e;const l=e.keyframes[0],u=e.keyframes[e.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:p,mass:y,duration:v,velocity:E,isResolvedFromDuration:I}=c6({...e,velocity:-li(e.velocity||0)}),N=E||0,B=p/(2*Math.sqrt(d*y)),U=u-l,K=li(Math.sqrt(d/y)),Z=Math.abs(U)<5;i||(i=Z?Se.restSpeed.granular:Se.restSpeed.default),a||(a=Z?Se.restDelta.granular:Se.restDelta.default);let j;if(B<1){const rt=C_(K,B);j=lt=>{const x=Math.exp(-B*K*lt);return u-x*((N+B*K*U)/rt*Math.sin(rt*lt)+U*Math.cos(rt*lt))}}else if(B===1)j=rt=>u-Math.exp(-K*rt)*(U+(N+K*U)*rt);else{const rt=K*Math.sqrt(B*B-1);j=lt=>{const x=Math.exp(-B*K*lt),w=Math.min(rt*lt,300);return u-x*((N+B*K*U)*Math.sinh(w)+rt*U*Math.cosh(w))/rt}}const Y={calculatedDuration:I&&v||null,next:rt=>{const lt=j(rt);if(I)h.done=rt>=v;else{let x=rt===0?N:0;B<1&&(x=rt===0?Ps(N):VC(j,rt,lt));const w=Math.abs(x)<=i,R=Math.abs(u-lt)<=a;h.done=w&&R}return h.value=h.done?u:lt,h},toString:()=>{const rt=Math.min(x0(Y),bm),lt=DC(x=>Y.next(rt*x).value,rt,30);return rt+"ms "+lt},toTransition:()=>{}};return Y}Sm.applyToOptions=n=>{const t=i6(n,100,Sm);return n.ease=t.ease,n.duration=Ps(t.duration),n.type="keyframes",n};function D_({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:d,restDelta:p=.5,restSpeed:y}){const v=n[0],E={done:!1,value:v},I=w=>h!==void 0&&w<h||d!==void 0&&w>d,N=w=>h===void 0?d:d===void 0||Math.abs(h-w)<Math.abs(d-w)?h:d;let B=e*t;const U=v+B,K=u===void 0?U:u(U);K!==U&&(B=K-v);const Z=w=>-B*Math.exp(-w/i),j=w=>K+Z(w),Y=w=>{const R=Z(w),P=j(w);E.done=Math.abs(R)<=p,E.value=E.done?K:P};let rt,lt;const x=w=>{I(E.value)&&(rt=w,lt=Sm({keyframes:[E.value,N(E.value)],velocity:VC(j,w,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return x(0),{calculatedDuration:null,next:w=>{let R=!1;return!lt&&rt===void 0&&(R=!0,Y(w),x(w)),rt!==void 0&&w>=rt?lt.next(w-rt):(!R&&Y(w),E)}}}function h6(n,t,e){const i=[],a=e||zs.mix||CC,l=n.length-1;for(let u=0;u<l;u++){let h=a(n[u],n[u+1]);if(t){const d=Array.isArray(t)?t[u]||ui:t;h=Dh(d,h)}i.push(h)}return i}function f6(n,t,{clamp:e=!0,ease:i,mixer:a}={}){const l=n.length;if(_0(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const u=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),t=[...t].reverse());const h=h6(t,i,a),d=h.length,p=y=>{if(u&&y<n[0])return t[0];let v=0;if(d>1)for(;v<n.length-2&&!(y<n[v+1]);v++);const E=lh(n[v],n[v+1],y);return h[v](E)};return e?y=>p(ls(n[0],n[l-1],y)):p}function d6(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const a=lh(0,t,i);n.push(ve(e,1,a))}}function m6(n){const t=[0];return d6(t,n.length-1),t}function p6(n,t){return n.map(e=>e*t)}function g6(n,t){return n.map(()=>t||_C).splice(0,n.length-1)}function zc({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const a=x3(i)?i.map(b1):b1(i),l={done:!1,value:t[0]},u=p6(e&&e.length===t.length?e:m6(t),n),h=f6(u,t,{ease:Array.isArray(a)?a:g6(t,a)});return{calculatedDuration:n,next:d=>(l.value=h(d),l.done=d>=n,l)}}const y6=n=>n!==null;function R0(n,{repeat:t,repeatType:e="loop"},i,a=1){const l=n.filter(y6),h=a<0||t&&e!=="loop"&&t%2===1?0:l.length-1;return!h||i===void 0?l[h]:i}const _6={decay:D_,inertia:D_,tween:zc,keyframes:zc,spring:Sm};function MC(n){typeof n.type=="string"&&(n.type=_6[n.type])}class C0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const v6=n=>n/100;class D0 extends C0{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==En.now()&&this.tick(En.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;MC(t);const{type:e=zc,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=t;let{keyframes:h}=t;const d=e||zc;d!==zc&&typeof h[0]!="number"&&(this.mixKeyframes=Dh(v6,CC(h[0],h[1])),h=[0,100]);const p=d({...t,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=x0(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:E,repeatDelay:I,type:N,onUpdate:B,finalKeyframe:U}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const K=this.currentTime-p*(this.playbackSpeed>=0?1:-1),Z=this.playbackSpeed>=0?K<0:K>a;this.currentTime=Math.max(K,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let j=this.currentTime,Y=i;if(v){const w=Math.min(this.currentTime,a)/h;let R=Math.floor(w),P=w%1;!P&&w>=1&&(P=1),P===1&&R--,R=Math.min(R,v+1),R%2&&(E==="reverse"?(P=1-P,I&&(P-=I/h)):E==="mirror"&&(Y=u)),j=ls(0,1,P)*h}const rt=Z?{done:!1,value:y[0]}:Y.next(j);l&&(rt.value=l(rt.value));let{done:lt}=rt;!Z&&d!==null&&(lt=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&lt);return x&&N!==D_&&(rt.value=R0(y,this.options,U,this.speed)),B&&B(rt.value),x&&this.finish(),rt}then(t,e){return this.finished.then(t,e)}get duration(){return li(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+li(t)}get time(){return li(this.currentTime)}set time(t){t=Ps(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(En.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=li(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=n6,startTime:e}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=e??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(En.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function T6(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Wa=n=>n*180/Math.PI,V_=n=>{const t=Wa(Math.atan2(n[1],n[0]));return M_(t)},E6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:V_,rotateZ:V_,skewX:n=>Wa(Math.atan(n[1])),skewY:n=>Wa(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},M_=n=>(n=n%360,n<0&&(n+=360),n),C1=V_,D1=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),V1=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),b6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:D1,scaleY:V1,scale:n=>(D1(n)+V1(n))/2,rotateX:n=>M_(Wa(Math.atan2(n[6],n[5]))),rotateY:n=>M_(Wa(Math.atan2(-n[2],n[0]))),rotateZ:C1,rotate:C1,skewX:n=>Wa(Math.atan(n[4])),skewY:n=>Wa(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function N_(n){return n.includes("scale")?1:0}function P_(n,t){if(!n||n==="none")return N_(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(e)i=b6,a=e;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=E6,a=h}if(!a)return N_(t);const l=i[t],u=a[1].split(",").map(A6);return typeof l=="function"?l(u):u[l]}const S6=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return P_(e,t)};function A6(n){return parseFloat(n.trim())}const ou=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],lu=new Set(ou),M1=n=>n===au||n===yt,w6=new Set(["x","y","z"]),I6=ou.filter(n=>!w6.has(n));function x6(n){const t=[];return I6.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const Ur={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>P_(t,"x"),y:(n,{transform:t})=>P_(t,"y")};Ur.translateX=Ur.x;Ur.translateY=Ur.y;const eo=new Set;let O_=!1,k_=!1,L_=!1;function NC(){if(k_){const n=Array.from(eo).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const a=x6(i);a.length&&(e.set(i,a),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const a=e.get(i);a&&a.forEach(([l,u])=>{i.getValue(l)?.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}k_=!1,O_=!1,eo.forEach(n=>n.complete(L_)),eo.clear()}function PC(){eo.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(k_=!0)})}function R6(){L_=!0,PC(),NC(),L_=!1}class V0{constructor(t,e,i,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(eo.add(this),O_||(O_=!0,he.read(PC),he.resolveKeyframes(NC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:a}=this;if(t[0]===null){const l=a?.get(),u=t[t.length-1];if(l!==void 0)t[0]=l;else if(i&&e){const h=i.readValue(e,u);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=u),a&&l===void 0&&a.set(t[0])}T6(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),eo.delete(this)}cancel(){this.state==="scheduled"&&(eo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const C6=n=>n.startsWith("--");function D6(n,t,e){C6(t)?n.style.setProperty(t,e):n.style[t]=e}const V6=v0(()=>window.ScrollTimeline!==void 0),M6={};function N6(n,t){const e=v0(n);return()=>M6[t]??e()}const OC=N6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ic=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,N1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ic([0,.65,.55,1]),circOut:Ic([.55,0,1,.45]),backIn:Ic([.31,.01,.66,-.59]),backOut:Ic([.33,1.53,.69,.99])};function kC(n,t){if(n)return typeof n=="function"?OC()?DC(n,t):"ease-out":vC(n)?Ic(n):Array.isArray(n)?n.map(e=>kC(e,t)||N1.easeOut):N1[n]}function P6(n,t,e,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:d}={},p=void 0){const y={[t]:e};d&&(y.offset=d);const v=kC(h,a);Array.isArray(v)&&(y.easing=v);const E={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),n.animate(y,E)}function LC(n){return typeof n=="function"&&"applyToOptions"in n}function O6({type:n,...t}){return LC(n)&&OC()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class k6 extends C0{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:i,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:d}=t;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=t,_0(typeof t.type!="string");const p=O6(t);this.animation=P6(e,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=R0(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):D6(e,i,y),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return li(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+li(t)}get time(){return li(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ps(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&V6()?(this.animation.timeline=t,ui):e(this)}}const UC={anticipate:pC,backInOut:mC,circInOut:yC};function L6(n){return n in UC}function U6(n){typeof n.ease=="string"&&L6(n.ease)&&(n.ease=UC[n.ease])}const ky=10;class B6 extends k6{constructor(t){U6(t),MC(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:i,onComplete:a,element:l,...u}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const h=new D0({...u,autoplay:!1}),d=Math.max(ky,En.now()-this.startTime),p=ls(0,ky,d-ky);e.setWithVelocity(h.sample(Math.max(0,d-p)).value,h.sample(d).value,p),h.stop()}}const P1=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ta.test(n)||n==="0")&&!n.startsWith("url("));function z6(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function j6(n,t,e,i){const a=n[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=n[n.length-1],u=P1(a,t),h=P1(l,t);return!u||!h?!1:z6(n)||(e==="spring"||LC(e))&&i}function U_(n){n.duration=0,n.type="keyframes"}const F6=new Set(["opacity","clipPath","filter","transform"]),q6=v0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function H6(n){const{motionValue:t,name:e,repeatDelay:i,repeatType:a,damping:l,type:u}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=t.owner.getProps();return q6()&&e&&F6.has(e)&&(e!=="transform"||!p)&&!d&&!i&&a!=="mirror"&&l!==0&&u!=="inertia"}const G6=40;class K6 extends C0{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:d,motionValue:p,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=En.now();const E={autoplay:t,delay:e,type:i,repeat:a,repeatDelay:l,repeatType:u,name:d,motionValue:p,element:y,...v},I=y?.KeyframeResolver||V0;this.keyframeResolver=new I(h,(N,B,U)=>this.onKeyframesResolved(N,B,E,!U),d,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,i,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:d,isHandoff:p,onUpdate:y}=i;this.resolvedAt=En.now(),j6(t,l,u,h)||((zs.instantAnimations||!d)&&y?.(R0(t,i,e)),t[0]=t[t.length-1],U_(i),i.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>G6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...i,keyframes:t},I=!p&&H6(E),N=E.motionValue?.owner?.current,B=I?new B6({...E,element:N}):new D0(E);B.finished.then(()=>{this.notifyFinished()}).catch(ui),this.pendingTimeline&&(this.stopTimeline=B.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=B}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),R6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function BC(n,t,e,i=0,a=1){const l=Array.from(n).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),u=n.size,h=(u-1)*i;return typeof e=="function"?e(l,u):a===1?l*i:h-l*i}const $6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Y6(n){const t=$6.exec(n);if(!t)return[,];const[,e,i,a]=t;return[`--${e??i}`,a]}function zC(n,t,e=1){const[i,a]=Y6(n);if(!i)return;const l=window.getComputedStyle(t).getPropertyValue(i);if(l){const u=l.trim();return aC(u)?parseFloat(u):u}return S0(a)?zC(a,t,e+1):a}const Q6={type:"spring",stiffness:500,damping:25,restSpeed:10},X6=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),W6={type:"keyframes",duration:.8},J6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Z6=(n,{keyframes:t})=>t.length>2?W6:lu.has(n)?n.startsWith("scale")?X6(t[1]):Q6:J6,tL=n=>n!==null;function eL(n,{repeat:t,repeatType:e="loop"},i){const a=n.filter(tL),l=t&&e!=="loop"&&t%2===1?0:a.length-1;return a[l]}function M0(n,t){return n?.[t]??n?.default??n}function nL({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:d,elapsed:p,...y}){return!!Object.keys(y).length}const N0=(n,t,e,i={},a,l)=>u=>{const h=M0(i,n)||{},d=h.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Ps(d);const y={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-p,onUpdate:E=>{t.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:n,motionValue:t,element:l?void 0:a};nL(h)||Object.assign(y,Z6(n,y)),y.duration&&(y.duration=Ps(y.duration)),y.repeatDelay&&(y.repeatDelay=Ps(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(U_(y),y.delay===0&&(v=!0)),(zs.instantAnimations||zs.skipAnimations)&&(v=!0,U_(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!l&&t.get()!==void 0){const E=eL(y.keyframes,h);if(E!==void 0){he.update(()=>{y.onUpdate(E),y.onComplete()});return}}return h.isSync?new D0(y):new K6(y)};function O1(n){const t=[{},{}];return n?.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function P0(n,t,e,i){if(typeof t=="function"){const[a,l]=O1(i);t=t(e!==void 0?e:n.custom,a,l)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[a,l]=O1(i);t=t(e!==void 0?e:n.custom,a,l)}return t}function xl(n,t,e){const i=n.getProps();return P0(i,t,e!==void 0?e:i.custom,n)}const jC=new Set(["width","height","top","left","right","bottom",...ou]),k1=30,iL=n=>!isNaN(parseFloat(n));class sL{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=En.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=En.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=iL(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new T0);const i=this.events[t].add(e);return t==="change"?()=>{i(),he.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=En.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>k1)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,k1);return uC(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yl(n,t){return new sL(n,t)}const B_=n=>Array.isArray(n);function rL(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,Yl(e))}function aL(n){return B_(n)?n[n.length-1]||0:n}function oL(n,t){const e=xl(n,t);let{transitionEnd:i={},transition:a={},...l}=e||{};l={...l,...i};for(const u in l){const h=aL(l[u]);rL(n,u,h)}}const pn=n=>!!(n&&n.getVelocity);function lL(n){return!!(pn(n)&&n.add)}function z_(n,t){const e=n.getValue("willChange");if(lL(e))return e.add(t);if(!e&&zs.WillChange){const i=new zs.WillChange("auto");n.addValue("willChange",i),i.add(t)}}function O0(n){return n.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const uL="framerAppearId",FC="data-"+O0(uL);function qC(n){return n.props[FC]}function cL({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function HC(n,t,{delay:e=0,transitionOverride:i,type:a}={}){let{transition:l=n.getDefaultTransition(),transitionEnd:u,...h}=t;const d=l?.reduceMotion;i&&(l=i);const p=[],y=a&&n.animationState&&n.animationState.getState()[a];for(const v in h){const E=n.getValue(v,n.latestValues[v]??null),I=h[v];if(I===void 0||y&&cL(y,v))continue;const N={delay:e,...M0(l||{},v)},B=E.get();if(B!==void 0&&!E.isAnimating&&!Array.isArray(I)&&I===B&&!N.velocity)continue;let U=!1;if(window.MotionHandoffAnimation){const j=qC(n);if(j){const Y=window.MotionHandoffAnimation(j,v,he);Y!==null&&(N.startTime=Y,U=!0)}}z_(n,v);const K=d??n.shouldReduceMotion;E.start(N0(v,E,I,K&&jC.has(v)?{type:!1}:N,n,U));const Z=E.animation;Z&&p.push(Z)}return u&&Promise.all(p).then(()=>{he.update(()=>{u&&oL(n,u)})}),p}function j_(n,t,e={}){const i=xl(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(a=e.transitionOverride);const l=i?()=>Promise.all(HC(n,i,e)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=a;return hL(n,t,d,p,y,v,e)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,p]=h==="beforeChildren"?[l,u]:[u,l];return d().then(()=>p())}else return Promise.all([l(),u(e.delay)])}function hL(n,t,e=0,i=0,a=0,l=1,u){const h=[];for(const d of n.variantChildren)d.notify("AnimationStart",t),h.push(j_(d,t,{...u,delay:e+(typeof i=="function"?0:i)+BC(n.variantChildren,d,i,a,l)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(h)}function fL(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const a=t.map(l=>j_(n,l,e));i=Promise.all(a)}else if(typeof t=="string")i=j_(n,t,e);else{const a=typeof t=="function"?xl(n,t,e.custom):t;i=Promise.all(HC(n,a,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}const dL={test:n=>n==="auto",parse:n=>n},GC=n=>t=>t.test(n),KC=[au,yt,rs,Cr,z3,B3,dL],L1=n=>KC.find(GC(n));function mL(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||lC(n):!0}const pL=new Set(["brightness","contrast","saturate","opacity"]);function gL(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(A0)||[];if(!i)return n;const a=e.replace(i,"");let l=pL.has(t)?1:0;return i!==e&&(l*=100),t+"("+l+a+")"}const yL=/\b([a-z-]*)\(.*?\)/gu,F_={...ta,getAnimatableNone:n=>{const t=n.match(yL);return t?t.map(gL).join(" "):n}},U1={...au,transform:Math.round},_L={rotate:Cr,rotateX:Cr,rotateY:Cr,rotateZ:Cr,scale:Ed,scaleX:Ed,scaleY:Ed,scaleZ:Ed,skew:Cr,skewX:Cr,skewY:Cr,distance:yt,translateX:yt,translateY:yt,translateZ:yt,x:yt,y:yt,z:yt,perspective:yt,transformPerspective:yt,opacity:uh,originX:A1,originY:A1,originZ:yt},k0={borderWidth:yt,borderTopWidth:yt,borderRightWidth:yt,borderBottomWidth:yt,borderLeftWidth:yt,borderRadius:yt,borderTopLeftRadius:yt,borderTopRightRadius:yt,borderBottomRightRadius:yt,borderBottomLeftRadius:yt,width:yt,maxWidth:yt,height:yt,maxHeight:yt,top:yt,right:yt,bottom:yt,left:yt,inset:yt,insetBlock:yt,insetBlockStart:yt,insetBlockEnd:yt,insetInline:yt,insetInlineStart:yt,insetInlineEnd:yt,padding:yt,paddingTop:yt,paddingRight:yt,paddingBottom:yt,paddingLeft:yt,paddingBlock:yt,paddingBlockStart:yt,paddingBlockEnd:yt,paddingInline:yt,paddingInlineStart:yt,paddingInlineEnd:yt,margin:yt,marginTop:yt,marginRight:yt,marginBottom:yt,marginLeft:yt,marginBlock:yt,marginBlockStart:yt,marginBlockEnd:yt,marginInline:yt,marginInlineStart:yt,marginInlineEnd:yt,fontSize:yt,backgroundPositionX:yt,backgroundPositionY:yt,..._L,zIndex:U1,fillOpacity:uh,strokeOpacity:uh,numOctaves:U1},vL={...k0,color:ze,backgroundColor:ze,outlineColor:ze,fill:ze,stroke:ze,borderColor:ze,borderTopColor:ze,borderRightColor:ze,borderBottomColor:ze,borderLeftColor:ze,filter:F_,WebkitFilter:F_},$C=n=>vL[n];function YC(n,t){let e=$C(n);return e!==F_&&(e=ta),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const TL=new Set(["auto","none","0"]);function EL(n,t,e){let i=0,a;for(;i<n.length&&!a;){const l=n[i];typeof l=="string"&&!TL.has(l)&&ch(l).values.length&&(a=n[i]),i++}if(a&&e)for(const l of t)n[l]=YC(e,a)}class bL extends V0{constructor(t,e,i,a,l){super(t,e,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let v=t[y];if(typeof v=="string"&&(v=v.trim(),S0(v))){const E=zC(v,e.current);E!==void 0&&(t[y]=E),y===t.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!jC.has(i)||t.length!==2)return;const[a,l]=t,u=L1(a),h=L1(l),d=S1(a),p=S1(l);if(d!==p&&Ur[i]){this.needsMeasurement=!0;return}if(u!==h)if(M1(u)&&M1(h))for(let y=0;y<t.length;y++){const v=t[y];typeof v=="string"&&(t[y]=parseFloat(v))}else Ur[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let a=0;a<t.length;a++)(t[a]===null||mL(t[a]))&&i.push(a);i.length&&EL(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ur[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const a=e[e.length-1];a!==void 0&&t.getValue(i,a).jump(a,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const a=t.getValue(e);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=Ur[e](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{t.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function SL(n,t,e){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const a=e?.[n]??i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n).filter(i=>i!=null)}const QC=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function q_(n){return oC(n)&&"offsetHeight"in n}const{schedule:L0}=TC(queueMicrotask,!1),Si={x:!1,y:!1};function XC(){return Si.x||Si.y}function AL(n){return n==="x"||n==="y"?Si[n]?null:(Si[n]=!0,()=>{Si[n]=!1}):Si.x||Si.y?null:(Si.x=Si.y=!0,()=>{Si.x=Si.y=!1})}function WC(n,t){const e=SL(n),i=new AbortController,a={passive:!0,...t,signal:i.signal};return[e,a,()=>i.abort()]}function B1(n){return!(n.pointerType==="touch"||XC())}function wL(n,t,e={}){const[i,a,l]=WC(n,e),u=h=>{if(!B1(h))return;const{target:d}=h,p=t(d,h);if(typeof p!="function"||!d)return;const y=v=>{B1(v)&&(p(v),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,a)};return i.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const JC=(n,t)=>t?n===t?!0:JC(n,t.parentElement):!1,U0=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,IL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ZC(n){return IL.has(n.tagName)||n.isContentEditable===!0}const Fd=new WeakSet;function z1(n){return t=>{t.key==="Enter"&&n(t)}}function Ly(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const xL=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=z1(()=>{if(Fd.has(e))return;Ly(e,"down");const a=z1(()=>{Ly(e,"up")}),l=()=>Ly(e,"cancel");e.addEventListener("keyup",a,t),e.addEventListener("blur",l,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function j1(n){return U0(n)&&!XC()}function RL(n,t,e={}){const[i,a,l]=WC(n,e),u=h=>{const d=h.currentTarget;if(!j1(h))return;Fd.add(d);const p=t(d,h),y=(I,N)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",E),Fd.has(d)&&Fd.delete(d),j1(I)&&typeof p=="function"&&p(I,{success:N})},v=I=>{y(I,d===window||d===document||e.useGlobalTarget||JC(d,I.target))},E=I=>{y(I,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",E,a)};return i.forEach(h=>{(e.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),q_(h)&&(h.addEventListener("focus",p=>xL(p,a)),!ZC(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function tD(n){return oC(n)&&"ownerSVGElement"in n}function CL(n){return tD(n)&&n.tagName==="svg"}const DL=[...KC,ze,ta],VL=n=>DL.find(GC(n)),F1=()=>({translate:0,scale:1,origin:0,originPoint:0}),vl=()=>({x:F1(),y:F1()}),q1=()=>({min:0,max:0}),Ke=()=>({x:q1(),y:q1()}),H_={current:null},eD={current:!1},ML=typeof window<"u";function NL(){if(eD.current=!0,!!ML)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>H_.current=n.matches;n.addEventListener("change",t),t()}else H_.current=!1}const PL=new WeakMap;function ap(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function hh(n){return typeof n=="string"||Array.isArray(n)}const B0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],z0=["initial",...B0];function op(n){return ap(n.animate)||z0.some(t=>hh(n[t]))}function nD(n){return!!(op(n)||n.variants)}function OL(n,t,e){for(const i in t){const a=t[i],l=e[i];if(pn(a))n.addValue(i,a);else if(pn(l))n.addValue(i,Yl(a,{owner:n}));else if(l!==a)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=n.getStaticValue(i);n.addValue(i,Yl(u!==void 0?u:a,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const H1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Am={};function iD(n){Am=n}function kL(){return Am}class LL{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=V0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=En.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,he.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=e.initial?{...d}:{},this.renderState=p,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=op(e),this.isVariantNode=nD(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(e,{},this);for(const E in v){const I=v[E];d[E]!==void 0&&pn(I)&&I.set(d[E])}}mount(t){this.current=t,PL.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(eD.current||NL(),this.shouldReduceMotion=H_.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Zr(this.notifyUpdate),Zr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=lu.has(t);i&&this.onBindTransform&&this.onBindTransform();const a=e.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&he.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Am){const e=Am[t];if(!e)continue;const{isEnabled:i,Feature:a}=e;if(!this.features[t]&&a&&i(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ke()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<H1.length;i++){const a=H1[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=t[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=OL(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=Yl(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(aC(i)||lC(i))?i=parseFloat(i):!VL(i)&&ta.test(e)&&(i=YC(t,e)),this.setBaseTarget(t,pn(i)?i.get():i)),pn(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const l=P0(this.props,e,this.presenceContext?.custom);l&&(i=l[t])}if(e&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!pn(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new T0),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){L0.render(this.render)}}class sD extends LL{constructor(){super(...arguments),this.KeyframeResolver=bL}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){const i=t.style;return i?i[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;pn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class ra{constructor(t){this.isMounted=!1,this.node=t}update(){}}function rD({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function UL({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function BL(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}function Uy(n){return n===void 0||n===1}function G_({scale:n,scaleX:t,scaleY:e}){return!Uy(n)||!Uy(t)||!Uy(e)}function Ha(n){return G_(n)||aD(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function aD(n){return G1(n.x)||G1(n.y)}function G1(n){return n&&n!=="0%"}function wm(n,t,e){const i=n-e,a=t*i;return e+a}function K1(n,t,e,i,a){return a!==void 0&&(n=wm(n,a,i)),wm(n,e,i)+t}function K_(n,t=0,e=1,i,a){n.min=K1(n.min,t,e,i,a),n.max=K1(n.max,t,e,i,a)}function oD(n,{x:t,y:e}){K_(n.x,t.translate,t.scale,t.originPoint),K_(n.y,e.translate,e.scale,e.originPoint)}const $1=.999999999999,Y1=1.0000000000001;function zL(n,t,e,i=!1){const a=e.length;if(!a)return;t.x=t.y=1;let l,u;for(let h=0;h<a;h++){l=e[h],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&El(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,oD(n,u)),i&&Ha(l.latestValues)&&El(n,l.latestValues))}t.x<Y1&&t.x>$1&&(t.x=1),t.y<Y1&&t.y>$1&&(t.y=1)}function Tl(n,t){n.min=n.min+t,n.max=n.max+t}function Q1(n,t,e,i,a=.5){const l=ve(n.min,n.max,a);K_(n,t,e,l,i)}function El(n,t){Q1(n.x,t.x,t.scaleX,t.scale,t.originX),Q1(n.y,t.y,t.scaleY,t.scale,t.originY)}function lD(n,t){return rD(BL(n.getBoundingClientRect(),t))}function jL(n,t,e){const i=lD(n,e),{scroll:a}=t;return a&&(Tl(i.x,a.offset.x),Tl(i.y,a.offset.y)),i}const FL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qL=ou.length;function HL(n,t,e){let i="",a=!0;for(let l=0;l<qL;l++){const u=ou[l],h=n[u];if(h===void 0)continue;let d=!0;if(typeof h=="number")d=h===(u.startsWith("scale")?1:0);else{const p=parseFloat(h);d=u.startsWith("scale")?p===1:p===0}if(!d||e){const p=QC(h,k0[u]);if(!d){a=!1;const y=FL[u]||u;i+=`${y}(${p}) `}e&&(t[u]=p)}}return i=i.trim(),e?i=e(t,a?"":i):a&&(i="none"),i}function j0(n,t,e){const{style:i,vars:a,transformOrigin:l}=n;let u=!1,h=!1;for(const d in t){const p=t[d];if(lu.has(d)){u=!0;continue}else if(bC(d)){a[d]=p;continue}else{const y=QC(p,k0[d]);d.startsWith("origin")?(h=!0,l[d]=y):i[d]=y}}if(t.transform||(u||e?i.transform=HL(t,n.transform,e):i.transform&&(i.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:y=0}=l;i.transformOrigin=`${d} ${p} ${y}`}}function uD(n,{style:t,vars:e},i,a){const l=n.style;let u;for(u in t)l[u]=t[u];a?.applyProjectionStyles(l,i);for(u in e)l.setProperty(u,e[u])}function X1(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Ec={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(yt.test(n))n=parseFloat(n);else return n;const e=X1(n,t.target.x),i=X1(n,t.target.y);return`${e}% ${i}%`}},GL={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,a=ta.parse(n);if(a.length>5)return i;const l=ta.createTransformer(n),u=typeof a[0]!="number"?1:0,h=e.x.scale*t.x,d=e.y.scale*t.y;a[0+u]/=h,a[1+u]/=d;const p=ve(h,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}},$_={borderRadius:{...Ec,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ec,borderTopRightRadius:Ec,borderBottomLeftRadius:Ec,borderBottomRightRadius:Ec,boxShadow:GL};function cD(n,{layout:t,layoutId:e}){return lu.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!$_[n]||n==="opacity")}function F0(n,t,e){const i=n.style,a=t?.style,l={};if(!i)return l;for(const u in i)(pn(i[u])||a&&pn(a[u])||cD(u,n)||e?.getValue(u)?.liveStyle!==void 0)&&(l[u]=i[u]);return l}function KL(n){return window.getComputedStyle(n)}class $L extends sD{constructor(){super(...arguments),this.type="html",this.renderInstance=uD}readValueFromInstance(t,e){if(lu.has(e))return this.projection?.isProjecting?N_(e):S6(t,e);{const i=KL(t),a=(bC(e)?i.getPropertyValue(e):i[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return lD(t,e)}build(t,e,i){j0(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return F0(t,e,i)}}const YL={offset:"stroke-dashoffset",array:"stroke-dasharray"},QL={offset:"strokeDashoffset",array:"strokeDasharray"};function XL(n,t,e=1,i=0,a=!0){n.pathLength=1;const l=a?YL:QL;n[l.offset]=`${-i}`,n[l.array]=`${t} ${e}`}const WL=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function hD(n,{attrX:t,attrY:e,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},d,p,y){if(j0(n,h,p),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:E}=n;v.transform&&(E.transform=v.transform,delete v.transform),(E.transform||v.transformOrigin)&&(E.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete v.transformBox);for(const I of WL)v[I]!==void 0&&(E[I]=v[I],delete v[I]);t!==void 0&&(v.x=t),e!==void 0&&(v.y=e),i!==void 0&&(v.scale=i),a!==void 0&&XL(v,a,l,u,!1)}const fD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),dD=n=>typeof n=="string"&&n.toLowerCase()==="svg";function JL(n,t,e,i){uD(n,t,void 0,i);for(const a in t.attrs)n.setAttribute(fD.has(a)?a:O0(a),t.attrs[a])}function mD(n,t,e){const i=F0(n,t,e);for(const a in n)if(pn(n[a])||pn(t[a])){const l=ou.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=n[a]}return i}class ZL extends sD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ke}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(lu.has(e)){const i=$C(e);return i&&i.default||0}return e=fD.has(e)?e:O0(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return mD(t,e,i)}build(t,e,i){hD(t,e,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,e,i,a){JL(t,e,i,a)}mount(t){this.isSVGTag=dD(t.tagName),super.mount(t)}}const t9=z0.length;function pD(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?pD(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<t9;e++){const i=z0[e],a=n.props[i];(hh(a)||a===!1)&&(t[i]=a)}return t}function gD(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const e9=[...B0].reverse(),n9=B0.length;function i9(n){return t=>Promise.all(t.map(({animation:e,options:i})=>fL(n,e,i)))}function s9(n){let t=i9(n),e=W1(),i=!0;const a=d=>(p,y)=>{const v=xl(n,y,d==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:E,transitionEnd:I,...N}=v;p={...p,...N,...I}}return p};function l(d){t=d(n)}function u(d){const{props:p}=n,y=pD(n.parent)||{},v=[],E=new Set;let I={},N=1/0;for(let U=0;U<n9;U++){const K=e9[U],Z=e[K],j=p[K]!==void 0?p[K]:y[K],Y=hh(j),rt=K===d?Z.isActive:null;rt===!1&&(N=U);let lt=j===y[K]&&j!==p[K]&&Y;if(lt&&i&&n.manuallyAnimateOnMount&&(lt=!1),Z.protectedKeys={...I},!Z.isActive&&rt===null||!j&&!Z.prevProp||ap(j)||typeof j=="boolean")continue;const x=r9(Z.prevProp,j);let w=x||K===d&&Z.isActive&&!lt&&Y||U>N&&Y,R=!1;const P=Array.isArray(j)?j:[j];let M=P.reduce(a(K),{});rt===!1&&(M={});const{prevResolvedValues:k={}}=Z,C={...k,...M},Ot=ot=>{w=!0,E.has(ot)&&(R=!0,E.delete(ot)),Z.needsAnimating[ot]=!0;const dt=n.getValue(ot);dt&&(dt.liveStyle=!1)};for(const ot in C){const dt=M[ot],Dt=k[ot];if(I.hasOwnProperty(ot))continue;let Ut=!1;B_(dt)&&B_(Dt)?Ut=!gD(dt,Dt):Ut=dt!==Dt,Ut?dt!=null?Ot(ot):E.add(ot):dt!==void 0&&E.has(ot)?Ot(ot):Z.protectedKeys[ot]=!0}Z.prevProp=j,Z.prevResolvedValues=M,Z.isActive&&(I={...I,...M}),i&&n.blockInitialAnimation&&(w=!1);const Nt=lt&&x;w&&(!Nt||R)&&v.push(...P.map(ot=>{const dt={type:K};if(typeof ot=="string"&&i&&!Nt&&n.manuallyAnimateOnMount&&n.parent){const{parent:Dt}=n,Ut=xl(Dt,ot);if(Dt.enteringChildren&&Ut){const{delayChildren:L}=Ut.transition||{};dt.delay=BC(Dt.enteringChildren,n,L)}}return{animation:ot,options:dt}}))}if(E.size){const U={};if(typeof p.initial!="boolean"){const K=xl(n,Array.isArray(p.initial)?p.initial[0]:p.initial);K&&K.transition&&(U.transition=K.transition)}E.forEach(K=>{const Z=n.getBaseTarget(K),j=n.getValue(K);j&&(j.liveStyle=!0),U[K]=Z??null}),v.push({animation:U})}let B=!!v.length;return i&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(B=!1),i=!1,B?t(v):Promise.resolve()}function h(d,p){if(e[d].isActive===p)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(d,p)),e[d].isActive=p;const y=u(d);for(const v in e)e[v].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>e,reset:()=>{e=W1()}}}function r9(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!gD(t,n):!1}function Ba(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function W1(){return{animate:Ba(!0),whileInView:Ba(),whileHover:Ba(),whileTap:Ba(),whileDrag:Ba(),whileFocus:Ba(),exit:Ba()}}function J1(n,t){n.min=t.min,n.max=t.max}function bi(n,t){J1(n.x,t.x),J1(n.y,t.y)}function Z1(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}const yD=1e-4,a9=1-yD,o9=1+yD,_D=.01,l9=0-_D,u9=0+_D;function bn(n){return n.max-n.min}function c9(n,t,e){return Math.abs(n-t)<=e}function tw(n,t,e,i=.5){n.origin=i,n.originPoint=ve(t.min,t.max,n.origin),n.scale=bn(e)/bn(t),n.translate=ve(e.min,e.max,n.origin)-n.originPoint,(n.scale>=a9&&n.scale<=o9||isNaN(n.scale))&&(n.scale=1),(n.translate>=l9&&n.translate<=u9||isNaN(n.translate))&&(n.translate=0)}function jc(n,t,e,i){tw(n.x,t.x,e.x,i?i.originX:void 0),tw(n.y,t.y,e.y,i?i.originY:void 0)}function ew(n,t,e){n.min=e.min+t.min,n.max=n.min+bn(t)}function h9(n,t,e){ew(n.x,t.x,e.x),ew(n.y,t.y,e.y)}function nw(n,t,e){n.min=t.min-e.min,n.max=n.min+bn(t)}function Im(n,t,e){nw(n.x,t.x,e.x),nw(n.y,t.y,e.y)}function iw(n,t,e,i,a){return n-=t,n=wm(n,1/e,i),a!==void 0&&(n=wm(n,1/a,i)),n}function f9(n,t=0,e=1,i=.5,a,l=n,u=n){if(rs.test(t)&&(t=parseFloat(t),t=ve(u.min,u.max,t/100)-u.min),typeof t!="number")return;let h=ve(l.min,l.max,i);n===l&&(h-=t),n.min=iw(n.min,t,e,h,a),n.max=iw(n.max,t,e,h,a)}function sw(n,t,[e,i,a],l,u){f9(n,t[e],t[i],t[a],t.scale,l,u)}const d9=["x","scaleX","originX"],m9=["y","scaleY","originY"];function rw(n,t,e,i){sw(n.x,t,d9,e?e.x:void 0,i?i.x:void 0),sw(n.y,t,m9,e?e.y:void 0,i?i.y:void 0)}function aw(n){return n.translate===0&&n.scale===1}function vD(n){return aw(n.x)&&aw(n.y)}function ow(n,t){return n.min===t.min&&n.max===t.max}function p9(n,t){return ow(n.x,t.x)&&ow(n.y,t.y)}function lw(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function TD(n,t){return lw(n.x,t.x)&&lw(n.y,t.y)}function uw(n){return bn(n.x)/bn(n.y)}function cw(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}function oi(n){return[n("x"),n("y")]}function g9(n,t,e){let i="";const a=n.x.translate/t.x,l=n.y.translate/t.y,u=e?.z||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:E,skewX:I,skewY:N}=e;p&&(i=`perspective(${p}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),E&&(i+=`rotateY(${E}deg) `),I&&(i+=`skewX(${I}deg) `),N&&(i+=`skewY(${N}deg) `)}const h=n.x.scale*t.x,d=n.y.scale*t.y;return(h!==1||d!==1)&&(i+=`scale(${h}, ${d})`),i||"none"}const ED=["TopLeft","TopRight","BottomLeft","BottomRight"],y9=ED.length,hw=n=>typeof n=="string"?parseFloat(n):n,fw=n=>typeof n=="number"||yt.test(n);function _9(n,t,e,i,a,l){a?(n.opacity=ve(0,e.opacity??1,v9(i)),n.opacityExit=ve(t.opacity??1,0,T9(i))):l&&(n.opacity=ve(t.opacity??1,e.opacity??1,i));for(let u=0;u<y9;u++){const h=`border${ED[u]}Radius`;let d=dw(t,h),p=dw(e,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||fw(d)===fw(p)?(n[h]=Math.max(ve(hw(d),hw(p),i),0),(rs.test(p)||rs.test(d))&&(n[h]+="%")):n[h]=p}(t.rotate||e.rotate)&&(n.rotate=ve(t.rotate||0,e.rotate||0,i))}function dw(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const v9=bD(0,.5,gC),T9=bD(.5,.95,ui);function bD(n,t,e){return i=>i<n?0:i>t?1:e(lh(n,t,i))}function E9(n,t,e){const i=pn(n)?n:Yl(n);return i.start(N0("",i,t,e)),i.animation}function fh(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}const b9=(n,t)=>n.depth-t.depth;class S9{constructor(){this.children=[],this.isDirty=!1}add(t){g0(this.children,t),this.isDirty=!0}remove(t){y0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(b9),this.isDirty=!1,this.children.forEach(t)}}function A9(n,t){const e=En.now(),i=({timestamp:a})=>{const l=a-e;l>=t&&(Zr(i),n(l-t))};return he.setup(i,!0),()=>Zr(i)}function qd(n){return pn(n)?n.get():n}class w9{constructor(){this.members=[]}add(t){g0(this.members,t),t.scheduleRender()}remove(t){if(y0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(a=>t===a);if(e===0)return!1;let i;for(let a=e;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender();const a=i.options.layoutDependency,l=t.options.layoutDependency;a!==void 0&&l!==void 0&&a===l||(t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:h}=t.options;h===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Hd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},By=["","X","Y","Z"],I9=1e3;let x9=0;function zy(n,t,e,i){const{latestValues:a}=t;a[n]&&(e[n]=a[n],t.setStaticValue(n,0),i&&(i[n]=0))}function SD(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=qC(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:a,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",he,!(a||l))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&SD(i)}function AD({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},h=t?.()){this.id=x9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(D9),this.nodes.forEach(P9),this.nodes.forEach(O9),this.nodes.forEach(V9)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new S9)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new T0),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=tD(u)&&!CL(u),this.instance=u;const{layoutId:h,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),n){let y,v=0;const E=()=>this.root.updateBlockedByResize=!1;he.read(()=>{v=window.innerWidth}),n(u,()=>{const I=window.innerWidth;I!==v&&(v=I,this.root.updateBlockedByResize=!0,y&&y(),y=A9(E,250),Hd.hasAnimatedSinceResize&&(Hd.hasAnimatedSinceResize=!1,this.nodes.forEach(gw)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:E,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||p.getDefaultTransition()||z9,{onLayoutAnimationStart:B,onLayoutAnimationComplete:U}=p.getProps(),K=!this.targetLayout||!TD(this.targetLayout,I),Z=!v&&E;if(this.options.layoutRoot||this.resumeFrom||Z||v&&(K||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...M0(N,"layout"),onPlay:B,onComplete:U};(p.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(y,Z)}else v||gw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(k9),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&SD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(pw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(N9),this.nodes.forEach(R9),this.nodes.forEach(C9)):this.nodes.forEach(pw),this.clearAllSnapshots();const h=En.now();ln.delta=ls(0,1e3/60,h-ln.timestamp),ln.timestamp=h,ln.isProcessing=!0,Vy.update.process(ln),Vy.preRender.process(ln),Vy.render.process(ln),ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,L0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(M9),this.sharedNodes.forEach(L9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,he.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){he.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!bn(this.snapshot.measuredBox.x)&&!bn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ke(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!vD(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||Ha(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),j9(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Ke();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(F9))){const{scroll:p}=this.root;p&&(Tl(h.x,p.offset.x),Tl(h.y,p.offset.y))}return h}removeElementScroll(u){const h=Ke();if(bi(h,u),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&bi(h,u),Tl(h.x,y.offset.x),Tl(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const d=Ke();bi(d,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&El(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ha(y.latestValues)&&El(d,y.latestValues)}return Ha(this.latestValues)&&El(d,this.latestValues),d}removeTransform(u){const h=Ke();bi(h,u);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Ha(p.latestValues))continue;G_(p.latestValues)&&p.updateSnapshot();const y=Ke(),v=p.measurePageBox();bi(y,v),rw(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Ha(this.latestValues)&&rw(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=ln.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ke(),this.targetWithTransforms=Ke()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),h9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bi(this.target,this.layout.layoutBox),oD(this.target,this.targetDelta)):bi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||G_(this.parent.latestValues)||aD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,h,d){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ke(),this.relativeTargetOrigin=Ke(),Im(this.relativeTargetOrigin,h,d),bi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ln.timestamp&&(d=!1),d)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;bi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,E=this.treeScale.y;zL(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Ke());const{target:I}=u;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Z1(this.prevProjectionDelta.x,this.projectionDelta.x),Z1(this.prevProjectionDelta.y,this.projectionDelta.y)),jc(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==E||!cw(this.projectionDelta.x,this.prevProjectionDelta.x)||!cw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vl(),this.projectionDelta=vl(),this.projectionDeltaWithTransform=vl()}setAnimationOrigin(u,h=!1){const d=this.snapshot,p=d?d.latestValues:{},y={...this.latestValues},v=vl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=Ke(),I=d?d.source:void 0,N=this.layout?this.layout.source:void 0,B=I!==N,U=this.getStack(),K=!U||U.members.length<=1,Z=!!(B&&!K&&this.options.crossfade===!0&&!this.path.some(B9));this.animationProgress=0;let j;this.mixTargetDelta=Y=>{const rt=Y/1e3;yw(v.x,u.x,rt),yw(v.y,u.y,rt),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Im(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),U9(this.relativeTarget,this.relativeTargetOrigin,E,rt),j&&p9(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Ke()),bi(j,this.relativeTarget)),B&&(this.animationValues=y,_9(y,p,this.latestValues,rt,Z,K)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=rt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=he.update(()=>{Hd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Yl(0)),this.currentAnimation=E9(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(I9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:y}=u;if(!(!h||!d||!p)){if(this!==u&&this.layout&&p&&wD(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||Ke();const v=bn(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+v;const E=bn(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+E}bi(h,d),El(h,y),jc(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new w9),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&zy("z",u,p,this.animationValues);for(let y=0;y<By.length;y++)zy(`rotate${By[y]}`,u,p,this.animationValues),zy(`skew${By[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=qd(h?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=qd(h?.pointerEvents)||""),this.hasProjected&&!Ha(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=g9(this.projectionDeltaWithTransform,this.treeScale,y);d&&(v=d(y,v)),u.transform=v;const{x:E,y:I}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${I.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const N in $_){if(y[N]===void 0)continue;const{correct:B,applyTo:U,isCSSVariable:K}=$_[N],Z=v==="none"?y[N]:B(y[N],p);if(U){const j=U.length;for(let Y=0;Y<j;Y++)u[U[Y]]=Z}else K?this.options.visualElement.renderState.vars[N]=Z:u[N]=Z}this.options.layoutId&&(u.pointerEvents=p===this?qd(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(mw),this.root.sharedNodes.clear()}}}function R9(n){n.updateLayout()}function C9(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:i}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?oi(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],E=bn(v);v.min=e[y].min,v.max=v.min+E}):wD(a,t.layoutBox,e)&&oi(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],E=bn(e[y]);v.max=v.min+E,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+E)});const u=vl();jc(u,e,t.layoutBox);const h=vl();l?jc(h,n.applyTransform(i,!0),t.measuredBox):jc(h,e,t.layoutBox);const d=!vD(u);let p=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:E}=y;if(v&&E){const I=Ke();Im(I,t.layoutBox,v.layoutBox);const N=Ke();Im(N,e,E.layoutBox),TD(I,N)||(p=!0),y.options.layoutRoot&&(n.relativeTarget=N,n.relativeTargetOrigin=I,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function D9(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function V9(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function M9(n){n.clearSnapshot()}function mw(n){n.clearMeasurements()}function pw(n){n.isLayoutDirty=!1}function N9(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function gw(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function P9(n){n.resolveTargetDelta()}function O9(n){n.calcProjection()}function k9(n){n.resetSkewAndRotation()}function L9(n){n.removeLeadSnapshot()}function yw(n,t,e){n.translate=ve(t.translate,0,e),n.scale=ve(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function _w(n,t,e,i){n.min=ve(t.min,e.min,i),n.max=ve(t.max,e.max,i)}function U9(n,t,e,i){_w(n.x,t.x,e.x,i),_w(n.y,t.y,e.y,i)}function B9(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const z9={duration:.45,ease:[.4,0,.1,1]},vw=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Tw=vw("applewebkit/")&&!vw("chrome/")?Math.round:ui;function Ew(n){n.min=Tw(n.min),n.max=Tw(n.max)}function j9(n){Ew(n.x),Ew(n.y)}function wD(n,t,e){return n==="position"||n==="preserve-aspect"&&!c9(uw(t),uw(e),.2)}function F9(n){return n!==n.root&&n.scroll?.wasRoot}const q9=AD({attachResizeListener:(n,t)=>fh(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),jy={current:void 0},ID=AD({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!jy.current){const n=new q9({});n.mount(window),n.setOptions({layoutScroll:!0}),jy.current=n}return jy.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),q0=X.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function bw(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function H9(...n){return t=>{let e=!1;const i=n.map(a=>{const l=bw(a,t);return!e&&typeof l=="function"&&(e=!0),l});if(e)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():bw(n[a],null)}}}}function G9(...n){return X.useCallback(H9(...n),n)}class K9 extends X.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const i=e.offsetParent,a=q_(i)&&i.offsetWidth||0,l=q_(i)&&i.offsetHeight||0,u=this.props.sizeRef.current;u.height=e.offsetHeight||0,u.width=e.offsetWidth||0,u.top=e.offsetTop,u.left=e.offsetLeft,u.right=a-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function $9({children:n,isPresent:t,anchorX:e,anchorY:i,root:a}){const l=X.useId(),u=X.useRef(null),h=X.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=X.useContext(q0),p=n.props?.ref??n?.ref,y=G9(u,p);return X.useInsertionEffect(()=>{const{width:v,height:E,top:I,left:N,right:B,bottom:U}=h.current;if(t||!u.current||!v||!E)return;const K=e==="left"?`left: ${N}`:`right: ${B}`,Z=i==="bottom"?`bottom: ${U}`:`top: ${I}`;u.current.dataset.motionPopId=l;const j=document.createElement("style");d&&(j.nonce=d);const Y=a??document.head;return Y.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${E}px !important;
            ${K}px !important;
            ${Z}px !important;
          }
        `),()=>{Y.contains(j)&&Y.removeChild(j)}},[t]),V.jsx(K9,{isPresent:t,childRef:u,sizeRef:h,children:X.cloneElement(n,{ref:y})})}const Y9=({children:n,initial:t,isPresent:e,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h,anchorY:d,root:p})=>{const y=p0(Q9),v=X.useId();let E=!0,I=X.useMemo(()=>(E=!1,{id:v,initial:t,isPresent:e,custom:a,onExitComplete:N=>{y.set(N,!0);for(const B of y.values())if(!B)return;i&&i()},register:N=>(y.set(N,!1),()=>y.delete(N))}),[e,y,i]);return l&&E&&(I={...I}),X.useMemo(()=>{y.forEach((N,B)=>y.set(B,!1))},[e]),X.useEffect(()=>{!e&&!y.size&&i&&i()},[e]),u==="popLayout"&&(n=V.jsx($9,{isPresent:e,anchorX:h,anchorY:d,root:p,children:n})),V.jsx(rp.Provider,{value:I,children:n})};function Q9(){return new Map}function xD(n=!0){const t=X.useContext(rp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:a}=t,l=X.useId();X.useEffect(()=>{if(n)return a(l)},[n]);const u=X.useCallback(()=>n&&i&&i(l),[l,i,n]);return!e&&i?[!1,u]:[!0]}const bd=n=>n.key||"";function Sw(n){const t=[];return X.Children.forEach(n,e=>{X.isValidElement(e)&&t.push(e)}),t}const Nh=({children:n,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left",anchorY:d="top",root:p})=>{const[y,v]=xD(u),E=X.useMemo(()=>Sw(n),[n]),I=u&&!y?[]:E.map(bd),N=X.useRef(!0),B=X.useRef(E),U=p0(()=>new Map),K=X.useRef(new Set),[Z,j]=X.useState(E),[Y,rt]=X.useState(E);rC(()=>{N.current=!1,B.current=E;for(let w=0;w<Y.length;w++){const R=bd(Y[w]);I.includes(R)?(U.delete(R),K.current.delete(R)):U.get(R)!==!0&&U.set(R,!1)}},[Y,I.length,I.join("-")]);const lt=[];if(E!==Z){let w=[...E];for(let R=0;R<Y.length;R++){const P=Y[R],M=bd(P);I.includes(M)||(w.splice(R,0,P),lt.push(P))}return l==="wait"&&lt.length&&(w=lt),rt(Sw(w)),j(E),null}const{forceRender:x}=X.useContext(m0);return V.jsx(V.Fragment,{children:Y.map(w=>{const R=bd(w),P=u&&!y?!1:E===Y||I.includes(R),M=()=>{if(K.current.has(R))return;if(K.current.add(R),U.has(R))U.set(R,!0);else return;let k=!0;U.forEach(C=>{C||(k=!1)}),k&&(x?.(),rt(B.current),u&&v?.(),i&&i())};return V.jsx(Y9,{isPresent:P,initial:!N.current||e?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:P?void 0:M,anchorX:h,anchorY:d,children:w},R)})})},RD=X.createContext({strict:!1}),Aw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let ww=!1;function X9(){if(ww)return;const n={};for(const t in Aw)n[t]={isEnabled:e=>Aw[t].some(i=>!!e[i])};iD(n),ww=!0}function CD(){return X9(),kL()}function W9(n){const t=CD();for(const e in n)t[e]={...t[e],...n[e]};iD(t)}const J9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xm(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||J9.has(n)}let DD=n=>!xm(n);function Z9(n){typeof n=="function"&&(DD=t=>t.startsWith("on")?!xm(t):n(t))}try{Z9(require("@emotion/is-prop-valid").default)}catch{}function tU(n,t,e){const i={};for(const a in n)a==="values"&&typeof n.values=="object"||(DD(a)||e===!0&&xm(a)||!t&&!xm(a)||n.draggable&&a.startsWith("onDrag"))&&(i[a]=n[a]);return i}const lp=X.createContext({});function eU(n,t){if(op(n)){const{initial:e,animate:i}=n;return{initial:e===!1||hh(e)?e:void 0,animate:hh(i)?i:void 0}}return n.inherit!==!1?t:{}}function nU(n){const{initial:t,animate:e}=eU(n,X.useContext(lp));return X.useMemo(()=>({initial:t,animate:e}),[Iw(t),Iw(e)])}function Iw(n){return Array.isArray(n)?n.join(" "):n}const H0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function VD(n,t,e){for(const i in t)!pn(t[i])&&!cD(i,e)&&(n[i]=t[i])}function iU({transformTemplate:n},t){return X.useMemo(()=>{const e=H0();return j0(e,t,n),Object.assign({},e.vars,e.style)},[t])}function sU(n,t){const e=n.style||{},i={};return VD(i,e,n),Object.assign(i,iU(n,t)),i}function rU(n,t){const e={},i=sU(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const MD=()=>({...H0(),attrs:{}});function aU(n,t,e,i){const a=X.useMemo(()=>{const l=MD();return hD(l,t,dD(i),n.transformTemplate,n.style),{...l.attrs,style:{...l.style}}},[t]);if(n.style){const l={};VD(l,n.style,n),a.style={...l,...a.style}}return a}const oU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function G0(n){return typeof n!="string"||n.includes("-")?!1:!!(oU.indexOf(n)>-1||/[A-Z]/u.test(n))}function lU(n,t,e,{latestValues:i},a,l=!1,u){const d=(u??G0(n)?aU:rU)(t,i,a,n),p=tU(t,typeof n=="string",l),y=n!==X.Fragment?{...p,...d,ref:e}:{},{children:v}=t,E=X.useMemo(()=>pn(v)?v.get():v,[v]);return X.createElement(n,{...y,children:E})}function uU({scrapeMotionValuesFromProps:n,createRenderState:t},e,i,a){return{latestValues:cU(e,i,a,n),renderState:t()}}function cU(n,t,e,i){const a={},l=i(n,{});for(const E in l)a[E]=qd(l[E]);let{initial:u,animate:h}=n;const d=op(n),p=nD(n);t&&p&&!d&&n.inherit!==!1&&(u===void 0&&(u=t.initial),h===void 0&&(h=t.animate));let y=e?e.initial===!1:!1;y=y||u===!1;const v=y?h:u;if(v&&typeof v!="boolean"&&!ap(v)){const E=Array.isArray(v)?v:[v];for(let I=0;I<E.length;I++){const N=P0(n,E[I]);if(N){const{transitionEnd:B,transition:U,...K}=N;for(const Z in K){let j=K[Z];if(Array.isArray(j)){const Y=y?j.length-1:0;j=j[Y]}j!==null&&(a[Z]=j)}for(const Z in B)a[Z]=B[Z]}}}return a}const ND=n=>(t,e)=>{const i=X.useContext(lp),a=X.useContext(rp),l=()=>uU(n,t,i,a);return e?l():p0(l)},hU=ND({scrapeMotionValuesFromProps:F0,createRenderState:H0}),fU=ND({scrapeMotionValuesFromProps:mD,createRenderState:MD}),dU=Symbol.for("motionComponentSymbol");function mU(n,t,e){const i=X.useRef(e);X.useInsertionEffect(()=>{i.current=e});const a=X.useRef(null);return X.useCallback(l=>{l&&n.onMount?.(l),t&&(l?t.mount(l):t.unmount());const u=i.current;if(typeof u=="function")if(l){const h=u(l);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[t])}const PD=X.createContext({});function xc(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function pU(n,t,e,i,a,l){const{visualElement:u}=X.useContext(lp),h=X.useContext(RD),d=X.useContext(rp),p=X.useContext(q0).reducedMotion,y=X.useRef(null),v=X.useRef(!1);i=i||h.renderer,!y.current&&i&&(y.current=i(n,{visualState:t,parent:u,props:e,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p,isSVG:l}),v.current&&y.current&&(y.current.manuallyAnimateOnMount=!0));const E=y.current,I=X.useContext(PD);E&&!E.projection&&a&&(E.type==="html"||E.type==="svg")&&gU(y.current,e,a,I);const N=X.useRef(!1);X.useInsertionEffect(()=>{E&&N.current&&E.update(e,d)});const B=e[FC],U=X.useRef(!!B&&!window.MotionHandoffIsComplete?.(B)&&window.MotionHasOptimisedAnimation?.(B));return rC(()=>{v.current=!0,E&&(N.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),E.scheduleRenderMicrotask(),U.current&&E.animationState&&E.animationState.animateChanges())}),X.useEffect(()=>{E&&(!U.current&&E.animationState&&E.animationState.animateChanges(),U.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(B)}),U.current=!1),E.enteringChildren=void 0)}),E}function gU(n,t,e,i){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:p,layoutCrossfade:y}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:OD(n.parent)),n.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&xc(h),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:d,layoutRoot:p})}function OD(n){if(n)return n.options.allowProjection!==!1?n.projection:OD(n.parent)}function Fy(n,{forwardMotionProps:t=!1,type:e}={},i,a){i&&W9(i);const l=e?e==="svg":G0(n),u=l?fU:hU;function h(p,y){let v;const E={...X.useContext(q0),...p,layoutId:yU(p)},{isStatic:I}=E,N=nU(p),B=u(p,I);if(!I&&sC){_U();const U=vU(E);v=U.MeasureLayout,N.visualElement=pU(n,B,E,a,U.ProjectionNode,l)}return V.jsxs(lp.Provider,{value:N,children:[v&&N.visualElement?V.jsx(v,{visualElement:N.visualElement,...E}):null,lU(n,p,mU(B,N.visualElement,y),B,I,t,l)]})}h.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const d=X.forwardRef(h);return d[dU]=n,d}function yU({layoutId:n}){const t=X.useContext(m0).id;return t&&n!==void 0?t+"-"+n:n}function _U(n,t){X.useContext(RD).strict}function vU(n){const t=CD(),{drag:e,layout:i}=t;if(!e&&!i)return{};const a={...e,...i};return{MeasureLayout:e?.isEnabled(n)||i?.isEnabled(n)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function TU(n,t){if(typeof Proxy>"u")return Fy;const e=new Map,i=(l,u)=>Fy(l,u,n,t),a=(l,u)=>i(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?i:(e.has(u)||e.set(u,Fy(u,void 0,n,t)),e.get(u))})}const EU=(n,t)=>t.isSVG??G0(n)?new ZL(t):new $L(t,{allowProjection:n!==X.Fragment});class bU extends ra{constructor(t){super(t),t.animationState||(t.animationState=s9(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ap(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let SU=0;class AU extends ra{constructor(){super(...arguments),this.id=SU++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t);e&&!t&&a.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const wU={animation:{Feature:bU},exit:{Feature:AU}};function Ph(n){return{point:{x:n.pageX,y:n.pageY}}}const IU=n=>t=>U0(t)&&n(t,Ph(t));function Fc(n,t,e,i){return fh(n,t,IU(e),i)}const kD=({current:n})=>n?n.ownerDocument.defaultView:null,xw=(n,t)=>Math.abs(n-t);function xU(n,t){const e=xw(n.x,t.x),i=xw(n.y,t.y);return Math.sqrt(e**2+i**2)}const Rw=new Set(["auto","scroll"]);class LD{constructor(t,e,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=I=>{this.handleScroll(I.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=Hy(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,B=xU(I.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!B)return;const{point:U}=I,{timestamp:K}=ln;this.history.push({...U,timestamp:K});const{onStart:Z,onMove:j}=this.handlers;N||(Z&&Z(this.lastMoveEvent,I),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,I)},this.handlePointerMove=(I,N)=>{this.lastMoveEvent=I,this.lastMoveEventInfo=qy(N,this.transformPagePoint),he.update(this.updatePoint,!0)},this.handlePointerUp=(I,N)=>{this.end();const{onEnd:B,onSessionEnd:U,resumeAnimation:K}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&K&&K(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Z=Hy(I.type==="pointercancel"?this.lastMoveEventInfo:qy(N,this.transformPagePoint),this.history);this.startEvent&&B&&B(I,Z),U&&U(I,Z)},!U0(t))return;this.dragSnapToOrigin=l,this.handlers=e,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const d=Ph(t),p=qy(d,this.transformPagePoint),{point:y}=p,{timestamp:v}=ln;this.history=[{...y,timestamp:v}];const{onSessionStart:E}=e;E&&E(t,Hy(p,this.history)),this.removeListeners=Dh(Fc(this.contextWindow,"pointermove",this.handlePointerMove),Fc(this.contextWindow,"pointerup",this.handlePointerUp),Fc(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(t){let e=t.parentElement;for(;e;){const i=getComputedStyle(e);(Rw.has(i.overflowX)||Rw.has(i.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const i=t===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},l={x:a.x-e.x,y:a.y-e.y};l.x===0&&l.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(t,a),he.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Zr(this.updatePoint)}}function qy(n,t){return t?{point:t(n.point)}:n}function Cw(n,t){return{x:n.x-t.x,y:n.y-t.y}}function Hy({point:n},t){return{point:n,delta:Cw(n,UD(t)),offset:Cw(n,RU(t)),velocity:CU(t,.1)}}function RU(n){return n[0]}function UD(n){return n[n.length-1]}function CU(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const a=UD(n);for(;e>=0&&(i=n[e],!(a.timestamp-i.timestamp>Ps(t)));)e--;if(!i)return{x:0,y:0};const l=li(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function DU(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?ve(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?ve(e,n,i.max):Math.min(n,e)),n}function Dw(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function VU(n,{top:t,left:e,bottom:i,right:a}){return{x:Dw(n.x,e,a),y:Dw(n.y,t,i)}}function Vw(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function MU(n,t){return{x:Vw(n.x,t.x),y:Vw(n.y,t.y)}}function NU(n,t){let e=.5;const i=bn(n),a=bn(t);return a>i?e=lh(t.min,t.max-i,n.min):i>a&&(e=lh(n.min,n.max-a,t.min)),ls(0,1,e)}function PU(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const Y_=.35;function OU(n=Y_){return n===!1?n=0:n===!0&&(n=Y_),{x:Mw(n,"left","right"),y:Mw(n,"top","bottom")}}function Mw(n,t,e){return{min:Nw(n,t),max:Nw(n,e)}}function Nw(n,t){return typeof n=="number"?n:n[t]||0}const kU=new WeakMap;class LU{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ke(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{e?(this.stopAnimation(),this.snapToCursor(Ph(v).point)):this.pauseAnimation()},u=(v,E)=>{this.stopAnimation();const{drag:I,dragPropagation:N,onDragStart:B}=this.getProps();if(I&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=AL(I),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),oi(K=>{let Z=this.getAxisMotionValue(K).get()||0;if(rs.test(Z)){const{projection:j}=this.visualElement;if(j&&j.layout){const Y=j.layout.layoutBox[K];Y&&(Z=bn(Y)*(parseFloat(Z)/100))}}this.originPoint[K]=Z}),B&&he.postRender(()=>B(v,E)),z_(this.visualElement,"transform");const{animationState:U}=this.visualElement;U&&U.setActive("whileDrag",!0)},h=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E;const{dragPropagation:I,dragDirectionLock:N,onDirectionLock:B,onDrag:U}=this.getProps();if(!I&&!this.openDragLock)return;const{offset:K}=E;if(N&&this.currentDirection===null){this.currentDirection=UU(K),this.currentDirection!==null&&B&&B(this.currentDirection);return}this.updateAxis("x",E.point,K),this.updateAxis("y",E.point,K),this.visualElement.render(),U&&U(v,E)},d=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E,this.stop(v,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>oi(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new LD(t,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:kD(this.visualElement),element:this.visualElement.current})}stop(t,e){const i=t||this.latestPointerEvent,a=e||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&he.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,e,i){const{drag:a}=this.getProps();if(!i||!Sd(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let u=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(u=DU(u,this.constraints[t],this.elastic[t])),l.set(u)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&xc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=VU(i.layoutBox,t):this.constraints=!1,this.elastic=OU(e),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&oi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=PU(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!xc(t))return!1;const i=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=jL(i,a.root,this.visualElement.getTransformPagePoint());let u=MU(a.layout.layoutBox,l);if(e){const h=e(UL(u));this.hasMutatedConstraints=!!h,h&&(u=rD(h))}return u}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=oi(y=>{if(!Sd(y,e,this.currentDirection))return;let v=d&&d[y]||{};u&&(v={min:0,max:0});const E=a?200:1e6,I=a?40:1e7,N={type:"inertia",velocity:i?t[y]:0,bounceStiffness:E,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,N)});return Promise.all(p).then(h)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return z_(this.visualElement,t),i.start(N0(t,i,0,e,this.visualElement,!1))}stopAnimation(){oi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){oi(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),a=i[e];return a||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){oi(e=>{const{drag:i}=this.getProps();if(!Sd(e,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(e);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[e],d=l.get()||0;l.set(t[e]-ve(u,h,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!xc(e)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};oi(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();a[u]=NU({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),oi(u=>{if(!Sd(u,t,null))return;const h=this.getAxisMotionValue(u),{min:d,max:p}=this.constraints[u];h.set(ve(d,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;kU.set(this.visualElement,this);const t=this.visualElement.current,e=Fc(t,"pointerdown",d=>{const{drag:p,dragListener:y=!0}=this.getProps(),v=d.target,E=v!==t&&ZC(v);p&&y&&!E&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();xc(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),he.read(i);const u=fh(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(oi(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=d[y].translate,v.set(v.get()+d[y].translate))}),this.visualElement.render())}));return()=>{u(),e(),l(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Y_,dragMomentum:h=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function Sd(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function UU(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class BU extends ra{constructor(t){super(t),this.removeGroupControls=ui,this.removeListeners=ui,this.controls=new LU(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ui}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Pw=n=>(t,e)=>{n&&he.postRender(()=>n(t,e))};class zU extends ra{constructor(){super(...arguments),this.removePointerDownListener=ui}onPointerDown(t){this.session=new LD(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kD(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Pw(t),onStart:Pw(e),onMove:i,onEnd:(l,u)=>{delete this.session,a&&he.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Fc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Gy=!1;class jU extends X.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=t;l&&(e.group&&e.group.add(l),i&&i.register&&a&&i.register(l),Gy&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Hd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:a,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,t.layoutDependency!==e&&u.setOptions({...u.options,layoutDependency:e}),Gy=!0,a||t.layoutDependency!==e||e===void 0||t.isPresent!==l?u.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?u.promote():u.relegate()||he.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),L0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:a}=t;Gy=!0,a&&(a.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function BD(n){const[t,e]=xD(),i=X.useContext(m0);return V.jsx(jU,{...n,layoutGroup:i,switchLayoutGroup:X.useContext(PD),isPresent:t,safeToRemove:e})}const FU={pan:{Feature:zU},drag:{Feature:BU,ProjectionNode:ID,MeasureLayout:BD}};function Ow(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const a="onHover"+e,l=i[a];l&&he.postRender(()=>l(t,Ph(t)))}class qU extends ra{mount(){const{current:t}=this.node;t&&(this.unmount=wL(t,(e,i)=>(Ow(this.node,i,"Start"),a=>Ow(this.node,a,"End"))))}unmount(){}}class HU extends ra{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Dh(fh(this.node.current,"focus",()=>this.onFocus()),fh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function kw(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const a="onTap"+(e==="End"?"":e),l=i[a];l&&he.postRender(()=>l(t,Ph(t)))}class GU extends ra{mount(){const{current:t}=this.node;t&&(this.unmount=RL(t,(e,i)=>(kw(this.node,i,"Start"),(a,{success:l})=>kw(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Q_=new WeakMap,Ky=new WeakMap,KU=n=>{const t=Q_.get(n.target);t&&t(n)},$U=n=>{n.forEach(KU)};function YU({root:n,...t}){const e=n||document;Ky.has(e)||Ky.set(e,{});const i=Ky.get(e),a=JSON.stringify(t);return i[a]||(i[a]=new IntersectionObserver($U,{root:n,...t})),i[a]}function QU(n,t,e){const i=YU(t);return Q_.set(n,e),i.observe(n),()=>{Q_.delete(n),i.unobserve(n)}}const XU={some:0,all:1};class WU extends ra{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:a="some",once:l}=t,u={root:e?e.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:XU[a]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),E=p?y:v;E&&E(d)};return QU(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(JU(t,e))&&this.startObserver()}unmount(){}}function JU({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const ZU={inView:{Feature:WU},tap:{Feature:GU},focus:{Feature:HU},hover:{Feature:qU}},tB={layout:{ProjectionNode:ID,MeasureLayout:BD}},eB={...wU,...ZU,...FU,...tB},Dn=TU(eB,EU),Lw=["...","...","...","...","..."],Gd=()=>{const[n,t]=X.useState(0),[e,i]=X.useState(0);return X.useEffect(()=>{const a=setInterval(()=>{t(u=>{if(u>=95)return u+.1>99?99:u+.1;const h=(100-u)/20;return u+h})},200),l=setInterval(()=>{i(u=>(u+1)%Lw.length)},2e3);return()=>{clearInterval(a),clearInterval(l)}},[]),V.jsxs(Dn.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.8},style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)",zIndex:9999,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:[V.jsx("div",{className:"loading-bg-orb",style:{position:"absolute",width:"60vw",height:"60vw",background:"radial-gradient(circle, rgba(99, 102, 241, 0.15) 0%, transparent 70%)",filter:"blur(60px)",zIndex:-1,animation:"floating 10s ease-in-out infinite"}}),V.jsxs(Dn.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"glass-card",style:{width:"min(90%, 400px)",padding:"40px",textAlign:"center",background:"rgba(255, 255, 255, 0.8)",border:"1px solid rgba(255, 255, 255, 0.4)",boxShadow:"0 20px 50px rgba(0,0,0,0.1)"},children:[V.jsxs("div",{style:{marginBottom:"25px"},children:[V.jsx("img",{src:"./SDGs.png",alt:"Soka",style:{width:"60px",height:"60px",marginBottom:"15px"}}),V.jsx("h2",{style:{margin:0,fontSize:"1.5rem",background:"linear-gradient(135deg, #4f46e5 0%, #9333ea 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:800},children:"Soka Education EXPO"})]}),V.jsx("div",{style:{height:"24px",marginBottom:"20px"},children:V.jsx(Nh,{mode:"wait",children:V.jsx(Dn.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},style:{margin:0,color:"#64748b",fontSize:"0.95rem",fontWeight:500},children:Lw[e]},e)})}),V.jsx("div",{style:{width:"100%",height:"8px",background:"#f1f5f9",borderRadius:"10px",overflow:"hidden",marginBottom:"10px"},children:V.jsx(Dn.div,{style:{height:"100%",background:"linear-gradient(90deg, #6366f1, #8b5cf6, #db2777)",width:`${n}%`},transition:{type:"spring",stiffness:50,damping:20}})}),V.jsxs("div",{style:{textAlign:"right",color:"#94a3b8",fontSize:"0.8rem",fontVariantNumeric:"tabular-nums"},children:[Math.round(n),"%"]})]}),V.jsx("style",{children:`
        @keyframes floating {
          0% { transform: translate(-10%, -10%) scale(1); }
          50% { transform: translate(10%, 10%) scale(1.1); }
          100% { transform: translate(-10%, -10%) scale(1); }
        }
      `})]})},nB=({children:n})=>{const[t,e]=X.useState(null),[i,a]=X.useState(!0);return X.useEffect(()=>{const l=uP(Tm,u=>{e(u),a(!1),u||iP(Tm).catch(h=>{console.error("Auth Error:",h)})});return()=>l()},[]),i?V.jsx(Gd,{}):t?V.jsx(V.Fragment,{children:n}):V.jsx("div",{className:"error",children:"Authenticating..."})},zD=X.createContext(void 0),iB=({children:n})=>{const[t,e]=X.useState({selectedA:null,selectedB:null,selectedC:null,selectedD:null}),[i,a]=X.useState(!1),l=d=>d==="soka2026"||d==="admin"?(a(!0),!0):!1,u=(d,p)=>{e(y=>{const v={...y};return p==="C"?{selectedA:null,selectedB:null,selectedC:d,selectedD:null}:p==="D"?{selectedA:null,selectedB:null,selectedC:null,selectedD:d}:((p==="A"||p==="B")&&(v.selectedC=null,v.selectedD=null,p==="A"&&(v.selectedA=d),p==="B"&&(v.selectedB=d)),v)})},h=!!t.selectedC||!!t.selectedD||!!t.selectedA&&!!t.selectedB;return V.jsx(zD.Provider,{value:{selection:t,selectSession:u,isValid:h,isAdmin:i,login:l},children:n})},K0=()=>{const n=X.useContext(zD);if(!n)throw new Error("useBooking must be used within BookingProvider");return n};let sB={data:""},rB=n=>{if(typeof window=="object"){let t=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(n||document.head).appendChild(t),t.firstChild}return n||sB},aB=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,oB=/\/\*[^]*?\*\/|  +/g,Uw=/\n+/g,Or=(n,t)=>{let e="",i="",a="";for(let l in n){let u=n[l];l[0]=="@"?l[1]=="i"?e=l+" "+u+";":i+=l[1]=="f"?Or(u,l):l+"{"+Or(u,l[1]=="k"?"":t)+"}":typeof u=="object"?i+=Or(u,t?t.replace(/([^,])+/g,h=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,h):h?h+" "+d:d)):l):u!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Or.p?Or.p(l,u):l+":"+u+";")}return e+(t&&a?t+"{"+a+"}":a)+i},Rs={},jD=n=>{if(typeof n=="object"){let t="";for(let e in n)t+=e+jD(n[e]);return t}return n},lB=(n,t,e,i,a)=>{let l=jD(n),u=Rs[l]||(Rs[l]=(d=>{let p=0,y=11;for(;p<d.length;)y=101*y+d.charCodeAt(p++)>>>0;return"go"+y})(l));if(!Rs[u]){let d=l!==n?n:(p=>{let y,v,E=[{}];for(;y=aB.exec(p.replace(oB,""));)y[4]?E.shift():y[3]?(v=y[3].replace(Uw," ").trim(),E.unshift(E[0][v]=E[0][v]||{})):E[0][y[1]]=y[2].replace(Uw," ").trim();return E[0]})(n);Rs[u]=Or(a?{["@keyframes "+u]:d}:d,e?"":"."+u)}let h=e&&Rs.g?Rs.g:null;return e&&(Rs.g=Rs[u]),((d,p,y,v)=>{v?p.data=p.data.replace(v,d):p.data.indexOf(d)===-1&&(p.data=y?d+p.data:p.data+d)})(Rs[u],t,i,h),u},uB=(n,t,e)=>n.reduce((i,a,l)=>{let u=t[l];if(u&&u.call){let h=u(e),d=h&&h.props&&h.props.className||/^go/.test(h)&&h;u=d?"."+d:h&&typeof h=="object"?h.props?"":Or(h,""):h===!1?"":h}return i+a+(u??"")},"");function up(n){let t=this||{},e=n.call?n(t.p):n;return lB(e.unshift?e.raw?uB(e,[].slice.call(arguments,1),t.p):e.reduce((i,a)=>Object.assign(i,a&&a.call?a(t.p):a),{}):e,rB(t.target),t.g,t.o,t.k)}let FD,X_,W_;up.bind({g:1});let js=up.bind({k:1});function cB(n,t,e,i){Or.p=t,FD=n,X_=e,W_=i}function aa(n,t){let e=this||{};return function(){let i=arguments;function a(l,u){let h=Object.assign({},l),d=h.className||a.className;e.p=Object.assign({theme:X_&&X_()},h),e.o=/ *go\d+/.test(d),h.className=up.apply(e,i)+(d?" "+d:"");let p=n;return n[0]&&(p=h.as||n,delete h.as),W_&&p[0]&&W_(h),FD(p,h)}return a}}var hB=n=>typeof n=="function",Rm=(n,t)=>hB(n)?n(t):n,fB=(()=>{let n=0;return()=>(++n).toString()})(),qD=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");n=!t||t.matches}return n}})(),dB=20,$0="default",HD=(n,t)=>{let{toastLimit:e}=n.settings;switch(t.type){case 0:return{...n,toasts:[t.toast,...n.toasts].slice(0,e)};case 1:return{...n,toasts:n.toasts.map(u=>u.id===t.toast.id?{...u,...t.toast}:u)};case 2:let{toast:i}=t;return HD(n,{type:n.toasts.find(u=>u.id===i.id)?1:0,toast:i});case 3:let{toastId:a}=t;return{...n,toasts:n.toasts.map(u=>u.id===a||a===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return t.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(u=>u.id!==t.toastId)};case 5:return{...n,pausedAt:t.time};case 6:let l=t.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+l}))}}},Kd=[],GD={toasts:[],pausedAt:void 0,settings:{toastLimit:dB}},es={},KD=(n,t=$0)=>{es[t]=HD(es[t]||GD,n),Kd.forEach(([e,i])=>{e===t&&i(es[t])})},$D=n=>Object.keys(es).forEach(t=>KD(n,t)),mB=n=>Object.keys(es).find(t=>es[t].toasts.some(e=>e.id===n)),cp=(n=$0)=>t=>{KD(t,n)},pB={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},gB=(n={},t=$0)=>{let[e,i]=X.useState(es[t]||GD),a=X.useRef(es[t]);X.useEffect(()=>(a.current!==es[t]&&i(es[t]),Kd.push([t,i]),()=>{let u=Kd.findIndex(([h])=>h===t);u>-1&&Kd.splice(u,1)}),[t]);let l=e.toasts.map(u=>{var h,d,p;return{...n,...n[u.type],...u,removeDelay:u.removeDelay||((h=n[u.type])==null?void 0:h.removeDelay)||n?.removeDelay,duration:u.duration||((d=n[u.type])==null?void 0:d.duration)||n?.duration||pB[u.type],style:{...n.style,...(p=n[u.type])==null?void 0:p.style,...u.style}}});return{...e,toasts:l}},yB=(n,t="blank",e)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...e,id:e?.id||fB()}),Oh=n=>(t,e)=>{let i=yB(t,n,e);return cp(i.toasterId||mB(i.id))({type:2,toast:i}),i.id},$e=(n,t)=>Oh("blank")(n,t);$e.error=Oh("error");$e.success=Oh("success");$e.loading=Oh("loading");$e.custom=Oh("custom");$e.dismiss=(n,t)=>{let e={type:3,toastId:n};t?cp(t)(e):$D(e)};$e.dismissAll=n=>$e.dismiss(void 0,n);$e.remove=(n,t)=>{let e={type:4,toastId:n};t?cp(t)(e):$D(e)};$e.removeAll=n=>$e.remove(void 0,n);$e.promise=(n,t,e)=>{let i=$e.loading(t.loading,{...e,...e?.loading});return typeof n=="function"&&(n=n()),n.then(a=>{let l=t.success?Rm(t.success,a):void 0;return l?$e.success(l,{id:i,...e,...e?.success}):$e.dismiss(i),a}).catch(a=>{let l=t.error?Rm(t.error,a):void 0;l?$e.error(l,{id:i,...e,...e?.error}):$e.dismiss(i)}),n};var _B=1e3,vB=(n,t="default")=>{let{toasts:e,pausedAt:i}=gB(n,t),a=X.useRef(new Map).current,l=X.useCallback((v,E=_B)=>{if(a.has(v))return;let I=setTimeout(()=>{a.delete(v),u({type:4,toastId:v})},E);a.set(v,I)},[]);X.useEffect(()=>{if(i)return;let v=Date.now(),E=e.map(I=>{if(I.duration===1/0)return;let N=(I.duration||0)+I.pauseDuration-(v-I.createdAt);if(N<0){I.visible&&$e.dismiss(I.id);return}return setTimeout(()=>$e.dismiss(I.id,t),N)});return()=>{E.forEach(I=>I&&clearTimeout(I))}},[e,i,t]);let u=X.useCallback(cp(t),[t]),h=X.useCallback(()=>{u({type:5,time:Date.now()})},[u]),d=X.useCallback((v,E)=>{u({type:1,toast:{id:v,height:E}})},[u]),p=X.useCallback(()=>{i&&u({type:6,time:Date.now()})},[i,u]),y=X.useCallback((v,E)=>{let{reverseOrder:I=!1,gutter:N=8,defaultPosition:B}=E||{},U=e.filter(j=>(j.position||B)===(v.position||B)&&j.height),K=U.findIndex(j=>j.id===v.id),Z=U.filter((j,Y)=>Y<K&&j.visible).length;return U.filter(j=>j.visible).slice(...I?[Z+1]:[0,Z]).reduce((j,Y)=>j+(Y.height||0)+N,0)},[e]);return X.useEffect(()=>{e.forEach(v=>{if(v.dismissed)l(v.id,v.removeDelay);else{let E=a.get(v.id);E&&(clearTimeout(E),a.delete(v.id))}})},[e,l]),{toasts:e,handlers:{updateHeight:d,startPause:h,endPause:p,calculateOffset:y}}},TB=js`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,EB=js`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,bB=js`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,SB=aa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${TB} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${EB} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${bB} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,AB=js`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,wB=aa("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${AB} 1s linear infinite;
`,IB=js`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,xB=js`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,RB=aa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${IB} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${xB} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,CB=aa("div")`
  position: absolute;
`,DB=aa("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,VB=js`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,MB=aa("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${VB} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,NB=({toast:n})=>{let{icon:t,type:e,iconTheme:i}=n;return t!==void 0?typeof t=="string"?X.createElement(MB,null,t):t:e==="blank"?null:X.createElement(DB,null,X.createElement(wB,{...i}),e!=="loading"&&X.createElement(CB,null,e==="error"?X.createElement(SB,{...i}):X.createElement(RB,{...i})))},PB=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,OB=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,kB="0%{opacity:0;} 100%{opacity:1;}",LB="0%{opacity:1;} 100%{opacity:0;}",UB=aa("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,BB=aa("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,zB=(n,t)=>{let e=n.includes("top")?1:-1,[i,a]=qD()?[kB,LB]:[PB(e),OB(e)];return{animation:t?`${js(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${js(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},jB=X.memo(({toast:n,position:t,style:e,children:i})=>{let a=n.height?zB(n.position||t||"top-center",n.visible):{opacity:0},l=X.createElement(NB,{toast:n}),u=X.createElement(BB,{...n.ariaProps},Rm(n.message,n));return X.createElement(UB,{className:n.className,style:{...a,...e,...n.style}},typeof i=="function"?i({icon:l,message:u}):X.createElement(X.Fragment,null,l,u))});cB(X.createElement);var FB=({id:n,className:t,style:e,onHeightUpdate:i,children:a})=>{let l=X.useCallback(u=>{if(u){let h=()=>{let d=u.getBoundingClientRect().height;i(n,d)};h(),new MutationObserver(h).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[n,i]);return X.createElement("div",{ref:l,className:t,style:e},a)},qB=(n,t)=>{let e=n.includes("top"),i=e?{top:0}:{bottom:0},a=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:qD()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(e?1:-1)}px)`,...i,...a}},HB=up`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ad=16,GB=({reverseOrder:n,position:t="top-center",toastOptions:e,gutter:i,children:a,toasterId:l,containerStyle:u,containerClassName:h})=>{let{toasts:d,handlers:p}=vB(e,l);return X.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:Ad,left:Ad,right:Ad,bottom:Ad,pointerEvents:"none",...u},className:h,onMouseEnter:p.startPause,onMouseLeave:p.endPause},d.map(y=>{let v=y.position||t,E=p.calculateOffset(y,{reverseOrder:n,gutter:i,defaultPosition:t}),I=qB(v,E);return X.createElement(FB,{id:y.id,key:y.id,onHeightUpdate:p.updateHeight,className:y.visible?HB:"",style:I},y.type==="custom"?Rm(y.message,y):a?a(y):X.createElement(jB,{toast:y,position:v}))}))},qc=$e;const YD=()=>{const[n,t]=X.useState([]),[e,i]=X.useState(!0);return X.useEffect(()=>{const a=ep(Jr(Tn,"slots"),np("id")),l=d0(a,u=>{const h=u.docs.map(d=>d.data());t(h),i(!1)},u=>{console.error("Error fetching real-time slots:",u),i(!1)});return()=>l()},[]),{slots:n,loading:e}},QD="admin_logs",J_=async(n,t,e)=>{try{await _3(Jr(Tn,QD),{timestamp:ZR(),action:n,status:t,details:e,userAgent:navigator.userAgent})}catch(i){console.error("Failed to add admin log:",i)}},_z=async(n=20)=>{try{const t=ep(Jr(Tn,QD),np("timestamp","desc"),i3(n));return(await vm(t)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){return console.error("Failed to fetch admin logs:",t),[]}},KB=()=>{const n=async()=>{if(!confirm(`  

1. 
2. 

`))return;const e=v3(Tn);try{const i=Jr(Tn,"bookings");(await vm(i)).forEach(p=>{e.delete(p.ref)});const l=Jr(Tn,"slots");(await vm(l)).forEach(p=>{e.delete(p.ref)}),[{id:"2F_A",type:"A",location:"",title:"",description:"",capacity:50,booked:0,startTime:"20"},{id:"3F_A",type:"A",location:"",title:"*4 / *4",description:`



`,capacity:160,booked:0,startTime:"20"},{id:"5F_A",type:"A",location:"",title:" OPEN SPACE",description:"",capacity:120,booked:0,startTime:"20"},{id:"2F_B",type:"B",location:"",title:"",description:"",capacity:50,booked:0,startTime:"20"},{id:"3F_B",type:"B",location:"",title:"*4 / *4",description:`



`,capacity:160,booked:0,startTime:"20"},{id:"5F_B",type:"B",location:"",title:" OPEN SPACE",description:"",capacity:120,booked:0,startTime:"20"},{id:"6F_C",type:"C",location:"",title:"",description:" SEL ",capacity:70,booked:0,startTime:"40"},{id:"6F_D",type:"D",location:"",title:"",description:"",capacity:70,booked:0,startTime:"40"}].forEach(p=>{const y=fo(Tn,"slots",p.id);e.set(y,{...p,endTime:""})});const d=fo(Tn,"system","config");e.set(d,{lastReset:new Date().toISOString()}),await e.commit(),await J_("SEED_DATA","SUCCESS",""),alert(""),window.location.reload()}catch(i){console.error(i),alert(" Error seeding data")}};return V.jsx("button",{onClick:n,className:"btn-primary",style:{margin:"20px auto",display:"block"},children:" (Initialize DB)"})};var $B=zw();const YB=({isOpen:n,onConfirm:t,onCancel:e,title:i="",message:a=""})=>$B.createPortal(V.jsx(Nh,{children:n&&V.jsx(Dn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(31, 41, 55, 0.7)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(12px)",padding:"20px"},onClick:l=>{l.target===l.currentTarget&&e()},children:V.jsxs(Dn.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"glass-card",style:{maxWidth:"400px",width:"100%",padding:"32px",textAlign:"center",border:"1px solid rgba(255,255,255,0.5)",background:"rgba(255,255,255,0.85)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",maxHeight:"90vh",overflowY:"auto"},children:[V.jsx("div",{style:{fontSize:"4rem",marginBottom:"16px",filter:"drop-shadow(0 4px 6px rgba(0,0,0,0.1))",animation:"bounce 1s infinite"},children:""}),V.jsx("h3",{style:{justifyContent:"center",fontSize:"1.75rem",marginBottom:"12px",background:"linear-gradient(135deg, #b91c1c 0%, #ef4444 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:800},children:i}),V.jsx("p",{style:{color:"#4b5563",marginBottom:"32px",lineHeight:"1.6",fontSize:"1.1rem"},children:a}),V.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[V.jsx("button",{onClick:e,className:"btn-secondary",style:{padding:"16px",fontSize:"1.1rem",background:"#f3f4f6",border:"1px solid #e5e7eb",color:"#374151"},children:""}),V.jsx("button",{onClick:t,className:"btn-primary",style:{padding:"16px",fontSize:"1.1rem",background:"linear-gradient(135deg, #dc2626 0%, #ef4444 100%)",boxShadow:"0 4px 12px rgba(220, 38, 38, 0.3)"},children:""})]})]})})}),document.body),QB=Cs.createContext({}),XD=!0;function XB({baseColor:n,highlightColor:t,width:e,height:i,borderRadius:a,circle:l,direction:u,duration:h,enableAnimation:d=XD,customHighlightBackground:p}){const y={};return u==="rtl"&&(y["--animation-direction"]="reverse"),typeof h=="number"&&(y["--animation-duration"]=`${h}s`),d||(y["--pseudo-element-display"]="none"),(typeof e=="string"||typeof e=="number")&&(y.width=e),(typeof i=="string"||typeof i=="number")&&(y.height=i),(typeof a=="string"||typeof a=="number")&&(y.borderRadius=a),l&&(y.borderRadius="50%"),typeof n<"u"&&(y["--base-color"]=n),typeof t<"u"&&(y["--highlight-color"]=t),typeof p=="string"&&(y["--custom-highlight-background"]=p),y}function za({count:n=1,wrapper:t,className:e,containerClassName:i,containerTestId:a,circle:l=!1,style:u,...h}){var d,p,y;const v=Cs.useContext(QB),E={...h};for(const[j,Y]of Object.entries(h))typeof Y>"u"&&delete E[j];const I={...v,...E,circle:l},N={...u,...XB(I)};let B="react-loading-skeleton";e&&(B+=` ${e}`);const U=(d=I.inline)!==null&&d!==void 0?d:!1,K=[],Z=Math.ceil(n);for(let j=0;j<Z;j++){let Y=N;if(Z>n&&j===Z-1){const lt=(p=Y.width)!==null&&p!==void 0?p:"100%",x=n%1,w=typeof lt=="number"?lt*x:`calc(${lt} * ${x})`;Y={...Y,width:w}}const rt=Cs.createElement("span",{className:B,style:Y,key:j},"");U?K.push(rt):K.push(Cs.createElement(Cs.Fragment,{key:j},rt,Cs.createElement("br",null)))}return Cs.createElement("span",{className:i,"data-testid":a,"aria-live":"polite","aria-busy":(y=I.enableAnimation)!==null&&y!==void 0?y:XD},t?K.map((j,Y)=>Cs.createElement(t,{key:Y},j)):K)}const WB=()=>V.jsxs(Dn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"slot-card",style:{background:"#fff",border:"1px solid #e2e8f0",cursor:"default",display:"flex",flexDirection:"column"},children:[V.jsx("div",{style:{marginBottom:"8px"},children:V.jsx(za,{height:24,width:"80%"})}),V.jsx("div",{style:{marginBottom:"12px"},children:V.jsx(za,{width:"40%",height:16})}),V.jsx("div",{style:{marginBottom:"auto"},children:V.jsx(za,{count:2})}),V.jsxs("div",{style:{marginTop:"20px"},children:[V.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"12px"},children:[V.jsx(za,{width:80,height:20}),V.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"4px"},children:[V.jsx(za,{width:60,height:20,style:{borderRadius:"12px"}}),V.jsx(za,{width:80,height:24})]})]}),V.jsx(za,{height:8,borderRadius:4})]})]}),JB=({disabled:n=!1,bookedSlotIds:t})=>{const{slots:e,loading:i}=YD(),{selection:a,selectSession:l,isAdmin:u}=K0(),[h,d]=X.useState(null),[p,y]=X.useState(!1),v=X.useRef(null);X.useEffect(()=>{const{selectedA:U,selectedB:K}=a;if(!U||!K)return;const Z=`${U}-${K}`;if(v.current===Z)return;const j=U.split("_")[0],Y=K.split("_")[0];j==="3F"&&Y==="3F"&&(qc(rt=>V.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",padding:"4px"},children:[V.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:800,color:"#334155",display:"flex",alignItems:"center",gap:"8px"},children:[V.jsx("span",{style:{fontSize:"1.6rem"},children:""}),""]}),V.jsxs("div",{style:{textAlign:"center",lineHeight:"1.6",fontSize:"1.05rem",color:"#475569",fontWeight:500},children:["",V.jsx("br",{}),"",V.jsx("br",{}),"3F ",V.jsx("br",{}),""]}),V.jsx("button",{onClick:()=>qc.dismiss(rt.id),style:{marginTop:"4px",padding:"8px 24px",background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white",border:"none",borderRadius:"50px",fontWeight:600,fontSize:"0.95rem",cursor:"pointer",boxShadow:"0 4px 12px rgba(37, 99, 235, 0.2)",transition:"transform 0.1s"},onMouseDown:lt=>lt.currentTarget.style.transform="scale(0.95)",onMouseUp:lt=>lt.currentTarget.style.transform="scale(1)",children:""})]}),{id:Z,duration:1/0,position:"top-center",style:{borderRadius:"24px",background:"rgba(255, 255, 255, 1)",border:"2px solid #3b82f6",padding:"20px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",maxWidth:"90vw",width:"360px",zIndex:9999}}),v.current=Z)},[a.selectedA,a.selectedB]);const E=(U,K)=>{if(n)return;const Z=!!a.selectedA||!!a.selectedB,j=!!a.selectedC,Y=!!a.selectedD;let rt=!1;Z?(K==="C"||K==="D")&&(rt=!0):j?["A","B","D"].includes(K)&&(rt=!0):Y&&["A","B","C"].includes(K)&&(rt=!0),rt?(d({id:U,type:K}),y(!0)):l(U,K)},I=()=>{h&&(l(h.id,h.type),d(null),y(!1))};if(i){const U=(K,Z)=>V.jsxs("div",{className:"section-container",children:[V.jsx("h3",{children:K}),V.jsx("div",{className:"slot-grid",children:Array.from({length:Z}).map((j,Y)=>V.jsx(WB,{},Y))})]});return V.jsxs("div",{className:"selection-container",children:[V.jsxs("div",{className:"combo-row",children:[U(" (A)",2),U(" (B)",1)]}),V.jsx("div",{className:"sc-divider",children:"OR"}),V.jsxs("div",{className:"combo-row",children:[U(" (C)",2),U(" (D)",1)]})]})}const N=e.filter(U=>!!U.title);if(N.length===0)return V.jsxs(Dn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"empty-state",style:{textAlign:"center",padding:"40px",color:"#64748b"},children:[V.jsx("div",{style:{fontSize:"3rem",marginBottom:"20px"},children:""}),V.jsx("p",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:""}),V.jsx("p",{children:"No active sessions found."}),u?V.jsxs("div",{style:{marginTop:"20px"},children:[V.jsx("p",{style:{color:"#ef4444",marginBottom:"10px"},children:" "}),V.jsx(KB,{})]}):V.jsxs("p",{style:{marginTop:"20px",fontSize:"0.9rem",opacity:.7},children:["",V.jsx("br",{}),"Please contact the administrator to initialize the system."]})]});const B=(U,K,Z)=>{const j=N.filter(Y=>K.includes(Y.type));return V.jsxs("div",{className:"section-container",children:[V.jsxs("h3",{children:[U," ",V.jsx("span",{style:{fontSize:"0.8em",fontWeight:"normal",marginLeft:"10px",opacity:.7},children:Z})]}),V.jsx("div",{className:"slot-grid",children:V.jsx(Nh,{children:j.map(Y=>{const rt=t?t.includes(Y.id):a.selectedA===Y.id||a.selectedB===Y.id||a.selectedC===Y.id||a.selectedD===Y.id;let lt=!1,x=!1;if(!t){a.selectedC&&a.selectedC!==Y.id&&(["A","B","D"].includes(Y.type)&&(lt=!0),Y.type==="C"&&(lt=!0)),a.selectedD&&a.selectedD!==Y.id&&(["A","B","C"].includes(Y.type)&&(lt=!0),Y.type==="D"&&(lt=!0)),(a.selectedA||a.selectedB)&&(Y.type==="C"||Y.type==="D")&&(lt=!0);const[Nt,tt]=Y.id.split("_");if(Nt==="2F"||Nt==="5F"){const dt=(tt==="A"?"B":"A")==="A"?a.selectedA:a.selectedB;dt&&dt.startsWith(`${Nt}_`)&&(x=!0)}}const w=Y.booked>=Y.capacity,R=lt||x,P=Y.capacity-Y.booked,M=Y.booked/Y.capacity*100;let k="#10b981",C="",Ot="";return P===0?(k="#64748b",C="",Ot=""):P<=20?(k="#ef4444",C="",Ot=""):M>=70&&(k="#f59e0b",C="",Ot=""),V.jsxs(Dn.div,{layoutId:Y.id,initial:{opacity:0,scale:.9},animate:{opacity:(n||R)&&!rt?.4:1,scale:rt?1.02:1,filter:(w||R)&&!rt||n&&!rt?"grayscale(100%)":"none"},whileHover:!w&&!R&&!n?{y:-5,boxShadow:"0 10px 20px rgba(0,0,0,0.1)"}:{},whileTap:!w&&!R&&!n?{scale:.98}:{},onClick:()=>!w&&!n&&!x&&E(Y.id,Y.type),role:"button","aria-disabled":n||x||w,"aria-label":`${Y.title}, : ${Y.location}, : ${P}`,tabIndex:n||x||w?-1:0,onKeyDown:Nt=>{(Nt.key==="Enter"||Nt.key===" ")&&!w&&!n&&!x&&(Nt.preventDefault(),E(Y.id,Y.type))},className:`slot-card type-${Y.type} ${rt?"selected":""} ${w?"full":""}`,style:n||x?{cursor:"default",pointerEvents:x?"none":"auto",border:rt?void 0:"1px solid transparent",background:rt?void 0:"#f1f5f9",boxShadow:rt?"0 4px 12px rgba(0,0,0,0.1)":"none",transform:rt?"scale(1.02)":"none"}:{},children:[rt&&V.jsx(Dn.div,{initial:{scale:0},animate:{scale:1},className:"check-mark",style:{background:n?"#10b981":void 0},children:""}),w&&V.jsx("div",{className:"sold-out-overlay-text",children:"SOLD OUT"}),V.jsx("span",{className:"slot-name",children:Y.title}),V.jsxs("div",{className:"slot-location",children:[" ",Y.location]}),V.jsx("p",{className:"slot-description",children:Y.description}),V.jsxs("div",{className:"slot-footer",style:{flexDirection:"column",alignItems:"stretch",gap:"12px"},children:[V.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[V.jsxs("span",{className:"slot-time",children:[" ",Y.startTime]}),V.jsx("div",{style:{textAlign:"right"},children:V.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"2px"},children:[V.jsxs("span",{style:{fontSize:"0.8rem",fontWeight:700,color:k,background:`${k}15`,padding:"2px 8px",borderRadius:"12px",marginBottom:"2px"},children:[Ot," ",C]}),V.jsxs("span",{style:{fontSize:"1.2rem",fontWeight:800,color:"#334155"},children:[" ",V.jsx("span",{style:{color:k,fontSize:"1.4rem"},children:P})," "]})]})})]}),V.jsx("div",{style:{width:"100%",height:"8px",background:"#e2e8f0",borderRadius:"4px",overflow:"hidden"},children:V.jsx(Dn.div,{initial:{width:0},animate:{width:`${Y.booked/Y.capacity*100}%`},transition:{duration:1,ease:"easeOut"},style:{height:"100%",background:k,borderRadius:"4px"}})})]})]},Y.id)})})})]})};return V.jsxs(Dn.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"selection-container",children:[V.jsxs("div",{className:"combo-row",children:[B(" (A)",["A"]," B"),B(" (B)",["B"]," A")]}),V.jsx("div",{className:"sc-divider",children:"OR"}),V.jsxs("div",{className:"combo-row",children:[B(" (C)",["C"]," 40 "),B(" (D)",["D"]," 40 ")]}),V.jsx(YB,{isOpen:p,onConfirm:I,onCancel:()=>y(!1)})]})},ZB=({onSubmit:n,onCancel:t,loading:e})=>{const[i,a]=X.useState({name:"",studentId:""}),l=u=>{u.preventDefault(),n(i)};return V.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(31, 41, 55, 0.4)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(12px)",padding:"20px"},children:V.jsxs("div",{className:"glass-card",style:{maxWidth:"450px",width:"100%",padding:"32px",background:"rgba(255,255,255,0.9)",boxShadow:"0 20px 60px -10px rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.8)"},children:[V.jsx("h2",{style:{textAlign:"left",marginBottom:"24px",fontSize:"1.8rem",background:"linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:800},children:V.jsx("span",{style:{borderLeft:"6px solid #6366f1",paddingLeft:"16px",display:"block",lineHeight:"1.2"},children:""})}),V.jsxs("form",{onSubmit:l,style:{display:"flex",flexDirection:"column",gap:"24px"},children:[V.jsxs("div",{children:[V.jsx("label",{className:"slot-name",style:{fontSize:"1.1rem",marginBottom:"10px",display:"block",color:"#374151"},children:"  Name"}),V.jsx("input",{required:!0,type:"text",placeholder:" / Your Name",value:i.name,onChange:u=>a(h=>({...h,name:u.target.value})),style:{background:"#f9fafb"}})]}),V.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:"16px",marginTop:"12px"},children:[V.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:e,style:{borderRadius:"16px",fontSize:"1.1rem",justifyContent:"center"},children:""}),V.jsx("button",{type:"submit",className:"btn-primary",disabled:e,style:{borderRadius:"16px",fontSize:"1.1rem",justifyContent:"center",boxShadow:"0 4px 15px rgba(79, 70, 229, 0.4)"},children:e?"...":" "})]})]})]})})},WD=({isOpen:n,onClose:t})=>{const[e,i]=X.useState(""),{login:a}=K0(),[l,u]=X.useState(!1),h=async d=>{d.preventDefault(),a(e)?(await J_("LOGIN","SUCCESS",""),t(),i(""),u(!1)):(u(!0),await J_("LOGIN","FAILURE",""),setTimeout(()=>u(!1),2e3))};return V.jsx(Nh,{children:n&&V.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",zIndex:3e3,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(8px)"},children:V.jsxs(Dn.div,{initial:{scale:.9,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:30},className:"glass-card",style:{maxWidth:"350px",width:"90%",padding:"30px",border:"1px solid rgba(255,255,255,0.4)",background:"rgba(255,255,255,0.85)"},children:[V.jsx("h3",{style:{textAlign:"center",marginBottom:"20px",color:"#1e293b"},children:" "}),V.jsxs("form",{onSubmit:h,children:[V.jsx("input",{type:"text",id:"admin-username",name:"username",autoComplete:"username",style:{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0,0,0,0)",whiteSpace:"nowrap",border:"0",visibility:"hidden"},readOnly:!0,value:"admin"}),V.jsx("input",{type:"password",autoComplete:"current-password",autoFocus:!0,placeholder:"...",value:e,onChange:d=>i(d.target.value),style:{marginBottom:"15px",border:l?"2px solid #ef4444":void 0,background:"white"}}),l&&V.jsx("p",{style:{color:"#ef4444",fontSize:"0.9rem",marginBottom:"15px",textAlign:"center"},children:""}),V.jsxs("div",{style:{display:"flex",gap:"10px"},children:[V.jsx("button",{type:"button",onClick:t,className:"btn-secondary",style:{flex:1},children:""}),V.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1,padding:"12px",fontSize:"1rem"},children:""})]})]})]})})})},tz=({isOpen:n,onConfirm:t,onCancel:e,selectedIds:i})=>{const{slots:a}=YD(),l=i.map(u=>a.find(h=>h.id===u)).filter(Boolean);return V.jsx(Nh,{children:n&&V.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:V.jsxs(Dn.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},style:{background:"white",padding:"30px",borderRadius:"24px",width:"100%",maxWidth:"400px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",textAlign:"left"},children:[V.jsx("h2",{style:{margin:"0 0 15px",color:"#1e293b",fontSize:"1.25rem",borderBottom:"1px solid #e2e8f0",paddingBottom:"15px"},children:" "}),V.jsx("p",{style:{color:"#64748b",fontSize:"0.95rem",marginBottom:"20px"},children:""}),V.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px",marginBottom:"25px",maxHeight:"40vh",overflowY:"auto"},children:l.map(u=>V.jsxs("div",{style:{padding:"12px",background:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0",borderLeft:"4px solid #6366f1"},children:[V.jsx("div",{style:{fontWeight:700,color:"#334155"},children:u?.title}),V.jsxs("div",{style:{fontSize:"0.85rem",color:"#64748b",marginTop:"2px",display:"flex",justifyContent:"space-between"},children:[V.jsxs("span",{children:[" ",u?.location]}),V.jsxs("span",{style:{color:"#0ea5e9",fontWeight:600},children:[" ",u?.type==="C"||u?.type==="D"?"40":"20"]})]})]},u?.id))}),V.jsxs("div",{style:{background:"#fff1f2",padding:"12px",borderRadius:"12px",marginBottom:"25px",fontSize:"0.9rem",color:"#be123c",border:"1px solid #fda4af"},children:[" ",V.jsx("b",{children:""}),"",V.jsx("br",{}),"",V.jsx("b",{children:""}),""]}),V.jsxs("div",{style:{display:"flex",gap:"12px"},children:[V.jsx("button",{onClick:e,style:{flex:1,padding:"12px",border:"1px solid #cbd5e1",borderRadius:"12px",background:"white",color:"#64748b",fontWeight:600,cursor:"pointer"},children:""}),V.jsx("button",{onClick:t,style:{flex:1.5,padding:"12px",border:"none",borderRadius:"12px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",fontWeight:600,cursor:"pointer",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:" "})]})]})})})},ez=({status:n,countdown:t,openTime:e,closeTime:i})=>{const[a,l]=X.useState(!1),[u,h]=X.useState(0),[d,p]=X.useState(0),y=()=>{const I=Date.now();if(I-d>2e3)h(1);else{const N=u+1;h(N),N>=5&&(l(!0),h(0))}p(I)},v=I=>I?I.toLocaleString("zh-TW",{timeZone:"Asia/Taipei",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"--",E=(I,N)=>V.jsxs("div",{className:"countdown-unit",children:[V.jsx("span",{className:"countdown-value",children:String(I).padStart(2,"0")}),V.jsx("span",{className:"countdown-label",children:N})]});return V.jsxs("div",{className:"container",children:[V.jsxs("div",{className:"glass-card status-screen",children:[V.jsx("h1",{children:"2026  EXPO"}),V.jsx("h2",{children:" - "}),V.jsx("div",{className:"status-icon-wrapper",children:n==="before"?V.jsx("div",{className:"status-icon before",onClick:y,style:{cursor:"default",userSelect:"none"},children:V.jsx("span",{role:"img","aria-label":"",children:""})}):V.jsx("div",{className:"status-icon closed",onClick:y,style:{cursor:"default",userSelect:"none"},children:V.jsx("span",{role:"img","aria-label":"",children:""})})}),n==="before"?V.jsxs(V.Fragment,{children:[V.jsx("h3",{className:"status-title",children:""}),V.jsxs("p",{className:"status-description",children:[" ",V.jsx("strong",{children:v(e)})," "]}),t&&V.jsxs("div",{className:"countdown-container",children:[V.jsx("p",{className:"countdown-header",children:""}),V.jsxs("div",{className:"countdown-grid",children:[E(t.days,""),V.jsx("span",{className:"countdown-separator",children:":"}),E(t.hours,""),V.jsx("span",{className:"countdown-separator",children:":"}),E(t.minutes,""),V.jsx("span",{className:"countdown-separator",children:":"}),E(t.seconds,"")]})]}),V.jsxs("div",{className:"deadline-reminder",children:[V.jsx("span",{className:"deadline-icon",children:""}),V.jsxs("p",{className:"deadline-text",children:["",V.jsx("strong",{children:v(i)})]}),V.jsx("p",{className:"deadline-hint",children:""})]})]}):V.jsxs(V.Fragment,{children:[V.jsx("h3",{className:"status-title",children:""}),V.jsx("p",{className:"status-description",children:""}),V.jsx("p",{className:"status-note",children:""})]}),V.jsx("footer",{className:"status-footer",children:V.jsx("a",{href:"https://cagoooo.github.io/Akai/",target:"_blank",rel:"noopener noreferrer",className:"akai-badge",children:" Made by "})})]}),V.jsx(WD,{isOpen:a,onClose:()=>l(!1)}),V.jsx("style",{children:`
        .status-screen {
          text-align: center;
          max-width: 520px;
          width: 100%;
          margin: 0 auto;
          padding: 50px 35px;
          box-sizing: border-box;
          background: linear-gradient(180deg, rgba(255,255,255,0.98) 0%, rgba(248,250,252,0.95) 100%);
          border: 2px solid rgba(99, 102, 241, 0.15);
          box-shadow: 
            0 25px 50px -12px rgba(0, 0, 0, 0.15),
            0 0 0 1px rgba(255, 255, 255, 0.8) inset,
            0 0 80px rgba(99, 102, 241, 0.1);
        }

        .status-screen h1 {
          background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #a855f7 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
          font-size: 1.8rem;
          font-weight: 800;
          margin-bottom: 5px;
          text-align: center;
        }

        .status-screen h2 {
          color: #64748b;
          font-size: 1.1rem;
          font-weight: 500;
          margin-bottom: 10px;
          text-align: center;
        }

        .status-icon-wrapper {
          margin: 35px 0 25px;
          text-align: center;
        }

        .status-icon {
          display: inline-flex;
          align-items: center;
          justify-content: center;
          width: 120px;
          height: 120px;
          border-radius: 50%;
          font-size: 3.5rem;
          position: relative;
        }

        .status-icon.before {
          background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 50%, #ea580c 100%);
          box-shadow: 
            0 12px 35px rgba(245, 158, 11, 0.45),
            0 0 0 8px rgba(245, 158, 11, 0.15);
          animation: pulse-glow 2s ease-in-out infinite;
        }

        .status-icon.before::after {
          content: '';
          position: absolute;
          inset: -12px;
          border-radius: 50%;
          border: 3px solid rgba(245, 158, 11, 0.3);
          animation: ripple 2s ease-out infinite;
        }

        .status-icon.closed {
          background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
          box-shadow: 
            0 12px 35px rgba(239, 68, 68, 0.45),
            0 0 0 8px rgba(239, 68, 68, 0.15);
        }

        @keyframes pulse-glow {
          0%, 100% { 
            transform: scale(1);
            box-shadow: 
              0 12px 35px rgba(245, 158, 11, 0.45),
              0 0 0 8px rgba(245, 158, 11, 0.15);
          }
          50% { 
            transform: scale(1.08);
            box-shadow: 
              0 16px 45px rgba(245, 158, 11, 0.55),
              0 0 0 12px rgba(245, 158, 11, 0.2);
          }
        }

        @keyframes ripple {
          0% { transform: scale(1); opacity: 1; }
          100% { transform: scale(1.4); opacity: 0; }
        }

        .status-title {
          font-size: 1.8rem;
          font-weight: 800;
          margin: 25px auto 15px;
          background: linear-gradient(135deg, #1e3a5f 0%, #3b82f6 50%, #6366f1 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
          text-align: center;
          display: block;
          width: 100%;
          letter-spacing: 2px;
        }

        .status-description {
          color: #475569;
          font-size: 1.05rem;
          margin-bottom: 30px;
          word-break: keep-all;
          text-align: center;
        }

        .status-description strong {
          color: #1e40af;
          font-weight: 700;
        }

        .status-note {
          color: #94a3b8;
          font-size: 0.9rem;
        }

        .countdown-container {
          background: rgba(30, 58, 95, 0.05);
          border-radius: 16px;
          padding: 25px 15px;
          margin: 20px 0;
        }

        .countdown-header {
          color: #64748b;
          font-size: 0.95rem;
          margin-bottom: 15px;
        }

        .countdown-grid {
          display: flex;
          justify-content: center;
          align-items: center;
          gap: 6px;
          flex-wrap: nowrap;
        }

        .countdown-unit {
          display: flex;
          flex-direction: column;
          align-items: center;
          min-width: 50px;
          flex: 0 0 auto;
        }

        .countdown-value {
          font-size: 2rem;
          font-weight: 800;
          color: #1e3a5f;
          font-variant-numeric: tabular-nums;
          line-height: 1;
        }

        .countdown-label {
          font-size: 0.75rem;
          color: #64748b;
          margin-top: 4px;
        }

        .countdown-separator {
          font-size: 1.8rem;
          font-weight: 700;
          color: #94a3b8;
          margin-bottom: 16px;
        }

        .deadline-reminder {
          background: linear-gradient(135deg, rgba(245, 158, 11, 0.1) 0%, rgba(239, 68, 68, 0.1) 100%);
          border: 1px solid rgba(245, 158, 11, 0.3);
          border-radius: 12px;
          padding: 16px;
          margin-top: 20px;
        }

        .deadline-icon {
          font-size: 1.5rem;
          display: block;
          margin-bottom: 8px;
        }

        .deadline-text {
          margin: 0;
          font-size: 0.95rem;
          color: #92400e;
        }

        .deadline-text strong {
          color: #dc2626;
          font-weight: 700;
        }

        .deadline-hint {
          margin: 8px 0 0 0;
          font-size: 0.85rem;
          color: #b45309;
        }

        .status-footer {
          margin-top: 40px;
          padding-top: 20px;
          border-top: 1px solid rgba(0,0,0,0.05);
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 12px;
        }

        .status-footer .akai-badge {
          display: inline-block;
          padding: 8px 16px;
          background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
          color: white;
          text-decoration: none;
          border-radius: 20px;
          font-size: 0.85rem;
          font-weight: 500;
          transition: all 0.3s ease;
          box-shadow: 0 2px 10px rgba(99, 102, 241, 0.3);
        }

        .status-footer .akai-badge:hover {
          transform: translateY(-2px);
          box-shadow: 0 4px 15px rgba(99, 102, 241, 0.4);
        }

        /* RWD  -  */
        @media (max-width: 768px) {
          .status-screen {
            padding: 35px 25px;
          }
          .status-icon {
            width: 90px;
            height: 90px;
            font-size: 2.5rem;
          }
          .status-title {
            font-size: 1.4rem;
          }
          .countdown-value {
            font-size: 1.8rem;
          }
          .countdown-unit {
            min-width: 48px;
          }
          .countdown-separator {
            font-size: 1.5rem;
          }
        }

        /* RWD  -  */
        @media (max-width: 480px) {
          .status-screen {
            padding: 30px 20px;
          }
          .status-screen h1 {
            font-size: 1.3rem;
          }
          .status-screen h2 {
            font-size: 1rem;
          }
          .status-icon {
            width: 80px;
            height: 80px;
            font-size: 2.2rem;
          }
          .status-title {
            font-size: 1.25rem;
          }
          .status-description {
            font-size: 0.95rem;
          }
          .countdown-container {
            padding: 20px 12px;
          }
          .countdown-value {
            font-size: 1.5rem;
          }
          .countdown-unit {
            min-width: 42px;
          }
          .countdown-separator {
            font-size: 1.2rem;
            margin-bottom: 12px;
          }
          .countdown-label {
            font-size: 0.7rem;
          }
        }

        /* RWD  -  */
        @media (max-width: 360px) {
          .countdown-value {
            font-size: 1.3rem;
          }
          .countdown-unit {
            min-width: 38px;
          }
          .countdown-separator {
            font-size: 1rem;
            margin: 0 2px;
          }
          .countdown-grid {
            gap: 4px;
          }
        }
      `})]})},nz=n=>new Promise(t=>setTimeout(t,n)),iz=async(n,t)=>{if(!Tm.currentUser)throw new Error("Must be logged in");const e=5;let i=0;for(;i<e;)try{const a=fo(Jr(Tn,"bookings"));return await g3(Tn,async l=>{const u=[];if(n.selectedC&&u.push(n.selectedC),n.selectedD&&u.push(n.selectedD),n.selectedA&&u.push(n.selectedA),n.selectedB&&u.push(n.selectedB),u.length===0)throw new Error("No sessions selected");const h=await Promise.all(u.map(d=>l.get(fo(Tn,"slots",d))));h.forEach(d=>{if(!d.exists())throw new Error(`Slot ${d.id} not found`);const p=d.data();if(p.booked>=p.capacity)throw new Error(` ${p.name} `)}),h.forEach(d=>{const p=d.data();if(!p)throw new Error("Slot data missing");l.update(d.ref,{booked:p.booked+1})}),l.set(a,{userId:Tm.currentUser.uid,userName:t.name,slots:u,selectionData:n,timestamp:ZR(),status:"confirmed"})}),a.id}catch(a){if(console.warn(`Booking attempt ${i+1} failed:`,a),a.message&&a.message.includes(""))throw a;if(i++,i>=e)throw new Error("System is busy (Max Retries), please try again.");const l=Math.pow(2,i)*100+Math.random()*200;await nz(l)}throw new Error("Unexpected booking failure")},vz=async()=>{const n=ep(Jr(Tn,"bookings"),np("timestamp","desc"));return(await vm(n)).docs.map(e=>{const i=e.data();return{id:e.id,bookingId:i.bookingId||"UNKNOWN",name:i.userName||i.name||"Unknown",studentId:i.studentId||"",department:i.department||"",slots:i.slots||[],timestamp:i.timestamp,status:i.status||"confirmed"}})},Tz=n=>{const t=ep(Jr(Tn,"bookings"),np("timestamp","desc"));return d0(t,e=>{const i=e.docs.map(a=>{const l=a.data();return{id:a.id,bookingId:l.bookingId||"UNKNOWN",name:l.userName||l.name||"Unknown",studentId:l.studentId||"",department:l.department||"",slots:l.slots||[],timestamp:l.timestamp,status:l.status||"confirmed"}});n(i)},e=>{console.error("Error watching bookings:",e)})},Bw={registrationOpenTime:"2026-02-06T00:00:00.000Z",registrationCloseTime:"2026-02-06T16:00:00.000Z",manualOverride:!1,isManuallyOpen:!1},sz=n=>{const t=new Date,e=n.getTime()-t.getTime();if(e<=0)return null;const i=Math.floor(e/1e3%60),a=Math.floor(e/1e3/60%60),l=Math.floor(e/1e3/60/60%24);return{days:Math.floor(e/1e3/60/60/24),hours:l,minutes:a,seconds:i}},rz=(n,t)=>{if(n.manualOverride)return n.isManuallyOpen?"open":"closed";const e=new Date(n.registrationOpenTime),i=new Date(n.registrationCloseTime);return t<e?"before":t>=i?"closed":"open"},az=()=>{const[n,t]=X.useState(null),[e,i]=X.useState("loading"),[a,l]=X.useState(null),[u,h]=X.useState(null),d=X.useCallback(()=>{if(!n)return;const y=rz(n,new Date);if(i(y),y==="before"){const v=new Date(n.registrationOpenTime);l(sz(v))}else l(null)},[n]);return X.useEffect(()=>{const p=fo(Tn,"system","registrationConfig"),y=d0(p,v=>{if(v.exists()){const E=v.data();t(E),h(null)}else console.log("registrationConfig not found, using defaults"),t(Bw)},v=>{console.error("Failed to fetch registration config:",v),h(""),t(Bw)});return()=>y()},[]),X.useEffect(()=>{if(!n)return;d();const p=setInterval(d,1e3);return()=>clearInterval(p)},[n,d]),{status:e,openTime:n?new Date(n.registrationOpenTime):null,closeTime:n?new Date(n.registrationCloseTime):null,countdown:a,config:n,error:u}},JD=(n,t="Component")=>X.lazy(async()=>{try{return await n()}catch(e){console.error(`Lazy loading failed for ${t}:`,e);const i=e.message?.includes("Failed to fetch")||e.message?.includes("ChunkLoadError")||e.name==="ChunkLoadError",a=window.sessionStorage.getItem(`retry-${t}`);if(i&&!a)return console.log(`Reloading page to recover from missing chunk for ${t}...`),window.sessionStorage.setItem(`retry-${t}`,"true"),"serviceWorker"in navigator?navigator.serviceWorker.getRegistrations().then(l=>{for(const u of l)u.unregister();window.location.reload()}):window.location.reload(),new Promise(()=>{});throw e}});class oz extends X.Component{state={hasError:!1,error:null};static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,e){console.error("Uncaught error:",t,e)}handleReload=()=>{"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(t=>{t.forEach(e=>e.unregister())}),caches.keys().then(t=>{t.forEach(e=>{caches.delete(e)})}),window.location.reload()};render(){return this.state.hasError?V.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",padding:"20px",textAlign:"center",background:"#f8fafc"},children:[V.jsx("h2",{style:{color:"#334155",marginBottom:"10px"},children:""}),V.jsx("p",{style:{color:"#64748b",marginBottom:"20px"},children:""}),V.jsx("button",{onClick:this.handleReload,style:{padding:"12px 24px",background:"#3b82f6",color:"white",border:"none",borderRadius:"8px",fontSize:"1rem",cursor:"pointer",boxShadow:"0 4px 6px -1px rgba(59, 130, 246, 0.5)"},children:"  (Update)"})]}):this.props.children}}const lz=JD(()=>jw(()=>import("./AdminDashboard-_mYADmOj.js"),[]).then(n=>({default:n.AdminDashboard})),"AdminDashboard"),uz=JD(()=>jw(()=>import("./TicketView-BQSIvzsL.js"),[]).then(n=>({default:n.TicketView})),"TicketView"),cz=()=>{const{isValid:n,selection:t,isAdmin:e}=K0(),[i,a]=X.useState(!1),[l,u]=X.useState(!1),[h,d]=X.useState(!1),[p,y]=X.useState(null),[v,E]=X.useState(!1),[I,N]=X.useState(null),[B,U]=X.useState(!1),K=az(),[Z,j]=X.useState(0),[Y,rt]=X.useState(0),lt=()=>{const k=Date.now();if(k-Y>2e3)j(1);else{const C=Z+1;j(C),C>=5&&(d(!0),j(0))}rt(k)};X.useEffect(()=>{(async()=>{const C=localStorage.getItem("soka_ticket_2026");if(!C)return;let Ot;try{Ot=JSON.parse(C)}catch(Nt){console.error("Failed to parse saved ticket",Nt),localStorage.removeItem("soka_ticket_2026");return}try{const Nt=await y3(fo(Tn,"system","config"));if(Nt.exists()){const tt=Nt.data();if(tt.lastReset){const ot=new Date(tt.lastReset).getTime(),dt=Ot.timestamp||0;if(ot>dt){console.log("System reset detected. Clearing local ticket."),localStorage.removeItem("soka_ticket_2026"),y(null);return}}}}catch(Nt){console.error("Failed to check system status:",Nt)}y(Ot),U(!0)})()},[]);const x=()=>{n&&a(!0)},w=()=>{const k=[];return t.selectedC&&k.push(t.selectedC),t.selectedD&&k.push(t.selectedD),t.selectedA&&k.push(t.selectedA),t.selectedB&&k.push(t.selectedB),k},R=k=>{N(k),E(!0)},P=async()=>{if(!I)return;E(!1),u(!0);const k=qc.loading("...");try{const C=await iz(t,I),Ot=w(),Nt={bookingId:C,userDetails:I,selectedSlotIds:Ot,timestamp:Date.now()};localStorage.setItem("soka_ticket_2026",JSON.stringify(Nt)),y(Nt),U(!0),a(!1),qc.success("",{id:k,duration:5e3})}catch(C){console.error(C),qc.error(`: ${C.message}`,{id:k,duration:5e3})}finally{u(!1),N(null)}},M=()=>{U(!1),setTimeout(()=>{document.getElementById("ticket-access-section")?.scrollIntoView({behavior:"smooth"})},100)};return B&&p?V.jsx("div",{className:"container",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:V.jsx(X.Suspense,{fallback:V.jsx(Gd,{}),children:V.jsx(uz,{bookingId:p.bookingId,userDetails:p.userDetails,selectedSlotIds:p.selectedSlotIds,onClose:M})})}):K.status==="loading"?V.jsx(Gd,{}):!e&&K.status!=="open"?V.jsx(ez,{status:K.status,countdown:K.countdown,openTime:K.openTime,closeTime:K.closeTime}):V.jsxs("div",{className:"container",children:[V.jsxs("div",{className:"glass-card",children:[V.jsx("h1",{onClick:lt,style:{cursor:"default",userSelect:"none"},children:"2026  EXPO"}),V.jsx("h2",{children:" - "}),V.jsxs("p",{className:"description",style:{textAlign:"center",color:"#64748b",marginBottom:"30px"},children:["",V.jsx("br",{}),"(A+B C  D )"]}),V.jsx(JB,{disabled:!!p,bookedSlotIds:p?.selectedSlotIds}),V.jsx("div",{id:"ticket-access-section",style:{textAlign:"center",marginTop:"30px"},children:p?V.jsxs("button",{className:"btn-primary",style:{fontSize:"1.2rem",padding:"15px 40px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",boxShadow:"0 4px 15px rgba(16, 185, 129, 0.4)",display:"inline-flex",flexDirection:"column",alignItems:"center",gap:"4px",lineHeight:"1.2"},onClick:()=>U(!0),children:[V.jsx("span",{style:{fontSize:"0.9rem",opacity:.9},children:" "}),V.jsx("span",{style:{fontWeight:"bold"},children:" "})]}):V.jsx("button",{className:"btn-primary",disabled:!n,style:{opacity:n?1:.5,fontSize:"1.2rem",padding:"15px 40px"},onClick:x,children:n?"":" Let's Go"})})]}),i&&V.jsx(ZB,{onSubmit:R,onCancel:()=>a(!1),loading:l}),V.jsx(tz,{isOpen:v,onConfirm:P,onCancel:()=>E(!1),selectedIds:w()}),e&&V.jsx("div",{style:{padding:"30px",background:"rgba(255,255,255,0.85)",backdropFilter:"blur(10px)",borderRadius:"24px",marginTop:"40px",border:"1px solid rgba(255,255,255,0.5)",boxShadow:"0 20px 40px -10px rgba(0,0,0,0.1)"},children:V.jsx(X.Suspense,{fallback:V.jsx(Gd,{}),children:V.jsx(lz,{})})}),V.jsxs("footer",{style:{textAlign:"center",padding:"40px 0",color:"#94a3b8",fontSize:"0.9rem"},children:[" 2026 Soka Education EXPO. All rights reserved.",V.jsx("br",{}),V.jsx("a",{href:"https://cagoooo.github.io/Akai/",target:"_blank",rel:"noopener noreferrer",className:"akai-badge",children:" Made by "})]}),V.jsx(WD,{isOpen:h,onClose:()=>d(!1)})]})};function hz(){return V.jsx(nB,{children:V.jsxs(iB,{children:[V.jsx(oz,{children:V.jsx(cz,{})}),V.jsx(GB,{position:"top-center",reverseOrder:!1,containerStyle:{top:40,zIndex:999999},toastOptions:{style:{background:"#333",color:"#fff",zIndex:999999}}})]})})}BV.createRoot(document.getElementById("root")).render(V.jsx(X.StrictMode,{children:V.jsx(hz,{})}));export{Nh as A,fz as R,KB as S,Z_ as a,$B as b,_z as c,vz as d,fo as e,Tn as f,DV as g,y3 as h,gz as i,V as j,J_ as k,Tz as l,Cs as m,YD as n,Dn as o,X as r,pz as s,az as u,qc as z};
