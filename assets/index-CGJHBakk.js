function HI(n,t){for(var e=0;e<t.length;e++){const s=t[e];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in n)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(n,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();function GI(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var yp={exports:{}},hu={};var FT;function KI(){if(FT)return hu;FT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:n,type:s,key:c,ref:o!==void 0?o:null,props:u}}return hu.Fragment=t,hu.jsx=e,hu.jsxs=e,hu}var qT;function YI(){return qT||(qT=1,yp.exports=KI()),yp.exports}var H=YI(),vp={exports:{}},wt={};var HT;function QI(){if(HT)return wt;HT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function C(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,z={};function X(O,nt,ct){this.props=O,this.context=nt,this.refs=z,this.updater=ct||P}X.prototype.isReactComponent={},X.prototype.setState=function(O,nt){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,nt,"setState")},X.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function K(){}K.prototype=X.prototype;function G(O,nt,ct){this.props=O,this.context=nt,this.refs=z,this.updater=ct||P}var st=G.prototype=new K;st.constructor=G,U(st,X.prototype),st.isPureReactComponent=!0;var at=Array.isArray;function ot(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(O,nt,ct){var ft=ct.ref;return{$$typeof:n,type:O,key:nt,ref:ft!==void 0?ft:null,props:ct}}function M(O,nt){return R(O.type,nt,O.props)}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function k(O){var nt={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ct){return nt[ct]})}var x=/\/+/g;function ee(O,nt){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):nt.toString(36)}function fe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ot,ot):(O.status="pending",O.then(function(nt){O.status==="pending"&&(O.status="fulfilled",O.value=nt)},function(nt){O.status==="pending"&&(O.status="rejected",O.reason=nt)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Z(O,nt,ct,ft,At){var xt=typeof O;(xt==="undefined"||xt==="boolean")&&(O=null);var zt=!1;if(O===null)zt=!0;else switch(xt){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(O.$$typeof){case n:case t:zt=!0;break;case y:return zt=O._init,Z(zt(O._payload),nt,ct,ft,At)}}if(zt)return At=At(O),zt=ft===""?"."+ee(O,0):ft,at(At)?(ct="",zt!=null&&(ct=zt.replace(x,"$&/")+"/"),Z(At,nt,ct,"",function(Br){return Br})):At!=null&&(V(At)&&(At=M(At,ct+(At.key==null||O&&O.key===At.key?"":(""+At.key).replace(x,"$&/")+"/")+zt)),nt.push(At)),1;zt=0;var Pe=ft===""?".":ft+":";if(at(O))for(var oe=0;oe<O.length;oe++)ft=O[oe],xt=Pe+ee(ft,oe),zt+=Z(ft,nt,ct,xt,At);else if(oe=C(O),typeof oe=="function")for(O=oe.call(O),oe=0;!(ft=O.next()).done;)ft=ft.value,xt=Pe+ee(ft,oe++),zt+=Z(ft,nt,ct,xt,At);else if(xt==="object"){if(typeof O.then=="function")return Z(fe(O),nt,ct,ft,At);throw nt=String(O),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return zt}function rt(O,nt,ct){if(O==null)return O;var ft=[],At=0;return Z(O,ft,"","",function(xt){return nt.call(ct,xt,At++)}),ft}function dt(O){if(O._status===-1){var nt=O._result;nt=nt(),nt.then(function(ct){(O._status===0||O._status===-1)&&(O._status=1,O._result=ct)},function(ct){(O._status===0||O._status===-1)&&(O._status=2,O._result=ct)}),O._status===-1&&(O._status=0,O._result=nt)}if(O._status===1)return O._result.default;throw O._result}var It=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Nt={map:rt,forEach:function(O,nt,ct){rt(O,function(){nt.apply(this,arguments)},ct)},count:function(O){var nt=0;return rt(O,function(){nt++}),nt},toArray:function(O){return rt(O,function(nt){return nt})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return wt.Activity=T,wt.Children=Nt,wt.Component=X,wt.Fragment=e,wt.Profiler=o,wt.PureComponent=G,wt.StrictMode=s,wt.Suspense=p,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,wt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},wt.cache=function(O){return function(){return O.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(O,nt,ct){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ft=U({},O.props),At=O.key;if(nt!=null)for(xt in nt.key!==void 0&&(At=""+nt.key),nt)!w.call(nt,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&nt.ref===void 0||(ft[xt]=nt[xt]);var xt=arguments.length-2;if(xt===1)ft.children=ct;else if(1<xt){for(var zt=Array(xt),Pe=0;Pe<xt;Pe++)zt[Pe]=arguments[Pe+2];ft.children=zt}return R(O.type,At,ft)},wt.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},wt.createElement=function(O,nt,ct){var ft,At={},xt=null;if(nt!=null)for(ft in nt.key!==void 0&&(xt=""+nt.key),nt)w.call(nt,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(At[ft]=nt[ft]);var zt=arguments.length-2;if(zt===1)At.children=ct;else if(1<zt){for(var Pe=Array(zt),oe=0;oe<zt;oe++)Pe[oe]=arguments[oe+2];At.children=Pe}if(O&&O.defaultProps)for(ft in zt=O.defaultProps,zt)At[ft]===void 0&&(At[ft]=zt[ft]);return R(O,xt,At)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(O){return{$$typeof:d,render:O}},wt.isValidElement=V,wt.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:dt}},wt.memo=function(O,nt){return{$$typeof:g,type:O,compare:nt===void 0?null:nt}},wt.startTransition=function(O){var nt=I.T,ct={};I.T=ct;try{var ft=O(),At=I.S;At!==null&&At(ct,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(ot,It)}catch(xt){It(xt)}finally{nt!==null&&ct.types!==null&&(nt.types=ct.types),I.T=nt}},wt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},wt.use=function(O){return I.H.use(O)},wt.useActionState=function(O,nt,ct){return I.H.useActionState(O,nt,ct)},wt.useCallback=function(O,nt){return I.H.useCallback(O,nt)},wt.useContext=function(O){return I.H.useContext(O)},wt.useDebugValue=function(){},wt.useDeferredValue=function(O,nt){return I.H.useDeferredValue(O,nt)},wt.useEffect=function(O,nt){return I.H.useEffect(O,nt)},wt.useEffectEvent=function(O){return I.H.useEffectEvent(O)},wt.useId=function(){return I.H.useId()},wt.useImperativeHandle=function(O,nt,ct){return I.H.useImperativeHandle(O,nt,ct)},wt.useInsertionEffect=function(O,nt){return I.H.useInsertionEffect(O,nt)},wt.useLayoutEffect=function(O,nt){return I.H.useLayoutEffect(O,nt)},wt.useMemo=function(O,nt){return I.H.useMemo(O,nt)},wt.useOptimistic=function(O,nt){return I.H.useOptimistic(O,nt)},wt.useReducer=function(O,nt,ct){return I.H.useReducer(O,nt,ct)},wt.useRef=function(O){return I.H.useRef(O)},wt.useState=function(O){return I.H.useState(O)},wt.useSyncExternalStore=function(O,nt,ct){return I.H.useSyncExternalStore(O,nt,ct)},wt.useTransition=function(){return I.H.useTransition()},wt.version="19.2.4",wt}var GT;function Yg(){return GT||(GT=1,vp.exports=QI()),vp.exports}var W=Yg();const ys=GI(W),s5=HI({__proto__:null,default:ys},[W]);var _p={exports:{}},fu={},Tp={exports:{}},Ep={};var KT;function XI(){return KT||(KT=1,(function(n){function t(Z,rt){var dt=Z.length;Z.push(rt);t:for(;0<dt;){var It=dt-1>>>1,Nt=Z[It];if(0<o(Nt,rt))Z[It]=rt,Z[dt]=Nt,dt=It;else break t}}function e(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var rt=Z[0],dt=Z.pop();if(dt!==rt){Z[0]=dt;t:for(var It=0,Nt=Z.length,O=Nt>>>1;It<O;){var nt=2*(It+1)-1,ct=Z[nt],ft=nt+1,At=Z[ft];if(0>o(ct,dt))ft<Nt&&0>o(At,ct)?(Z[It]=At,Z[ft]=dt,It=ft):(Z[It]=ct,Z[nt]=dt,It=nt);else if(ft<Nt&&0>o(At,dt))Z[It]=At,Z[ft]=dt,It=ft;else break t}}return rt}function o(Z,rt){var dt=Z.sortIndex-rt.sortIndex;return dt!==0?dt:Z.id-rt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],y=1,T=null,S=3,C=!1,P=!1,U=!1,z=!1,X=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function st(Z){for(var rt=e(g);rt!==null;){if(rt.callback===null)s(g);else if(rt.startTime<=Z)s(g),rt.sortIndex=rt.expirationTime,t(p,rt);else break;rt=e(g)}}function at(Z){if(U=!1,st(Z),!P)if(e(p)!==null)P=!0,ot||(ot=!0,k());else{var rt=e(g);rt!==null&&fe(at,rt.startTime-Z)}}var ot=!1,I=-1,w=5,R=-1;function M(){return z?!0:!(n.unstable_now()-R<w)}function V(){if(z=!1,ot){var Z=n.unstable_now();R=Z;var rt=!0;try{t:{P=!1,U&&(U=!1,K(I),I=-1),C=!0;var dt=S;try{e:{for(st(Z),T=e(p);T!==null&&!(T.expirationTime>Z&&M());){var It=T.callback;if(typeof It=="function"){T.callback=null,S=T.priorityLevel;var Nt=It(T.expirationTime<=Z);if(Z=n.unstable_now(),typeof Nt=="function"){T.callback=Nt,st(Z),rt=!0;break e}T===e(p)&&s(p),st(Z)}else s(p);T=e(p)}if(T!==null)rt=!0;else{var O=e(g);O!==null&&fe(at,O.startTime-Z),rt=!1}}break t}finally{T=null,S=dt,C=!1}rt=void 0}}finally{rt?k():ot=!1}}}var k;if(typeof G=="function")k=function(){G(V)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ee=x.port2;x.port1.onmessage=V,k=function(){ee.postMessage(null)}}else k=function(){X(V,0)};function fe(Z,rt){I=X(function(){Z(n.unstable_now())},rt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(Z){switch(S){case 1:case 2:case 3:var rt=3;break;default:rt=S}var dt=S;S=rt;try{return Z()}finally{S=dt}},n.unstable_requestPaint=function(){z=!0},n.unstable_runWithPriority=function(Z,rt){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var dt=S;S=Z;try{return rt()}finally{S=dt}},n.unstable_scheduleCallback=function(Z,rt,dt){var It=n.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?It+dt:It):dt=It,Z){case 1:var Nt=-1;break;case 2:Nt=250;break;case 5:Nt=1073741823;break;case 4:Nt=1e4;break;default:Nt=5e3}return Nt=dt+Nt,Z={id:y++,callback:rt,priorityLevel:Z,startTime:dt,expirationTime:Nt,sortIndex:-1},dt>It?(Z.sortIndex=dt,t(g,Z),e(p)===null&&Z===e(g)&&(U?(K(I),I=-1):U=!0,fe(at,dt-It))):(Z.sortIndex=Nt,t(p,Z),P||C||(P=!0,ot||(ot=!0,k()))),Z},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(Z){var rt=S;return function(){var dt=S;S=rt;try{return Z.apply(this,arguments)}finally{S=dt}}}})(Ep)),Ep}var YT;function $I(){return YT||(YT=1,Tp.exports=XI()),Tp.exports}var Sp={exports:{}},sn={};var QT;function WI(){if(QT)return sn;QT=1;var n=Yg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(p,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,y)},sn.flushSync=function(p){var g=c.T,y=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=y,s.d.f()}},sn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},sn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},sn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var y=g.as,T=d(y,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:C}):y==="script"&&s.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},sn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},sn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,T=d(y,g.crossOrigin);s.d.L(p,y,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},sn.preloadModule=function(p,g){if(typeof p=="string")if(g){var y=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},sn.requestFormReset=function(p){s.d.r(p)},sn.unstable_batchedUpdates=function(p,g){return p(g)},sn.useFormState=function(p,g,y){return c.H.useFormState(p,g,y)},sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},sn.version="19.2.4",sn}var XT;function HA(){if(XT)return Sp.exports;XT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Sp.exports=WI(),Sp.exports}var $T;function ZI(){if($T)return fu;$T=1;var n=$I(),t=Yg(),e=HA();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(u(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=u(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return p(f),i;if(m===l)return p(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var _=!1,A=f.child;A;){if(A===a){_=!0,a=f,l=m;break}if(A===l){_=!0,l=f,a=m;break}A=A.sibling}if(!_){for(A=m.child;A;){if(A===a){_=!0,a=m,l=f;break}if(A===l){_=!0,l=m,a=f;break}A=A.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),G=Symbol.for("react.context"),st=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var x=Symbol.for("react.client.reference");function ee(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===x?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case U:return"Fragment";case X:return"Profiler";case z:return"StrictMode";case at:return"Suspense";case ot:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case P:return"Portal";case G:return i.displayName||"Context";case K:return(i._context.displayName||"Context")+".Consumer";case st:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return r=i.displayName||null,r!==null?r:ee(i.type)||"Memo";case w:r=i._payload,i=i._init;try{return ee(i(r))}catch{}}return null}var fe=Array.isArray,Z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},It=[],Nt=-1;function O(i){return{current:i}}function nt(i){0>Nt||(i.current=It[Nt],It[Nt]=null,Nt--)}function ct(i,r){Nt++,It[Nt]=i.current,i.current=r}var ft=O(null),At=O(null),xt=O(null),zt=O(null);function Pe(i,r){switch(ct(xt,r),ct(At,i),ct(ft,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?hT(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=hT(r),i=fT(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}nt(ft),ct(ft,i)}function oe(){nt(ft),nt(At),nt(xt)}function Br(i){i.memoizedState!==null&&ct(zt,i);var r=ft.current,a=fT(r,i.type);r!==a&&(ct(At,i),ct(ft,a))}function Na(i){At.current===i&&(nt(ft),nt(At)),zt.current===i&&(nt(zt),ou._currentValue=dt)}var Oa,Pa;function yi(i){if(Oa===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Oa=r&&r[1]||"",Pa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oa+i+Pa}var ol=!1;function zr(i,r){if(!i||ol)return"";ol=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Q){var q=Q}Reflect.construct(i,[],et)}else{try{et.call()}catch(Q){q=Q}i.call(et.prototype)}}else{try{throw Error()}catch(Q){q=Q}(et=i())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(Q){if(Q&&q&&typeof Q.stack=="string")return[Q.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),_=m[0],A=m[1];if(_&&A){var D=_.split(`
`),F=A.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===F.length)for(l=D.length-1,f=F.length-1;1<=l&&0<=f&&D[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==F[f]){var $=`
`+D[l].replace(" at new "," at ");return i.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",i.displayName)),$}while(1<=l&&0<=f);break}}}finally{ol=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?yi(a):""}function ll(i,r){switch(i.tag){case 26:case 27:case 5:return yi(i.type);case 16:return yi("Lazy");case 13:return i.child!==r&&r!==null?yi("Suspense Fallback"):yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return zr(i.type,!1);case 11:return zr(i.type.render,!1);case 1:return zr(i.type,!0);case 31:return yi("Activity");default:return""}}function ul(i){try{var r="",a=null;do r+=ll(i,a),a=i,i=i.return;while(i);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Se=Object.prototype.hasOwnProperty,ke=n.unstable_scheduleCallback,xs=n.unstable_cancelCallback,_d=n.unstable_shouldYield,hc=n.unstable_requestPaint,cn=n.unstable_now,jr=n.unstable_getCurrentPriorityLevel,cl=n.unstable_ImmediatePriority,hl=n.unstable_UserBlockingPriority,Ds=n.unstable_NormalPriority,Td=n.unstable_LowPriority,fc=n.unstable_IdlePriority,dc=n.log,mc=n.unstable_setDisableYieldValue,Zn=null,Ye=null;function kn(i){if(typeof dc=="function"&&mc(i),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(Zn,i)}catch{}}var ge=Math.clz32?Math.clz32:gc,pc=Math.log,ka=Math.LN2;function gc(i){return i>>>=0,i===0?32:31-(pc(i)/ka|0)|0}var vi=256,Fr=262144,Ae=4194304;function _i(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ti(i,r,a){var l=i.pendingLanes;if(l===0)return 0;var f=0,m=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var A=l&134217727;return A!==0?(l=A&~m,l!==0?f=_i(l):(_&=A,_!==0?f=_i(_):a||(a=A&~i,a!==0&&(f=_i(a))))):(A=l&~m,A!==0?f=_i(A):_!==0?f=_i(_):a||(a=l&~i,a!==0&&(f=_i(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function Jn(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Ed(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yc(){var i=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),i}function Ei(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function qr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Sd(i,r,a,l,f,m){var _=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var A=i.entanglements,D=i.expirationTimes,F=i.hiddenUpdates;for(a=_&~a;0<a;){var $=31-ge(a),et=1<<$;A[$]=0,D[$]=-1;var q=F[$];if(q!==null)for(F[$]=null,$=0;$<q.length;$++){var Q=q[$];Q!==null&&(Q.lane&=-536870913)}a&=~et}l!==0&&Hr(i,l,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(_&~r))}function Hr(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var l=31-ge(r);i.entangledLanes|=r,i.entanglements[l]=i.entanglements[l]|1073741824|a&261930}function fl(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var l=31-ge(a),f=1<<l;f&r|i[l]&r&&(i[l]|=r),a&=~f}}function dl(i,r){var a=r&-r;return a=(a&42)!==0?1:Gr(a),(a&(i.suspendedLanes|r))!==0?0:a}function Gr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Wi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function vc(){var i=rt.p;return i!==0?i:(i=window.event,i===void 0?32:PT(i.type))}function ti(i,r){var a=rt.p;try{return rt.p=i,r()}finally{rt.p=a}}var ei=Math.random().toString(36).slice(2),be="__reactFiber$"+ei,Fe="__reactProps$"+ei,Si="__reactContainer$"+ei,La="__reactEvents$"+ei,Ad="__reactListeners$"+ei,_c="__reactHandles$"+ei,Tc="__reactResources$"+ei,Ai="__reactMarker$"+ei;function Ua(i){delete i[be],delete i[Fe],delete i[La],delete i[Ad],delete i[_c]}function bi(i){var r=i[be];if(r)return r;for(var a=i.parentNode;a;){if(r=a[Si]||a[be]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=_T(i);i!==null;){if(a=i[be])return a;i=_T(i)}return r}i=a,a=i.parentNode}return null}function Ln(i){if(i=i[be]||i[Si]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function bn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function wi(i){var r=i[Tc];return r||(r=i[Tc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function we(i){i[Ai]=!0}var ml=new Set,pl={};function Ri(i,r){Ci(i,r),Ci(i+"Capture",r)}function Ci(i,r){for(pl[i]=r,i=0;i<r.length;i++)ml.add(r[i])}var gl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yl={},vl={};function Ec(i){return Se.call(vl,i)?!0:Se.call(yl,i)?!1:gl.test(i)?vl[i]=!0:(yl[i]=!0,!1)}function Ba(i,r,a){if(Ec(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function wn(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function Re(i,r,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+l)}}function qe(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Vs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function _l(i,r,a){var l=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,m.call(this,_)}}),Object.defineProperty(i,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Yt(i){if(!i._valueTracker){var r=Vs(i)?"checked":"value";i._valueTracker=_l(i,r,""+i[r])}}function Kr(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return i&&(l=Vs(i)?i.checked?"true":"false":i.value),i=l,i!==a?(r.setValue(i),!0):!1}function Ii(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Yr=/[\n"\\]/g;function gn(i){return i.replace(Yr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function za(i,r,a,l,f,m,_,A){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),r!=null?_==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+qe(r)):i.value!==""+qe(r)&&(i.value=""+qe(r)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),r!=null?Tl(i,_,qe(r)):a!=null?Tl(i,_,qe(a)):l!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+qe(A):i.removeAttribute("name")}function Sc(i,r,a,l,f,m,_,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){Yt(i);return}a=a!=null?""+qe(a):"",r=r!=null?""+qe(r):a,A||r===i.value||(i.value=r),i.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=A?i.checked:!!l,i.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),Yt(i)}function Tl(i,r,a){r==="number"&&Ii(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Ms(i,r,a,l){if(i=i.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=r.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+qe(a),r=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Ac(i,r,a){if(r!=null&&(r=""+qe(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+qe(a):""}function Ns(i,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(fe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=qe(r),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l),Yt(i)}function yn(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var bc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function El(i,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":l?i.setProperty(r,a):typeof a!="number"||a===0||bc.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function Sl(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&El(i,f,l)}else for(var m in r)r.hasOwnProperty(m)&&El(i,m,r[m])}function ja(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fa(i){return Os.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ni(){}var Al=null;function Un(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ps=null,xi=null;function Qr(i){var r=Ln(i);if(r&&(i=r.stateNode)){var a=i[Fe]||null;t:switch(i=r.stateNode,r.type){case"input":if(za(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==i&&l.form===i.form){var f=l[Fe]||null;if(!f)throw Error(s(90));za(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===i.form&&Kr(l)}break t;case"textarea":Ac(i,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Ms(i,!!a.multiple,r,!1)}}}var qa=!1;function ks(i,r,a){if(qa)return i(r,a);qa=!0;try{var l=i(r);return l}finally{if(qa=!1,(Ps!==null||xi!==null)&&(vh(),Ps&&(r=Ps,i=xi,xi=Ps=null,Qr(r),i)))for(r=0;r<i.length;r++)Qr(i[r])}}function ii(i,r){var a=i.stateNode;if(a===null)return null;var l=a[Fe]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xr=!1;if(Bn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Xr=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Xr=!1}var Di=null,bl=null,$r=null;function wl(){if($r)return $r;var i,r=bl,a=r.length,l,f="value"in Di?Di.value:Di.textContent,m=f.length;for(i=0;i<a&&r[i]===f[i];i++);var _=a-i;for(l=1;l<=_&&r[a-l]===f[m-l];l++);return $r=f.slice(i,1<l?1-l:void 0)}function Wr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Zi(){return!0}function si(){return!1}function Qe(i){function r(a,l,f,m,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(a=i[A],this[A]=a?a(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Zi:si,this.isPropagationStopped=si,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),r}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=Qe(Ji),Ls=T({},Ji,{view:0,detail:0}),Rl=Qe(Ls),Us,Ha,Mi,Ga=T({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Mi&&(Mi&&i.type==="mousemove"?(Us=i.screenX-Mi.screenX,Ha=i.screenY-Mi.screenY):Ha=Us=0,Mi=i),Us)},movementY:function(i){return"movementY"in i?i.movementY:Ha}}),Cl=Qe(Ga),Zr=T({},Ga,{dataTransfer:0}),Rc=Qe(Zr),Cc=T({},Ls,{relatedTarget:0}),Jr=Qe(Cc),Il=T({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Ic=Qe(Il),Ka=T({},Ji,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),xc=Qe(Ka),Dc=T({},Ji,{data:0}),Ni=Qe(Dc),Vc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Nc[i])?!!r[i]:!1}function Bs(){return Oc}var hn=T({},Ls,{key:function(i){if(i.key){var r=Vc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Wr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Mc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bs,charCode:function(i){return i.type==="keypress"?Wr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Wr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Pc=Qe(hn),kc=T({},Ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ts=Qe(kc),h=T({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bs}),v=Qe(h),E=T({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Qe(E),B=T({},Ga,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Qe(B),lt=T({},Ji,{newState:0,oldState:0}),Rt=Qe(lt),ye=[9,13,27,32],Gt=Bn&&"CompositionEvent"in window,le=null;Bn&&"documentMode"in document&&(le=document.documentMode);var zn=Bn&&"TextEvent"in window&&!le,Oi=Bn&&(!Gt||le&&8<le&&11>=le),ri=" ",ai=!1;function ta(i,r){switch(i){case"keyup":return ye.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ya(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Qa=!1;function mC(i,r){switch(i){case"compositionend":return Ya(r);case"keypress":return r.which!==32?null:(ai=!0,ri);case"textInput":return i=r.data,i===ri&&ai?null:i;default:return null}}function pC(i,r){if(Qa)return i==="compositionend"||!Gt&&ta(i,r)?(i=wl(),$r=bl=Di=null,Qa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Oi&&r.locale!=="ko"?null:r.data;default:return null}}var gC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!gC[i.type]:r==="textarea"}function Av(i,r,a,l){Ps?xi?xi.push(l):xi=[l]:Ps=l,r=wh(r,"onChange"),0<r.length&&(a=new Vi("onChange","change",null,a,l),i.push({event:a,listeners:r}))}var xl=null,Dl=null;function yC(i){rT(i,0)}function Lc(i){var r=bn(i);if(Kr(r))return i}function bv(i,r){if(i==="change")return r}var wv=!1;if(Bn){var bd;if(Bn){var wd="oninput"in document;if(!wd){var Rv=document.createElement("div");Rv.setAttribute("oninput","return;"),wd=typeof Rv.oninput=="function"}bd=wd}else bd=!1;wv=bd&&(!document.documentMode||9<document.documentMode)}function Cv(){xl&&(xl.detachEvent("onpropertychange",Iv),Dl=xl=null)}function Iv(i){if(i.propertyName==="value"&&Lc(Dl)){var r=[];Av(r,Dl,i,Un(i)),ks(yC,r)}}function vC(i,r,a){i==="focusin"?(Cv(),xl=r,Dl=a,xl.attachEvent("onpropertychange",Iv)):i==="focusout"&&Cv()}function _C(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Lc(Dl)}function TC(i,r){if(i==="click")return Lc(r)}function EC(i,r){if(i==="input"||i==="change")return Lc(r)}function SC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Rn=typeof Object.is=="function"?Object.is:SC;function Vl(i,r){if(Rn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Se.call(r,f)||!Rn(i[f],r[f]))return!1}return!0}function xv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Dv(i,r){var a=xv(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=r&&l>=r)return{node:a,offset:r-i};i=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=xv(a)}}function Vv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Vv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Mv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ii(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=Ii(i.document)}return r}function Rd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var AC=Bn&&"documentMode"in document&&11>=document.documentMode,Xa=null,Cd=null,Ml=null,Id=!1;function Nv(i,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Id||Xa==null||Xa!==Ii(l)||(l=Xa,"selectionStart"in l&&Rd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ml&&Vl(Ml,l)||(Ml=l,l=wh(Cd,"onSelect"),0<l.length&&(r=new Vi("onSelect","select",null,r,a),i.push({event:r,listeners:l}),r.target=Xa)))}function ea(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var $a={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},xd={},Ov={};Bn&&(Ov=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function na(i){if(xd[i])return xd[i];if(!$a[i])return i;var r=$a[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in Ov)return xd[i]=r[a];return i}var Pv=na("animationend"),kv=na("animationiteration"),Lv=na("animationstart"),bC=na("transitionrun"),wC=na("transitionstart"),RC=na("transitioncancel"),Uv=na("transitionend"),Bv=new Map,Dd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dd.push("scrollEnd");function oi(i,r){Bv.set(i,r),Ri(r,[i])}var Uc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},jn=[],Wa=0,Vd=0;function Bc(){for(var i=Wa,r=Vd=Wa=0;r<i;){var a=jn[r];jn[r++]=null;var l=jn[r];jn[r++]=null;var f=jn[r];jn[r++]=null;var m=jn[r];if(jn[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}m!==0&&zv(a,f,m)}}function zc(i,r,a,l){jn[Wa++]=i,jn[Wa++]=r,jn[Wa++]=a,jn[Wa++]=l,Vd|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function Md(i,r,a,l){return zc(i,r,a,l),jc(i)}function ia(i,r){return zc(i,null,null,r),jc(i)}function zv(i,r,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=i.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,f&&r!==null&&(f=31-ge(a),i=m.hiddenUpdates,l=i[f],l===null?i[f]=[r]:l.push(r),r.lane=a|536870912),m):null}function jc(i){if(50<tu)throw tu=0,jm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Za={};function CC(i,r,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(i,r,a,l){return new CC(i,r,a,l)}function Nd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function es(i,r){var a=i.alternate;return a===null?(a=Cn(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function jv(i,r){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Fc(i,r,a,l,f,m){var _=0;if(l=i,typeof i=="function")Nd(i)&&(_=1);else if(typeof i=="string")_=MI(i,a,ft.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case R:return i=Cn(31,a,r,f),i.elementType=R,i.lanes=m,i;case U:return sa(a.children,f,m,r);case z:_=8,f|=24;break;case X:return i=Cn(12,a,r,f|2),i.elementType=X,i.lanes=m,i;case at:return i=Cn(13,a,r,f),i.elementType=at,i.lanes=m,i;case ot:return i=Cn(19,a,r,f),i.elementType=ot,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case G:_=10;break t;case K:_=9;break t;case st:_=11;break t;case I:_=14;break t;case w:_=16,l=null;break t}_=29,a=Error(s(130,i===null?"null":typeof i,"")),l=null}return r=Cn(_,a,r,f),r.elementType=i,r.type=l,r.lanes=m,r}function sa(i,r,a,l){return i=Cn(7,i,l,r),i.lanes=a,i}function Od(i,r,a){return i=Cn(6,i,null,r),i.lanes=a,i}function Fv(i){var r=Cn(18,null,null,0);return r.stateNode=i,r}function Pd(i,r,a){return r=Cn(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var qv=new WeakMap;function Fn(i,r){if(typeof i=="object"&&i!==null){var a=qv.get(i);return a!==void 0?a:(r={value:i,source:r,stack:ul(r)},qv.set(i,r),r)}return{value:i,source:r,stack:ul(r)}}var Ja=[],to=0,qc=null,Nl=0,qn=[],Hn=0,zs=null,Pi=1,ki="";function ns(i,r){Ja[to++]=Nl,Ja[to++]=qc,qc=i,Nl=r}function Hv(i,r,a){qn[Hn++]=Pi,qn[Hn++]=ki,qn[Hn++]=zs,zs=i;var l=Pi;i=ki;var f=32-ge(l)-1;l&=~(1<<f),a+=1;var m=32-ge(r)+f;if(30<m){var _=f-f%5;m=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Pi=1<<32-ge(r)+f|a<<f|l,ki=m+i}else Pi=1<<m|a<<f|l,ki=i}function kd(i){i.return!==null&&(ns(i,1),Hv(i,1,0))}function Ld(i){for(;i===qc;)qc=Ja[--to],Ja[to]=null,Nl=Ja[--to],Ja[to]=null;for(;i===zs;)zs=qn[--Hn],qn[Hn]=null,ki=qn[--Hn],qn[Hn]=null,Pi=qn[--Hn],qn[Hn]=null}function Gv(i,r){qn[Hn++]=Pi,qn[Hn++]=ki,qn[Hn++]=zs,Pi=r.id,ki=r.overflow,zs=i}var Xe=null,ie=null,Bt=!1,js=null,Gn=!1,Ud=Error(s(519));function Fs(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ol(Fn(r,i)),Ud}function Kv(i){var r=i.stateNode,a=i.type,l=i.memoizedProps;switch(r[be]=i,r[Fe]=l,a){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(a=0;a<nu.length;a++)Mt(nu[a],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":Mt("invalid",r),Sc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",r);break;case"textarea":Mt("invalid",r),Ns(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||uT(r.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",r),Mt("toggle",r)),l.onScroll!=null&&Mt("scroll",r),l.onScrollEnd!=null&&Mt("scrollend",r),l.onClick!=null&&(r.onclick=ni),r=!0):r=!1,r||Fs(i,!0)}function Yv(i){for(Xe=i.return;Xe;)switch(Xe.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Xe=Xe.return}}function eo(i){if(i!==Xe)return!1;if(!Bt)return Yv(i),Bt=!0,!1;var r=i.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||np(i.type,i.memoizedProps)),a=!a),a&&ie&&Fs(i),Yv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ie=vT(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ie=vT(i)}else r===27?(r=ie,nr(i.type)?(i=op,op=null,ie=i):ie=r):ie=Xe?Yn(i.stateNode.nextSibling):null;return!0}function ra(){ie=Xe=null,Bt=!1}function Bd(){var i=js;return i!==null&&(En===null?En=i:En.push.apply(En,i),js=null),i}function Ol(i){js===null?js=[i]:js.push(i)}var zd=O(null),aa=null,is=null;function qs(i,r,a){ct(zd,r._currentValue),r._currentValue=a}function ss(i){i._currentValue=zd.current,nt(zd)}function jd(i,r,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),i===a)break;i=i.return}}function Fd(i,r,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;t:for(;m!==null;){var A=m;m=f;for(var D=0;D<r.length;D++)if(A.context===r[D]){m.lanes|=a,A=m.alternate,A!==null&&(A.lanes|=a),jd(m.return,a,i),l||(_=null);break t}m=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),jd(_,a,i),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===i){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function no(i,r,a,l){i=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var A=f.type;Rn(f.pendingProps.value,_.value)||(i!==null?i.push(A):i=[A])}}else if(f===zt.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(ou):i=[ou])}f=f.return}i!==null&&Fd(r,i,a,l),r.flags|=262144}function Hc(i){for(i=i.firstContext;i!==null;){if(!Rn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function oa(i){aa=i,is=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function $e(i){return Qv(aa,i)}function Gc(i,r){return aa===null&&oa(i),Qv(i,r)}function Qv(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},is===null){if(i===null)throw Error(s(308));is=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else is=is.next=r;return a}var IC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},xC=n.unstable_scheduleCallback,DC=n.unstable_NormalPriority,Ce={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qd(){return{controller:new IC,data:new Map,refCount:0}}function Pl(i){i.refCount--,i.refCount===0&&xC(DC,function(){i.controller.abort()})}var kl=null,Hd=0,io=0,so=null;function VC(i,r){if(kl===null){var a=kl=[];Hd=0,io=Ym(),so={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Hd++,r.then(Xv,Xv),r}function Xv(){if(--Hd===0&&kl!==null){so!==null&&(so.status="fulfilled");var i=kl;kl=null,io=0,so=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function MC(i,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var $v=Z.S;Z.S=function(i,r){N0=cn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&VC(i,r),$v!==null&&$v(i,r)};var la=O(null);function Gd(){var i=la.current;return i!==null?i:ne.pooledCache}function Kc(i,r){r===null?ct(la,la.current):ct(la,r.pool)}function Wv(){var i=Gd();return i===null?null:{parent:Ce._currentValue,pool:i}}var ro=Error(s(460)),Kd=Error(s(474)),Yc=Error(s(542)),Qc={then:function(){}};function Zv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Jv(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(ni,ni),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,e_(i),i;default:if(typeof r.status=="string")r.then(ni,ni);else{if(i=ne,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,e_(i),i}throw ca=r,ro}}function ua(i){try{var r=i._init;return r(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ca=a,ro):a}}var ca=null;function t_(){if(ca===null)throw Error(s(459));var i=ca;return ca=null,i}function e_(i){if(i===ro||i===Yc)throw Error(s(483))}var ao=null,Ll=0;function Xc(i){var r=Ll;return Ll+=1,ao===null&&(ao=[]),Jv(ao,i,r)}function Ul(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function $c(i,r){throw r.$$typeof===S?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function n_(i){function r(L,N){if(i){var j=L.deletions;j===null?(L.deletions=[N],L.flags|=16):j.push(N)}}function a(L,N){if(!i)return null;for(;N!==null;)r(L,N),N=N.sibling;return null}function l(L){for(var N=new Map;L!==null;)L.key!==null?N.set(L.key,L):N.set(L.index,L),L=L.sibling;return N}function f(L,N){return L=es(L,N),L.index=0,L.sibling=null,L}function m(L,N,j){return L.index=j,i?(j=L.alternate,j!==null?(j=j.index,j<N?(L.flags|=67108866,N):j):(L.flags|=67108866,N)):(L.flags|=1048576,N)}function _(L){return i&&L.alternate===null&&(L.flags|=67108866),L}function A(L,N,j,tt){return N===null||N.tag!==6?(N=Od(j,L.mode,tt),N.return=L,N):(N=f(N,j),N.return=L,N)}function D(L,N,j,tt){var vt=j.type;return vt===U?$(L,N,j.props.children,tt,j.key):N!==null&&(N.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===w&&ua(vt)===N.type)?(N=f(N,j.props),Ul(N,j),N.return=L,N):(N=Fc(j.type,j.key,j.props,null,L.mode,tt),Ul(N,j),N.return=L,N)}function F(L,N,j,tt){return N===null||N.tag!==4||N.stateNode.containerInfo!==j.containerInfo||N.stateNode.implementation!==j.implementation?(N=Pd(j,L.mode,tt),N.return=L,N):(N=f(N,j.children||[]),N.return=L,N)}function $(L,N,j,tt,vt){return N===null||N.tag!==7?(N=sa(j,L.mode,tt,vt),N.return=L,N):(N=f(N,j),N.return=L,N)}function et(L,N,j){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Od(""+N,L.mode,j),N.return=L,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case C:return j=Fc(N.type,N.key,N.props,null,L.mode,j),Ul(j,N),j.return=L,j;case P:return N=Pd(N,L.mode,j),N.return=L,N;case w:return N=ua(N),et(L,N,j)}if(fe(N)||k(N))return N=sa(N,L.mode,j,null),N.return=L,N;if(typeof N.then=="function")return et(L,Xc(N),j);if(N.$$typeof===G)return et(L,Gc(L,N),j);$c(L,N)}return null}function q(L,N,j,tt){var vt=N!==null?N.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return vt!==null?null:A(L,N,""+j,tt);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case C:return j.key===vt?D(L,N,j,tt):null;case P:return j.key===vt?F(L,N,j,tt):null;case w:return j=ua(j),q(L,N,j,tt)}if(fe(j)||k(j))return vt!==null?null:$(L,N,j,tt,null);if(typeof j.then=="function")return q(L,N,Xc(j),tt);if(j.$$typeof===G)return q(L,N,Gc(L,j),tt);$c(L,j)}return null}function Q(L,N,j,tt,vt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return L=L.get(j)||null,A(N,L,""+tt,vt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case C:return L=L.get(tt.key===null?j:tt.key)||null,D(N,L,tt,vt);case P:return L=L.get(tt.key===null?j:tt.key)||null,F(N,L,tt,vt);case w:return tt=ua(tt),Q(L,N,j,tt,vt)}if(fe(tt)||k(tt))return L=L.get(j)||null,$(N,L,tt,vt,null);if(typeof tt.then=="function")return Q(L,N,j,Xc(tt),vt);if(tt.$$typeof===G)return Q(L,N,j,Gc(N,tt),vt);$c(N,tt)}return null}function mt(L,N,j,tt){for(var vt=null,qt=null,gt=N,Dt=N=0,Pt=null;gt!==null&&Dt<j.length;Dt++){gt.index>Dt?(Pt=gt,gt=null):Pt=gt.sibling;var Ht=q(L,gt,j[Dt],tt);if(Ht===null){gt===null&&(gt=Pt);break}i&&gt&&Ht.alternate===null&&r(L,gt),N=m(Ht,N,Dt),qt===null?vt=Ht:qt.sibling=Ht,qt=Ht,gt=Pt}if(Dt===j.length)return a(L,gt),Bt&&ns(L,Dt),vt;if(gt===null){for(;Dt<j.length;Dt++)gt=et(L,j[Dt],tt),gt!==null&&(N=m(gt,N,Dt),qt===null?vt=gt:qt.sibling=gt,qt=gt);return Bt&&ns(L,Dt),vt}for(gt=l(gt);Dt<j.length;Dt++)Pt=Q(gt,L,Dt,j[Dt],tt),Pt!==null&&(i&&Pt.alternate!==null&&gt.delete(Pt.key===null?Dt:Pt.key),N=m(Pt,N,Dt),qt===null?vt=Pt:qt.sibling=Pt,qt=Pt);return i&&gt.forEach(function(or){return r(L,or)}),Bt&&ns(L,Dt),vt}function Tt(L,N,j,tt){if(j==null)throw Error(s(151));for(var vt=null,qt=null,gt=N,Dt=N=0,Pt=null,Ht=j.next();gt!==null&&!Ht.done;Dt++,Ht=j.next()){gt.index>Dt?(Pt=gt,gt=null):Pt=gt.sibling;var or=q(L,gt,Ht.value,tt);if(or===null){gt===null&&(gt=Pt);break}i&&gt&&or.alternate===null&&r(L,gt),N=m(or,N,Dt),qt===null?vt=or:qt.sibling=or,qt=or,gt=Pt}if(Ht.done)return a(L,gt),Bt&&ns(L,Dt),vt;if(gt===null){for(;!Ht.done;Dt++,Ht=j.next())Ht=et(L,Ht.value,tt),Ht!==null&&(N=m(Ht,N,Dt),qt===null?vt=Ht:qt.sibling=Ht,qt=Ht);return Bt&&ns(L,Dt),vt}for(gt=l(gt);!Ht.done;Dt++,Ht=j.next())Ht=Q(gt,L,Dt,Ht.value,tt),Ht!==null&&(i&&Ht.alternate!==null&&gt.delete(Ht.key===null?Dt:Ht.key),N=m(Ht,N,Dt),qt===null?vt=Ht:qt.sibling=Ht,qt=Ht);return i&&gt.forEach(function(qI){return r(L,qI)}),Bt&&ns(L,Dt),vt}function Jt(L,N,j,tt){if(typeof j=="object"&&j!==null&&j.type===U&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case C:t:{for(var vt=j.key;N!==null;){if(N.key===vt){if(vt=j.type,vt===U){if(N.tag===7){a(L,N.sibling),tt=f(N,j.props.children),tt.return=L,L=tt;break t}}else if(N.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===w&&ua(vt)===N.type){a(L,N.sibling),tt=f(N,j.props),Ul(tt,j),tt.return=L,L=tt;break t}a(L,N);break}else r(L,N);N=N.sibling}j.type===U?(tt=sa(j.props.children,L.mode,tt,j.key),tt.return=L,L=tt):(tt=Fc(j.type,j.key,j.props,null,L.mode,tt),Ul(tt,j),tt.return=L,L=tt)}return _(L);case P:t:{for(vt=j.key;N!==null;){if(N.key===vt)if(N.tag===4&&N.stateNode.containerInfo===j.containerInfo&&N.stateNode.implementation===j.implementation){a(L,N.sibling),tt=f(N,j.children||[]),tt.return=L,L=tt;break t}else{a(L,N);break}else r(L,N);N=N.sibling}tt=Pd(j,L.mode,tt),tt.return=L,L=tt}return _(L);case w:return j=ua(j),Jt(L,N,j,tt)}if(fe(j))return mt(L,N,j,tt);if(k(j)){if(vt=k(j),typeof vt!="function")throw Error(s(150));return j=vt.call(j),Tt(L,N,j,tt)}if(typeof j.then=="function")return Jt(L,N,Xc(j),tt);if(j.$$typeof===G)return Jt(L,N,Gc(L,j),tt);$c(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,N!==null&&N.tag===6?(a(L,N.sibling),tt=f(N,j),tt.return=L,L=tt):(a(L,N),tt=Od(j,L.mode,tt),tt.return=L,L=tt),_(L)):a(L,N)}return function(L,N,j,tt){try{Ll=0;var vt=Jt(L,N,j,tt);return ao=null,vt}catch(gt){if(gt===ro||gt===Yc)throw gt;var qt=Cn(29,gt,null,L.mode);return qt.lanes=tt,qt.return=L,qt}}}var ha=n_(!0),i_=n_(!1),Hs=!1;function Yd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Gs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ks(i,r,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=jc(i),zv(i,null,a),r}return zc(i,l,r,a),jc(i)}function Bl(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,fl(i,a)}}function Xd(i,r){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var $d=!1;function zl(){if($d){var i=so;if(i!==null)throw i}}function jl(i,r,a,l){$d=!1;var f=i.updateQueue;Hs=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,F=D.next;D.next=null,_===null?m=F:_.next=F,_=D;var $=i.alternate;$!==null&&($=$.updateQueue,A=$.lastBaseUpdate,A!==_&&(A===null?$.firstBaseUpdate=F:A.next=F,$.lastBaseUpdate=D))}if(m!==null){var et=f.baseState;_=0,$=F=D=null,A=m;do{var q=A.lane&-536870913,Q=q!==A.lane;if(Q?(Ot&q)===q:(l&q)===q){q!==0&&q===io&&($d=!0),$!==null&&($=$.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var mt=i,Tt=A;q=r;var Jt=a;switch(Tt.tag){case 1:if(mt=Tt.payload,typeof mt=="function"){et=mt.call(Jt,et,q);break t}et=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=Tt.payload,q=typeof mt=="function"?mt.call(Jt,et,q):mt,q==null)break t;et=T({},et,q);break t;case 2:Hs=!0}}q=A.callback,q!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[q]:Q.push(q))}else Q={lane:q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},$===null?(F=$=Q,D=et):$=$.next=Q,_|=q;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);$===null&&(D=et),f.baseState=D,f.firstBaseUpdate=F,f.lastBaseUpdate=$,m===null&&(f.shared.lanes=0),Ws|=_,i.lanes=_,i.memoizedState=et}}function s_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function r_(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)s_(a[i],r)}var oo=O(null),Wc=O(0);function a_(i,r){i=ds,ct(Wc,i),ct(oo,r),ds=i|r.baseLanes}function Wd(){ct(Wc,ds),ct(oo,oo.current)}function Zd(){ds=Wc.current,nt(oo),nt(Wc)}var In=O(null),Kn=null;function Ys(i){var r=i.alternate;ct(ve,ve.current&1),ct(In,i),Kn===null&&(r===null||oo.current!==null||r.memoizedState!==null)&&(Kn=i)}function Jd(i){ct(ve,ve.current),ct(In,i),Kn===null&&(Kn=i)}function o_(i){i.tag===22?(ct(ve,ve.current),ct(In,i),Kn===null&&(Kn=i)):Qs()}function Qs(){ct(ve,ve.current),ct(In,In.current)}function xn(i){nt(In),Kn===i&&(Kn=null),nt(ve)}var ve=O(0);function Zc(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||rp(a)||ap(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var rs=0,Ct=null,Wt=null,Ie=null,Jc=!1,lo=!1,fa=!1,th=0,Fl=0,uo=null,NC=0;function de(){throw Error(s(321))}function tm(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!Rn(i[a],r[a]))return!1;return!0}function em(i,r,a,l,f,m){return rs=m,Ct=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=i===null||i.memoizedState===null?H_:gm,fa=!1,m=a(l,f),fa=!1,lo&&(m=u_(r,a,l,f)),l_(i),m}function l_(i){Z.H=Gl;var r=Wt!==null&&Wt.next!==null;if(rs=0,Ie=Wt=Ct=null,Jc=!1,Fl=0,uo=null,r)throw Error(s(300));i===null||xe||(i=i.dependencies,i!==null&&Hc(i)&&(xe=!0))}function u_(i,r,a,l){Ct=i;var f=0;do{if(lo&&(uo=null),Fl=0,lo=!1,25<=f)throw Error(s(301));if(f+=1,Ie=Wt=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Z.H=G_,m=r(a,l)}while(lo);return m}function OC(){var i=Z.H,r=i.useState()[0];return r=typeof r.then=="function"?ql(r):r,i=i.useState()[0],(Wt!==null?Wt.memoizedState:null)!==i&&(Ct.flags|=1024),r}function nm(){var i=th!==0;return th=0,i}function im(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function sm(i){if(Jc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Jc=!1}rs=0,Ie=Wt=Ct=null,lo=!1,Fl=th=0,uo=null}function fn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?Ct.memoizedState=Ie=i:Ie=Ie.next=i,Ie}function _e(){if(Wt===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=Wt.next;var r=Ie===null?Ct.memoizedState:Ie.next;if(r!==null)Ie=r,Wt=i;else{if(i===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Wt=i,i={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Ie===null?Ct.memoizedState=Ie=i:Ie=Ie.next=i}return Ie}function eh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(i){var r=Fl;return Fl+=1,uo===null&&(uo=[]),i=Jv(uo,i,r),r=Ct,(Ie===null?r.memoizedState:Ie.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?H_:gm),i}function nh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ql(i);if(i.$$typeof===G)return $e(i)}throw Error(s(438,String(i)))}function rm(i){var r=null,a=Ct.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=eh(),Ct.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),l=0;l<i;l++)a[l]=M;return r.index++,a}function as(i,r){return typeof r=="function"?r(i):r}function ih(i){var r=_e();return am(r,Wt,i)}function am(i,r,a){var l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=i.baseQueue,m=l.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}r.baseQueue=f=m,l.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{r=f.next;var A=_=null,D=null,F=r,$=!1;do{var et=F.lane&-536870913;if(et!==F.lane?(Ot&et)===et:(rs&et)===et){var q=F.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),et===io&&($=!0);else if((rs&q)===q){F=F.next,q===io&&($=!0);continue}else et={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(A=D=et,_=m):D=D.next=et,Ct.lanes|=q,Ws|=q;et=F.action,fa&&a(m,et),m=F.hasEagerState?F.eagerState:a(m,et)}else q={lane:et,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(A=D=q,_=m):D=D.next=q,Ct.lanes|=et,Ws|=et;F=F.next}while(F!==null&&F!==r);if(D===null?_=m:D.next=A,!Rn(m,i.memoizedState)&&(xe=!0,$&&(a=so,a!==null)))throw a;i.memoizedState=m,i.baseState=_,i.baseQueue=D,l.lastRenderedState=m}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function om(i){var r=_e(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do m=i(m,_.action),_=_.next;while(_!==f);Rn(m,r.memoizedState)||(xe=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function c_(i,r,a){var l=Ct,f=_e(),m=Bt;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!Rn((Wt||f).memoizedState,a);if(_&&(f.memoizedState=a,xe=!0),f=f.queue,cm(d_.bind(null,l,f,i),[i]),f.getSnapshot!==r||_||Ie!==null&&Ie.memoizedState.tag&1){if(l.flags|=2048,co(9,{destroy:void 0},f_.bind(null,l,f,a,r),null),ne===null)throw Error(s(349));m||(rs&127)!==0||h_(l,r,a)}return a}function h_(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=Ct.updateQueue,r===null?(r=eh(),Ct.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function f_(i,r,a,l){r.value=a,r.getSnapshot=l,m_(r)&&p_(i)}function d_(i,r,a){return a(function(){m_(r)&&p_(i)})}function m_(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!Rn(i,a)}catch{return!0}}function p_(i){var r=ia(i,2);r!==null&&Sn(r,i,2)}function lm(i){var r=fn();if(typeof i=="function"){var a=i;if(i=a(),fa){kn(!0);try{a()}finally{kn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:i},r}function g_(i,r,a,l){return i.baseState=a,am(i,Wt,typeof l=="function"?l:as)}function PC(i,r,a,l,f){if(ah(i))throw Error(s(485));if(i=r.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};Z.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,y_(r,m)):(m.next=a.next,r.pending=a.next=m)}}function y_(i,r){var a=r.action,l=r.payload,f=i.state;if(r.isTransition){var m=Z.T,_={};Z.T=_;try{var A=a(f,l),D=Z.S;D!==null&&D(_,A),v_(i,r,A)}catch(F){um(i,r,F)}finally{m!==null&&_.types!==null&&(m.types=_.types),Z.T=m}}else try{m=a(f,l),v_(i,r,m)}catch(F){um(i,r,F)}}function v_(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){__(i,r,l)},function(l){return um(i,r,l)}):__(i,r,a)}function __(i,r,a){r.status="fulfilled",r.value=a,T_(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,y_(i,a)))}function um(i,r,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,T_(r),r=r.next;while(r!==l)}i.action=null}function T_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function E_(i,r){return r}function S_(i,r){if(Bt){var a=ne.formState;if(a!==null){t:{var l=Ct;if(Bt){if(ie){e:{for(var f=ie,m=Gn;f.nodeType!==8;){if(!m){f=null;break e}if(f=Yn(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){ie=Yn(f.nextSibling),l=f.data==="F!";break t}}Fs(l)}l=!1}l&&(r=a[0])}}return a=fn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:E_,lastRenderedState:r},a.queue=l,a=j_.bind(null,Ct,l),l.dispatch=a,l=lm(!1),m=pm.bind(null,Ct,!1,l.queue),l=fn(),f={state:r,dispatch:null,action:i,pending:null},l.queue=f,a=PC.bind(null,Ct,f,m,a),f.dispatch=a,l.memoizedState=i,[r,a,!1]}function A_(i){var r=_e();return b_(r,Wt,i)}function b_(i,r,a){if(r=am(i,r,E_)[0],i=ih(as)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=ql(r)}catch(_){throw _===ro?Yc:_}else l=r;r=_e();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(Ct.flags|=2048,co(9,{destroy:void 0},kC.bind(null,f,a),null)),[l,m,i]}function kC(i,r){i.action=r}function w_(i){var r=_e(),a=Wt;if(a!==null)return b_(r,a,i);_e(),r=r.memoizedState,a=_e();var l=a.queue.dispatch;return a.memoizedState=i,[r,l,!1]}function co(i,r,a,l){return i={tag:i,create:a,deps:l,inst:r,next:null},r=Ct.updateQueue,r===null&&(r=eh(),Ct.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,r.lastEffect=i),i}function R_(){return _e().memoizedState}function sh(i,r,a,l){var f=fn();Ct.flags|=i,f.memoizedState=co(1|r,{destroy:void 0},a,l===void 0?null:l)}function rh(i,r,a,l){var f=_e();l=l===void 0?null:l;var m=f.memoizedState.inst;Wt!==null&&l!==null&&tm(l,Wt.memoizedState.deps)?f.memoizedState=co(r,m,a,l):(Ct.flags|=i,f.memoizedState=co(1|r,m,a,l))}function C_(i,r){sh(8390656,8,i,r)}function cm(i,r){rh(2048,8,i,r)}function LC(i){Ct.flags|=4;var r=Ct.updateQueue;if(r===null)r=eh(),Ct.updateQueue=r,r.events=[i];else{var a=r.events;a===null?r.events=[i]:a.push(i)}}function I_(i){var r=_e().memoizedState;return LC({ref:r,nextImpl:i}),function(){if((Kt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function x_(i,r){return rh(4,2,i,r)}function D_(i,r){return rh(4,4,i,r)}function V_(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function M_(i,r,a){a=a!=null?a.concat([i]):null,rh(4,4,V_.bind(null,r,i),a)}function hm(){}function N_(i,r){var a=_e();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&tm(r,l[1])?l[0]:(a.memoizedState=[i,r],i)}function O_(i,r){var a=_e();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&tm(r,l[1]))return l[0];if(l=i(),fa){kn(!0);try{i()}finally{kn(!1)}}return a.memoizedState=[l,r],l}function fm(i,r,a){return a===void 0||(rs&1073741824)!==0&&(Ot&261930)===0?i.memoizedState=r:(i.memoizedState=a,i=P0(),Ct.lanes|=i,Ws|=i,a)}function P_(i,r,a,l){return Rn(a,r)?a:oo.current!==null?(i=fm(i,a,l),Rn(i,r)||(xe=!0),i):(rs&42)===0||(rs&1073741824)!==0&&(Ot&261930)===0?(xe=!0,i.memoizedState=a):(i=P0(),Ct.lanes|=i,Ws|=i,r)}function k_(i,r,a,l,f){var m=rt.p;rt.p=m!==0&&8>m?m:8;var _=Z.T,A={};Z.T=A,pm(i,!1,r,a);try{var D=f(),F=Z.S;if(F!==null&&F(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var $=MC(D,l);Hl(i,r,$,Mn(i))}else Hl(i,r,l,Mn(i))}catch(et){Hl(i,r,{then:function(){},status:"rejected",reason:et},Mn())}finally{rt.p=m,_!==null&&A.types!==null&&(_.types=A.types),Z.T=_}}function UC(){}function dm(i,r,a,l){if(i.tag!==5)throw Error(s(476));var f=L_(i).queue;k_(i,f,r,dt,a===null?UC:function(){return U_(i),a(l)})}function L_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:dt},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function U_(i){var r=L_(i);r.next===null&&(r=i.alternate.memoizedState),Hl(i,r.next.queue,{},Mn())}function mm(){return $e(ou)}function B_(){return _e().memoizedState}function z_(){return _e().memoizedState}function BC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=Mn();i=Gs(a);var l=Ks(r,i,a);l!==null&&(Sn(l,r,a),Bl(l,r,a)),r={cache:qd()},i.payload=r;return}r=r.return}}function zC(i,r,a){var l=Mn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ah(i)?F_(r,a):(a=Md(i,r,a,l),a!==null&&(Sn(a,i,l),q_(a,r,l)))}function j_(i,r,a){var l=Mn();Hl(i,r,a,l)}function Hl(i,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ah(i))F_(r,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var _=r.lastRenderedState,A=m(_,a);if(f.hasEagerState=!0,f.eagerState=A,Rn(A,_))return zc(i,r,f,0),ne===null&&Bc(),!1}catch{}if(a=Md(i,r,f,l),a!==null)return Sn(a,i,l),q_(a,r,l),!0}return!1}function pm(i,r,a,l){if(l={lane:2,revertLane:Ym(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ah(i)){if(r)throw Error(s(479))}else r=Md(i,a,l,2),r!==null&&Sn(r,i,2)}function ah(i){var r=i.alternate;return i===Ct||r!==null&&r===Ct}function F_(i,r){lo=Jc=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function q_(i,r,a){if((a&4194048)!==0){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,fl(i,a)}}var Gl={readContext:$e,use:nh,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};Gl.useEffectEvent=de;var H_={readContext:$e,use:nh,useCallback:function(i,r){return fn().memoizedState=[i,r===void 0?null:r],i},useContext:$e,useEffect:C_,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,sh(4194308,4,V_.bind(null,r,i),a)},useLayoutEffect:function(i,r){return sh(4194308,4,i,r)},useInsertionEffect:function(i,r){sh(4,2,i,r)},useMemo:function(i,r){var a=fn();r=r===void 0?null:r;var l=i();if(fa){kn(!0);try{i()}finally{kn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(i,r,a){var l=fn();if(a!==void 0){var f=a(r);if(fa){kn(!0);try{a(r)}finally{kn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=zC.bind(null,Ct,i),[l.memoizedState,i]},useRef:function(i){var r=fn();return i={current:i},r.memoizedState=i},useState:function(i){i=lm(i);var r=i.queue,a=j_.bind(null,Ct,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:hm,useDeferredValue:function(i,r){var a=fn();return fm(a,i,r)},useTransition:function(){var i=lm(!1);return i=k_.bind(null,Ct,i.queue,!0,!1),fn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var l=Ct,f=fn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ne===null)throw Error(s(349));(Ot&127)!==0||h_(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,C_(d_.bind(null,l,m,i),[i]),l.flags|=2048,co(9,{destroy:void 0},f_.bind(null,l,m,a,r),null),a},useId:function(){var i=fn(),r=ne.identifierPrefix;if(Bt){var a=ki,l=Pi;a=(l&~(1<<32-ge(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=th++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=NC++,r="_"+r+"r_"+a.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:mm,useFormState:S_,useActionState:S_,useOptimistic:function(i){var r=fn();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=pm.bind(null,Ct,!0,a),a.dispatch=r,[i,r]},useMemoCache:rm,useCacheRefresh:function(){return fn().memoizedState=BC.bind(null,Ct)},useEffectEvent:function(i){var r=fn(),a={impl:i};return r.memoizedState=a,function(){if((Kt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},gm={readContext:$e,use:nh,useCallback:N_,useContext:$e,useEffect:cm,useImperativeHandle:M_,useInsertionEffect:x_,useLayoutEffect:D_,useMemo:O_,useReducer:ih,useRef:R_,useState:function(){return ih(as)},useDebugValue:hm,useDeferredValue:function(i,r){var a=_e();return P_(a,Wt.memoizedState,i,r)},useTransition:function(){var i=ih(as)[0],r=_e().memoizedState;return[typeof i=="boolean"?i:ql(i),r]},useSyncExternalStore:c_,useId:B_,useHostTransitionStatus:mm,useFormState:A_,useActionState:A_,useOptimistic:function(i,r){var a=_e();return g_(a,Wt,i,r)},useMemoCache:rm,useCacheRefresh:z_};gm.useEffectEvent=I_;var G_={readContext:$e,use:nh,useCallback:N_,useContext:$e,useEffect:cm,useImperativeHandle:M_,useInsertionEffect:x_,useLayoutEffect:D_,useMemo:O_,useReducer:om,useRef:R_,useState:function(){return om(as)},useDebugValue:hm,useDeferredValue:function(i,r){var a=_e();return Wt===null?fm(a,i,r):P_(a,Wt.memoizedState,i,r)},useTransition:function(){var i=om(as)[0],r=_e().memoizedState;return[typeof i=="boolean"?i:ql(i),r]},useSyncExternalStore:c_,useId:B_,useHostTransitionStatus:mm,useFormState:w_,useActionState:w_,useOptimistic:function(i,r){var a=_e();return Wt!==null?g_(a,Wt,i,r):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:rm,useCacheRefresh:z_};G_.useEffectEvent=I_;function ym(i,r,a,l){r=i.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var vm={enqueueSetState:function(i,r,a){i=i._reactInternals;var l=Mn(),f=Gs(l);f.payload=r,a!=null&&(f.callback=a),r=Ks(i,f,l),r!==null&&(Sn(r,i,l),Bl(r,i,l))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var l=Mn(),f=Gs(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Ks(i,f,l),r!==null&&(Sn(r,i,l),Bl(r,i,l))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=Mn(),l=Gs(a);l.tag=2,r!=null&&(l.callback=r),r=Ks(i,l,a),r!==null&&(Sn(r,i,a),Bl(r,i,a))}};function K_(i,r,a,l,f,m,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,m,_):r.prototype&&r.prototype.isPureReactComponent?!Vl(a,l)||!Vl(f,m):!0}function Y_(i,r,a,l){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==i&&vm.enqueueReplaceState(r,r.state,null)}function da(i,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(i=i.defaultProps){a===r&&(a=T({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}function Q_(i){Uc(i)}function X_(i){console.error(i)}function $_(i){Uc(i)}function oh(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function W_(i,r,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function _m(i,r,a){return a=Gs(a),a.tag=3,a.payload={element:null},a.callback=function(){oh(i,r)},a}function Z_(i){return i=Gs(i),i.tag=3,i}function J_(i,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;i.payload=function(){return f(m)},i.callback=function(){W_(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){W_(r,a,l),typeof f!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function jC(i,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&no(r,a,f,!0),a=In.current,a!==null){switch(a.tag){case 31:case 13:return Kn===null?_h():a.alternate===null&&me===0&&(me=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Qc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Hm(i,l,f)),!1;case 22:return a.flags|=65536,l===Qc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Hm(i,l,f)),!1}throw Error(s(435,a.tag))}return Hm(i,l,f),_h(),!1}if(Bt)return r=In.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Ud&&(i=Error(s(422),{cause:l}),Ol(Fn(i,a)))):(l!==Ud&&(r=Error(s(423),{cause:l}),Ol(Fn(r,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=Fn(l,a),f=_m(i.stateNode,l,f),Xd(i,f),me!==4&&(me=2)),!1;var m=Error(s(520),{cause:l});if(m=Fn(m,a),Jl===null?Jl=[m]:Jl.push(m),me!==4&&(me=2),r===null)return!0;l=Fn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=_m(a.stateNode,l,i),Xd(a,i),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Zs===null||!Zs.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Z_(f),J_(f,i,a,l),Xd(a,f),!1}a=a.return}while(a!==null);return!1}var Tm=Error(s(461)),xe=!1;function We(i,r,a,l){r.child=i===null?i_(r,null,a,l):ha(r,i.child,a,l)}function t0(i,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var _={};for(var A in l)A!=="ref"&&(_[A]=l[A])}else _=l;return oa(r),l=em(i,r,a,_,m,f),A=nm(),i!==null&&!xe?(im(i,r,f),os(i,r,f)):(Bt&&A&&kd(r),r.flags|=1,We(i,r,l,f),r.child)}function e0(i,r,a,l,f){if(i===null){var m=a.type;return typeof m=="function"&&!Nd(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,n0(i,r,m,l,f)):(i=Fc(a.type,null,l,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(m=i.child,!Im(i,f)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:Vl,a(_,l)&&i.ref===r.ref)return os(i,r,f)}return r.flags|=1,i=es(m,l),i.ref=r.ref,i.return=r,r.child=i}function n0(i,r,a,l,f){if(i!==null){var m=i.memoizedProps;if(Vl(m,l)&&i.ref===r.ref)if(xe=!1,r.pendingProps=l=m,Im(i,f))(i.flags&131072)!==0&&(xe=!0);else return r.lanes=i.lanes,os(i,r,f)}return Em(i,r,a,l,f)}function i0(i,r,a,l){var f=l.children,m=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,i!==null){for(l=r.child=i.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~m}else l=0,r.child=null;return s0(i,r,m,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Kc(r,m!==null?m.cachePool:null),m!==null?a_(r,m):Wd(),o_(r);else return l=r.lanes=536870912,s0(i,r,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(Kc(r,m.cachePool),a_(r,m),Qs(),r.memoizedState=null):(i!==null&&Kc(r,null),Wd(),Qs());return We(i,r,f,a),r.child}function Kl(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function s0(i,r,a,l,f){var m=Gd();return m=m===null?null:{parent:Ce._currentValue,pool:m},r.memoizedState={baseLanes:a,cachePool:m},i!==null&&Kc(r,null),Wd(),o_(r),i!==null&&no(i,r,l,!0),r.childLanes=f,null}function lh(i,r){return r=ch({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function r0(i,r,a){return ha(r,i.child,null,a),i=lh(r,r.pendingProps),i.flags|=2,xn(r),r.memoizedState=null,i}function FC(i,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Bt){if(l.mode==="hidden")return i=lh(r,l),r.lanes=536870912,Kl(null,i);if(Jd(r),(i=ie)?(i=yT(i,Gn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:zs!==null?{id:Pi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=Fv(i),a.return=r,r.child=a,Xe=r,ie=null)):i=null,i===null)throw Fs(r);return r.lanes=536870912,null}return lh(r,l)}var m=i.memoizedState;if(m!==null){var _=m.dehydrated;if(Jd(r),f)if(r.flags&256)r.flags&=-257,r=r0(i,r,a);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(xe||no(i,r,a,!1),f=(a&i.childLanes)!==0,xe||f){if(l=ne,l!==null&&(_=dl(l,a),_!==0&&_!==m.retryLane))throw m.retryLane=_,ia(i,_),Sn(l,i,_),Tm;_h(),r=r0(i,r,a)}else i=m.treeContext,ie=Yn(_.nextSibling),Xe=r,Bt=!0,js=null,Gn=!1,i!==null&&Gv(r,i),r=lh(r,l),r.flags|=4096;return r}return i=es(i.child,{mode:l.mode,children:l.children}),i.ref=r.ref,r.child=i,i.return=r,i}function uh(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=4194816)}}function Em(i,r,a,l,f){return oa(r),a=em(i,r,a,l,void 0,f),l=nm(),i!==null&&!xe?(im(i,r,f),os(i,r,f)):(Bt&&l&&kd(r),r.flags|=1,We(i,r,a,f),r.child)}function a0(i,r,a,l,f,m){return oa(r),r.updateQueue=null,a=u_(r,l,a,f),l_(i),l=nm(),i!==null&&!xe?(im(i,r,m),os(i,r,m)):(Bt&&l&&kd(r),r.flags|=1,We(i,r,a,m),r.child)}function o0(i,r,a,l,f){if(oa(r),r.stateNode===null){var m=Za,_=a.contextType;typeof _=="object"&&_!==null&&(m=$e(_)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=vm,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},Yd(r),_=a.contextType,m.context=typeof _=="object"&&_!==null?$e(_):Za,m.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(ym(r,a,_,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&vm.enqueueReplaceState(m,m.state,null),jl(r,l,m,f),zl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(i===null){m=r.stateNode;var A=r.memoizedProps,D=da(a,A);m.props=D;var F=m.context,$=a.contextType;_=Za,typeof $=="object"&&$!==null&&(_=$e($));var et=a.getDerivedStateFromProps;$=typeof et=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,$||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||F!==_)&&Y_(r,m,l,_),Hs=!1;var q=r.memoizedState;m.state=q,jl(r,l,m,f),zl(),F=r.memoizedState,A||q!==F||Hs?(typeof et=="function"&&(ym(r,a,et,l),F=r.memoizedState),(D=Hs||K_(r,a,D,l,q,F,_))?($||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),m.props=l,m.state=F,m.context=_,l=D):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Qd(i,r),_=r.memoizedProps,$=da(a,_),m.props=$,et=r.pendingProps,q=m.context,F=a.contextType,D=Za,typeof F=="object"&&F!==null&&(D=$e(F)),A=a.getDerivedStateFromProps,(F=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==et||q!==D)&&Y_(r,m,l,D),Hs=!1,q=r.memoizedState,m.state=q,jl(r,l,m,f),zl();var Q=r.memoizedState;_!==et||q!==Q||Hs||i!==null&&i.dependencies!==null&&Hc(i.dependencies)?(typeof A=="function"&&(ym(r,a,A,l),Q=r.memoizedState),($=Hs||K_(r,a,$,l,q,Q,D)||i!==null&&i.dependencies!==null&&Hc(i.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Q,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Q,D)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===i.memoizedProps&&q===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&q===i.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),m.props=l,m.state=Q,m.context=D,l=$):(typeof m.componentDidUpdate!="function"||_===i.memoizedProps&&q===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&q===i.memoizedState||(r.flags|=1024),l=!1)}return m=l,uh(i,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,i!==null&&l?(r.child=ha(r,i.child,null,f),r.child=ha(r,null,a,f)):We(i,r,a,f),r.memoizedState=m.state,i=r.child):i=os(i,r,f),i}function l0(i,r,a,l){return ra(),r.flags|=256,We(i,r,a,l),r.child}var Sm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Am(i){return{baseLanes:i,cachePool:Wv()}}function bm(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=Vn),i}function u0(i,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,_;if((_=m)||(_=i!==null&&i.memoizedState===null?!1:(ve.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,i===null){if(Bt){if(f?Ys(r):Qs(),(i=ie)?(i=yT(i,Gn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:zs!==null?{id:Pi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=Fv(i),a.return=r,r.child=a,Xe=r,ie=null)):i=null,i===null)throw Fs(r);return ap(i)?r.lanes=32:r.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(Qs(),f=r.mode,A=ch({mode:"hidden",children:A},f),l=sa(l,f,a,null),A.return=r,l.return=r,A.sibling=l,r.child=A,l=r.child,l.memoizedState=Am(a),l.childLanes=bm(i,_,a),r.memoizedState=Sm,Kl(null,l)):(Ys(r),wm(r,A))}var D=i.memoizedState;if(D!==null&&(A=D.dehydrated,A!==null)){if(m)r.flags&256?(Ys(r),r.flags&=-257,r=Rm(i,r,a)):r.memoizedState!==null?(Qs(),r.child=i.child,r.flags|=128,r=null):(Qs(),A=l.fallback,f=r.mode,l=ch({mode:"visible",children:l.children},f),A=sa(A,f,a,null),A.flags|=2,l.return=r,A.return=r,l.sibling=A,r.child=l,ha(r,i.child,null,a),l=r.child,l.memoizedState=Am(a),l.childLanes=bm(i,_,a),r.memoizedState=Sm,r=Kl(null,l));else if(Ys(r),ap(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(s(419)),l.stack="",l.digest=_,Ol({value:l,source:null,stack:null}),r=Rm(i,r,a)}else if(xe||no(i,r,a,!1),_=(a&i.childLanes)!==0,xe||_){if(_=ne,_!==null&&(l=dl(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,ia(i,l),Sn(_,i,l),Tm;rp(A)||_h(),r=Rm(i,r,a)}else rp(A)?(r.flags|=192,r.child=i.child,r=null):(i=D.treeContext,ie=Yn(A.nextSibling),Xe=r,Bt=!0,js=null,Gn=!1,i!==null&&Gv(r,i),r=wm(r,l.children),r.flags|=4096);return r}return f?(Qs(),A=l.fallback,f=r.mode,D=i.child,F=D.sibling,l=es(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,F!==null?A=es(F,A):(A=sa(A,f,a,null),A.flags|=2),A.return=r,l.return=r,l.sibling=A,r.child=l,Kl(null,l),l=r.child,A=i.child.memoizedState,A===null?A=Am(a):(f=A.cachePool,f!==null?(D=Ce._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=Wv(),A={baseLanes:A.baseLanes|a,cachePool:f}),l.memoizedState=A,l.childLanes=bm(i,_,a),r.memoizedState=Sm,Kl(i.child,l)):(Ys(r),a=i.child,i=a.sibling,a=es(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,i!==null&&(_=r.deletions,_===null?(r.deletions=[i],r.flags|=16):_.push(i)),r.child=a,r.memoizedState=null,a)}function wm(i,r){return r=ch({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function ch(i,r){return i=Cn(22,i,null,r),i.lanes=0,i}function Rm(i,r,a){return ha(r,i.child,null,a),i=wm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function c0(i,r,a){i.lanes|=r;var l=i.alternate;l!==null&&(l.lanes|=r),jd(i.return,r,a)}function Cm(i,r,a,l,f,m){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:m}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=m)}function h0(i,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;l=l.children;var _=ve.current,A=(_&2)!==0;if(A?(_=_&1|2,r.flags|=128):_&=1,ct(ve,_),We(i,r,l,a),l=Bt?Nl:0,!A&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&c0(i,a,r);else if(i.tag===19)c0(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)i=a.alternate,i!==null&&Zc(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Cm(r,!1,f,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&Zc(i)===null){r.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}Cm(r,!0,a,null,m,l);break;case"together":Cm(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function os(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),Ws|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(no(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=es(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=es(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function Im(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Hc(i)))}function qC(i,r,a){switch(r.tag){case 3:Pe(r,r.stateNode.containerInfo),qs(r,Ce,i.memoizedState.cache),ra();break;case 27:case 5:Br(r);break;case 4:Pe(r,r.stateNode.containerInfo);break;case 10:qs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Jd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ys(r),r.flags|=128,null):(a&r.child.childLanes)!==0?u0(i,r,a):(Ys(r),i=os(i,r,a),i!==null?i.sibling:null);Ys(r);break;case 19:var f=(i.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(no(i,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return h0(i,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ct(ve,ve.current),l)break;return null;case 22:return r.lanes=0,i0(i,r,a,r.pendingProps);case 24:qs(r,Ce,i.memoizedState.cache)}return os(i,r,a)}function f0(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)xe=!0;else{if(!Im(i,a)&&(r.flags&128)===0)return xe=!1,qC(i,r,a);xe=(i.flags&131072)!==0}else xe=!1,Bt&&(r.flags&1048576)!==0&&Hv(r,Nl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var l=r.pendingProps;if(i=ua(r.elementType),r.type=i,typeof i=="function")Nd(i)?(l=da(i,l),r.tag=1,r=o0(null,r,i,l,a)):(r.tag=0,r=Em(null,r,i,l,a));else{if(i!=null){var f=i.$$typeof;if(f===st){r.tag=11,r=t0(null,r,i,l,a);break t}else if(f===I){r.tag=14,r=e0(null,r,i,l,a);break t}}throw r=ee(i)||i,Error(s(306,r,""))}}return r;case 0:return Em(i,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=da(l,r.pendingProps),o0(i,r,l,f,a);case 3:t:{if(Pe(r,r.stateNode.containerInfo),i===null)throw Error(s(387));l=r.pendingProps;var m=r.memoizedState;f=m.element,Qd(i,r),jl(r,l,null,a);var _=r.memoizedState;if(l=_.cache,qs(r,Ce,l),l!==m.cache&&Fd(r,[Ce],a,!0),zl(),l=_.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=l0(i,r,l,a);break t}else if(l!==f){f=Fn(Error(s(424)),r),Ol(f),r=l0(i,r,l,a);break t}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,ie=Yn(i.firstChild),Xe=r,Bt=!0,js=null,Gn=!0,a=i_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ra(),l===f){r=os(i,r,a);break t}We(i,r,l,a)}r=r.child}return r;case 26:return uh(i,r),i===null?(a=AT(r.type,null,r.pendingProps,null))?r.memoizedState=a:Bt||(a=r.type,i=r.pendingProps,l=Rh(xt.current).createElement(a),l[be]=r,l[Fe]=i,Ze(l,a,i),we(l),r.stateNode=l):r.memoizedState=AT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Br(r),i===null&&Bt&&(l=r.stateNode=TT(r.type,r.pendingProps,xt.current),Xe=r,Gn=!0,f=ie,nr(r.type)?(op=f,ie=Yn(l.firstChild)):ie=f),We(i,r,r.pendingProps.children,a),uh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Bt&&((f=l=ie)&&(l=_I(l,r.type,r.pendingProps,Gn),l!==null?(r.stateNode=l,Xe=r,ie=Yn(l.firstChild),Gn=!1,f=!0):f=!1),f||Fs(r)),Br(r),f=r.type,m=r.pendingProps,_=i!==null?i.memoizedProps:null,l=m.children,np(f,m)?l=null:_!==null&&np(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=em(i,r,OC,null,null,a),ou._currentValue=f),uh(i,r),We(i,r,l,a),r.child;case 6:return i===null&&Bt&&((i=a=ie)&&(a=TI(a,r.pendingProps,Gn),a!==null?(r.stateNode=a,Xe=r,ie=null,i=!0):i=!1),i||Fs(r)),null;case 13:return u0(i,r,a);case 4:return Pe(r,r.stateNode.containerInfo),l=r.pendingProps,i===null?r.child=ha(r,null,l,a):We(i,r,l,a),r.child;case 11:return t0(i,r,r.type,r.pendingProps,a);case 7:return We(i,r,r.pendingProps,a),r.child;case 8:return We(i,r,r.pendingProps.children,a),r.child;case 12:return We(i,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,qs(r,r.type,l.value),We(i,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,oa(r),f=$e(f),l=l(f),r.flags|=1,We(i,r,l,a),r.child;case 14:return e0(i,r,r.type,r.pendingProps,a);case 15:return n0(i,r,r.type,r.pendingProps,a);case 19:return h0(i,r,a);case 31:return FC(i,r,a);case 22:return i0(i,r,a,r.pendingProps);case 24:return oa(r),l=$e(Ce),i===null?(f=Gd(),f===null&&(f=ne,m=qd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},Yd(r),qs(r,Ce,f)):((i.lanes&a)!==0&&(Qd(i,r),jl(r,null,null,a),zl()),f=i.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),qs(r,Ce,l)):(l=m.cache,qs(r,Ce,l),l!==f.cache&&Fd(r,[Ce],a,!0))),We(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ls(i){i.flags|=4}function xm(i,r,a,l,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(B0())i.flags|=8192;else throw ca=Qc,Kd}else i.flags&=-16777217}function d0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!IT(r))if(B0())i.flags|=8192;else throw ca=Qc,Kd}function hh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?yc():536870912,i.lanes|=r,po|=r)}function Yl(i,r){if(!Bt)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function se(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(r)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,r}function HC(i,r,a){var l=r.pendingProps;switch(Ld(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(r),null;case 1:return se(r),null;case 3:return a=r.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ss(Ce),oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(eo(r)?ls(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Bd())),se(r),null;case 26:var f=r.type,m=r.memoizedState;return i===null?(ls(r),m!==null?(se(r),d0(r,m)):(se(r),xm(r,f,null,l,a))):m?m!==i.memoizedState?(ls(r),se(r),d0(r,m)):(se(r),r.flags&=-16777217):(i=i.memoizedProps,i!==l&&ls(r),se(r),xm(r,f,i,l,a)),null;case 27:if(Na(r),a=xt.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&ls(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return se(r),null}i=ft.current,eo(r)?Kv(r):(i=TT(f,l,a),r.stateNode=i,ls(r))}return se(r),null;case 5:if(Na(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&ls(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return se(r),null}if(m=ft.current,eo(r))Kv(r);else{var _=Rh(xt.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}m[be]=r,m[Fe]=l;t:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break t;for(;_.sibling===null;){if(_.return===null||_.return===r)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=m;t:switch(Ze(m,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&ls(r)}}return se(r),xm(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,a),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==l&&ls(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(i=xt.current,eo(r)){if(i=r.stateNode,a=r.memoizedProps,l=null,f=Xe,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[be]=r,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||uT(i.nodeValue,a)),i||Fs(r,!0)}else i=Rh(i).createTextNode(l),i[be]=r,r.stateNode=i}return se(r),null;case 31:if(a=r.memoizedState,i===null||i.memoizedState!==null){if(l=eo(r),a!==null){if(i===null){if(!l)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[be]=r}else ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;se(r),i=!1}else a=Bd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return r.flags&256?(xn(r),r):(xn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return se(r),null;case 13:if(l=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=eo(r),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[be]=r}else ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;se(r),f=!1}else f=Bd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(xn(r),r):(xn(r),null)}return xn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,i=i!==null&&i.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)),a!==i&&a&&(r.child.flags|=8192),hh(r,r.updateQueue),se(r),null);case 4:return oe(),i===null&&Wm(r.stateNode.containerInfo),se(r),null;case 10:return ss(r.type),se(r),null;case 19:if(nt(ve),l=r.memoizedState,l===null)return se(r),null;if(f=(r.flags&128)!==0,m=l.rendering,m===null)if(f)Yl(l,!1);else{if(me!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(m=Zc(i),m!==null){for(r.flags|=128,Yl(l,!1),i=m.updateQueue,r.updateQueue=i,hh(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)jv(a,i),a=a.sibling;return ct(ve,ve.current&1|2),Bt&&ns(r,l.treeForkCount),r.child}i=i.sibling}l.tail!==null&&cn()>gh&&(r.flags|=128,f=!0,Yl(l,!1),r.lanes=4194304)}else{if(!f)if(i=Zc(m),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,hh(r,i),Yl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Bt)return se(r),null}else 2*cn()-l.renderingStartTime>gh&&a!==536870912&&(r.flags|=128,f=!0,Yl(l,!1),r.lanes=4194304);l.isBackwards?(m.sibling=r.child,r.child=m):(i=l.last,i!==null?i.sibling=m:r.child=m,l.last=m)}return l.tail!==null?(i=l.tail,l.rendering=i,l.tail=i.sibling,l.renderingStartTime=cn(),i.sibling=null,a=ve.current,ct(ve,f?a&1|2:a&1),Bt&&ns(r,l.treeForkCount),i):(se(r),null);case 22:case 23:return xn(r),Zd(),l=r.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(se(r),r.subtreeFlags&6&&(r.flags|=8192)):se(r),a=r.updateQueue,a!==null&&hh(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),i!==null&&nt(la),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ss(Ce),se(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function GC(i,r){switch(Ld(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ss(Ce),oe(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Na(r),null;case 31:if(r.memoizedState!==null){if(xn(r),r.alternate===null)throw Error(s(340));ra()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(xn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ra()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return nt(ve),null;case 4:return oe(),null;case 10:return ss(r.type),null;case 22:case 23:return xn(r),Zd(),i!==null&&nt(la),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ss(Ce),null;case 25:return null;default:return null}}function m0(i,r){switch(Ld(r),r.tag){case 3:ss(Ce),oe();break;case 26:case 27:case 5:Na(r);break;case 4:oe();break;case 31:r.memoizedState!==null&&xn(r);break;case 13:xn(r);break;case 19:nt(ve);break;case 10:ss(r.type);break;case 22:case 23:xn(r),Zd(),i!==null&&nt(la);break;case 24:ss(Ce)}}function Ql(i,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var m=a.create,_=a.inst;l=m(),_.destroy=l}a=a.next}while(a!==f)}}catch(A){Xt(r,r.return,A)}}function Xs(i,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&i)===i){var _=l.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=r;var D=a,F=A;try{F()}catch($){Xt(f,D,$)}}}l=l.next}while(l!==m)}}catch($){Xt(r,r.return,$)}}function p0(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{r_(r,a)}catch(l){Xt(i,i.return,l)}}}function g0(i,r,a){a.props=da(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(i,r,l)}}function Xl(i,r){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(f){Xt(i,r,f)}}function Li(i,r){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Xt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xt(i,r,f)}else a.current=null}function y0(i){var r=i.type,a=i.memoizedProps,l=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Xt(i,i.return,f)}}function Dm(i,r,a){try{var l=i.stateNode;dI(l,i.type,a,r),l[Fe]=r}catch(f){Xt(i,i.return,f)}}function v0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&nr(i.type)||i.tag===4}function Vm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||v0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&nr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Mm(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(i),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ni));else if(l!==4&&(l===27&&nr(i.type)&&(a=i.stateNode,r=null),i=i.child,i!==null))for(Mm(i,r,a),i=i.sibling;i!==null;)Mm(i,r,a),i=i.sibling}function fh(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(l!==4&&(l===27&&nr(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(fh(i,r,a),i=i.sibling;i!==null;)fh(i,r,a),i=i.sibling}function _0(i){var r=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ze(r,l,a),r[be]=i,r[Fe]=a}catch(m){Xt(i,i.return,m)}}var us=!1,De=!1,Nm=!1,T0=typeof WeakSet=="function"?WeakSet:Set,He=null;function KC(i,r){if(i=i.containerInfo,tp=Nh,i=Mv(i),Rd(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var _=0,A=-1,D=-1,F=0,$=0,et=i,q=null;e:for(;;){for(var Q;et!==a||f!==0&&et.nodeType!==3||(A=_+f),et!==m||l!==0&&et.nodeType!==3||(D=_+l),et.nodeType===3&&(_+=et.nodeValue.length),(Q=et.firstChild)!==null;)q=et,et=Q;for(;;){if(et===i)break e;if(q===a&&++F===f&&(A=_),q===m&&++$===l&&(D=_),(Q=et.nextSibling)!==null)break;et=q,q=et.parentNode}et=Q}a=A===-1||D===-1?null:{start:A,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(ep={focusedElem:i,selectionRange:a},Nh=!1,He=r;He!==null;)if(r=He,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,He=i;else for(;He!==null;){switch(r=He,m=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)f=i[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var mt=da(a.type,f);i=l.getSnapshotBeforeUpdate(mt,m),l.__reactInternalSnapshotBeforeUpdate=i}catch(Tt){Xt(a,a.return,Tt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)sp(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":sp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,He=i;break}He=r.return}}function E0(i,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:hs(i,a),l&4&&Ql(5,a);break;case 1:if(hs(i,a),l&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(_){Xt(a,a.return,_)}else{var f=da(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(_){Xt(a,a.return,_)}}l&64&&p0(a),l&512&&Xl(a,a.return);break;case 3:if(hs(i,a),l&64&&(i=a.updateQueue,i!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{r_(i,r)}catch(_){Xt(a,a.return,_)}}break;case 27:r===null&&l&4&&_0(a);case 26:case 5:hs(i,a),r===null&&l&4&&y0(a),l&512&&Xl(a,a.return);break;case 12:hs(i,a);break;case 31:hs(i,a),l&4&&b0(i,a);break;case 13:hs(i,a),l&4&&w0(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=eI.bind(null,a),EI(i,a))));break;case 22:if(l=a.memoizedState!==null||us,!l){r=r!==null&&r.memoizedState!==null||De,f=us;var m=De;us=l,(De=r)&&!m?fs(i,a,(a.subtreeFlags&8772)!==0):hs(i,a),us=f,De=m}break;case 30:break;default:hs(i,a)}}function S0(i){var r=i.alternate;r!==null&&(i.alternate=null,S0(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ua(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ue=null,vn=!1;function cs(i,r,a){for(a=a.child;a!==null;)A0(i,r,a),a=a.sibling}function A0(i,r,a){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(Zn,a)}catch{}switch(a.tag){case 26:De||Li(a,r),cs(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:De||Li(a,r);var l=ue,f=vn;nr(a.type)&&(ue=a.stateNode,vn=!1),cs(i,r,a),su(a.stateNode),ue=l,vn=f;break;case 5:De||Li(a,r);case 6:if(l=ue,f=vn,ue=null,cs(i,r,a),ue=l,vn=f,ue!==null)if(vn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(a.stateNode)}catch(m){Xt(a,r,m)}else try{ue.removeChild(a.stateNode)}catch(m){Xt(a,r,m)}break;case 18:ue!==null&&(vn?(i=ue,pT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),Ao(i)):pT(ue,a.stateNode));break;case 4:l=ue,f=vn,ue=a.stateNode.containerInfo,vn=!0,cs(i,r,a),ue=l,vn=f;break;case 0:case 11:case 14:case 15:Xs(2,a,r),De||Xs(4,a,r),cs(i,r,a);break;case 1:De||(Li(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&g0(a,r,l)),cs(i,r,a);break;case 21:cs(i,r,a);break;case 22:De=(l=De)||a.memoizedState!==null,cs(i,r,a),De=l;break;default:cs(i,r,a)}}function b0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Ao(i)}catch(a){Xt(r,r.return,a)}}}function w0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ao(i)}catch(a){Xt(r,r.return,a)}}function YC(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new T0),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new T0),r;default:throw Error(s(435,i.tag))}}function dh(i,r){var a=YC(i);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=nI.bind(null,i,l);l.then(f,f)}})}function _n(i,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=i,_=r,A=_;t:for(;A!==null;){switch(A.tag){case 27:if(nr(A.type)){ue=A.stateNode,vn=!1;break t}break;case 5:ue=A.stateNode,vn=!1;break t;case 3:case 4:ue=A.stateNode.containerInfo,vn=!0;break t}A=A.return}if(ue===null)throw Error(s(160));A0(m,_,f),ue=null,vn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)R0(r,i),r=r.sibling}var li=null;function R0(i,r){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:_n(r,i),Tn(i),l&4&&(Xs(3,i,i.return),Ql(3,i),Xs(5,i,i.return));break;case 1:_n(r,i),Tn(i),l&512&&(De||a===null||Li(a,a.return)),l&64&&us&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=li;if(_n(r,i),Tn(i),l&512&&(De||a===null||Li(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){t:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ai]||m[be]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Ze(m,l,a),m[be]=i,we(m),l=m;break t;case"link":var _=RT("link","href",f).get(l+(a.href||""));if(_){for(var A=0;A<_.length;A++)if(m=_[A],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(A,1);break e}}m=f.createElement(l),Ze(m,l,a),f.head.appendChild(m);break;case"meta":if(_=RT("meta","content",f).get(l+(a.content||""))){for(A=0;A<_.length;A++)if(m=_[A],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(A,1);break e}}m=f.createElement(l),Ze(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[be]=i,we(m),l=m}i.stateNode=l}else CT(f,i.type,i.stateNode);else i.stateNode=wT(f,l,i.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?CT(f,i.type,i.stateNode):wT(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&Dm(i,i.memoizedProps,a.memoizedProps)}break;case 27:_n(r,i),Tn(i),l&512&&(De||a===null||Li(a,a.return)),a!==null&&l&4&&Dm(i,i.memoizedProps,a.memoizedProps);break;case 5:if(_n(r,i),Tn(i),l&512&&(De||a===null||Li(a,a.return)),i.flags&32){f=i.stateNode;try{yn(f,"")}catch(mt){Xt(i,i.return,mt)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,Dm(i,f,a!==null?a.memoizedProps:f)),l&1024&&(Nm=!0);break;case 6:if(_n(r,i),Tn(i),l&4){if(i.stateNode===null)throw Error(s(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(mt){Xt(i,i.return,mt)}}break;case 3:if(xh=null,f=li,li=Ch(r.containerInfo),_n(r,i),li=f,Tn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ao(r.containerInfo)}catch(mt){Xt(i,i.return,mt)}Nm&&(Nm=!1,C0(i));break;case 4:l=li,li=Ch(i.stateNode.containerInfo),_n(r,i),Tn(i),li=l;break;case 12:_n(r,i),Tn(i);break;case 31:_n(r,i),Tn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,dh(i,l)));break;case 13:_n(r,i),Tn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ph=cn()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,dh(i,l)));break;case 22:f=i.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,F=us,$=De;if(us=F||f,De=$||D,_n(r,i),De=$,us=F,Tn(i),l&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||D||us||De||ma(i)),a=null,r=i;;){if(r.tag===5||r.tag===26){if(a===null){D=a=r;try{if(m=D.stateNode,f)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=D.stateNode;var et=D.memoizedProps.style,q=et!=null&&et.hasOwnProperty("display")?et.display:null;A.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(mt){Xt(D,D.return,mt)}}}else if(r.tag===6){if(a===null){D=r;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(mt){Xt(D,D.return,mt)}}}else if(r.tag===18){if(a===null){D=r;try{var Q=D.stateNode;f?gT(Q,!0):gT(D.stateNode,!1)}catch(mt){Xt(D,D.return,mt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,dh(i,a))));break;case 19:_n(r,i),Tn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,dh(i,l)));break;case 30:break;case 21:break;default:_n(r,i),Tn(i)}}function Tn(i){var r=i.flags;if(r&2){try{for(var a,l=i.return;l!==null;){if(v0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=Vm(i);fh(i,m,f);break;case 5:var _=a.stateNode;a.flags&32&&(yn(_,""),a.flags&=-33);var A=Vm(i);fh(i,A,_);break;case 3:case 4:var D=a.stateNode.containerInfo,F=Vm(i);Mm(i,F,D);break;default:throw Error(s(161))}}catch($){Xt(i,i.return,$)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function C0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;C0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function hs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)E0(i,r.alternate,r),r=r.sibling}function ma(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Xs(4,r,r.return),ma(r);break;case 1:Li(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&g0(r,r.return,a),ma(r);break;case 27:su(r.stateNode);case 26:case 5:Li(r,r.return),ma(r);break;case 22:r.memoizedState===null&&ma(r);break;case 30:ma(r);break;default:ma(r)}i=i.sibling}}function fs(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=i,m=r,_=m.flags;switch(m.tag){case 0:case 11:case 15:fs(f,m,a),Ql(4,m);break;case 1:if(fs(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){Xt(l,l.return,F)}if(l=m,f=l.updateQueue,f!==null){var A=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)s_(D[f],A)}catch(F){Xt(l,l.return,F)}}a&&_&64&&p0(m),Xl(m,m.return);break;case 27:_0(m);case 26:case 5:fs(f,m,a),a&&l===null&&_&4&&y0(m),Xl(m,m.return);break;case 12:fs(f,m,a);break;case 31:fs(f,m,a),a&&_&4&&b0(f,m);break;case 13:fs(f,m,a),a&&_&4&&w0(f,m);break;case 22:m.memoizedState===null&&fs(f,m,a),Xl(m,m.return);break;case 30:break;default:fs(f,m,a)}r=r.sibling}}function Om(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Pl(a))}function Pm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Pl(i))}function ui(i,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)I0(i,r,a,l),r=r.sibling}function I0(i,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ui(i,r,a,l),f&2048&&Ql(9,r);break;case 1:ui(i,r,a,l);break;case 3:ui(i,r,a,l),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Pl(i)));break;case 12:if(f&2048){ui(i,r,a,l),i=r.stateNode;try{var m=r.memoizedProps,_=m.id,A=m.onPostCommit;typeof A=="function"&&A(_,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){Xt(r,r.return,D)}}else ui(i,r,a,l);break;case 31:ui(i,r,a,l);break;case 13:ui(i,r,a,l);break;case 23:break;case 22:m=r.stateNode,_=r.alternate,r.memoizedState!==null?m._visibility&2?ui(i,r,a,l):$l(i,r):m._visibility&2?ui(i,r,a,l):(m._visibility|=2,ho(i,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Om(_,r);break;case 24:ui(i,r,a,l),f&2048&&Pm(r.alternate,r);break;default:ui(i,r,a,l)}}function ho(i,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=i,_=r,A=a,D=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:ho(m,_,A,D,f),Ql(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?ho(m,_,A,D,f):$l(m,_):($._visibility|=2,ho(m,_,A,D,f)),f&&F&2048&&Om(_.alternate,_);break;case 24:ho(m,_,A,D,f),f&&F&2048&&Pm(_.alternate,_);break;default:ho(m,_,A,D,f)}r=r.sibling}}function $l(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,l=r,f=l.flags;switch(l.tag){case 22:$l(a,l),f&2048&&Om(l.alternate,l);break;case 24:$l(a,l),f&2048&&Pm(l.alternate,l);break;default:$l(a,l)}r=r.sibling}}var Wl=8192;function fo(i,r,a){if(i.subtreeFlags&Wl)for(i=i.child;i!==null;)x0(i,r,a),i=i.sibling}function x0(i,r,a){switch(i.tag){case 26:fo(i,r,a),i.flags&Wl&&i.memoizedState!==null&&NI(a,li,i.memoizedState,i.memoizedProps);break;case 5:fo(i,r,a);break;case 3:case 4:var l=li;li=Ch(i.stateNode.containerInfo),fo(i,r,a),li=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=Wl,Wl=16777216,fo(i,r,a),Wl=l):fo(i,r,a));break;default:fo(i,r,a)}}function D0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Zl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];He=l,M0(l,i)}D0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)V0(i),i=i.sibling}function V0(i){switch(i.tag){case 0:case 11:case 15:Zl(i),i.flags&2048&&Xs(9,i,i.return);break;case 3:Zl(i);break;case 12:Zl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,mh(i)):Zl(i);break;default:Zl(i)}}function mh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];He=l,M0(l,i)}D0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Xs(8,r,r.return),mh(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,mh(r));break;default:mh(r)}i=i.sibling}}function M0(i,r){for(;He!==null;){var a=He;switch(a.tag){case 0:case 11:case 15:Xs(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Pl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,He=l;else t:for(a=i;He!==null;){l=He;var f=l.sibling,m=l.return;if(S0(l),l===a){He=null;break t}if(f!==null){f.return=m,He=f;break t}He=m}}}var QC={getCacheForType:function(i){var r=$e(Ce),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a},cacheSignal:function(){return $e(Ce).controller.signal}},XC=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ne=null,Vt=null,Ot=0,Qt=0,Dn=null,$s=!1,mo=!1,km=!1,ds=0,me=0,Ws=0,pa=0,Lm=0,Vn=0,po=0,Jl=null,En=null,Um=!1,ph=0,N0=0,gh=1/0,yh=null,Zs=null,Le=0,Js=null,go=null,ms=0,Bm=0,zm=null,O0=null,tu=0,jm=null;function Mn(){return(Kt&2)!==0&&Ot!==0?Ot&-Ot:Z.T!==null?Ym():vc()}function P0(){if(Vn===0)if((Ot&536870912)===0||Bt){var i=Fr;Fr<<=1,(Fr&3932160)===0&&(Fr=262144),Vn=i}else Vn=536870912;return i=In.current,i!==null&&(i.flags|=32),Vn}function Sn(i,r,a){(i===ne&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)&&(yo(i,0),tr(i,Ot,Vn,!1)),qr(i,a),((Kt&2)===0||i!==ne)&&(i===ne&&((Kt&2)===0&&(pa|=a),me===4&&tr(i,Ot,Vn,!1)),Ui(i))}function k0(i,r,a){if((Kt&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&i.expiredLanes)===0||Jn(i,r),f=l?ZC(i,r):qm(i,r,!0),m=l;do{if(f===0){mo&&!l&&tr(i,r,0,!1);break}else{if(a=i.current.alternate,m&&!$C(a)){f=qm(i,r,!1),m=!1;continue}if(f===2){if(m=r,i.errorRecoveryDisabledLanes&m)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;t:{var A=i;f=Jl;var D=A.current.memoizedState.isDehydrated;if(D&&(yo(A,_).flags|=256),_=qm(A,_,!1),_!==2){if(km&&!D){A.errorRecoveryDisabledLanes|=m,pa|=m,f=4;break t}m=En,En=f,m!==null&&(En===null?En=m:En.push.apply(En,m))}f=_}if(m=!1,f!==2)continue}}if(f===1){yo(i,0),tr(i,r,0,!0);break}t:{switch(l=i,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:tr(l,r,Vn,!$s);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=ph+300-cn(),10<f)){if(tr(l,r,Vn,!$s),Ti(l,0,!0)!==0)break t;ms=r,l.timeoutHandle=dT(L0.bind(null,l,a,En,yh,Um,r,Vn,pa,po,$s,m,"Throttled",-0,0),f);break t}L0(l,a,En,yh,Um,r,Vn,pa,po,$s,m,null,-0,0)}}break}while(!0);Ui(i)}function L0(i,r,a,l,f,m,_,A,D,F,$,et,q,Q){if(i.timeoutHandle=-1,et=r.subtreeFlags,et&8192||(et&16785408)===16785408){et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ni},x0(r,m,et);var mt=(m&62914560)===m?ph-cn():(m&4194048)===m?N0-cn():0;if(mt=OI(et,mt),mt!==null){ms=m,i.cancelPendingCommit=mt(G0.bind(null,i,r,m,a,l,f,_,A,D,$,et,null,q,Q)),tr(i,m,_,!F);return}}G0(i,r,m,a,l,f,_,A,D)}function $C(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!Rn(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function tr(i,r,a,l){r&=~Lm,r&=~pa,i.suspendedLanes|=r,i.pingedLanes&=~r,l&&(i.warmLanes|=r),l=i.expirationTimes;for(var f=r;0<f;){var m=31-ge(f),_=1<<m;l[m]=-1,f&=~_}a!==0&&Hr(i,a,r)}function vh(){return(Kt&6)===0?(eu(0),!1):!0}function Fm(){if(Vt!==null){if(Qt===0)var i=Vt.return;else i=Vt,is=aa=null,sm(i),ao=null,Ll=0,i=Vt;for(;i!==null;)m0(i.alternate,i),i=i.return;Vt=null}}function yo(i,r){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,gI(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),ms=0,Fm(),ne=i,Vt=a=es(i.current,null),Ot=r,Qt=0,Dn=null,$s=!1,mo=Jn(i,r),km=!1,po=Vn=Lm=pa=Ws=me=0,En=Jl=null,Um=!1,(r&8)!==0&&(r|=r&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=r;0<l;){var f=31-ge(l),m=1<<f;r|=i[f],l&=~m}return ds=r,Bc(),a}function U0(i,r){Ct=null,Z.H=Gl,r===ro||r===Yc?(r=t_(),Qt=3):r===Kd?(r=t_(),Qt=4):Qt=r===Tm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Dn=r,Vt===null&&(me=1,oh(i,Fn(r,i.current)))}function B0(){var i=In.current;return i===null?!0:(Ot&4194048)===Ot?Kn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?i===Kn:!1}function z0(){var i=Z.H;return Z.H=Gl,i===null?Gl:i}function j0(){var i=Z.A;return Z.A=QC,i}function _h(){me=4,$s||(Ot&4194048)!==Ot&&In.current!==null||(mo=!0),(Ws&134217727)===0&&(pa&134217727)===0||ne===null||tr(ne,Ot,Vn,!1)}function qm(i,r,a){var l=Kt;Kt|=2;var f=z0(),m=j0();(ne!==i||Ot!==r)&&(yh=null,yo(i,r)),r=!1;var _=me;t:do try{if(Qt!==0&&Vt!==null){var A=Vt,D=Dn;switch(Qt){case 8:Fm(),_=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(r=!0);var F=Qt;if(Qt=0,Dn=null,vo(i,A,D,F),a&&mo){_=0;break t}break;default:F=Qt,Qt=0,Dn=null,vo(i,A,D,F)}}WC(),_=me;break}catch($){U0(i,$)}while(!0);return r&&i.shellSuspendCounter++,is=aa=null,Kt=l,Z.H=f,Z.A=m,Vt===null&&(ne=null,Ot=0,Bc()),_}function WC(){for(;Vt!==null;)F0(Vt)}function ZC(i,r){var a=Kt;Kt|=2;var l=z0(),f=j0();ne!==i||Ot!==r?(yh=null,gh=cn()+500,yo(i,r)):mo=Jn(i,r);t:do try{if(Qt!==0&&Vt!==null){r=Vt;var m=Dn;e:switch(Qt){case 1:Qt=0,Dn=null,vo(i,r,m,1);break;case 2:case 9:if(Zv(m)){Qt=0,Dn=null,q0(r);break}r=function(){Qt!==2&&Qt!==9||ne!==i||(Qt=7),Ui(i)},m.then(r,r);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Zv(m)?(Qt=0,Dn=null,q0(r)):(Qt=0,Dn=null,vo(i,r,m,7));break;case 5:var _=null;switch(Vt.tag){case 26:_=Vt.memoizedState;case 5:case 27:var A=Vt;if(_?IT(_):A.stateNode.complete){Qt=0,Dn=null;var D=A.sibling;if(D!==null)Vt=D;else{var F=A.return;F!==null?(Vt=F,Th(F)):Vt=null}break e}}Qt=0,Dn=null,vo(i,r,m,5);break;case 6:Qt=0,Dn=null,vo(i,r,m,6);break;case 8:Fm(),me=6;break t;default:throw Error(s(462))}}JC();break}catch($){U0(i,$)}while(!0);return is=aa=null,Z.H=l,Z.A=f,Kt=a,Vt!==null?0:(ne=null,Ot=0,Bc(),me)}function JC(){for(;Vt!==null&&!_d();)F0(Vt)}function F0(i){var r=f0(i.alternate,i,ds);i.memoizedProps=i.pendingProps,r===null?Th(i):Vt=r}function q0(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=a0(a,r,r.pendingProps,r.type,void 0,Ot);break;case 11:r=a0(a,r,r.pendingProps,r.type.render,r.ref,Ot);break;case 5:sm(r);default:m0(a,r),r=Vt=jv(r,ds),r=f0(a,r,ds)}i.memoizedProps=i.pendingProps,r===null?Th(i):Vt=r}function vo(i,r,a,l){is=aa=null,sm(r),ao=null,Ll=0;var f=r.return;try{if(jC(i,f,r,a,Ot)){me=1,oh(i,Fn(a,i.current)),Vt=null;return}}catch(m){if(f!==null)throw Vt=f,m;me=1,oh(i,Fn(a,i.current)),Vt=null;return}r.flags&32768?(Bt||l===1?i=!0:mo||(Ot&536870912)!==0?i=!1:($s=i=!0,(l===2||l===9||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),H0(r,i)):Th(r)}function Th(i){var r=i;do{if((r.flags&32768)!==0){H0(r,$s);return}i=r.return;var a=HC(r.alternate,r,ds);if(a!==null){Vt=a;return}if(r=r.sibling,r!==null){Vt=r;return}Vt=r=i}while(r!==null);me===0&&(me=5)}function H0(i,r){do{var a=GC(i.alternate,i);if(a!==null){a.flags&=32767,Vt=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){Vt=i;return}Vt=i=a}while(i!==null);me=6,Vt=null}function G0(i,r,a,l,f,m,_,A,D){i.cancelPendingCommit=null;do Eh();while(Le!==0);if((Kt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=Vd,Sd(i,a,m,_,A,D),i===ne&&(Vt=ne=null,Ot=0),go=r,Js=i,ms=a,Bm=m,zm=f,O0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,iI(Ds,function(){return $0(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null,f=rt.p,rt.p=2,_=Kt,Kt|=4;try{KC(i,r,a)}finally{Kt=_,rt.p=f,Z.T=l}}Le=1,K0(),Y0(),Q0()}}function K0(){if(Le===1){Le=0;var i=Js,r=go,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Z.T,Z.T=null;var l=rt.p;rt.p=2;var f=Kt;Kt|=4;try{R0(r,i);var m=ep,_=Mv(i.containerInfo),A=m.focusedElem,D=m.selectionRange;if(_!==A&&A&&A.ownerDocument&&Vv(A.ownerDocument.documentElement,A)){if(D!==null&&Rd(A)){var F=D.start,$=D.end;if($===void 0&&($=F),"selectionStart"in A)A.selectionStart=F,A.selectionEnd=Math.min($,A.value.length);else{var et=A.ownerDocument||document,q=et&&et.defaultView||window;if(q.getSelection){var Q=q.getSelection(),mt=A.textContent.length,Tt=Math.min(D.start,mt),Jt=D.end===void 0?Tt:Math.min(D.end,mt);!Q.extend&&Tt>Jt&&(_=Jt,Jt=Tt,Tt=_);var L=Dv(A,Tt),N=Dv(A,Jt);if(L&&N&&(Q.rangeCount!==1||Q.anchorNode!==L.node||Q.anchorOffset!==L.offset||Q.focusNode!==N.node||Q.focusOffset!==N.offset)){var j=et.createRange();j.setStart(L.node,L.offset),Q.removeAllRanges(),Tt>Jt?(Q.addRange(j),Q.extend(N.node,N.offset)):(j.setEnd(N.node,N.offset),Q.addRange(j))}}}}for(et=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&et.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<et.length;A++){var tt=et[A];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Nh=!!tp,ep=tp=null}finally{Kt=f,rt.p=l,Z.T=a}}i.current=r,Le=2}}function Y0(){if(Le===2){Le=0;var i=Js,r=go,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Z.T,Z.T=null;var l=rt.p;rt.p=2;var f=Kt;Kt|=4;try{E0(i,r.alternate,r)}finally{Kt=f,rt.p=l,Z.T=a}}Le=3}}function Q0(){if(Le===4||Le===3){Le=0,hc();var i=Js,r=go,a=ms,l=O0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Le=5:(Le=0,go=Js=null,X0(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Zs=null),Wi(a),r=r.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(Zn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Z.T,f=rt.p,rt.p=2,Z.T=null;try{for(var m=i.onRecoverableError,_=0;_<l.length;_++){var A=l[_];m(A.value,{componentStack:A.stack})}}finally{Z.T=r,rt.p=f}}(ms&3)!==0&&Eh(),Ui(i),f=i.pendingLanes,(a&261930)!==0&&(f&42)!==0?i===jm?tu++:(tu=0,jm=i):tu=0,eu(0)}}function X0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Pl(r)))}function Eh(){return K0(),Y0(),Q0(),$0()}function $0(){if(Le!==5)return!1;var i=Js,r=Bm;Bm=0;var a=Wi(ms),l=Z.T,f=rt.p;try{rt.p=32>a?32:a,Z.T=null,a=zm,zm=null;var m=Js,_=ms;if(Le=0,go=Js=null,ms=0,(Kt&6)!==0)throw Error(s(331));var A=Kt;if(Kt|=4,V0(m.current),I0(m,m.current,_,a),Kt=A,eu(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(Zn,m)}catch{}return!0}finally{rt.p=f,Z.T=l,X0(i,r)}}function W0(i,r,a){r=Fn(a,r),r=_m(i.stateNode,r,2),i=Ks(i,r,2),i!==null&&(qr(i,2),Ui(i))}function Xt(i,r,a){if(i.tag===3)W0(i,i,a);else for(;r!==null;){if(r.tag===3){W0(r,i,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zs===null||!Zs.has(l))){i=Fn(a,i),a=Z_(2),l=Ks(r,a,2),l!==null&&(J_(a,l,r,i),qr(l,2),Ui(l));break}}r=r.return}}function Hm(i,r,a){var l=i.pingCache;if(l===null){l=i.pingCache=new XC;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(km=!0,f.add(a),i=tI.bind(null,i,r,a),r.then(i,i))}function tI(i,r,a){var l=i.pingCache;l!==null&&l.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,ne===i&&(Ot&a)===a&&(me===4||me===3&&(Ot&62914560)===Ot&&300>cn()-ph?(Kt&2)===0&&yo(i,0):Lm|=a,po===Ot&&(po=0)),Ui(i)}function Z0(i,r){r===0&&(r=yc()),i=ia(i,r),i!==null&&(qr(i,r),Ui(i))}function eI(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),Z0(i,a)}function nI(i,r){var a=0;switch(i.tag){case 31:case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Z0(i,a)}function iI(i,r){return ke(i,r)}var Sh=null,_o=null,Gm=!1,Ah=!1,Km=!1,er=0;function Ui(i){i!==_o&&i.next===null&&(_o===null?Sh=_o=i:_o=_o.next=i),Ah=!0,Gm||(Gm=!0,rI())}function eu(i,r){if(!Km&&Ah){Km=!0;do for(var a=!1,l=Sh;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var _=l.suspendedLanes,A=l.pingedLanes;m=(1<<31-ge(42|i)+1)-1,m&=f&~(_&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,nT(l,m))}else m=Ot,m=Ti(l,l===ne?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Jn(l,m)||(a=!0,nT(l,m));l=l.next}while(a);Km=!1}}function sI(){J0()}function J0(){Ah=Gm=!1;var i=0;er!==0&&pI()&&(i=er);for(var r=cn(),a=null,l=Sh;l!==null;){var f=l.next,m=tT(l,r);m===0?(l.next=null,a===null?Sh=f:a.next=f,f===null&&(_o=a)):(a=l,(i!==0||(m&3)!==0)&&(Ah=!0)),l=f}Le!==0&&Le!==5||eu(i),er!==0&&(er=0)}function tT(i,r){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var _=31-ge(m),A=1<<_,D=f[_];D===-1?((A&a)===0||(A&l)!==0)&&(f[_]=Ed(A,r)):D<=r&&(i.expiredLanes|=A),m&=~A}if(r=ne,a=Ot,a=Ti(i,i===r?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===r&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&xs(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Jn(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(l!==null&&xs(l),Wi(a)){case 2:case 8:a=hl;break;case 32:a=Ds;break;case 268435456:a=fc;break;default:a=Ds}return l=eT.bind(null,i),a=ke(a,l),i.callbackPriority=r,i.callbackNode=a,r}return l!==null&&l!==null&&xs(l),i.callbackPriority=2,i.callbackNode=null,2}function eT(i,r){if(Le!==0&&Le!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(Eh()&&i.callbackNode!==a)return null;var l=Ot;return l=Ti(i,i===ne?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(k0(i,l,r),tT(i,cn()),i.callbackNode!=null&&i.callbackNode===a?eT.bind(null,i):null)}function nT(i,r){if(Eh())return null;k0(i,r,!0)}function rI(){yI(function(){(Kt&6)!==0?ke(cl,sI):J0()})}function Ym(){if(er===0){var i=io;i===0&&(i=vi,vi<<=1,(vi&261888)===0&&(vi=256)),er=i}return er}function iT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Fa(""+i)}function sT(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function aI(i,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=iT((f[Fe]||null).action),_=l.submitter;_&&(r=(r=_[Fe]||null)?iT(r.formAction):_.getAttribute("formAction"),r!==null&&(m=r,_=null));var A=new Vi("action","action",null,l,f);i.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(er!==0){var D=_?sT(f,_):new FormData(f);dm(a,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(A.preventDefault(),D=_?sT(f,_):new FormData(f),dm(a,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var Qm=0;Qm<Dd.length;Qm++){var Xm=Dd[Qm],oI=Xm.toLowerCase(),lI=Xm[0].toUpperCase()+Xm.slice(1);oi(oI,"on"+lI)}oi(Pv,"onAnimationEnd"),oi(kv,"onAnimationIteration"),oi(Lv,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(bC,"onTransitionRun"),oi(wC,"onTransitionStart"),oi(RC,"onTransitionCancel"),oi(Uv,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nu));function rT(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;t:{var m=void 0;if(r)for(var _=l.length-1;0<=_;_--){var A=l[_],D=A.instance,F=A.currentTarget;if(A=A.listener,D!==m&&f.isPropagationStopped())break t;m=A,f.currentTarget=F;try{m(f)}catch($){Uc($)}f.currentTarget=null,m=D}else for(_=0;_<l.length;_++){if(A=l[_],D=A.instance,F=A.currentTarget,A=A.listener,D!==m&&f.isPropagationStopped())break t;m=A,f.currentTarget=F;try{m(f)}catch($){Uc($)}f.currentTarget=null,m=D}}}}function Mt(i,r){var a=r[La];a===void 0&&(a=r[La]=new Set);var l=i+"__bubble";a.has(l)||(aT(r,i,2,!1),a.add(l))}function $m(i,r,a){var l=0;r&&(l|=4),aT(a,i,l,r)}var bh="_reactListening"+Math.random().toString(36).slice(2);function Wm(i){if(!i[bh]){i[bh]=!0,ml.forEach(function(a){a!=="selectionchange"&&(uI.has(a)||$m(a,!1,i),$m(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[bh]||(r[bh]=!0,$m("selectionchange",!1,r))}}function aT(i,r,a,l){switch(PT(r)){case 2:var f=LI;break;case 8:f=UI;break;default:f=fp}a=f.bind(null,r,a,i),f=void 0,!Xr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(r,a,{capture:!0,passive:f}):i.addEventListener(r,a,!0):f!==void 0?i.addEventListener(r,a,{passive:f}):i.addEventListener(r,a,!1)}function Zm(i,r,a,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var A=l.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=bi(A),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=m=_;continue t}A=A.parentNode}}l=l.return}ks(function(){var F=m,$=Un(a),et=[];t:{var q=Bv.get(i);if(q!==void 0){var Q=Vi,mt=i;switch(i){case"keypress":if(Wr(a)===0)break t;case"keydown":case"keyup":Q=Pc;break;case"focusin":mt="focus",Q=Jr;break;case"focusout":mt="blur",Q=Jr;break;case"beforeblur":case"afterblur":Q=Jr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Cl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Rc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=v;break;case Pv:case kv:case Lv:Q=Ic;break;case Uv:Q=b;break;case"scroll":case"scrollend":Q=Rl;break;case"wheel":Q=Y;break;case"copy":case"cut":case"paste":Q=xc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=ts;break;case"toggle":case"beforetoggle":Q=Rt}var Tt=(r&4)!==0,Jt=!Tt&&(i==="scroll"||i==="scrollend"),L=Tt?q!==null?q+"Capture":null:q;Tt=[];for(var N=F,j;N!==null;){var tt=N;if(j=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||j===null||L===null||(tt=ii(N,L),tt!=null&&Tt.push(iu(N,tt,j))),Jt)break;N=N.return}0<Tt.length&&(q=new Q(q,mt,null,a,$),et.push({event:q,listeners:Tt}))}}if((r&7)===0){t:{if(q=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",q&&a!==Al&&(mt=a.relatedTarget||a.fromElement)&&(bi(mt)||mt[Si]))break t;if((Q||q)&&(q=$.window===$?$:(q=$.ownerDocument)?q.defaultView||q.parentWindow:window,Q?(mt=a.relatedTarget||a.toElement,Q=F,mt=mt?bi(mt):null,mt!==null&&(Jt=u(mt),Tt=mt.tag,mt!==Jt||Tt!==5&&Tt!==27&&Tt!==6)&&(mt=null)):(Q=null,mt=F),Q!==mt)){if(Tt=Cl,tt="onMouseLeave",L="onMouseEnter",N="mouse",(i==="pointerout"||i==="pointerover")&&(Tt=ts,tt="onPointerLeave",L="onPointerEnter",N="pointer"),Jt=Q==null?q:bn(Q),j=mt==null?q:bn(mt),q=new Tt(tt,N+"leave",Q,a,$),q.target=Jt,q.relatedTarget=j,tt=null,bi($)===F&&(Tt=new Tt(L,N+"enter",mt,a,$),Tt.target=j,Tt.relatedTarget=Jt,tt=Tt),Jt=tt,Q&&mt)e:{for(Tt=cI,L=Q,N=mt,j=0,tt=L;tt;tt=Tt(tt))j++;tt=0;for(var vt=N;vt;vt=Tt(vt))tt++;for(;0<j-tt;)L=Tt(L),j--;for(;0<tt-j;)N=Tt(N),tt--;for(;j--;){if(L===N||N!==null&&L===N.alternate){Tt=L;break e}L=Tt(L),N=Tt(N)}Tt=null}else Tt=null;Q!==null&&oT(et,q,Q,Tt,!1),mt!==null&&Jt!==null&&oT(et,Jt,mt,Tt,!0)}}t:{if(q=F?bn(F):window,Q=q.nodeName&&q.nodeName.toLowerCase(),Q==="select"||Q==="input"&&q.type==="file")var qt=bv;else if(Sv(q))if(wv)qt=EC;else{qt=_C;var gt=vC}else Q=q.nodeName,!Q||Q.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?F&&ja(F.elementType)&&(qt=bv):qt=TC;if(qt&&(qt=qt(i,F))){Av(et,qt,a,$);break t}gt&&gt(i,q,F),i==="focusout"&&F&&q.type==="number"&&F.memoizedProps.value!=null&&Tl(q,"number",q.value)}switch(gt=F?bn(F):window,i){case"focusin":(Sv(gt)||gt.contentEditable==="true")&&(Xa=gt,Cd=F,Ml=null);break;case"focusout":Ml=Cd=Xa=null;break;case"mousedown":Id=!0;break;case"contextmenu":case"mouseup":case"dragend":Id=!1,Nv(et,a,$);break;case"selectionchange":if(AC)break;case"keydown":case"keyup":Nv(et,a,$)}var Dt;if(Gt)t:{switch(i){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else Qa?ta(i,a)&&(Pt="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Pt="onCompositionStart");Pt&&(Oi&&a.locale!=="ko"&&(Qa||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&Qa&&(Dt=wl()):(Di=$,bl="value"in Di?Di.value:Di.textContent,Qa=!0)),gt=wh(F,Pt),0<gt.length&&(Pt=new Ni(Pt,i,null,a,$),et.push({event:Pt,listeners:gt}),Dt?Pt.data=Dt:(Dt=Ya(a),Dt!==null&&(Pt.data=Dt)))),(Dt=zn?mC(i,a):pC(i,a))&&(Pt=wh(F,"onBeforeInput"),0<Pt.length&&(gt=new Ni("onBeforeInput","beforeinput",null,a,$),et.push({event:gt,listeners:Pt}),gt.data=Dt)),aI(et,i,F,a,$)}rT(et,r)})}function iu(i,r,a){return{instance:i,listener:r,currentTarget:a}}function wh(i,r){for(var a=r+"Capture",l=[];i!==null;){var f=i,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ii(i,a),f!=null&&l.unshift(iu(i,f,m)),f=ii(i,r),f!=null&&l.push(iu(i,f,m))),i.tag===3)return l;i=i.return}return[]}function cI(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function oT(i,r,a,l,f){for(var m=r._reactName,_=[];a!==null&&a!==l;){var A=a,D=A.alternate,F=A.stateNode;if(A=A.tag,D!==null&&D===l)break;A!==5&&A!==26&&A!==27||F===null||(D=F,f?(F=ii(a,m),F!=null&&_.unshift(iu(a,F,D))):f||(F=ii(a,m),F!=null&&_.push(iu(a,F,D)))),a=a.return}_.length!==0&&i.push({event:r,listeners:_})}var hI=/\r\n?/g,fI=/\u0000|\uFFFD/g;function lT(i){return(typeof i=="string"?i:""+i).replace(hI,`
`).replace(fI,"")}function uT(i,r){return r=lT(r),lT(i)===r}function Zt(i,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||yn(i,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&yn(i,""+l);break;case"className":wn(i,"class",l);break;case"tabIndex":wn(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(i,a,l);break;case"style":Sl(i,l,m);break;case"data":if(r!=="object"){wn(i,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Fa(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&Zt(i,r,"name",f.name,f,null),Zt(i,r,"formEncType",f.formEncType,f,null),Zt(i,r,"formMethod",f.formMethod,f,null),Zt(i,r,"formTarget",f.formTarget,f,null)):(Zt(i,r,"encType",f.encType,f,null),Zt(i,r,"method",f.method,f,null),Zt(i,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Fa(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=ni);break;case"onScroll":l!=null&&Mt("scroll",i);break;case"onScrollEnd":l!=null&&Mt("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=Fa(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":Mt("beforetoggle",i),Mt("toggle",i),Ba(i,"popover",l);break;case"xlinkActuate":Re(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Re(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Re(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Re(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Re(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Re(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Re(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Re(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Re(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ba(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wc.get(a)||a,Ba(i,a,l))}}function Jm(i,r,a,l,f,m){switch(a){case"style":Sl(i,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof l=="string"?yn(i,l):(typeof l=="number"||typeof l=="bigint")&&yn(i,""+l);break;case"onScroll":l!=null&&Mt("scroll",i);break;case"onScrollEnd":l!=null&&Mt("scrollend",i);break;case"onClick":l!=null&&(i.onclick=ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=i[Fe]||null,m=m!=null?m[a]:null,typeof m=="function"&&i.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,l,f);break t}a in i?i[a]=l:l===!0?i.setAttribute(a,""):Ba(i,a,l)}}}function Ze(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",i),Mt("load",i);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Zt(i,r,m,_,a,null)}}f&&Zt(i,r,"srcSet",a.srcSet,a,null),l&&Zt(i,r,"src",a.src,a,null);return;case"input":Mt("invalid",i);var A=m=_=f=null,D=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":f=$;break;case"type":_=$;break;case"checked":D=$;break;case"defaultChecked":F=$;break;case"value":m=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:Zt(i,r,l,$,a,null)}}Sc(i,m,A,D,F,_,f,!1);return;case"select":Mt("invalid",i),l=_=m=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":_=A;break;case"multiple":l=A;default:Zt(i,r,f,A,a,null)}r=m,a=_,i.multiple=!!l,r!=null?Ms(i,!!l,r,!1):a!=null&&Ms(i,!!l,a,!0);return;case"textarea":Mt("invalid",i),m=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(A=a[_],A!=null))switch(_){case"value":l=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Zt(i,r,_,A,a,null)}Ns(i,l,f,m);return;case"option":for(D in a)a.hasOwnProperty(D)&&(l=a[D],l!=null)&&(D==="selected"?i.selected=l&&typeof l!="function"&&typeof l!="symbol":Zt(i,r,D,l,a,null));return;case"dialog":Mt("beforetoggle",i),Mt("toggle",i),Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":Mt("load",i);break;case"video":case"audio":for(l=0;l<nu.length;l++)Mt(nu[l],i);break;case"image":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"embed":case"source":case"link":Mt("error",i),Mt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Zt(i,r,F,l,a,null)}return;default:if(ja(r)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Jm(i,r,$,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Zt(i,r,A,l,a,null))}function dI(i,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,A=null,D=null,F=null,$=null;for(Q in a){var et=a[Q];if(a.hasOwnProperty(Q)&&et!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=et;default:l.hasOwnProperty(Q)||Zt(i,r,Q,null,l,et)}}for(var q in l){var Q=l[q];if(et=a[q],l.hasOwnProperty(q)&&(Q!=null||et!=null))switch(q){case"type":m=Q;break;case"name":f=Q;break;case"checked":F=Q;break;case"defaultChecked":$=Q;break;case"value":_=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==et&&Zt(i,r,q,Q,l,et)}}za(i,_,A,D,F,$,m,f);return;case"select":Q=_=A=q=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":Q=D;default:l.hasOwnProperty(m)||Zt(i,r,m,null,l,D)}for(f in l)if(m=l[f],D=a[f],l.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":q=m;break;case"defaultValue":A=m;break;case"multiple":_=m;default:m!==D&&Zt(i,r,f,m,l,D)}r=A,a=_,l=Q,q!=null?Ms(i,!!a,q,!1):!!l!=!!a&&(r!=null?Ms(i,!!a,r,!0):Ms(i,!!a,a?[]:"",!1));return;case"textarea":Q=q=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Zt(i,r,A,null,l,f)}for(_ in l)if(f=l[_],m=a[_],l.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":q=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Zt(i,r,_,f,l,m)}Ac(i,q,Q);return;case"option":for(var mt in a)q=a[mt],a.hasOwnProperty(mt)&&q!=null&&!l.hasOwnProperty(mt)&&(mt==="selected"?i.selected=!1:Zt(i,r,mt,null,l,q));for(D in l)q=l[D],Q=a[D],l.hasOwnProperty(D)&&q!==Q&&(q!=null||Q!=null)&&(D==="selected"?i.selected=q&&typeof q!="function"&&typeof q!="symbol":Zt(i,r,D,q,l,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)q=a[Tt],a.hasOwnProperty(Tt)&&q!=null&&!l.hasOwnProperty(Tt)&&Zt(i,r,Tt,null,l,q);for(F in l)if(q=l[F],Q=a[F],l.hasOwnProperty(F)&&q!==Q&&(q!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:Zt(i,r,F,q,l,Q)}return;default:if(ja(r)){for(var Jt in a)q=a[Jt],a.hasOwnProperty(Jt)&&q!==void 0&&!l.hasOwnProperty(Jt)&&Jm(i,r,Jt,void 0,l,q);for($ in l)q=l[$],Q=a[$],!l.hasOwnProperty($)||q===Q||q===void 0&&Q===void 0||Jm(i,r,$,q,l,Q);return}}for(var L in a)q=a[L],a.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&Zt(i,r,L,null,l,q);for(et in l)q=l[et],Q=a[et],!l.hasOwnProperty(et)||q===Q||q==null&&Q==null||Zt(i,r,et,q,l,Q)}function cT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],m=f.transferSize,_=f.initiatorType,A=f.duration;if(m&&A&&cT(_)){for(_=0,A=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],F=D.startTime;if(F>A)break;var $=D.transferSize,et=D.initiatorType;$&&cT(et)&&(D=D.responseEnd,_+=$*(D<A?1:(A-F)/(D-F)))}if(--l,r+=8*(m+_)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var tp=null,ep=null;function Rh(i){return i.nodeType===9?i:i.ownerDocument}function hT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fT(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function np(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ip=null;function pI(){var i=window.event;return i&&i.type==="popstate"?i===ip?!1:(ip=i,!0):(ip=null,!1)}var dT=typeof setTimeout=="function"?setTimeout:void 0,gI=typeof clearTimeout=="function"?clearTimeout:void 0,mT=typeof Promise=="function"?Promise:void 0,yI=typeof queueMicrotask=="function"?queueMicrotask:typeof mT<"u"?function(i){return mT.resolve(null).then(i).catch(vI)}:dT;function vI(i){setTimeout(function(){throw i})}function nr(i){return i==="head"}function pT(i,r){var a=r,l=0;do{var f=a.nextSibling;if(i.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){i.removeChild(f),Ao(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")su(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,su(a);for(var m=a.firstChild;m;){var _=m.nextSibling,A=m.nodeName;m[Ai]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=_}}else a==="body"&&su(i.ownerDocument.body);a=f}while(a);Ao(r)}function gT(i,r){var a=i;i=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=l}while(a)}function sp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sp(a),Ua(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function _I(i,r,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[Ai])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=Yn(i.nextSibling),i===null)break}return null}function TI(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Yn(i.nextSibling),i===null))return null;return i}function yT(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Yn(i.nextSibling),i===null))return null;return i}function rp(i){return i.data==="$?"||i.data==="$~"}function ap(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function EI(i,r){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function Yn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var op=null;function vT(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(r===0)return Yn(i.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}i=i.nextSibling}return null}function _T(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return i;r--}else a!=="/$"&&a!=="/&"||r++}i=i.previousSibling}return null}function TT(i,r,a){switch(r=Rh(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function su(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ua(i)}var Qn=new Map,ET=new Set;function Ch(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ps=rt.d;rt.d={f:SI,r:AI,D:bI,C:wI,L:RI,m:CI,X:xI,S:II,M:DI};function SI(){var i=ps.f(),r=vh();return i||r}function AI(i){var r=Ln(i);r!==null&&r.tag===5&&r.type==="form"?U_(r):ps.r(i)}var To=typeof document>"u"?null:document;function ST(i,r,a){var l=To;if(l&&typeof r=="string"&&r){var f=gn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),ET.has(f)||(ET.add(f),i={rel:i,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Ze(r,"link",i),we(r),l.head.appendChild(r)))}}function bI(i){ps.D(i),ST("dns-prefetch",i,null)}function wI(i,r){ps.C(i,r),ST("preconnect",i,r)}function RI(i,r,a){ps.L(i,r,a);var l=To;if(l&&i&&r){var f='link[rel="preload"][as="'+gn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+gn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+gn(a.imageSizes)+'"]')):f+='[href="'+gn(i)+'"]';var m=f;switch(r){case"style":m=Eo(i);break;case"script":m=So(i)}Qn.has(m)||(i=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),Qn.set(m,i),l.querySelector(f)!==null||r==="style"&&l.querySelector(ru(m))||r==="script"&&l.querySelector(au(m))||(r=l.createElement("link"),Ze(r,"link",i),we(r),l.head.appendChild(r)))}}function CI(i,r){ps.m(i,r);var a=To;if(a&&i){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+gn(l)+'"][href="'+gn(i)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=So(i)}if(!Qn.has(m)&&(i=T({rel:"modulepreload",href:i},r),Qn.set(m,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(au(m)))return}l=a.createElement("link"),Ze(l,"link",i),we(l),a.head.appendChild(l)}}}function II(i,r,a){ps.S(i,r,a);var l=To;if(l&&i){var f=wi(l).hoistableStyles,m=Eo(i);r=r||"default";var _=f.get(m);if(!_){var A={loading:0,preload:null};if(_=l.querySelector(ru(m)))A.loading=5;else{i=T({rel:"stylesheet",href:i,"data-precedence":r},a),(a=Qn.get(m))&&lp(i,a);var D=_=l.createElement("link");we(D),Ze(D,"link",i),D._p=new Promise(function(F,$){D.onload=F,D.onerror=$}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Ih(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(m,_)}}}function xI(i,r){ps.X(i,r);var a=To;if(a&&i){var l=wi(a).hoistableScripts,f=So(i),m=l.get(f);m||(m=a.querySelector(au(f)),m||(i=T({src:i,async:!0},r),(r=Qn.get(f))&&up(i,r),m=a.createElement("script"),we(m),Ze(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function DI(i,r){ps.M(i,r);var a=To;if(a&&i){var l=wi(a).hoistableScripts,f=So(i),m=l.get(f);m||(m=a.querySelector(au(f)),m||(i=T({src:i,async:!0,type:"module"},r),(r=Qn.get(f))&&up(i,r),m=a.createElement("script"),we(m),Ze(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function AT(i,r,a,l){var f=(f=xt.current)?Ch(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Eo(a.href),a=wi(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Eo(a.href);var m=wi(f).hoistableStyles,_=m.get(i);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,_),(m=f.querySelector(ru(i)))&&!m._p&&(_.instance=m,_.state.loading=5),Qn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(i,a),m||VI(f,i,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=So(a),a=wi(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Eo(i){return'href="'+gn(i)+'"'}function ru(i){return'link[rel="stylesheet"]['+i+"]"}function bT(i){return T({},i,{"data-precedence":i.precedence,precedence:null})}function VI(i,r,a,l){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=i.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ze(r,"link",a),we(r),i.head.appendChild(r))}function So(i){return'[src="'+gn(i)+'"]'}function au(i){return"script[async]"+i}function wT(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=i.querySelector('style[data-href~="'+gn(a.href)+'"]');if(l)return r.instance=l,we(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),we(l),Ze(l,"style",f),Ih(l,a.precedence,i),r.instance=l;case"stylesheet":f=Eo(a.href);var m=i.querySelector(ru(f));if(m)return r.state.loading|=4,r.instance=m,we(m),m;l=bT(a),(f=Qn.get(f))&&lp(l,f),m=(i.ownerDocument||i).createElement("link"),we(m);var _=m;return _._p=new Promise(function(A,D){_.onload=A,_.onerror=D}),Ze(m,"link",l),r.state.loading|=4,Ih(m,a.precedence,i),r.instance=m;case"script":return m=So(a.src),(f=i.querySelector(au(m)))?(r.instance=f,we(f),f):(l=a,(f=Qn.get(m))&&(l=T({},a),up(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),we(f),Ze(f,"link",l),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Ih(l,a.precedence,i));return r.instance}function Ih(i,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,_=0;_<l.length;_++){var A=l[_];if(A.dataset.precedence===r)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function lp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function up(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var xh=null;function RT(i,r,a){if(xh===null){var l=new Map,f=xh=new Map;f.set(a,l)}else f=xh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var m=a[f];if(!(m[Ai]||m[be]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(r)||"";_=i+_;var A=l.get(_);A?A.push(m):l.set(_,[m])}}return l}function CT(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function MI(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function IT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function NI(i,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Eo(l.href),m=r.querySelector(ru(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Dh.bind(i),r.then(i,i)),a.state.loading|=4,a.instance=m,we(m);return}m=r.ownerDocument||r,l=bT(l),(f=Qn.get(f))&&lp(l,f),m=m.createElement("link"),we(m);var _=m;_._p=new Promise(function(A,D){_.onload=A,_.onerror=D}),Ze(m,"link",l),a.instance=m}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=Dh.bind(i),r.addEventListener("load",a),r.addEventListener("error",a))}}var cp=0;function OI(i,r){return i.stylesheets&&i.count===0&&Mh(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var l=setTimeout(function(){if(i.stylesheets&&Mh(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4+r);0<i.imgBytes&&cp===0&&(cp=62500*mI());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Mh(i,i.stylesheets),i.unsuspend)){var m=i.unsuspend;i.unsuspend=null,m()}},(i.imgBytes>cp?50:800)+r);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Dh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Vh=null;function Mh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Vh=new Map,r.forEach(PI,i),Vh=null,Dh.call(i))}function PI(i,r){if(!(r.state.loading&4)){var a=Vh.get(i);if(a)var l=a.get(null);else{a=new Map,Vh.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),m=a.get(_)||l,m===l&&a.set(null,f),a.set(_,f),this.count++,l=Dh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var ou={$$typeof:G,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function kI(i,r,a,l,f,m,_,A,D){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function xT(i,r,a,l,f,m,_,A,D,F,$,et){return i=new kI(i,r,a,_,D,F,$,et,A),r=1,m===!0&&(r|=24),m=Cn(3,null,null,r),i.current=m,m.stateNode=i,r=qd(),r.refCount++,i.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},Yd(m),i}function DT(i){return i?(i=Za,i):Za}function VT(i,r,a,l,f,m){f=DT(f),l.context===null?l.context=f:l.pendingContext=f,l=Gs(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Ks(i,l,r),a!==null&&(Sn(a,i,r),Bl(a,i,r))}function MT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function hp(i,r){MT(i,r),(i=i.alternate)&&MT(i,r)}function NT(i){if(i.tag===13||i.tag===31){var r=ia(i,67108864);r!==null&&Sn(r,i,67108864),hp(i,67108864)}}function OT(i){if(i.tag===13||i.tag===31){var r=Mn();r=Gr(r);var a=ia(i,r);a!==null&&Sn(a,i,r),hp(i,r)}}var Nh=!0;function LI(i,r,a,l){var f=Z.T;Z.T=null;var m=rt.p;try{rt.p=2,fp(i,r,a,l)}finally{rt.p=m,Z.T=f}}function UI(i,r,a,l){var f=Z.T;Z.T=null;var m=rt.p;try{rt.p=8,fp(i,r,a,l)}finally{rt.p=m,Z.T=f}}function fp(i,r,a,l){if(Nh){var f=dp(l);if(f===null)Zm(i,r,l,Oh,a),kT(i,l);else if(zI(f,i,r,a,l))l.stopPropagation();else if(kT(i,l),r&4&&-1<BI.indexOf(i)){for(;f!==null;){var m=Ln(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=_i(m.pendingLanes);if(_!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var D=1<<31-ge(_);A.entanglements[1]|=D,_&=~D}Ui(m),(Kt&6)===0&&(gh=cn()+500,eu(0))}}break;case 31:case 13:A=ia(m,2),A!==null&&Sn(A,m,2),vh(),hp(m,2)}if(m=dp(l),m===null&&Zm(i,r,l,Oh,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Zm(i,r,l,null,a)}}function dp(i){return i=Un(i),mp(i)}var Oh=null;function mp(i){if(Oh=null,i=bi(i),i!==null){var r=u(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=c(r),i!==null)return i;i=null}else if(a===31){if(i=d(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Oh=i,null}function PT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jr()){case cl:return 2;case hl:return 8;case Ds:case Td:return 32;case fc:return 268435456;default:return 32}default:return 32}}var pp=!1,ir=null,sr=null,rr=null,lu=new Map,uu=new Map,ar=[],BI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kT(i,r){switch(i){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":lu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":uu.delete(r.pointerId)}}function cu(i,r,a,l,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Ln(r),r!==null&&NT(r)),i):(i.eventSystemFlags|=l,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function zI(i,r,a,l,f){switch(r){case"focusin":return ir=cu(ir,i,r,a,l,f),!0;case"dragenter":return sr=cu(sr,i,r,a,l,f),!0;case"mouseover":return rr=cu(rr,i,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return lu.set(m,cu(lu.get(m)||null,i,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,uu.set(m,cu(uu.get(m)||null,i,r,a,l,f)),!0}return!1}function LT(i){var r=bi(i.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){i.blockedOn=r,ti(i.priority,function(){OT(a)});return}}else if(r===31){if(r=d(a),r!==null){i.blockedOn=r,ti(i.priority,function(){OT(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ph(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=dp(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);Al=l,a.target.dispatchEvent(l),Al=null}else return r=Ln(a),r!==null&&NT(r),i.blockedOn=a,!1;r.shift()}return!0}function UT(i,r,a){Ph(i)&&a.delete(r)}function jI(){pp=!1,ir!==null&&Ph(ir)&&(ir=null),sr!==null&&Ph(sr)&&(sr=null),rr!==null&&Ph(rr)&&(rr=null),lu.forEach(UT),uu.forEach(UT)}function kh(i,r){i.blockedOn===r&&(i.blockedOn=null,pp||(pp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,jI)))}var Lh=null;function BT(i){Lh!==i&&(Lh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Lh===i&&(Lh=null);for(var r=0;r<i.length;r+=3){var a=i[r],l=i[r+1],f=i[r+2];if(typeof l!="function"){if(mp(l||a)===null)continue;break}var m=Ln(a);m!==null&&(i.splice(r,3),r-=3,dm(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Ao(i){function r(D){return kh(D,i)}ir!==null&&kh(ir,i),sr!==null&&kh(sr,i),rr!==null&&kh(rr,i),lu.forEach(r),uu.forEach(r);for(var a=0;a<ar.length;a++){var l=ar[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<ar.length&&(a=ar[0],a.blockedOn===null);)LT(a),a.blockedOn===null&&ar.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],_=f[Fe]||null;if(typeof m=="function")_||BT(a);else if(_){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[Fe]||null)A=_.formAction;else if(mp(f)!==null)continue}else A=_.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),BT(a)}}}function zT(){function i(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function gp(i){this._internalRoot=i}Uh.prototype.render=gp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Mn();VT(a,l,i,r,null,null)},Uh.prototype.unmount=gp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;VT(i.current,2,null,i,null,null),vh(),r[Si]=null}};function Uh(i){this._internalRoot=i}Uh.prototype.unstable_scheduleHydration=function(i){if(i){var r=vc();i={blockedOn:null,target:i,priority:r};for(var a=0;a<ar.length&&r!==0&&r<ar[a].priority;a++);ar.splice(a,0,i),a===0&&LT(i)}};var jT=t.version;if(jT!=="19.2.4")throw Error(s(527,jT,"19.2.4"));rt.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var FI={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bh.isDisabled&&Bh.supportsFiber)try{Zn=Bh.inject(FI),Ye=Bh}catch{}}return fu.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,l="",f=Q_,m=X_,_=$_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=xT(i,1,!1,null,null,a,l,null,f,m,_,zT),i[Si]=r.current,Wm(i),new gp(r)},fu.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var l=!1,f="",m=Q_,_=X_,A=$_,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),r=xT(i,1,!0,r,a??null,l,f,D,m,_,A,zT),r.context=DT(null),a=r.current,l=Mn(),l=Gr(l),f=Gs(l),f.callback=null,Ks(a,f,l),a=l,r.current.lanes=a,qr(r,a),Ui(r),i[Si]=r.current,Wm(i),new Uh(r)},fu.version="19.2.4",fu}var WT;function JI(){if(WT)return _p.exports;WT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),_p.exports=ZI(),_p.exports}var tx=JI();const ex="modulepreload",nx=function(n){return"/soka/"+n},ZT={},GA=function(t,e,s){let o=Promise.resolve();if(e&&e.length>0){let p=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");o=p(e.map(g=>{if(g=nx(g),g in ZT)return;ZT[g]=!0;const y=g.endsWith(".css"),T=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${T}`))return;const S=document.createElement("link");if(S.rel=y?"stylesheet":ex,y||(S.as="script"),S.crossOrigin="",S.href=g,d&&S.setAttribute("nonce",d),document.head.appendChild(S),y)return new Promise((C,P)=>{S.addEventListener("load",C),S.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&u(d.reason);return t().catch(u)})},ix=()=>{};var JT={};const KA=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},sx=function(n){const t=[];let e=0,s=0;for(;e<n.length;){const o=n[e++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[e++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[e++],c=n[e++],d=n[e++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=n[e++],c=n[e++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},YA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const u=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,y=u>>2,T=(u&3)<<4|d>>4;let S=(d&15)<<2|g>>6,C=g&63;p||(C=64,c||(S=64)),s.push(e[y],e[T],e[S],e[C])}return s.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(KA(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):sx(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const u=e[n.charAt(o++)],d=o<n.length?e[n.charAt(o)]:0;++o;const g=o<n.length?e[n.charAt(o)]:64;++o;const T=o<n.length?e[n.charAt(o)]:64;if(++o,u==null||d==null||g==null||T==null)throw new rx;const S=u<<2|d>>4;if(s.push(S),g!==64){const C=d<<4&240|g>>2;if(s.push(C),T!==64){const P=g<<6&192|T;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class rx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ax=function(n){const t=KA(n);return YA.encodeByteArray(t,!0)},df=function(n){return ax(n).replace(/\./g,"")},QA=function(n){try{return YA.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ox(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const lx=()=>ox().__FIREBASE_DEFAULTS__,ux=()=>{if(typeof process>"u"||typeof JT>"u")return;const n=JT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},cx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&QA(n[1]);return t&&JSON.parse(t)},qf=()=>{try{return ix()||lx()||ux()||cx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},XA=n=>qf()?.emulatorHosts?.[n],hx=n=>{const t=XA(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},$A=()=>qf()?.config,WA=n=>qf()?.[`_${n}`];class fx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}function Xo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ZA(n){return(await fetch(n,{credentials:"include"})).ok}function dx(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[df(JSON.stringify(e)),df(JSON.stringify(c)),""].join(".")}const Tu={};function mx(){const n={prod:[],emulator:[]};for(const t of Object.keys(Tu))Tu[t]?n.emulator.push(t):n.prod.push(t);return n}function px(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let tE=!1;function JA(n,t){if(typeof window>"u"||typeof document>"u"||!Xo(window.location.host)||Tu[n]===t||Tu[n]||tE)return;Tu[n]=t;function e(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=mx().prod.length>0;function c(){const S=document.getElementById(s);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,C){S.setAttribute("width","24"),S.setAttribute("id",C),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{tE=!0,c()},S}function y(S,C){S.setAttribute("id",C),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=px(s),C=e("text"),P=document.getElementById(C)||document.createElement("span"),U=e("learnmore"),z=document.getElementById(U)||document.createElement("a"),X=e("preprendIcon"),K=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const G=S.element;d(G),y(z,U);const st=g();p(K,X),G.append(K,P,z,st),document.body.appendChild(G)}u?(P.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function yx(){const n=qf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _x(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Tx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ex(){const n=un();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Sx(){return!yx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ax(){try{return typeof indexedDB=="object"}catch{return!1}}function bx(){return new Promise((n,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}const wx="FirebaseError";class Is extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=wx,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qu.prototype.create)}}class Qu{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?Rx(u,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Is(o,d,s)}}function Rx(n,t){return n.replace(Cx,(e,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const Cx=/\{\$([^}]+)}/g;function Ix(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function wa(n,t){if(n===t)return!0;const e=Object.keys(n),s=Object.keys(t);for(const o of e){if(!s.includes(o))return!1;const u=n[o],c=t[o];if(eE(u)&&eE(c)){if(!wa(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!e.includes(o))return!1;return!0}function eE(n){return n!==null&&typeof n=="object"}function Xu(n){const t=[];for(const[e,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function xx(n,t){const e=new Dx(n,t);return e.subscribe.bind(e)}class Dx{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let o;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");Vx(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:s},o.next===void 0&&(o.next=Ap),o.error===void 0&&(o.error=Ap),o.complete===void 0&&(o.complete=Ap);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vx(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Ap(){}function je(n){return n&&n._delegate?n._delegate:n}class Ra{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const va="[DEFAULT]";class Mx{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new fx;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ox(t))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=va){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=va){return this.instances.has(t)}getOptions(t=va){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&c.resolve(o)}return o}onInit(t,e){const s=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const o of s)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Nx(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=va){return this.component?this.component.multipleInstances?t:va:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nx(n){return n===va?void 0:n}function Ox(n){return n.instantiationMode==="EAGER"}class Px{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Mx(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var kt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(kt||(kt={}));const kx={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},Lx=kt.INFO,Ux={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},Bx=(n,t,...e)=>{if(t<n.logLevel)return;const s=new Date().toISOString(),o=Ux[t];if(o)console[o](`[${s}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Qg{constructor(t){this.name=t,this._logLevel=Lx,this._logHandler=Bx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?kx[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const zx=(n,t)=>t.some(e=>n instanceof e);let nE,iE;function jx(){return nE||(nE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Fx(){return iE||(iE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tb=new WeakMap,Wp=new WeakMap,eb=new WeakMap,bp=new WeakMap,Xg=new WeakMap;function qx(n){const t=new Promise((e,s)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{e(vr(n.result)),o()},c=()=>{s(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&tb.set(e,n)}).catch(()=>{}),Xg.set(t,n),t}function Hx(n){if(Wp.has(n))return;const t=new Promise((e,s)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{e(),o()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});Wp.set(n,t)}let Zp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Wp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||eb.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return vr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function Gx(n){Zp=n(Zp)}function Kx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=n.call(wp(this),t,...e);return eb.set(s,t.sort?t.sort():[t]),vr(s)}:Fx().includes(n)?function(...t){return n.apply(wp(this),t),vr(tb.get(this))}:function(...t){return vr(n.apply(wp(this),t))}}function Yx(n){return typeof n=="function"?Kx(n):(n instanceof IDBTransaction&&Hx(n),zx(n,jx())?new Proxy(n,Zp):n)}function vr(n){if(n instanceof IDBRequest)return qx(n);if(bp.has(n))return bp.get(n);const t=Yx(n);return t!==n&&(bp.set(n,t),Xg.set(t,n)),t}const wp=n=>Xg.get(n);function Qx(n,t,{blocked:e,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(n,t),d=vr(c);return s&&c.addEventListener("upgradeneeded",p=>{s(vr(c.result),p.oldVersion,p.newVersion,vr(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const Xx=["get","getKey","getAll","getAllKeys","count"],$x=["put","add","delete","clear"],Rp=new Map;function sE(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Rp.get(t))return Rp.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,o=$x.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Xx.includes(e)))return;const u=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),o&&p.done]))[0]};return Rp.set(t,u),u}Gx(n=>({...n,get:(t,e,s)=>sE(t,e)||n.get(t,e,s),has:(t,e)=>!!sE(t,e)||n.has(t,e)}));class Wx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Zx(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function Zx(n){return n.getComponent()?.type==="VERSION"}const Jp="@firebase/app",rE="0.14.7";const Es=new Qg("@firebase/app"),Jx="@firebase/app-compat",tD="@firebase/analytics-compat",eD="@firebase/analytics",nD="@firebase/app-check-compat",iD="@firebase/app-check",sD="@firebase/auth",rD="@firebase/auth-compat",aD="@firebase/database",oD="@firebase/data-connect",lD="@firebase/database-compat",uD="@firebase/functions",cD="@firebase/functions-compat",hD="@firebase/installations",fD="@firebase/installations-compat",dD="@firebase/messaging",mD="@firebase/messaging-compat",pD="@firebase/performance",gD="@firebase/performance-compat",yD="@firebase/remote-config",vD="@firebase/remote-config-compat",_D="@firebase/storage",TD="@firebase/storage-compat",ED="@firebase/firestore",SD="@firebase/ai",AD="@firebase/firestore-compat",bD="firebase",wD="12.8.0";const tg="[DEFAULT]",RD={[Jp]:"fire-core",[Jx]:"fire-core-compat",[eD]:"fire-analytics",[tD]:"fire-analytics-compat",[iD]:"fire-app-check",[nD]:"fire-app-check-compat",[sD]:"fire-auth",[rD]:"fire-auth-compat",[aD]:"fire-rtdb",[oD]:"fire-data-connect",[lD]:"fire-rtdb-compat",[uD]:"fire-fn",[cD]:"fire-fn-compat",[hD]:"fire-iid",[fD]:"fire-iid-compat",[dD]:"fire-fcm",[mD]:"fire-fcm-compat",[pD]:"fire-perf",[gD]:"fire-perf-compat",[yD]:"fire-rc",[vD]:"fire-rc-compat",[_D]:"fire-gcs",[TD]:"fire-gcs-compat",[ED]:"fire-fst",[AD]:"fire-fst-compat",[SD]:"fire-vertex","fire-js":"fire-js",[bD]:"fire-js-all"};const mf=new Map,CD=new Map,eg=new Map;function aE(n,t){try{n.container.addComponent(t)}catch(e){Es.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function zo(n){const t=n.name;if(eg.has(t))return Es.debug(`There were multiple attempts to register component ${t}.`),!1;eg.set(t,n);for(const e of mf.values())aE(e,n);for(const e of CD.values())aE(e,n);return!0}function $g(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function fi(n){return n==null?!1:n.settings!==void 0}const ID={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_r=new Qu("app","Firebase",ID);class xD{constructor(t,e,s){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}const $o=wD;function nb(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const s={name:tg,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw _r.create("bad-app-name",{appName:String(o)});if(e||(e=$A()),!e)throw _r.create("no-options");const u=mf.get(o);if(u){if(wa(e,u.options)&&wa(s,u.config))return u;throw _r.create("duplicate-app",{appName:o})}const c=new Px(o);for(const p of eg.values())c.addComponent(p);const d=new xD(e,s,c);return mf.set(o,d),d}function ib(n=tg){const t=mf.get(n);if(!t&&n===tg&&$A())return nb();if(!t)throw _r.create("no-app",{appName:n});return t}function Tr(n,t,e){let s=RD[n]??n;e&&(s+=`-${e}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${t}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Es.warn(c.join(" "));return}zo(new Ra(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const DD="firebase-heartbeat-database",VD=1,Vu="firebase-heartbeat-store";let Cp=null;function sb(){return Cp||(Cp=Qx(DD,VD,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Vu)}catch(e){console.warn(e)}}}}).catch(n=>{throw _r.create("idb-open",{originalErrorMessage:n.message})})),Cp}async function MD(n){try{const e=(await sb()).transaction(Vu),s=await e.objectStore(Vu).get(rb(n));return await e.done,s}catch(t){if(t instanceof Is)Es.warn(t.message);else{const e=_r.create("idb-get",{originalErrorMessage:t?.message});Es.warn(e.message)}}}async function oE(n,t){try{const s=(await sb()).transaction(Vu,"readwrite");await s.objectStore(Vu).put(t,rb(n)),await s.done}catch(e){if(e instanceof Is)Es.warn(e.message);else{const s=_r.create("idb-set",{originalErrorMessage:e?.message});Es.warn(s.message)}}}function rb(n){return`${n.name}!${n.options.appId}`}const ND=1024,OD=30;class PD{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new LD(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=lE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:e}),this._heartbeatsCache.heartbeats.length>OD){const o=UD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Es.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=lE(),{heartbeatsToSend:e,unsentEntries:s}=kD(this._heartbeatsCache.heartbeats),o=df(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Es.warn(t),""}}}function lE(){return new Date().toISOString().substring(0,10)}function kD(n,t=ND){const e=[];let s=n.slice();for(const o of n){const u=e.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),uE(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),uE(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class LD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ax()?bx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await MD(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return oE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return oE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function uE(n){return df(JSON.stringify({version:2,heartbeats:n})).length}function UD(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let s=1;s<n.length;s++)n[s].date<e&&(e=n[s].date,t=s);return t}function BD(n){zo(new Ra("platform-logger",t=>new Wx(t),"PRIVATE")),zo(new Ra("heartbeat",t=>new PD(t),"PRIVATE")),Tr(Jp,rE,n),Tr(Jp,rE,"esm2020"),Tr("fire-js","")}BD("");function ab(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zD=ab,ob=new Qu("auth","Firebase",ab());const pf=new Qg("@firebase/auth");function jD(n,...t){pf.logLevel<=kt.WARN&&pf.warn(`Auth (${$o}): ${n}`,...t)}function Wh(n,...t){pf.logLevel<=kt.ERROR&&pf.error(`Auth (${$o}): ${n}`,...t)}function Ss(n,...t){throw Wg(n,...t)}function Fi(n,...t){return Wg(n,...t)}function lb(n,t,e){const s={...zD(),[t]:e};return new Qu("auth","Firebase",s).create(t,{appName:n.name})}function Er(n){return lb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wg(n,...t){if(typeof n!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(e,...s)}return ob.create(n,...t)}function St(n,t,...e){if(!n)throw Wg(t,...e)}function vs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Wh(t),new Error(t)}function As(n,t){n||vs(t)}function ng(){return typeof self<"u"&&self.location?.href||""}function FD(){return cE()==="http:"||cE()==="https:"}function cE(){return typeof self<"u"&&self.location?.protocol||null}function qD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FD()||_x()||"connection"in navigator)?navigator.onLine:!0}function HD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class $u{constructor(t,e){this.shortDelay=t,this.longDelay=e,As(e>t,"Short delay should be less than long delay!"),this.isMobile=gx()||Tx()}get(){return qD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zg(n,t){As(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class ub{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const GD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const KD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YD=new $u(3e4,6e4);function Hf(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Wo(n,t,e,s,o={}){return cb(n,o,async()=>{let u={},c={};s&&(t==="GET"?c=s:u={body:JSON.stringify(s)});const d=Xu({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g={method:t,headers:p,...u};return vx()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Xo(n.emulatorConfig.host)&&(g.credentials="include"),ub.fetch()(await fb(n,n.config.apiHost,e,d),g)})}async function cb(n,t,e){n._canInitEmulator=!1;const s={...GD,...t};try{const o=new QD(n),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw zh(n,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const d=u.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw zh(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw zh(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw zh(n,"user-disabled",c);const y=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw lb(n,y,g);Ss(n,y)}}catch(o){if(o instanceof Is)throw o;Ss(n,"network-request-failed",{message:String(o)})}}async function hb(n,t,e,s,o={}){const u=await Wo(n,t,e,s,o);return"mfaPendingCredential"in u&&Ss(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function fb(n,t,e,s){const o=`${t}${e}?${s}`,u=n,c=u.config.emulator?Zg(n.config,o):`${n.config.apiScheme}://${o}`;return KD.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class QD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(Fi(this.auth,"network-request-failed")),YD.get())})}}function zh(n,t,e){const s={appName:n.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const o=Fi(n,t,s);return o.customData._tokenResponse=e,o}async function XD(n,t){return Wo(n,"POST","/v1/accounts:delete",t)}async function gf(n,t){return Wo(n,"POST","/v1/accounts:lookup",t)}function Eu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function $D(n,t=!1){const e=je(n),s=await e.getIdToken(t),o=Jg(s);St(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:Eu(Ip(o.auth_time)),issuedAtTime:Eu(Ip(o.iat)),expirationTime:Eu(Ip(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Ip(n){return Number(n)*1e3}function Jg(n){const[t,e,s]=n.split(".");if(t===void 0||e===void 0||s===void 0)return Wh("JWT malformed, contained fewer than 3 sections"),null;try{const o=QA(e);return o?JSON.parse(o):(Wh("Failed to decode base64 JWT payload"),null)}catch(o){return Wh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function hE(n){const t=Jg(n);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Mu(n,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof Is&&WD(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function WD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class ZD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ig{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function yf(n){const t=n.auth,e=await n.getIdToken(),s=await Mu(n,gf(t,{idToken:e}));St(s?.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const u=o.providerUserInfo?.length?db(o.providerUserInfo):[],c=t2(n.providerData,u),d=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!c?.length,g=d?p:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ig(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,y)}async function JD(n){const t=je(n);await yf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function t2(n,t){return[...n.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function db(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function e2(n,t){const e=await cb(n,{},async()=>{const s=Xu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,c=await fb(n,o,"/v1/token",`key=${u}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return n.emulatorConfig&&Xo(n.emulatorConfig.host)&&(p.credentials="include"),ub.fetch()(c,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function n2(n,t){return Wo(n,"POST","/v2/accounts:revokeToken",Hf(n,t))}class Oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):hE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){St(t.length!==0,"internal-error");const e=hE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:o,expiresIn:u}=await e2(t,e);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:o,expirationTime:u}=e,c=new Oo;return s&&(St(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),o&&(St(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(St(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Oo,this.toJSON())}_performRefresh(){return vs("not implemented")}}function lr(n,t){St(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class mi{constructor({uid:t,auth:e,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new ZD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ig(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Mu(this,this.stsTokenManager.getToken(this.auth,t));return St(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return $D(this,t)}reload(){return JD(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new mi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await yf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fi(this.auth.app))return Promise.reject(Er(this.auth));const t=await this.getIdToken();return await Mu(this,XD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const s=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,c=e.photoURL??void 0,d=e.tenantId??void 0,p=e._redirectEventId??void 0,g=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:C,providerData:P,stsTokenManager:U}=e;St(T&&U,t,"internal-error");const z=Oo.fromJSON(this.name,U);St(typeof T=="string",t,"internal-error"),lr(s,t.name),lr(o,t.name),St(typeof S=="boolean",t,"internal-error"),St(typeof C=="boolean",t,"internal-error"),lr(u,t.name),lr(c,t.name),lr(d,t.name),lr(p,t.name),lr(g,t.name),lr(y,t.name);const X=new mi({uid:T,auth:t,email:o,emailVerified:S,displayName:s,isAnonymous:C,photoURL:c,phoneNumber:u,tenantId:d,stsTokenManager:z,createdAt:g,lastLoginAt:y});return P&&Array.isArray(P)&&(X.providerData=P.map(K=>({...K}))),p&&(X._redirectEventId=p),X}static async _fromIdTokenResponse(t,e,s=!1){const o=new Oo;o.updateFromServerResponse(e);const u=new mi({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await yf(u),u}static async _fromGetAccountInfoResponse(t,e,s){const o=e.users[0];St(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?db(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,d=new Oo;d.updateFromIdToken(s);const p=new mi({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ig(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const fE=new Map;function _s(n){As(n instanceof Function,"Expected a class definition");let t=fE.get(n);return t?(As(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,fE.set(n,t),t)}class mb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}mb.type="NONE";const dE=mb;function Zh(n,t,e){return`firebase:${n}:${t}:${e}`}class Po{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Zh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Zh("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await gf(this.auth,{idToken:t}).catch(()=>{});return e?mi._fromGetAccountInfoResponse(this.auth,e,t):null}return mi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new Po(_s(dE),t,s);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||_s(dE);const c=Zh(s,t.config.apiKey,t.name);let d=null;for(const g of e)try{const y=await g._get(c);if(y){let T;if(typeof y=="string"){const S=await gf(t,{idToken:y}).catch(()=>{});if(!S)break;T=await mi._fromGetAccountInfoResponse(t,S,y)}else T=mi._fromJSON(t,y);g!==u&&(d=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Po(u,t,s):(u=p[0],d&&await u._set(c,d.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Po(u,t,s))}}function mE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(vb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(pb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Tb(t))return"Blackberry";if(Eb(t))return"Webos";if(gb(t))return"Safari";if((t.includes("chrome/")||yb(t))&&!t.includes("edge/"))return"Chrome";if(_b(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(e);if(s?.length===2)return s[1]}return"Other"}function pb(n=un()){return/firefox\//i.test(n)}function gb(n=un()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function yb(n=un()){return/crios\//i.test(n)}function vb(n=un()){return/iemobile/i.test(n)}function _b(n=un()){return/android/i.test(n)}function Tb(n=un()){return/blackberry/i.test(n)}function Eb(n=un()){return/webos/i.test(n)}function ty(n=un()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function i2(n=un()){return ty(n)&&!!window.navigator?.standalone}function s2(){return Ex()&&document.documentMode===10}function Sb(n=un()){return ty(n)||_b(n)||Eb(n)||Tb(n)||/windows phone/i.test(n)||vb(n)}function Ab(n,t=[]){let e;switch(n){case"Browser":e=mE(un());break;case"Worker":e=`${mE(un())}-${n}`;break;default:e=n}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${$o}/${s}`}class r2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=u=>new Promise((c,d)=>{try{const p=t(u);c(p)}catch(p){d(p)}});s.onAbort=e,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function a2(n,t={}){return Wo(n,"GET","/v2/passwordPolicy",Hf(n,t))}const o2=6;class l2{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??o2,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class u2{constructor(t,e,s,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pE(this),this.idTokenSubscription=new pE(this),this.beforeStateQueue=new r2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ob,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=_s(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Po.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await gf(this,{idToken:t}),s=await mi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(fi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let s=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!u||u===c)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await yf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=HD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(fi(this.app))return Promise.reject(Er(this));const e=t?je(t):null;return e&&St(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return fi(this.app)?Promise.reject(Er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return fi(this.app)?Promise.reject(Er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_s(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await a2(this),e=new l2(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Qu("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await n2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&_s(t)||this._popupRedirectResolver;St(e,this,"argument-error"),this.redirectPersistenceManager=await Po.create(this,[_s(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(d,this,"internal-error"),d.then(()=>{c||u(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,s,o);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Ab(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&jD(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Gf(n){return je(n)}class pE{constructor(t){this.auth=t,this.observer=null,this.addObserver=xx(e=>this.observer=e)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ey={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function c2(n){ey=n}function h2(n){return ey.loadJS(n)}function f2(){return ey.gapiScript}function d2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function m2(n,t){const e=$g(n,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(wa(u,t??{}))return o;Ss(o,"already-initialized")}return e.initialize({options:t})}function p2(n,t){const e=t?.persistence||[],s=(Array.isArray(e)?e:[e]).map(_s);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(s,t?.popupRedirectResolver)}function g2(n,t,e){const s=Gf(n);St(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=bb(t),{host:c,port:d}=y2(t),p=d===null?"":`:${d}`,g={url:`${u}//${c}${p}/`},y=Object.freeze({host:c,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){St(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),St(wa(g,s.config.emulator)&&wa(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Xo(c)?(ZA(`${u}//${c}${p}`),JA("Auth",!0)):v2()}function bb(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function y2(n){const t=bb(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:gE(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:gE(c)}}}function gE(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function v2(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class wb{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return vs("not implemented")}_getIdTokenResponse(t){return vs("not implemented")}_linkToIdToken(t,e){return vs("not implemented")}_getReauthenticationResolver(t){return vs("not implemented")}}async function ko(n,t){return hb(n,"POST","/v1/accounts:signInWithIdp",Hf(n,t))}const _2="http://localhost";class Ca extends wb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ca(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ss("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=e;if(!s||!o)return null;const c=new Ca(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return ko(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,ko(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,ko(t,e)}buildRequest(){const t={requestUri:_2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Xu(e)}return t}}class Rb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Wu extends Rb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class cr extends Wu{constructor(){super("facebook.com")}static credential(t){return Ca._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return cr.credentialFromTaggedObject(t)}static credentialFromError(t){return cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return cr.credential(t.oauthAccessToken)}catch{return null}}}cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";cr.PROVIDER_ID="facebook.com";class hr extends Wu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ca._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return hr.credentialFromTaggedObject(t)}static credentialFromError(t){return hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return hr.credential(e,s)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";class fr extends Wu{constructor(){super("github.com")}static credential(t){return Ca._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fr.credentialFromTaggedObject(t)}static credentialFromError(t){return fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fr.credential(t.oauthAccessToken)}catch{return null}}}fr.GITHUB_SIGN_IN_METHOD="github.com";fr.PROVIDER_ID="github.com";class dr extends Wu{constructor(){super("twitter.com")}static credential(t,e){return Ca._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return dr.credentialFromTaggedObject(t)}static credentialFromError(t){return dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return dr.credential(e,s)}catch{return null}}}dr.TWITTER_SIGN_IN_METHOD="twitter.com";dr.PROVIDER_ID="twitter.com";async function T2(n,t){return hb(n,"POST","/v1/accounts:signUp",Hf(n,t))}class wr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,o=!1){const u=await mi._fromIdTokenResponse(t,s,o),c=yE(s);return new wr({user:u,providerId:c,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const o=yE(s);return new wr({user:t,providerId:o,_tokenResponse:s,operationType:e})}}function yE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function E2(n){if(fi(n.app))return Promise.reject(Er(n));const t=Gf(n);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new wr({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await T2(t,{returnSecureToken:!0}),s=await wr._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(s.user),s}class vf extends Is{constructor(t,e,s,o){super(e.code,e.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,vf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,o){return new vf(t,e,s,o)}}function Cb(n,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?vf._fromErrorAndOperation(n,u,t,s):u})}async function S2(n,t,e=!1){const s=await Mu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return wr._forOperation(n,"link",s)}async function A2(n,t,e=!1){const{auth:s}=n;if(fi(s.app))return Promise.reject(Er(s));const o="reauthenticate";try{const u=await Mu(n,Cb(s,o,t,n),e);St(u.idToken,s,"internal-error");const c=Jg(u.idToken);St(c,s,"internal-error");const{sub:d}=c;return St(n.uid===d,s,"user-mismatch"),wr._forOperation(n,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ss(s,"user-mismatch"),u}}async function b2(n,t,e=!1){if(fi(n.app))return Promise.reject(Er(n));const s="signIn",o=await Cb(n,s,t),u=await wr._fromIdTokenResponse(n,s,o);return e||await n._updateCurrentUser(u.user),u}function w2(n,t,e,s){return je(n).onIdTokenChanged(t,e,s)}function R2(n,t,e){return je(n).beforeAuthStateChanged(t,e)}function C2(n,t,e,s){return je(n).onAuthStateChanged(t,e,s)}const _f="__sak";class Ib{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(_f,"1"),this.storage.removeItem(_f),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const I2=1e3,x2=10;class xb extends Ib{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Sb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),o=this.localCache[e];s!==o&&t(e,o,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!e&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);s2()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,x2):o()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},I2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}xb.type="LOCAL";const D2=xb;class Db extends Ib{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Db.type="SESSION";const Vb=Db;function V2(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Kf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const s=new Kf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:o,data:u}=e.data,c=this.handlersMap[o];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(c).map(async g=>g(e.origin,u)),p=await V2(d);e.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kf.receivers=[];function ny(n="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return n+e}class M2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((d,p)=>{const g=ny("",20);o.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(y),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(S.data.response);break;default:clearTimeout(y),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function qi(){return window}function N2(n){qi().location.href=n}function Mb(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function O2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function P2(){return navigator?.serviceWorker?.controller||null}function k2(){return Mb()?self:null}const Nb="firebaseLocalStorageDb",L2=1,Tf="firebaseLocalStorage",Ob="fbase_key";class Zu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Yf(n,t){return n.transaction([Tf],t?"readwrite":"readonly").objectStore(Tf)}function U2(){const n=indexedDB.deleteDatabase(Nb);return new Zu(n).toPromise()}function sg(){const n=indexedDB.open(Nb,L2);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Tf,{keyPath:Ob})}catch(o){e(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Tf)?t(s):(s.close(),await U2(),t(await sg()))})})}async function vE(n,t,e){const s=Yf(n,!0).put({[Ob]:t,value:e});return new Zu(s).toPromise()}async function B2(n,t){const e=Yf(n,!1).get(t),s=await new Zu(e).toPromise();return s===void 0?null:s.value}function _E(n,t){const e=Yf(n,!0).delete(t);return new Zu(e).toPromise()}const z2=800,j2=3;class Pb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sg(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>j2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kf._getInstance(k2()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await O2(),!this.activeServiceWorker)return;this.sender=new M2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||P2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await sg();return await vE(t,_f,"1"),await _E(t,_f),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>vE(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>B2(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>_E(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Yf(o,!1).getAll();return new Zu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),z2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Pb.type="LOCAL";const F2=Pb;new $u(3e4,6e4);function q2(n,t){return t?_s(t):(St(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class iy extends wb{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ko(t,this._buildIdpRequest())}_linkToIdToken(t,e){return ko(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return ko(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function H2(n){return b2(n.auth,new iy(n),n.bypassAuthState)}function G2(n){const{auth:t,user:e}=n;return St(e,t,"internal-error"),A2(e,new iy(n),n.bypassAuthState)}async function K2(n){const{auth:t,user:e}=n;return St(e,t,"internal-error"),S2(e,new iy(n),n.bypassAuthState)}class kb{constructor(t,e,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:o,tenantId:u,error:c,type:d}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return H2;case"linkViaPopup":case"linkViaRedirect":return K2;case"reauthViaPopup":case"reauthViaRedirect":return G2;default:Ss(this.auth,"internal-error")}}resolve(t){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Y2=new $u(2e3,1e4);class Io extends kb{constructor(t,e,s,o,u){super(t,e,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Io.currentPopupAction&&Io.currentPopupAction.cancel(),Io.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){As(this.filter.length===1,"Popup operations only handle one event");const t=ny();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Io.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Y2.get())};t()}}Io.currentPopupAction=null;const Q2="pendingRedirect",Jh=new Map;class X2 extends kb{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=Jh.get(this.auth._key());if(!t){try{const s=await $2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}Jh.set(this.auth._key(),t)}return this.bypassAuthState||Jh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $2(n,t){const e=J2(t),s=Z2(n);if(!await s._isAvailable())return!1;const o=await s._get(e)==="true";return await s._remove(e),o}function W2(n,t){Jh.set(n._key(),t)}function Z2(n){return _s(n._redirectPersistence)}function J2(n){return Zh(Q2,n.config.apiKey,n.name)}async function tV(n,t,e=!1){if(fi(n.app))return Promise.reject(Er(n));const s=Gf(n),o=q2(s,t),c=await new X2(s,o,e).execute();return c&&!e&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}const eV=600*1e3;class nV{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!iV(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!Lb(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Fi(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=eV&&this.cachedEventUids.clear(),this.cachedEventUids.has(TE(t))}saveEventToCache(t){this.cachedEventUids.add(TE(t)),this.lastProcessedEventTime=Date.now()}}function TE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function Lb({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function iV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lb(n);default:return!1}}async function sV(n,t={}){return Wo(n,"GET","/v1/projects",t)}const rV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aV=/^https?/;async function oV(n){if(n.config.emulator)return;const{authorizedDomains:t}=await sV(n);for(const e of t)try{if(lV(e))return}catch{}Ss(n,"unauthorized-domain")}function lV(n){const t=ng(),{protocol:e,hostname:s}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===s}if(!aV.test(e))return!1;if(rV.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const uV=new $u(3e4,6e4);function EE(){const n=qi().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function cV(n){return new Promise((t,e)=>{function s(){EE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{EE(),e(Fi(n,"network-request-failed"))},timeout:uV.get()})}if(qi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(qi().gapi?.load)s();else{const o=d2("iframefcb");return qi()[o]=()=>{gapi.load?s():e(Fi(n,"network-request-failed"))},h2(`${f2()}?onload=${o}`).catch(u=>e(u))}}).catch(t=>{throw tf=null,t})}let tf=null;function hV(n){return tf=tf||cV(n),tf}const fV=new $u(5e3,15e3),dV="__/auth/iframe",mV="emulator/auth/iframe",pV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yV(n){const t=n.config;St(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Zg(t,mV):`https://${n.config.authDomain}/${dV}`,s={apiKey:t.apiKey,appName:n.name,v:$o},o=gV.get(n.config.apiHost);o&&(s.eid=o);const u=n._getFrameworks();return u.length&&(s.fw=u.join(",")),`${e}?${Xu(s).slice(1)}`}async function vV(n){const t=await hV(n),e=qi().gapi;return St(e,n,"internal-error"),t.open({where:document.body,url:yV(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pV,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=Fi(n,"network-request-failed"),d=qi().setTimeout(()=>{u(c)},fV.get());function p(){qi().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(c)})}))}const _V={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TV=500,EV=600,SV="_blank",AV="http://localhost";class SE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bV(n,t,e,s=TV,o=EV){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={..._V,width:s.toString(),height:o.toString(),top:u,left:c},g=un().toLowerCase();e&&(d=yb(g)?SV:e),pb(g)&&(t=t||AV,p.scrollbars="yes");const y=Object.entries(p).reduce((S,[C,P])=>`${S}${C}=${P},`,"");if(i2(g)&&d!=="_self")return wV(t||"",d),new SE(null);const T=window.open(t||"",d,y);St(T,n,"popup-blocked");try{T.focus()}catch{}return new SE(T)}function wV(n,t){const e=document.createElement("a");e.href=n,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}const RV="__/auth/handler",CV="emulator/auth/handler",IV=encodeURIComponent("fac");async function AE(n,t,e,s,o,u){St(n.config.authDomain,n,"auth-domain-config-required"),St(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:s,v:$o,eventId:o};if(t instanceof Rb){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",Ix(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,T]of Object.entries({}))c[y]=T}if(t instanceof Wu){const y=t.getScopes().filter(T=>T!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const p=await n._getAppCheckToken(),g=p?`#${IV}=${encodeURIComponent(p)}`:"";return`${xV(n)}?${Xu(d).slice(1)}${g}`}function xV({config:n}){return n.emulator?Zg(n,CV):`https://${n.authDomain}/${RV}`}const xp="webStorageSupport";class DV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vb,this._completeRedirectFn=tV,this._overrideRedirectResult=W2}async _openPopup(t,e,s,o){As(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await AE(t,e,s,ng(),o);return bV(t,u,ny())}async _openRedirect(t,e,s,o){await this._originValidation(t);const u=await AE(t,e,s,ng(),o);return N2(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(As(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await vV(t),s=new nV(t);return e.register("authEvent",o=>(St(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(xp,{type:xp},o=>{const u=o?.[0]?.[xp];u!==void 0&&e(!!u),Ss(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=oV(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Sb()||gb()||ty()}}const VV=DV;var bE="@firebase/auth",wE="1.12.0";class MV{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function NV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OV(n){zo(new Ra("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;St(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ab(n)},g=new u2(s,o,u,p);return p2(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),zo(new Ra("auth-internal",t=>{const e=Gf(t.getProvider("auth").getImmediate());return(s=>new MV(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tr(bE,wE,NV(n)),Tr(bE,wE,"esm2020")}const PV=300,kV=WA("authIdTokenMaxAge")||PV;let RE=null;const LV=n=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>kV)return;const o=e?.token;RE!==o&&(RE=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function UV(n=ib()){const t=$g(n,"auth");if(t.isInitialized())return t.getImmediate();const e=m2(n,{popupRedirectResolver:VV,persistence:[F2,D2,Vb]}),s=WA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=LV(u.toString());R2(e,c,()=>c(e.currentUser)),w2(e,d=>c(d))}}const o=XA("auth");return o&&g2(e,`http://${o}`),e}function BV(){return document.getElementsByTagName("head")?.[0]??document}c2({loadJS(n){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=t,s.onerror=o=>{const u=Fi("internal-error");u.customData=o,e(u)},s.type="text/javascript",s.charset="UTF-8",BV().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OV("Browser");var zV="firebase",jV="12.8.0";Tr(zV,jV,"app");var CE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Sr,Ub;(function(){var n;function t(I,w){function R(){}R.prototype=w.prototype,I.F=w.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(M,V,k){for(var x=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)x[ee-2]=arguments[ee];return w.prototype[V].apply(M,x)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,e),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,w,R){R||(R=0);const M=Array(16);if(typeof w=="string")for(var V=0;V<16;++V)M[V]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(V=0;V<16;++V)M[V]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=I.g[0],R=I.g[1],V=I.g[2];let k=I.g[3],x;x=w+(k^R&(V^k))+M[0]+3614090360&4294967295,w=R+(x<<7&4294967295|x>>>25),x=k+(V^w&(R^V))+M[1]+3905402710&4294967295,k=w+(x<<12&4294967295|x>>>20),x=V+(R^k&(w^R))+M[2]+606105819&4294967295,V=k+(x<<17&4294967295|x>>>15),x=R+(w^V&(k^w))+M[3]+3250441966&4294967295,R=V+(x<<22&4294967295|x>>>10),x=w+(k^R&(V^k))+M[4]+4118548399&4294967295,w=R+(x<<7&4294967295|x>>>25),x=k+(V^w&(R^V))+M[5]+1200080426&4294967295,k=w+(x<<12&4294967295|x>>>20),x=V+(R^k&(w^R))+M[6]+2821735955&4294967295,V=k+(x<<17&4294967295|x>>>15),x=R+(w^V&(k^w))+M[7]+4249261313&4294967295,R=V+(x<<22&4294967295|x>>>10),x=w+(k^R&(V^k))+M[8]+1770035416&4294967295,w=R+(x<<7&4294967295|x>>>25),x=k+(V^w&(R^V))+M[9]+2336552879&4294967295,k=w+(x<<12&4294967295|x>>>20),x=V+(R^k&(w^R))+M[10]+4294925233&4294967295,V=k+(x<<17&4294967295|x>>>15),x=R+(w^V&(k^w))+M[11]+2304563134&4294967295,R=V+(x<<22&4294967295|x>>>10),x=w+(k^R&(V^k))+M[12]+1804603682&4294967295,w=R+(x<<7&4294967295|x>>>25),x=k+(V^w&(R^V))+M[13]+4254626195&4294967295,k=w+(x<<12&4294967295|x>>>20),x=V+(R^k&(w^R))+M[14]+2792965006&4294967295,V=k+(x<<17&4294967295|x>>>15),x=R+(w^V&(k^w))+M[15]+1236535329&4294967295,R=V+(x<<22&4294967295|x>>>10),x=w+(V^k&(R^V))+M[1]+4129170786&4294967295,w=R+(x<<5&4294967295|x>>>27),x=k+(R^V&(w^R))+M[6]+3225465664&4294967295,k=w+(x<<9&4294967295|x>>>23),x=V+(w^R&(k^w))+M[11]+643717713&4294967295,V=k+(x<<14&4294967295|x>>>18),x=R+(k^w&(V^k))+M[0]+3921069994&4294967295,R=V+(x<<20&4294967295|x>>>12),x=w+(V^k&(R^V))+M[5]+3593408605&4294967295,w=R+(x<<5&4294967295|x>>>27),x=k+(R^V&(w^R))+M[10]+38016083&4294967295,k=w+(x<<9&4294967295|x>>>23),x=V+(w^R&(k^w))+M[15]+3634488961&4294967295,V=k+(x<<14&4294967295|x>>>18),x=R+(k^w&(V^k))+M[4]+3889429448&4294967295,R=V+(x<<20&4294967295|x>>>12),x=w+(V^k&(R^V))+M[9]+568446438&4294967295,w=R+(x<<5&4294967295|x>>>27),x=k+(R^V&(w^R))+M[14]+3275163606&4294967295,k=w+(x<<9&4294967295|x>>>23),x=V+(w^R&(k^w))+M[3]+4107603335&4294967295,V=k+(x<<14&4294967295|x>>>18),x=R+(k^w&(V^k))+M[8]+1163531501&4294967295,R=V+(x<<20&4294967295|x>>>12),x=w+(V^k&(R^V))+M[13]+2850285829&4294967295,w=R+(x<<5&4294967295|x>>>27),x=k+(R^V&(w^R))+M[2]+4243563512&4294967295,k=w+(x<<9&4294967295|x>>>23),x=V+(w^R&(k^w))+M[7]+1735328473&4294967295,V=k+(x<<14&4294967295|x>>>18),x=R+(k^w&(V^k))+M[12]+2368359562&4294967295,R=V+(x<<20&4294967295|x>>>12),x=w+(R^V^k)+M[5]+4294588738&4294967295,w=R+(x<<4&4294967295|x>>>28),x=k+(w^R^V)+M[8]+2272392833&4294967295,k=w+(x<<11&4294967295|x>>>21),x=V+(k^w^R)+M[11]+1839030562&4294967295,V=k+(x<<16&4294967295|x>>>16),x=R+(V^k^w)+M[14]+4259657740&4294967295,R=V+(x<<23&4294967295|x>>>9),x=w+(R^V^k)+M[1]+2763975236&4294967295,w=R+(x<<4&4294967295|x>>>28),x=k+(w^R^V)+M[4]+1272893353&4294967295,k=w+(x<<11&4294967295|x>>>21),x=V+(k^w^R)+M[7]+4139469664&4294967295,V=k+(x<<16&4294967295|x>>>16),x=R+(V^k^w)+M[10]+3200236656&4294967295,R=V+(x<<23&4294967295|x>>>9),x=w+(R^V^k)+M[13]+681279174&4294967295,w=R+(x<<4&4294967295|x>>>28),x=k+(w^R^V)+M[0]+3936430074&4294967295,k=w+(x<<11&4294967295|x>>>21),x=V+(k^w^R)+M[3]+3572445317&4294967295,V=k+(x<<16&4294967295|x>>>16),x=R+(V^k^w)+M[6]+76029189&4294967295,R=V+(x<<23&4294967295|x>>>9),x=w+(R^V^k)+M[9]+3654602809&4294967295,w=R+(x<<4&4294967295|x>>>28),x=k+(w^R^V)+M[12]+3873151461&4294967295,k=w+(x<<11&4294967295|x>>>21),x=V+(k^w^R)+M[15]+530742520&4294967295,V=k+(x<<16&4294967295|x>>>16),x=R+(V^k^w)+M[2]+3299628645&4294967295,R=V+(x<<23&4294967295|x>>>9),x=w+(V^(R|~k))+M[0]+4096336452&4294967295,w=R+(x<<6&4294967295|x>>>26),x=k+(R^(w|~V))+M[7]+1126891415&4294967295,k=w+(x<<10&4294967295|x>>>22),x=V+(w^(k|~R))+M[14]+2878612391&4294967295,V=k+(x<<15&4294967295|x>>>17),x=R+(k^(V|~w))+M[5]+4237533241&4294967295,R=V+(x<<21&4294967295|x>>>11),x=w+(V^(R|~k))+M[12]+1700485571&4294967295,w=R+(x<<6&4294967295|x>>>26),x=k+(R^(w|~V))+M[3]+2399980690&4294967295,k=w+(x<<10&4294967295|x>>>22),x=V+(w^(k|~R))+M[10]+4293915773&4294967295,V=k+(x<<15&4294967295|x>>>17),x=R+(k^(V|~w))+M[1]+2240044497&4294967295,R=V+(x<<21&4294967295|x>>>11),x=w+(V^(R|~k))+M[8]+1873313359&4294967295,w=R+(x<<6&4294967295|x>>>26),x=k+(R^(w|~V))+M[15]+4264355552&4294967295,k=w+(x<<10&4294967295|x>>>22),x=V+(w^(k|~R))+M[6]+2734768916&4294967295,V=k+(x<<15&4294967295|x>>>17),x=R+(k^(V|~w))+M[13]+1309151649&4294967295,R=V+(x<<21&4294967295|x>>>11),x=w+(V^(R|~k))+M[4]+4149444226&4294967295,w=R+(x<<6&4294967295|x>>>26),x=k+(R^(w|~V))+M[11]+3174756917&4294967295,k=w+(x<<10&4294967295|x>>>22),x=V+(w^(k|~R))+M[2]+718787259&4294967295,V=k+(x<<15&4294967295|x>>>17),x=R+(k^(V|~w))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(V+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+k&4294967295}s.prototype.v=function(I,w){w===void 0&&(w=I.length);const R=w-this.blockSize,M=this.C;let V=this.h,k=0;for(;k<w;){if(V==0)for(;k<=R;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<w;)if(M[V++]=I.charCodeAt(k++),V==this.blockSize){o(this,M),V=0;break}}else for(;k<w;)if(M[V++]=I[k++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=w},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)I[w++]=this.g[R]>>>M&255;return I};function u(I,w){var R=d;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=w(I)}function c(I,w){this.h=w;const R=[];let M=!0;for(let V=I.length-1;V>=0;V--){const k=I[V]|0;M&&k==w||(R[V]=k,M=!1)}this.g=R}var d={};function p(I){return-128<=I&&I<128?u(I,function(w){return new c([w|0],w<0?-1:0)}):new c([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return z(g(-I));const w=[];let R=1;for(let M=0;I>=R;M++)w[M]=I/R|0,R*=4294967296;return new c(w,0)}function y(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return z(y(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(w,8));let M=T;for(let k=0;k<I.length;k+=8){var V=Math.min(8,I.length-k);const x=parseInt(I.substring(k,k+V),w);V<8?(V=g(Math.pow(w,V)),M=M.j(V).add(g(x))):(M=M.j(R),M=M.add(g(x)))}return M}var T=p(0),S=p(1),C=p(16777216);n=c.prototype,n.m=function(){if(U(this))return-z(this).m();let I=0,w=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);I+=(M>=0?M:4294967296+M)*w,w*=4294967296}return I},n.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(P(this))return"0";if(U(this))return"-"+z(this).toString(I);const w=g(Math.pow(I,6));var R=this;let M="";for(;;){const V=st(R,w).g;R=X(R,V.j(w));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=V,P(R))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},n.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function P(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function U(I){return I.h==-1}n.l=function(I){return I=X(this,I),U(I)?-1:P(I)?0:1};function z(I){const w=I.g.length,R=[];for(let M=0;M<w;M++)R[M]=~I.g[M];return new c(R,~I.h).add(S)}n.abs=function(){return U(this)?z(this):this},n.add=function(I){const w=Math.max(this.g.length,I.g.length),R=[];let M=0;for(let V=0;V<=w;V++){let k=M+(this.i(V)&65535)+(I.i(V)&65535),x=(k>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);M=x>>>16,k&=65535,x&=65535,R[V]=x<<16|k}return new c(R,R[R.length-1]&-2147483648?-1:0)};function X(I,w){return I.add(z(w))}n.j=function(I){if(P(this)||P(I))return T;if(U(this))return U(I)?z(this).j(z(I)):z(z(this).j(I));if(U(I))return z(this.j(z(I)));if(this.l(C)<0&&I.l(C)<0)return g(this.m()*I.m());const w=this.g.length+I.g.length,R=[];for(var M=0;M<2*w;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<I.g.length;V++){const k=this.i(M)>>>16,x=this.i(M)&65535,ee=I.i(V)>>>16,fe=I.i(V)&65535;R[2*M+2*V]+=x*fe,K(R,2*M+2*V),R[2*M+2*V+1]+=k*fe,K(R,2*M+2*V+1),R[2*M+2*V+1]+=x*ee,K(R,2*M+2*V+1),R[2*M+2*V+2]+=k*ee,K(R,2*M+2*V+2)}for(I=0;I<w;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=w;I<2*w;I++)R[I]=0;return new c(R,0)};function K(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function G(I,w){this.g=I,this.h=w}function st(I,w){if(P(w))throw Error("division by zero");if(P(I))return new G(T,T);if(U(I))return w=st(z(I),w),new G(z(w.g),z(w.h));if(U(w))return w=st(I,z(w)),new G(z(w.g),w.h);if(I.g.length>30){if(U(I)||U(w))throw Error("slowDivide_ only works with positive integers.");for(var R=S,M=w;M.l(I)<=0;)R=at(R),M=at(M);var V=ot(R,1),k=ot(M,1);for(M=ot(M,2),R=ot(R,2);!P(M);){var x=k.add(M);x.l(I)<=0&&(V=V.add(R),k=x),M=ot(M,1),R=ot(R,1)}return w=X(I,V.j(w)),new G(V,w)}for(V=T;I.l(w)>=0;){for(R=Math.max(1,Math.floor(I.m()/w.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=g(R),x=k.j(w);U(x)||x.l(I)>0;)R-=M,k=g(R),x=k.j(w);P(k)&&(k=S),V=V.add(k),I=X(I,x)}return new G(V,I)}n.B=function(I){return st(this,I).h},n.and=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)&I.i(M);return new c(R,this.h&I.h)},n.or=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)|I.i(M);return new c(R,this.h|I.h)},n.xor=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)^I.i(M);return new c(R,this.h^I.h)};function at(I){const w=I.g.length+1,R=[];for(let M=0;M<w;M++)R[M]=I.i(M)<<1|I.i(M-1)>>>31;return new c(R,I.h)}function ot(I,w){const R=w>>5;w%=32;const M=I.g.length-R,V=[];for(let k=0;k<M;k++)V[k]=w>0?I.i(k+R)>>>w|I.i(k+R+1)<<32-w:I.i(k+R);return new c(V,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Ub=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,Sr=c}).apply(typeof CE<"u"?CE:typeof self<"u"?self:typeof window<"u"?window:{});var jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Bb,pu,zb,ef,rg,jb,Fb,qb;(function(){var n,t=Object.defineProperty;function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof jh=="object"&&jh];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=e(this);function o(h,v){if(v)t:{var E=s;h=h.split(".");for(var b=0;b<h.length-1;b++){var B=h[b];if(!(B in E))break t;E=E[B]}h=h[h.length-1],b=E[h],v=v(b),v!=b&&v!=null&&t(E,h,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(v){var E=[],b;for(b in v)Object.prototype.hasOwnProperty.call(v,b)&&E.push([b,v[b]]);return E}});var u=u||{},c=this||self;function d(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function p(h,v,E){return h.call.apply(h.bind,arguments)}function g(h,v,E){return g=p,g.apply(null,arguments)}function y(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function T(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(b,B,Y){for(var lt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)lt[Rt-2]=arguments[Rt];return v.prototype[B].apply(b,lt)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const v=h.length;if(v>0){const E=Array(v);for(let b=0;b<v;b++)E[b]=h[b];return E}return[]}function P(h,v){for(let b=1;b<arguments.length;b++){const B=arguments[b];var E=typeof B;if(E=E!="object"?E:B?Array.isArray(B)?"array":E:"null",E=="array"||E=="object"&&typeof B.length=="number"){E=h.length||0;const Y=B.length||0;h.length=E+Y;for(let lt=0;lt<Y;lt++)h[E+lt]=B[lt]}else h.push(B)}}class U{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function z(h){c.setTimeout(()=>{throw h},0)}function X(){var h=I;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class K{constructor(){this.h=this.g=null}add(v,E){const b=G.get();b.set(v,E),this.h?this.h.next=b:this.g=b,this.h=b}}var G=new U(()=>new st,h=>h.reset());class st{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ot=!1,I=new K,w=()=>{const h=Promise.resolve(void 0);at=()=>{h.then(R)}};function R(){for(var h;h=X();){try{h.h.call(h.g)}catch(E){z(E)}var v=G;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}ot=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return h})();function x(h){return/^[\s\xa0]*$/.test(h)}function ee(h,v){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}T(ee,V),ee.prototype.init=function(h,v){const E=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),Z=0;function rt(h,v,E,b,B){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!b,this.ha=B,this.key=++Z,this.da=this.fa=!1}function dt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function It(h,v,E){for(const b in h)v.call(E,h[b],b,h)}function Nt(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function O(h){const v={};for(const E in h)v[E]=h[E];return v}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(h,v){let E,b;for(let B=1;B<arguments.length;B++){b=arguments[B];for(E in b)h[E]=b[E];for(let Y=0;Y<nt.length;Y++)E=nt[Y],Object.prototype.hasOwnProperty.call(b,E)&&(h[E]=b[E])}}function ft(h){this.src=h,this.g={},this.h=0}ft.prototype.add=function(h,v,E,b,B){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const lt=xt(h,v,b,B);return lt>-1?(v=h[lt],E||(v.fa=!1)):(v=new rt(v,this.src,Y,!!b,B),v.fa=E,h.push(v)),v};function At(h,v){const E=v.type;if(E in h.g){var b=h.g[E],B=Array.prototype.indexOf.call(b,v,void 0),Y;(Y=B>=0)&&Array.prototype.splice.call(b,B,1),Y&&(dt(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function xt(h,v,E,b){for(let B=0;B<h.length;++B){const Y=h[B];if(!Y.da&&Y.listener==v&&Y.capture==!!E&&Y.ha==b)return B}return-1}var zt="closure_lm_"+(Math.random()*1e6|0),Pe={};function oe(h,v,E,b,B){if(Array.isArray(v)){for(let Y=0;Y<v.length;Y++)oe(h,v[Y],E,b,B);return null}return E=ul(E),h&&h[fe]?h.J(v,E,d(b)?!!b.capture:!1,B):Br(h,v,E,!1,b,B)}function Br(h,v,E,b,B,Y){if(!v)throw Error("Invalid event type");const lt=d(B)?!!B.capture:!!B;let Rt=zr(h);if(Rt||(h[zt]=Rt=new ft(h)),E=Rt.add(v,E,b,lt,Y),E.proxy)return E;if(b=Na(),E.proxy=b,b.src=h,b.listener=E,h.addEventListener)k||(B=lt),B===void 0&&(B=!1),h.addEventListener(v.toString(),b,B);else if(h.attachEvent)h.attachEvent(yi(v.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Na(){function h(E){return v.call(h.src,h.listener,E)}const v=ol;return h}function Oa(h,v,E,b,B){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)Oa(h,v[Y],E,b,B);else b=d(b)?!!b.capture:!!b,E=ul(E),h&&h[fe]?(h=h.i,Y=String(v).toString(),Y in h.g&&(v=h.g[Y],E=xt(v,E,b,B),E>-1&&(dt(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[Y],h.h--)))):h&&(h=zr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=xt(v,E,b,B)),(E=h>-1?v[h]:null)&&Pa(E))}function Pa(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[fe])At(v.i,h);else{var E=h.type,b=h.proxy;v.removeEventListener?v.removeEventListener(E,b,h.capture):v.detachEvent?v.detachEvent(yi(E),b):v.addListener&&v.removeListener&&v.removeListener(b),(E=zr(v))?(At(E,h),E.h==0&&(E.src=null,v[zt]=null)):dt(h)}}}function yi(h){return h in Pe?Pe[h]:Pe[h]="on"+h}function ol(h,v){if(h.da)h=!0;else{v=new ee(v,this);const E=h.listener,b=h.ha||h.src;h.fa&&Pa(h),h=E.call(b,v)}return h}function zr(h){return h=h[zt],h instanceof ft?h:null}var ll="__closure_events_fn_"+(Math.random()*1e9>>>0);function ul(h){return typeof h=="function"?h:(h[ll]||(h[ll]=function(v){return h.handleEvent(v)}),h[ll])}function Se(){M.call(this),this.i=new ft(this),this.M=this,this.G=null}T(Se,M),Se.prototype[fe]=!0,Se.prototype.removeEventListener=function(h,v,E,b){Oa(this,h,v,E,b)};function ke(h,v){var E,b=h.G;if(b)for(E=[];b;b=b.G)E.push(b);if(h=h.M,b=v.type||v,typeof v=="string")v=new V(v,h);else if(v instanceof V)v.target=v.target||h;else{var B=v;v=new V(b,h),ct(v,B)}B=!0;let Y,lt;if(E)for(lt=E.length-1;lt>=0;lt--)Y=v.g=E[lt],B=xs(Y,b,!0,v)&&B;if(Y=v.g=h,B=xs(Y,b,!0,v)&&B,B=xs(Y,b,!1,v)&&B,E)for(lt=0;lt<E.length;lt++)Y=v.g=E[lt],B=xs(Y,b,!1,v)&&B}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let b=0;b<E.length;b++)dt(E[b]);delete h.g[v],h.h--}}this.G=null},Se.prototype.J=function(h,v,E,b){return this.i.add(String(h),v,!1,E,b)},Se.prototype.K=function(h,v,E,b){return this.i.add(String(h),v,!0,E,b)};function xs(h,v,E,b){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let B=!0;for(let Y=0;Y<v.length;++Y){const lt=v[Y];if(lt&&!lt.da&&lt.capture==E){const Rt=lt.listener,ye=lt.ha||lt.src;lt.fa&&At(h.i,lt),B=Rt.call(ye,b)!==!1&&B}}return B&&!b.defaultPrevented}function _d(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function hc(h){h.g=_d(()=>{h.g=null,h.i&&(h.i=!1,hc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class cn extends M{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:hc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(h){M.call(this),this.h=h,this.g={}}T(jr,M);var cl=[];function hl(h){It(h.g,function(v,E){this.g.hasOwnProperty(E)&&Pa(v)},h),h.g={}}jr.prototype.N=function(){jr.Z.N.call(this),hl(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ds=c.JSON.stringify,Td=c.JSON.parse,fc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function dc(){}function mc(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ye(){V.call(this,"d")}T(Ye,V);function kn(){V.call(this,"c")}T(kn,V);var ge={},pc=null;function ka(){return pc=pc||new Se}ge.Ia="serverreachability";function gc(h){V.call(this,ge.Ia,h)}T(gc,V);function vi(h){const v=ka();ke(v,new gc(v))}ge.STAT_EVENT="statevent";function Fr(h,v){V.call(this,ge.STAT_EVENT,h),this.stat=v}T(Fr,V);function Ae(h){const v=ka();ke(v,new Fr(v,h))}ge.Ja="timingevent";function _i(h,v){V.call(this,ge.Ja,h),this.size=v}T(_i,V);function Ti(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function Ed(h,v,E,b,B,Y){h.info(function(){if(h.g)if(Y){var lt="",Rt=Y.split("&");for(let Gt=0;Gt<Rt.length;Gt++){var ye=Rt[Gt].split("=");if(ye.length>1){const le=ye[0];ye=ye[1];const zn=le.split("_");lt=zn.length>=2&&zn[1]=="type"?lt+(le+"="+ye+"&"):lt+(le+"=redacted&")}}}else lt=null;else lt=Y;return"XMLHTTP REQ ("+b+") [attempt "+B+"]: "+v+`
`+E+`
`+lt})}function yc(h,v,E,b,B,Y,lt){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+B+"]: "+v+`
`+E+`
`+Y+" "+lt})}function Ei(h,v,E,b){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Sd(h,E)+(b?" "+b:"")})}function qr(h,v){h.info(function(){return"TIMEOUT: "+v})}Jn.prototype.info=function(){};function Sd(h,v){if(!h.g)return v;if(!v)return null;try{const Y=JSON.parse(v);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var E=Y[h];if(!(E.length<2)){var b=E[1];if(Array.isArray(b)&&!(b.length<1)){var B=b[0];if(B!="noop"&&B!="stop"&&B!="close")for(let lt=1;lt<b.length;lt++)b[lt]=""}}}}return Ds(Y)}catch{return v}}var Hr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},dl;function Gr(){}T(Gr,dc),Gr.prototype.g=function(){return new XMLHttpRequest},dl=new Gr;function Wi(h){return encodeURIComponent(String(h))}function vc(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function ti(h,v,E,b){this.j=h,this.i=v,this.l=E,this.S=b||1,this.V=new jr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var be={},Fe={};function Si(h,v,E){h.M=1,h.A=Kr(Re(v)),h.u=E,h.R=!0,La(h,null)}function La(h,v){h.F=Date.now(),Ai(h),h.B=Re(h.A);var E=h.B,b=h.S;Array.isArray(b)||(b=[String(b)]),ja(E.i,"t",b),h.C=0,E=h.j.L,h.h=new ei,h.g=Nc(h.j,E?v:null,!h.u),h.P>0&&(h.O=new cn(g(h.Y,h,h.g),h.P)),v=h.V,E=h.g,b=h.ba;var B="readystatechange";Array.isArray(B)||(B&&(cl[0]=B.toString()),B=cl);for(let Y=0;Y<B.length;Y++){const lt=oe(E,B[Y],b||v.handleEvent,!1,v.h||v);if(!lt)break;v.g[lt.key]=lt}v=h.J?O(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),vi(),Ed(h.i,h.v,h.B,h.l,h.S,h.u)}ti.prototype.ba=function(h){h=h.target;const v=this.O;v&&si(h)==3?v.j():this.Y(h)},ti.prototype.Y=function(h){try{if(h==this.g)t:{const Rt=si(this.g),ye=this.g.ya(),Gt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Qe(this.g)))){this.K||Rt!=4||ye==7||(ye==8||Gt<=0?vi(3):vi(2)),bi(this);var v=this.g.ca();this.X=v;var E=Ad(this);if(this.o=v==200,yc(this.i,this.v,this.B,this.l,this.S,Rt,v),this.o){if(this.U&&!this.L){e:{if(this.g){var b,B=this.g;if((b=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(b)){var Y=b;break e}}Y=null}if(h=Y)Ei(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,h);else{this.o=!1,this.m=3,Ae(12),bn(this),Ln(this);break t}}if(this.R){h=!0;let le;for(;!this.K&&this.C<E.length;)if(le=Tc(this,E),le==Fe){Rt==4&&(this.m=4,Ae(14),h=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(le==be){this.m=4,Ae(15),Ei(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Ei(this.i,this.l,le,null),wi(this,le);if(_c(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||E.length!=0||this.h.h||(this.m=1,Ae(16),h=!1),this.o=this.o&&h,!h)Ei(this.i,this.l,E,"[Invalid Chunked Response]"),bn(this),Ln(this);else if(E.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Il(lt),lt.P=!0,Ae(11))}}else Ei(this.i,this.l,E,null),wi(this,E);Rt==4&&bn(this),this.o&&!this.K&&(Rt==4?xc(this.j,this):(this.o=!1,Ai(this)))}else Ji(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),bn(this),Ln(this)}}}catch{}};function Ad(h){if(!_c(h))return h.g.la();const v=Qe(h.g);if(v==="")return"";let E="";const b=v.length,B=si(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return bn(h),Ln(h),"";h.h.i=new c.TextDecoder}for(let Y=0;Y<b;Y++)h.h.h=!0,E+=h.h.i.decode(v[Y],{stream:!(B&&Y==b-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function _c(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Tc(h,v){var E=h.C,b=v.indexOf(`
`,E);return b==-1?Fe:(E=Number(v.substring(E,b)),isNaN(E)?be:(b+=1,b+E>v.length?Fe:(v=v.slice(b,b+E),h.C=b+E,v)))}ti.prototype.cancel=function(){this.K=!0,bn(this)};function Ai(h){h.T=Date.now()+h.H,Ua(h,h.H)}function Ua(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ti(g(h.aa,h),v)}function bi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ti.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(qr(this.i,this.B),this.M!=2&&(vi(),Ae(17)),bn(this),this.m=2,Ln(this)):Ua(this,this.T-h)};function Ln(h){h.j.I==0||h.K||xc(h.j,h)}function bn(h){bi(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,hl(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function wi(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||Ci(E.h,h))){if(!h.L&&Ci(E.h,h)&&E.I==3){try{var b=E.Ba.g.parse(v)}catch{b=null}if(Array.isArray(b)&&b.length==3){var B=b;if(B[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Ka(E),Us(E);else break t;Jr(E),Ae(18)}}else E.xa=B[1],0<E.xa-E.K&&B[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ti(g(E.Va,E),6e3));Ri(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ni(E,11)}else if((h.L||E.g==h)&&Ka(E),!x(v))for(B=E.Ba.g.parse(v),v=0;v<B.length;v++){let Gt=B[v];const le=Gt[0];if(!(le<=E.K))if(E.K=le,Gt=Gt[1],E.I==2)if(Gt[0]=="c"){E.M=Gt[1],E.ba=Gt[2];const zn=Gt[3];zn!=null&&(E.ka=zn,E.j.info("VER="+E.ka));const Oi=Gt[4];Oi!=null&&(E.za=Oi,E.j.info("SVER="+E.za));const ri=Gt[5];ri!=null&&typeof ri=="number"&&ri>0&&(b=1.5*ri,E.O=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const ai=h.g;if(ai){const ta=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ta){var Y=b.h;Y.g||ta.indexOf("spdy")==-1&&ta.indexOf("quic")==-1&&ta.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(gl(Y,Y.h),Y.h=null))}if(b.G){const Ya=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;Ya&&(b.wa=Ya,Yt(b.J,b.G,Ya))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),b=E;var lt=h;if(b.na=Mc(b,b.L?b.ba:null,b.W),lt.L){yl(b.h,lt);var Rt=lt,ye=b.O;ye&&(Rt.H=ye),Rt.D&&(bi(Rt),Ai(Rt)),b.g=lt}else Cc(b);E.i.length>0&&Mi(E)}else Gt[0]!="stop"&&Gt[0]!="close"||Ni(E,7);else E.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?Ni(E,7):Rl(E):Gt[0]!="noop"&&E.l&&E.l.qa(Gt),E.A=0)}}vi(4)}catch{}}var we=class{constructor(h,v){this.g=h,this.map=v}};function ml(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function pl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ri(h){return h.h?1:h.g?h.g.size:0}function Ci(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function gl(h,v){h.g?h.g.add(v):h.h=v}function yl(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}ml.prototype.cancel=function(){if(this.i=vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function vl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return C(h.i)}var Ec=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ba(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const b=h[E].indexOf("=");let B,Y=null;b>=0?(B=h[E].substring(0,b),Y=h[E].substring(b+1)):B=h[E],v(B,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function wn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof wn?(this.l=h.l,qe(this,h.j),this.o=h.o,this.g=h.g,Vs(this,h.u),this.h=h.h,_l(this,wc(h.i)),this.m=h.m):h&&(v=String(h).match(Ec))?(this.l=!1,qe(this,v[1]||"",!0),this.o=Ii(v[2]||""),this.g=Ii(v[3]||"",!0),Vs(this,v[4]),this.h=Ii(v[5]||"",!0),_l(this,v[6]||"",!0),this.m=Ii(v[7]||"")):(this.l=!1,this.i=new Ns(null,this.l))}wn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Yr(v,za,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Yr(v,za,!0),"@"),h.push(Wi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Yr(E,E.charAt(0)=="/"?Tl:Sc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Yr(E,Ac)),h.join("")},wn.prototype.resolve=function(h){const v=Re(this);let E=!!h.j;E?qe(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var b=h.h;if(E)Vs(v,h.u);else if(E=!!h.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var B=v.h.lastIndexOf("/");B!=-1&&(b=v.h.slice(0,B+1)+b)}if(B=b,B==".."||B==".")b="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){b=B.lastIndexOf("/",0)==0,B=B.split("/");const Y=[];for(let lt=0;lt<B.length;){const Rt=B[lt++];Rt=="."?b&&lt==B.length&&Y.push(""):Rt==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),b&&lt==B.length&&Y.push("")):(Y.push(Rt),b=!0)}b=Y.join("/")}else b=B}return E?v.h=b:E=h.i.toString()!=="",E?_l(v,wc(h.i)):E=!!h.m,E&&(v.m=h.m),v};function Re(h){return new wn(h)}function qe(h,v,E){h.j=E?Ii(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Vs(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function _l(h,v,E){v instanceof Ns?(h.i=v,Fa(h.i,h.l)):(E||(v=Yr(v,Ms)),h.i=new Ns(v,h.l))}function Yt(h,v,E){h.i.set(v,E)}function Kr(h){return Yt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ii(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Yr(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,gn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function gn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var za=/[#\/\?@]/g,Sc=/[#\?:]/g,Tl=/[#\?]/g,Ms=/[#\?@]/g,Ac=/#/g;function Ns(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function yn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ba(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}n=Ns.prototype,n.add=function(h,v){yn(this),this.i=null,h=Os(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function bc(h,v){yn(h),v=Os(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function El(h,v){return yn(h),v=Os(h,v),h.g.has(v)}n.forEach=function(h,v){yn(this),this.g.forEach(function(E,b){E.forEach(function(B){h.call(v,B,b,this)},this)},this)};function Sl(h,v){yn(h);let E=[];if(typeof v=="string")El(h,v)&&(E=E.concat(h.g.get(Os(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}n.set=function(h,v){return yn(this),this.i=null,h=Os(this,h),El(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=Sl(this,h),h.length>0?String(h[0]):v):v};function ja(h,v,E){bc(h,v),E.length>0&&(h.i=null,h.g.set(Os(h,v),C(E)),h.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let b=0;b<v.length;b++){var E=v[b];const B=Wi(E);E=Sl(this,E);for(let Y=0;Y<E.length;Y++){let lt=B;E[Y]!==""&&(lt+="="+Wi(E[Y])),h.push(lt)}}return this.i=h.join("&")};function wc(h){const v=new Ns;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Os(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Fa(h,v){v&&!h.j&&(yn(h),h.i=null,h.g.forEach(function(E,b){const B=b.toLowerCase();b!=B&&(bc(this,b),ja(this,B,E))},h)),h.j=v}function ni(h,v){const E=new Jn;if(c.Image){const b=new Image;b.onload=y(Un,E,"TestLoadImage: loaded",!0,v,b),b.onerror=y(Un,E,"TestLoadImage: error",!1,v,b),b.onabort=y(Un,E,"TestLoadImage: abort",!1,v,b),b.ontimeout=y(Un,E,"TestLoadImage: timeout",!1,v,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else v(!1)}function Al(h,v){const E=new Jn,b=new AbortController,B=setTimeout(()=>{b.abort(),Un(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:b.signal}).then(Y=>{clearTimeout(B),Y.ok?Un(E,"TestPingServer: ok",!0,v):Un(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(B),Un(E,"TestPingServer: error",!1,v)})}function Un(h,v,E,b,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),b(E)}catch{}}function Ps(){this.g=new fc}function xi(h){this.i=h.Sb||null,this.h=h.ab||!1}T(xi,dc),xi.prototype.g=function(){return new Qr(this.i,this.h)};function Qr(h,v){Se.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Qr,Se),n=Qr.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,ii(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ks(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;qa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function qa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?ks(this):ii(this),this.readyState==3&&qa(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,ks(this))},n.Na=function(h){this.g&&(this.response=h,ks(this))},n.ga=function(){this.g&&ks(this)};function ks(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ii(h)}n.setRequestHeader=function(h,v){this.A.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function ii(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Bn(h){let v="";return It(h,function(E,b){v+=b,v+=":",v+=E,v+=`\r
`}),v}function Xr(h,v,E){t:{for(b in E){var b=!1;break t}b=!0}b||(E=Bn(E),typeof h=="string"?E!=null&&Wi(E):Yt(h,v,E))}function $t(h){Se.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T($t,Se);var Di=/^https?$/i,bl=["POST","PUT"];n=$t.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,v,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():dl.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Y){$r(this,Y);return}if(h=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var B in b)E.set(B,b[B]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Y of b.keys())E.set(Y,b.get(Y));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(bl,v,void 0)>=0)||b||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,lt]of E)this.g.setRequestHeader(Y,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){$r(this,Y)}};function $r(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,wl(h),Zi(h)}function wl(h){h.A||(h.A=!0,ke(h,"complete"),ke(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,ke(this,"complete"),ke(this,"abort"),Zi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zi(this,!0)),$t.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Wr(this):this.Xa())},n.Xa=function(){Wr(this)};function Wr(h){if(h.h&&typeof u<"u"){if(h.v&&si(h)==4)setTimeout(h.Ca.bind(h),0);else if(ke(h,"readystatechange"),si(h)==4){h.h=!1;try{const Y=h.ca();t:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var E;if(!(E=v)){var b;if(b=Y===0){let lt=String(h.D).match(Ec)[1]||null;!lt&&c.self&&c.self.location&&(lt=c.self.location.protocol.slice(0,-1)),b=!Di.test(lt?lt.toLowerCase():"")}E=b}if(E)ke(h,"complete"),ke(h,"success");else{h.o=6;try{var B=si(h)>2?h.g.statusText:""}catch{B=""}h.l=B+" ["+h.ca()+"]",wl(h)}}finally{Zi(h)}}}}function Zi(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||ke(h,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function si(h){return h.g?h.g.readyState:0}n.ca=function(){try{return si(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Td(v)}};function Qe(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ji(h){const v={};h=(h.g&&si(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(x(h[b]))continue;var E=vc(h[b]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=v[B]||[];v[B]=Y,Y.push(E)}Nt(v,function(b){return b.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function Ls(h){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vi("baseRetryDelayMs",5e3,h),this.Za=Vi("retryDelaySeedMs",1e4,h),this.Ta=Vi("forwardChannelMaxRetries",2,h),this.va=Vi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new ml(h&&h.concurrentRequestLimit),this.Ba=new Ps,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ls.prototype,n.ka=8,n.I=1,n.connect=function(h,v,E,b){Ae(0),this.W=h,this.H=v||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.J=Mc(this,null,this.W),Mi(this)};function Rl(h){if(Ha(h),h.I==3){var v=h.V++,E=Re(h.J);if(Yt(E,"SID",h.M),Yt(E,"RID",v),Yt(E,"TYPE","terminate"),Zr(h,E),v=new ti(h,h.j,v),v.M=2,v.A=Kr(Re(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.A,E=!0),E||(v.g=Nc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ai(v)}Vc(h)}function Us(h){h.g&&(Il(h),h.g.cancel(),h.g=null)}function Ha(h){Us(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ka(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Mi(h){if(!pl(h.h)&&!h.m){h.m=!0;var v=h.Ea;at||w(),ot||(at(),ot=!0),I.add(v,h),h.D=0}}function Ga(h,v){return Ri(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ti(g(h.Ea,h,v),Dc(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const B=new ti(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=O(Y),ct(Y,this.U)):Y=this.U),this.u!==null||this.R||(B.J=Y,Y=null),this.S)t:{for(var v=0,E=0;E<this.i.length;E++){e:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(v+=b,v>4096){v=E;break t}if(v===4096||E===this.i.length-1){v=E+1;break t}}v=1e3}else v=1e3;v=Rc(this,B,v),E=Re(this.J),Yt(E,"RID",h),Yt(E,"CVER",22),this.G&&Yt(E,"X-HTTP-Session-Id",this.G),Zr(this,E),Y&&(this.R?v="headers="+Wi(Bn(Y))+"&"+v:this.u&&Xr(E,this.u,Y)),gl(this.h,B),this.Ra&&Yt(E,"TYPE","init"),this.S?(Yt(E,"$req",v),Yt(E,"SID","null"),B.U=!0,Si(B,E,null)):Si(B,E,v),this.I=2}}else this.I==3&&(h?Cl(this,h):this.i.length==0||pl(this.h)||Cl(this))};function Cl(h,v){var E;v?E=v.l:E=h.V++;const b=Re(h.J);Yt(b,"SID",h.M),Yt(b,"RID",E),Yt(b,"AID",h.K),Zr(h,b),h.u&&h.o&&Xr(b,h.u,h.o),E=new ti(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Rc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),gl(h.h,E),Si(E,b,v)}function Zr(h,v){h.H&&It(h.H,function(E,b){Yt(v,b,E)}),h.l&&It({},function(E,b){Yt(v,b,E)})}function Rc(h,v,E){E=Math.min(h.i.length,E);const b=h.l?g(h.l.Ka,h.l,h):null;t:{var B=h.i;let Rt=-1;for(;;){const ye=["count="+E];Rt==-1?E>0?(Rt=B[0].g,ye.push("ofs="+Rt)):Rt=0:ye.push("ofs="+Rt);let Gt=!0;for(let le=0;le<E;le++){var Y=B[le].g;const zn=B[le].map;if(Y-=Rt,Y<0)Rt=Math.max(0,B[le].g-100),Gt=!1;else try{Y="req"+Y+"_"||"";try{var lt=zn instanceof Map?zn:Object.entries(zn);for(const[Oi,ri]of lt){let ai=ri;d(ri)&&(ai=Ds(ri)),ye.push(Y+Oi+"="+encodeURIComponent(ai))}}catch(Oi){throw ye.push(Y+"type="+encodeURIComponent("_badmap")),Oi}}catch{b&&b(zn)}}if(Gt){lt=ye.join("&");break t}}lt=void 0}return h=h.i.splice(0,E),v.G=h,lt}function Cc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;at||w(),ot||(at(),ot=!0),I.add(v,h),h.A=0}}function Jr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ti(g(h.Da,h),Dc(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,Ic(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ti(g(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),Us(this),Ic(this))};function Il(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Ic(h){h.g=new ti(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Re(h.na);Yt(v,"RID","rpc"),Yt(v,"SID",h.M),Yt(v,"AID",h.K),Yt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Yt(v,"TO",h.ia),Yt(v,"TYPE","xmlhttp"),Zr(h,v),h.u&&h.o&&Xr(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Kr(Re(v)),E.u=null,E.R=!0,La(E,h)}n.Va=function(){this.C!=null&&(this.C=null,Us(this),Jr(this),Ae(19))};function Ka(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function xc(h,v){var E=null;if(h.g==v){Ka(h),Il(h),h.g=null;var b=2}else if(Ci(h.h,v))E=v.G,yl(h.h,v),b=1;else return;if(h.I!=0){if(v.o)if(b==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var B=h.D;b=ka(),ke(b,new _i(b,E)),Mi(h)}else Cc(h);else if(B=v.m,B==3||B==0&&v.X>0||!(b==1&&Ga(h,v)||b==2&&Jr(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),B){case 1:Ni(h,5);break;case 4:Ni(h,10);break;case 3:Ni(h,6);break;default:Ni(h,2)}}}function Dc(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function Ni(h,v){if(h.j.info("Error code "+v),v==2){var E=g(h.bb,h),b=h.Ua;const B=!b;b=new wn(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||qe(b,"https"),Kr(b),B?ni(b.toString(),E):Al(b.toString(),E)}else Ae(2);h.I=0,h.l&&h.l.pa(v),Vc(h),Ha(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Vc(h){if(h.I=0,h.ja=[],h.l){const v=vl(h.h);(v.length!=0||h.i.length!=0)&&(P(h.ja,v),P(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function Mc(h,v,E){var b=E instanceof wn?Re(E):new wn(E);if(b.g!="")v&&(b.g=v+"."+b.g),Vs(b,b.u);else{var B=c.location;b=B.protocol,v=v?v+"."+B.hostname:B.hostname,B=+B.port;const Y=new wn(null);b&&qe(Y,b),v&&(Y.g=v),B&&Vs(Y,B),E&&(Y.h=E),b=Y}return E=h.G,v=h.wa,E&&v&&Yt(b,E,v),Yt(b,"VER",h.ka),Zr(h,b),b}function Nc(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new $t(new xi({ab:E})):new $t(h.ma),v.Fa(h.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oc(){}n=Oc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Bs(){}Bs.prototype.g=function(h,v){return new hn(h,v)};function hn(h,v){Se.call(this),this.g=new Ls(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!x(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!x(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new ts(this)}T(hn,Se),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Rl(this.g)},hn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Ds(h),h=E);v.i.push(new we(v.Ya++,h)),v.I==3&&Mi(v)},hn.prototype.N=function(){this.g.l=null,delete this.j,Rl(this.g),delete this.g,hn.Z.N.call(this)};function Pc(h){Ye.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const E in v){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}T(Pc,Ye);function kc(){kn.call(this),this.status=1}T(kc,kn);function ts(h){this.g=h}T(ts,Oc),ts.prototype.ra=function(){ke(this.g,"a")},ts.prototype.qa=function(h){ke(this.g,new Pc(h))},ts.prototype.pa=function(h){ke(this.g,new kc)},ts.prototype.oa=function(){ke(this.g,"b")},Bs.prototype.createWebChannel=Bs.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,qb=function(){return new Bs},Fb=function(){return ka()},jb=ge,rg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Hr.NO_ERROR=0,Hr.TIMEOUT=8,Hr.HTTP_ERROR=6,ef=Hr,fl.COMPLETE="complete",zb=fl,mc.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",Se.prototype.listen=Se.prototype.J,pu=mc,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,Bb=$t}).apply(typeof jh<"u"?jh:typeof self<"u"?self:typeof window<"u"?window:{});class an{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let Zo="12.8.0";function FV(n){Zo=n}const Ia=new Qg("@firebase/firestore");function bo(){return Ia.logLevel}function ht(n,...t){if(Ia.logLevel<=kt.DEBUG){const e=t.map(sy);Ia.debug(`Firestore (${Zo}): ${n}`,...e)}}function bs(n,...t){if(Ia.logLevel<=kt.ERROR){const e=t.map(sy);Ia.error(`Firestore (${Zo}): ${n}`,...e)}}function jo(n,...t){if(Ia.logLevel<=kt.WARN){const e=t.map(sy);Ia.warn(`Firestore (${Zo}): ${n}`,...e)}}function sy(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function _t(n,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,Hb(n,s,e)}function Hb(n,t,e){let s=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw bs(s),new Error(s)}function Ft(n,t,e,s){let o="Unexpected state";typeof e=="string"?o=e:s=e,n||Hb(t,o,s)}function bt(n,t){return n}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Is{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hi{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class Gb{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class qV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(an.UNAUTHENTICATED)))}shutdown(){}}class HV{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class GV{constructor(t){this.t=t,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Ft(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,e(p)):Promise.resolve();let u=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Hi,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Hi)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new Gb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new an(t)}}class KV{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=an.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class YV{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new KV(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class IE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QV{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Ft(this.o===void 0,3512);const s=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new IE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Ft(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new IE(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function XV(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<n;s++)e[s]=Math.floor(256*Math.random());return e}class ry{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=XV(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<e&&(s+=t.charAt(o[u]%62))}return s}}function Lt(n,t){return n<t?-1:n>t?1:0}function ag(n,t){const e=Math.min(n.length,t.length);for(let s=0;s<e;s++){const o=n.charAt(s),u=t.charAt(s);if(o!==u)return Dp(o)===Dp(u)?Lt(o,u):Dp(o)?1:-1}return Lt(n.length,t.length)}const $V=55296,WV=57343;function Dp(n){const t=n.charCodeAt(0);return t>=$V&&t<=WV}function Fo(n,t,e){return n.length===t.length&&n.every(((s,o)=>e(s,t[o])))}const xE="__name__";class Bi{constructor(t,e,s){e===void 0?e=0:e>t.length&&_t(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&_t(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return Bi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Bi?t.forEach((s=>{e.push(s)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let o=0;o<s;o++){const u=Bi.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return Lt(t.length,e.length)}static compareSegments(t,e){const s=Bi.isNumericId(t),o=Bi.isNumericId(e);return s&&!o?-1:!s&&o?1:s&&o?Bi.extractNumericId(t).compare(Bi.extractNumericId(e)):ag(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Sr.fromString(t.substring(4,t.length-2))}}class te extends Bi{construct(t,e,s){return new te(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new ut(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter((o=>o.length>0)))}return new te(e)}static emptyPath(){return new te([])}}const ZV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Bi{construct(t,e,s){return new en(t,e,s)}static isValidIdentifier(t){return ZV.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xE}static keyField(){return new en([xE])}static fromServerFormat(t){const e=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let c=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new ut(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ut(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(u(),o++)}if(u(),c)throw new ut(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(e)}static emptyPath(){return new en([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(te.fromString(t))}static fromName(t){return new yt(te.fromString(t).popFirst(5))}static empty(){return new yt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return te.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new te(t.slice()))}}function Kb(n,t,e){if(!e)throw new ut(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function JV(n,t,e,s){if(t===!0&&s===!0)throw new ut(J.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function DE(n){if(!yt.isDocumentKey(n))throw new ut(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function VE(n){if(yt.isDocumentKey(n))throw new ut(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Yb(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Qf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":_t(12329,{type:typeof n})}function Gi(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ut(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Qf(n);throw new ut(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Oe(n,t){const e={typeString:n};return t&&(e.value=t),e}function Ju(n,t){if(!Yb(n))throw new ut(J.INVALID_ARGUMENT,"JSON must be an object");let e;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in n)){e=`JSON missing required field: '${s}'`;break}const c=n[s];if(o&&typeof c!==o){e=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){e=`Expected '${s}' field to equal '${u.value}'`;break}}if(e)throw new ut(J.INVALID_ARGUMENT,e);return!0}const ME=-62135596800,NE=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*NE);return new re(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<ME)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/NE}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ju(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-ME;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Oe("string",re._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new re(0,0))}static max(){return new Et(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Nu=-1;function tM(n,t){const e=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new re(e+1,0):new re(e,s));return new Rr(o,yt.empty(),t)}function eM(n){return new Rr(n.readTime,n.key,Nu)}class Rr{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new Rr(Et.min(),yt.empty(),Nu)}static max(){return new Rr(Et.max(),yt.empty(),Nu)}}function nM(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=yt.comparator(n.documentKey,t.documentKey),e!==0?e:Lt(n.largestBatchId,t.largestBatchId))}const iM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Jo(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==iM)throw n;ht("LocalStore","Unexpectedly lost primary lease")}class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new it(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(s,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof it?e:it.resolve(e)}catch(e){return it.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):it.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):it.reject(e)}static resolve(t){return new it(((e,s)=>{e(t)}))}static reject(t){return new it(((e,s)=>{s(t)}))}static waitFor(t){return new it(((e,s)=>{let o=0,u=0,c=!1;t.forEach((d=>{++o,d.next((()=>{++u,c&&u===o&&e()}),(p=>s(p)))})),c=!0,u===o&&e()}))}static or(t){let e=it.resolve(!1);for(const s of t)e=e.next((o=>o?it.resolve(o):s()));return e}static forEach(t,e){const s=[];return t.forEach(((o,u)=>{s.push(e.call(this,o,u))})),this.waitFor(s)}static mapArray(t,e){return new it(((s,o)=>{const u=t.length,c=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;e(t[g]).next((y=>{c[g]=y,++d,d===u&&s(c)}),(y=>o(y)))}}))}static doWhile(t,e){return new it(((s,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):s()};u()}))}}function rM(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function tl(n){return n.name==="IndexedDbTransactionError"}class Xf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>e.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Xf.ce=-1;const ay=-1;function tc(n){return n==null}function Ef(n){return n===0&&1/n==-1/0}function aM(n){return typeof n=="number"&&Number.isInteger(n)&&!Ef(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Qb="";function oM(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=OE(t)),t=lM(n.get(e),t);return OE(t)}function lM(n,t){let e=t;const s=n.length;for(let o=0;o<s;o++){const u=n.charAt(o);switch(u){case"\0":e+="";break;case Qb:e+="";break;default:e+=u}}return e}function OE(n){return n+Qb+""}function PE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Or(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Xb(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class he{constructor(t,e){this.comparator=t,this.root=e||tn.EMPTY}insert(t,e){return new he(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return e+s.left.size;o<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,s)=>(t(e,s),!1)))}toString(){const t=[];return this.inorderTraversal(((e,s)=>(t.push(`${e}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Fh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Fh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Fh(this.root,t,this.comparator,!0)}}class Fh{constructor(t,e,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?s(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,e,s,o,u){this.key=t,this.value=e,this.color=s??tn.RED,this.left=o??tn.EMPTY,this.right=u??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,o,u){return new tn(t??this.key,e??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,s),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return tn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,e,s,o,u){return this}insert(t,e,s){return new tn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ze{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,s)=>(t(e),!1)))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new kE(this.data.getIterator())}getIteratorFrom(t){return new kE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((s=>{e=e.add(s)})),e}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new ze(this.comparator);return e.data=t,e}}class kE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new On([])}unionWith(t){let e=new ze(en.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new On(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Fo(this.fields,t.fields,((e,s)=>e.isEqual(s)))}}class $b extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new $b("Invalid base64 string: "+u):u}})(t);return new nn(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new nn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const s=new Uint8Array(e.length);for(let o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const uM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cr(n){if(Ft(!!n,39018),typeof n=="string"){let t=0;const e=uM.exec(n);if(Ft(!!e,46558,{timestamp:n}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Te(n.seconds),nanos:Te(n.nanos)}}function Te(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ir(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}const Wb="server_timestamp",Zb="__type__",Jb="__previous_value__",t1="__local_write_time__";function oy(n){return(n?.mapValue?.fields||{})[Zb]?.stringValue===Wb}function $f(n){const t=n.mapValue.fields[Jb];return oy(t)?$f(t):t}function Ou(n){const t=Cr(n.mapValue.fields[t1].timestampValue);return new re(t.seconds,t.nanos)}class cM{constructor(t,e,s,o,u,c,d,p,g,y,T){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=y,this.apiKey=T}}const Sf="(default)";class Pu{constructor(t,e){this.projectId=t,this.database=e||Sf}static empty(){return new Pu("","")}get isDefaultDatabase(){return this.database===Sf}isEqual(t){return t instanceof Pu&&t.projectId===this.projectId&&t.database===this.database}}function hM(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ut(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pu(n.options.projectId,t)}const e1="__type__",fM="__max__",qh={mapValue:{}},n1="__vector__",Af="value";function xr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?oy(n)?4:mM(n)?9007199254740991:dM(n)?10:11:_t(28295,{value:n})}function Xi(n,t){if(n===t)return!0;const e=xr(n);if(e!==xr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Ou(n).isEqual(Ou(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Cr(o.timestampValue),d=Cr(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,u){return Ir(o.bytesValue).isEqual(Ir(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,u){return Te(o.geoPointValue.latitude)===Te(u.geoPointValue.latitude)&&Te(o.geoPointValue.longitude)===Te(u.geoPointValue.longitude)})(n,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Te(o.integerValue)===Te(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Te(o.doubleValue),d=Te(u.doubleValue);return c===d?Ef(c)===Ef(d):isNaN(c)&&isNaN(d)}return!1})(n,t);case 9:return Fo(n.arrayValue.values||[],t.arrayValue.values||[],Xi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},d=u.mapValue.fields||{};if(PE(c)!==PE(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Xi(c[p],d[p])))return!1;return!0})(n,t);default:return _t(52216,{left:n})}}function ku(n,t){return(n.values||[]).find((e=>Xi(e,t)))!==void 0}function qo(n,t){if(n===t)return 0;const e=xr(n),s=xr(t);if(e!==s)return Lt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return Lt(n.booleanValue,t.booleanValue);case 2:return(function(u,c){const d=Te(u.integerValue||u.doubleValue),p=Te(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(n,t);case 3:return LE(n.timestampValue,t.timestampValue);case 4:return LE(Ou(n),Ou(t));case 5:return ag(n.stringValue,t.stringValue);case 6:return(function(u,c){const d=Ir(u),p=Ir(c);return d.compareTo(p)})(n.bytesValue,t.bytesValue);case 7:return(function(u,c){const d=u.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const y=Lt(d[g],p[g]);if(y!==0)return y}return Lt(d.length,p.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,c){const d=Lt(Te(u.latitude),Te(c.latitude));return d!==0?d:Lt(Te(u.longitude),Te(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return UE(n.arrayValue,t.arrayValue);case 10:return(function(u,c){const d=u.fields||{},p=c.fields||{},g=d[Af]?.arrayValue,y=p[Af]?.arrayValue,T=Lt(g?.values?.length||0,y?.values?.length||0);return T!==0?T:UE(g,y)})(n.mapValue,t.mapValue);case 11:return(function(u,c){if(u===qh.mapValue&&c===qh.mapValue)return 0;if(u===qh.mapValue)return 1;if(c===qh.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=c.fields||{},y=Object.keys(g);p.sort(),y.sort();for(let T=0;T<p.length&&T<y.length;++T){const S=ag(p[T],y[T]);if(S!==0)return S;const C=qo(d[p[T]],g[y[T]]);if(C!==0)return C}return Lt(p.length,y.length)})(n.mapValue,t.mapValue);default:throw _t(23264,{he:e})}}function LE(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Lt(n,t);const e=Cr(n),s=Cr(t),o=Lt(e.seconds,s.seconds);return o!==0?o:Lt(e.nanos,s.nanos)}function UE(n,t){const e=n.values||[],s=t.values||[];for(let o=0;o<e.length&&o<s.length;++o){const u=qo(e[o],s[o]);if(u)return u}return Lt(e.length,s.length)}function Ho(n){return og(n)}function og(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const s=Cr(e);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Ir(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return yt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let s="[",o=!0;for(const u of e.values||[])o?o=!1:s+=",",s+=og(u);return s+"]"})(n.arrayValue):"mapValue"in n?(function(e){const s=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${og(e.fields[c])}`;return o+"}"})(n.mapValue):_t(61005,{value:n})}function nf(n){switch(xr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=$f(n);return t?16+nf(t):16;case 5:return 2*n.stringValue.length;case 6:return Ir(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+nf(u)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return Or(s.fields,((u,c)=>{o+=u.length+nf(c)})),o})(n.mapValue);default:throw _t(13486,{value:n})}}function BE(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function lg(n){return!!n&&"integerValue"in n}function ly(n){return!!n&&"arrayValue"in n}function zE(n){return!!n&&"nullValue"in n}function jE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function sf(n){return!!n&&"mapValue"in n}function dM(n){return(n?.mapValue?.fields||{})[e1]?.stringValue===n1}function Su(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Or(n.mapValue.fields,((e,s)=>t.mapValue.fields[e]=Su(s))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Su(n.arrayValue.values[e]);return t}return{...n}}function mM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===fM}class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!sf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Su(e)}setAll(t){let e=en.emptyPath(),s={},o=[];t.forEach(((c,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,s,o),s={},o=[],e=d.popLast()}c?s[d.lastSegment()]=Su(c):o.push(d.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,s,o)}delete(t){const e=this.field(t.popLast());sf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Xi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=e.mapValue.fields[t.get(s)];sf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,s){Or(e,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new dn(Su(this.value))}}function i1(n){const t=[];return Or(n.fields,((e,s)=>{const o=new en([e]);if(sf(s)){const u=i1(s.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new On(t)}class Ke{constructor(t,e,s,o,u,c,d){this.key=t,this.documentType=e,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(t){return new Ke(t,0,Et.min(),Et.min(),Et.min(),dn.empty(),0)}static newFoundDocument(t,e,s,o){return new Ke(t,1,e,Et.min(),s,o,0)}static newNoDocument(t,e){return new Ke(t,2,e,Et.min(),Et.min(),dn.empty(),0)}static newUnknownDocument(t,e){return new Ke(t,3,e,Et.min(),Et.min(),dn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ke&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bf{constructor(t,e){this.position=t,this.inclusive=e}}function FE(n,t,e){let s=0;for(let o=0;o<n.position.length;o++){const u=t[o],c=n.position[o];if(u.field.isKeyField()?s=yt.comparator(yt.fromName(c.referenceValue),e.key):s=qo(c,e.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function qE(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Xi(n.position[e],t.position[e]))return!1;return!0}class Lu{constructor(t,e="asc"){this.field=t,this.dir=e}}function pM(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class s1{}class Ne extends s1{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new yM(t,e,s):e==="array-contains"?new TM(t,s):e==="in"?new EM(t,s):e==="not-in"?new SM(t,s):e==="array-contains-any"?new AM(t,s):new Ne(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new vM(t,s):new _M(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(qo(e,this.value)):e!==null&&xr(this.value)===xr(e)&&this.matchesComparison(qo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends s1{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new gi(t,e)}matches(t){return r1(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function r1(n){return n.op==="and"}function a1(n){return gM(n)&&r1(n)}function gM(n){for(const t of n.filters)if(t instanceof gi)return!1;return!0}function ug(n){if(n instanceof Ne)return n.field.canonicalString()+n.op.toString()+Ho(n.value);if(a1(n))return n.filters.map((t=>ug(t))).join(",");{const t=n.filters.map((e=>ug(e))).join(",");return`${n.op}(${t})`}}function o1(n,t){return n instanceof Ne?(function(s,o){return o instanceof Ne&&s.op===o.op&&s.field.isEqual(o.field)&&Xi(s.value,o.value)})(n,t):n instanceof gi?(function(s,o){return o instanceof gi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,d)=>u&&o1(c,o.filters[d])),!0):!1})(n,t):void _t(19439)}function l1(n){return n instanceof Ne?(function(e){return`${e.field.canonicalString()} ${e.op} ${Ho(e.value)}`})(n):n instanceof gi?(function(e){return e.op.toString()+" {"+e.getFilters().map(l1).join(" ,")+"}"})(n):"Filter"}class yM extends Ne{constructor(t,e,s){super(t,e,s),this.key=yt.fromName(s.referenceValue)}matches(t){const e=yt.comparator(t.key,this.key);return this.matchesComparison(e)}}class vM extends Ne{constructor(t,e){super(t,"in",e),this.keys=u1("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class _M extends Ne{constructor(t,e){super(t,"not-in",e),this.keys=u1("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function u1(n,t){return(t.arrayValue?.values||[]).map((e=>yt.fromName(e.referenceValue)))}class TM extends Ne{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return ly(e)&&ku(e.arrayValue,this.value)}}class EM extends Ne{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&ku(this.value.arrayValue,e)}}class SM extends Ne{constructor(t,e){super(t,"not-in",e)}matches(t){if(ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!ku(this.value.arrayValue,e)}}class AM extends Ne{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!ly(e)||!e.arrayValue.values)&&e.arrayValue.values.some((s=>ku(this.value.arrayValue,s)))}}class bM{constructor(t,e=null,s=[],o=[],u=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.Te=null}}function HE(n,t=null,e=[],s=[],o=null,u=null,c=null){return new bM(n,t,e,s,o,u,c)}function uy(n){const t=bt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((s=>ug(s))).join(","),e+="|ob:",e+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),tc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((s=>Ho(s))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((s=>Ho(s))).join(",")),t.Te=e}return t.Te}function cy(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!pM(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!o1(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!qE(n.startAt,t.startAt)&&qE(n.endAt,t.endAt)}function cg(n){return yt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class el{constructor(t,e=null,s=[],o=[],u=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function wM(n,t,e,s,o,u,c,d){return new el(n,t,e,s,o,u,c,d)}function Wf(n){return new el(n)}function GE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function RM(n){return yt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function c1(n){return n.collectionGroup!==null}function Au(n){const t=bt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new ze(en.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Lu(u,s))})),e.has(en.keyField().canonicalString())||t.Ie.push(new Lu(en.keyField(),s))}return t.Ie}function Ki(n){const t=bt(n);return t.Ee||(t.Ee=CM(t,Au(n))),t.Ee}function CM(n,t){if(n.limitType==="F")return HE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Lu(o.field,u)}));const e=n.endAt?new bf(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new bf(n.startAt.position,n.startAt.inclusive):null;return HE(n.path,n.collectionGroup,t,n.filters,n.limit,e,s)}}function hg(n,t){const e=n.filters.concat([t]);return new el(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function IM(n,t){const e=n.explicitOrderBy.concat([t]);return new el(n.path,n.collectionGroup,e,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function fg(n,t,e){return new el(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Zf(n,t){return cy(Ki(n),Ki(t))&&n.limitType===t.limitType}function h1(n){return`${uy(Ki(n))}|lt:${n.limitType}`}function wo(n){return`Query(target=${(function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map((o=>l1(o))).join(", ")}]`),tc(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((o=>Ho(o))).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((o=>Ho(o))).join(",")),`Target(${s})`})(Ki(n))}; limitType=${n.limitType})`}function Jf(n,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):yt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(n,t)&&(function(s,o){for(const u of Au(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(n,t)&&(function(s,o){return!(s.startAt&&!(function(c,d,p){const g=FE(c,d,p);return c.inclusive?g<=0:g<0})(s.startAt,Au(s),o)||s.endAt&&!(function(c,d,p){const g=FE(c,d,p);return c.inclusive?g>=0:g>0})(s.endAt,Au(s),o))})(n,t)}function xM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function f1(n){return(t,e)=>{let s=!1;for(const o of Au(n)){const u=DM(o,t,e);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function DM(n,t,e){const s=n.field.isKeyField()?yt.comparator(t.key,e.key):(function(u,c,d){const p=c.data.field(u),g=d.data.field(u);return p!==null&&g!==null?qo(p,g):_t(42886)})(n.field,t,e);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:n.dir})}}class Va{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[e]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Or(this.inner,((e,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return Xb(this.inner)}size(){return this.innerSize}}const VM=new he(yt.comparator);function ws(){return VM}const d1=new he(yt.comparator);function gu(...n){let t=d1;for(const e of n)t=t.insert(e.key,e);return t}function m1(n){let t=d1;return n.forEach(((e,s)=>t=t.insert(e,s.overlayedDocument))),t}function Ta(){return bu()}function p1(){return bu()}function bu(){return new Va((n=>n.toString()),((n,t)=>n.isEqual(t)))}const MM=new he(yt.comparator),NM=new ze(yt.comparator);function Ut(...n){let t=NM;for(const e of n)t=t.add(e);return t}const OM=new ze(Lt);function PM(){return OM}function hy(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ef(t)?"-0":t}}function g1(n){return{integerValue:""+n}}function kM(n,t){return aM(t)?g1(t):hy(n,t)}class td{constructor(){this._=void 0}}function LM(n,t,e){return n instanceof Uu?(function(o,u){const c={fields:{[Zb]:{stringValue:Wb},[t1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&oy(u)&&(u=$f(u)),u&&(c.fields[Jb]=u),{mapValue:c}})(e,t):n instanceof Bu?v1(n,t):n instanceof zu?_1(n,t):(function(o,u){const c=y1(o,u),d=KE(c)+KE(o.Ae);return lg(c)&&lg(o.Ae)?g1(d):hy(o.serializer,d)})(n,t)}function UM(n,t,e){return n instanceof Bu?v1(n,t):n instanceof zu?_1(n,t):e}function y1(n,t){return n instanceof wf?(function(s){return lg(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Uu extends td{}class Bu extends td{constructor(t){super(),this.elements=t}}function v1(n,t){const e=T1(t);for(const s of n.elements)e.some((o=>Xi(o,s)))||e.push(s);return{arrayValue:{values:e}}}class zu extends td{constructor(t){super(),this.elements=t}}function _1(n,t){let e=T1(t);for(const s of n.elements)e=e.filter((o=>!Xi(o,s)));return{arrayValue:{values:e}}}class wf extends td{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function KE(n){return Te(n.integerValue||n.doubleValue)}function T1(n){return ly(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class BM{constructor(t,e){this.field=t,this.transform=e}}function zM(n,t){return n.field.isEqual(t.field)&&(function(s,o){return s instanceof Bu&&o instanceof Bu||s instanceof zu&&o instanceof zu?Fo(s.elements,o.elements,Xi):s instanceof wf&&o instanceof wf?Xi(s.Ae,o.Ae):s instanceof Uu&&o instanceof Uu})(n.transform,t.transform)}class jM{constructor(t,e){this.version=t,this.transformResults=e}}class on{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new on}static exists(t){return new on(void 0,t)}static updateTime(t){return new on(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function rf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class ed{}function E1(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new nd(n.key,on.none()):new ec(n.key,n.data,on.none());{const e=n.data,s=dn.empty();let o=new ze(en.comparator);for(let u of t.fields)if(!o.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new Pr(n.key,s,new On(o.toArray()),on.none())}}function FM(n,t,e){n instanceof ec?(function(o,u,c){const d=o.value.clone(),p=QE(o.fieldTransforms,u,c.transformResults);d.setAll(p),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,t,e):n instanceof Pr?(function(o,u,c){if(!rf(o.precondition,u))return void u.convertToUnknownDocument(c.version);const d=QE(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(S1(o)),p.setAll(d),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,t,e):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function wu(n,t,e,s){return n instanceof ec?(function(u,c,d,p){if(!rf(u.precondition,c))return d;const g=u.value.clone(),y=XE(u.fieldTransforms,p,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,t,e,s):n instanceof Pr?(function(u,c,d,p){if(!rf(u.precondition,c))return d;const g=XE(u.fieldTransforms,p,c),y=c.data;return y.setAll(S1(u)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(n,t,e,s):(function(u,c,d){return rf(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,t,e)}function qM(n,t){let e=null;for(const s of n.fieldTransforms){const o=t.data.field(s.field),u=y1(s.transform,o||null);u!=null&&(e===null&&(e=dn.empty()),e.set(s.field,u))}return e||null}function YE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Fo(s,o,((u,c)=>zM(u,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class ec extends ed{constructor(t,e,s,o=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Pr extends ed{constructor(t,e,s,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function S1(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const s=n.data.field(e);t.set(e,s)}})),t}function QE(n,t,e){const s=new Map;Ft(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let o=0;o<e.length;o++){const u=n[o],c=u.transform,d=t.data.field(u.field);s.set(u.field,UM(c,d,e[o]))}return s}function XE(n,t,e){const s=new Map;for(const o of n){const u=o.transform,c=e.data.field(o.field);s.set(o.field,LM(u,c,t))}return s}class nd extends ed{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class A1 extends ed{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class HM{constructor(t,e,s,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&FM(u,t,s[o])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=wu(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=wu(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=p1();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=e.has(o.key)?null:d;const p=E1(c,d);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Et.min())})),s}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Fo(this.mutations,t.mutations,((e,s)=>YE(e,s)))&&Fo(this.baseMutations,t.baseMutations,((e,s)=>YE(e,s)))}}class fy{constructor(t,e,s,o){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=o}static from(t,e,s){Ft(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return MM})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new fy(t,e,s,o)}}class GM{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class KM{constructor(t,e){this.count=t,this.unchangedNames=e}}var Ve,jt;function b1(n){switch(n){case J.OK:return _t(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _t(15467,{code:n})}}function w1(n){if(n===void 0)return bs("GRPC error has no .code"),J.UNKNOWN;switch(n){case Ve.OK:return J.OK;case Ve.CANCELLED:return J.CANCELLED;case Ve.UNKNOWN:return J.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return J.INTERNAL;case Ve.UNAVAILABLE:return J.UNAVAILABLE;case Ve.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ve.NOT_FOUND:return J.NOT_FOUND;case Ve.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ve.ABORTED:return J.ABORTED;case Ve.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ve.DATA_LOSS:return J.DATA_LOSS;default:return _t(39323,{code:n})}}(jt=Ve||(Ve={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function YM(){return new TextEncoder}const QM=new Sr([4294967295,4294967295],0);function $E(n){const t=YM().encode(n),e=new Ub;return e.update(t),new Uint8Array(e.digest())}function WE(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Sr([e,s],0),new Sr([o,u],0)]}class dy{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new yu(`Invalid padding: ${e}`);if(s<0)throw new yu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new yu(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new yu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Sr.fromNumber(this.ge)}ye(t,e,s){let o=t.add(e.multiply(Sr.fromNumber(s)));return o.compare(QM)===1&&(o=new Sr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=$E(t),[s,o]=WE(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(t,e,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new dy(u,o,e);return s.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const e=$E(t),[s,o]=WE(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.be(c)}}be(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class id{constructor(t,e,s,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const o=new Map;return o.set(t,nc.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new id(Et.min(),o,new he(Lt),ws(),Ut())}}class nc{constructor(t,e,s,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new nc(s,e,Ut(),Ut(),Ut())}}class af{constructor(t,e,s,o){this.Se=t,this.removedTargetIds=e,this.key=s,this.De=o}}class R1{constructor(t,e){this.targetId=t,this.Ce=e}}class C1{constructor(t,e,s=nn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=o}}class ZE{constructor(){this.ve=0,this.Fe=JE(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),e=Ut(),s=Ut();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:s=s.add(o);break;default:_t(38017,{changeType:u})}})),new nc(this.Me,this.xe,t,e,s)}Ke(){this.Oe=!1,this.Fe=JE()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class XM{constructor(t){this.Ge=t,this.ze=new Map,this.je=ws(),this.He=Hh(),this.Je=Hh(),this.Ze=new he(Lt)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const s=this.nt(e);switch(t.state){case 0:this.rt(e)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),s.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((s,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,s=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(cg(u))if(s===0){const c=new yt(u.path);this.et(e,c,Ke.newNoDocument(c,Et.min()))}else Ft(s===1,20013,{expectedCount:s});else{const c=this._t(e);if(c!==s){const d=this.ut(t),p=d?this.ct(d,t,c):1;if(p!==0){this.it(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=e;let c,d;try{c=Ir(s).toUint8Array()}catch(p){if(p instanceof $b)return jo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new dy(c,o,u)}catch(p){return jo(p instanceof yu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(t,e,s){return e.Ce.count===s-this.Pt(t,e.targetId)?0:2}Pt(t,e){const s=this.Ge.getRemoteKeysForTarget(e);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,c)=>{const d=this.ot(c);if(d){if(u.current&&cg(d.target)){const p=new yt(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Ke.newNoDocument(p,t))}u.Be&&(e.set(c,u.ke()),u.Ke())}}));let s=Ut();this.Je.forEach(((u,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new id(t,e,this.Ze,this.je,s);return this.je=ws(),this.He=Hh(),this.Je=Hh(),this.Ze=new he(Lt),o}Ye(t,e){if(!this.rt(t))return;const s=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,s),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.qe(e,1):o.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),s&&(this.je=this.je.insert(e,s))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new ZE,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new ze(Lt),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new ze(Lt),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ht("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new ZE),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Hh(){return new he(yt.comparator)}function JE(){return new he(yt.comparator)}const $M={asc:"ASCENDING",desc:"DESCENDING"},WM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZM={and:"AND",or:"OR"};class JM{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function dg(n,t){return n.useProto3Json||tc(t)?t:{value:t}}function Rf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function I1(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function tN(n,t){return Rf(n,t.toTimestamp())}function Pn(n){return Ft(!!n,49232),Et.fromTimestamp((function(e){const s=Cr(e);return new re(s.seconds,s.nanos)})(n))}function my(n,t){return mg(n,t).canonicalString()}function mg(n,t){const e=(function(o){return new te(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?e:e.child(t)}function x1(n){const t=te.fromString(n);return Ft(P1(t),10190,{key:t.toString()}),t}function Cf(n,t){return my(n.databaseId,t.path)}function Ru(n,t){const e=x1(t);if(e.get(1)!==n.databaseId.projectId)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new yt(V1(e))}function D1(n,t){return my(n.databaseId,t)}function eN(n){const t=x1(n);return t.length===4?te.emptyPath():V1(t)}function pg(n){return new te(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function V1(n){return Ft(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function tS(n,t,e){return{name:Cf(n,t),fields:e.value.mapValue.fields}}function nN(n,t){return"found"in t?(function(s,o){Ft(!!o.found,43571),o.found.name,o.found.updateTime;const u=Ru(s,o.found.name),c=Pn(o.found.updateTime),d=o.found.createTime?Pn(o.found.createTime):Et.min(),p=new dn({mapValue:{fields:o.found.fields}});return Ke.newFoundDocument(u,c,d,p)})(n,t):"missing"in t?(function(s,o){Ft(!!o.missing,3894),Ft(!!o.readTime,22933);const u=Ru(s,o.missing),c=Pn(o.readTime);return Ke.newNoDocument(u,c)})(n,t):_t(7234,{result:t})}function iN(n,t){let e;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_t(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,y){return g.useProto3Json?(Ft(y===void 0||typeof y=="string",58123),nn.fromBase64String(y||"")):(Ft(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),nn.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(g){const y=g.code===void 0?J.UNKNOWN:w1(g.code);return new ut(y,g.message||"")})(c);e=new C1(s,o,u,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Ru(n,s.document.name),u=Pn(s.document.updateTime),c=s.document.createTime?Pn(s.document.createTime):Et.min(),d=new dn({mapValue:{fields:s.document.fields}}),p=Ke.newFoundDocument(o,u,c,d),g=s.targetIds||[],y=s.removedTargetIds||[];e=new af(g,y,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Ru(n,s.document),u=s.readTime?Pn(s.readTime):Et.min(),c=Ke.newNoDocument(o,u),d=s.removedTargetIds||[];e=new af([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Ru(n,s.document),u=s.removedTargetIds||[];e=new af([],u,o,null)}else{if(!("filter"in t))return _t(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new KM(o,u),d=s.targetId;e=new R1(d,c)}}return e}function M1(n,t){let e;if(t instanceof ec)e={update:tS(n,t.key,t.value)};else if(t instanceof nd)e={delete:Cf(n,t.key)};else if(t instanceof Pr)e={update:tS(n,t.key,t.data),updateMask:fN(t.fieldMask)};else{if(!(t instanceof A1))return _t(16599,{dt:t.type});e={verify:Cf(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((s=>(function(u,c){const d=c.transform;if(d instanceof Uu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Bu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof zu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof wf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw _t(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:tN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_t(27497)})(n,t.precondition)),e}function sN(n,t){return n&&n.length>0?(Ft(t!==void 0,14353),n.map((e=>(function(o,u){let c=o.updateTime?Pn(o.updateTime):Pn(u);return c.isEqual(Et.min())&&(c=Pn(u)),new jM(c,o.transformResults||[])})(e,t)))):[]}function rN(n,t){return{documents:[D1(n,t.path)]}}function aN(n,t){const e={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=D1(n,o);const u=(function(g){if(g.length!==0)return O1(gi.create(g,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((y=>(function(S){return{field:Ro(S.field),direction:uN(S.dir)}})(y)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const d=dg(n,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:o}}function oN(n){let t=eN(n.parent);const e=n.structuredQuery,s=e.from?e.from.length:0;let o=null;if(s>0){Ft(s===1,65062);const y=e.from[0];y.allDescendants?o=y.collectionId:t=t.child(y.collectionId)}let u=[];e.where&&(u=(function(T){const S=N1(T);return S instanceof gi&&a1(S)?S.getFilters():[S]})(e.where));let c=[];e.orderBy&&(c=(function(T){return T.map((S=>(function(P){return new Lu(Co(P.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(S)))})(e.orderBy));let d=null;e.limit&&(d=(function(T){let S;return S=typeof T=="object"?T.value:T,tc(S)?null:S})(e.limit));let p=null;e.startAt&&(p=(function(T){const S=!!T.before,C=T.values||[];return new bf(C,S)})(e.startAt));let g=null;return e.endAt&&(g=(function(T){const S=!T.before,C=T.values||[];return new bf(C,S)})(e.endAt)),wM(t,o,c,u,d,"F",p,g)}function lN(n,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function N1(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=Co(e.unaryFilter.field);return Ne.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Co(e.unaryFilter.field);return Ne.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Co(e.unaryFilter.field);return Ne.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Co(e.unaryFilter.field);return Ne.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ne.create(Co(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return gi.create(e.compositeFilter.filters.map((s=>N1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(e.compositeFilter.op))})(n):_t(30097,{filter:n})}function uN(n){return $M[n]}function cN(n){return WM[n]}function hN(n){return ZM[n]}function Ro(n){return{fieldPath:n.canonicalString()}}function Co(n){return en.fromServerFormat(n.fieldPath)}function O1(n){return n instanceof Ne?(function(e){if(e.op==="=="){if(jE(e.value))return{unaryFilter:{field:Ro(e.field),op:"IS_NAN"}};if(zE(e.value))return{unaryFilter:{field:Ro(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(jE(e.value))return{unaryFilter:{field:Ro(e.field),op:"IS_NOT_NAN"}};if(zE(e.value))return{unaryFilter:{field:Ro(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(e.field),op:cN(e.op),value:e.value}}})(n):n instanceof gi?(function(e){const s=e.getFilters().map((o=>O1(o)));return s.length===1?s[0]:{compositeFilter:{op:hN(e.op),filters:s}}})(n):_t(54877,{filter:n})}function fN(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function P1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function k1(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class pr{constructor(t,e,s,o,u=Et.min(),c=Et.min(),d=nn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new pr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class dN{constructor(t){this.yt=t}}function mN(n){const t=oN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?fg(t,t.limit,"L"):t}class pN{constructor(){this.Sn=new gN}addToCollectionParentIndex(t,e){return this.Sn.add(e),it.resolve()}getCollectionParents(t,e){return it.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return it.resolve()}deleteFieldIndex(t,e){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,e){return it.resolve()}getDocumentsMatchingTarget(t,e){return it.resolve(null)}getIndexType(t,e){return it.resolve(0)}getFieldIndexes(t,e){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,e){return it.resolve(Rr.min())}getMinOffsetFromCollectionGroup(t,e){return it.resolve(Rr.min())}updateCollectionGroup(t,e,s){return it.resolve()}updateIndexEntries(t,e){return it.resolve()}}class gN{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e]||new ze(te.comparator),u=!o.has(s);return this.index[e]=o.add(s),u}has(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e];return o&&o.has(s)}getEntries(t){return(this.index[t]||new ze(te.comparator)).toArray()}}const eS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},L1=41943040;class An{static withCacheSize(t){return new An(t,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(L1,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class Go{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Go(0)}static ar(){return new Go(-1)}}const nS="LruGarbageCollector",yN=1048576;function iS([n,t],[e,s]){const o=Lt(n,e);return o===0?Lt(t,s):o}class vN{constructor(t){this.Pr=t,this.buffer=new ze(iS),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();iS(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class _N{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ht(nS,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){tl(e)?ht(nS,"Ignoring IndexedDB error during garbage collection: ",e):await Jo(e)}await this.Ar(3e5)}))}}class TN{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((s=>Math.floor(e/100*s)))}nthSequenceNumber(t,e){if(e===0)return it.resolve(Xf.ce);const s=new vN(e);return this.Vr.forEachTarget(t,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(t,e,s){return this.Vr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(eS)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eS):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let s,o,u,c,d,p,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,d=Date.now(),this.removeTargets(t,s,e)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(g=Date.now(),bo()<=kt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-y}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function EN(n,t){return new TN(n,t)}class SN{constructor(){this.changes=new Va((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Ke.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?it.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class AN{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class bN{constructor(t,e,s,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(s!==null&&wu(s.mutation,o,On.empty(),re.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.getLocalViewOfDocuments(t,s,Ut()).next((()=>s))))}getLocalViewOfDocuments(t,e,s=Ut()){const o=Ta();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,s).next((u=>{let c=gu();return u.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const s=Ta();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,Ut())))}populateOverlays(t,e,s){const o=[];return s.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,d)=>{e.set(c,d)}))}))}computeViews(t,e,s,o){let u=ws();const c=bu(),d=(function(){return bu()})();return e.forEach(((p,g)=>{const y=s.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof Pr)?u=u.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),wu(y.mutation,g,y.mutation.getFieldMask(),re.now())):c.set(g.key,On.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,y)=>c.set(g,y))),e.forEach(((g,y)=>d.set(g,new AN(y,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,e){const s=bu();let o=new he(((c,d)=>c-d)),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=e.get(p);if(g===null)return;let y=s.get(p)||On.empty();y=d.applyToLocalView(g,y),s.set(p,y);const T=(o.get(d.batchId)||Ut()).add(p);o=o.insert(d.batchId,T)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,y=p.value,T=p1();y.forEach((S=>{if(!u.has(S)){const C=E1(e.get(S),s.get(S));C!==null&&T.set(S,C),u=u.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,T))}return it.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,e,s,o){return RM(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):c1(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,o):this.getDocumentsMatchingCollectionQuery(t,e,s,o)}getNextDocuments(t,e,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,o-u.size):it.resolve(Ta());let d=Nu,p=u;return c.next((g=>it.forEach(g,((y,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(y)?it.resolve():this.remoteDocumentCache.getEntry(t,y).next((S=>{p=p.insert(y,S)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Ut()))).next((y=>({batchId:d,changes:m1(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new yt(e)).next((s=>{let o=gu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,s,o){const u=e.collectionGroup;let c=gu();return this.indexManager.getCollectionParents(t,u).next((d=>it.forEach(d,(p=>{const g=(function(T,S){return new el(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(e,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((y=>{y.forEach(((T,S)=>{c=c.insert(T,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,u,o)))).next((c=>{u.forEach(((p,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,Ke.newInvalidDocument(y)))}));let d=gu();return c.forEach(((p,g)=>{const y=u.get(p);y!==void 0&&wu(y.mutation,g,On.empty(),re.now()),Jf(e,g)&&(d=d.insert(p,g))})),d}))}}class wN{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return it.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:Pn(o.createTime)}})(e)),it.resolve()}getNamedQuery(t,e){return it.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(o){return{name:o.name,query:mN(o.bundledQuery),readTime:Pn(o.readTime)}})(e)),it.resolve()}}class RN{constructor(){this.overlays=new he(yt.comparator),this.Lr=new Map}getOverlay(t,e){return it.resolve(this.overlays.get(e))}getOverlays(t,e){const s=Ta();return it.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,e,s){return s.forEach(((o,u)=>{this.bt(t,e,u)})),it.resolve()}removeOverlaysForBatchId(t,e,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),it.resolve()}getOverlaysForCollection(t,e,s){const o=Ta(),u=e.length+1,c=new yt(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return it.resolve(o)}getOverlaysForCollectionGroup(t,e,s,o){let u=new he(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>s){let y=u.get(g.largestBatchId);y===null&&(y=Ta(),u=u.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=Ta(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,y)=>d.set(g,y))),!(d.size()>=o)););return it.resolve(d)}bt(t,e,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new GM(e,s));let u=this.Lr.get(e);u===void 0&&(u=Ut(),this.Lr.set(e,u)),this.Lr.set(e,u.add(s.key))}}class CN{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,it.resolve()}}class py{constructor(){this.kr=new ze(Ge.Kr),this.qr=new ze(Ge.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const s=new Ge(t,e);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,e){t.forEach((s=>this.addReference(s,e)))}removeReference(t,e){this.Wr(new Ge(t,e))}Qr(t,e){t.forEach((s=>this.removeReference(s,e)))}Gr(t){const e=new yt(new te([])),s=new Ge(e,t),o=new Ge(e,t+1),u=[];return this.qr.forEachInRange([s,o],(c=>{this.Wr(c),u.push(c.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new yt(new te([])),s=new Ge(e,t),o=new Ge(e,t+1);let u=Ut();return this.qr.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const e=new Ge(t,0),s=this.kr.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class Ge{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return yt.comparator(t.key,e.key)||Lt(t.Hr,e.Hr)}static Ur(t,e){return Lt(t.Hr,e.Hr)||yt.comparator(t.key,e.key)}}class IN{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new ze(Ge.Kr)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new HM(u,e,s,o);this.mutationQueue.push(c);for(const d of o)this.Jr=this.Jr.add(new Ge(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return it.resolve(c)}lookupMutationBatch(t,e){return it.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,o=this.Xr(s),u=o<0?0:o;return it.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?ay:this.Yn-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new Ge(e,0),o=new Ge(e,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(c=>{const d=this.Zr(c.Hr);u.push(d)})),it.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new ze(Lt);return e.forEach((o=>{const u=new Ge(o,0),c=new Ge(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,c],(d=>{s=s.add(d.Hr)}))})),it.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,o=s.length+1;let u=s;yt.isDocumentKey(u)||(u=u.child(""));const c=new Ge(new yt(u),0);let d=new ze(Lt);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Hr)),!0)}),c),it.resolve(this.Yr(d))}Yr(t){const e=[];return t.forEach((s=>{const o=this.Zr(s);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){Ft(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return it.forEach(e.mutations,(o=>{const u=new Ge(o.key,e.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,e){const s=new Ge(e,0),o=this.Jr.firstAfterOrEqual(s);return it.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class xN{constructor(t){this.ti=t,this.docs=(function(){return new he(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,o=this.docs.get(s),u=o?o.size:0,c=this.ti(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return it.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(e))}getEntries(t,e){let s=ws();return e.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ke.newInvalidDocument(o))})),it.resolve(s)}getDocumentsMatchingQuery(t,e,s,o){let u=ws();const c=e.path,d=new yt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:y}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||nM(eM(y),s)<=0||(o.has(y.key)||Jf(e,y))&&(u=u.insert(y.key,y.mutableCopy()))}return it.resolve(u)}getAllFromCollectionGroup(t,e,s,o){_t(9500)}ni(t,e){return it.forEach(this.docs,(s=>e(s)))}newChangeBuffer(t){return new DN(this)}getSize(t){return it.resolve(this.size)}}class DN extends SN{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?e.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(s)})),it.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class VN{constructor(t){this.persistence=t,this.ri=new Va((e=>uy(e)),cy),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ii=0,this.si=new py,this.targetCount=0,this.oi=Go._r()}forEachTarget(t,e){return this.ri.forEach(((s,o)=>e(o))),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.ii&&(this.ii=e),it.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new Go(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,it.resolve()}updateTargetData(t,e){return this.lr(e),it.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,e,s){let o=0;const u=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=e&&s.get(d.targetId)===null&&(this.ri.delete(c),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)})),it.waitFor(u).next((()=>o))}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,e){const s=this.ri.get(e)||null;return it.resolve(s)}addMatchingKeys(t,e,s){return this.si.$r(e,s),it.resolve()}removeMatchingKeys(t,e,s){this.si.Qr(e,s);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),it.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),it.resolve()}getMatchingKeysForTargetId(t,e){const s=this.si.jr(e);return it.resolve(s)}containsKey(t,e){return it.resolve(this.si.containsKey(e))}}class U1{constructor(t,e){this._i={},this.overlays={},this.ai=new Xf(0),this.ui=!1,this.ui=!0,this.ci=new CN,this.referenceDelegate=t(this),this.li=new VN(this),this.indexManager=new pN,this.remoteDocumentCache=(function(o){return new xN(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new dN(e),this.Pi=new wN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new RN,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this._i[t.toKey()];return s||(s=new IN(e,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,s){ht("MemoryPersistence","Starting transaction:",t);const o=new MN(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,e){return it.or(Object.values(this._i).map((s=>()=>s.containsKey(t,e))))}}class MN extends sM{constructor(t){super(),this.currentSequenceNumber=t}}class gy{constructor(t){this.persistence=t,this.Ri=new py,this.Ai=null}static Vi(t){return new gy(t)}get di(){if(this.Ai)return this.Ai;throw _t(60996)}addReference(t,e,s){return this.Ri.addReference(s,e),this.di.delete(s.toString()),it.resolve()}removeReference(t,e,s){return this.Ri.removeReference(s,e),this.di.add(s.toString()),it.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),it.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.di,(s=>{const o=yt.fromPath(s);return this.mi(t,o).next((u=>{u||e.removeEntry(o,Et.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((s=>{s?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return it.or([()=>it.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class If{constructor(t,e){this.persistence=t,this.fi=new Va((s=>oM(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=EN(this,e)}static Vi(t,e){return new If(t,e)}Ti(){}Ii(t){return it.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>e.next((o=>s+o))))}pr(t){let e=0;return this.mr(t,(s=>{e++})).next((()=>e))}mr(t,e){return it.forEach(this.fi,((s,o)=>this.wr(t,s,o).next((u=>u?it.resolve():e(o)))))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(c=>this.wr(t,c,e).next((d=>{d||(s++,u.removeEntry(c,Et.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),it.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.fi.set(s,t.currentSequenceNumber),it.resolve()}removeReference(t,e,s){return this.fi.set(s,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),it.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=nf(t.data.value)),e}wr(t,e,s){return it.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.fi.get(e);return it.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class yy{constructor(t,e,s,o){this.targetId=t,this.fromCache=e,this.Ts=s,this.Is=o}static Es(t,e){let s=Ut(),o=Ut();for(const u of e.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new yy(t,e.fromCache,s,o)}}class NN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class ON{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Sx()?8:rM(un())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,s,o){const u={result:null};return this.gs(t,e).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ps(t,e,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new NN;return this.ys(t,e,c).next((d=>{if(u.result=d,this.As)return this.ws(t,e,c,d.size)}))})).next((()=>u.result))}ws(t,e,s,o){return s.documentReadCount<this.Vs?(bo()<=kt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",wo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),it.resolve()):(bo()<=kt.DEBUG&&ht("QueryEngine","Query:",wo(e),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(bo()<=kt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",wo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ki(e))):it.resolve())}gs(t,e){if(GE(e))return it.resolve(null);let s=Ki(e);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=fg(e,null,"F"),s=Ki(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const c=Ut(...u);return this.fs.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.bs(e,d);return this.Ss(e,g,c,p.readTime)?this.gs(t,fg(e,null,"F")):this.Ds(t,g,e,p)}))))})))))}ps(t,e,s,o){return GE(e)||o.isEqual(Et.min())?it.resolve(null):this.fs.getDocuments(t,s).next((u=>{const c=this.bs(e,u);return this.Ss(e,c,s,o)?it.resolve(null):(bo()<=kt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wo(e)),this.Ds(t,c,e,tM(o,Nu)).next((d=>d)))}))}bs(t,e){let s=new ze(f1(t));return e.forEach(((o,u)=>{Jf(t,u)&&(s=s.add(u))})),s}Ss(t,e,s,o){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,e,s){return bo()<=kt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",wo(e)),this.fs.getDocumentsMatchingQuery(t,e,Rr.min(),s)}Ds(t,e,s,o){return this.fs.getDocumentsMatchingQuery(t,s,o).next((u=>(e.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const vy="LocalStore",PN=3e8;class kN{constructor(t,e,s,o){this.persistence=t,this.Cs=e,this.serializer=o,this.vs=new he(Lt),this.Fs=new Va((u=>uy(u)),cy),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new bN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function LN(n,t,e,s){return new kN(n,t,e,s)}async function B1(n,t){const e=bt(n);return await e.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return e.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,e.Os(t),e.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],d=[];let p=Ut();for(const g of o){c.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}for(const g of u){d.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}return e.localDocuments.getDocuments(s,p).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function UN(n,t){const e=bt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=e.xs.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,y){const T=g.batch,S=T.keys();let C=it.resolve();return S.forEach((P=>{C=C.next((()=>y.getEntry(p,P))).next((U=>{const z=g.docVersions.get(P);Ft(z!==null,48541),U.version.compareTo(z)<0&&(T.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),y.addEntry(U)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(p,T)))})(e,s,t,u).next((()=>u.apply(s))).next((()=>e.mutationQueue.performConsistencyCheck(s))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=Ut();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(t)))).next((()=>e.localDocuments.getDocuments(s,o)))}))}function z1(n){const t=bt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function BN(n,t){const e=bt(n),s=t.snapshotVersion;let o=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=e.xs.newChangeBuffer({trackRemovals:!0});o=e.vs;const d=[];t.targetChanges.forEach(((y,T)=>{const S=o.get(T);if(!S)return;d.push(e.li.removeMatchingKeys(u,y.removedDocuments,T).next((()=>e.li.addMatchingKeys(u,y.addedDocuments,T))));let C=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?C=C.withResumeToken(nn.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,s)),o=o.insert(T,C),(function(U,z,X){return U.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=PN?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(S,C,y)&&d.push(e.li.updateTargetData(u,C))}));let p=ws(),g=Ut();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(u,y))})),d.push(zN(u,c,t.documentUpdates).next((y=>{p=y.Bs,g=y.Ls}))),!s.isEqual(Et.min())){const y=e.li.getLastRemoteSnapshotVersion(u).next((T=>e.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));d.push(y)}return it.waitFor(d).next((()=>c.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(e.vs=o,u)))}function zN(n,t,e){let s=Ut(),o=Ut();return e.forEach((u=>s=s.add(u))),t.getEntries(n,s).next((u=>{let c=ws();return e.forEach(((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Et.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):ht(vy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{Bs:c,Ls:o}}))}function jN(n,t){const e=bt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=ay),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function FN(n,t){const e=bt(n);return e.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return e.li.getTargetData(s,t).next((u=>u?(o=u,it.resolve(o)):e.li.allocateTargetId(s).next((c=>(o=new pr(t,c,"TargetPurposeListen",s.currentSequenceNumber),e.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=e.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.vs=e.vs.insert(s.targetId,s),e.Fs.set(t,s.targetId)),s}))}async function gg(n,t,e){const s=bt(n),o=s.vs.get(t),u=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!tl(c))throw c;ht(vy,`Failed to update sequence numbers for target ${t}: ${c}`)}s.vs=s.vs.remove(t),s.Fs.delete(o.target)}function sS(n,t,e){const s=bt(n);let o=Et.min(),u=Ut();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,y){const T=bt(p),S=T.Fs.get(y);return S!==void 0?it.resolve(T.vs.get(S)):T.li.getTargetData(g,y)})(s,c,Ki(t)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(c,d.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,t,e?o:Et.min(),e?u:Ut()))).next((d=>(qN(s,xM(t),d),{documents:d,ks:u})))))}function qN(n,t,e){let s=n.Ms.get(t)||Et.min();e.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),n.Ms.set(t,s)}class rS{constructor(){this.activeTargetIds=PM()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class HN{constructor(){this.vo=new rS,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,s){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new rS,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class GN{Mo(t){}shutdown(){}}const aS="ConnectivityMonitor";class oS{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ht(aS,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ht(aS,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Gh=null;function yg(){return Gh===null?Gh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gh++,"0x"+Gh.toString(16)}const Vp="RestConnection",KN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class YN{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Sf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,e,s,o,u){const c=yg(),d=this.Qo(t,e.toUriEncodedString());ht(Vp,`Sending RPC '${t}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:g}=new URL(d),y=Xo(g);return this.zo(t,d,p,s,y).then((T=>(ht(Vp,`Received RPC '${t}' ${c}: `,T),T)),(T=>{throw jo(Vp,`RPC '${t}' ${c} failed with error: `,T,"url: ",d,"request:",s),T}))}jo(t,e,s,o,u,c){return this.Wo(t,e,s,o,u)}Go(t,e,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}Qo(t,e){const s=KN[t];let o=`${this.qo}/v1/${e}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class QN{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const rn="WebChannelConnection",du=(n,t,e)=>{n.listen(t,(s=>{try{e(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Lo extends YN{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Lo.c_){const t=Fb();du(t,jb.STAT_EVENT,(e=>{e.stat===rg.PROXY?ht(rn,"STAT_EVENT: detected buffering proxy"):e.stat===rg.NOPROXY&&ht(rn,"STAT_EVENT: detected no buffering proxy")})),Lo.c_=!0}}zo(t,e,s,o,u){const c=yg();return new Promise(((d,p)=>{const g=new Bb;g.setWithCredentials(!0),g.listenOnce(zb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case ef.NO_ERROR:const T=g.getResponseJson();ht(rn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),d(T);break;case ef.TIMEOUT:ht(rn,`RPC '${t}' ${c} timed out`),p(new ut(J.DEADLINE_EXCEEDED,"Request time out"));break;case ef.HTTP_ERROR:const S=g.getStatus();if(ht(rn,`RPC '${t}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const P=C?.error;if(P&&P.status&&P.message){const U=(function(X){const K=X.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(K)>=0?K:J.UNKNOWN})(P.status);p(new ut(U,P.message))}else p(new ut(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ut(J.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ht(rn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(o);ht(rn,`RPC '${t}' ${c} sending request:`,o),g.send(e,"POST",y,s,15)}))}T_(t,e,s){const o=yg(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,e,s),d.encodeInitMessageHeaders=!0;const g=u.join("");ht(rn,`Creating RPC '${t}' stream ${o}: ${g}`,d);const y=c.createWebChannel(g,d);this.I_(y);let T=!1,S=!1;const C=new QN({Ho:P=>{S?ht(rn,`Not sending because RPC '${t}' stream ${o} is closed:`,P):(T||(ht(rn,`Opening RPC '${t}' stream ${o} transport.`),y.open(),T=!0),ht(rn,`RPC '${t}' stream ${o} sending:`,P),y.send(P))},Jo:()=>y.close()});return du(y,pu.EventType.OPEN,(()=>{S||(ht(rn,`RPC '${t}' stream ${o} transport opened.`),C.i_())})),du(y,pu.EventType.CLOSE,(()=>{S||(S=!0,ht(rn,`RPC '${t}' stream ${o} transport closed`),C.o_(),this.E_(y))})),du(y,pu.EventType.ERROR,(P=>{S||(S=!0,jo(rn,`RPC '${t}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),C.o_(new ut(J.UNAVAILABLE,"The operation could not be completed")))})),du(y,pu.EventType.MESSAGE,(P=>{if(!S){const U=P.data[0];Ft(!!U,16349);const z=U,X=z?.error||z[0]?.error;if(X){ht(rn,`RPC '${t}' stream ${o} received error:`,X);const K=X.status;let G=(function(ot){const I=Ve[ot];if(I!==void 0)return w1(I)})(K),st=X.message;G===void 0&&(G=J.INTERNAL,st="Unknown error status: "+K+" with message "+X.message),S=!0,C.o_(new ut(G,st)),y.close()}else ht(rn,`RPC '${t}' stream ${o} received:`,U),C.__(U)}})),Lo.u_(),setTimeout((()=>{C.s_()}),0),C}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,s){super.Go(t,e,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return qb()}}function XN(n){return new Lo(n)}function Mp(){return typeof document<"u"?document:null}function sd(n){return new JM(n,!0)}Lo.c_=!1;class _y{constructor(t,e,s=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=e,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-s);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const lS="PersistentStream";class j1{constructor(t,e,s,o,u,c,d,p){this.Ci=t,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _y(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===J.RESOURCE_EXHAUSTED?(bs(e.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===e&&this.G_(s,o)}),(s=>{t((()=>{const o=new ut(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,e){const s=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(lS,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(ht(lS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $N extends j1{constructor(t,e,s,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,o,c),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=iN(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Et.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Et.min():c.readTime?Pn(c.readTime):Et.min()})(t);return this.listener.J_(e,s)}Z_(t){const e={};e.database=pg(this.serializer),e.addTarget=(function(u,c){let d;const p=c.target;if(d=cg(p)?{documents:rN(u,p)}:{query:aN(u,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=I1(u,c.resumeToken);const g=dg(u,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Et.min())>0){d.readTime=Rf(u,c.snapshotVersion.toTimestamp());const g=dg(u,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const s=lN(this.serializer,t);s&&(e.labels=s),this.K_(e)}X_(t){const e={};e.database=pg(this.serializer),e.removeTarget=t,this.K_(e)}}class WN extends j1{constructor(t,e,s,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,o,c),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=sN(t.writeResults,t.commitTime),s=Pn(t.commitTime);return this.listener.na(s,e)}ra(){const t={};t.database=pg(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((s=>M1(this.serializer,s)))};this.K_(e)}}class ZN{}class JN extends ZN{constructor(t,e,s,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Wo(t,mg(e,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ut(J.UNKNOWN,u.toString())}))}jo(t,e,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(t,mg(e,s),o,c,d,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(J.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function tO(n,t,e,s){return new JN(n,t,e,s)}class eO{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bs(e),this.aa=!1):ht("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const xa="RemoteStore";class nO{constructor(t,e,s,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((c=>{s.enqueueAndForget((async()=>{Ma(this)&&(ht(xa,"Restarting streams for network reachability change."),await(async function(p){const g=bt(p);g.Ea.add(4),await ic(g),g.Va.set("Unknown"),g.Ea.delete(4),await rd(g)})(this))}))})),this.Va=new eO(s,o)}}async function rd(n){if(Ma(n))for(const t of n.Ra)await t(!0)}async function ic(n){for(const t of n.Ra)await t(!1)}function F1(n,t){const e=bt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Ay(e)?Sy(e):nl(e).O_()&&Ey(e,t))}function Ty(n,t){const e=bt(n),s=nl(e);e.Ia.delete(t),s.O_()&&q1(e,t),e.Ia.size===0&&(s.O_()?s.L_():Ma(e)&&e.Va.set("Unknown"))}function Ey(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}nl(n).Z_(t)}function q1(n,t){n.da.$e(t),nl(n).X_(t)}function Sy(n){n.da=new XM({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),nl(n).start(),n.Va.ua()}function Ay(n){return Ma(n)&&!nl(n).x_()&&n.Ia.size>0}function Ma(n){return bt(n).Ea.size===0}function H1(n){n.da=void 0}async function iO(n){n.Va.set("Online")}async function sO(n){n.Ia.forEach(((t,e)=>{Ey(n,t)}))}async function rO(n,t){H1(n),Ay(n)?(n.Va.ha(t),Sy(n)):n.Va.set("Unknown")}async function aO(n,t,e){if(n.Va.set("Online"),t instanceof C1&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.da.removeTarget(d))})(n,t)}catch(s){ht(xa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await xf(n,s)}else if(t instanceof af?n.da.Xe(t):t instanceof R1?n.da.st(t):n.da.tt(t),!e.isEqual(Et.min()))try{const s=await z1(n.localStore);e.compareTo(s)>=0&&await(function(u,c){const d=u.da.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const y=u.Ia.get(g);y&&u.Ia.set(g,y.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const y=u.Ia.get(p);if(!y)return;u.Ia.set(p,y.withResumeToken(nn.EMPTY_BYTE_STRING,y.snapshotVersion)),q1(u,p);const T=new pr(y.target,p,g,y.sequenceNumber);Ey(u,T)})),u.remoteSyncer.applyRemoteEvent(d)})(n,e)}catch(s){ht(xa,"Failed to raise snapshot:",s),await xf(n,s)}}async function xf(n,t,e){if(!tl(t))throw t;n.Ea.add(1),await ic(n),n.Va.set("Offline"),e||(e=()=>z1(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ht(xa,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await rd(n)}))}function G1(n,t){return t().catch((e=>xf(n,e,t)))}async function ad(n){const t=bt(n),e=Dr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ay;for(;oO(t);)try{const o=await jN(t.localStore,s);if(o===null){t.Ta.length===0&&e.L_();break}s=o.batchId,lO(t,o)}catch(o){await xf(t,o)}K1(t)&&Y1(t)}function oO(n){return Ma(n)&&n.Ta.length<10}function lO(n,t){n.Ta.push(t);const e=Dr(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function K1(n){return Ma(n)&&!Dr(n).x_()&&n.Ta.length>0}function Y1(n){Dr(n).start()}async function uO(n){Dr(n).ra()}async function cO(n){const t=Dr(n);for(const e of n.Ta)t.ea(e.mutations)}async function hO(n,t,e){const s=n.Ta.shift(),o=fy.from(s,t,e);await G1(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await ad(n)}async function fO(n,t){t&&Dr(n).Y_&&await(async function(s,o){if((function(c){return b1(c)&&c!==J.ABORTED})(o.code)){const u=s.Ta.shift();Dr(s).B_(),await G1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await ad(s)}})(n,t),K1(n)&&Y1(n)}async function uS(n,t){const e=bt(n);e.asyncQueue.verifyOperationInProgress(),ht(xa,"RemoteStore received new credentials");const s=Ma(e);e.Ea.add(3),await ic(e),s&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await rd(e)}async function dO(n,t){const e=bt(n);t?(e.Ea.delete(2),await rd(e)):t||(e.Ea.add(2),await ic(e),e.Va.set("Unknown"))}function nl(n){return n.ma||(n.ma=(function(e,s,o){const u=bt(e);return u.sa(),new $N(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Zo:iO.bind(null,n),Yo:sO.bind(null,n),t_:rO.bind(null,n),J_:aO.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),Ay(n)?Sy(n):n.Va.set("Unknown")):(await n.ma.stop(),H1(n))}))),n.ma}function Dr(n){return n.fa||(n.fa=(function(e,s,o){const u=bt(e);return u.sa(),new WN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:uO.bind(null,n),t_:fO.bind(null,n),ta:cO.bind(null,n),na:hO.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await ad(n)):(await n.fa.stop(),n.Ta.length>0&&(ht(xa,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class by{constructor(t,e,s,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,o,u){const c=Date.now()+s,d=new by(t,e,c,o,u);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wy(n,t){if(bs("AsyncQueue",`${t}: ${n}`),tl(n))return new ut(J.UNAVAILABLE,`${t}: ${n}`);throw n}class Uo{static emptySet(t){return new Uo(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||yt.comparator(e.key,s.key):(e,s)=>yt.comparator(e.key,s.key),this.keyedMap=gu(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,s)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Uo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new Uo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}class cS{constructor(){this.ga=new he(yt.comparator)}track(t){const e=t.doc.key,s=this.ga.get(e);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(e,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(e):t.type===1&&s.type===2?this.ga=this.ga.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):_t(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,s)=>{t.push(s)})),t}}class Ko{constructor(t,e,s,o,u,c,d,p,g){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,s,o,u){const c=[];return e.forEach((d=>{c.push({type:0,doc:d})})),new Ko(t,e,Uo.emptySet(e),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Zf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==s[o].type||!e[o].doc.isEqual(s[o].doc))return!1;return!0}}class mO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class pO{constructor(){this.queries=hS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const o=bt(e),u=o.queries;o.queries=hS(),u.forEach(((c,d)=>{for(const p of d.ba)p.onError(s)}))})(this,new ut(J.ABORTED,"Firestore shutting down"))}}function hS(){return new Va((n=>h1(n)),Zf)}async function Ry(n,t){const e=bt(n);let s=3;const o=t.query;let u=e.queries.get(o);u?!u.Sa()&&t.Da()&&(s=2):(u=new mO,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(c){const d=wy(c,`Initialization of query '${wo(t.query)}' failed`);return void t.onError(d)}e.queries.set(o,u),u.ba.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&Iy(e)}async function Cy(n,t){const e=bt(n),s=t.query;let o=3;const u=e.queries.get(s);if(u){const c=u.ba.indexOf(t);c>=0&&(u.ba.splice(c,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function gO(n,t){const e=bt(n);let s=!1;for(const o of t){const u=o.query,c=e.queries.get(u);if(c){for(const d of c.ba)d.Fa(o)&&(s=!0);c.wa=o}}s&&Iy(e)}function yO(n,t,e){const s=bt(n),o=s.queries.get(t);if(o)for(const u of o.ba)u.onError(e);s.queries.delete(t)}function Iy(n){n.Ca.forEach((t=>{t.next()}))}var vg,fS;(fS=vg||(vg={})).Ma="default",fS.Cache="cache";class xy{constructor(t,e,s){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Ko(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const s=e!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Ko.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==vg.Cache}}class Q1{constructor(t){this.key=t}}class X1{constructor(t){this.key=t}}class vO{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ut(),this.mutatedKeys=Ut(),this.eu=f1(t),this.tu=new Uo(this.eu)}get nu(){return this.Za}ru(t,e){const s=e?e.iu:new cS,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((y,T)=>{const S=o.get(y),C=Jf(this.query,T)?T:null,P=!!S&&this.mutatedKeys.has(S.key),U=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let z=!1;S&&C?S.data.isEqual(C.data)?P!==U&&(s.track({type:3,doc:C}),z=!0):this.su(S,C)||(s.track({type:2,doc:C}),z=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(d=!0)):!S&&C?(s.track({type:0,doc:C}),z=!0):S&&!C&&(s.track({type:1,doc:S}),z=!0,(p||g)&&(d=!0)),z&&(C?(c=c.add(C),u=U?u.add(y):u.delete(y)):(c=c.delete(y),u=u.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),u=u.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Ss:d,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,T)=>(function(C,P){const U=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Vt:z})}};return U(C)-U(P)})(y.type,T.type)||this.eu(y.doc,T.doc))),this.ou(s),o=o??!1;const d=e&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,c.length!==0||g?{snapshot:new Ko(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cS,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ut(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const e=[];return t.forEach((s=>{this.Ya.has(s)||e.push(new X1(s))})),this.Ya.forEach((s=>{t.has(s)||e.push(new Q1(s))})),e}cu(t){this.Za=t.ks,this.Ya=Ut();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Ko.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Dy="SyncEngine";class _O{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class TO{constructor(t){this.key=t,this.hu=!1}}class EO{constructor(t,e,s,o,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Va((d=>h1(d)),Zf),this.Iu=new Map,this.Eu=new Set,this.Ru=new he(yt.comparator),this.Au=new Map,this.Vu=new py,this.du={},this.mu=new Map,this.fu=Go.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SO(n,t,e=!0){const s=ew(n);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await $1(s,t,e,!0),o}async function AO(n,t){const e=ew(n);await $1(e,t,!0,!1)}async function $1(n,t,e,s){const o=await FN(n.localStore,Ki(t)),u=o.targetId,c=n.sharedClientState.addLocalQueryTarget(u,e);let d;return s&&(d=await bO(n,t,u,c==="current",o.resumeToken)),n.isPrimaryClient&&e&&F1(n.remoteStore,o),d}async function bO(n,t,e,s,o){n.pu=(T,S,C)=>(async function(U,z,X,K){let G=z.view.ru(X);G.Ss&&(G=await sS(U.localStore,z.query,!1).then((({documents:I})=>z.view.ru(I,G))));const st=K&&K.targetChanges.get(z.targetId),at=K&&K.targetMismatches.get(z.targetId)!=null,ot=z.view.applyChanges(G,U.isPrimaryClient,st,at);return mS(U,z.targetId,ot.au),ot.snapshot})(n,T,S,C);const u=await sS(n.localStore,t,!0),c=new vO(t,u.ks),d=c.ru(u.documents),p=nc.createSynthesizedTargetChangeForCurrentChange(e,s&&n.onlineState!=="Offline",o),g=c.applyChanges(d,n.isPrimaryClient,p);mS(n,e,g.au);const y=new _O(t,e,c);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),g.snapshot}async function wO(n,t,e){const s=bt(n),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!Zf(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await gg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),e&&Ty(s.remoteStore,o.targetId),_g(s,o.targetId)})).catch(Jo)):(_g(s,o.targetId),await gg(s.localStore,o.targetId,!0))}async function RO(n,t){const e=bt(n),s=e.Tu.get(t),o=e.Iu.get(s.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),Ty(e.remoteStore,s.targetId))}async function CO(n,t,e){const s=OO(n);try{const o=await(function(c,d){const p=bt(c),g=re.now(),y=d.reduce(((C,P)=>C.add(P.key)),Ut());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let P=ws(),U=Ut();return p.xs.getEntries(C,y).next((z=>{P=z,P.forEach(((X,K)=>{K.isValidDocument()||(U=U.add(X))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,P))).next((z=>{T=z;const X=[];for(const K of d){const G=qM(K,T.get(K.key).overlayedDocument);G!=null&&X.push(new Pr(K.key,G,i1(G.value.mapValue),on.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,X,d)})).next((z=>{S=z;const X=z.applyToLocalDocumentSet(T,U);return p.documentOverlayCache.saveOverlays(C,z.batchId,X)}))})).then((()=>({batchId:S.batchId,changes:m1(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let g=c.du[c.currentUser.toKey()];g||(g=new he(Lt)),g=g.insert(d,p),c.du[c.currentUser.toKey()]=g})(s,o.batchId,e),await sc(s,o.changes),await ad(s.remoteStore)}catch(o){const u=wy(o,"Failed to persist write");e.reject(u)}}async function W1(n,t){const e=bt(n);try{const s=await BN(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=e.Au.get(u);c&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Ft(c.hu,14607):o.removedDocuments.size>0&&(Ft(c.hu,42227),c.hu=!1))})),await sc(e,s,t)}catch(s){await Jo(s)}}function dS(n,t,e){const s=bt(n);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const o=[];s.Tu.forEach(((u,c)=>{const d=c.view.va(t);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=bt(c);p.onlineState=d;let g=!1;p.queries.forEach(((y,T)=>{for(const S of T.ba)S.va(d)&&(g=!0)})),g&&Iy(p)})(s.eventManager,t),o.length&&s.Pu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function IO(n,t,e){const s=bt(n);s.sharedClientState.updateQueryState(t,"rejected",e);const o=s.Au.get(t),u=o&&o.key;if(u){let c=new he(yt.comparator);c=c.insert(u,Ke.newNoDocument(u,Et.min()));const d=Ut().add(u),p=new id(Et.min(),new Map,new he(Lt),c,d);await W1(s,p),s.Ru=s.Ru.remove(u),s.Au.delete(t),Vy(s)}else await gg(s.localStore,t,!1).then((()=>_g(s,t,e))).catch(Jo)}async function xO(n,t){const e=bt(n),s=t.batch.batchId;try{const o=await UN(e.localStore,t);J1(e,s,null),Z1(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await sc(e,o)}catch(o){await Jo(o)}}async function DO(n,t,e){const s=bt(n);try{const o=await(function(c,d){const p=bt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return p.mutationQueue.lookupMutationBatch(g,d).next((T=>(Ft(T!==null,37113),y=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,y,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>p.localDocuments.getDocuments(g,y)))}))})(s.localStore,t);J1(s,t,e),Z1(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await sc(s,o)}catch(o){await Jo(o)}}function Z1(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function J1(n,t,e){const s=bt(n);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),s.du[s.currentUser.toKey()]=o}}function _g(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const s of n.Iu.get(t))n.Tu.delete(s),e&&n.Pu.yu(s,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((s=>{n.Vu.containsKey(s)||tw(n,s)}))}function tw(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&(Ty(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),Vy(n))}function mS(n,t,e){for(const s of e)s instanceof Q1?(n.Vu.addReference(s.key,t),VO(n,s)):s instanceof X1?(ht(Dy,"Document no longer in limbo: "+s.key),n.Vu.removeReference(s.key,t),n.Vu.containsKey(s.key)||tw(n,s.key)):_t(19791,{wu:s})}function VO(n,t){const e=t.key,s=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(s)||(ht(Dy,"New document in limbo: "+e),n.Eu.add(s),Vy(n))}function Vy(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new yt(te.fromString(t)),s=n.fu.next();n.Au.set(s,new TO(e)),n.Ru=n.Ru.insert(e,s),F1(n.remoteStore,new pr(Ki(Wf(e.path)),s,"TargetPurposeLimboResolution",Xf.ce))}}async function sc(n,t,e){const s=bt(n),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{c.push(s.pu(p,t,e).then((g=>{if((g||e)&&s.isPrimaryClient){const y=g?!g.fromCache:e?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(g){o.push(g);const y=yy.Es(p.targetId,g);u.push(y)}})))})),await Promise.all(c),s.Pu.J_(o),await(async function(p,g){const y=bt(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>it.forEach(g,(S=>it.forEach(S.Ts,(C=>y.persistence.referenceDelegate.addReference(T,S.targetId,C))).next((()=>it.forEach(S.Is,(C=>y.persistence.referenceDelegate.removeReference(T,S.targetId,C)))))))))}catch(T){if(!tl(T))throw T;ht(vy,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const C=y.vs.get(S),P=C.snapshotVersion,U=C.withLastLimboFreeSnapshotVersion(P);y.vs=y.vs.insert(S,U)}}})(s.localStore,u))}async function MO(n,t){const e=bt(n);if(!e.currentUser.isEqual(t)){ht(Dy,"User change. New user:",t.toKey());const s=await B1(e.localStore,t);e.currentUser=t,(function(u,c){u.mu.forEach((d=>{d.forEach((p=>{p.reject(new ut(J.CANCELLED,c))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await sc(e,s.Ns)}}function NO(n,t){const e=bt(n),s=e.Au.get(t);if(s&&s.hu)return Ut().add(s.key);{let o=Ut();const u=e.Iu.get(t);if(!u)return o;for(const c of u){const d=e.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function ew(n){const t=bt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=W1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=NO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=IO.bind(null,t),t.Pu.J_=gO.bind(null,t.eventManager),t.Pu.yu=yO.bind(null,t.eventManager),t}function OO(n){const t=bt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=DO.bind(null,t),t}class Df{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=sd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return LN(this.persistence,new ON,t.initialUser,this.serializer)}Cu(t){return new U1(gy.Vi,this.serializer)}Du(t){return new HN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Df.provider={build:()=>new Df};class PO extends Df{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Ft(this.persistence.referenceDelegate instanceof If,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new _N(s,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new U1((s=>If.Vi(s,e)),this.serializer)}}class Tg{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>dS(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=MO.bind(null,this.syncEngine),await dO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new pO})()}createDatastore(t){const e=sd(t.databaseInfo.databaseId),s=XN(t.databaseInfo);return tO(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return(function(s,o,u,c,d){return new nO(s,o,u,c,d)})(this.localStore,this.datastore,t.asyncQueue,(e=>dS(this.syncEngine,e,0)),(function(){return oS.v()?new oS:new GN})())}createSyncEngine(t,e){return(function(o,u,c,d,p,g,y){const T=new EO(o,u,c,d,p,g);return y&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const s=bt(e);ht(xa,"RemoteStore shutting down."),s.Ea.add(5),await ic(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tg.provider={build:()=>new Tg};class My{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):bs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}let kO=class{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ut(J.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const e=await(async function(o,u){const c=bt(o),d={documents:u.map((T=>Cf(c.serializer,T)))},p=await c.jo("BatchGetDocuments",c.serializer.databaseId,te.emptyPath(),d,u.length),g=new Map;p.forEach((T=>{const S=nN(c.serializer,T);g.set(S.key.toString(),S)}));const y=[];return u.forEach((T=>{const S=g.get(T.toString());Ft(!!S,55234,{key:T}),y.push(S)})),y})(this.datastore,t);return e.forEach((s=>this.recordVersion(s))),e}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new nd(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((e=>{t.delete(e.key.toString())})),t.forEach(((e,s)=>{const o=yt.fromPath(s);this.mutations.push(new A1(o,this.precondition(o)))})),await(async function(s,o){const u=bt(s),c={writes:o.map((d=>M1(u.serializer,d)))};await u.Wo("Commit",u.serializer.databaseId,te.emptyPath(),c)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw _t(50498,{Gu:t.constructor.name});e=Et.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!e.isEqual(s))throw new ut(J.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Et.min())?on.exists(!1):on.updateTime(e):on.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Et.min()))throw new ut(J.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return on.updateTime(e)}return on.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}};class LO{constructor(t,e,s,o,u){this.asyncQueue=t,this.datastore=e,this.options=s,this.updateFunction=o,this.deferred=u,this.zu=s.maxAttempts,this.M_=new _y(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const t=new kO(this.datastore),e=this.Ju(t);e&&e.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Zu(o)}))))})).catch((s=>{this.Zu(s)}))}))}Ju(t){try{const e=this.updateFunction(t);return!tc(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Zu(t){this.zu>0&&this.Xu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(t)}Xu(t){if(t?.name==="FirebaseError"){const e=t.code;return e==="aborted"||e==="failed-precondition"||e==="already-exists"||!b1(e)}return!1}}const Vr="FirestoreClient";class UO{constructor(t,e,s,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this._databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=ry.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{ht(Vr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ht(Vr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=wy(e,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Np(n,t){n.asyncQueue.verifyOperationInProgress(),ht(Vr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let s=e.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await B1(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function pS(n,t){n.asyncQueue.verifyOperationInProgress();const e=await BO(n);ht(Vr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((s=>uS(t.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>uS(t.remoteStore,o))),n._onlineComponents=t}async function BO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ht(Vr,"Using user provided OfflineComponentProvider");try{await Np(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;jo("Error using user provided cache. Falling back to memory cache: "+e),await Np(n,new Df)}}else ht(Vr,"Using default OfflineComponentProvider"),await Np(n,new PO(void 0));return n._offlineComponents}async function Ny(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ht(Vr,"Using user provided OnlineComponentProvider"),await pS(n,n._uninitializedComponentsProvider._online)):(ht(Vr,"Using default OnlineComponentProvider"),await pS(n,new Tg))),n._onlineComponents}function zO(n){return Ny(n).then((t=>t.syncEngine))}function jO(n){return Ny(n).then((t=>t.datastore))}async function Vf(n){const t=await Ny(n),e=t.eventManager;return e.onListen=SO.bind(null,t.syncEngine),e.onUnlisten=wO.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=AO.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=RO.bind(null,t.syncEngine),e}function FO(n,t,e,s){const o=new My(s),u=new xy(t,o,e);return n.asyncQueue.enqueueAndForget((async()=>Ry(await Vf(n),u))),()=>{o.Nu(),n.asyncQueue.enqueueAndForget((async()=>Cy(await Vf(n),u)))}}function qO(n,t,e={}){const s=new Hi;return n.asyncQueue.enqueueAndForget((async()=>(function(u,c,d,p,g){const y=new My({next:S=>{y.Nu(),c.enqueueAndForget((()=>Cy(u,T)));const C=S.docs.has(d);!C&&S.fromCache?g.reject(new ut(J.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&S.fromCache&&p&&p.source==="server"?g.reject(new ut(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new xy(Wf(d.path),y,{includeMetadataChanges:!0,Ka:!0});return Ry(u,T)})(await Vf(n),n.asyncQueue,t,e,s))),s.promise}function HO(n,t,e={}){const s=new Hi;return n.asyncQueue.enqueueAndForget((async()=>(function(u,c,d,p,g){const y=new My({next:S=>{y.Nu(),c.enqueueAndForget((()=>Cy(u,T))),S.fromCache&&p.source==="server"?g.reject(new ut(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new xy(d,y,{includeMetadataChanges:!0,Ka:!0});return Ry(u,T)})(await Vf(n),n.asyncQueue,t,e,s))),s.promise}function GO(n,t){const e=new Hi;return n.asyncQueue.enqueueAndForget((async()=>CO(await zO(n),t,e))),e.promise}function KO(n,t,e){const s=new Hi;return n.asyncQueue.enqueueAndForget((async()=>{const o=await jO(n);new LO(n.asyncQueue,o,e,t,s).ju()})),s.promise}function nw(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const YO="ComponentProvider",gS=new Map;function QO(n,t,e,s,o){return new cM(n,t,e,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,nw(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const iw="firestore.googleapis.com",yS=!0;class vS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iw,this.ssl=yS}else this.host=t.host,this.ssl=t.ssl??yS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=L1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<yN)throw new ut(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}JV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nw(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class od{constructor(t,e,s,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new qV;switch(s.type){case"firstParty":return new YV(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const s=gS.get(e);s&&(ht(YO,"Removing Datastore"),gS.delete(e),s.terminate())})(this),Promise.resolve()}}function XO(n,t,e,s={}){n=Gi(n,od);const o=Xo(t),u=n._getSettings(),c={...u,emulatorOptions:n._getEmulatorOptions()},d=`${t}:${e}`;o&&(ZA(`https://${d}`),JA("Firestore",!0)),u.host!==iw&&u.host!==d&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:d,ssl:o,emulatorOptions:s};if(!wa(p,c)&&(n._setSettings(p),s.mockUserToken)){let g,y;if(typeof s.mockUserToken=="string")g=s.mockUserToken,y=an.MOCK_USER;else{g=dx(s.mockUserToken,n._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ut(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new an(T)}n._authCredentials=new HV(new Gb(g,y))}}class kr{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new kr(this.firestore,t,this._query)}}class Ee{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ee(this.firestore,t,this._key)}toJSON(){return{type:Ee._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,s){if(Ju(e,Ee._jsonSchema))return new Ee(t,s||null,new yt(te.fromString(e.referencePath)))}}Ee._jsonSchemaVersion="firestore/documentReference/1.0",Ee._jsonSchema={type:Oe("string",Ee._jsonSchemaVersion),referencePath:Oe("string")};class Ar extends kr{constructor(t,e,s){super(t,e,Wf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ee(this.firestore,null,new yt(t))}withConverter(t){return new Ar(this.firestore,t,this._path)}}function ju(n,t,...e){if(n=je(n),Kb("collection","path",t),n instanceof od){const s=te.fromString(t,...e);return VE(s),new Ar(n,null,s)}{if(!(n instanceof Ee||n instanceof Ar))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(te.fromString(t,...e));return VE(s),new Ar(n.firestore,null,s)}}function Fu(n,t,...e){if(n=je(n),arguments.length===1&&(t=ry.newId()),Kb("doc","path",t),n instanceof od){const s=te.fromString(t,...e);return DE(s),new Ee(n,null,new yt(s))}{if(!(n instanceof Ee||n instanceof Ar))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(te.fromString(t,...e));return DE(s),new Ee(n.firestore,n instanceof Ar?n.converter:null,new yt(s))}}const _S="AsyncQueue";class TS{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _y(this,"async_queue_retry"),this._c=()=>{const s=Mp();s&&ht(_S,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const e=Mp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Mp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Hi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!tl(t))throw t;ht(_S,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,bs("INTERNAL UNHANDLED ERROR: ",ES(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=e,e}enqueueAfterDelay(t,e,s){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=by.createAndSchedule(this,t,e,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:ES(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,s)=>e.targetTimeMs-s.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function ES(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Da extends od{constructor(t,e,s,o){super(t,e,s,o),this.type="firestore",this._queue=new TS,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new TS(t),this._firestoreClient=void 0,await t}}}function $O(n,t){const e=typeof n=="object"?n:ib(),s=typeof n=="string"?n:Sf,o=$g(e,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=hx("firestore");u&&XO(o,...u)}return o}function il(n){if(n._terminated)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||WO(n),n._firestoreClient}function WO(n){const t=n._freezeSettings(),e=QO(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new UO(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(n._componentsProvider))}class Nn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Nn(nn.fromBase64String(t))}catch(e){throw new ut(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Nn(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ju(t,Nn._jsonSchema))return Nn.fromBase64String(t.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:Oe("string",Nn._jsonSchemaVersion),bytes:Oe("string")};class ld{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ut(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ud{constructor(t){this._methodName=t}}class Yi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ut(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ut(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yi._jsonSchemaVersion}}static fromJSON(t){if(Ju(t,Yi._jsonSchema))return new Yi(t.latitude,t.longitude)}}Yi._jsonSchemaVersion="firestore/geoPoint/1.0",Yi._jsonSchema={type:Oe("string",Yi._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};class pi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ju(t,pi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new pi(t.vectorValues);throw new ut(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pi._jsonSchemaVersion="firestore/vectorValue/1.0",pi._jsonSchema={type:Oe("string",pi._jsonSchemaVersion),vectorValues:Oe("object")};const ZO=/^__.*__$/;class JO{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new Pr(t,this.data,this.fieldMask,e,this.fieldTransforms):new ec(t,this.data,e,this.fieldTransforms)}}class sw{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return new Pr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function rw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{dataSource:n})}}class Oy{constructor(t,e,s,o,u,c){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Oy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),s=this.contextWith({path:e,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const e=this.path?.child(t),s=this.contextWith({path:e,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Mf(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(rw(this.dataSource)&&ZO.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class tP{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||sd(t)}createContext(t,e,s,o=!1){return new Oy({dataSource:t,methodName:e,targetDoc:s,path:en.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Py(n){const t=n._freezeSettings(),e=sd(n._databaseId);return new tP(n._databaseId,!!t.ignoreUndefinedProperties,e)}function aw(n,t,e,s,o,u={}){const c=n.createContext(u.merge||u.mergeFields?2:0,t,e,o);Ly("Data must be an object, but it was:",c,s);const d=uw(s,c);let p,g;if(u.merge)p=new On(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const y=[];for(const T of u.mergeFields){const S=Yo(t,T,e);if(!c.contains(S))throw new ut(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);fw(y,S)||y.push(S)}p=new On(y),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new JO(new dn(d),p,g)}class cd extends ud{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof cd}}class ky extends ud{_toFieldTransform(t){return new BM(t.path,new Uu)}isEqual(t){return t instanceof ky}}function ow(n,t,e,s){const o=n.createContext(1,t,e);Ly("Data must be an object, but it was:",o,s);const u=[],c=dn.empty();Or(s,((p,g)=>{const y=hw(t,p,e);g=je(g);const T=o.childContextForFieldPath(y);if(g instanceof cd)u.push(y);else{const S=rc(g,T);S!=null&&(u.push(y),c.set(y,S))}}));const d=new On(u);return new sw(c,d,o.fieldTransforms)}function lw(n,t,e,s,o,u){const c=n.createContext(1,t,e),d=[Yo(t,s,e)],p=[o];if(u.length%2!=0)throw new ut(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)d.push(Yo(t,u[S])),p.push(u[S+1]);const g=[],y=dn.empty();for(let S=d.length-1;S>=0;--S)if(!fw(g,d[S])){const C=d[S];let P=p[S];P=je(P);const U=c.childContextForFieldPath(C);if(P instanceof cd)g.push(C);else{const z=rc(P,U);z!=null&&(g.push(C),y.set(C,z))}}const T=new On(g);return new sw(y,T,c.fieldTransforms)}function eP(n,t,e,s=!1){return rc(e,n.createContext(s?4:3,t))}function rc(n,t){if(cw(n=je(n)))return Ly("Unsupported field value:",t,n),uw(n,t);if(n instanceof ud)return(function(s,o){if(!rw(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const d of s){let p=rc(d,o.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(n,t)}return(function(s,o){if((s=je(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return kM(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=re.fromDate(s);return{timestampValue:Rf(o.serializer,u)}}if(s instanceof re){const u=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Rf(o.serializer,u)}}if(s instanceof Yi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Nn)return{bytesValue:I1(o.serializer,s._byteString)};if(s instanceof Ee){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:my(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof pi)return(function(c,d){const p=c instanceof pi?c.toArray():c;return{mapValue:{fields:{[e1]:{stringValue:n1},[Af]:{arrayValue:{values:p.map((y=>{if(typeof y!="number")throw d.createError("VectorValues must only contain numeric values.");return hy(d.serializer,y)}))}}}}}})(s,o);if(k1(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Qf(s)}`)})(n,t)}function uw(n,t){const e={};return Xb(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Or(n,((s,o)=>{const u=rc(o,t.childContextForField(s));u!=null&&(e[s]=u)})),{mapValue:{fields:e}}}function cw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof re||n instanceof Yi||n instanceof Nn||n instanceof Ee||n instanceof ud||n instanceof pi||k1(n))}function Ly(n,t,e){if(!cw(e)||!Yb(e)){const s=Qf(e);throw s==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+s)}}function Yo(n,t,e){if((t=je(t))instanceof ld)return t._internalPath;if(typeof t=="string")return hw(n,t);throw Mf("Field path arguments must be of type string or ",n,!1,void 0,e)}const nP=new RegExp("[~\\*/\\[\\]]");function hw(n,t,e){if(t.search(nP)>=0)throw Mf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new ld(...t.split("."))._internalPath}catch{throw Mf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Mf(n,t,e,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new ut(J.INVALID_ARGUMENT,d+n+p)}function fw(n,t){return n.some((e=>e.isEqual(t)))}class dw{convertValue(t,e="none"){switch(xr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ir(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return Or(t,((o,u)=>{s[o]=this.convertValue(u,e)})),s}convertVectorValue(t){const e=t.fields?.[Af].arrayValue?.values?.map((s=>Te(s.doubleValue)));return new pi(e)}convertGeoPoint(t){return new Yi(Te(t.latitude),Te(t.longitude))}convertArray(t,e){return(t.values||[]).map((s=>this.convertValue(s,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const s=$f(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(Ou(t));default:return null}}convertTimestamp(t){const e=Cr(t);return new re(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=te.fromString(t);Ft(P1(s),9688,{name:t});const o=new Pu(s.get(1),s.get(3)),u=new yt(s.popFirst(5));return o.isEqual(e)||bs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}class hd extends dw{constructor(t){super(),this.firestore=t}convertBytes(t){return new Nn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ee(this.firestore,null,e)}}function iP(){return new ky("serverTimestamp")}const SS="@firebase/firestore",AS="4.10.0";function bS(n){return(function(e,s){if(typeof e!="object"||e===null)return!1;const o=e;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(n,["next","error","complete"])}class Nf{constructor(t,e,s,o,u){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ee(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new sP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(Yo("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class sP extends Nf{data(){return super.data()}}function mw(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ut(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Uy{}class pw extends Uy{}function gw(n,t,...e){let s=[];t instanceof Uy&&s.push(t),s=s.concat(e),(function(u){const c=u.filter((p=>p instanceof zy)).length,d=u.filter((p=>p instanceof By)).length;if(c>1||c>0&&d>0)throw new ut(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)n=o._apply(n);return n}class By extends pw{constructor(t,e,s){super(),this._field=t,this._op=e,this._value=s,this.type="where"}static _create(t,e,s){return new By(t,e,s)}_apply(t){const e=this._parse(t);return vw(t._query,e),new kr(t.firestore,t.converter,hg(t._query,e))}_parse(t){const e=Py(t.firestore);return(function(u,c,d,p,g,y,T){let S;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ut(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){RS(T,y);const P=[];for(const U of T)P.push(wS(p,u,U));S={arrayValue:{values:P}}}else S=wS(p,u,T)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||RS(T,y),S=eP(d,c,T,y==="in"||y==="not-in");return Ne.create(g,y,S)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class zy extends Uy{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new zy(t,e)}_parse(t){const e=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return e.length===1?e[0]:gi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(o,u){let c=o;const d=u.getFlattenedFilters();for(const p of d)vw(c,p),c=hg(c,p)})(t._query,e),new kr(t.firestore,t.converter,hg(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jy extends pw{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new jy(t,e)}_apply(t){const e=(function(o,u,c){if(o.startAt!==null)throw new ut(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ut(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lu(u,c)})(t._query,this._field,this._direction);return new kr(t.firestore,t.converter,IM(t._query,e))}}function yw(n,t="asc"){const e=t,s=Yo("orderBy",n);return jy._create(s,e)}function wS(n,t,e){if(typeof(e=je(e))=="string"){if(e==="")throw new ut(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!c1(t)&&e.indexOf("/")!==-1)throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const s=t.path.child(te.fromString(e));if(!yt.isDocumentKey(s))throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return BE(n,new yt(s))}if(e instanceof Ee)return BE(n,e._key);throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qf(e)}.`)}function RS(n,t){if(!Array.isArray(n)||n.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function vw(n,t){const e=(function(o,u){for(const c of o)for(const d of c.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ut(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function _w(n,t,e){let s;return s=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,s}class rP extends dw{constructor(t){super(),this.firestore=t}convertBytes(t){return new Nn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ee(this.firestore,null,e)}}class xo{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class br extends Nf{constructor(t,e,s,o,u,c){super(t,e,s,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(Yo("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=br._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}br._jsonSchemaVersion="firestore/documentSnapshot/1.0",br._jsonSchema={type:Oe("string",br._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class of extends br{data(t={}){return super.data(t)}}class Aa{constructor(t,e,s,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new xo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((s=>{t.call(e,new of(this._firestore,this._userDataWriter,s.key,s,new xo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ut(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new of(o._firestore,o._userDataWriter,d.doc.key,d.doc,new xo(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const p=new of(o._firestore,o._userDataWriter,d.doc.key,d.doc,new xo(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,y=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:aP(d.type),doc:p,oldIndex:g,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Aa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ry.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function aP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:n})}}Aa._jsonSchemaVersion="firestore/querySnapshot/1.0",Aa._jsonSchema={type:Oe("string",Aa._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};const oP={maxAttempts:5};class lP{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Py(t)}set(t,e,s){this._verifyNotCommitted();const o=gr(t,this._firestore),u=_w(o.converter,e,s),c=aw(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(c.toMutation(o._key,on.none())),this}update(t,e,s,...o){this._verifyNotCommitted();const u=gr(t,this._firestore);let c;return c=typeof(e=je(e))=="string"||e instanceof ld?lw(this._dataReader,"WriteBatch.update",u._key,e,s,o):ow(this._dataReader,"WriteBatch.update",u._key,e),this._mutations.push(c.toMutation(u._key,on.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=gr(t,this._firestore);return this._mutations=this._mutations.concat(new nd(e._key,on.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ut(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gr(n,t){if((n=je(n)).firestore!==t)throw new ut(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class uP{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Py(t)}get(t){const e=gr(t,this._firestore),s=new rP(this._firestore);return this._transaction.lookup([e._key]).then((o=>{if(!o||o.length!==1)return _t(24041);const u=o[0];if(u.isFoundDocument())return new Nf(this._firestore,s,u.key,u,e.converter);if(u.isNoDocument())return new Nf(this._firestore,s,e._key,null,e.converter);throw _t(18433,{doc:u})}))}set(t,e,s){const o=gr(t,this._firestore),u=_w(o.converter,e,s),c=aw(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,c),this}update(t,e,s,...o){const u=gr(t,this._firestore);let c;return c=typeof(e=je(e))=="string"||e instanceof ld?lw(this._dataReader,"Transaction.update",u._key,e,s,o):ow(this._dataReader,"Transaction.update",u._key,e),this._transaction.update(u._key,c),this}delete(t){const e=gr(t,this._firestore);return this._transaction.delete(e._key),this}}class cP extends uP{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=gr(t,this._firestore),s=new hd(this._firestore);return super.get(t).then((o=>new br(this._firestore,s,e._key,o._document,new xo(!1,!1),e.converter)))}}function hP(n,t,e){n=Gi(n,Da);const s={...oP,...e};(function(c){if(c.maxAttempts<1)throw new ut(J.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s);const o=il(n);return KO(o,(u=>t(new cP(n,u))),s)}function fP(n){n=Gi(n,Ee);const t=Gi(n.firestore,Da),e=il(t);return qO(e,n._key).then((s=>Tw(t,n,s)))}function Eg(n){n=Gi(n,kr);const t=Gi(n.firestore,Da),e=il(t),s=new hd(t);return mw(n._query),HO(e,n._query).then((o=>new Aa(t,s,n,o)))}function dP(n,...t){n=je(n);let e={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||bS(t[s])||(e=t[s++]);const o={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(bS(t[s])){const g=t[s];t[s]=g.next?.bind(g),t[s+1]=g.error?.bind(g),t[s+2]=g.complete?.bind(g)}let u,c,d;if(n instanceof Ee)c=Gi(n.firestore,Da),d=Wf(n._key.path),u={next:g=>{t[s]&&t[s](Tw(c,n,g))},error:t[s+1],complete:t[s+2]};else{const g=Gi(n,kr);c=Gi(g.firestore,Da),d=g._query;const y=new hd(c);u={next:T=>{t[s]&&t[s](new Aa(c,y,g,T))},error:t[s+1],complete:t[s+2]},mw(n._query)}const p=il(c);return FO(p,d,o,u)}function mP(n,t){const e=il(n);return GO(e,t)}function Tw(n,t,e){const s=e.docs.get(t._key),o=new hd(n);return new br(n,o,t._key,s,new xo(e.hasPendingWrites,e.fromCache),t.converter)}function pP(n){return n=Gi(n,Da),il(n),new lP(n,(t=>mP(n,t)))}(function(t,e=!0){FV($o),zo(new Ra("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),d=new Da(new GV(s.getProvider("auth-internal")),new QV(c,s.getProvider("app-check-internal")),hM(c,o),c);return u={useFetchStreams:e,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),Tr(SS,AS,t),Tr(SS,AS,"esm2020")})();const gP={apiKey:"AIzaSyCpfz0Zk6VPZq3_T-sltwFYvCssTNt7SrA",authDomain:"soka-3ce9a.firebaseapp.com",projectId:"soka-3ce9a",storageBucket:"soka-3ce9a.firebasestorage.app",messagingSenderId:"103213261935",appId:"1:103213261935:web:800acc4fb30c7f8f45599a"},Ew=nb(gP),Of=UV(Ew),di=$O(Ew),yP=({children:n})=>{const[t,e]=W.useState(null),[s,o]=W.useState(!0);return W.useEffect(()=>{const u=C2(Of,c=>{e(c),o(!1),c||E2(Of).catch(d=>{console.error("Auth Error:",d)})});return()=>u()},[]),s?H.jsx("div",{className:"loading",children:"Loading..."}):t?H.jsx(H.Fragment,{children:n}):H.jsx("div",{className:"error",children:"Authenticating..."})},Sw=W.createContext(void 0),vP=({children:n})=>{const[t,e]=W.useState({selectedA:null,selectedB:null,selectedC:null,selectedD:null}),[s,o]=W.useState(!1),u=p=>p==="soka2026"||p==="admin"?(o(!0),!0):!1,c=(p,g)=>{e(y=>{const T={...y};return g==="C"?{selectedA:null,selectedB:null,selectedC:p,selectedD:null}:g==="D"?{selectedA:null,selectedB:null,selectedC:null,selectedD:p}:((g==="A"||g==="B")&&(T.selectedC=null,T.selectedD=null,g==="A"&&(T.selectedA=p),g==="B"&&(T.selectedB=p)),T)})},d=!!t.selectedC||!!t.selectedD||!!t.selectedA&&!!t.selectedB;return H.jsx(Sw.Provider,{value:{selection:t,selectSession:c,isValid:d,isAdmin:s,login:u},children:n})},Fy=()=>{const n=W.useContext(Sw);if(!n)throw new Error("useBooking must be used within BookingProvider");return n};let _P={data:""},TP=n=>{if(typeof window=="object"){let t=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(n||document.head).appendChild(t),t.firstChild}return n||_P},EP=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,SP=/\/\*[^]*?\*\/|  +/g,CS=/\n+/g,mr=(n,t)=>{let e="",s="",o="";for(let u in n){let c=n[u];u[0]=="@"?u[1]=="i"?e=u+" "+c+";":s+=u[1]=="f"?mr(c,u):u+"{"+mr(c,u[1]=="k"?"":t)+"}":typeof c=="object"?s+=mr(c,t?t.replace(/([^,])+/g,d=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,d):d?d+" "+p:p)):u):c!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=mr.p?mr.p(u,c):u+":"+c+";")}return e+(t&&o?t+"{"+o+"}":o)+s},gs={},Aw=n=>{if(typeof n=="object"){let t="";for(let e in n)t+=e+Aw(n[e]);return t}return n},AP=(n,t,e,s,o)=>{let u=Aw(n),c=gs[u]||(gs[u]=(p=>{let g=0,y=11;for(;g<p.length;)y=101*y+p.charCodeAt(g++)>>>0;return"go"+y})(u));if(!gs[c]){let p=u!==n?n:(g=>{let y,T,S=[{}];for(;y=EP.exec(g.replace(SP,""));)y[4]?S.shift():y[3]?(T=y[3].replace(CS," ").trim(),S.unshift(S[0][T]=S[0][T]||{})):S[0][y[1]]=y[2].replace(CS," ").trim();return S[0]})(n);gs[c]=mr(o?{["@keyframes "+c]:p}:p,e?"":"."+c)}let d=e&&gs.g?gs.g:null;return e&&(gs.g=gs[c]),((p,g,y,T)=>{T?g.data=g.data.replace(T,p):g.data.indexOf(p)===-1&&(g.data=y?p+g.data:g.data+p)})(gs[c],t,s,d),c},bP=(n,t,e)=>n.reduce((s,o,u)=>{let c=t[u];if(c&&c.call){let d=c(e),p=d&&d.props&&d.props.className||/^go/.test(d)&&d;c=p?"."+p:d&&typeof d=="object"?d.props?"":mr(d,""):d===!1?"":d}return s+o+(c??"")},"");function fd(n){let t=this||{},e=n.call?n(t.p):n;return AP(e.unshift?e.raw?bP(e,[].slice.call(arguments,1),t.p):e.reduce((s,o)=>Object.assign(s,o&&o.call?o(t.p):o),{}):e,TP(t.target),t.g,t.o,t.k)}let bw,Sg,Ag;fd.bind({g:1});let Rs=fd.bind({k:1});function wP(n,t,e,s){mr.p=t,bw=n,Sg=e,Ag=s}function Lr(n,t){let e=this||{};return function(){let s=arguments;function o(u,c){let d=Object.assign({},u),p=d.className||o.className;e.p=Object.assign({theme:Sg&&Sg()},d),e.o=/ *go\d+/.test(p),d.className=fd.apply(e,s)+(p?" "+p:"");let g=n;return n[0]&&(g=d.as||n,delete d.as),Ag&&g[0]&&Ag(d),bw(g,d)}return o}}var RP=n=>typeof n=="function",Pf=(n,t)=>RP(n)?n(t):n,CP=(()=>{let n=0;return()=>(++n).toString()})(),ww=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");n=!t||t.matches}return n}})(),IP=20,qy="default",Rw=(n,t)=>{let{toastLimit:e}=n.settings;switch(t.type){case 0:return{...n,toasts:[t.toast,...n.toasts].slice(0,e)};case 1:return{...n,toasts:n.toasts.map(c=>c.id===t.toast.id?{...c,...t.toast}:c)};case 2:let{toast:s}=t;return Rw(n,{type:n.toasts.find(c=>c.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=t;return{...n,toasts:n.toasts.map(c=>c.id===o||o===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return t.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(c=>c.id!==t.toastId)};case 5:return{...n,pausedAt:t.time};case 6:let u=t.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+u}))}}},lf=[],Cw={toasts:[],pausedAt:void 0,settings:{toastLimit:IP}},ji={},Iw=(n,t=qy)=>{ji[t]=Rw(ji[t]||Cw,n),lf.forEach(([e,s])=>{e===t&&s(ji[t])})},xw=n=>Object.keys(ji).forEach(t=>Iw(n,t)),xP=n=>Object.keys(ji).find(t=>ji[t].toasts.some(e=>e.id===n)),dd=(n=qy)=>t=>{Iw(t,n)},DP={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},VP=(n={},t=qy)=>{let[e,s]=W.useState(ji[t]||Cw),o=W.useRef(ji[t]);W.useEffect(()=>(o.current!==ji[t]&&s(ji[t]),lf.push([t,s]),()=>{let c=lf.findIndex(([d])=>d===t);c>-1&&lf.splice(c,1)}),[t]);let u=e.toasts.map(c=>{var d,p,g;return{...n,...n[c.type],...c,removeDelay:c.removeDelay||((d=n[c.type])==null?void 0:d.removeDelay)||n?.removeDelay,duration:c.duration||((p=n[c.type])==null?void 0:p.duration)||n?.duration||DP[c.type],style:{...n.style,...(g=n[c.type])==null?void 0:g.style,...c.style}}});return{...e,toasts:u}},MP=(n,t="blank",e)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...e,id:e?.id||CP()}),ac=n=>(t,e)=>{let s=MP(t,n,e);return dd(s.toasterId||xP(s.id))({type:2,toast:s}),s.id},Be=(n,t)=>ac("blank")(n,t);Be.error=ac("error");Be.success=ac("success");Be.loading=ac("loading");Be.custom=ac("custom");Be.dismiss=(n,t)=>{let e={type:3,toastId:n};t?dd(t)(e):xw(e)};Be.dismissAll=n=>Be.dismiss(void 0,n);Be.remove=(n,t)=>{let e={type:4,toastId:n};t?dd(t)(e):xw(e)};Be.removeAll=n=>Be.remove(void 0,n);Be.promise=(n,t,e)=>{let s=Be.loading(t.loading,{...e,...e?.loading});return typeof n=="function"&&(n=n()),n.then(o=>{let u=t.success?Pf(t.success,o):void 0;return u?Be.success(u,{id:s,...e,...e?.success}):Be.dismiss(s),o}).catch(o=>{let u=t.error?Pf(t.error,o):void 0;u?Be.error(u,{id:s,...e,...e?.error}):Be.dismiss(s)}),n};var NP=1e3,OP=(n,t="default")=>{let{toasts:e,pausedAt:s}=VP(n,t),o=W.useRef(new Map).current,u=W.useCallback((T,S=NP)=>{if(o.has(T))return;let C=setTimeout(()=>{o.delete(T),c({type:4,toastId:T})},S);o.set(T,C)},[]);W.useEffect(()=>{if(s)return;let T=Date.now(),S=e.map(C=>{if(C.duration===1/0)return;let P=(C.duration||0)+C.pauseDuration-(T-C.createdAt);if(P<0){C.visible&&Be.dismiss(C.id);return}return setTimeout(()=>Be.dismiss(C.id,t),P)});return()=>{S.forEach(C=>C&&clearTimeout(C))}},[e,s,t]);let c=W.useCallback(dd(t),[t]),d=W.useCallback(()=>{c({type:5,time:Date.now()})},[c]),p=W.useCallback((T,S)=>{c({type:1,toast:{id:T,height:S}})},[c]),g=W.useCallback(()=>{s&&c({type:6,time:Date.now()})},[s,c]),y=W.useCallback((T,S)=>{let{reverseOrder:C=!1,gutter:P=8,defaultPosition:U}=S||{},z=e.filter(G=>(G.position||U)===(T.position||U)&&G.height),X=z.findIndex(G=>G.id===T.id),K=z.filter((G,st)=>st<X&&G.visible).length;return z.filter(G=>G.visible).slice(...C?[K+1]:[0,K]).reduce((G,st)=>G+(st.height||0)+P,0)},[e]);return W.useEffect(()=>{e.forEach(T=>{if(T.dismissed)u(T.id,T.removeDelay);else{let S=o.get(T.id);S&&(clearTimeout(S),o.delete(T.id))}})},[e,u]),{toasts:e,handlers:{updateHeight:p,startPause:d,endPause:g,calculateOffset:y}}},PP=Rs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,kP=Rs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,LP=Rs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,UP=Lr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${PP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${kP} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${LP} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,BP=Rs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,zP=Lr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${BP} 1s linear infinite;
`,jP=Rs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,FP=Rs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,qP=Lr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${jP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${FP} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,HP=Lr("div")`
  position: absolute;
`,GP=Lr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,KP=Rs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,YP=Lr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${KP} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,QP=({toast:n})=>{let{icon:t,type:e,iconTheme:s}=n;return t!==void 0?typeof t=="string"?W.createElement(YP,null,t):t:e==="blank"?null:W.createElement(GP,null,W.createElement(zP,{...s}),e!=="loading"&&W.createElement(HP,null,e==="error"?W.createElement(UP,{...s}):W.createElement(qP,{...s})))},XP=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,$P=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,WP="0%{opacity:0;} 100%{opacity:1;}",ZP="0%{opacity:1;} 100%{opacity:0;}",JP=Lr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,t4=Lr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,e4=(n,t)=>{let e=n.includes("top")?1:-1,[s,o]=ww()?[WP,ZP]:[XP(e),$P(e)];return{animation:t?`${Rs(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Rs(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},n4=W.memo(({toast:n,position:t,style:e,children:s})=>{let o=n.height?e4(n.position||t||"top-center",n.visible):{opacity:0},u=W.createElement(QP,{toast:n}),c=W.createElement(t4,{...n.ariaProps},Pf(n.message,n));return W.createElement(JP,{className:n.className,style:{...o,...e,...n.style}},typeof s=="function"?s({icon:u,message:c}):W.createElement(W.Fragment,null,u,c))});wP(W.createElement);var i4=({id:n,className:t,style:e,onHeightUpdate:s,children:o})=>{let u=W.useCallback(c=>{if(c){let d=()=>{let p=c.getBoundingClientRect().height;s(n,p)};d(),new MutationObserver(d).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[n,s]);return W.createElement("div",{ref:u,className:t,style:e},o)},s4=(n,t)=>{let e=n.includes("top"),s=e?{top:0}:{bottom:0},o=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ww()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(e?1:-1)}px)`,...s,...o}},r4=fd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Kh=16,a4=({reverseOrder:n,position:t="top-center",toastOptions:e,gutter:s,children:o,toasterId:u,containerStyle:c,containerClassName:d})=>{let{toasts:p,handlers:g}=OP(e,u);return W.createElement("div",{"data-rht-toaster":u||"",style:{position:"fixed",zIndex:9999,top:Kh,left:Kh,right:Kh,bottom:Kh,pointerEvents:"none",...c},className:d,onMouseEnter:g.startPause,onMouseLeave:g.endPause},p.map(y=>{let T=y.position||t,S=g.calculateOffset(y,{reverseOrder:n,gutter:s,defaultPosition:t}),C=s4(T,S);return W.createElement(i4,{id:y.id,key:y.id,onHeightUpdate:g.updateHeight,className:y.visible?r4:"",style:C},y.type==="custom"?Pf(y.message,y):o?o(y):W.createElement(n4,{toast:y,position:T}))}))},Op=Be;const Dw=()=>{const[n,t]=W.useState([]),[e,s]=W.useState(!0);return W.useEffect(()=>{const o=gw(ju(di,"slots"),yw("id")),u=dP(o,c=>{const d=c.docs.map(p=>p.data());t(d),s(!1)},c=>{console.error("Error fetching real-time slots:",c),s(!1)});return()=>u()},[]),{slots:n,loading:e}},o4=()=>{const n=async()=>{if(!confirm(`  

1. 
2. 

`))return;const e=pP(di);try{const s=ju(di,"bookings");(await Eg(s)).forEach(g=>{e.delete(g.ref)});const u=ju(di,"slots");(await Eg(u)).forEach(g=>{e.delete(g.ref)}),[{id:"2F_A",type:"A",location:"",title:"",description:"",capacity:50,booked:0,startTime:"20"},{id:"3F_A",type:"A",location:"",title:"*4 / *4",description:`



`,capacity:160,booked:0,startTime:"20"},{id:"5F_A",type:"A",location:"",title:" OPEN SPACE",description:"",capacity:120,booked:0,startTime:"20"},{id:"2F_B",type:"B",location:"",title:"",description:"",capacity:50,booked:0,startTime:"20"},{id:"3F_B",type:"B",location:"",title:"*4 / *4",description:`



`,capacity:160,booked:0,startTime:"20"},{id:"5F_B",type:"B",location:"",title:" OPEN SPACE",description:"",capacity:120,booked:0,startTime:"20"},{id:"6F_C",type:"C",location:"",title:"",description:" SEL ",capacity:70,booked:0,startTime:"40"},{id:"6F_D",type:"D",location:"",title:"",description:"",capacity:70,booked:0,startTime:"40"}].forEach(g=>{const y=Fu(di,"slots",g.id);e.set(y,{...g,endTime:""})});const p=Fu(di,"system","config");e.set(p,{lastReset:new Date().toISOString()}),await e.commit(),alert(""),window.location.reload()}catch(s){console.error(s),alert(" Error seeding data")}};return H.jsx("button",{onClick:n,className:"btn-primary",style:{margin:"20px auto",display:"block"},children:" (Initialize DB)"})},Hy=W.createContext({});function Gy(n){const t=W.useRef(null);return t.current===null&&(t.current=n()),t.current}const Vw=typeof window<"u",Mw=Vw?W.useLayoutEffect:W.useEffect,md=W.createContext(null);function Ky(n,t){n.indexOf(t)===-1&&n.push(t)}function Yy(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const $i=(n,t,e)=>e>t?t:e<n?n:e;let Qy=()=>{};const Cs={},Nw=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function Ow(n){return typeof n=="object"&&n!==null}const Pw=n=>/^0[^.\s]+$/u.test(n);function Xy(n){let t;return()=>(t===void 0&&(t=n()),t)}const Wn=n=>n,l4=(n,t)=>e=>t(n(e)),oc=(...n)=>n.reduce(l4),qu=(n,t,e)=>{const s=t-n;return s===0?1:(e-n)/s};class $y{constructor(){this.subscriptions=[]}add(t){return Ky(this.subscriptions,t),()=>Yy(this.subscriptions,t)}notify(t,e,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,e,s);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,e,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ts=n=>n*1e3,$n=n=>n/1e3;function kw(n,t){return t?n*(1e3/t):0}const Lw=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,u4=1e-7,c4=12;function h4(n,t,e,s,o){let u,c,d=0;do c=t+(e-t)/2,u=Lw(c,s,o)-n,u>0?e=c:t=c;while(Math.abs(u)>u4&&++d<c4);return c}function lc(n,t,e,s){if(n===t&&e===s)return Wn;const o=u=>h4(u,0,1,n,e);return u=>u===0||u===1?u:Lw(o(u),t,s)}const Uw=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,Bw=n=>t=>1-n(1-t),zw=lc(.33,1.53,.69,.99),Wy=Bw(zw),jw=Uw(Wy),Fw=n=>(n*=2)<1?.5*Wy(n):.5*(2-Math.pow(2,-10*(n-1))),Zy=n=>1-Math.sin(Math.acos(n)),qw=Bw(Zy),Hw=Uw(Zy),f4=lc(.42,0,1,1),d4=lc(0,0,.58,1),Gw=lc(.42,0,.58,1),m4=n=>Array.isArray(n)&&typeof n[0]!="number",Kw=n=>Array.isArray(n)&&typeof n[0]=="number",p4={linear:Wn,easeIn:f4,easeInOut:Gw,easeOut:d4,circIn:Zy,circInOut:Hw,circOut:qw,backIn:Wy,backInOut:jw,backOut:zw,anticipate:Fw},g4=n=>typeof n=="string",IS=n=>{if(Kw(n)){Qy(n.length===4);const[t,e,s,o]=n;return lc(t,e,s,o)}else if(g4(n))return p4[n];return n},Yh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function y4(n,t){let e=new Set,s=new Set,o=!1,u=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(y){c.has(y)&&(g.schedule(y),n()),y(d)}const g={schedule:(y,T=!1,S=!1)=>{const P=S&&o?e:s;return T&&c.add(y),P.has(y)||P.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,o){u=!0;return}o=!0,[e,s]=[s,e],e.forEach(p),e.clear(),o=!1,u&&(u=!1,g.process(y))}};return g}const v4=40;function Yw(n,t){let e=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>e=!0,c=Yh.reduce((G,st)=>(G[st]=y4(u),G),{}),{setup:d,read:p,resolveKeyframes:g,preUpdate:y,update:T,preRender:S,render:C,postRender:P}=c,U=()=>{const G=Cs.useManualTiming?o.timestamp:performance.now();e=!1,Cs.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(G-o.timestamp,v4),1)),o.timestamp=G,o.isProcessing=!0,d.process(o),p.process(o),g.process(o),y.process(o),T.process(o),S.process(o),C.process(o),P.process(o),o.isProcessing=!1,e&&t&&(s=!1,n(U))},z=()=>{e=!0,s=!0,o.isProcessing||n(U)};return{schedule:Yh.reduce((G,st)=>{const at=c[st];return G[st]=(ot,I=!1,w=!1)=>(e||z(),at.schedule(ot,I,w)),G},{}),cancel:G=>{for(let st=0;st<Yh.length;st++)c[Yh[st]].cancel(G)},state:o,steps:c}}const{schedule:ae,cancel:Mr,state:Je,steps:Pp}=Yw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wn,!0);let uf;function _4(){uf=void 0}const mn={now:()=>(uf===void 0&&mn.set(Je.isProcessing||Cs.useManualTiming?Je.timestamp:performance.now()),uf),set:n=>{uf=n,queueMicrotask(_4)}},Qw=n=>t=>typeof t=="string"&&t.startsWith(n),Xw=Qw("--"),T4=Qw("var(--"),Jy=n=>T4(n)?E4.test(n.split("/*")[0].trim()):!1,E4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function xS(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const sl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Hu={...sl,transform:n=>$i(0,1,n)},Qh={...sl,default:1},Cu=n=>Math.round(n*1e5)/1e5,tv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function S4(n){return n==null}const A4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ev=(n,t)=>e=>!!(typeof e=="string"&&A4.test(e)&&e.startsWith(n)||t&&!S4(e)&&Object.prototype.hasOwnProperty.call(e,t)),$w=(n,t,e)=>s=>{if(typeof s!="string")return s;const[o,u,c,d]=s.match(tv);return{[n]:parseFloat(o),[t]:parseFloat(u),[e]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},b4=n=>$i(0,255,n),kp={...sl,transform:n=>Math.round(b4(n))},Ea={test:ev("rgb","red"),parse:$w("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:s=1})=>"rgba("+kp.transform(n)+", "+kp.transform(t)+", "+kp.transform(e)+", "+Cu(Hu.transform(s))+")"};function w4(n){let t="",e="",s="",o="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),s=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),s=n.substring(3,4),o=n.substring(4,5),t+=t,e+=e,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const bg={test:ev("#"),parse:w4,transform:Ea.transform},uc=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),ur=uc("deg"),Qi=uc("%"),pt=uc("px"),R4=uc("vh"),C4=uc("vw"),DS={...Qi,parse:n=>Qi.parse(n)/100,transform:n=>Qi.transform(n*100)},Do={test:ev("hsl","hue"),parse:$w("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:s=1})=>"hsla("+Math.round(n)+", "+Qi.transform(Cu(t))+", "+Qi.transform(Cu(e))+", "+Cu(Hu.transform(s))+")"},Me={test:n=>Ea.test(n)||bg.test(n)||Do.test(n),parse:n=>Ea.test(n)?Ea.parse(n):Do.test(n)?Do.parse(n):bg.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ea.transform(n):Do.transform(n),getAnimatableNone:n=>{const t=Me.parse(n);return t.alpha=0,Me.transform(t)}},I4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function x4(n){return isNaN(n)&&typeof n=="string"&&(n.match(tv)?.length||0)+(n.match(I4)?.length||0)>0}const Ww="number",Zw="color",D4="var",V4="var(",VS="${}",M4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Gu(n){const t=n.toString(),e=[],s={color:[],number:[],var:[]},o=[];let u=0;const d=t.replace(M4,p=>(Me.test(p)?(s.color.push(u),o.push(Zw),e.push(Me.parse(p))):p.startsWith(V4)?(s.var.push(u),o.push(D4),e.push(p)):(s.number.push(u),o.push(Ww),e.push(parseFloat(p))),++u,VS)).split(VS);return{values:e,split:d,indexes:s,types:o}}function Jw(n){return Gu(n).values}function tR(n){const{split:t,types:e}=Gu(n),s=t.length;return o=>{let u="";for(let c=0;c<s;c++)if(u+=t[c],o[c]!==void 0){const d=e[c];d===Ww?u+=Cu(o[c]):d===Zw?u+=Me.transform(o[c]):u+=o[c]}return u}}const N4=n=>typeof n=="number"?0:Me.test(n)?Me.getAnimatableNone(n):n;function O4(n){const t=Jw(n);return tR(n)(t.map(N4))}const Nr={test:x4,parse:Jw,createTransformer:tR,getAnimatableNone:O4};function Lp(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function P4({hue:n,saturation:t,lightness:e,alpha:s}){n/=360,t/=100,e/=100;let o=0,u=0,c=0;if(!t)o=u=c=e;else{const d=e<.5?e*(1+t):e+t-e*t,p=2*e-d;o=Lp(p,d,n+1/3),u=Lp(p,d,n),c=Lp(p,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:s}}function kf(n,t){return e=>e>0?t:n}const ce=(n,t,e)=>n+(t-n)*e,Up=(n,t,e)=>{const s=n*n,o=e*(t*t-s)+s;return o<0?0:Math.sqrt(o)},k4=[bg,Ea,Do],L4=n=>k4.find(t=>t.test(n));function MS(n){const t=L4(n);if(!t)return!1;let e=t.parse(n);return t===Do&&(e=P4(e)),e}const NS=(n,t)=>{const e=MS(n),s=MS(t);if(!e||!s)return kf(n,t);const o={...e};return u=>(o.red=Up(e.red,s.red,u),o.green=Up(e.green,s.green,u),o.blue=Up(e.blue,s.blue,u),o.alpha=ce(e.alpha,s.alpha,u),Ea.transform(o))},wg=new Set(["none","hidden"]);function U4(n,t){return wg.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function B4(n,t){return e=>ce(n,t,e)}function nv(n){return typeof n=="number"?B4:typeof n=="string"?Jy(n)?kf:Me.test(n)?NS:F4:Array.isArray(n)?eR:typeof n=="object"?Me.test(n)?NS:z4:kf}function eR(n,t){const e=[...n],s=e.length,o=n.map((u,c)=>nv(u)(u,t[c]));return u=>{for(let c=0;c<s;c++)e[c]=o[c](u);return e}}function z4(n,t){const e={...n,...t},s={};for(const o in e)n[o]!==void 0&&t[o]!==void 0&&(s[o]=nv(n[o])(n[o],t[o]));return o=>{for(const u in s)e[u]=s[u](o);return e}}function j4(n,t){const e=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=n.indexes[u][s[u]],d=n.values[c]??0;e[o]=d,s[u]++}return e}const F4=(n,t)=>{const e=Nr.createTransformer(t),s=Gu(n),o=Gu(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?wg.has(n)&&!o.values.length||wg.has(t)&&!s.values.length?U4(n,t):oc(eR(j4(s,o),o.values),e):kf(n,t)};function nR(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?ce(n,t,e):nv(n)(n,t)}const q4=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>ae.update(t,e),stop:()=>Mr(t),now:()=>Je.isProcessing?Je.timestamp:mn.now()}},iR=(n,t,e=10)=>{let s="";const o=Math.max(Math.round(t/e),2);for(let u=0;u<o;u++)s+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Lf=2e4;function iv(n){let t=0;const e=50;let s=n.next(t);for(;!s.done&&t<Lf;)t+=e,s=n.next(t);return t>=Lf?1/0:t}function H4(n,t=100,e){const s=e({...n,keyframes:[0,t]}),o=Math.min(iv(s),Lf);return{type:"keyframes",ease:u=>s.next(o*u).value/t,duration:$n(o)}}const G4=5;function sR(n,t,e){const s=Math.max(t-G4,0);return kw(e-n(s),t-s)}const pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Bp=.001;function K4({duration:n=pe.duration,bounce:t=pe.bounce,velocity:e=pe.velocity,mass:s=pe.mass}){let o,u,c=1-t;c=$i(pe.minDamping,pe.maxDamping,c),n=$i(pe.minDuration,pe.maxDuration,$n(n)),c<1?(o=g=>{const y=g*c,T=y*n,S=y-e,C=Rg(g,c),P=Math.exp(-T);return Bp-S/C*P},u=g=>{const T=g*c*n,S=T*e+e,C=Math.pow(c,2)*Math.pow(g,2)*n,P=Math.exp(-T),U=Rg(Math.pow(g,2),c);return(-o(g)+Bp>0?-1:1)*((S-C)*P)/U}):(o=g=>{const y=Math.exp(-g*n),T=(g-e)*n+1;return-Bp+y*T},u=g=>{const y=Math.exp(-g*n),T=(e-g)*(n*n);return y*T});const d=5/n,p=Q4(o,u,d);if(n=Ts(n),isNaN(p))return{stiffness:pe.stiffness,damping:pe.damping,duration:n};{const g=Math.pow(p,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:n}}}const Y4=12;function Q4(n,t,e){let s=e;for(let o=1;o<Y4;o++)s=s-n(s)/t(s);return s}function Rg(n,t){return n*Math.sqrt(1-t*t)}const X4=["duration","bounce"],$4=["stiffness","damping","mass"];function OS(n,t){return t.some(e=>n[e]!==void 0)}function W4(n){let t={velocity:pe.velocity,stiffness:pe.stiffness,damping:pe.damping,mass:pe.mass,isResolvedFromDuration:!1,...n};if(!OS(n,$4)&&OS(n,X4))if(n.visualDuration){const e=n.visualDuration,s=2*Math.PI/(e*1.2),o=s*s,u=2*$i(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:pe.mass,stiffness:o,damping:u}}else{const e=K4(n);t={...t,...e,mass:pe.mass},t.isResolvedFromDuration=!0}return t}function Uf(n=pe.visualDuration,t=pe.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:s,restDelta:o}=e;const u=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],d={done:!1,value:u},{stiffness:p,damping:g,mass:y,duration:T,velocity:S,isResolvedFromDuration:C}=W4({...e,velocity:-$n(e.velocity||0)}),P=S||0,U=g/(2*Math.sqrt(p*y)),z=c-u,X=$n(Math.sqrt(p/y)),K=Math.abs(z)<5;s||(s=K?pe.restSpeed.granular:pe.restSpeed.default),o||(o=K?pe.restDelta.granular:pe.restDelta.default);let G;if(U<1){const at=Rg(X,U);G=ot=>{const I=Math.exp(-U*X*ot);return c-I*((P+U*X*z)/at*Math.sin(at*ot)+z*Math.cos(at*ot))}}else if(U===1)G=at=>c-Math.exp(-X*at)*(z+(P+X*z)*at);else{const at=X*Math.sqrt(U*U-1);G=ot=>{const I=Math.exp(-U*X*ot),w=Math.min(at*ot,300);return c-I*((P+U*X*z)*Math.sinh(w)+at*z*Math.cosh(w))/at}}const st={calculatedDuration:C&&T||null,next:at=>{const ot=G(at);if(C)d.done=at>=T;else{let I=at===0?P:0;U<1&&(I=at===0?Ts(P):sR(G,at,ot));const w=Math.abs(I)<=s,R=Math.abs(c-ot)<=o;d.done=w&&R}return d.value=d.done?c:ot,d},toString:()=>{const at=Math.min(iv(st),Lf),ot=iR(I=>st.next(at*I).value,at,30);return at+"ms "+ot},toTransition:()=>{}};return st}Uf.applyToOptions=n=>{const t=H4(n,100,Uf);return n.ease=t.ease,n.duration=Ts(t.duration),n.type="keyframes",n};function Cg({keyframes:n,velocity:t=0,power:e=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:d,max:p,restDelta:g=.5,restSpeed:y}){const T=n[0],S={done:!1,value:T},C=w=>d!==void 0&&w<d||p!==void 0&&w>p,P=w=>d===void 0?p:p===void 0||Math.abs(d-w)<Math.abs(p-w)?d:p;let U=e*t;const z=T+U,X=c===void 0?z:c(z);X!==z&&(U=X-T);const K=w=>-U*Math.exp(-w/s),G=w=>X+K(w),st=w=>{const R=K(w),M=G(w);S.done=Math.abs(R)<=g,S.value=S.done?X:M};let at,ot;const I=w=>{C(S.value)&&(at=w,ot=Uf({keyframes:[S.value,P(S.value)],velocity:sR(G,w,S.value),damping:o,stiffness:u,restDelta:g,restSpeed:y}))};return I(0),{calculatedDuration:null,next:w=>{let R=!1;return!ot&&at===void 0&&(R=!0,st(w),I(w)),at!==void 0&&w>=at?ot.next(w-at):(!R&&st(w),S)}}}function Z4(n,t,e){const s=[],o=e||Cs.mix||nR,u=n.length-1;for(let c=0;c<u;c++){let d=o(n[c],n[c+1]);if(t){const p=Array.isArray(t)?t[c]||Wn:t;d=oc(p,d)}s.push(d)}return s}function J4(n,t,{clamp:e=!0,ease:s,mixer:o}={}){const u=n.length;if(Qy(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const d=Z4(t,s,o),p=d.length,g=y=>{if(c&&y<n[0])return t[0];let T=0;if(p>1)for(;T<n.length-2&&!(y<n[T+1]);T++);const S=qu(n[T],n[T+1],y);return d[T](S)};return e?y=>g($i(n[0],n[u-1],y)):g}function tk(n,t){const e=n[n.length-1];for(let s=1;s<=t;s++){const o=qu(0,t,s);n.push(ce(e,1,o))}}function ek(n){const t=[0];return tk(t,n.length-1),t}function nk(n,t){return n.map(e=>e*t)}function ik(n,t){return n.map(()=>t||Gw).splice(0,n.length-1)}function Iu({duration:n=300,keyframes:t,times:e,ease:s="easeInOut"}){const o=m4(s)?s.map(IS):IS(s),u={done:!1,value:t[0]},c=nk(e&&e.length===t.length?e:ek(t),n),d=J4(c,t,{ease:Array.isArray(o)?o:ik(t,o)});return{calculatedDuration:n,next:p=>(u.value=d(p),u.done=p>=n,u)}}const sk=n=>n!==null;function sv(n,{repeat:t,repeatType:e="loop"},s,o=1){const u=n.filter(sk),d=o<0||t&&e!=="loop"&&t%2===1?0:u.length-1;return!d||s===void 0?u[d]:s}const rk={decay:Cg,inertia:Cg,tween:Iu,keyframes:Iu,spring:Uf};function rR(n){typeof n.type=="string"&&(n.type=rk[n.type])}class rv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const ak=n=>n/100;class av extends rv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==mn.now()&&this.tick(mn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;rR(t);const{type:e=Iu,repeat:s=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:d}=t;const p=e||Iu;p!==Iu&&typeof d[0]!="number"&&(this.mixKeyframes=oc(ak,nR(d[0],d[1])),d=[0,100]);const g=p({...t,keyframes:d});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=iv(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=g}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:s,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:y,repeat:T,repeatType:S,repeatDelay:C,type:P,onUpdate:U,finalKeyframe:z}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const X=this.currentTime-g*(this.playbackSpeed>=0?1:-1),K=this.playbackSpeed>=0?X<0:X>o;this.currentTime=Math.max(X,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let G=this.currentTime,st=s;if(T){const w=Math.min(this.currentTime,o)/d;let R=Math.floor(w),M=w%1;!M&&w>=1&&(M=1),M===1&&R--,R=Math.min(R,T+1),R%2&&(S==="reverse"?(M=1-M,C&&(M-=C/d)):S==="mirror"&&(st=c)),G=$i(0,1,M)*d}const at=K?{done:!1,value:y[0]}:st.next(G);u&&(at.value=u(at.value));let{done:ot}=at;!K&&p!==null&&(ot=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ot);return I&&P!==Cg&&(at.value=sv(y,this.options,z,this.speed)),U&&U(at.value),I&&this.finish(),at}then(t,e){return this.finished.then(t,e)}get duration(){return $n(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+$n(t)}get time(){return $n(this.currentTime)}set time(t){t=Ts(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(mn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=$n(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=q4,startTime:e}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=e??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(mn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function ok(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Sa=n=>n*180/Math.PI,Ig=n=>{const t=Sa(Math.atan2(n[1],n[0]));return xg(t)},lk={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Ig,rotateZ:Ig,skewX:n=>Sa(Math.atan(n[1])),skewY:n=>Sa(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},xg=n=>(n=n%360,n<0&&(n+=360),n),PS=Ig,kS=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),LS=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),uk={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:kS,scaleY:LS,scale:n=>(kS(n)+LS(n))/2,rotateX:n=>xg(Sa(Math.atan2(n[6],n[5]))),rotateY:n=>xg(Sa(Math.atan2(-n[2],n[0]))),rotateZ:PS,rotate:PS,skewX:n=>Sa(Math.atan(n[4])),skewY:n=>Sa(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Dg(n){return n.includes("scale")?1:0}function Vg(n,t){if(!n||n==="none")return Dg(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(e)s=uk,o=e;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=lk,o=d}if(!o)return Dg(t);const u=s[t],c=o[1].split(",").map(hk);return typeof u=="function"?u(c):c[u]}const ck=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return Vg(e,t)};function hk(n){return parseFloat(n.trim())}const rl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],al=new Set(rl),US=n=>n===sl||n===pt,fk=new Set(["x","y","z"]),dk=rl.filter(n=>!fk.has(n));function mk(n){const t=[];return dk.forEach(e=>{const s=n.getValue(e);s!==void 0&&(t.push([e,s.get()]),s.set(e.startsWith("scale")?1:0))}),t}const yr={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>Vg(t,"x"),y:(n,{transform:t})=>Vg(t,"y")};yr.translateX=yr.x;yr.translateY=yr.y;const ba=new Set;let Mg=!1,Ng=!1,Og=!1;function aR(){if(Ng){const n=Array.from(ba).filter(s=>s.needsMeasurement),t=new Set(n.map(s=>s.element)),e=new Map;t.forEach(s=>{const o=mk(s);o.length&&(e.set(s,o),s.render())}),n.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=e.get(s);o&&o.forEach(([u,c])=>{s.getValue(u)?.set(c)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Ng=!1,Mg=!1,ba.forEach(n=>n.complete(Og)),ba.clear()}function oR(){ba.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Ng=!0)})}function pk(){Og=!0,oR(),aR(),Og=!1}class ov{constructor(t,e,s,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=s,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ba.add(this),Mg||(Mg=!0,ae.read(oR),ae.resolveKeyframes(aR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:s,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(s&&e){const d=s.readValue(e,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}ok(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ba.delete(this)}cancel(){this.state==="scheduled"&&(ba.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const gk=n=>n.startsWith("--");function yk(n,t,e){gk(t)?n.style.setProperty(t,e):n.style[t]=e}const vk=Xy(()=>window.ScrollTimeline!==void 0),_k={};function Tk(n,t){const e=Xy(n);return()=>_k[t]??e()}const lR=Tk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),vu=([n,t,e,s])=>`cubic-bezier(${n}, ${t}, ${e}, ${s})`,BS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vu([0,.65,.55,1]),circOut:vu([.55,0,1,.45]),backIn:vu([.31,.01,.66,-.59]),backOut:vu([.33,1.53,.69,.99])};function uR(n,t){if(n)return typeof n=="function"?lR()?iR(n,t):"ease-out":Kw(n)?vu(n):Array.isArray(n)?n.map(e=>uR(e,t)||BS.easeOut):BS[n]}function Ek(n,t,e,{delay:s=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:d="easeOut",times:p}={},g=void 0){const y={[t]:e};p&&(y.offset=p);const T=uR(d,o);Array.isArray(T)&&(y.easing=T);const S={delay:s,duration:o,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(S.pseudoElement=g),n.animate(y,S)}function cR(n){return typeof n=="function"&&"applyToOptions"in n}function Sk({type:n,...t}){return cR(n)&&lR()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Ak extends rv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:s,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:d,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,Qy(typeof t.type!="string");const g=Sk(t);this.animation=Ek(e,s,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=sv(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):yk(e,s,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return $n(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+$n(t)}get time(){return $n(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ts(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&vk()?(this.animation.timeline=t,Wn):e(this)}}const hR={anticipate:Fw,backInOut:jw,circInOut:Hw};function bk(n){return n in hR}function wk(n){typeof n.ease=="string"&&bk(n.ease)&&(n.ease=hR[n.ease])}const zp=10;class Rk extends Ak{constructor(t){wk(t),rR(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:s,onComplete:o,element:u,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const d=new av({...c,autoplay:!1}),p=Math.max(zp,mn.now()-this.startTime),g=$i(0,zp,p-zp);e.setWithVelocity(d.sample(Math.max(0,p-g)).value,d.sample(p).value,g),d.stop()}}const zS=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Nr.test(n)||n==="0")&&!n.startsWith("url("));function Ck(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function Ik(n,t,e,s){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=zS(o,t),d=zS(u,t);return!c||!d?!1:Ck(n)||(e==="spring"||cR(e))&&s}function Pg(n){n.duration=0,n.type="keyframes"}const xk=new Set(["opacity","clipPath","filter","transform"]),Dk=Xy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Vk(n){const{motionValue:t,name:e,repeatDelay:s,repeatType:o,damping:u,type:c}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return Dk()&&e&&xk.has(e)&&(e!=="transform"||!g)&&!p&&!s&&o!=="mirror"&&u!==0&&c!=="inertia"}const Mk=40;class Nk extends rv{constructor({autoplay:t=!0,delay:e=0,type:s="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:d,name:p,motionValue:g,element:y,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=mn.now();const S={autoplay:t,delay:e,type:s,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:y,...T},C=y?.KeyframeResolver||ov;this.keyframeResolver=new C(d,(P,U,z)=>this.onKeyframesResolved(P,U,S,!z),p,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,s,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:d,delay:p,isHandoff:g,onUpdate:y}=s;this.resolvedAt=mn.now(),Ik(t,u,c,d)||((Cs.instantAnimations||!p)&&y?.(sv(t,s,e)),t[0]=t[t.length-1],Pg(s),s.repeat=0);const S={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>Mk?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...s,keyframes:t},C=!g&&Vk(S),P=S.motionValue?.owner?.current,U=C?new Rk({...S,element:P}):new av(S);U.finished.then(()=>{this.notifyFinished()}).catch(Wn),this.pendingTimeline&&(this.stopTimeline=U.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=U}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),pk()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function fR(n,t,e,s=0,o=1){const u=Array.from(n).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),c=n.size,d=(c-1)*s;return typeof e=="function"?e(u,c):o===1?u*s:d-u*s}const Ok=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Pk(n){const t=Ok.exec(n);if(!t)return[,];const[,e,s,o]=t;return[`--${e??s}`,o]}function dR(n,t,e=1){const[s,o]=Pk(n);if(!s)return;const u=window.getComputedStyle(t).getPropertyValue(s);if(u){const c=u.trim();return Nw(c)?parseFloat(c):c}return Jy(o)?dR(o,t,e+1):o}const kk={type:"spring",stiffness:500,damping:25,restSpeed:10},Lk=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Uk={type:"keyframes",duration:.8},Bk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zk=(n,{keyframes:t})=>t.length>2?Uk:al.has(n)?n.startsWith("scale")?Lk(t[1]):kk:Bk,jk=n=>n!==null;function Fk(n,{repeat:t,repeatType:e="loop"},s){const o=n.filter(jk),u=t&&e!=="loop"&&t%2===1?0:o.length-1;return o[u]}function lv(n,t){return n?.[t]??n?.default??n}function qk({when:n,delay:t,delayChildren:e,staggerChildren:s,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:d,from:p,elapsed:g,...y}){return!!Object.keys(y).length}const uv=(n,t,e,s={},o,u)=>c=>{const d=lv(s,n)||{},p=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Ts(p);const y={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:S=>{t.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:n,motionValue:t,element:u?void 0:o};qk(d)||Object.assign(y,zk(n,y)),y.duration&&(y.duration=Ts(y.duration)),y.repeatDelay&&(y.repeatDelay=Ts(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let T=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Pg(y),y.delay===0&&(T=!0)),(Cs.instantAnimations||Cs.skipAnimations)&&(T=!0,Pg(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,T&&!u&&t.get()!==void 0){const S=Fk(y.keyframes,d);if(S!==void 0){ae.update(()=>{y.onUpdate(S),y.onComplete()});return}}return d.isSync?new av(y):new Nk(y)};function jS(n){const t=[{},{}];return n?.values.forEach((e,s)=>{t[0][s]=e.get(),t[1][s]=e.getVelocity()}),t}function cv(n,t,e,s){if(typeof t=="function"){const[o,u]=jS(s);t=t(e!==void 0?e:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=jS(s);t=t(e!==void 0?e:n.custom,o,u)}return t}function Bo(n,t,e){const s=n.getProps();return cv(s,t,e!==void 0?e:s.custom,n)}const mR=new Set(["width","height","top","left","right","bottom",...rl]),FS=30,Hk=n=>!isNaN(parseFloat(n));class Gk{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=mn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=mn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Hk(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new $y);const s=this.events[t].add(e);return t==="change"?()=>{s(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,s){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=mn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>FS)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,FS);return kw(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qo(n,t){return new Gk(n,t)}const kg=n=>Array.isArray(n);function Kk(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,Qo(e))}function Yk(n){return kg(n)?n[n.length-1]||0:n}function Qk(n,t){const e=Bo(n,t);let{transitionEnd:s={},transition:o={},...u}=e||{};u={...u,...s};for(const c in u){const d=Yk(u[c]);Kk(n,c,d)}}const ln=n=>!!(n&&n.getVelocity);function Xk(n){return!!(ln(n)&&n.add)}function Lg(n,t){const e=n.getValue("willChange");if(Xk(e))return e.add(t);if(!e&&Cs.WillChange){const s=new Cs.WillChange("auto");n.addValue("willChange",s),s.add(t)}}function hv(n){return n.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const $k="framerAppearId",pR="data-"+hv($k);function gR(n){return n.props[pR]}function Wk({protectedKeys:n,needsAnimating:t},e){const s=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,s}function yR(n,t,{delay:e=0,transitionOverride:s,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...d}=t;const p=u?.reduceMotion;s&&(u=s);const g=[],y=o&&n.animationState&&n.animationState.getState()[o];for(const T in d){const S=n.getValue(T,n.latestValues[T]??null),C=d[T];if(C===void 0||y&&Wk(y,T))continue;const P={delay:e,...lv(u||{},T)},U=S.get();if(U!==void 0&&!S.isAnimating&&!Array.isArray(C)&&C===U&&!P.velocity)continue;let z=!1;if(window.MotionHandoffAnimation){const G=gR(n);if(G){const st=window.MotionHandoffAnimation(G,T,ae);st!==null&&(P.startTime=st,z=!0)}}Lg(n,T);const X=p??n.shouldReduceMotion;S.start(uv(T,S,C,X&&mR.has(T)?{type:!1}:P,n,z));const K=S.animation;K&&g.push(K)}return c&&Promise.all(g).then(()=>{ae.update(()=>{c&&Qk(n,c)})}),g}function Ug(n,t,e={}){const s=Bo(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(o=e.transitionOverride);const u=s?()=>Promise.all(yR(n,s,e)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:T}=o;return Zk(n,t,p,g,y,T,e)}:()=>Promise.resolve(),{when:d}=o;if(d){const[p,g]=d==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(e.delay)])}function Zk(n,t,e=0,s=0,o=0,u=1,c){const d=[];for(const p of n.variantChildren)p.notify("AnimationStart",t),d.push(Ug(p,t,{...c,delay:e+(typeof s=="function"?0:s)+fR(n.variantChildren,p,s,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(d)}function Jk(n,t,e={}){n.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(u=>Ug(n,u,e));s=Promise.all(o)}else if(typeof t=="string")s=Ug(n,t,e);else{const o=typeof t=="function"?Bo(n,t,e.custom):t;s=Promise.all(yR(n,o,e))}return s.then(()=>{n.notify("AnimationComplete",t)})}const t3={test:n=>n==="auto",parse:n=>n},vR=n=>t=>t.test(n),_R=[sl,pt,Qi,ur,C4,R4,t3],qS=n=>_R.find(vR(n));function e3(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Pw(n):!0}const n3=new Set(["brightness","contrast","saturate","opacity"]);function i3(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[s]=e.match(tv)||[];if(!s)return n;const o=e.replace(s,"");let u=n3.has(t)?1:0;return s!==e&&(u*=100),t+"("+u+o+")"}const s3=/\b([a-z-]*)\(.*?\)/gu,Bg={...Nr,getAnimatableNone:n=>{const t=n.match(s3);return t?t.map(i3).join(" "):n}},HS={...sl,transform:Math.round},r3={rotate:ur,rotateX:ur,rotateY:ur,rotateZ:ur,scale:Qh,scaleX:Qh,scaleY:Qh,scaleZ:Qh,skew:ur,skewX:ur,skewY:ur,distance:pt,translateX:pt,translateY:pt,translateZ:pt,x:pt,y:pt,z:pt,perspective:pt,transformPerspective:pt,opacity:Hu,originX:DS,originY:DS,originZ:pt},fv={borderWidth:pt,borderTopWidth:pt,borderRightWidth:pt,borderBottomWidth:pt,borderLeftWidth:pt,borderRadius:pt,borderTopLeftRadius:pt,borderTopRightRadius:pt,borderBottomRightRadius:pt,borderBottomLeftRadius:pt,width:pt,maxWidth:pt,height:pt,maxHeight:pt,top:pt,right:pt,bottom:pt,left:pt,inset:pt,insetBlock:pt,insetBlockStart:pt,insetBlockEnd:pt,insetInline:pt,insetInlineStart:pt,insetInlineEnd:pt,padding:pt,paddingTop:pt,paddingRight:pt,paddingBottom:pt,paddingLeft:pt,paddingBlock:pt,paddingBlockStart:pt,paddingBlockEnd:pt,paddingInline:pt,paddingInlineStart:pt,paddingInlineEnd:pt,margin:pt,marginTop:pt,marginRight:pt,marginBottom:pt,marginLeft:pt,marginBlock:pt,marginBlockStart:pt,marginBlockEnd:pt,marginInline:pt,marginInlineStart:pt,marginInlineEnd:pt,fontSize:pt,backgroundPositionX:pt,backgroundPositionY:pt,...r3,zIndex:HS,fillOpacity:Hu,strokeOpacity:Hu,numOctaves:HS},a3={...fv,color:Me,backgroundColor:Me,outlineColor:Me,fill:Me,stroke:Me,borderColor:Me,borderTopColor:Me,borderRightColor:Me,borderBottomColor:Me,borderLeftColor:Me,filter:Bg,WebkitFilter:Bg},TR=n=>a3[n];function ER(n,t){let e=TR(n);return e!==Bg&&(e=Nr),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const o3=new Set(["auto","none","0"]);function l3(n,t,e){let s=0,o;for(;s<n.length&&!o;){const u=n[s];typeof u=="string"&&!o3.has(u)&&Gu(u).values.length&&(o=n[s]),s++}if(o&&e)for(const u of t)n[u]=ER(e,o)}class u3 extends ov{constructor(t,e,s,o,u){super(t,e,s,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:s}=this;if(!e||!e.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let T=t[y];if(typeof T=="string"&&(T=T.trim(),Jy(T))){const S=dR(T,e.current);S!==void 0&&(t[y]=S),y===t.length-1&&(this.finalKeyframe=T)}}if(this.resolveNoneKeyframes(),!mR.has(s)||t.length!==2)return;const[o,u]=t,c=qS(o),d=qS(u),p=xS(o),g=xS(u);if(p!==g&&yr[s]){this.needsMeasurement=!0;return}if(c!==d)if(US(c)&&US(d))for(let y=0;y<t.length;y++){const T=t[y];typeof T=="string"&&(t[y]=parseFloat(T))}else yr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,s=[];for(let o=0;o<t.length;o++)(t[o]===null||e3(t[o]))&&s.push(o);s.length&&l3(t,s,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=yr[s](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const o=e[e.length-1];o!==void 0&&t.getValue(s,o).jump(o,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const o=t.getValue(e);o&&o.jump(this.measuredOrigin,!1);const u=s.length-1,c=s[u];s[u]=yr[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,p])=>{t.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function c3(n,t,e){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const o=e?.[n]??s.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n).filter(s=>s!=null)}const SR=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function zg(n){return Ow(n)&&"offsetHeight"in n}const{schedule:dv}=Yw(queueMicrotask,!1),hi={x:!1,y:!1};function AR(){return hi.x||hi.y}function h3(n){return n==="x"||n==="y"?hi[n]?null:(hi[n]=!0,()=>{hi[n]=!1}):hi.x||hi.y?null:(hi.x=hi.y=!0,()=>{hi.x=hi.y=!1})}function bR(n,t){const e=c3(n),s=new AbortController,o={passive:!0,...t,signal:s.signal};return[e,o,()=>s.abort()]}function GS(n){return!(n.pointerType==="touch"||AR())}function f3(n,t,e={}){const[s,o,u]=bR(n,e),c=d=>{if(!GS(d))return;const{target:p}=d,g=t(p,d);if(typeof g!="function"||!p)return;const y=T=>{GS(T)&&(g(T),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,o)};return s.forEach(d=>{d.addEventListener("pointerenter",c,o)}),u}const wR=(n,t)=>t?n===t?!0:wR(n,t.parentElement):!1,mv=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,d3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function RR(n){return d3.has(n.tagName)||n.isContentEditable===!0}const cf=new WeakSet;function KS(n){return t=>{t.key==="Enter"&&n(t)}}function jp(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const m3=(n,t)=>{const e=n.currentTarget;if(!e)return;const s=KS(()=>{if(cf.has(e))return;jp(e,"down");const o=KS(()=>{jp(e,"up")}),u=()=>jp(e,"cancel");e.addEventListener("keyup",o,t),e.addEventListener("blur",u,t)});e.addEventListener("keydown",s,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",s),t)};function YS(n){return mv(n)&&!AR()}function p3(n,t,e={}){const[s,o,u]=bR(n,e),c=d=>{const p=d.currentTarget;if(!YS(d))return;cf.add(p);const g=t(p,d),y=(C,P)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",S),cf.has(p)&&cf.delete(p),YS(C)&&typeof g=="function"&&g(C,{success:P})},T=C=>{y(C,p===window||p===document||e.useGlobalTarget||wR(p,C.target))},S=C=>{y(C,!1)};window.addEventListener("pointerup",T,o),window.addEventListener("pointercancel",S,o)};return s.forEach(d=>{(e.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),zg(d)&&(d.addEventListener("focus",g=>m3(g,o)),!RR(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}function CR(n){return Ow(n)&&"ownerSVGElement"in n}function g3(n){return CR(n)&&n.tagName==="svg"}const y3=[..._R,Me,Nr],v3=n=>y3.find(vR(n)),QS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vo=()=>({x:QS(),y:QS()}),XS=()=>({min:0,max:0}),Ue=()=>({x:XS(),y:XS()}),jg={current:null},IR={current:!1},_3=typeof window<"u";function T3(){if(IR.current=!0,!!_3)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>jg.current=n.matches;n.addEventListener("change",t),t()}else jg.current=!1}const E3=new WeakMap;function pd(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Ku(n){return typeof n=="string"||Array.isArray(n)}const pv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gv=["initial",...pv];function gd(n){return pd(n.animate)||gv.some(t=>Ku(n[t]))}function xR(n){return!!(gd(n)||n.variants)}function S3(n,t,e){for(const s in t){const o=t[s],u=e[s];if(ln(o))n.addValue(s,o);else if(ln(u))n.addValue(s,Qo(o,{owner:n}));else if(u!==o)if(n.hasValue(s)){const c=n.getValue(s);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(s);n.addValue(s,Qo(c!==void 0?c:o,{owner:n}))}}for(const s in e)t[s]===void 0&&n.removeValue(s);return t}const $S=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Bf={};function DR(n){Bf=n}function A3(){return Bf}class b3{scrapeMotionValuesFromProps(t,e,s){return{}}constructor({parent:t,props:e,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ov,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=mn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,ae.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=e.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=e,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=gd(e),this.isVariantNode=xR(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...T}=this.scrapeMotionValuesFromProps(e,{},this);for(const S in T){const C=T[S];p[S]!==void 0&&ln(C)&&C.set(p[S])}}mount(t){this.current=t,E3.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,s)=>this.bindToMotionValue(s,e)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(IR.current||T3(),this.shouldReduceMotion=jg.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Mr(this.notifyUpdate),Mr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=al.has(t);s&&this.onBindTransform&&this.onBindTransform();const o=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ae.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;typeof window<"u"&&window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Bf){const e=Bf[t];if(!e)continue;const{isEnabled:s,Feature:o}=e;if(!this.features[t]&&o&&s(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ue()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let s=0;s<$S.length;s++){const o=$S[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=S3(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const s=this.values.get(t);e!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&e!==void 0&&(s=Qo(e===null?void 0:e,{owner:this}),this.addValue(t,s)),s}readValue(t,e){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Nw(s)||Pw(s))?s=parseFloat(s):!v3(s)&&Nr.test(e)&&(s=ER(t,e)),this.setBaseTarget(t,ln(s)?s.get():s)),ln(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let s;if(typeof e=="string"||typeof e=="object"){const u=cv(this.props,e,this.presenceContext?.custom);u&&(s=u[t])}if(e&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!ln(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new $y),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){dv.render(this.render)}}class VR extends b3{constructor(){super(...arguments),this.KeyframeResolver=u3}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){const s=t.style;return s?s[e]:void 0}removeValueFromRenderState(t,{vars:e,style:s}){delete e[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ln(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class Ur{constructor(t){this.isMounted=!1,this.node=t}update(){}}function MR({top:n,left:t,right:e,bottom:s}){return{x:{min:t,max:e},y:{min:n,max:s}}}function w3({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function R3(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),s=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:s.y,right:s.x}}function Fp(n){return n===void 0||n===1}function Fg({scale:n,scaleX:t,scaleY:e}){return!Fp(n)||!Fp(t)||!Fp(e)}function _a(n){return Fg(n)||NR(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function NR(n){return WS(n.x)||WS(n.y)}function WS(n){return n&&n!=="0%"}function zf(n,t,e){const s=n-e,o=t*s;return e+o}function ZS(n,t,e,s,o){return o!==void 0&&(n=zf(n,o,s)),zf(n,e,s)+t}function qg(n,t=0,e=1,s,o){n.min=ZS(n.min,t,e,s,o),n.max=ZS(n.max,t,e,s,o)}function OR(n,{x:t,y:e}){qg(n.x,t.translate,t.scale,t.originPoint),qg(n.y,e.translate,e.scale,e.originPoint)}const JS=.999999999999,tA=1.0000000000001;function C3(n,t,e,s=!1){const o=e.length;if(!o)return;t.x=t.y=1;let u,c;for(let d=0;d<o;d++){u=e[d],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&No(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,OR(n,c)),s&&_a(u.latestValues)&&No(n,u.latestValues))}t.x<tA&&t.x>JS&&(t.x=1),t.y<tA&&t.y>JS&&(t.y=1)}function Mo(n,t){n.min=n.min+t,n.max=n.max+t}function eA(n,t,e,s,o=.5){const u=ce(n.min,n.max,o);qg(n,t,e,u,s)}function No(n,t){eA(n.x,t.x,t.scaleX,t.scale,t.originX),eA(n.y,t.y,t.scaleY,t.scale,t.originY)}function PR(n,t){return MR(R3(n.getBoundingClientRect(),t))}function I3(n,t,e){const s=PR(n,e),{scroll:o}=t;return o&&(Mo(s.x,o.offset.x),Mo(s.y,o.offset.y)),s}const x3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},D3=rl.length;function V3(n,t,e){let s="",o=!0;for(let u=0;u<D3;u++){const c=rl[u],d=n[c];if(d===void 0)continue;let p=!0;if(typeof d=="number")p=d===(c.startsWith("scale")?1:0);else{const g=parseFloat(d);p=c.startsWith("scale")?g===1:g===0}if(!p||e){const g=SR(d,fv[c]);if(!p){o=!1;const y=x3[c]||c;s+=`${y}(${g}) `}e&&(t[c]=g)}}return s=s.trim(),e?s=e(t,o?"":s):o&&(s="none"),s}function yv(n,t,e){const{style:s,vars:o,transformOrigin:u}=n;let c=!1,d=!1;for(const p in t){const g=t[p];if(al.has(p)){c=!0;continue}else if(Xw(p)){o[p]=g;continue}else{const y=SR(g,fv[p]);p.startsWith("origin")?(d=!0,u[p]=y):s[p]=y}}if(t.transform||(c||e?s.transform=V3(t,n.transform,e):s.transform&&(s.transform="none")),d){const{originX:p="50%",originY:g="50%",originZ:y=0}=u;s.transformOrigin=`${p} ${g} ${y}`}}function kR(n,{style:t,vars:e},s,o){const u=n.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,s);for(c in e)u.setProperty(c,e[c])}function nA(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const mu={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(pt.test(n))n=parseFloat(n);else return n;const e=nA(n,t.target.x),s=nA(n,t.target.y);return`${e}% ${s}%`}},M3={correct:(n,{treeScale:t,projectionDelta:e})=>{const s=n,o=Nr.parse(n);if(o.length>5)return s;const u=Nr.createTransformer(n),c=typeof o[0]!="number"?1:0,d=e.x.scale*t.x,p=e.y.scale*t.y;o[0+c]/=d,o[1+c]/=p;const g=ce(d,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}},Hg={borderRadius:{...mu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mu,borderTopRightRadius:mu,borderBottomLeftRadius:mu,borderBottomRightRadius:mu,boxShadow:M3};function LR(n,{layout:t,layoutId:e}){return al.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!Hg[n]||n==="opacity")}function vv(n,t,e){const s=n.style,o=t?.style,u={};if(!s)return u;for(const c in s)(ln(s[c])||o&&ln(o[c])||LR(c,n)||e?.getValue(c)?.liveStyle!==void 0)&&(u[c]=s[c]);return u}function N3(n){return window.getComputedStyle(n)}class O3 extends VR{constructor(){super(...arguments),this.type="html",this.renderInstance=kR}readValueFromInstance(t,e){if(al.has(e))return this.projection?.isProjecting?Dg(e):ck(t,e);{const s=N3(t),o=(Xw(e)?s.getPropertyValue(e):s[e])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:e}){return PR(t,e)}build(t,e,s){yv(t,e,s.transformTemplate)}scrapeMotionValuesFromProps(t,e,s){return vv(t,e,s)}}const P3={offset:"stroke-dashoffset",array:"stroke-dasharray"},k3={offset:"strokeDashoffset",array:"strokeDasharray"};function L3(n,t,e=1,s=0,o=!0){n.pathLength=1;const u=o?P3:k3;n[u.offset]=`${-s}`,n[u.array]=`${t} ${e}`}const U3=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function UR(n,{attrX:t,attrY:e,attrScale:s,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...d},p,g,y){if(yv(n,d,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:T,style:S}=n;T.transform&&(S.transform=T.transform,delete T.transform),(S.transform||T.transformOrigin)&&(S.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),S.transform&&(S.transformBox=y?.transformBox??"fill-box",delete T.transformBox);for(const C of U3)T[C]!==void 0&&(S[C]=T[C],delete T[C]);t!==void 0&&(T.x=t),e!==void 0&&(T.y=e),s!==void 0&&(T.scale=s),o!==void 0&&L3(T,o,u,c,!1)}const BR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),zR=n=>typeof n=="string"&&n.toLowerCase()==="svg";function B3(n,t,e,s){kR(n,t,void 0,s);for(const o in t.attrs)n.setAttribute(BR.has(o)?o:hv(o),t.attrs[o])}function jR(n,t,e){const s=vv(n,t,e);for(const o in n)if(ln(n[o])||ln(t[o])){const u=rl.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[u]=n[o]}return s}class z3 extends VR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ue}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(al.has(e)){const s=TR(e);return s&&s.default||0}return e=BR.has(e)?e:hv(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,s){return jR(t,e,s)}build(t,e,s){UR(t,e,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,e,s,o){B3(t,e,s,o)}mount(t){this.isSVGTag=zR(t.tagName),super.mount(t)}}const j3=gv.length;function FR(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?FR(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<j3;e++){const s=gv[e],o=n.props[s];(Ku(o)||o===!1)&&(t[s]=o)}return t}function qR(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let s=0;s<e;s++)if(t[s]!==n[s])return!1;return!0}const F3=[...pv].reverse(),q3=pv.length;function H3(n){return t=>Promise.all(t.map(({animation:e,options:s})=>Jk(n,e,s)))}function G3(n){let t=H3(n),e=iA(),s=!0;const o=p=>(g,y)=>{const T=Bo(n,y,p==="exit"?n.presenceContext?.custom:void 0);if(T){const{transition:S,transitionEnd:C,...P}=T;g={...g,...P,...C}}return g};function u(p){t=p(n)}function c(p){const{props:g}=n,y=FR(n.parent)||{},T=[],S=new Set;let C={},P=1/0;for(let z=0;z<q3;z++){const X=F3[z],K=e[X],G=g[X]!==void 0?g[X]:y[X],st=Ku(G),at=X===p?K.isActive:null;at===!1&&(P=z);let ot=G===y[X]&&G!==g[X]&&st;if(ot&&s&&n.manuallyAnimateOnMount&&(ot=!1),K.protectedKeys={...C},!K.isActive&&at===null||!G&&!K.prevProp||pd(G)||typeof G=="boolean")continue;const I=K3(K.prevProp,G);let w=I||X===p&&K.isActive&&!ot&&st||z>P&&st,R=!1;const M=Array.isArray(G)?G:[G];let V=M.reduce(o(X),{});at===!1&&(V={});const{prevResolvedValues:k={}}=K,x={...k,...V},ee=rt=>{w=!0,S.has(rt)&&(R=!0,S.delete(rt)),K.needsAnimating[rt]=!0;const dt=n.getValue(rt);dt&&(dt.liveStyle=!1)};for(const rt in x){const dt=V[rt],It=k[rt];if(C.hasOwnProperty(rt))continue;let Nt=!1;kg(dt)&&kg(It)?Nt=!qR(dt,It):Nt=dt!==It,Nt?dt!=null?ee(rt):S.add(rt):dt!==void 0&&S.has(rt)?ee(rt):K.protectedKeys[rt]=!0}K.prevProp=G,K.prevResolvedValues=V,K.isActive&&(C={...C,...V}),s&&n.blockInitialAnimation&&(w=!1);const fe=ot&&I;w&&(!fe||R)&&T.push(...M.map(rt=>{const dt={type:X};if(typeof rt=="string"&&s&&!fe&&n.manuallyAnimateOnMount&&n.parent){const{parent:It}=n,Nt=Bo(It,rt);if(It.enteringChildren&&Nt){const{delayChildren:O}=Nt.transition||{};dt.delay=fR(It.enteringChildren,n,O)}}return{animation:rt,options:dt}}))}if(S.size){const z={};if(typeof g.initial!="boolean"){const X=Bo(n,Array.isArray(g.initial)?g.initial[0]:g.initial);X&&X.transition&&(z.transition=X.transition)}S.forEach(X=>{const K=n.getBaseTarget(X),G=n.getValue(X);G&&(G.liveStyle=!0),z[X]=K??null}),T.push({animation:z})}let U=!!T.length;return s&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(U=!1),s=!1,U?t(T):Promise.resolve()}function d(p,g){if(e[p].isActive===g)return Promise.resolve();n.variantChildren?.forEach(T=>T.animationState?.setActive(p,g)),e[p].isActive=g;const y=c(p);for(const T in e)e[T].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:u,getState:()=>e,reset:()=>{e=iA()}}}function K3(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!qR(t,n):!1}function ga(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function iA(){return{animate:ga(!0),whileInView:ga(),whileHover:ga(),whileTap:ga(),whileDrag:ga(),whileFocus:ga(),exit:ga()}}function sA(n,t){n.min=t.min,n.max=t.max}function ci(n,t){sA(n.x,t.x),sA(n.y,t.y)}function rA(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}const HR=1e-4,Y3=1-HR,Q3=1+HR,GR=.01,X3=0-GR,$3=0+GR;function pn(n){return n.max-n.min}function W3(n,t,e){return Math.abs(n-t)<=e}function aA(n,t,e,s=.5){n.origin=s,n.originPoint=ce(t.min,t.max,n.origin),n.scale=pn(e)/pn(t),n.translate=ce(e.min,e.max,n.origin)-n.originPoint,(n.scale>=Y3&&n.scale<=Q3||isNaN(n.scale))&&(n.scale=1),(n.translate>=X3&&n.translate<=$3||isNaN(n.translate))&&(n.translate=0)}function xu(n,t,e,s){aA(n.x,t.x,e.x,s?s.originX:void 0),aA(n.y,t.y,e.y,s?s.originY:void 0)}function oA(n,t,e){n.min=e.min+t.min,n.max=n.min+pn(t)}function Z3(n,t,e){oA(n.x,t.x,e.x),oA(n.y,t.y,e.y)}function lA(n,t,e){n.min=t.min-e.min,n.max=n.min+pn(t)}function jf(n,t,e){lA(n.x,t.x,e.x),lA(n.y,t.y,e.y)}function uA(n,t,e,s,o){return n-=t,n=zf(n,1/e,s),o!==void 0&&(n=zf(n,1/o,s)),n}function J3(n,t=0,e=1,s=.5,o,u=n,c=n){if(Qi.test(t)&&(t=parseFloat(t),t=ce(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=ce(u.min,u.max,s);n===u&&(d-=t),n.min=uA(n.min,t,e,d,o),n.max=uA(n.max,t,e,d,o)}function cA(n,t,[e,s,o],u,c){J3(n,t[e],t[s],t[o],t.scale,u,c)}const tL=["x","scaleX","originX"],eL=["y","scaleY","originY"];function hA(n,t,e,s){cA(n.x,t,tL,e?e.x:void 0,s?s.x:void 0),cA(n.y,t,eL,e?e.y:void 0,s?s.y:void 0)}function fA(n){return n.translate===0&&n.scale===1}function KR(n){return fA(n.x)&&fA(n.y)}function dA(n,t){return n.min===t.min&&n.max===t.max}function nL(n,t){return dA(n.x,t.x)&&dA(n.y,t.y)}function mA(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function YR(n,t){return mA(n.x,t.x)&&mA(n.y,t.y)}function pA(n){return pn(n.x)/pn(n.y)}function gA(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}function Xn(n){return[n("x"),n("y")]}function iL(n,t,e){let s="";const o=n.x.translate/t.x,u=n.y.translate/t.y,c=e?.z||0;if((o||u||c)&&(s=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:g,rotate:y,rotateX:T,rotateY:S,skewX:C,skewY:P}=e;g&&(s=`perspective(${g}px) ${s}`),y&&(s+=`rotate(${y}deg) `),T&&(s+=`rotateX(${T}deg) `),S&&(s+=`rotateY(${S}deg) `),C&&(s+=`skewX(${C}deg) `),P&&(s+=`skewY(${P}deg) `)}const d=n.x.scale*t.x,p=n.y.scale*t.y;return(d!==1||p!==1)&&(s+=`scale(${d}, ${p})`),s||"none"}const QR=["TopLeft","TopRight","BottomLeft","BottomRight"],sL=QR.length,yA=n=>typeof n=="string"?parseFloat(n):n,vA=n=>typeof n=="number"||pt.test(n);function rL(n,t,e,s,o,u){o?(n.opacity=ce(0,e.opacity??1,aL(s)),n.opacityExit=ce(t.opacity??1,0,oL(s))):u&&(n.opacity=ce(t.opacity??1,e.opacity??1,s));for(let c=0;c<sL;c++){const d=`border${QR[c]}Radius`;let p=_A(t,d),g=_A(e,d);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||vA(p)===vA(g)?(n[d]=Math.max(ce(yA(p),yA(g),s),0),(Qi.test(g)||Qi.test(p))&&(n[d]+="%")):n[d]=g}(t.rotate||e.rotate)&&(n.rotate=ce(t.rotate||0,e.rotate||0,s))}function _A(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const aL=XR(0,.5,qw),oL=XR(.5,.95,Wn);function XR(n,t,e){return s=>s<n?0:s>t?1:e(qu(n,t,s))}function lL(n,t,e){const s=ln(n)?n:Qo(n);return s.start(uv("",s,t,e)),s.animation}function Yu(n,t,e,s={passive:!0}){return n.addEventListener(t,e,s),()=>n.removeEventListener(t,e)}const uL=(n,t)=>n.depth-t.depth;class cL{constructor(){this.children=[],this.isDirty=!1}add(t){Ky(this.children,t),this.isDirty=!0}remove(t){Yy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(uL),this.isDirty=!1,this.children.forEach(t)}}function hL(n,t){const e=mn.now(),s=({timestamp:o})=>{const u=o-e;u>=t&&(Mr(s),n(u-t))};return ae.setup(s,!0),()=>Mr(s)}function hf(n){return ln(n)?n.get():n}class fL{constructor(){this.members=[]}add(t){Ky(this.members,t),t.scheduleRender()}remove(t){if(Yy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(o=>t===o);if(e===0)return!1;let s;for(let o=e;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(t,e){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender();const o=s.options.layoutDependency,u=t.options.layoutDependency;o!==void 0&&u!==void 0&&o===u||(t.resumeFrom=s,e&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:d}=t.options;d===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:s}=t;e.onExitComplete&&e.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const ff={hasAnimatedSinceResize:!0,hasEverUpdated:!1},qp=["","X","Y","Z"],dL=1e3;let mL=0;function Hp(n,t,e,s){const{latestValues:o}=t;o[n]&&(e[n]=o[n],t.setStaticValue(n,0),s&&(s[n]=0))}function $R(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=gR(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",ae,!(o||u))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&$R(s)}function WR({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(c={},d=t?.()){this.id=mL++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(yL),this.nodes.forEach(EL),this.nodes.forEach(SL),this.nodes.forEach(vL)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new cL)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new $y),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const p=this.eventHandlers.get(c);p&&p.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=CR(c)&&!g3(c),this.instance=c;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),n){let y,T=0;const S=()=>this.root.updateBlockedByResize=!1;ae.read(()=>{T=window.innerWidth}),n(c,()=>{const C=window.innerWidth;C!==T&&(T=C,this.root.updateBlockedByResize=!0,y&&y(),y=hL(S,250),ff.hasAnimatedSinceResize&&(ff.hasAnimatedSinceResize=!1,this.nodes.forEach(SA)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:T,hasRelativeLayoutChanged:S,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||g.getDefaultTransition()||CL,{onLayoutAnimationStart:U,onLayoutAnimationComplete:z}=g.getProps(),X=!this.targetLayout||!YR(this.targetLayout,C),K=!T&&S;if(this.options.layoutRoot||this.resumeFrom||K||T&&(X||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const G={...lv(P,"layout"),onPlay:U,onComplete:z};(g.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G),this.setAnimationOrigin(y,K)}else T||SA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Mr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(AL),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$R(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const T=this.path[y];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(TA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(EA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(TL),this.nodes.forEach(pL),this.nodes.forEach(gL)):this.nodes.forEach(EA),this.clearAllSnapshots();const d=mn.now();Je.delta=$i(0,1e3/60,d-Je.timestamp),Je.timestamp=d,Je.isProcessing=!0,Pp.update.process(Je),Pp.preRender.process(Je),Pp.render.process(Je),Je.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,dv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_L),this.sharedNodes.forEach(bL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pn(this.snapshot.measuredBox.x)&&!pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ue(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!KR(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||_a(this.latestValues)||y)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return c&&(p=this.removeTransform(p)),IL(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ue();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(xL))){const{scroll:g}=this.root;g&&(Mo(d.x,g.offset.x),Mo(d.y,g.offset.y))}return d}removeElementScroll(c){const d=Ue();if(ci(d,c),this.scroll?.wasRoot)return d;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:T}=g;g!==this.root&&y&&T.layoutScroll&&(y.wasRoot&&ci(d,c),Mo(d.x,y.offset.x),Mo(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const p=Ue();ci(p,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&No(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),_a(y.latestValues)&&No(p,y.latestValues)}return _a(this.latestValues)&&No(p,this.latestValues),p}removeTransform(c){const d=Ue();ci(d,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!_a(g.latestValues))continue;Fg(g.latestValues)&&g.updateSnapshot();const y=Ue(),T=g.measurePageBox();ci(y,T),hA(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return _a(this.latestValues)&&hA(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Je.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:T}=this.options;if(!this.layout||!(y||T))return;this.resolvedRelativeTargetAt=Je.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ue(),this.targetWithTransforms=Ue()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Z3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ci(this.target,this.layout.layoutBox),OR(this.target,this.targetDelta)):ci(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Fg(this.parent.latestValues)||NR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),jf(this.relativeTargetOrigin,d,p),ci(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Je.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;ci(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,S=this.treeScale.y;C3(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ue());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(rA(this.prevProjectionDelta.x,this.projectionDelta.x),rA(this.prevProjectionDelta.y,this.projectionDelta.y)),xu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==S||!gA(this.projectionDelta.x,this.prevProjectionDelta.x)||!gA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vo(),this.projectionDelta=Vo(),this.projectionDeltaWithTransform=Vo()}setAnimationOrigin(c,d=!1){const p=this.snapshot,g=p?p.latestValues:{},y={...this.latestValues},T=Vo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=Ue(),C=p?p.source:void 0,P=this.layout?this.layout.source:void 0,U=C!==P,z=this.getStack(),X=!z||z.members.length<=1,K=!!(U&&!X&&this.options.crossfade===!0&&!this.path.some(RL));this.animationProgress=0;let G;this.mixTargetDelta=st=>{const at=st/1e3;AA(T.x,c.x,at),AA(T.y,c.y,at),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jf(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wL(this.relativeTarget,this.relativeTargetOrigin,S,at),G&&nL(this.relativeTarget,G)&&(this.isProjectionDirty=!1),G||(G=Ue()),ci(G,this.relativeTarget)),U&&(this.animationValues=y,rL(y,g,this.latestValues,at,K,X)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=at},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Mr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{ff.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Qo(0)),this.currentAnimation=lL(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:p,layout:g,latestValues:y}=c;if(!(!d||!p||!g)){if(this!==c&&this.layout&&g&&ZR(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Ue();const T=pn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+T;const S=pn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+S}ci(d,p),No(d,y),xu(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new fL),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const g={};p.z&&Hp("z",c,g,this.animationValues);for(let y=0;y<qp.length;y++)Hp(`rotate${qp[y]}`,c,g,this.animationValues),Hp(`skew${qp[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=hf(d?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=hf(d?.pointerEvents)||""),this.hasProjected&&!_a(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let T=iL(this.projectionDeltaWithTransform,this.treeScale,y);p&&(T=p(y,T)),c.transform=T;const{x:S,y:C}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${C.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const P in Hg){if(y[P]===void 0)continue;const{correct:U,applyTo:z,isCSSVariable:X}=Hg[P],K=T==="none"?y[P]:U(y[P],g);if(z){const G=z.length;for(let st=0;st<G;st++)c[z[st]]=K}else X?this.options.visualElement.renderState.vars[P]=K:c[P]=K}this.options.layoutId&&(c.pointerEvents=g===this?hf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(TA),this.root.sharedNodes.clear()}}}function pL(n){n.updateLayout()}function gL(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:s}=n.layout,{animationType:o}=n.options,u=t.source!==n.layout.source;o==="size"?Xn(y=>{const T=u?t.measuredBox[y]:t.layoutBox[y],S=pn(T);T.min=e[y].min,T.max=T.min+S}):ZR(o,t.layoutBox,e)&&Xn(y=>{const T=u?t.measuredBox[y]:t.layoutBox[y],S=pn(e[y]);T.max=T.min+S,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+S)});const c=Vo();xu(c,e,t.layoutBox);const d=Vo();u?xu(d,n.applyTransform(s,!0),t.measuredBox):xu(d,e,t.layoutBox);const p=!KR(c);let g=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:T,layout:S}=y;if(T&&S){const C=Ue();jf(C,t.layoutBox,T.layoutBox);const P=Ue();jf(P,e,S.layoutBox),YR(C,P)||(g=!0),y.options.layoutRoot&&(n.relativeTarget=P,n.relativeTargetOrigin=C,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function yL(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function vL(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function _L(n){n.clearSnapshot()}function TA(n){n.clearMeasurements()}function EA(n){n.isLayoutDirty=!1}function TL(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function SA(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function EL(n){n.resolveTargetDelta()}function SL(n){n.calcProjection()}function AL(n){n.resetSkewAndRotation()}function bL(n){n.removeLeadSnapshot()}function AA(n,t,e){n.translate=ce(t.translate,0,e),n.scale=ce(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function bA(n,t,e,s){n.min=ce(t.min,e.min,s),n.max=ce(t.max,e.max,s)}function wL(n,t,e,s){bA(n.x,t.x,e.x,s),bA(n.y,t.y,e.y,s)}function RL(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const CL={duration:.45,ease:[.4,0,.1,1]},wA=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),RA=wA("applewebkit/")&&!wA("chrome/")?Math.round:Wn;function CA(n){n.min=RA(n.min),n.max=RA(n.max)}function IL(n){CA(n.x),CA(n.y)}function ZR(n,t,e){return n==="position"||n==="preserve-aspect"&&!W3(pA(t),pA(e),.2)}function xL(n){return n!==n.root&&n.scroll?.wasRoot}const DL=WR({attachResizeListener:(n,t)=>Yu(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Gp={current:void 0},JR=WR({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Gp.current){const n=new DL({});n.mount(window),n.setOptions({layoutScroll:!0}),Gp.current=n}return Gp.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),_v=W.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function IA(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function VL(...n){return t=>{let e=!1;const s=n.map(o=>{const u=IA(o,t);return!e&&typeof u=="function"&&(e=!0),u});if(e)return()=>{for(let o=0;o<s.length;o++){const u=s[o];typeof u=="function"?u():IA(n[o],null)}}}}function ML(...n){return W.useCallback(VL(...n),n)}class NL extends W.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const s=e.offsetParent,o=zg(s)&&s.offsetWidth||0,u=zg(s)&&s.offsetHeight||0,c=this.props.sizeRef.current;c.height=e.offsetHeight||0,c.width=e.offsetWidth||0,c.top=e.offsetTop,c.left=e.offsetLeft,c.right=o-c.width-c.left,c.bottom=u-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function OL({children:n,isPresent:t,anchorX:e,anchorY:s,root:o}){const u=W.useId(),c=W.useRef(null),d=W.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=W.useContext(_v),g=n.props?.ref??n?.ref,y=ML(c,g);return W.useInsertionEffect(()=>{const{width:T,height:S,top:C,left:P,right:U,bottom:z}=d.current;if(t||!c.current||!T||!S)return;const X=e==="left"?`left: ${P}`:`right: ${U}`,K=s==="bottom"?`bottom: ${z}`:`top: ${C}`;c.current.dataset.motionPopId=u;const G=document.createElement("style");p&&(G.nonce=p);const st=o??document.head;return st.appendChild(G),G.sheet&&G.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${T}px !important;
            height: ${S}px !important;
            ${X}px !important;
            ${K}px !important;
          }
        `),()=>{st.contains(G)&&st.removeChild(G)}},[t]),H.jsx(NL,{isPresent:t,childRef:c,sizeRef:d,children:W.cloneElement(n,{ref:y})})}const PL=({children:n,initial:t,isPresent:e,onExitComplete:s,custom:o,presenceAffectsLayout:u,mode:c,anchorX:d,anchorY:p,root:g})=>{const y=Gy(kL),T=W.useId();let S=!0,C=W.useMemo(()=>(S=!1,{id:T,initial:t,isPresent:e,custom:o,onExitComplete:P=>{y.set(P,!0);for(const U of y.values())if(!U)return;s&&s()},register:P=>(y.set(P,!1),()=>y.delete(P))}),[e,y,s]);return u&&S&&(C={...C}),W.useMemo(()=>{y.forEach((P,U)=>y.set(U,!1))},[e]),W.useEffect(()=>{!e&&!y.size&&s&&s()},[e]),c==="popLayout"&&(n=H.jsx(OL,{isPresent:e,anchorX:d,anchorY:p,root:g,children:n})),H.jsx(md.Provider,{value:C,children:n})};function kL(){return new Map}function tC(n=!0){const t=W.useContext(md);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:s,register:o}=t,u=W.useId();W.useEffect(()=>{if(n)return o(u)},[n]);const c=W.useCallback(()=>n&&s&&s(u),[u,s,n]);return!e&&s?[!1,c]:[!0]}const Xh=n=>n.key||"";function xA(n){const t=[];return W.Children.forEach(n,e=>{W.isValidElement(e)&&t.push(e)}),t}const yd=({children:n,custom:t,initial:e=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:d="left",anchorY:p="top",root:g})=>{const[y,T]=tC(c),S=W.useMemo(()=>xA(n),[n]),C=c&&!y?[]:S.map(Xh),P=W.useRef(!0),U=W.useRef(S),z=Gy(()=>new Map),X=W.useRef(new Set),[K,G]=W.useState(S),[st,at]=W.useState(S);Mw(()=>{P.current=!1,U.current=S;for(let w=0;w<st.length;w++){const R=Xh(st[w]);C.includes(R)?(z.delete(R),X.current.delete(R)):z.get(R)!==!0&&z.set(R,!1)}},[st,C.length,C.join("-")]);const ot=[];if(S!==K){let w=[...S];for(let R=0;R<st.length;R++){const M=st[R],V=Xh(M);C.includes(V)||(w.splice(R,0,M),ot.push(M))}return u==="wait"&&ot.length&&(w=ot),at(xA(w)),G(S),null}const{forceRender:I}=W.useContext(Hy);return H.jsx(H.Fragment,{children:st.map(w=>{const R=Xh(w),M=c&&!y?!1:S===st||C.includes(R),V=()=>{if(X.current.has(R))return;if(X.current.add(R),z.has(R))z.set(R,!0);else return;let k=!0;z.forEach(x=>{x||(k=!1)}),k&&(I?.(),at(U.current),c&&T?.(),s&&s())};return H.jsx(PL,{isPresent:M,initial:!P.current||e?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:g,onExitComplete:M?void 0:V,anchorX:d,anchorY:p,children:w},R)})})},eC=W.createContext({strict:!1}),DA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let VA=!1;function LL(){if(VA)return;const n={};for(const t in DA)n[t]={isEnabled:e=>DA[t].some(s=>!!e[s])};DR(n),VA=!0}function nC(){return LL(),A3()}function UL(n){const t=nC();for(const e in n)t[e]={...t[e],...n[e]};DR(t)}const BL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ff(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||BL.has(n)}let iC=n=>!Ff(n);function zL(n){typeof n=="function"&&(iC=t=>t.startsWith("on")?!Ff(t):n(t))}try{zL(require("@emotion/is-prop-valid").default)}catch{}function jL(n,t,e){const s={};for(const o in n)o==="values"&&typeof n.values=="object"||(iC(o)||e===!0&&Ff(o)||!t&&!Ff(o)||n.draggable&&o.startsWith("onDrag"))&&(s[o]=n[o]);return s}const vd=W.createContext({});function FL(n,t){if(gd(n)){const{initial:e,animate:s}=n;return{initial:e===!1||Ku(e)?e:void 0,animate:Ku(s)?s:void 0}}return n.inherit!==!1?t:{}}function qL(n){const{initial:t,animate:e}=FL(n,W.useContext(vd));return W.useMemo(()=>({initial:t,animate:e}),[MA(t),MA(e)])}function MA(n){return Array.isArray(n)?n.join(" "):n}const Tv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sC(n,t,e){for(const s in t)!ln(t[s])&&!LR(s,e)&&(n[s]=t[s])}function HL({transformTemplate:n},t){return W.useMemo(()=>{const e=Tv();return yv(e,t,n),Object.assign({},e.vars,e.style)},[t])}function GL(n,t){const e=n.style||{},s={};return sC(s,e,n),Object.assign(s,HL(n,t)),s}function KL(n,t){const e={},s=GL(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=s,e}const rC=()=>({...Tv(),attrs:{}});function YL(n,t,e,s){const o=W.useMemo(()=>{const u=rC();return UR(u,t,zR(s),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};sC(u,n.style,n),o.style={...u,...o.style}}return o}const QL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ev(n){return typeof n!="string"||n.includes("-")?!1:!!(QL.indexOf(n)>-1||/[A-Z]/u.test(n))}function XL(n,t,e,{latestValues:s},o,u=!1,c){const p=(c??Ev(n)?YL:KL)(t,s,o,n),g=jL(t,typeof n=="string",u),y=n!==W.Fragment?{...g,...p,ref:e}:{},{children:T}=t,S=W.useMemo(()=>ln(T)?T.get():T,[T]);return W.createElement(n,{...y,children:S})}function $L({scrapeMotionValuesFromProps:n,createRenderState:t},e,s,o){return{latestValues:WL(e,s,o,n),renderState:t()}}function WL(n,t,e,s){const o={},u=s(n,{});for(const S in u)o[S]=hf(u[S]);let{initial:c,animate:d}=n;const p=gd(n),g=xR(n);t&&g&&!p&&n.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=e?e.initial===!1:!1;y=y||c===!1;const T=y?d:c;if(T&&typeof T!="boolean"&&!pd(T)){const S=Array.isArray(T)?T:[T];for(let C=0;C<S.length;C++){const P=cv(n,S[C]);if(P){const{transitionEnd:U,transition:z,...X}=P;for(const K in X){let G=X[K];if(Array.isArray(G)){const st=y?G.length-1:0;G=G[st]}G!==null&&(o[K]=G)}for(const K in U)o[K]=U[K]}}}return o}const aC=n=>(t,e)=>{const s=W.useContext(vd),o=W.useContext(md),u=()=>$L(n,t,s,o);return e?u():Gy(u)},ZL=aC({scrapeMotionValuesFromProps:vv,createRenderState:Tv}),JL=aC({scrapeMotionValuesFromProps:jR,createRenderState:rC}),t6=Symbol.for("motionComponentSymbol");function e6(n,t,e){const s=W.useRef(e);W.useInsertionEffect(()=>{s.current=e});const o=W.useRef(null);return W.useCallback(u=>{u&&n.onMount?.(u),t&&(u?t.mount(u):t.unmount());const c=s.current;if(typeof c=="function")if(u){const d=c(u);typeof d=="function"&&(o.current=d)}else o.current?(o.current(),o.current=null):c(u);else c&&(c.current=u)},[t])}const oC=W.createContext({});function _u(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function n6(n,t,e,s,o,u){const{visualElement:c}=W.useContext(vd),d=W.useContext(eC),p=W.useContext(md),g=W.useContext(_v).reducedMotion,y=W.useRef(null),T=W.useRef(!1);s=s||d.renderer,!y.current&&s&&(y.current=s(n,{visualState:t,parent:c,props:e,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g,isSVG:u}),T.current&&y.current&&(y.current.manuallyAnimateOnMount=!0));const S=y.current,C=W.useContext(oC);S&&!S.projection&&o&&(S.type==="html"||S.type==="svg")&&i6(y.current,e,o,C);const P=W.useRef(!1);W.useInsertionEffect(()=>{S&&P.current&&S.update(e,p)});const U=e[pR],z=W.useRef(!!U&&!window.MotionHandoffIsComplete?.(U)&&window.MotionHasOptimisedAnimation?.(U));return Mw(()=>{T.current=!0,S&&(P.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),S.scheduleRenderMicrotask(),z.current&&S.animationState&&S.animationState.animateChanges())}),W.useEffect(()=>{S&&(!z.current&&S.animationState&&S.animationState.animateChanges(),z.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(U)}),z.current=!1),S.enteringChildren=void 0)}),S}function i6(n,t,e,s){const{layoutId:o,layout:u,drag:c,dragConstraints:d,layoutScroll:p,layoutRoot:g,layoutCrossfade:y}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:lC(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||d&&_u(d),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:p,layoutRoot:g})}function lC(n){if(n)return n.options.allowProjection!==!1?n.projection:lC(n.parent)}function Kp(n,{forwardMotionProps:t=!1,type:e}={},s,o){s&&UL(s);const u=e?e==="svg":Ev(n),c=u?JL:ZL;function d(g,y){let T;const S={...W.useContext(_v),...g,layoutId:s6(g)},{isStatic:C}=S,P=qL(g),U=c(g,C);if(!C&&Vw){r6();const z=a6(S);T=z.MeasureLayout,P.visualElement=n6(n,U,S,o,z.ProjectionNode,u)}return H.jsxs(vd.Provider,{value:P,children:[T&&P.visualElement?H.jsx(T,{visualElement:P.visualElement,...S}):null,XL(n,g,e6(U,P.visualElement,y),U,C,t,u)]})}d.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const p=W.forwardRef(d);return p[t6]=n,p}function s6({layoutId:n}){const t=W.useContext(Hy).id;return t&&n!==void 0?t+"-"+n:n}function r6(n,t){W.useContext(eC).strict}function a6(n){const t=nC(),{drag:e,layout:s}=t;if(!e&&!s)return{};const o={...e,...s};return{MeasureLayout:e?.isEnabled(n)||s?.isEnabled(n)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function o6(n,t){if(typeof Proxy>"u")return Kp;const e=new Map,s=(u,c)=>Kp(u,c,n,t),o=(u,c)=>s(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?s:(e.has(c)||e.set(c,Kp(c,void 0,n,t)),e.get(c))})}const l6=(n,t)=>t.isSVG??Ev(n)?new z3(t):new O3(t,{allowProjection:n!==W.Fragment});class u6 extends Ur{constructor(t){super(t),t.animationState||(t.animationState=G3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();pd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let c6=0;class h6 extends Ur{constructor(){super(...arguments),this.id=c6++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);e&&!t&&o.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const f6={animation:{Feature:u6},exit:{Feature:h6}};function cc(n){return{point:{x:n.pageX,y:n.pageY}}}const d6=n=>t=>mv(t)&&n(t,cc(t));function Du(n,t,e,s){return Yu(n,t,d6(e),s)}const uC=({current:n})=>n?n.ownerDocument.defaultView:null,NA=(n,t)=>Math.abs(n-t);function m6(n,t){const e=NA(n.x,t.x),s=NA(n.y,t.y);return Math.sqrt(e**2+s**2)}const OA=new Set(["auto","scroll"]);class cC{constructor(t,e,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=C=>{this.handleScroll(C.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Qp(this.lastMoveEventInfo,this.history),P=this.startEvent!==null,U=m6(C.offset,{x:0,y:0})>=this.distanceThreshold;if(!P&&!U)return;const{point:z}=C,{timestamp:X}=Je;this.history.push({...z,timestamp:X});const{onStart:K,onMove:G}=this.handlers;P||(K&&K(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),G&&G(this.lastMoveEvent,C)},this.handlePointerMove=(C,P)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=Yp(P,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(C,P)=>{this.end();const{onEnd:U,onSessionEnd:z,resumeAnimation:X}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&X&&X(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const K=Qp(C.type==="pointercancel"?this.lastMoveEventInfo:Yp(P,this.transformPagePoint),this.history);this.startEvent&&U&&U(C,K),z&&z(C,K)},!mv(t))return;this.dragSnapToOrigin=u,this.handlers=e,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=o||window;const p=cc(t),g=Yp(p,this.transformPagePoint),{point:y}=g,{timestamp:T}=Je;this.history=[{...y,timestamp:T}];const{onSessionStart:S}=e;S&&S(t,Qp(g,this.history)),this.removeListeners=oc(Du(this.contextWindow,"pointermove",this.handlePointerMove),Du(this.contextWindow,"pointerup",this.handlePointerUp),Du(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(t){let e=t.parentElement;for(;e;){const s=getComputedStyle(e);(OA.has(s.overflowX)||OA.has(s.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const s=t===window,o=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},u={x:o.x-e.x,y:o.y-e.y};u.x===0&&u.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=u.x,this.lastMoveEventInfo.point.y+=u.y):this.history.length>0&&(this.history[0].x-=u.x,this.history[0].y-=u.y),this.scrollPositions.set(t,o),ae.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Mr(this.updatePoint)}}function Yp(n,t){return t?{point:t(n.point)}:n}function PA(n,t){return{x:n.x-t.x,y:n.y-t.y}}function Qp({point:n},t){return{point:n,delta:PA(n,hC(t)),offset:PA(n,p6(t)),velocity:g6(t,.1)}}function p6(n){return n[0]}function hC(n){return n[n.length-1]}function g6(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,s=null;const o=hC(n);for(;e>=0&&(s=n[e],!(o.timestamp-s.timestamp>Ts(t)));)e--;if(!s)return{x:0,y:0};const u=$n(o.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-s.x)/u,y:(o.y-s.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function y6(n,{min:t,max:e},s){return t!==void 0&&n<t?n=s?ce(t,n,s.min):Math.max(n,t):e!==void 0&&n>e&&(n=s?ce(e,n,s.max):Math.min(n,e)),n}function kA(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function v6(n,{top:t,left:e,bottom:s,right:o}){return{x:kA(n.x,e,o),y:kA(n.y,t,s)}}function LA(n,t){let e=t.min-n.min,s=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,s]=[s,e]),{min:e,max:s}}function _6(n,t){return{x:LA(n.x,t.x),y:LA(n.y,t.y)}}function T6(n,t){let e=.5;const s=pn(n),o=pn(t);return o>s?e=qu(t.min,t.max-s,n.min):s>o&&(e=qu(n.min,n.max-o,t.min)),$i(0,1,e)}function E6(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const Gg=.35;function S6(n=Gg){return n===!1?n=0:n===!0&&(n=Gg),{x:UA(n,"left","right"),y:UA(n,"top","bottom")}}function UA(n,t,e){return{min:BA(n,t),max:BA(n,e)}}function BA(n,t){return typeof n=="number"?n:n[t]||0}const A6=new WeakMap;class b6{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ue(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=T=>{e?(this.stopAnimation(),this.snapToCursor(cc(T).point)):this.pauseAnimation()},c=(T,S)=>{this.stopAnimation();const{drag:C,dragPropagation:P,onDragStart:U}=this.getProps();if(C&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=h3(C),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xn(X=>{let K=this.getAxisMotionValue(X).get()||0;if(Qi.test(K)){const{projection:G}=this.visualElement;if(G&&G.layout){const st=G.layout.layoutBox[X];st&&(K=pn(st)*(parseFloat(K)/100))}}this.originPoint[X]=K}),U&&ae.postRender(()=>U(T,S)),Lg(this.visualElement,"transform");const{animationState:z}=this.visualElement;z&&z.setActive("whileDrag",!0)},d=(T,S)=>{this.latestPointerEvent=T,this.latestPanInfo=S;const{dragPropagation:C,dragDirectionLock:P,onDirectionLock:U,onDrag:z}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:X}=S;if(P&&this.currentDirection===null){this.currentDirection=w6(X),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",S.point,X),this.updateAxis("y",S.point,X),this.visualElement.render(),z&&z(T,S)},p=(T,S)=>{this.latestPointerEvent=T,this.latestPanInfo=S,this.stop(T,S),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Xn(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new cC(t,{onSessionStart:u,onStart:c,onMove:d,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:uC(this.visualElement),element:this.visualElement.current})}stop(t,e){const s=t||this.latestPointerEvent,o=e||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!s)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&ae.postRender(()=>d(s,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,e,s){const{drag:o}=this.getProps();if(!s||!$h(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=y6(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&_u(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=v6(s.layoutBox,t):this.constraints=!1,this.elastic=S6(e),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Xn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=E6(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!_u(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=I3(s,o.root,this.visualElement.getTransformPagePoint());let c=_6(o.layout.layoutBox,u);if(e){const d=e(w3(c));this.hasMutatedConstraints=!!d,d&&(c=MR(d))}return c}startAnimation(t){const{drag:e,dragMomentum:s,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},g=Xn(y=>{if(!$h(y,e,this.currentDirection))return;let T=p&&p[y]||{};c&&(T={min:0,max:0});const S=o?200:1e6,C=o?40:1e7,P={type:"inertia",velocity:s?t[y]:0,bounceStiffness:S,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...u,...T};return this.startAxisValueAnimation(y,P)});return Promise.all(g).then(d)}startAxisValueAnimation(t,e){const s=this.getAxisMotionValue(t);return Lg(this.visualElement,t),s.start(uv(t,s,0,e,this.visualElement,!1))}stopAnimation(){Xn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Xn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[e];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Xn(e=>{const{drag:s}=this.getProps();if(!$h(e,s,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(e);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[e],p=u.get()||0;u.set(t[e]-ce(c,d,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:s}=this.visualElement;if(!_u(e)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Xn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const p=d.get();o[c]=T6({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Xn(c=>{if(!$h(c,t,null))return;const d=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];d.set(ce(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;A6.set(this.visualElement,this);const t=this.visualElement.current,e=Du(t,"pointerdown",p=>{const{drag:g,dragListener:y=!0}=this.getProps(),T=p.target,S=T!==t&&RR(T);g&&y&&!S&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();_u(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ae.read(s);const c=Yu(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Xn(y=>{const T=this.getAxisMotionValue(y);T&&(this.originPoint[y]+=p[y].translate,T.set(T.get()+p[y].translate))}),this.visualElement.render())}));return()=>{c(),e(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Gg,dragMomentum:d=!0}=t;return{...t,drag:e,dragDirectionLock:s,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:d}}}function $h(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function w6(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class R6 extends Ur{constructor(t){super(t),this.removeGroupControls=Wn,this.removeListeners=Wn,this.controls=new b6(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const zA=n=>(t,e)=>{n&&ae.postRender(()=>n(t,e))};class C6 extends Ur{constructor(){super(...arguments),this.removePointerDownListener=Wn}onPointerDown(t){this.session=new cC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:zA(t),onStart:zA(e),onMove:s,onEnd:(u,c)=>{delete this.session,o&&ae.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Du(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Xp=!1;class I6 extends W.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s,layoutId:o}=this.props,{projection:u}=t;u&&(e.group&&e.group.add(u),s&&s.register&&o&&s.register(u),Xp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),ff.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:s,drag:o,isPresent:u}=this.props,{projection:c}=s;return c&&(c.isPresent=u,t.layoutDependency!==e&&c.setOptions({...c.options,layoutDependency:e}),Xp=!0,o||t.layoutDependency!==e||e===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||ae.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),dv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s}=this.props,{projection:o}=t;Xp=!0,o&&(o.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function fC(n){const[t,e]=tC(),s=W.useContext(Hy);return H.jsx(I6,{...n,layoutGroup:s,switchLayoutGroup:W.useContext(oC),isPresent:t,safeToRemove:e})}const x6={pan:{Feature:C6},drag:{Feature:R6,ProjectionNode:JR,MeasureLayout:fC}};function jA(n,t,e){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",e==="Start");const o="onHover"+e,u=s[o];u&&ae.postRender(()=>u(t,cc(t)))}class D6 extends Ur{mount(){const{current:t}=this.node;t&&(this.unmount=f3(t,(e,s)=>(jA(this.node,s,"Start"),o=>jA(this.node,o,"End"))))}unmount(){}}class V6 extends Ur{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=oc(Yu(this.node.current,"focus",()=>this.onFocus()),Yu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function FA(n,t,e){const{props:s}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",e==="Start");const o="onTap"+(e==="End"?"":e),u=s[o];u&&ae.postRender(()=>u(t,cc(t)))}class M6 extends Ur{mount(){const{current:t}=this.node;t&&(this.unmount=p3(t,(e,s)=>(FA(this.node,s,"Start"),(o,{success:u})=>FA(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Kg=new WeakMap,$p=new WeakMap,N6=n=>{const t=Kg.get(n.target);t&&t(n)},O6=n=>{n.forEach(N6)};function P6({root:n,...t}){const e=n||document;$p.has(e)||$p.set(e,{});const s=$p.get(e),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(O6,{root:n,...t})),s[o]}function k6(n,t,e){const s=P6(t);return Kg.set(n,e),s.observe(n),()=>{Kg.delete(n),s.unobserve(n)}}const L6={some:0,all:1};class U6 extends Ur{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:s,amount:o="some",once:u}=t,c={root:e?e.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:L6[o]},d=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:T}=this.node.getProps(),S=g?y:T;S&&S(p)};return k6(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(B6(t,e))&&this.startObserver()}unmount(){}}function B6({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const z6={inView:{Feature:U6},tap:{Feature:M6},focus:{Feature:V6},hover:{Feature:D6}},j6={layout:{ProjectionNode:JR,MeasureLayout:fC}},F6={...f6,...z6,...x6,...j6},zi=o6(F6,l6);var q6=HA();const H6=({isOpen:n,onConfirm:t,onCancel:e,title:s="",message:o=""})=>q6.createPortal(H.jsx(yd,{children:n&&H.jsx(zi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(31, 41, 55, 0.7)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(12px)",padding:"20px"},onClick:u=>{u.target===u.currentTarget&&e()},children:H.jsxs(zi.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"glass-card",style:{maxWidth:"400px",width:"100%",padding:"32px",textAlign:"center",border:"1px solid rgba(255,255,255,0.5)",background:"rgba(255,255,255,0.85)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",maxHeight:"90vh",overflowY:"auto"},children:[H.jsx("div",{style:{fontSize:"4rem",marginBottom:"16px",filter:"drop-shadow(0 4px 6px rgba(0,0,0,0.1))",animation:"bounce 1s infinite"},children:""}),H.jsx("h3",{style:{justifyContent:"center",fontSize:"1.75rem",marginBottom:"12px",background:"linear-gradient(135deg, #b91c1c 0%, #ef4444 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:800},children:s}),H.jsx("p",{style:{color:"#4b5563",marginBottom:"32px",lineHeight:"1.6",fontSize:"1.1rem"},children:o}),H.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[H.jsx("button",{onClick:e,className:"btn-secondary",style:{padding:"16px",fontSize:"1.1rem",background:"#f3f4f6",border:"1px solid #e5e7eb",color:"#374151"},children:""}),H.jsx("button",{onClick:t,className:"btn-primary",style:{padding:"16px",fontSize:"1.1rem",background:"linear-gradient(135deg, #dc2626 0%, #ef4444 100%)",boxShadow:"0 4px 12px rgba(220, 38, 38, 0.3)"},children:""})]})]})})}),document.body),G6=ys.createContext({}),dC=!0;function K6({baseColor:n,highlightColor:t,width:e,height:s,borderRadius:o,circle:u,direction:c,duration:d,enableAnimation:p=dC,customHighlightBackground:g}){const y={};return c==="rtl"&&(y["--animation-direction"]="reverse"),typeof d=="number"&&(y["--animation-duration"]=`${d}s`),p||(y["--pseudo-element-display"]="none"),(typeof e=="string"||typeof e=="number")&&(y.width=e),(typeof s=="string"||typeof s=="number")&&(y.height=s),(typeof o=="string"||typeof o=="number")&&(y.borderRadius=o),u&&(y.borderRadius="50%"),typeof n<"u"&&(y["--base-color"]=n),typeof t<"u"&&(y["--highlight-color"]=t),typeof g=="string"&&(y["--custom-highlight-background"]=g),y}function ya({count:n=1,wrapper:t,className:e,containerClassName:s,containerTestId:o,circle:u=!1,style:c,...d}){var p,g,y;const T=ys.useContext(G6),S={...d};for(const[G,st]of Object.entries(d))typeof st>"u"&&delete S[G];const C={...T,...S,circle:u},P={...c,...K6(C)};let U="react-loading-skeleton";e&&(U+=` ${e}`);const z=(p=C.inline)!==null&&p!==void 0?p:!1,X=[],K=Math.ceil(n);for(let G=0;G<K;G++){let st=P;if(K>n&&G===K-1){const ot=(g=st.width)!==null&&g!==void 0?g:"100%",I=n%1,w=typeof ot=="number"?ot*I:`calc(${ot} * ${I})`;st={...st,width:w}}const at=ys.createElement("span",{className:U,style:st,key:G},"");z?X.push(at):X.push(ys.createElement(ys.Fragment,{key:G},at,ys.createElement("br",null)))}return ys.createElement("span",{className:s,"data-testid":o,"aria-live":"polite","aria-busy":(y=C.enableAnimation)!==null&&y!==void 0?y:dC},t?X.map((G,st)=>ys.createElement(t,{key:st},G)):X)}const Y6=()=>H.jsxs(zi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"slot-card",style:{background:"#fff",border:"1px solid #e2e8f0",cursor:"default",display:"flex",flexDirection:"column"},children:[H.jsx("div",{style:{marginBottom:"8px"},children:H.jsx(ya,{height:24,width:"80%"})}),H.jsx("div",{style:{marginBottom:"12px"},children:H.jsx(ya,{width:"40%",height:16})}),H.jsx("div",{style:{marginBottom:"auto"},children:H.jsx(ya,{count:2})}),H.jsxs("div",{style:{marginTop:"20px"},children:[H.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"12px"},children:[H.jsx(ya,{width:80,height:20}),H.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"4px"},children:[H.jsx(ya,{width:60,height:20,style:{borderRadius:"12px"}}),H.jsx(ya,{width:80,height:24})]})]}),H.jsx(ya,{height:8,borderRadius:4})]})]}),Q6=({disabled:n=!1})=>{const{slots:t,loading:e}=Dw(),{selection:s,selectSession:o,isAdmin:u}=Fy(),[c,d]=W.useState(null),[p,g]=W.useState(!1),y=(P,U)=>{if(n)return;const z=!!s.selectedA||!!s.selectedB,X=!!s.selectedC,K=!!s.selectedD;let G=!1;z?(U==="C"||U==="D")&&(G=!0):X?["A","B","D"].includes(U)&&(G=!0):K&&["A","B","C"].includes(U)&&(G=!0),G?(d({id:P,type:U}),g(!0)):o(P,U)},T=()=>{c&&(o(c.id,c.type),d(null),g(!1))};if(e){const P=(U,z)=>H.jsxs("div",{className:"section-container",children:[H.jsx("h3",{children:U}),H.jsx("div",{className:"slot-grid",children:Array.from({length:z}).map((X,K)=>H.jsx(Y6,{},K))})]});return H.jsxs("div",{className:"selection-container",children:[H.jsxs("div",{className:"combo-row",children:[P(" (A)",2),P(" (B)",1)]}),H.jsx("div",{className:"sc-divider",children:"OR"}),H.jsxs("div",{className:"combo-row",children:[P(" (C)",2),P(" (D)",1)]})]})}const S=t.filter(P=>!!P.title);if(S.length===0)return H.jsxs(zi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"empty-state",style:{textAlign:"center",padding:"40px",color:"#64748b"},children:[H.jsx("div",{style:{fontSize:"3rem",marginBottom:"20px"},children:""}),H.jsx("p",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:""}),H.jsx("p",{children:"No active sessions found."}),u?H.jsxs("div",{style:{marginTop:"20px"},children:[H.jsx("p",{style:{color:"#ef4444",marginBottom:"10px"},children:" "}),H.jsx(o4,{})]}):H.jsxs("p",{style:{marginTop:"20px",fontSize:"0.9rem",opacity:.7},children:["",H.jsx("br",{}),"Please contact the administrator to initialize the system."]})]});const C=(P,U,z)=>{const X=S.filter(K=>U.includes(K.type));return H.jsxs("div",{className:"section-container",children:[H.jsxs("h3",{children:[P," ",H.jsx("span",{style:{fontSize:"0.8em",fontWeight:"normal",marginLeft:"10px",opacity:.7},children:z})]}),H.jsx("div",{className:"slot-grid",children:H.jsx(yd,{children:X.map(K=>{const G=s.selectedA===K.id||s.selectedB===K.id||s.selectedC===K.id||s.selectedD===K.id;let st=!1;s.selectedC&&s.selectedC!==K.id&&(["A","B","D"].includes(K.type)&&(st=!0),K.type==="C"&&(st=!0)),s.selectedD&&s.selectedD!==K.id&&(["A","B","C"].includes(K.type)&&(st=!0),K.type==="D"&&(st=!0)),(s.selectedA||s.selectedB)&&(K.type==="C"||K.type==="D")&&(st=!0);const at=K.booked>=K.capacity,ot=K.capacity-K.booked,I=K.booked/K.capacity*100;let w="#10b981",R="",M="";return ot===0?(w="#64748b",R="",M=""):ot<=20?(w="#ef4444",R="",M=""):I>=70&&(w="#f59e0b",R="",M=""),H.jsxs(zi.div,{layoutId:K.id,initial:{opacity:0,scale:.9},animate:{opacity:st?.4:1,scale:G?1.02:1,filter:at?"grayscale(100%)":"none"},whileHover:!at&&!st&&!n?{y:-5,boxShadow:"0 10px 20px rgba(0,0,0,0.1)"}:{},onClick:()=>!at&&!n&&y(K.id,K.type),className:`slot-card type-${K.type} ${G?"selected":""} ${at?"full":""}`,style:n?{cursor:"not-allowed",opacity:.7,filter:"grayscale(50%)"}:{},children:[G&&H.jsx(zi.div,{initial:{scale:0},animate:{scale:1},className:"check-mark",children:""}),at&&H.jsx("div",{className:"sold-out-overlay-text",children:"SOLD OUT"}),H.jsx("span",{className:"slot-name",children:K.title}),H.jsxs("div",{className:"slot-location",children:[" ",K.location]}),H.jsx("p",{className:"slot-description",children:K.description}),H.jsxs("div",{className:"slot-footer",style:{flexDirection:"column",alignItems:"stretch",gap:"12px"},children:[H.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[H.jsxs("span",{className:"slot-time",children:[" ",K.startTime]}),H.jsx("div",{style:{textAlign:"right"},children:H.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"2px"},children:[H.jsxs("span",{style:{fontSize:"0.8rem",fontWeight:700,color:w,background:`${w}15`,padding:"2px 8px",borderRadius:"12px",marginBottom:"2px"},children:[M," ",R]}),H.jsxs("span",{style:{fontSize:"1.2rem",fontWeight:800,color:"#334155"},children:[" ",H.jsx("span",{style:{color:w,fontSize:"1.4rem"},children:ot})," "]})]})})]}),H.jsx("div",{style:{width:"100%",height:"8px",background:"#e2e8f0",borderRadius:"4px",overflow:"hidden"},children:H.jsx(zi.div,{initial:{width:0},animate:{width:`${K.booked/K.capacity*100}%`},transition:{duration:1,ease:"easeOut"},style:{height:"100%",background:w,borderRadius:"4px"}})})]})]},K.id)})})})]})};return H.jsxs(zi.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"selection-container",children:[H.jsxs("div",{className:"combo-row",children:[C(" (A)",["A"]," B"),C(" (B)",["B"]," A")]}),H.jsx("div",{className:"sc-divider",children:"OR"}),H.jsxs("div",{className:"combo-row",children:[C(" (C)",["C"]," 40 "),C(" (D)",["D"]," 40 ")]}),H.jsx(H6,{isOpen:p,onConfirm:T,onCancel:()=>g(!1)})]})},X6=({onSubmit:n,onCancel:t,loading:e})=>{const[s,o]=W.useState({name:"",studentId:""}),u=c=>{c.preventDefault(),n(s)};return H.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(31, 41, 55, 0.4)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(12px)",padding:"20px"},children:H.jsxs("div",{className:"glass-card",style:{maxWidth:"450px",width:"100%",padding:"32px",background:"rgba(255,255,255,0.9)",boxShadow:"0 20px 60px -10px rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.8)"},children:[H.jsx("h2",{style:{textAlign:"left",marginBottom:"24px",fontSize:"1.8rem",background:"linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:800},children:H.jsx("span",{style:{borderLeft:"6px solid #6366f1",paddingLeft:"16px",display:"block",lineHeight:"1.2"},children:""})}),H.jsxs("form",{onSubmit:u,style:{display:"flex",flexDirection:"column",gap:"24px"},children:[H.jsxs("div",{children:[H.jsx("label",{className:"slot-name",style:{fontSize:"1.1rem",marginBottom:"10px",display:"block",color:"#374151"},children:"  Name"}),H.jsx("input",{required:!0,type:"text",placeholder:" / Your Name",value:s.name,onChange:c=>o(d=>({...d,name:c.target.value})),style:{background:"#f9fafb"}})]}),H.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:"16px",marginTop:"12px"},children:[H.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:e,style:{borderRadius:"16px",fontSize:"1.1rem",justifyContent:"center"},children:""}),H.jsx("button",{type:"submit",className:"btn-primary",disabled:e,style:{borderRadius:"16px",fontSize:"1.1rem",justifyContent:"center",boxShadow:"0 4px 15px rgba(79, 70, 229, 0.4)"},children:e?"...":" "})]})]})]})})},$6=({isOpen:n,onClose:t})=>{const[e,s]=W.useState(""),{login:o}=Fy(),[u,c]=W.useState(!1),d=p=>{p.preventDefault(),o(e)?(t(),s(""),c(!1)):(c(!0),setTimeout(()=>c(!1),2e3))};return H.jsx(yd,{children:n&&H.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",zIndex:3e3,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(8px)"},children:H.jsxs(zi.div,{initial:{scale:.9,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:30},className:"glass-card",style:{maxWidth:"350px",width:"90%",padding:"30px",border:"1px solid rgba(255,255,255,0.4)",background:"rgba(255,255,255,0.85)"},children:[H.jsx("h3",{style:{textAlign:"center",marginBottom:"20px",color:"#1e293b"},children:" "}),H.jsxs("form",{onSubmit:d,children:[H.jsx("input",{type:"password",autoFocus:!0,placeholder:"...",value:e,onChange:p=>s(p.target.value),style:{marginBottom:"15px",border:u?"2px solid #ef4444":void 0,background:"white"}}),u&&H.jsx("p",{style:{color:"#ef4444",fontSize:"0.9rem",marginBottom:"15px",textAlign:"center"},children:""}),H.jsxs("div",{style:{display:"flex",gap:"10px"},children:[H.jsx("button",{type:"button",onClick:t,className:"btn-secondary",style:{flex:1},children:""}),H.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1,padding:"12px",fontSize:"1rem"},children:""})]})]})]})})})},W6=({isOpen:n,onConfirm:t,onCancel:e,selectedIds:s})=>{const{slots:o}=Dw(),u=s.map(c=>o.find(d=>d.id===c)).filter(Boolean);return H.jsx(yd,{children:n&&H.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:H.jsxs(zi.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},style:{background:"white",padding:"30px",borderRadius:"24px",width:"100%",maxWidth:"400px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",textAlign:"left"},children:[H.jsx("h2",{style:{margin:"0 0 15px",color:"#1e293b",fontSize:"1.25rem",borderBottom:"1px solid #e2e8f0",paddingBottom:"15px"},children:" "}),H.jsx("p",{style:{color:"#64748b",fontSize:"0.95rem",marginBottom:"20px"},children:""}),H.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px",marginBottom:"25px",maxHeight:"40vh",overflowY:"auto"},children:u.map(c=>H.jsxs("div",{style:{padding:"12px",background:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0",borderLeft:"4px solid #6366f1"},children:[H.jsx("div",{style:{fontWeight:700,color:"#334155"},children:c?.title}),H.jsxs("div",{style:{fontSize:"0.85rem",color:"#64748b",marginTop:"2px"},children:[" ",c?.location]})]},c?.id))}),H.jsxs("div",{style:{background:"#fff1f2",padding:"12px",borderRadius:"12px",marginBottom:"25px",fontSize:"0.9rem",color:"#be123c",border:"1px solid #fda4af"},children:[" ",H.jsx("b",{children:""}),"",H.jsx("br",{}),"",H.jsx("b",{children:""}),""]}),H.jsxs("div",{style:{display:"flex",gap:"12px"},children:[H.jsx("button",{onClick:e,style:{flex:1,padding:"12px",border:"1px solid #cbd5e1",borderRadius:"12px",background:"white",color:"#64748b",fontWeight:600,cursor:"pointer"},children:""}),H.jsx("button",{onClick:t,style:{flex:1.5,padding:"12px",border:"none",borderRadius:"12px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",fontWeight:600,cursor:"pointer",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:" "})]})]})})})},Z6=n=>new Promise(t=>setTimeout(t,n)),J6=async(n,t)=>{if(!Of.currentUser)throw new Error("Must be logged in");const e=5;let s=0;for(;s<e;)try{const o=Fu(ju(di,"bookings"));return await hP(di,async u=>{const c=[];if(n.selectedC&&c.push(n.selectedC),n.selectedD&&c.push(n.selectedD),n.selectedA&&c.push(n.selectedA),n.selectedB&&c.push(n.selectedB),c.length===0)throw new Error("No sessions selected");const d=await Promise.all(c.map(p=>u.get(Fu(di,"slots",p))));d.forEach(p=>{if(!p.exists())throw new Error(`Slot ${p.id} not found`);const g=p.data();if(g.booked>=g.capacity)throw new Error(` ${g.name} `)}),d.forEach(p=>{const g=p.data();if(!g)throw new Error("Slot data missing");u.update(p.ref,{booked:g.booked+1})}),u.set(o,{userId:Of.currentUser.uid,userName:t.name,slots:c,selectionData:n,timestamp:iP(),status:"confirmed"})}),o.id}catch(o){if(console.warn(`Booking attempt ${s+1} failed:`,o),o.message&&o.message.includes(""))throw o;if(s++,s>=e)throw new Error("System is busy (Max Retries), please try again.");const u=Math.pow(2,s)*100+Math.random()*200;await Z6(u)}throw new Error("Unexpected booking failure")},l5=async()=>{const n=gw(ju(di,"bookings"),yw("timestamp","desc"));return(await Eg(n)).docs.map(e=>{const s=e.data();return{id:e.id,bookingId:s.bookingId||"UNKNOWN",name:s.userName||s.name||"Unknown",studentId:s.studentId||"",department:s.department||"",slots:s.slots||[],timestamp:s.timestamp,status:s.status||"confirmed"}})},t5=W.lazy(()=>GA(()=>import("./AdminDashboard-qZqpivsE.js"),[]).then(n=>({default:n.AdminDashboard}))),e5=W.lazy(()=>GA(()=>import("./TicketView-BkffpTF0.js"),[]).then(n=>({default:n.TicketView}))),qA=()=>H.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",flexDirection:"column",gap:"15px"},children:[H.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite"}}),H.jsx("span",{style:{color:"#64748b"},children:"Loading..."}),H.jsx("style",{children:`
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    `})]}),n5=()=>{const{isValid:n,selection:t,isAdmin:e}=Fy(),[s,o]=W.useState(!1),[u,c]=W.useState(!1),[d,p]=W.useState(!1),[g,y]=W.useState(null),[T,S]=W.useState(!1),[C,P]=W.useState(null),[U,z]=W.useState(!1);W.useEffect(()=>{(async()=>{const I=localStorage.getItem("soka_ticket_2026");if(!I)return;let w;try{w=JSON.parse(I)}catch(R){console.error("Failed to parse saved ticket",R),localStorage.removeItem("soka_ticket_2026");return}try{const R=await fP(Fu(di,"system","config"));if(R.exists()){const M=R.data();if(M.lastReset){const V=new Date(M.lastReset).getTime(),k=w.timestamp||0;if(V>k){console.log("System reset detected. Clearing local ticket."),localStorage.removeItem("soka_ticket_2026"),y(null);return}}}}catch(R){console.error("Failed to check system status:",R)}y(w),z(!0)})()},[]);const X=()=>{n&&o(!0)},K=()=>{const ot=[];return t.selectedC&&ot.push(t.selectedC),t.selectedD&&ot.push(t.selectedD),t.selectedA&&ot.push(t.selectedA),t.selectedB&&ot.push(t.selectedB),ot},G=ot=>{P(ot),S(!0)},st=async()=>{if(!C)return;S(!1),c(!0);const ot=Op.loading("...");try{const I=await J6(t,C),w=K(),R={bookingId:I,userDetails:C,selectedSlotIds:w,timestamp:Date.now()};localStorage.setItem("soka_ticket_2026",JSON.stringify(R)),y(R),z(!0),o(!1),Op.success("",{id:ot,duration:5e3})}catch(I){console.error(I),Op.error(`: ${I.message}`,{id:ot,duration:5e3})}finally{c(!1),P(null)}},at=()=>{z(!1)};return U&&g?H.jsx("div",{className:"container",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:H.jsx(W.Suspense,{fallback:H.jsx(qA,{}),children:H.jsx(e5,{bookingId:g.bookingId,userDetails:g.userDetails,selectedSlotIds:g.selectedSlotIds,onClose:at})})}):H.jsxs("div",{className:"container",children:[H.jsxs("div",{className:"glass-card",children:[H.jsx("h1",{children:"2026  EXPO"}),H.jsx("h2",{children:" - "}),H.jsxs("p",{className:"description",style:{textAlign:"center",color:"#64748b",marginBottom:"30px"},children:["",H.jsx("br",{}),"(A+B C  D )"]}),H.jsx(Q6,{disabled:!!g}),H.jsx("div",{style:{textAlign:"center",marginTop:"30px"},children:g?H.jsx("button",{className:"btn-primary",style:{fontSize:"1.2rem",padding:"15px 40px",background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)"},onClick:()=>z(!0),children:" "}):H.jsx("button",{className:"btn-primary",disabled:!n,style:{opacity:n?1:.5,fontSize:"1.2rem",padding:"15px 40px"},onClick:X,children:n?"":" Let's Go"})})]}),s&&H.jsx(X6,{onSubmit:G,onCancel:()=>o(!1),loading:u}),H.jsx(W6,{isOpen:T,onConfirm:st,onCancel:()=>S(!1),selectedIds:K()}),e&&H.jsx("div",{style:{padding:"30px",background:"rgba(255,255,255,0.85)",backdropFilter:"blur(10px)",borderRadius:"24px",marginTop:"40px",border:"1px solid rgba(255,255,255,0.5)",boxShadow:"0 20px 40px -10px rgba(0,0,0,0.1)"},children:H.jsx(W.Suspense,{fallback:H.jsx(qA,{}),children:H.jsx(t5,{})})}),H.jsxs("footer",{style:{textAlign:"center",padding:"40px 0",color:"#94a3b8",fontSize:"0.9rem"},children:[" 2026 Soka Education EXPO. All rights reserved.",H.jsx("br",{}),H.jsx("span",{onClick:()=>p(!0),style:{cursor:"pointer",opacity:.3,marginTop:"10px",display:"inline-block"},children:"Admin Access"})]}),H.jsx($6,{isOpen:d,onClose:()=>p(!1)})]})};function i5(){return H.jsx(yP,{children:H.jsxs(vP,{children:[H.jsx(n5,{}),H.jsx(a4,{position:"top-center",reverseOrder:!1,containerStyle:{top:40,zIndex:999999},toastOptions:{style:{background:"#333",color:"#fff",zIndex:999999}}})]})})}tx.createRoot(document.getElementById("root")).render(H.jsx(W.StrictMode,{children:H.jsx(i5,{})}));export{yd as A,s5 as R,o4 as S,Yg as a,q6 as b,l5 as c,ys as d,GI as g,H as j,zi as m,W as r,Dw as u,Op as z};
