function ZV(n,t){for(var e=0;e<t.length;e++){const s=t[e];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function JV(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Gg={exports:{}},sc={};var zb;function t2(){if(zb)return sc;zb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:n,type:s,key:u,ref:a!==void 0?a:null,props:l}}return sc.Fragment=t,sc.jsx=e,sc.jsxs=e,sc}var jb;function e2(){return jb||(jb=1,Gg.exports=t2()),Gg.exports}var j=e2(),Kg={exports:{}},Rt={};var Fb;function n2(){if(Fb)return Rt;Fb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function I(O){return O===null||typeof O!="object"?null:(O=E&&O[E]||O["@@iterator"],typeof O=="function"?O:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,L={};function Y(O,st,ft){this.props=O,this.context=st,this.refs=L,this.updater=ft||N}Y.prototype.isReactComponent={},Y.prototype.setState=function(O,st){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,st,"setState")},Y.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function W(){}W.prototype=Y.prototype;function z(O,st,ft){this.props=O,this.context=st,this.refs=L,this.updater=ft||N}var Q=z.prototype=new W;Q.constructor=z,U(Q,Y.prototype),Q.isPureReactComponent=!0;var rt=Array.isArray;function at(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function x(O,st,ft){var pt=ft.ref;return{$$typeof:n,type:O,key:st,ref:pt!==void 0?pt:null,props:ft}}function M(O,st){return x(O.type,st,O.props)}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function k(O){var st={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ft){return st[ft]})}var C=/\/+/g;function Gt(O,st){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):st.toString(36)}function Xt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(at,at):(O.status="pending",O.then(function(st){O.status==="pending"&&(O.status="fulfilled",O.value=st)},function(st){O.status==="pending"&&(O.status="rejected",O.reason=st)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function tt(O,st,ft,pt,wt){var Vt=typeof O;(Vt==="undefined"||Vt==="boolean")&&(O=null);var Ft=!1;if(O===null)Ft=!0;else switch(Vt){case"bigint":case"string":case"number":Ft=!0;break;case"object":switch(O.$$typeof){case n:case t:Ft=!0;break;case y:return Ft=O._init,tt(Ft(O._payload),st,ft,pt,wt)}}if(Ft)return wt=wt(O),Ft=pt===""?"."+Gt(O,0):pt,rt(wt)?(ft="",Ft!=null&&(ft=Ft.replace(C,"$&/")+"/"),tt(wt,st,ft,"",function(ia){return ia})):wt!=null&&(V(wt)&&(wt=M(wt,ft+(wt.key==null||O&&O.key===wt.key?"":(""+wt.key).replace(C,"$&/")+"/")+Ft)),st.push(wt)),1;Ft=0;var je=pt===""?".":pt+":";if(rt(O))for(var he=0;he<O.length;he++)pt=O[he],Vt=je+Gt(pt,he),Ft+=tt(pt,st,ft,Vt,wt);else if(he=I(O),typeof he=="function")for(O=he.call(O),he=0;!(pt=O.next()).done;)pt=pt.value,Vt=je+Gt(pt,he++),Ft+=tt(pt,st,ft,Vt,wt);else if(Vt==="object"){if(typeof O.then=="function")return tt(Xt(O),st,ft,pt,wt);throw st=String(O),Error("Objects are not valid as a React child (found: "+(st==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":st)+"). If you meant to render a collection of children, use an array instead.")}return Ft}function ot(O,st,ft){if(O==null)return O;var pt=[],wt=0;return tt(O,pt,"","",function(Vt){return st.call(ft,Vt,wt++)}),pt}function dt(O){if(O._status===-1){var st=O._result;st=st(),st.then(function(ft){(O._status===0||O._status===-1)&&(O._status=1,O._result=ft)},function(ft){(O._status===0||O._status===-1)&&(O._status=2,O._result=ft)}),O._status===-1&&(O._status=0,O._result=st)}if(O._status===1)return O._result.default;throw O._result}var Dt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var st=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(st))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},kt={map:ot,forEach:function(O,st,ft){ot(O,function(){st.apply(this,arguments)},ft)},count:function(O){var st=0;return ot(O,function(){st++}),st},toArray:function(O){return ot(O,function(st){return st})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Rt.Activity=v,Rt.Children=kt,Rt.Component=Y,Rt.Fragment=e,Rt.Profiler=a,Rt.PureComponent=z,Rt.StrictMode=s,Rt.Suspense=d,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return R.H.useMemoCache(O)}},Rt.cache=function(O){return function(){return O.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(O,st,ft){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var pt=U({},O.props),wt=O.key;if(st!=null)for(Vt in st.key!==void 0&&(wt=""+st.key),st)!A.call(st,Vt)||Vt==="key"||Vt==="__self"||Vt==="__source"||Vt==="ref"&&st.ref===void 0||(pt[Vt]=st[Vt]);var Vt=arguments.length-2;if(Vt===1)pt.children=ft;else if(1<Vt){for(var Ft=Array(Vt),je=0;je<Vt;je++)Ft[je]=arguments[je+2];pt.children=Ft}return x(O.type,wt,pt)},Rt.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:l,_context:O},O},Rt.createElement=function(O,st,ft){var pt,wt={},Vt=null;if(st!=null)for(pt in st.key!==void 0&&(Vt=""+st.key),st)A.call(st,pt)&&pt!=="key"&&pt!=="__self"&&pt!=="__source"&&(wt[pt]=st[pt]);var Ft=arguments.length-2;if(Ft===1)wt.children=ft;else if(1<Ft){for(var je=Array(Ft),he=0;he<Ft;he++)je[he]=arguments[he+2];wt.children=je}if(O&&O.defaultProps)for(pt in Ft=O.defaultProps,Ft)wt[pt]===void 0&&(wt[pt]=Ft[pt]);return x(O,Vt,wt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(O){return{$$typeof:h,render:O}},Rt.isValidElement=V,Rt.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:dt}},Rt.memo=function(O,st){return{$$typeof:p,type:O,compare:st===void 0?null:st}},Rt.startTransition=function(O){var st=R.T,ft={};R.T=ft;try{var pt=O(),wt=R.S;wt!==null&&wt(ft,pt),typeof pt=="object"&&pt!==null&&typeof pt.then=="function"&&pt.then(at,Dt)}catch(Vt){Dt(Vt)}finally{st!==null&&ft.types!==null&&(st.types=ft.types),R.T=st}},Rt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Rt.use=function(O){return R.H.use(O)},Rt.useActionState=function(O,st,ft){return R.H.useActionState(O,st,ft)},Rt.useCallback=function(O,st){return R.H.useCallback(O,st)},Rt.useContext=function(O){return R.H.useContext(O)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(O,st){return R.H.useDeferredValue(O,st)},Rt.useEffect=function(O,st){return R.H.useEffect(O,st)},Rt.useEffectEvent=function(O){return R.H.useEffectEvent(O)},Rt.useId=function(){return R.H.useId()},Rt.useImperativeHandle=function(O,st,ft){return R.H.useImperativeHandle(O,st,ft)},Rt.useInsertionEffect=function(O,st){return R.H.useInsertionEffect(O,st)},Rt.useLayoutEffect=function(O,st){return R.H.useLayoutEffect(O,st)},Rt.useMemo=function(O,st){return R.H.useMemo(O,st)},Rt.useOptimistic=function(O,st){return R.H.useOptimistic(O,st)},Rt.useReducer=function(O,st,ft){return R.H.useReducer(O,st,ft)},Rt.useRef=function(O){return R.H.useRef(O)},Rt.useState=function(O){return R.H.useState(O)},Rt.useSyncExternalStore=function(O,st,ft){return R.H.useSyncExternalStore(O,st,ft)},Rt.useTransition=function(){return R.H.useTransition()},Rt.version="19.2.4",Rt}var qb;function M_(){return qb||(qb=1,Kg.exports=n2()),Kg.exports}var J=M_();const Rs=JV(J),DB=ZV({__proto__:null,default:Rs},[J]);var Yg={exports:{}},rc={},Qg={exports:{}},$g={};var Hb;function i2(){return Hb||(Hb=1,(function(n){function t(tt,ot){var dt=tt.length;tt.push(ot);t:for(;0<dt;){var Dt=dt-1>>>1,kt=tt[Dt];if(0<a(kt,ot))tt[Dt]=ot,tt[dt]=kt,dt=Dt;else break t}}function e(tt){return tt.length===0?null:tt[0]}function s(tt){if(tt.length===0)return null;var ot=tt[0],dt=tt.pop();if(dt!==ot){tt[0]=dt;t:for(var Dt=0,kt=tt.length,O=kt>>>1;Dt<O;){var st=2*(Dt+1)-1,ft=tt[st],pt=st+1,wt=tt[pt];if(0>a(ft,dt))pt<kt&&0>a(wt,ft)?(tt[Dt]=wt,tt[pt]=dt,Dt=pt):(tt[Dt]=ft,tt[st]=dt,Dt=st);else if(pt<kt&&0>a(wt,dt))tt[Dt]=wt,tt[pt]=dt,Dt=pt;else break t}}return ot}function a(tt,ot){var dt=tt.sortIndex-ot.sortIndex;return dt!==0?dt:tt.id-ot.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],p=[],y=1,v=null,E=3,I=!1,N=!1,U=!1,L=!1,Y=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function Q(tt){for(var ot=e(p);ot!==null;){if(ot.callback===null)s(p);else if(ot.startTime<=tt)s(p),ot.sortIndex=ot.expirationTime,t(d,ot);else break;ot=e(p)}}function rt(tt){if(U=!1,Q(tt),!N)if(e(d)!==null)N=!0,at||(at=!0,k());else{var ot=e(p);ot!==null&&Xt(rt,ot.startTime-tt)}}var at=!1,R=-1,A=5,x=-1;function M(){return L?!0:!(n.unstable_now()-x<A)}function V(){if(L=!1,at){var tt=n.unstable_now();x=tt;var ot=!0;try{t:{N=!1,U&&(U=!1,W(R),R=-1),I=!0;var dt=E;try{e:{for(Q(tt),v=e(d);v!==null&&!(v.expirationTime>tt&&M());){var Dt=v.callback;if(typeof Dt=="function"){v.callback=null,E=v.priorityLevel;var kt=Dt(v.expirationTime<=tt);if(tt=n.unstable_now(),typeof kt=="function"){v.callback=kt,Q(tt),ot=!0;break e}v===e(d)&&s(d),Q(tt)}else s(d);v=e(d)}if(v!==null)ot=!0;else{var O=e(p);O!==null&&Xt(rt,O.startTime-tt),ot=!1}}break t}finally{v=null,E=dt,I=!1}ot=void 0}}finally{ot?k():at=!1}}}var k;if(typeof z=="function")k=function(){z(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Gt=C.port2;C.port1.onmessage=V,k=function(){Gt.postMessage(null)}}else k=function(){Y(V,0)};function Xt(tt,ot){R=Y(function(){tt(n.unstable_now())},ot)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(tt){tt.callback=null},n.unstable_forceFrameRate=function(tt){0>tt||125<tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<tt?Math.floor(1e3/tt):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(tt){switch(E){case 1:case 2:case 3:var ot=3;break;default:ot=E}var dt=E;E=ot;try{return tt()}finally{E=dt}},n.unstable_requestPaint=function(){L=!0},n.unstable_runWithPriority=function(tt,ot){switch(tt){case 1:case 2:case 3:case 4:case 5:break;default:tt=3}var dt=E;E=tt;try{return ot()}finally{E=dt}},n.unstable_scheduleCallback=function(tt,ot,dt){var Dt=n.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Dt+dt:Dt):dt=Dt,tt){case 1:var kt=-1;break;case 2:kt=250;break;case 5:kt=1073741823;break;case 4:kt=1e4;break;default:kt=5e3}return kt=dt+kt,tt={id:y++,callback:ot,priorityLevel:tt,startTime:dt,expirationTime:kt,sortIndex:-1},dt>Dt?(tt.sortIndex=dt,t(p,tt),e(d)===null&&tt===e(p)&&(U?(W(R),R=-1):U=!0,Xt(rt,dt-Dt))):(tt.sortIndex=kt,t(d,tt),N||I||(N=!0,at||(at=!0,k()))),tt},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(tt){var ot=E;return function(){var dt=E;E=ot;try{return tt.apply(this,arguments)}finally{E=dt}}}})($g)),$g}var Gb;function s2(){return Gb||(Gb=1,Qg.exports=i2()),Qg.exports}var Xg={exports:{}},hn={};var Kb;function r2(){if(Kb)return hn;Kb=1;var n=M_();function t(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:p,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,hn.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(d,p,null,y)},hn.flushSync=function(d){var p=u.T,y=s.p;try{if(u.T=null,s.p=2,d)return d()}finally{u.T=p,s.p=y,s.d.f()}},hn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(d,p))},hn.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},hn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,I=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:I}):y==="script"&&s.d.X(d,{crossOrigin:v,integrity:E,fetchPriority:I,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},hn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);s.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(d)},hn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);s.d.L(d,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},hn.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=h(p.as,p.crossOrigin);s.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(d)},hn.requestFormReset=function(d){s.d.r(d)},hn.unstable_batchedUpdates=function(d,p){return d(p)},hn.useFormState=function(d,p,y){return u.H.useFormState(d,p,y)},hn.useFormStatus=function(){return u.H.useHostTransitionStatus()},hn.version="19.2.4",hn}var Yb;function hw(){if(Yb)return Xg.exports;Yb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Xg.exports=r2(),Xg.exports}var Qb;function a2(){if(Qb)return rc;Qb=1;var n=s2(),t=M_(),e=hw();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return d(m),i;if(g===c)return d(m),r;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=m,c=g;else{for(var T=!1,S=m.child;S;){if(S===o){T=!0,o=m,c=g;break}if(S===c){T=!0,c=m,o=g;break}S=S.sibling}if(!T){for(S=g.child;S;){if(S===o){T=!0,o=g,c=m;break}if(S===c){T=!0,c=g,o=m;break}S=S.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),z=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var C=Symbol.for("react.client.reference");function Gt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===C?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case U:return"Fragment";case Y:return"Profiler";case L:return"StrictMode";case rt:return"Suspense";case at:return"SuspenseList";case x:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case z:return i.displayName||"Context";case W:return(i._context.displayName||"Context")+".Consumer";case Q:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return r=i.displayName||null,r!==null?r:Gt(i.type)||"Memo";case A:r=i._payload,i=i._init;try{return Gt(i(r))}catch{}}return null}var Xt=Array.isArray,tt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Dt=[],kt=-1;function O(i){return{current:i}}function st(i){0>kt||(i.current=Dt[kt],Dt[kt]=null,kt--)}function ft(i,r){kt++,Dt[kt]=i.current,i.current=r}var pt=O(null),wt=O(null),Vt=O(null),Ft=O(null);function je(i,r){switch(ft(Vt,r),ft(wt,i),ft(pt,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?ub(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=ub(r),i=cb(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}st(pt),ft(pt,i)}function he(){st(pt),st(wt),st(Vt)}function ia(i){i.memoizedState!==null&&ft(Ft,i);var r=pt.current,o=cb(r,i.type);r!==o&&(ft(wt,i),ft(pt,o))}function ho(i){wt.current===i&&(st(pt),st(wt)),Ft.current===i&&(st(Ft),tc._currentValue=dt)}var fo,mo;function xi(i){if(fo===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);fo=r&&r[1]||"",mo=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fo+i+mo}var tu=!1;function sa(i,r){if(!i||tu)return"";tu=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(X){var K=X}Reflect.construct(i,[],it)}else{try{it.call()}catch(X){K=X}i.call(it.prototype)}}else{try{throw Error()}catch(X){K=X}(it=i())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],S=g[1];if(T&&S){var D=T.split(`
`),G=S.split(`
`);for(m=c=0;c<D.length&&!D[c].includes("DetermineComponentFrameRoot");)c++;for(;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;if(c===D.length||m===G.length)for(c=D.length-1,m=G.length-1;1<=c&&0<=m&&D[c]!==G[m];)m--;for(;1<=c&&0<=m;c--,m--)if(D[c]!==G[m]){if(c!==1||m!==1)do if(c--,m--,0>m||D[c]!==G[m]){var et=`
`+D[c].replace(" at new "," at ");return i.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",i.displayName)),et}while(1<=c&&0<=m);break}}}finally{tu=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?xi(o):""}function eu(i,r){switch(i.tag){case 26:case 27:case 5:return xi(i.type);case 16:return xi("Lazy");case 13:return i.child!==r&&r!==null?xi("Suspense Fallback"):xi("Suspense");case 19:return xi("SuspenseList");case 0:case 15:return sa(i.type,!1);case 11:return sa(i.type.render,!1);case 1:return sa(i.type,!0);case 31:return xi("Activity");default:return""}}function nu(i){try{var r="",o=null;do r+=eu(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Re=Object.prototype.hasOwnProperty,Fe=n.unstable_scheduleCallback,qs=n.unstable_cancelCallback,Ym=n.unstable_shouldYield,wh=n.unstable_requestPaint,gn=n.unstable_now,ra=n.unstable_getCurrentPriorityLevel,iu=n.unstable_ImmediatePriority,su=n.unstable_UserBlockingPriority,Hs=n.unstable_NormalPriority,Qm=n.unstable_LowPriority,Ih=n.unstable_IdlePriority,Rh=n.log,xh=n.unstable_setDisableYieldValue,li=null,tn=null;function Hn(i){if(typeof Rh=="function"&&xh(i),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(li,i)}catch{}}var be=Math.clz32?Math.clz32:Dh,Ch=Math.log,po=Math.LN2;function Dh(i){return i>>>=0,i===0?32:31-(Ch(i)/po|0)|0}var Ci=256,aa=262144,xe=4194304;function Di(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Vi(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var m=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var S=c&134217727;return S!==0?(c=S&~g,c!==0?m=Di(c):(T&=S,T!==0?m=Di(T):o||(o=S&~i,o!==0&&(m=Di(o))))):(S=c&~g,S!==0?m=Di(S):T!==0?m=Di(T):o||(o=c&~i,o!==0&&(m=Di(o)))),m===0?0:r!==0&&r!==m&&(r&g)===0&&(g=m&-m,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:m}function ui(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function $m(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vh(){var i=xe;return xe<<=1,(xe&62914560)===0&&(xe=4194304),i}function Mi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function oa(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Xm(i,r,o,c,m,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,D=i.expirationTimes,G=i.hiddenUpdates;for(o=T&~o;0<o;){var et=31-be(o),it=1<<et;S[et]=0,D[et]=-1;var K=G[et];if(K!==null)for(G[et]=null,et=0;et<K.length;et++){var X=K[et];X!==null&&(X.lane&=-536870913)}o&=~it}c!==0&&la(i,c,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~r))}function la(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-be(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function ru(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-be(o),m=1<<c;m&r|i[c]&r&&(i[c]|=r),o&=~m}}function au(i,r){var o=r&-r;return o=(o&42)!==0?1:ua(o),(o&(i.suspendedLanes|r))!==0?0:o}function ua(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function os(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Mh(){var i=ot.p;return i!==0?i:(i=window.event,i===void 0?32:Nb(i.type))}function ci(i,r){var o=ot.p;try{return ot.p=i,r()}finally{ot.p=o}}var hi=Math.random().toString(36).slice(2),Ce="__reactFiber$"+hi,$e="__reactProps$"+hi,Ni="__reactContainer$"+hi,go="__reactEvents$"+hi,Wm="__reactListeners$"+hi,Nh="__reactHandles$"+hi,Ph="__reactResources$"+hi,Pi="__reactMarker$"+hi;function yo(i){delete i[Ce],delete i[$e],delete i[go],delete i[Wm],delete i[Nh]}function Oi(i){var r=i[Ce];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ni]||o[Ce]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=yb(i);i!==null;){if(o=i[Ce])return o;i=yb(i)}return r}i=o,o=i.parentNode}return null}function Gn(i){if(i=i[Ce]||i[Ni]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Dn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function ki(i){var r=i[Ph];return r||(r=i[Ph]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function De(i){i[Pi]=!0}var ou=new Set,lu={};function Li(i,r){Ui(i,r),Ui(i+"Capture",r)}function Ui(i,r){for(lu[i]=r,i=0;i<r.length;i++)ou.add(r[i])}var uu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cu={},hu={};function Oh(i){return Re.call(hu,i)?!0:Re.call(cu,i)?!1:uu.test(i)?hu[i]=!0:(cu[i]=!0,!1)}function _o(i,r,o){if(Oh(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Vn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Ve(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function Xe(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Gs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function fu(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return m.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Wt(i){if(!i._valueTracker){var r=Gs(i)?"checked":"value";i._valueTracker=fu(i,r,""+i[r])}}function ca(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=Gs(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function Bi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ha=/[\n"\\]/g;function bn(i){return i.replace(ha,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function vo(i,r,o,c,m,g,T,S){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Xe(r)):i.value!==""+Xe(r)&&(i.value=""+Xe(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?du(i,T,Xe(r)):o!=null?du(i,T,Xe(o)):c!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+Xe(S):i.removeAttribute("name")}function kh(i,r,o,c,m,g,T,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Wt(i);return}o=o!=null?""+Xe(o):"",r=r!=null?""+Xe(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=S?i.checked:!!c,i.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),Wt(i)}function du(i,r,o){r==="number"&&Bi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ks(i,r,o,c){if(i=i.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=r.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Xe(o),r=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}r!==null||i[m].disabled||(r=i[m])}r!==null&&(r.selected=!0)}}function Lh(i,r,o){if(r!=null&&(r=""+Xe(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Xe(o):""}function Ys(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(Xt(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=Xe(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),Wt(i)}function Sn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Uh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mu(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||Uh.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function pu(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in r)c=r[m],r.hasOwnProperty(m)&&o[m]!==c&&mu(i,m,c)}else for(var g in r)r.hasOwnProperty(g)&&mu(i,g,r[g])}function To(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Eo(i){return Qs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function fi(){}var gu=null;function Kn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var $s=null,zi=null;function fa(i){var r=Gn(i);if(r&&(i=r.stateNode)){var o=i[$e]||null;t:switch(i=r.stateNode,r.type){case"input":if(vo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+bn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var m=c[$e]||null;if(!m)throw Error(s(90));vo(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&ca(c)}break t;case"textarea":Lh(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Ks(i,!!o.multiple,r,!1)}}}var bo=!1;function Xs(i,r,o){if(bo)return i(r,o);bo=!0;try{var c=i(r);return c}finally{if(bo=!1,($s!==null||zi!==null)&&(Nf(),$s&&(r=$s,i=zi,zi=$s=null,fa(r),i)))for(r=0;r<i.length;r++)fa(i[r])}}function di(i,r){var o=i.stateNode;if(o===null)return null;var c=o[$e]||null;if(c===null)return null;o=c[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),da=!1;if(Yn)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){da=!0}}),window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{da=!1}var ji=null,yu=null,ma=null;function _u(){if(ma)return ma;var i,r=yu,o=r.length,c,m="value"in ji?ji.value:ji.textContent,g=m.length;for(i=0;i<o&&r[i]===m[i];i++);var T=o-i;for(c=1;c<=T&&r[o-c]===m[g-c];c++);return ma=m.slice(i,1<c?1-c:void 0)}function pa(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function ls(){return!0}function mi(){return!1}function en(i){function r(o,c,m,g,T){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ls:mi,this.isPropagationStopped=mi,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),r}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fi=en(us),Ws=v({},us,{view:0,detail:0}),vu=en(Ws),Zs,So,qi,Ao=v({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==qi&&(qi&&i.type==="mousemove"?(Zs=i.screenX-qi.screenX,So=i.screenY-qi.screenY):So=Zs=0,qi=i),Zs)},movementY:function(i){return"movementY"in i?i.movementY:So}}),Tu=en(Ao),ga=v({},Ao,{dataTransfer:0}),zh=en(ga),jh=v({},Ws,{relatedTarget:0}),ya=en(jh),Eu=v({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),Fh=en(Eu),wo=v({},us,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),qh=en(wo),Hh=v({},us,{data:0}),Hi=en(Hh),Gh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Yh[i])?!!r[i]:!1}function Js(){return Qh}var yn=v({},Ws,{key:function(i){if(i.key){var r=Gh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=pa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Kh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(i){return i.type==="keypress"?pa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?pa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),$h=en(yn),Xh=v({},Ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cs=en(Xh),f=v({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),_=en(f),b=v({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=en(b),q=v({},Ao,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$=en(q),ct=v({},us,{newState:0,oldState:0}),xt=en(ct),Se=[9,13,27,32],Qt=Yn&&"CompositionEvent"in window,fe=null;Yn&&"documentMode"in document&&(fe=document.documentMode);var Qn=Yn&&"TextEvent"in window&&!fe,Gi=Yn&&(!Qt||fe&&8<fe&&11>=fe),pi=" ",gi=!1;function _a(i,r){switch(i){case"keyup":return Se.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Io(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ro=!1;function bD(i,r){switch(i){case"compositionend":return Io(r);case"keypress":return r.which!==32?null:(gi=!0,pi);case"textInput":return i=r.data,i===pi&&gi?null:i;default:return null}}function SD(i,r){if(Ro)return i==="compositionend"||!Qt&&_a(i,r)?(i=_u(),ma=yu=ji=null,Ro=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Gi&&r.locale!=="ko"?null:r.data;default:return null}}var AD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T0(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!AD[i.type]:r==="textarea"}function E0(i,r,o,c){$s?zi?zi.push(c):zi=[c]:$s=c,r=zf(r,"onChange"),0<r.length&&(o=new Fi("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var bu=null,Su=null;function wD(i){ib(i,0)}function Wh(i){var r=Dn(i);if(ca(r))return i}function b0(i,r){if(i==="change")return r}var S0=!1;if(Yn){var Zm;if(Yn){var Jm="oninput"in document;if(!Jm){var A0=document.createElement("div");A0.setAttribute("oninput","return;"),Jm=typeof A0.oninput=="function"}Zm=Jm}else Zm=!1;S0=Zm&&(!document.documentMode||9<document.documentMode)}function w0(){bu&&(bu.detachEvent("onpropertychange",I0),Su=bu=null)}function I0(i){if(i.propertyName==="value"&&Wh(Su)){var r=[];E0(r,Su,i,Kn(i)),Xs(wD,r)}}function ID(i,r,o){i==="focusin"?(w0(),bu=r,Su=o,bu.attachEvent("onpropertychange",I0)):i==="focusout"&&w0()}function RD(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Wh(Su)}function xD(i,r){if(i==="click")return Wh(r)}function CD(i,r){if(i==="input"||i==="change")return Wh(r)}function DD(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Mn=typeof Object.is=="function"?Object.is:DD;function Au(i,r){if(Mn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Re.call(r,m)||!Mn(i[m],r[m]))return!1}return!0}function R0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function x0(i,r){var o=R0(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=R0(o)}}function C0(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?C0(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function D0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Bi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Bi(i.document)}return r}function tp(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var VD=Yn&&"documentMode"in document&&11>=document.documentMode,xo=null,ep=null,wu=null,np=!1;function V0(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;np||xo==null||xo!==Bi(c)||(c=xo,"selectionStart"in c&&tp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),wu&&Au(wu,c)||(wu=c,c=zf(ep,"onSelect"),0<c.length&&(r=new Fi("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=xo)))}function va(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Co={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionrun:va("Transition","TransitionRun"),transitionstart:va("Transition","TransitionStart"),transitioncancel:va("Transition","TransitionCancel"),transitionend:va("Transition","TransitionEnd")},ip={},M0={};Yn&&(M0=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function Ta(i){if(ip[i])return ip[i];if(!Co[i])return i;var r=Co[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in M0)return ip[i]=r[o];return i}var N0=Ta("animationend"),P0=Ta("animationiteration"),O0=Ta("animationstart"),MD=Ta("transitionrun"),ND=Ta("transitionstart"),PD=Ta("transitioncancel"),k0=Ta("transitionend"),L0=new Map,sp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sp.push("scrollEnd");function yi(i,r){L0.set(i,r),Li(r,[i])}var Zh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},$n=[],Do=0,rp=0;function Jh(){for(var i=Do,r=rp=Do=0;r<i;){var o=$n[r];$n[r++]=null;var c=$n[r];$n[r++]=null;var m=$n[r];$n[r++]=null;var g=$n[r];if($n[r++]=null,c!==null&&m!==null){var T=c.pending;T===null?m.next=m:(m.next=T.next,T.next=m),c.pending=m}g!==0&&U0(o,m,g)}}function tf(i,r,o,c){$n[Do++]=i,$n[Do++]=r,$n[Do++]=o,$n[Do++]=c,rp|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function ap(i,r,o,c){return tf(i,r,o,c),ef(i)}function Ea(i,r){return tf(i,null,null,r),ef(i)}function U0(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&r!==null&&(m=31-be(o),i=g.hiddenUpdates,c=i[m],c===null?i[m]=[r]:c.push(r),r.lane=o|536870912),g):null}function ef(i){if(50<Yu)throw Yu=0,pg=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Vo={};function OD(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(i,r,o,c){return new OD(i,r,o,c)}function op(i){return i=i.prototype,!(!i||!i.isReactComponent)}function hs(i,r){var o=i.alternate;return o===null?(o=Nn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function B0(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function nf(i,r,o,c,m,g){var T=0;if(c=i,typeof i=="function")op(i)&&(T=1);else if(typeof i=="string")T=zV(i,o,pt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case x:return i=Nn(31,o,r,m),i.elementType=x,i.lanes=g,i;case U:return ba(o.children,m,g,r);case L:T=8,m|=24;break;case Y:return i=Nn(12,o,r,m|2),i.elementType=Y,i.lanes=g,i;case rt:return i=Nn(13,o,r,m),i.elementType=rt,i.lanes=g,i;case at:return i=Nn(19,o,r,m),i.elementType=at,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:T=10;break t;case W:T=9;break t;case Q:T=11;break t;case R:T=14;break t;case A:T=16,c=null;break t}T=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=Nn(T,o,r,m),r.elementType=i,r.type=c,r.lanes=g,r}function ba(i,r,o,c){return i=Nn(7,i,c,r),i.lanes=o,i}function lp(i,r,o){return i=Nn(6,i,null,r),i.lanes=o,i}function z0(i){var r=Nn(18,null,null,0);return r.stateNode=i,r}function up(i,r,o){return r=Nn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var j0=new WeakMap;function Xn(i,r){if(typeof i=="object"&&i!==null){var o=j0.get(i);return o!==void 0?o:(r={value:i,source:r,stack:nu(r)},j0.set(i,r),r)}return{value:i,source:r,stack:nu(r)}}var Mo=[],No=0,sf=null,Iu=0,Wn=[],Zn=0,tr=null,Ki=1,Yi="";function fs(i,r){Mo[No++]=Iu,Mo[No++]=sf,sf=i,Iu=r}function F0(i,r,o){Wn[Zn++]=Ki,Wn[Zn++]=Yi,Wn[Zn++]=tr,tr=i;var c=Ki;i=Yi;var m=32-be(c)-1;c&=~(1<<m),o+=1;var g=32-be(r)+m;if(30<g){var T=m-m%5;g=(c&(1<<T)-1).toString(32),c>>=T,m-=T,Ki=1<<32-be(r)+m|o<<m|c,Yi=g+i}else Ki=1<<g|o<<m|c,Yi=i}function cp(i){i.return!==null&&(fs(i,1),F0(i,1,0))}function hp(i){for(;i===sf;)sf=Mo[--No],Mo[No]=null,Iu=Mo[--No],Mo[No]=null;for(;i===tr;)tr=Wn[--Zn],Wn[Zn]=null,Yi=Wn[--Zn],Wn[Zn]=null,Ki=Wn[--Zn],Wn[Zn]=null}function q0(i,r){Wn[Zn++]=Ki,Wn[Zn++]=Yi,Wn[Zn++]=tr,Ki=r.id,Yi=r.overflow,tr=i}var nn=null,le=null,jt=!1,er=null,Jn=!1,fp=Error(s(519));function nr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ru(Xn(r,i)),fp}function H0(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[Ce]=i,r[$e]=c,o){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(o=0;o<$u.length;o++)Ot($u[o],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":Ot("invalid",r),kh(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ot("invalid",r);break;case"textarea":Ot("invalid",r),Ys(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||ob(r.textContent,o)?(c.popover!=null&&(Ot("beforetoggle",r),Ot("toggle",r)),c.onScroll!=null&&Ot("scroll",r),c.onScrollEnd!=null&&Ot("scrollend",r),c.onClick!=null&&(r.onclick=fi),r=!0):r=!1,r||nr(i,!0)}function G0(i){for(nn=i.return;nn;)switch(nn.tag){case 5:case 31:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:nn=nn.return}}function Po(i){if(i!==nn)return!1;if(!jt)return G0(i),jt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Dg(i.type,i.memoizedProps)),o=!o),o&&le&&nr(i),G0(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));le=gb(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));le=gb(i)}else r===27?(r=le,gr(i.type)?(i=Og,Og=null,le=i):le=r):le=nn?ei(i.stateNode.nextSibling):null;return!0}function Sa(){le=nn=null,jt=!1}function dp(){var i=er;return i!==null&&(Rn===null?Rn=i:Rn.push.apply(Rn,i),er=null),i}function Ru(i){er===null?er=[i]:er.push(i)}var mp=O(null),Aa=null,ds=null;function ir(i,r,o){ft(mp,r._currentValue),r._currentValue=o}function ms(i){i._currentValue=mp.current,st(mp)}function pp(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function gp(i,r,o,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var T=m.child;g=g.firstContext;t:for(;g!==null;){var S=g;g=m;for(var D=0;D<r.length;D++)if(S.context===r[D]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),pp(g.return,o,i),c||(T=null);break t}g=S.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(s(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),pp(T,o,i),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===i){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function Oo(i,r,o,c){i=null;for(var m=r,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var S=m.type;Mn(m.pendingProps.value,T.value)||(i!==null?i.push(S):i=[S])}}else if(m===Ft.current){if(T=m.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(tc):i=[tc])}m=m.return}i!==null&&gp(r,i,o,c),r.flags|=262144}function rf(i){for(i=i.firstContext;i!==null;){if(!Mn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function wa(i){Aa=i,ds=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function sn(i){return K0(Aa,i)}function af(i,r){return Aa===null&&wa(i),K0(i,r)}function K0(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ds===null){if(i===null)throw Error(s(308));ds=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ds=ds.next=r;return o}var kD=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},LD=n.unstable_scheduleCallback,UD=n.unstable_NormalPriority,Me={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yp(){return{controller:new kD,data:new Map,refCount:0}}function xu(i){i.refCount--,i.refCount===0&&LD(UD,function(){i.controller.abort()})}var Cu=null,_p=0,ko=0,Lo=null;function BD(i,r){if(Cu===null){var o=Cu=[];_p=0,ko=Eg(),Lo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return _p++,r.then(Y0,Y0),r}function Y0(){if(--_p===0&&Cu!==null){Lo!==null&&(Lo.status="fulfilled");var i=Cu;Cu=null,ko=0,Lo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function zD(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var Q0=tt.S;tt.S=function(i,r){VE=gn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&BD(i,r),Q0!==null&&Q0(i,r)};var Ia=O(null);function vp(){var i=Ia.current;return i!==null?i:oe.pooledCache}function of(i,r){r===null?ft(Ia,Ia.current):ft(Ia,r.pool)}function $0(){var i=vp();return i===null?null:{parent:Me._currentValue,pool:i}}var Uo=Error(s(460)),Tp=Error(s(474)),lf=Error(s(542)),uf={then:function(){}};function X0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function W0(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(fi,fi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,J0(i),i;default:if(typeof r.status=="string")r.then(fi,fi);else{if(i=oe,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=c}},function(c){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,J0(i),i}throw xa=r,Uo}}function Ra(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(xa=o,Uo):o}}var xa=null;function Z0(){if(xa===null)throw Error(s(459));var i=xa;return xa=null,i}function J0(i){if(i===Uo||i===lf)throw Error(s(483))}var Bo=null,Du=0;function cf(i){var r=Du;return Du+=1,Bo===null&&(Bo=[]),W0(Bo,i,r)}function Vu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function hf(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function tT(i){function r(B,P){if(i){var H=B.deletions;H===null?(B.deletions=[P],B.flags|=16):H.push(P)}}function o(B,P){if(!i)return null;for(;P!==null;)r(B,P),P=P.sibling;return null}function c(B){for(var P=new Map;B!==null;)B.key!==null?P.set(B.key,B):P.set(B.index,B),B=B.sibling;return P}function m(B,P){return B=hs(B,P),B.index=0,B.sibling=null,B}function g(B,P,H){return B.index=H,i?(H=B.alternate,H!==null?(H=H.index,H<P?(B.flags|=67108866,P):H):(B.flags|=67108866,P)):(B.flags|=1048576,P)}function T(B){return i&&B.alternate===null&&(B.flags|=67108866),B}function S(B,P,H,nt){return P===null||P.tag!==6?(P=lp(H,B.mode,nt),P.return=B,P):(P=m(P,H),P.return=B,P)}function D(B,P,H,nt){var Et=H.type;return Et===U?et(B,P,H.props.children,nt,H.key):P!==null&&(P.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===A&&Ra(Et)===P.type)?(P=m(P,H.props),Vu(P,H),P.return=B,P):(P=nf(H.type,H.key,H.props,null,B.mode,nt),Vu(P,H),P.return=B,P)}function G(B,P,H,nt){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=up(H,B.mode,nt),P.return=B,P):(P=m(P,H.children||[]),P.return=B,P)}function et(B,P,H,nt,Et){return P===null||P.tag!==7?(P=ba(H,B.mode,nt,Et),P.return=B,P):(P=m(P,H),P.return=B,P)}function it(B,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=lp(""+P,B.mode,H),P.return=B,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case I:return H=nf(P.type,P.key,P.props,null,B.mode,H),Vu(H,P),H.return=B,H;case N:return P=up(P,B.mode,H),P.return=B,P;case A:return P=Ra(P),it(B,P,H)}if(Xt(P)||k(P))return P=ba(P,B.mode,H,null),P.return=B,P;if(typeof P.then=="function")return it(B,cf(P),H);if(P.$$typeof===z)return it(B,af(B,P),H);hf(B,P)}return null}function K(B,P,H,nt){var Et=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Et!==null?null:S(B,P,""+H,nt);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case I:return H.key===Et?D(B,P,H,nt):null;case N:return H.key===Et?G(B,P,H,nt):null;case A:return H=Ra(H),K(B,P,H,nt)}if(Xt(H)||k(H))return Et!==null?null:et(B,P,H,nt,null);if(typeof H.then=="function")return K(B,P,cf(H),nt);if(H.$$typeof===z)return K(B,P,af(B,H),nt);hf(B,H)}return null}function X(B,P,H,nt,Et){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return B=B.get(H)||null,S(P,B,""+nt,Et);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case I:return B=B.get(nt.key===null?H:nt.key)||null,D(P,B,nt,Et);case N:return B=B.get(nt.key===null?H:nt.key)||null,G(P,B,nt,Et);case A:return nt=Ra(nt),X(B,P,H,nt,Et)}if(Xt(nt)||k(nt))return B=B.get(H)||null,et(P,B,nt,Et,null);if(typeof nt.then=="function")return X(B,P,H,cf(nt),Et);if(nt.$$typeof===z)return X(B,P,H,af(P,nt),Et);hf(P,nt)}return null}function gt(B,P,H,nt){for(var Et=null,Kt=null,vt=P,Mt=P=0,Ut=null;vt!==null&&Mt<H.length;Mt++){vt.index>Mt?(Ut=vt,vt=null):Ut=vt.sibling;var Yt=K(B,vt,H[Mt],nt);if(Yt===null){vt===null&&(vt=Ut);break}i&&vt&&Yt.alternate===null&&r(B,vt),P=g(Yt,P,Mt),Kt===null?Et=Yt:Kt.sibling=Yt,Kt=Yt,vt=Ut}if(Mt===H.length)return o(B,vt),jt&&fs(B,Mt),Et;if(vt===null){for(;Mt<H.length;Mt++)vt=it(B,H[Mt],nt),vt!==null&&(P=g(vt,P,Mt),Kt===null?Et=vt:Kt.sibling=vt,Kt=vt);return jt&&fs(B,Mt),Et}for(vt=c(vt);Mt<H.length;Mt++)Ut=X(vt,B,Mt,H[Mt],nt),Ut!==null&&(i&&Ut.alternate!==null&&vt.delete(Ut.key===null?Mt:Ut.key),P=g(Ut,P,Mt),Kt===null?Et=Ut:Kt.sibling=Ut,Kt=Ut);return i&&vt.forEach(function(Er){return r(B,Er)}),jt&&fs(B,Mt),Et}function bt(B,P,H,nt){if(H==null)throw Error(s(151));for(var Et=null,Kt=null,vt=P,Mt=P=0,Ut=null,Yt=H.next();vt!==null&&!Yt.done;Mt++,Yt=H.next()){vt.index>Mt?(Ut=vt,vt=null):Ut=vt.sibling;var Er=K(B,vt,Yt.value,nt);if(Er===null){vt===null&&(vt=Ut);break}i&&vt&&Er.alternate===null&&r(B,vt),P=g(Er,P,Mt),Kt===null?Et=Er:Kt.sibling=Er,Kt=Er,vt=Ut}if(Yt.done)return o(B,vt),jt&&fs(B,Mt),Et;if(vt===null){for(;!Yt.done;Mt++,Yt=H.next())Yt=it(B,Yt.value,nt),Yt!==null&&(P=g(Yt,P,Mt),Kt===null?Et=Yt:Kt.sibling=Yt,Kt=Yt);return jt&&fs(B,Mt),Et}for(vt=c(vt);!Yt.done;Mt++,Yt=H.next())Yt=X(vt,B,Mt,Yt.value,nt),Yt!==null&&(i&&Yt.alternate!==null&&vt.delete(Yt.key===null?Mt:Yt.key),P=g(Yt,P,Mt),Kt===null?Et=Yt:Kt.sibling=Yt,Kt=Yt);return i&&vt.forEach(function(WV){return r(B,WV)}),jt&&fs(B,Mt),Et}function ae(B,P,H,nt){if(typeof H=="object"&&H!==null&&H.type===U&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case I:t:{for(var Et=H.key;P!==null;){if(P.key===Et){if(Et=H.type,Et===U){if(P.tag===7){o(B,P.sibling),nt=m(P,H.props.children),nt.return=B,B=nt;break t}}else if(P.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===A&&Ra(Et)===P.type){o(B,P.sibling),nt=m(P,H.props),Vu(nt,H),nt.return=B,B=nt;break t}o(B,P);break}else r(B,P);P=P.sibling}H.type===U?(nt=ba(H.props.children,B.mode,nt,H.key),nt.return=B,B=nt):(nt=nf(H.type,H.key,H.props,null,B.mode,nt),Vu(nt,H),nt.return=B,B=nt)}return T(B);case N:t:{for(Et=H.key;P!==null;){if(P.key===Et)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){o(B,P.sibling),nt=m(P,H.children||[]),nt.return=B,B=nt;break t}else{o(B,P);break}else r(B,P);P=P.sibling}nt=up(H,B.mode,nt),nt.return=B,B=nt}return T(B);case A:return H=Ra(H),ae(B,P,H,nt)}if(Xt(H))return gt(B,P,H,nt);if(k(H)){if(Et=k(H),typeof Et!="function")throw Error(s(150));return H=Et.call(H),bt(B,P,H,nt)}if(typeof H.then=="function")return ae(B,P,cf(H),nt);if(H.$$typeof===z)return ae(B,P,af(B,H),nt);hf(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(o(B,P.sibling),nt=m(P,H),nt.return=B,B=nt):(o(B,P),nt=lp(H,B.mode,nt),nt.return=B,B=nt),T(B)):o(B,P)}return function(B,P,H,nt){try{Du=0;var Et=ae(B,P,H,nt);return Bo=null,Et}catch(vt){if(vt===Uo||vt===lf)throw vt;var Kt=Nn(29,vt,null,B.mode);return Kt.lanes=nt,Kt.return=B,Kt}}}var Ca=tT(!0),eT=tT(!1),sr=!1;function Ep(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bp(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function rr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ar(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,($t&2)!==0){var m=c.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),c.pending=r,r=ef(i),U0(i,null,o),r}return tf(i,c,r,o),ef(i)}function Mu(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,ru(i,o)}}function Sp(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?m=g=r:g=g.next=r}else m=g=r;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Ap=!1;function Nu(){if(Ap){var i=Lo;if(i!==null)throw i}}function Pu(i,r,o,c){Ap=!1;var m=i.updateQueue;sr=!1;var g=m.firstBaseUpdate,T=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var D=S,G=D.next;D.next=null,T===null?g=G:T.next=G,T=D;var et=i.alternate;et!==null&&(et=et.updateQueue,S=et.lastBaseUpdate,S!==T&&(S===null?et.firstBaseUpdate=G:S.next=G,et.lastBaseUpdate=D))}if(g!==null){var it=m.baseState;T=0,et=G=D=null,S=g;do{var K=S.lane&-536870913,X=K!==S.lane;if(X?(Lt&K)===K:(c&K)===K){K!==0&&K===ko&&(Ap=!0),et!==null&&(et=et.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var gt=i,bt=S;K=r;var ae=o;switch(bt.tag){case 1:if(gt=bt.payload,typeof gt=="function"){it=gt.call(ae,it,K);break t}it=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=bt.payload,K=typeof gt=="function"?gt.call(ae,it,K):gt,K==null)break t;it=v({},it,K);break t;case 2:sr=!0}}K=S.callback,K!==null&&(i.flags|=64,X&&(i.flags|=8192),X=m.callbacks,X===null?m.callbacks=[K]:X.push(K))}else X={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},et===null?(G=et=X,D=it):et=et.next=X,T|=K;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;X=S,S=X.next,X.next=null,m.lastBaseUpdate=X,m.shared.pending=null}}while(!0);et===null&&(D=it),m.baseState=D,m.firstBaseUpdate=G,m.lastBaseUpdate=et,g===null&&(m.shared.lanes=0),hr|=T,i.lanes=T,i.memoizedState=it}}function nT(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function iT(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)nT(o[i],r)}var zo=O(null),ff=O(0);function sT(i,r){i=Ss,ft(ff,i),ft(zo,r),Ss=i|r.baseLanes}function wp(){ft(ff,Ss),ft(zo,zo.current)}function Ip(){Ss=ff.current,st(zo),st(ff)}var Pn=O(null),ti=null;function or(i){var r=i.alternate;ft(Ae,Ae.current&1),ft(Pn,i),ti===null&&(r===null||zo.current!==null||r.memoizedState!==null)&&(ti=i)}function Rp(i){ft(Ae,Ae.current),ft(Pn,i),ti===null&&(ti=i)}function rT(i){i.tag===22?(ft(Ae,Ae.current),ft(Pn,i),ti===null&&(ti=i)):lr()}function lr(){ft(Ae,Ae.current),ft(Pn,Pn.current)}function On(i){st(Pn),ti===i&&(ti=null),st(Ae)}var Ae=O(0);function df(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Ng(o)||Pg(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ps=0,Ct=null,se=null,Ne=null,mf=!1,jo=!1,Da=!1,pf=0,Ou=0,Fo=null,jD=0;function ve(){throw Error(s(321))}function xp(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Mn(i[o],r[o]))return!1;return!0}function Cp(i,r,o,c,m,g){return ps=g,Ct=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,tt.H=i===null||i.memoizedState===null?FT:Hp,Da=!1,g=o(c,m),Da=!1,jo&&(g=oT(r,o,c,m)),aT(i),g}function aT(i){tt.H=Uu;var r=se!==null&&se.next!==null;if(ps=0,Ne=se=Ct=null,mf=!1,Ou=0,Fo=null,r)throw Error(s(300));i===null||Pe||(i=i.dependencies,i!==null&&rf(i)&&(Pe=!0))}function oT(i,r,o,c){Ct=i;var m=0;do{if(jo&&(Fo=null),Ou=0,jo=!1,25<=m)throw Error(s(301));if(m+=1,Ne=se=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}tt.H=qT,g=r(o,c)}while(jo);return g}function FD(){var i=tt.H,r=i.useState()[0];return r=typeof r.then=="function"?ku(r):r,i=i.useState()[0],(se!==null?se.memoizedState:null)!==i&&(Ct.flags|=1024),r}function Dp(){var i=pf!==0;return pf=0,i}function Vp(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Mp(i){if(mf){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}mf=!1}ps=0,Ne=se=Ct=null,jo=!1,Ou=pf=0,Fo=null}function _n(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?Ct.memoizedState=Ne=i:Ne=Ne.next=i,Ne}function we(){if(se===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=se.next;var r=Ne===null?Ct.memoizedState:Ne.next;if(r!==null)Ne=r,se=i;else{if(i===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));se=i,i={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},Ne===null?Ct.memoizedState=Ne=i:Ne=Ne.next=i}return Ne}function gf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ku(i){var r=Ou;return Ou+=1,Fo===null&&(Fo=[]),i=W0(Fo,i,r),r=Ct,(Ne===null?r.memoizedState:Ne.next)===null&&(r=r.alternate,tt.H=r===null||r.memoizedState===null?FT:Hp),i}function yf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ku(i);if(i.$$typeof===z)return sn(i)}throw Error(s(438,String(i)))}function Np(i){var r=null,o=Ct.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Ct.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=gf(),Ct.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=M;return r.index++,o}function gs(i,r){return typeof r=="function"?r(i):r}function _f(i){var r=we();return Pp(r,se,i)}function Pp(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var m=i.baseQueue,g=c.pending;if(g!==null){if(m!==null){var T=m.next;m.next=g.next,g.next=T}r.baseQueue=m=g,c.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{r=m.next;var S=T=null,D=null,G=r,et=!1;do{var it=G.lane&-536870913;if(it!==G.lane?(Lt&it)===it:(ps&it)===it){var K=G.revertLane;if(K===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),it===ko&&(et=!0);else if((ps&K)===K){G=G.next,K===ko&&(et=!0);continue}else it={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(S=D=it,T=g):D=D.next=it,Ct.lanes|=K,hr|=K;it=G.action,Da&&o(g,it),g=G.hasEagerState?G.eagerState:o(g,it)}else K={lane:it,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(S=D=K,T=g):D=D.next=K,Ct.lanes|=it,hr|=it;G=G.next}while(G!==null&&G!==r);if(D===null?T=g:D.next=S,!Mn(g,i.memoizedState)&&(Pe=!0,et&&(o=Lo,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=D,c.lastRenderedState=g}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Op(i){var r=we(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,m=o.pending,g=r.memoizedState;if(m!==null){o.pending=null;var T=m=m.next;do g=i(g,T.action),T=T.next;while(T!==m);Mn(g,r.memoizedState)||(Pe=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function lT(i,r,o){var c=Ct,m=we(),g=jt;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!Mn((se||m).memoizedState,o);if(T&&(m.memoizedState=o,Pe=!0),m=m.queue,Up(hT.bind(null,c,m,i),[i]),m.getSnapshot!==r||T||Ne!==null&&Ne.memoizedState.tag&1){if(c.flags|=2048,qo(9,{destroy:void 0},cT.bind(null,c,m,o,r),null),oe===null)throw Error(s(349));g||(ps&127)!==0||uT(c,r,o)}return o}function uT(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ct.updateQueue,r===null?(r=gf(),Ct.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function cT(i,r,o,c){r.value=o,r.getSnapshot=c,fT(r)&&dT(i)}function hT(i,r,o){return o(function(){fT(r)&&dT(i)})}function fT(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Mn(i,o)}catch{return!0}}function dT(i){var r=Ea(i,2);r!==null&&xn(r,i,2)}function kp(i){var r=_n();if(typeof i=="function"){var o=i;if(i=o(),Da){Hn(!0);try{o()}finally{Hn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:i},r}function mT(i,r,o,c){return i.baseState=o,Pp(i,se,typeof c=="function"?c:gs)}function qD(i,r,o,c,m){if(Ef(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};tt.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,pT(r,g)):(g.next=o.next,r.pending=o.next=g)}}function pT(i,r){var o=r.action,c=r.payload,m=i.state;if(r.isTransition){var g=tt.T,T={};tt.T=T;try{var S=o(m,c),D=tt.S;D!==null&&D(T,S),gT(i,r,S)}catch(G){Lp(i,r,G)}finally{g!==null&&T.types!==null&&(g.types=T.types),tt.T=g}}else try{g=o(m,c),gT(i,r,g)}catch(G){Lp(i,r,G)}}function gT(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){yT(i,r,c)},function(c){return Lp(i,r,c)}):yT(i,r,o)}function yT(i,r,o){r.status="fulfilled",r.value=o,_T(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,pT(i,o)))}function Lp(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,_T(r),r=r.next;while(r!==c)}i.action=null}function _T(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function vT(i,r){return r}function TT(i,r){if(jt){var o=oe.formState;if(o!==null){t:{var c=Ct;if(jt){if(le){e:{for(var m=le,g=Jn;m.nodeType!==8;){if(!g){m=null;break e}if(m=ei(m.nextSibling),m===null){m=null;break e}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){le=ei(m.nextSibling),c=m.data==="F!";break t}}nr(c)}c=!1}c&&(r=o[0])}}return o=_n(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vT,lastRenderedState:r},o.queue=c,o=BT.bind(null,Ct,c),c.dispatch=o,c=kp(!1),g=qp.bind(null,Ct,!1,c.queue),c=_n(),m={state:r,dispatch:null,action:i,pending:null},c.queue=m,o=qD.bind(null,Ct,m,g,o),m.dispatch=o,c.memoizedState=i,[r,o,!1]}function ET(i){var r=we();return bT(r,se,i)}function bT(i,r,o){if(r=Pp(i,r,vT)[0],i=_f(gs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=ku(r)}catch(T){throw T===Uo?lf:T}else c=r;r=we();var m=r.queue,g=m.dispatch;return o!==r.memoizedState&&(Ct.flags|=2048,qo(9,{destroy:void 0},HD.bind(null,m,o),null)),[c,g,i]}function HD(i,r){i.action=r}function ST(i){var r=we(),o=se;if(o!==null)return bT(r,o,i);we(),r=r.memoizedState,o=we();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function qo(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=Ct.updateQueue,r===null&&(r=gf(),Ct.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function AT(){return we().memoizedState}function vf(i,r,o,c){var m=_n();Ct.flags|=i,m.memoizedState=qo(1|r,{destroy:void 0},o,c===void 0?null:c)}function Tf(i,r,o,c){var m=we();c=c===void 0?null:c;var g=m.memoizedState.inst;se!==null&&c!==null&&xp(c,se.memoizedState.deps)?m.memoizedState=qo(r,g,o,c):(Ct.flags|=i,m.memoizedState=qo(1|r,g,o,c))}function wT(i,r){vf(8390656,8,i,r)}function Up(i,r){Tf(2048,8,i,r)}function GD(i){Ct.flags|=4;var r=Ct.updateQueue;if(r===null)r=gf(),Ct.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function IT(i){var r=we().memoizedState;return GD({ref:r,nextImpl:i}),function(){if(($t&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function RT(i,r){return Tf(4,2,i,r)}function xT(i,r){return Tf(4,4,i,r)}function CT(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function DT(i,r,o){o=o!=null?o.concat([i]):null,Tf(4,4,CT.bind(null,r,i),o)}function Bp(){}function VT(i,r){var o=we();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&xp(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function MT(i,r){var o=we();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&xp(r,c[1]))return c[0];if(c=i(),Da){Hn(!0);try{i()}finally{Hn(!1)}}return o.memoizedState=[c,r],c}function zp(i,r,o){return o===void 0||(ps&1073741824)!==0&&(Lt&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=NE(),Ct.lanes|=i,hr|=i,o)}function NT(i,r,o,c){return Mn(o,r)?o:zo.current!==null?(i=zp(i,o,c),Mn(i,r)||(Pe=!0),i):(ps&42)===0||(ps&1073741824)!==0&&(Lt&261930)===0?(Pe=!0,i.memoizedState=o):(i=NE(),Ct.lanes|=i,hr|=i,r)}function PT(i,r,o,c,m){var g=ot.p;ot.p=g!==0&&8>g?g:8;var T=tt.T,S={};tt.T=S,qp(i,!1,r,o);try{var D=m(),G=tt.S;if(G!==null&&G(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var et=zD(D,c);Lu(i,r,et,Un(i))}else Lu(i,r,c,Un(i))}catch(it){Lu(i,r,{then:function(){},status:"rejected",reason:it},Un())}finally{ot.p=g,T!==null&&S.types!==null&&(T.types=S.types),tt.T=T}}function KD(){}function jp(i,r,o,c){if(i.tag!==5)throw Error(s(476));var m=OT(i).queue;PT(i,m,r,dt,o===null?KD:function(){return kT(i),o(c)})}function OT(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:dt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function kT(i){var r=OT(i);r.next===null&&(r=i.alternate.memoizedState),Lu(i,r.next.queue,{},Un())}function Fp(){return sn(tc)}function LT(){return we().memoizedState}function UT(){return we().memoizedState}function YD(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Un();i=rr(o);var c=ar(r,i,o);c!==null&&(xn(c,r,o),Mu(c,r,o)),r={cache:yp()},i.payload=r;return}r=r.return}}function QD(i,r,o){var c=Un();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ef(i)?zT(r,o):(o=ap(i,r,o,c),o!==null&&(xn(o,i,c),jT(o,r,c)))}function BT(i,r,o){var c=Un();Lu(i,r,o,c)}function Lu(i,r,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ef(i))zT(r,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,S=g(T,o);if(m.hasEagerState=!0,m.eagerState=S,Mn(S,T))return tf(i,r,m,0),oe===null&&Jh(),!1}catch{}if(o=ap(i,r,m,c),o!==null)return xn(o,i,c),jT(o,r,c),!0}return!1}function qp(i,r,o,c){if(c={lane:2,revertLane:Eg(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ef(i)){if(r)throw Error(s(479))}else r=ap(i,o,c,2),r!==null&&xn(r,i,2)}function Ef(i){var r=i.alternate;return i===Ct||r!==null&&r===Ct}function zT(i,r){jo=mf=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function jT(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,ru(i,o)}}var Uu={readContext:sn,use:yf,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve};Uu.useEffectEvent=ve;var FT={readContext:sn,use:yf,useCallback:function(i,r){return _n().memoizedState=[i,r===void 0?null:r],i},useContext:sn,useEffect:wT,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,vf(4194308,4,CT.bind(null,r,i),o)},useLayoutEffect:function(i,r){return vf(4194308,4,i,r)},useInsertionEffect:function(i,r){vf(4,2,i,r)},useMemo:function(i,r){var o=_n();r=r===void 0?null:r;var c=i();if(Da){Hn(!0);try{i()}finally{Hn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=_n();if(o!==void 0){var m=o(r);if(Da){Hn(!0);try{o(r)}finally{Hn(!1)}}}else m=r;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=QD.bind(null,Ct,i),[c.memoizedState,i]},useRef:function(i){var r=_n();return i={current:i},r.memoizedState=i},useState:function(i){i=kp(i);var r=i.queue,o=BT.bind(null,Ct,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Bp,useDeferredValue:function(i,r){var o=_n();return zp(o,i,r)},useTransition:function(){var i=kp(!1);return i=PT.bind(null,Ct,i.queue,!0,!1),_n().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=Ct,m=_n();if(jt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),oe===null)throw Error(s(349));(Lt&127)!==0||uT(c,r,o)}m.memoizedState=o;var g={value:o,getSnapshot:r};return m.queue=g,wT(hT.bind(null,c,g,i),[i]),c.flags|=2048,qo(9,{destroy:void 0},cT.bind(null,c,g,o,r),null),o},useId:function(){var i=_n(),r=oe.identifierPrefix;if(jt){var o=Yi,c=Ki;o=(c&~(1<<32-be(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=pf++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=jD++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Fp,useFormState:TT,useActionState:TT,useOptimistic:function(i){var r=_n();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=qp.bind(null,Ct,!0,o),o.dispatch=r,[i,r]},useMemoCache:Np,useCacheRefresh:function(){return _n().memoizedState=YD.bind(null,Ct)},useEffectEvent:function(i){var r=_n(),o={impl:i};return r.memoizedState=o,function(){if(($t&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Hp={readContext:sn,use:yf,useCallback:VT,useContext:sn,useEffect:Up,useImperativeHandle:DT,useInsertionEffect:RT,useLayoutEffect:xT,useMemo:MT,useReducer:_f,useRef:AT,useState:function(){return _f(gs)},useDebugValue:Bp,useDeferredValue:function(i,r){var o=we();return NT(o,se.memoizedState,i,r)},useTransition:function(){var i=_f(gs)[0],r=we().memoizedState;return[typeof i=="boolean"?i:ku(i),r]},useSyncExternalStore:lT,useId:LT,useHostTransitionStatus:Fp,useFormState:ET,useActionState:ET,useOptimistic:function(i,r){var o=we();return mT(o,se,i,r)},useMemoCache:Np,useCacheRefresh:UT};Hp.useEffectEvent=IT;var qT={readContext:sn,use:yf,useCallback:VT,useContext:sn,useEffect:Up,useImperativeHandle:DT,useInsertionEffect:RT,useLayoutEffect:xT,useMemo:MT,useReducer:Op,useRef:AT,useState:function(){return Op(gs)},useDebugValue:Bp,useDeferredValue:function(i,r){var o=we();return se===null?zp(o,i,r):NT(o,se.memoizedState,i,r)},useTransition:function(){var i=Op(gs)[0],r=we().memoizedState;return[typeof i=="boolean"?i:ku(i),r]},useSyncExternalStore:lT,useId:LT,useHostTransitionStatus:Fp,useFormState:ST,useActionState:ST,useOptimistic:function(i,r){var o=we();return se!==null?mT(o,se,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Np,useCacheRefresh:UT};qT.useEffectEvent=IT;function Gp(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Kp={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=Un(),m=rr(c);m.payload=r,o!=null&&(m.callback=o),r=ar(i,m,c),r!==null&&(xn(r,i,c),Mu(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=Un(),m=rr(c);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=ar(i,m,c),r!==null&&(xn(r,i,c),Mu(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Un(),c=rr(o);c.tag=2,r!=null&&(c.callback=r),r=ar(i,c,o),r!==null&&(xn(r,i,o),Mu(r,i,o))}};function HT(i,r,o,c,m,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,T):r.prototype&&r.prototype.isPureReactComponent?!Au(o,c)||!Au(m,g):!0}function GT(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&Kp.enqueueReplaceState(r,r.state,null)}function Va(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function KT(i){Zh(i)}function YT(i){console.error(i)}function QT(i){Zh(i)}function bf(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function $T(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Yp(i,r,o){return o=rr(o),o.tag=3,o.payload={element:null},o.callback=function(){bf(i,r)},o}function XT(i){return i=rr(i),i.tag=3,i}function WT(i,r,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;i.payload=function(){return m(g)},i.callback=function(){$T(r,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){$T(r,o,c),typeof m!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function $D(i,r,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Oo(r,o,m,!0),o=Pn.current,o!==null){switch(o.tag){case 31:case 13:return ti===null?Pf():o.alternate===null&&Te===0&&(Te=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===uf?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),_g(i,c,m)),!1;case 22:return o.flags|=65536,c===uf?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),_g(i,c,m)),!1}throw Error(s(435,o.tag))}return _g(i,c,m),Pf(),!1}if(jt)return r=Pn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,c!==fp&&(i=Error(s(422),{cause:c}),Ru(Xn(i,o)))):(c!==fp&&(r=Error(s(423),{cause:c}),Ru(Xn(r,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=Xn(c,o),m=Yp(i.stateNode,c,m),Sp(i,m),Te!==4&&(Te=2)),!1;var g=Error(s(520),{cause:c});if(g=Xn(g,o),Ku===null?Ku=[g]:Ku.push(g),Te!==4&&(Te=2),r===null)return!0;c=Xn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=Yp(o.stateNode,c,i),Sp(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(fr===null||!fr.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=XT(m),WT(m,i,o,c),Sp(o,m),!1}o=o.return}while(o!==null);return!1}var Qp=Error(s(461)),Pe=!1;function rn(i,r,o,c){r.child=i===null?eT(r,null,o,c):Ca(r,i.child,o,c)}function ZT(i,r,o,c,m){o=o.render;var g=r.ref;if("ref"in c){var T={};for(var S in c)S!=="ref"&&(T[S]=c[S])}else T=c;return wa(r),c=Cp(i,r,o,T,g,m),S=Dp(),i!==null&&!Pe?(Vp(i,r,m),ys(i,r,m)):(jt&&S&&cp(r),r.flags|=1,rn(i,r,c,m),r.child)}function JT(i,r,o,c,m){if(i===null){var g=o.type;return typeof g=="function"&&!op(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,tE(i,r,g,c,m)):(i=nf(o.type,null,c,r,r.mode,m),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!ng(i,m)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Au,o(T,c)&&i.ref===r.ref)return ys(i,r,m)}return r.flags|=1,i=hs(g,c),i.ref=r.ref,i.return=r,r.child=i}function tE(i,r,o,c,m){if(i!==null){var g=i.memoizedProps;if(Au(g,c)&&i.ref===r.ref)if(Pe=!1,r.pendingProps=c=g,ng(i,m))(i.flags&131072)!==0&&(Pe=!0);else return r.lanes=i.lanes,ys(i,r,m)}return $p(i,r,o,c,m)}function eE(i,r,o,c){var m=c.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=r.child=i.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,r.child=null;return nE(i,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&of(r,g!==null?g.cachePool:null),g!==null?sT(r,g):wp(),rT(r);else return c=r.lanes=536870912,nE(i,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(of(r,g.cachePool),sT(r,g),lr(),r.memoizedState=null):(i!==null&&of(r,null),wp(),lr());return rn(i,r,m,o),r.child}function Bu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function nE(i,r,o,c,m){var g=vp();return g=g===null?null:{parent:Me._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&of(r,null),wp(),rT(r),i!==null&&Oo(i,r,c,!0),r.childLanes=m,null}function Sf(i,r){return r=wf({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function iE(i,r,o){return Ca(r,i.child,null,o),i=Sf(r,r.pendingProps),i.flags|=2,On(r),r.memoizedState=null,i}function XD(i,r,o){var c=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(jt){if(c.mode==="hidden")return i=Sf(r,c),r.lanes=536870912,Bu(null,i);if(Rp(r),(i=le)?(i=pb(i,Jn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:tr!==null?{id:Ki,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},o=z0(i),o.return=r,r.child=o,nn=r,le=null)):i=null,i===null)throw nr(r);return r.lanes=536870912,null}return Sf(r,c)}var g=i.memoizedState;if(g!==null){var T=g.dehydrated;if(Rp(r),m)if(r.flags&256)r.flags&=-257,r=iE(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Pe||Oo(i,r,o,!1),m=(o&i.childLanes)!==0,Pe||m){if(c=oe,c!==null&&(T=au(c,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,Ea(i,T),xn(c,i,T),Qp;Pf(),r=iE(i,r,o)}else i=g.treeContext,le=ei(T.nextSibling),nn=r,jt=!0,er=null,Jn=!1,i!==null&&q0(r,i),r=Sf(r,c),r.flags|=4096;return r}return i=hs(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Af(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function $p(i,r,o,c,m){return wa(r),o=Cp(i,r,o,c,void 0,m),c=Dp(),i!==null&&!Pe?(Vp(i,r,m),ys(i,r,m)):(jt&&c&&cp(r),r.flags|=1,rn(i,r,o,m),r.child)}function sE(i,r,o,c,m,g){return wa(r),r.updateQueue=null,o=oT(r,c,o,m),aT(i),c=Dp(),i!==null&&!Pe?(Vp(i,r,g),ys(i,r,g)):(jt&&c&&cp(r),r.flags|=1,rn(i,r,o,g),r.child)}function rE(i,r,o,c,m){if(wa(r),r.stateNode===null){var g=Vo,T=o.contextType;typeof T=="object"&&T!==null&&(g=sn(T)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Kp,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},Ep(r),T=o.contextType,g.context=typeof T=="object"&&T!==null?sn(T):Vo,g.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Gp(r,o,T,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Kp.enqueueReplaceState(g,g.state,null),Pu(r,c,g,m),Nu(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){g=r.stateNode;var S=r.memoizedProps,D=Va(o,S);g.props=D;var G=g.context,et=o.contextType;T=Vo,typeof et=="object"&&et!==null&&(T=sn(et));var it=o.getDerivedStateFromProps;et=typeof it=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,et||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||G!==T)&&GT(r,g,c,T),sr=!1;var K=r.memoizedState;g.state=K,Pu(r,c,g,m),Nu(),G=r.memoizedState,S||K!==G||sr?(typeof it=="function"&&(Gp(r,o,it,c),G=r.memoizedState),(D=sr||HT(r,o,D,c,K,G,T))?(et||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=G),g.props=c,g.state=G,g.context=T,c=D):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,bp(i,r),T=r.memoizedProps,et=Va(o,T),g.props=et,it=r.pendingProps,K=g.context,G=o.contextType,D=Vo,typeof G=="object"&&G!==null&&(D=sn(G)),S=o.getDerivedStateFromProps,(G=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==it||K!==D)&&GT(r,g,c,D),sr=!1,K=r.memoizedState,g.state=K,Pu(r,c,g,m),Nu();var X=r.memoizedState;T!==it||K!==X||sr||i!==null&&i.dependencies!==null&&rf(i.dependencies)?(typeof S=="function"&&(Gp(r,o,S,c),X=r.memoizedState),(et=sr||HT(r,o,et,c,K,X,D)||i!==null&&i.dependencies!==null&&rf(i.dependencies))?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,X,D),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,X,D)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=X),g.props=c,g.state=X,g.context=D,c=et):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),c=!1)}return g=c,Af(i,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&c?(r.child=Ca(r,i.child,null,m),r.child=Ca(r,null,o,m)):rn(i,r,o,m),r.memoizedState=g.state,i=r.child):i=ys(i,r,m),i}function aE(i,r,o,c){return Sa(),r.flags|=256,rn(i,r,o,c),r.child}var Xp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wp(i){return{baseLanes:i,cachePool:$0()}}function Zp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Ln),i}function oE(i,r,o){var c=r.pendingProps,m=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(Ae.current&2)!==0),T&&(m=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(jt){if(m?or(r):lr(),(i=le)?(i=pb(i,Jn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:tr!==null?{id:Ki,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},o=z0(i),o.return=r,r.child=o,nn=r,le=null)):i=null,i===null)throw nr(r);return Pg(i)?r.lanes=32:r.lanes=536870912,null}var S=c.children;return c=c.fallback,m?(lr(),m=r.mode,S=wf({mode:"hidden",children:S},m),c=ba(c,m,o,null),S.return=r,c.return=r,S.sibling=c,r.child=S,c=r.child,c.memoizedState=Wp(o),c.childLanes=Zp(i,T,o),r.memoizedState=Xp,Bu(null,c)):(or(r),Jp(r,S))}var D=i.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(g)r.flags&256?(or(r),r.flags&=-257,r=tg(i,r,o)):r.memoizedState!==null?(lr(),r.child=i.child,r.flags|=128,r=null):(lr(),S=c.fallback,m=r.mode,c=wf({mode:"visible",children:c.children},m),S=ba(S,m,o,null),S.flags|=2,c.return=r,S.return=r,c.sibling=S,r.child=c,Ca(r,i.child,null,o),c=r.child,c.memoizedState=Wp(o),c.childLanes=Zp(i,T,o),r.memoizedState=Xp,r=Bu(null,c));else if(or(r),Pg(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var G=T.dgst;T=G,c=Error(s(419)),c.stack="",c.digest=T,Ru({value:c,source:null,stack:null}),r=tg(i,r,o)}else if(Pe||Oo(i,r,o,!1),T=(o&i.childLanes)!==0,Pe||T){if(T=oe,T!==null&&(c=au(T,o),c!==0&&c!==D.retryLane))throw D.retryLane=c,Ea(i,c),xn(T,i,c),Qp;Ng(S)||Pf(),r=tg(i,r,o)}else Ng(S)?(r.flags|=192,r.child=i.child,r=null):(i=D.treeContext,le=ei(S.nextSibling),nn=r,jt=!0,er=null,Jn=!1,i!==null&&q0(r,i),r=Jp(r,c.children),r.flags|=4096);return r}return m?(lr(),S=c.fallback,m=r.mode,D=i.child,G=D.sibling,c=hs(D,{mode:"hidden",children:c.children}),c.subtreeFlags=D.subtreeFlags&65011712,G!==null?S=hs(G,S):(S=ba(S,m,o,null),S.flags|=2),S.return=r,c.return=r,c.sibling=S,r.child=c,Bu(null,c),c=r.child,S=i.child.memoizedState,S===null?S=Wp(o):(m=S.cachePool,m!==null?(D=Me._currentValue,m=m.parent!==D?{parent:D,pool:D}:m):m=$0(),S={baseLanes:S.baseLanes|o,cachePool:m}),c.memoizedState=S,c.childLanes=Zp(i,T,o),r.memoizedState=Xp,Bu(i.child,c)):(or(r),o=i.child,i=o.sibling,o=hs(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function Jp(i,r){return r=wf({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function wf(i,r){return i=Nn(22,i,null,r),i.lanes=0,i}function tg(i,r,o){return Ca(r,i.child,null,o),i=Jp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function lE(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),pp(i.return,r,o)}function eg(i,r,o,c,m,g){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=m,T.treeForkCount=g)}function uE(i,r,o){var c=r.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var T=Ae.current,S=(T&2)!==0;if(S?(T=T&1|2,r.flags|=128):T&=1,ft(Ae,T),rn(i,r,c,o),c=jt?Iu:0,!S&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&lE(i,o,r);else if(i.tag===19)lE(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)i=o.alternate,i!==null&&df(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),eg(r,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(i=m.alternate,i!==null&&df(i)===null){r.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}eg(r,!0,o,null,g,c);break;case"together":eg(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function ys(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),hr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Oo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=hs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=hs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function ng(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&rf(i)))}function WD(i,r,o){switch(r.tag){case 3:je(r,r.stateNode.containerInfo),ir(r,Me,i.memoizedState.cache),Sa();break;case 27:case 5:ia(r);break;case 4:je(r,r.stateNode.containerInfo);break;case 10:ir(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Rp(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(or(r),r.flags|=128,null):(o&r.child.childLanes)!==0?oE(i,r,o):(or(r),i=ys(i,r,o),i!==null?i.sibling:null);or(r);break;case 19:var m=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Oo(i,r,o,!1),c=(o&r.childLanes)!==0),m){if(c)return uE(i,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ft(Ae,Ae.current),c)break;return null;case 22:return r.lanes=0,eE(i,r,o,r.pendingProps);case 24:ir(r,Me,i.memoizedState.cache)}return ys(i,r,o)}function cE(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Pe=!0;else{if(!ng(i,o)&&(r.flags&128)===0)return Pe=!1,WD(i,r,o);Pe=(i.flags&131072)!==0}else Pe=!1,jt&&(r.flags&1048576)!==0&&F0(r,Iu,r.index);switch(r.lanes=0,r.tag){case 16:t:{var c=r.pendingProps;if(i=Ra(r.elementType),r.type=i,typeof i=="function")op(i)?(c=Va(i,c),r.tag=1,r=rE(null,r,i,c,o)):(r.tag=0,r=$p(null,r,i,c,o));else{if(i!=null){var m=i.$$typeof;if(m===Q){r.tag=11,r=ZT(null,r,i,c,o);break t}else if(m===R){r.tag=14,r=JT(null,r,i,c,o);break t}}throw r=Gt(i)||i,Error(s(306,r,""))}}return r;case 0:return $p(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,m=Va(c,r.pendingProps),rE(i,r,c,m,o);case 3:t:{if(je(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var g=r.memoizedState;m=g.element,bp(i,r),Pu(r,c,null,o);var T=r.memoizedState;if(c=T.cache,ir(r,Me,c),c!==g.cache&&gp(r,[Me],o,!0),Nu(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=aE(i,r,c,o);break t}else if(c!==m){m=Xn(Error(s(424)),r),Ru(m),r=aE(i,r,c,o);break t}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,le=ei(i.firstChild),nn=r,jt=!0,er=null,Jn=!0,o=eT(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Sa(),c===m){r=ys(i,r,o);break t}rn(i,r,c,o)}r=r.child}return r;case 26:return Af(i,r),i===null?(o=Eb(r.type,null,r.pendingProps,null))?r.memoizedState=o:jt||(o=r.type,i=r.pendingProps,c=jf(Vt.current).createElement(o),c[Ce]=r,c[$e]=i,an(c,o,i),De(c),r.stateNode=c):r.memoizedState=Eb(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return ia(r),i===null&&jt&&(c=r.stateNode=_b(r.type,r.pendingProps,Vt.current),nn=r,Jn=!0,m=le,gr(r.type)?(Og=m,le=ei(c.firstChild)):le=m),rn(i,r,r.pendingProps.children,o),Af(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&jt&&((m=c=le)&&(c=RV(c,r.type,r.pendingProps,Jn),c!==null?(r.stateNode=c,nn=r,le=ei(c.firstChild),Jn=!1,m=!0):m=!1),m||nr(r)),ia(r),m=r.type,g=r.pendingProps,T=i!==null?i.memoizedProps:null,c=g.children,Dg(m,g)?c=null:T!==null&&Dg(m,T)&&(r.flags|=32),r.memoizedState!==null&&(m=Cp(i,r,FD,null,null,o),tc._currentValue=m),Af(i,r),rn(i,r,c,o),r.child;case 6:return i===null&&jt&&((i=o=le)&&(o=xV(o,r.pendingProps,Jn),o!==null?(r.stateNode=o,nn=r,le=null,i=!0):i=!1),i||nr(r)),null;case 13:return oE(i,r,o);case 4:return je(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=Ca(r,null,c,o):rn(i,r,c,o),r.child;case 11:return ZT(i,r,r.type,r.pendingProps,o);case 7:return rn(i,r,r.pendingProps,o),r.child;case 8:return rn(i,r,r.pendingProps.children,o),r.child;case 12:return rn(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,ir(r,r.type,c.value),rn(i,r,c.children,o),r.child;case 9:return m=r.type._context,c=r.pendingProps.children,wa(r),m=sn(m),c=c(m),r.flags|=1,rn(i,r,c,o),r.child;case 14:return JT(i,r,r.type,r.pendingProps,o);case 15:return tE(i,r,r.type,r.pendingProps,o);case 19:return uE(i,r,o);case 31:return XD(i,r,o);case 22:return eE(i,r,o,r.pendingProps);case 24:return wa(r),c=sn(Me),i===null?(m=vp(),m===null&&(m=oe,g=yp(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),r.memoizedState={parent:c,cache:m},Ep(r),ir(r,Me,m)):((i.lanes&o)!==0&&(bp(i,r),Pu(r,null,null,o),Nu()),m=i.memoizedState,g=r.memoizedState,m.parent!==c?(m={parent:c,cache:c},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),ir(r,Me,c)):(c=g.cache,ir(r,Me,c),c!==m.cache&&gp(r,[Me],o,!0))),rn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function _s(i){i.flags|=4}function ig(i,r,o,c,m){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(LE())i.flags|=8192;else throw xa=uf,Tp}else i.flags&=-16777217}function hE(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Ib(r))if(LE())i.flags|=8192;else throw xa=uf,Tp}function If(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Vh():536870912,i.lanes|=r,Yo|=r)}function zu(i,r){if(!jt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function ue(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function ZD(i,r,o){var c=r.pendingProps;switch(hp(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(r),null;case 1:return ue(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),ms(Me),he(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Po(r)?_s(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,dp())),ue(r),null;case 26:var m=r.type,g=r.memoizedState;return i===null?(_s(r),g!==null?(ue(r),hE(r,g)):(ue(r),ig(r,m,null,c,o))):g?g!==i.memoizedState?(_s(r),ue(r),hE(r,g)):(ue(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&_s(r),ue(r),ig(r,m,i,c,o)),null;case 27:if(ho(r),o=Vt.current,m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&_s(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ue(r),null}i=pt.current,Po(r)?H0(r):(i=_b(m,c,o),r.stateNode=i,_s(r))}return ue(r),null;case 5:if(ho(r),m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&_s(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ue(r),null}if(g=pt.current,Po(r))H0(r);else{var T=jf(Vt.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?T.createElement(m,{is:c.is}):T.createElement(m)}}g[Ce]=r,g[$e]=c;t:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break t;for(;T.sibling===null;){if(T.return===null||T.return===r)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=g;t:switch(an(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&_s(r)}}return ue(r),ig(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&_s(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=Vt.current,Po(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,m=nn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[Ce]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||ob(i.nodeValue,o)),i||nr(r,!0)}else i=jf(i).createTextNode(c),i[Ce]=r,r.stateNode=i}return ue(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=Po(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Ce]=r}else Sa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ue(r),i=!1}else o=dp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(On(r),r):(On(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ue(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Po(r),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[Ce]=r}else Sa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ue(r),m=!1}else m=dp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(On(r),r):(On(r),null)}return On(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),If(r,r.updateQueue),ue(r),null);case 4:return he(),i===null&&wg(r.stateNode.containerInfo),ue(r),null;case 10:return ms(r.type),ue(r),null;case 19:if(st(Ae),c=r.memoizedState,c===null)return ue(r),null;if(m=(r.flags&128)!==0,g=c.rendering,g===null)if(m)zu(c,!1);else{if(Te!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=df(i),g!==null){for(r.flags|=128,zu(c,!1),i=g.updateQueue,r.updateQueue=i,If(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)B0(o,i),o=o.sibling;return ft(Ae,Ae.current&1|2),jt&&fs(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&gn()>Vf&&(r.flags|=128,m=!0,zu(c,!1),r.lanes=4194304)}else{if(!m)if(i=df(g),i!==null){if(r.flags|=128,m=!0,i=i.updateQueue,r.updateQueue=i,If(r,i),zu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!jt)return ue(r),null}else 2*gn()-c.renderingStartTime>Vf&&o!==536870912&&(r.flags|=128,m=!0,zu(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(i=c.last,i!==null?i.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=gn(),i.sibling=null,o=Ae.current,ft(Ae,m?o&1|2:o&1),jt&&fs(r,c.treeForkCount),i):(ue(r),null);case 22:case 23:return On(r),Ip(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(ue(r),r.subtreeFlags&6&&(r.flags|=8192)):ue(r),o=r.updateQueue,o!==null&&If(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&st(Ia),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ms(Me),ue(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function JD(i,r){switch(hp(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ms(Me),he(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return ho(r),null;case 31:if(r.memoizedState!==null){if(On(r),r.alternate===null)throw Error(s(340));Sa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(On(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Sa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return st(Ae),null;case 4:return he(),null;case 10:return ms(r.type),null;case 22:case 23:return On(r),Ip(),i!==null&&st(Ia),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ms(Me),null;case 25:return null;default:return null}}function fE(i,r){switch(hp(r),r.tag){case 3:ms(Me),he();break;case 26:case 27:case 5:ho(r);break;case 4:he();break;case 31:r.memoizedState!==null&&On(r);break;case 13:On(r);break;case 19:st(Ae);break;case 10:ms(r.type);break;case 22:case 23:On(r),Ip(),i!==null&&st(Ia);break;case 24:ms(Me)}}function ju(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&i)===i){c=void 0;var g=o.create,T=o.inst;c=g(),T.destroy=c}o=o.next}while(o!==m)}}catch(S){Jt(r,r.return,S)}}function ur(i,r,o){try{var c=r.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&i)===i){var T=c.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,m=r;var D=o,G=S;try{G()}catch(et){Jt(m,D,et)}}}c=c.next}while(c!==g)}}catch(et){Jt(r,r.return,et)}}function dE(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{iT(r,o)}catch(c){Jt(i,i.return,c)}}}function mE(i,r,o){o.props=Va(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){Jt(i,r,c)}}function Fu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(m){Jt(i,r,m)}}function Qi(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Jt(i,r,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Jt(i,r,m)}else o.current=null}function pE(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Jt(i,i.return,m)}}function sg(i,r,o){try{var c=i.stateNode;EV(c,i.type,o,r),c[$e]=r}catch(m){Jt(i,i.return,m)}}function gE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&gr(i.type)||i.tag===4}function rg(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||gE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&gr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ag(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=fi));else if(c!==4&&(c===27&&gr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(ag(i,r,o),i=i.sibling;i!==null;)ag(i,r,o),i=i.sibling}function Rf(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&gr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Rf(i,r,o),i=i.sibling;i!==null;)Rf(i,r,o),i=i.sibling}function yE(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);an(r,c,o),r[Ce]=i,r[$e]=o}catch(g){Jt(i,i.return,g)}}var vs=!1,Oe=!1,og=!1,_E=typeof WeakSet=="function"?WeakSet:Set,We=null;function tV(i,r){if(i=i.containerInfo,xg=Qf,i=D0(i),tp(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var T=0,S=-1,D=-1,G=0,et=0,it=i,K=null;e:for(;;){for(var X;it!==o||m!==0&&it.nodeType!==3||(S=T+m),it!==g||c!==0&&it.nodeType!==3||(D=T+c),it.nodeType===3&&(T+=it.nodeValue.length),(X=it.firstChild)!==null;)K=it,it=X;for(;;){if(it===i)break e;if(K===o&&++G===m&&(S=T),K===g&&++et===c&&(D=T),(X=it.nextSibling)!==null)break;it=K,K=it.parentNode}it=X}o=S===-1||D===-1?null:{start:S,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(Cg={focusedElem:i,selectionRange:o},Qf=!1,We=r;We!==null;)if(r=We,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,We=i;else for(;We!==null;){switch(r=We,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var gt=Va(o.type,m);i=c.getSnapshotBeforeUpdate(gt,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(bt){Jt(o,o.return,bt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Mg(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Mg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,We=i;break}We=r.return}}function vE(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Es(i,o),c&4&&ju(5,o);break;case 1:if(Es(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){Jt(o,o.return,T)}else{var m=Va(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(m,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Jt(o,o.return,T)}}c&64&&dE(o),c&512&&Fu(o,o.return);break;case 3:if(Es(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{iT(i,r)}catch(T){Jt(o,o.return,T)}}break;case 27:r===null&&c&4&&yE(o);case 26:case 5:Es(i,o),r===null&&c&4&&pE(o),c&512&&Fu(o,o.return);break;case 12:Es(i,o);break;case 31:Es(i,o),c&4&&bE(i,o);break;case 13:Es(i,o),c&4&&SE(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=uV.bind(null,o),CV(i,o))));break;case 22:if(c=o.memoizedState!==null||vs,!c){r=r!==null&&r.memoizedState!==null||Oe,m=vs;var g=Oe;vs=c,(Oe=r)&&!g?bs(i,o,(o.subtreeFlags&8772)!==0):Es(i,o),vs=m,Oe=g}break;case 30:break;default:Es(i,o)}}function TE(i){var r=i.alternate;r!==null&&(i.alternate=null,TE(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&yo(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var de=null,An=!1;function Ts(i,r,o){for(o=o.child;o!==null;)EE(i,r,o),o=o.sibling}function EE(i,r,o){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(li,o)}catch{}switch(o.tag){case 26:Oe||Qi(o,r),Ts(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Oe||Qi(o,r);var c=de,m=An;gr(o.type)&&(de=o.stateNode,An=!1),Ts(i,r,o),Wu(o.stateNode),de=c,An=m;break;case 5:Oe||Qi(o,r);case 6:if(c=de,m=An,de=null,Ts(i,r,o),de=c,An=m,de!==null)if(An)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(o.stateNode)}catch(g){Jt(o,r,g)}else try{de.removeChild(o.stateNode)}catch(g){Jt(o,r,g)}break;case 18:de!==null&&(An?(i=de,db(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),el(i)):db(de,o.stateNode));break;case 4:c=de,m=An,de=o.stateNode.containerInfo,An=!0,Ts(i,r,o),de=c,An=m;break;case 0:case 11:case 14:case 15:ur(2,o,r),Oe||ur(4,o,r),Ts(i,r,o);break;case 1:Oe||(Qi(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&mE(o,r,c)),Ts(i,r,o);break;case 21:Ts(i,r,o);break;case 22:Oe=(c=Oe)||o.memoizedState!==null,Ts(i,r,o),Oe=c;break;default:Ts(i,r,o)}}function bE(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{el(i)}catch(o){Jt(r,r.return,o)}}}function SE(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{el(i)}catch(o){Jt(r,r.return,o)}}function eV(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new _E),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new _E),r;default:throw Error(s(435,i.tag))}}function xf(i,r){var o=eV(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var m=cV.bind(null,i,c);c.then(m,m)}})}function wn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=i,T=r,S=T;t:for(;S!==null;){switch(S.tag){case 27:if(gr(S.type)){de=S.stateNode,An=!1;break t}break;case 5:de=S.stateNode,An=!1;break t;case 3:case 4:de=S.stateNode.containerInfo,An=!0;break t}S=S.return}if(de===null)throw Error(s(160));EE(g,T,m),de=null,An=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)AE(r,i),r=r.sibling}var _i=null;function AE(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:wn(r,i),In(i),c&4&&(ur(3,i,i.return),ju(3,i),ur(5,i,i.return));break;case 1:wn(r,i),In(i),c&512&&(Oe||o===null||Qi(o,o.return)),c&64&&vs&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=_i;if(wn(r,i),In(i),c&512&&(Oe||o===null||Qi(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){t:{c=i.type,o=i.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Pi]||g[Ce]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),an(g,c,o),g[Ce]=i,De(g),c=g;break t;case"link":var T=Ab("link","href",m).get(c+(o.href||""));if(T){for(var S=0;S<T.length;S++)if(g=T[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(S,1);break e}}g=m.createElement(c),an(g,c,o),m.head.appendChild(g);break;case"meta":if(T=Ab("meta","content",m).get(c+(o.content||""))){for(S=0;S<T.length;S++)if(g=T[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(S,1);break e}}g=m.createElement(c),an(g,c,o),m.head.appendChild(g);break;default:throw Error(s(468,c))}g[Ce]=i,De(g),c=g}i.stateNode=c}else wb(m,i.type,i.stateNode);else i.stateNode=Sb(m,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?wb(m,i.type,i.stateNode):Sb(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&sg(i,i.memoizedProps,o.memoizedProps)}break;case 27:wn(r,i),In(i),c&512&&(Oe||o===null||Qi(o,o.return)),o!==null&&c&4&&sg(i,i.memoizedProps,o.memoizedProps);break;case 5:if(wn(r,i),In(i),c&512&&(Oe||o===null||Qi(o,o.return)),i.flags&32){m=i.stateNode;try{Sn(m,"")}catch(gt){Jt(i,i.return,gt)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,sg(i,m,o!==null?o.memoizedProps:m)),c&1024&&(og=!0);break;case 6:if(wn(r,i),In(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(gt){Jt(i,i.return,gt)}}break;case 3:if(Hf=null,m=_i,_i=Ff(r.containerInfo),wn(r,i),_i=m,In(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{el(r.containerInfo)}catch(gt){Jt(i,i.return,gt)}og&&(og=!1,wE(i));break;case 4:c=_i,_i=Ff(i.stateNode.containerInfo),wn(r,i),In(i),_i=c;break;case 12:wn(r,i),In(i);break;case 31:wn(r,i),In(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,xf(i,c)));break;case 13:wn(r,i),In(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Df=gn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,xf(i,c)));break;case 22:m=i.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,G=vs,et=Oe;if(vs=G||m,Oe=et||D,wn(r,i),Oe=et,vs=G,In(i),c&8192)t:for(r=i.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||D||vs||Oe||Ma(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){D=o=r;try{if(g=D.stateNode,m)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=D.stateNode;var it=D.memoizedProps.style,K=it!=null&&it.hasOwnProperty("display")?it.display:null;S.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(gt){Jt(D,D.return,gt)}}}else if(r.tag===6){if(o===null){D=r;try{D.stateNode.nodeValue=m?"":D.memoizedProps}catch(gt){Jt(D,D.return,gt)}}}else if(r.tag===18){if(o===null){D=r;try{var X=D.stateNode;m?mb(X,!0):mb(D.stateNode,!1)}catch(gt){Jt(D,D.return,gt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,xf(i,o))));break;case 19:wn(r,i),In(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,xf(i,c)));break;case 30:break;case 21:break;default:wn(r,i),In(i)}}function In(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(gE(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,g=rg(i);Rf(i,g,m);break;case 5:var T=o.stateNode;o.flags&32&&(Sn(T,""),o.flags&=-33);var S=rg(i);Rf(i,S,T);break;case 3:case 4:var D=o.stateNode.containerInfo,G=rg(i);ag(i,G,D);break;default:throw Error(s(161))}}catch(et){Jt(i,i.return,et)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function wE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;wE(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Es(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)vE(i,r.alternate,r),r=r.sibling}function Ma(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:ur(4,r,r.return),Ma(r);break;case 1:Qi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&mE(r,r.return,o),Ma(r);break;case 27:Wu(r.stateNode);case 26:case 5:Qi(r,r.return),Ma(r);break;case 22:r.memoizedState===null&&Ma(r);break;case 30:Ma(r);break;default:Ma(r)}i=i.sibling}}function bs(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,m=i,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:bs(m,g,o),ju(4,g);break;case 1:if(bs(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(G){Jt(c,c.return,G)}if(c=g,m=c.updateQueue,m!==null){var S=c.stateNode;try{var D=m.shared.hiddenCallbacks;if(D!==null)for(m.shared.hiddenCallbacks=null,m=0;m<D.length;m++)nT(D[m],S)}catch(G){Jt(c,c.return,G)}}o&&T&64&&dE(g),Fu(g,g.return);break;case 27:yE(g);case 26:case 5:bs(m,g,o),o&&c===null&&T&4&&pE(g),Fu(g,g.return);break;case 12:bs(m,g,o);break;case 31:bs(m,g,o),o&&T&4&&bE(m,g);break;case 13:bs(m,g,o),o&&T&4&&SE(m,g);break;case 22:g.memoizedState===null&&bs(m,g,o),Fu(g,g.return);break;case 30:break;default:bs(m,g,o)}r=r.sibling}}function lg(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&xu(o))}function ug(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&xu(i))}function vi(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)IE(i,r,o,c),r=r.sibling}function IE(i,r,o,c){var m=r.flags;switch(r.tag){case 0:case 11:case 15:vi(i,r,o,c),m&2048&&ju(9,r);break;case 1:vi(i,r,o,c);break;case 3:vi(i,r,o,c),m&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&xu(i)));break;case 12:if(m&2048){vi(i,r,o,c),i=r.stateNode;try{var g=r.memoizedProps,T=g.id,S=g.onPostCommit;typeof S=="function"&&S(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){Jt(r,r.return,D)}}else vi(i,r,o,c);break;case 31:vi(i,r,o,c);break;case 13:vi(i,r,o,c);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?vi(i,r,o,c):qu(i,r):g._visibility&2?vi(i,r,o,c):(g._visibility|=2,Ho(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),m&2048&&lg(T,r);break;case 24:vi(i,r,o,c),m&2048&&ug(r.alternate,r);break;default:vi(i,r,o,c)}}function Ho(i,r,o,c,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,T=r,S=o,D=c,G=T.flags;switch(T.tag){case 0:case 11:case 15:Ho(g,T,S,D,m),ju(8,T);break;case 23:break;case 22:var et=T.stateNode;T.memoizedState!==null?et._visibility&2?Ho(g,T,S,D,m):qu(g,T):(et._visibility|=2,Ho(g,T,S,D,m)),m&&G&2048&&lg(T.alternate,T);break;case 24:Ho(g,T,S,D,m),m&&G&2048&&ug(T.alternate,T);break;default:Ho(g,T,S,D,m)}r=r.sibling}}function qu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,m=c.flags;switch(c.tag){case 22:qu(o,c),m&2048&&lg(c.alternate,c);break;case 24:qu(o,c),m&2048&&ug(c.alternate,c);break;default:qu(o,c)}r=r.sibling}}var Hu=8192;function Go(i,r,o){if(i.subtreeFlags&Hu)for(i=i.child;i!==null;)RE(i,r,o),i=i.sibling}function RE(i,r,o){switch(i.tag){case 26:Go(i,r,o),i.flags&Hu&&i.memoizedState!==null&&jV(o,_i,i.memoizedState,i.memoizedProps);break;case 5:Go(i,r,o);break;case 3:case 4:var c=_i;_i=Ff(i.stateNode.containerInfo),Go(i,r,o),_i=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Hu,Hu=16777216,Go(i,r,o),Hu=c):Go(i,r,o));break;default:Go(i,r,o)}}function xE(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Gu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];We=c,DE(c,i)}xE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)CE(i),i=i.sibling}function CE(i){switch(i.tag){case 0:case 11:case 15:Gu(i),i.flags&2048&&ur(9,i,i.return);break;case 3:Gu(i);break;case 12:Gu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Cf(i)):Gu(i);break;default:Gu(i)}}function Cf(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];We=c,DE(c,i)}xE(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:ur(8,r,r.return),Cf(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Cf(r));break;default:Cf(r)}i=i.sibling}}function DE(i,r){for(;We!==null;){var o=We;switch(o.tag){case 0:case 11:case 15:ur(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:xu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,We=c;else t:for(o=i;We!==null;){c=We;var m=c.sibling,g=c.return;if(TE(c),c===o){We=null;break t}if(m!==null){m.return=g,We=m;break t}We=g}}}var nV={getCacheForType:function(i){var r=sn(Me),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return sn(Me).controller.signal}},iV=typeof WeakMap=="function"?WeakMap:Map,$t=0,oe=null,Pt=null,Lt=0,Zt=0,kn=null,cr=!1,Ko=!1,cg=!1,Ss=0,Te=0,hr=0,Na=0,hg=0,Ln=0,Yo=0,Ku=null,Rn=null,fg=!1,Df=0,VE=0,Vf=1/0,Mf=null,fr=null,qe=0,dr=null,Qo=null,As=0,dg=0,mg=null,ME=null,Yu=0,pg=null;function Un(){return($t&2)!==0&&Lt!==0?Lt&-Lt:tt.T!==null?Eg():Mh()}function NE(){if(Ln===0)if((Lt&536870912)===0||jt){var i=aa;aa<<=1,(aa&3932160)===0&&(aa=262144),Ln=i}else Ln=536870912;return i=Pn.current,i!==null&&(i.flags|=32),Ln}function xn(i,r,o){(i===oe&&(Zt===2||Zt===9)||i.cancelPendingCommit!==null)&&($o(i,0),mr(i,Lt,Ln,!1)),oa(i,o),(($t&2)===0||i!==oe)&&(i===oe&&(($t&2)===0&&(Na|=o),Te===4&&mr(i,Lt,Ln,!1)),$i(i))}function PE(i,r,o){if(($t&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ui(i,r),m=c?aV(i,r):yg(i,r,!0),g=c;do{if(m===0){Ko&&!c&&mr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!sV(o)){m=yg(i,r,!1),g=!1;continue}if(m===2){if(g=r,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var S=i;m=Ku;var D=S.current.memoizedState.isDehydrated;if(D&&($o(S,T).flags|=256),T=yg(S,T,!1),T!==2){if(cg&&!D){S.errorRecoveryDisabledLanes|=g,Na|=g,m=4;break t}g=Rn,Rn=m,g!==null&&(Rn===null?Rn=g:Rn.push.apply(Rn,g))}m=T}if(g=!1,m!==2)continue}}if(m===1){$o(i,0),mr(i,r,0,!0);break}t:{switch(c=i,g=m,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:mr(c,r,Ln,!cr);break t;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(m=Df+300-gn(),10<m)){if(mr(c,r,Ln,!cr),Vi(c,0,!0)!==0)break t;As=r,c.timeoutHandle=hb(OE.bind(null,c,o,Rn,Mf,fg,r,Ln,Na,Yo,cr,g,"Throttled",-0,0),m);break t}OE(c,o,Rn,Mf,fg,r,Ln,Na,Yo,cr,g,null,-0,0)}}break}while(!0);$i(i)}function OE(i,r,o,c,m,g,T,S,D,G,et,it,K,X){if(i.timeoutHandle=-1,it=r.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},RE(r,g,it);var gt=(g&62914560)===g?Df-gn():(g&4194048)===g?VE-gn():0;if(gt=FV(it,gt),gt!==null){As=g,i.cancelPendingCommit=gt(qE.bind(null,i,r,g,o,c,m,T,S,D,et,it,null,K,X)),mr(i,g,T,!G);return}}qE(i,r,g,o,c,m,T,S,D)}function sV(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!Mn(g(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function mr(i,r,o,c){r&=~hg,r&=~Na,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var m=r;0<m;){var g=31-be(m),T=1<<g;c[g]=-1,m&=~T}o!==0&&la(i,o,r)}function Nf(){return($t&6)===0?(Qu(0),!1):!0}function gg(){if(Pt!==null){if(Zt===0)var i=Pt.return;else i=Pt,ds=Aa=null,Mp(i),Bo=null,Du=0,i=Pt;for(;i!==null;)fE(i.alternate,i),i=i.return;Pt=null}}function $o(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,AV(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),As=0,gg(),oe=i,Pt=o=hs(i.current,null),Lt=r,Zt=0,kn=null,cr=!1,Ko=ui(i,r),cg=!1,Yo=Ln=hg=Na=hr=Te=0,Rn=Ku=null,fg=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var m=31-be(c),g=1<<m;r|=i[m],c&=~g}return Ss=r,Jh(),o}function kE(i,r){Ct=null,tt.H=Uu,r===Uo||r===lf?(r=Z0(),Zt=3):r===Tp?(r=Z0(),Zt=4):Zt=r===Qp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,kn=r,Pt===null&&(Te=1,bf(i,Xn(r,i.current)))}function LE(){var i=Pn.current;return i===null?!0:(Lt&4194048)===Lt?ti===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?i===ti:!1}function UE(){var i=tt.H;return tt.H=Uu,i===null?Uu:i}function BE(){var i=tt.A;return tt.A=nV,i}function Pf(){Te=4,cr||(Lt&4194048)!==Lt&&Pn.current!==null||(Ko=!0),(hr&134217727)===0&&(Na&134217727)===0||oe===null||mr(oe,Lt,Ln,!1)}function yg(i,r,o){var c=$t;$t|=2;var m=UE(),g=BE();(oe!==i||Lt!==r)&&(Mf=null,$o(i,r)),r=!1;var T=Te;t:do try{if(Zt!==0&&Pt!==null){var S=Pt,D=kn;switch(Zt){case 8:gg(),T=6;break t;case 3:case 2:case 9:case 6:Pn.current===null&&(r=!0);var G=Zt;if(Zt=0,kn=null,Xo(i,S,D,G),o&&Ko){T=0;break t}break;default:G=Zt,Zt=0,kn=null,Xo(i,S,D,G)}}rV(),T=Te;break}catch(et){kE(i,et)}while(!0);return r&&i.shellSuspendCounter++,ds=Aa=null,$t=c,tt.H=m,tt.A=g,Pt===null&&(oe=null,Lt=0,Jh()),T}function rV(){for(;Pt!==null;)zE(Pt)}function aV(i,r){var o=$t;$t|=2;var c=UE(),m=BE();oe!==i||Lt!==r?(Mf=null,Vf=gn()+500,$o(i,r)):Ko=ui(i,r);t:do try{if(Zt!==0&&Pt!==null){r=Pt;var g=kn;e:switch(Zt){case 1:Zt=0,kn=null,Xo(i,r,g,1);break;case 2:case 9:if(X0(g)){Zt=0,kn=null,jE(r);break}r=function(){Zt!==2&&Zt!==9||oe!==i||(Zt=7),$i(i)},g.then(r,r);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:X0(g)?(Zt=0,kn=null,jE(r)):(Zt=0,kn=null,Xo(i,r,g,7));break;case 5:var T=null;switch(Pt.tag){case 26:T=Pt.memoizedState;case 5:case 27:var S=Pt;if(T?Ib(T):S.stateNode.complete){Zt=0,kn=null;var D=S.sibling;if(D!==null)Pt=D;else{var G=S.return;G!==null?(Pt=G,Of(G)):Pt=null}break e}}Zt=0,kn=null,Xo(i,r,g,5);break;case 6:Zt=0,kn=null,Xo(i,r,g,6);break;case 8:gg(),Te=6;break t;default:throw Error(s(462))}}oV();break}catch(et){kE(i,et)}while(!0);return ds=Aa=null,tt.H=c,tt.A=m,$t=o,Pt!==null?0:(oe=null,Lt=0,Jh(),Te)}function oV(){for(;Pt!==null&&!Ym();)zE(Pt)}function zE(i){var r=cE(i.alternate,i,Ss);i.memoizedProps=i.pendingProps,r===null?Of(i):Pt=r}function jE(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=sE(o,r,r.pendingProps,r.type,void 0,Lt);break;case 11:r=sE(o,r,r.pendingProps,r.type.render,r.ref,Lt);break;case 5:Mp(r);default:fE(o,r),r=Pt=B0(r,Ss),r=cE(o,r,Ss)}i.memoizedProps=i.pendingProps,r===null?Of(i):Pt=r}function Xo(i,r,o,c){ds=Aa=null,Mp(r),Bo=null,Du=0;var m=r.return;try{if($D(i,m,r,o,Lt)){Te=1,bf(i,Xn(o,i.current)),Pt=null;return}}catch(g){if(m!==null)throw Pt=m,g;Te=1,bf(i,Xn(o,i.current)),Pt=null;return}r.flags&32768?(jt||c===1?i=!0:Ko||(Lt&536870912)!==0?i=!1:(cr=i=!0,(c===2||c===9||c===3||c===6)&&(c=Pn.current,c!==null&&c.tag===13&&(c.flags|=16384))),FE(r,i)):Of(r)}function Of(i){var r=i;do{if((r.flags&32768)!==0){FE(r,cr);return}i=r.return;var o=ZD(r.alternate,r,Ss);if(o!==null){Pt=o;return}if(r=r.sibling,r!==null){Pt=r;return}Pt=r=i}while(r!==null);Te===0&&(Te=5)}function FE(i,r){do{var o=JD(i.alternate,i);if(o!==null){o.flags&=32767,Pt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Pt=i;return}Pt=i=o}while(i!==null);Te=6,Pt=null}function qE(i,r,o,c,m,g,T,S,D){i.cancelPendingCommit=null;do kf();while(qe!==0);if(($t&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=rp,Xm(i,o,g,T,S,D),i===oe&&(Pt=oe=null,Lt=0),Qo=r,dr=i,As=o,dg=g,mg=m,ME=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,hV(Hs,function(){return QE(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=tt.T,tt.T=null,m=ot.p,ot.p=2,T=$t,$t|=4;try{tV(i,r,o)}finally{$t=T,ot.p=m,tt.T=c}}qe=1,HE(),GE(),KE()}}function HE(){if(qe===1){qe=0;var i=dr,r=Qo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=tt.T,tt.T=null;var c=ot.p;ot.p=2;var m=$t;$t|=4;try{AE(r,i);var g=Cg,T=D0(i.containerInfo),S=g.focusedElem,D=g.selectionRange;if(T!==S&&S&&S.ownerDocument&&C0(S.ownerDocument.documentElement,S)){if(D!==null&&tp(S)){var G=D.start,et=D.end;if(et===void 0&&(et=G),"selectionStart"in S)S.selectionStart=G,S.selectionEnd=Math.min(et,S.value.length);else{var it=S.ownerDocument||document,K=it&&it.defaultView||window;if(K.getSelection){var X=K.getSelection(),gt=S.textContent.length,bt=Math.min(D.start,gt),ae=D.end===void 0?bt:Math.min(D.end,gt);!X.extend&&bt>ae&&(T=ae,ae=bt,bt=T);var B=x0(S,bt),P=x0(S,ae);if(B&&P&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==P.node||X.focusOffset!==P.offset)){var H=it.createRange();H.setStart(B.node,B.offset),X.removeAllRanges(),bt>ae?(X.addRange(H),X.extend(P.node,P.offset)):(H.setEnd(P.node,P.offset),X.addRange(H))}}}}for(it=[],X=S;X=X.parentNode;)X.nodeType===1&&it.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<it.length;S++){var nt=it[S];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}Qf=!!xg,Cg=xg=null}finally{$t=m,ot.p=c,tt.T=o}}i.current=r,qe=2}}function GE(){if(qe===2){qe=0;var i=dr,r=Qo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=tt.T,tt.T=null;var c=ot.p;ot.p=2;var m=$t;$t|=4;try{vE(i,r.alternate,r)}finally{$t=m,ot.p=c,tt.T=o}}qe=3}}function KE(){if(qe===4||qe===3){qe=0,wh();var i=dr,r=Qo,o=As,c=ME;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?qe=5:(qe=0,Qo=dr=null,YE(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(fr=null),os(o),r=r.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(li,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=tt.T,m=ot.p,ot.p=2,tt.T=null;try{for(var g=i.onRecoverableError,T=0;T<c.length;T++){var S=c[T];g(S.value,{componentStack:S.stack})}}finally{tt.T=r,ot.p=m}}(As&3)!==0&&kf(),$i(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===pg?Yu++:(Yu=0,pg=i):Yu=0,Qu(0)}}function YE(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,xu(r)))}function kf(){return HE(),GE(),KE(),QE()}function QE(){if(qe!==5)return!1;var i=dr,r=dg;dg=0;var o=os(As),c=tt.T,m=ot.p;try{ot.p=32>o?32:o,tt.T=null,o=mg,mg=null;var g=dr,T=As;if(qe=0,Qo=dr=null,As=0,($t&6)!==0)throw Error(s(331));var S=$t;if($t|=4,CE(g.current),IE(g,g.current,T,o),$t=S,Qu(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(li,g)}catch{}return!0}finally{ot.p=m,tt.T=c,YE(i,r)}}function $E(i,r,o){r=Xn(o,r),r=Yp(i.stateNode,r,2),i=ar(i,r,2),i!==null&&(oa(i,2),$i(i))}function Jt(i,r,o){if(i.tag===3)$E(i,i,o);else for(;r!==null;){if(r.tag===3){$E(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(fr===null||!fr.has(c))){i=Xn(o,i),o=XT(2),c=ar(r,o,2),c!==null&&(WT(o,c,r,i),oa(c,2),$i(c));break}}r=r.return}}function _g(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new iV;var m=new Set;c.set(r,m)}else m=c.get(r),m===void 0&&(m=new Set,c.set(r,m));m.has(o)||(cg=!0,m.add(o),i=lV.bind(null,i,r,o),r.then(i,i))}function lV(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,oe===i&&(Lt&o)===o&&(Te===4||Te===3&&(Lt&62914560)===Lt&&300>gn()-Df?($t&2)===0&&$o(i,0):hg|=o,Yo===Lt&&(Yo=0)),$i(i)}function XE(i,r){r===0&&(r=Vh()),i=Ea(i,r),i!==null&&(oa(i,r),$i(i))}function uV(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),XE(i,o)}function cV(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),XE(i,o)}function hV(i,r){return Fe(i,r)}var Lf=null,Wo=null,vg=!1,Uf=!1,Tg=!1,pr=0;function $i(i){i!==Wo&&i.next===null&&(Wo===null?Lf=Wo=i:Wo=Wo.next=i),Uf=!0,vg||(vg=!0,dV())}function Qu(i,r){if(!Tg&&Uf){Tg=!0;do for(var o=!1,c=Lf;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var T=c.suspendedLanes,S=c.pingedLanes;g=(1<<31-be(42|i)+1)-1,g&=m&~(T&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,tb(c,g))}else g=Lt,g=Vi(c,c===oe?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||ui(c,g)||(o=!0,tb(c,g));c=c.next}while(o);Tg=!1}}function fV(){WE()}function WE(){Uf=vg=!1;var i=0;pr!==0&&SV()&&(i=pr);for(var r=gn(),o=null,c=Lf;c!==null;){var m=c.next,g=ZE(c,r);g===0?(c.next=null,o===null?Lf=m:o.next=m,m===null&&(Wo=o)):(o=c,(i!==0||(g&3)!==0)&&(Uf=!0)),c=m}qe!==0&&qe!==5||Qu(i),pr!==0&&(pr=0)}function ZE(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-be(g),S=1<<T,D=m[T];D===-1?((S&o)===0||(S&c)!==0)&&(m[T]=$m(S,r)):D<=r&&(i.expiredLanes|=S),g&=~S}if(r=oe,o=Lt,o=Vi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(Zt===2||Zt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&qs(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ui(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&qs(c),os(o)){case 2:case 8:o=su;break;case 32:o=Hs;break;case 268435456:o=Ih;break;default:o=Hs}return c=JE.bind(null,i),o=Fe(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&qs(c),i.callbackPriority=2,i.callbackNode=null,2}function JE(i,r){if(qe!==0&&qe!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(kf()&&i.callbackNode!==o)return null;var c=Lt;return c=Vi(i,i===oe?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(PE(i,c,r),ZE(i,gn()),i.callbackNode!=null&&i.callbackNode===o?JE.bind(null,i):null)}function tb(i,r){if(kf())return null;PE(i,r,!0)}function dV(){wV(function(){($t&6)!==0?Fe(iu,fV):WE()})}function Eg(){if(pr===0){var i=ko;i===0&&(i=Ci,Ci<<=1,(Ci&261888)===0&&(Ci=256)),pr=i}return pr}function eb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Eo(""+i)}function nb(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function mV(i,r,o,c,m){if(r==="submit"&&o&&o.stateNode===m){var g=eb((m[$e]||null).action),T=c.submitter;T&&(r=(r=T[$e]||null)?eb(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var S=new Fi("action","action",null,c,m);i.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(pr!==0){var D=T?nb(m,T):new FormData(m);jp(o,{pending:!0,data:D,method:m.method,action:g},null,D)}}else typeof g=="function"&&(S.preventDefault(),D=T?nb(m,T):new FormData(m),jp(o,{pending:!0,data:D,method:m.method,action:g},g,D))},currentTarget:m}]})}}for(var bg=0;bg<sp.length;bg++){var Sg=sp[bg],pV=Sg.toLowerCase(),gV=Sg[0].toUpperCase()+Sg.slice(1);yi(pV,"on"+gV)}yi(N0,"onAnimationEnd"),yi(P0,"onAnimationIteration"),yi(O0,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(MD,"onTransitionRun"),yi(ND,"onTransitionStart"),yi(PD,"onTransitionCancel"),yi(k0,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Li("onBeforeInput",["compositionend","keypress","textInput","paste"]),Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($u));function ib(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],m=c.event;c=c.listeners;t:{var g=void 0;if(r)for(var T=c.length-1;0<=T;T--){var S=c[T],D=S.instance,G=S.currentTarget;if(S=S.listener,D!==g&&m.isPropagationStopped())break t;g=S,m.currentTarget=G;try{g(m)}catch(et){Zh(et)}m.currentTarget=null,g=D}else for(T=0;T<c.length;T++){if(S=c[T],D=S.instance,G=S.currentTarget,S=S.listener,D!==g&&m.isPropagationStopped())break t;g=S,m.currentTarget=G;try{g(m)}catch(et){Zh(et)}m.currentTarget=null,g=D}}}}function Ot(i,r){var o=r[go];o===void 0&&(o=r[go]=new Set);var c=i+"__bubble";o.has(c)||(sb(r,i,2,!1),o.add(c))}function Ag(i,r,o){var c=0;r&&(c|=4),sb(o,i,c,r)}var Bf="_reactListening"+Math.random().toString(36).slice(2);function wg(i){if(!i[Bf]){i[Bf]=!0,ou.forEach(function(o){o!=="selectionchange"&&(yV.has(o)||Ag(o,!1,i),Ag(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Bf]||(r[Bf]=!0,Ag("selectionchange",!1,r))}}function sb(i,r,o,c){switch(Nb(r)){case 2:var m=GV;break;case 8:m=KV;break;default:m=zg}o=m.bind(null,r,o,i),m=void 0,!da||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(r,o,{capture:!0,passive:m}):i.addEventListener(r,o,!0):m!==void 0?i.addEventListener(r,o,{passive:m}):i.addEventListener(r,o,!1)}function Ig(i,r,o,c,m){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)t:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var S=c.stateNode.containerInfo;if(S===m)break;if(T===4)for(T=c.return;T!==null;){var D=T.tag;if((D===3||D===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;S!==null;){if(T=Oi(S),T===null)return;if(D=T.tag,D===5||D===6||D===26||D===27){c=g=T;continue t}S=S.parentNode}}c=c.return}Xs(function(){var G=g,et=Kn(o),it=[];t:{var K=L0.get(i);if(K!==void 0){var X=Fi,gt=i;switch(i){case"keypress":if(pa(o)===0)break t;case"keydown":case"keyup":X=$h;break;case"focusin":gt="focus",X=ya;break;case"focusout":gt="blur",X=ya;break;case"beforeblur":case"afterblur":X=ya;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Tu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=zh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=_;break;case N0:case P0:case O0:X=Fh;break;case k0:X=w;break;case"scroll":case"scrollend":X=vu;break;case"wheel":X=$;break;case"copy":case"cut":case"paste":X=qh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=cs;break;case"toggle":case"beforetoggle":X=xt}var bt=(r&4)!==0,ae=!bt&&(i==="scroll"||i==="scrollend"),B=bt?K!==null?K+"Capture":null:K;bt=[];for(var P=G,H;P!==null;){var nt=P;if(H=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||H===null||B===null||(nt=di(P,B),nt!=null&&bt.push(Xu(P,nt,H))),ae)break;P=P.return}0<bt.length&&(K=new X(K,gt,null,o,et),it.push({event:K,listeners:bt}))}}if((r&7)===0){t:{if(K=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",K&&o!==gu&&(gt=o.relatedTarget||o.fromElement)&&(Oi(gt)||gt[Ni]))break t;if((X||K)&&(K=et.window===et?et:(K=et.ownerDocument)?K.defaultView||K.parentWindow:window,X?(gt=o.relatedTarget||o.toElement,X=G,gt=gt?Oi(gt):null,gt!==null&&(ae=l(gt),bt=gt.tag,gt!==ae||bt!==5&&bt!==27&&bt!==6)&&(gt=null)):(X=null,gt=G),X!==gt)){if(bt=Tu,nt="onMouseLeave",B="onMouseEnter",P="mouse",(i==="pointerout"||i==="pointerover")&&(bt=cs,nt="onPointerLeave",B="onPointerEnter",P="pointer"),ae=X==null?K:Dn(X),H=gt==null?K:Dn(gt),K=new bt(nt,P+"leave",X,o,et),K.target=ae,K.relatedTarget=H,nt=null,Oi(et)===G&&(bt=new bt(B,P+"enter",gt,o,et),bt.target=H,bt.relatedTarget=ae,nt=bt),ae=nt,X&&gt)e:{for(bt=_V,B=X,P=gt,H=0,nt=B;nt;nt=bt(nt))H++;nt=0;for(var Et=P;Et;Et=bt(Et))nt++;for(;0<H-nt;)B=bt(B),H--;for(;0<nt-H;)P=bt(P),nt--;for(;H--;){if(B===P||P!==null&&B===P.alternate){bt=B;break e}B=bt(B),P=bt(P)}bt=null}else bt=null;X!==null&&rb(it,K,X,bt,!1),gt!==null&&ae!==null&&rb(it,ae,gt,bt,!0)}}t:{if(K=G?Dn(G):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var Kt=b0;else if(T0(K))if(S0)Kt=CD;else{Kt=RD;var vt=ID}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&To(G.elementType)&&(Kt=b0):Kt=xD;if(Kt&&(Kt=Kt(i,G))){E0(it,Kt,o,et);break t}vt&&vt(i,K,G),i==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&du(K,"number",K.value)}switch(vt=G?Dn(G):window,i){case"focusin":(T0(vt)||vt.contentEditable==="true")&&(xo=vt,ep=G,wu=null);break;case"focusout":wu=ep=xo=null;break;case"mousedown":np=!0;break;case"contextmenu":case"mouseup":case"dragend":np=!1,V0(it,o,et);break;case"selectionchange":if(VD)break;case"keydown":case"keyup":V0(it,o,et)}var Mt;if(Qt)t:{switch(i){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else Ro?_a(i,o)&&(Ut="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ut="onCompositionStart");Ut&&(Gi&&o.locale!=="ko"&&(Ro||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&Ro&&(Mt=_u()):(ji=et,yu="value"in ji?ji.value:ji.textContent,Ro=!0)),vt=zf(G,Ut),0<vt.length&&(Ut=new Hi(Ut,i,null,o,et),it.push({event:Ut,listeners:vt}),Mt?Ut.data=Mt:(Mt=Io(o),Mt!==null&&(Ut.data=Mt)))),(Mt=Qn?bD(i,o):SD(i,o))&&(Ut=zf(G,"onBeforeInput"),0<Ut.length&&(vt=new Hi("onBeforeInput","beforeinput",null,o,et),it.push({event:vt,listeners:Ut}),vt.data=Mt)),mV(it,i,G,o,et)}ib(it,r)})}function Xu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function zf(i,r){for(var o=r+"Capture",c=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=di(i,o),m!=null&&c.unshift(Xu(i,m,g)),m=di(i,r),m!=null&&c.push(Xu(i,m,g))),i.tag===3)return c;i=i.return}return[]}function _V(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function rb(i,r,o,c,m){for(var g=r._reactName,T=[];o!==null&&o!==c;){var S=o,D=S.alternate,G=S.stateNode;if(S=S.tag,D!==null&&D===c)break;S!==5&&S!==26&&S!==27||G===null||(D=G,m?(G=di(o,g),G!=null&&T.unshift(Xu(o,G,D))):m||(G=di(o,g),G!=null&&T.push(Xu(o,G,D)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var vV=/\r\n?/g,TV=/\u0000|\uFFFD/g;function ab(i){return(typeof i=="string"?i:""+i).replace(vV,`
`).replace(TV,"")}function ob(i,r){return r=ab(r),ab(i)===r}function re(i,r,o,c,m,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Sn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Sn(i,""+c);break;case"className":Vn(i,"class",c);break;case"tabIndex":Vn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(i,o,c);break;case"style":pu(i,c,g);break;case"data":if(r!=="object"){Vn(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Eo(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&re(i,r,"name",m.name,m,null),re(i,r,"formEncType",m.formEncType,m,null),re(i,r,"formMethod",m.formMethod,m,null),re(i,r,"formTarget",m.formTarget,m,null)):(re(i,r,"encType",m.encType,m,null),re(i,r,"method",m.method,m,null),re(i,r,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Eo(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=fi);break;case"onScroll":c!=null&&Ot("scroll",i);break;case"onScrollEnd":c!=null&&Ot("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Eo(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Ot("beforetoggle",i),Ot("toggle",i),_o(i,"popover",c);break;case"xlinkActuate":Ve(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ve(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ve(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ve(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ve(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ve(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ve(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ve(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ve(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":_o(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Bh.get(o)||o,_o(i,o,c))}}function Rg(i,r,o,c,m,g){switch(o){case"style":pu(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Sn(i,c):(typeof c=="number"||typeof c=="bigint")&&Sn(i,""+c);break;case"onScroll":c!=null&&Ot("scroll",i);break;case"onScrollEnd":c!=null&&Ot("scrollend",i);break;case"onClick":c!=null&&(i.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lu.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),g=i[$e]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,m);break t}o in i?i[o]=c:c===!0?i.setAttribute(o,""):_o(i,o,c)}}}function an(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",i),Ot("load",i);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:re(i,r,g,T,o,null)}}m&&re(i,r,"srcSet",o.srcSet,o,null),c&&re(i,r,"src",o.src,o,null);return;case"input":Ot("invalid",i);var S=g=T=m=null,D=null,G=null;for(c in o)if(o.hasOwnProperty(c)){var et=o[c];if(et!=null)switch(c){case"name":m=et;break;case"type":T=et;break;case"checked":D=et;break;case"defaultChecked":G=et;break;case"value":g=et;break;case"defaultValue":S=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(s(137,r));break;default:re(i,r,c,et,o,null)}}kh(i,g,S,D,G,T,m,!1);return;case"select":Ot("invalid",i),c=T=g=null;for(m in o)if(o.hasOwnProperty(m)&&(S=o[m],S!=null))switch(m){case"value":g=S;break;case"defaultValue":T=S;break;case"multiple":c=S;default:re(i,r,m,S,o,null)}r=g,o=T,i.multiple=!!c,r!=null?Ks(i,!!c,r,!1):o!=null&&Ks(i,!!c,o,!0);return;case"textarea":Ot("invalid",i),g=m=c=null;for(T in o)if(o.hasOwnProperty(T)&&(S=o[T],S!=null))switch(T){case"value":c=S;break;case"defaultValue":m=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:re(i,r,T,S,o,null)}Ys(i,c,m,g);return;case"option":for(D in o)o.hasOwnProperty(D)&&(c=o[D],c!=null)&&(D==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":re(i,r,D,c,o,null));return;case"dialog":Ot("beforetoggle",i),Ot("toggle",i),Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":Ot("load",i);break;case"video":case"audio":for(c=0;c<$u.length;c++)Ot($u[c],i);break;case"image":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"embed":case"source":case"link":Ot("error",i),Ot("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(c=o[G],c!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:re(i,r,G,c,o,null)}return;default:if(To(r)){for(et in o)o.hasOwnProperty(et)&&(c=o[et],c!==void 0&&Rg(i,r,et,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&re(i,r,S,c,o,null))}function EV(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,T=null,S=null,D=null,G=null,et=null;for(X in o){var it=o[X];if(o.hasOwnProperty(X)&&it!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=it;default:c.hasOwnProperty(X)||re(i,r,X,null,c,it)}}for(var K in c){var X=c[K];if(it=o[K],c.hasOwnProperty(K)&&(X!=null||it!=null))switch(K){case"type":g=X;break;case"name":m=X;break;case"checked":G=X;break;case"defaultChecked":et=X;break;case"value":T=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==it&&re(i,r,K,X,c,it)}}vo(i,T,S,D,G,et,g,m);return;case"select":X=T=S=K=null;for(g in o)if(D=o[g],o.hasOwnProperty(g)&&D!=null)switch(g){case"value":break;case"multiple":X=D;default:c.hasOwnProperty(g)||re(i,r,g,null,c,D)}for(m in c)if(g=c[m],D=o[m],c.hasOwnProperty(m)&&(g!=null||D!=null))switch(m){case"value":K=g;break;case"defaultValue":S=g;break;case"multiple":T=g;default:g!==D&&re(i,r,m,g,c,D)}r=S,o=T,c=X,K!=null?Ks(i,!!o,K,!1):!!c!=!!o&&(r!=null?Ks(i,!!o,r,!0):Ks(i,!!o,o?[]:"",!1));return;case"textarea":X=K=null;for(S in o)if(m=o[S],o.hasOwnProperty(S)&&m!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:re(i,r,S,null,c,m)}for(T in c)if(m=c[T],g=o[T],c.hasOwnProperty(T)&&(m!=null||g!=null))switch(T){case"value":K=m;break;case"defaultValue":X=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==g&&re(i,r,T,m,c,g)}Lh(i,K,X);return;case"option":for(var gt in o)K=o[gt],o.hasOwnProperty(gt)&&K!=null&&!c.hasOwnProperty(gt)&&(gt==="selected"?i.selected=!1:re(i,r,gt,null,c,K));for(D in c)K=c[D],X=o[D],c.hasOwnProperty(D)&&K!==X&&(K!=null||X!=null)&&(D==="selected"?i.selected=K&&typeof K!="function"&&typeof K!="symbol":re(i,r,D,K,c,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in o)K=o[bt],o.hasOwnProperty(bt)&&K!=null&&!c.hasOwnProperty(bt)&&re(i,r,bt,null,c,K);for(G in c)if(K=c[G],X=o[G],c.hasOwnProperty(G)&&K!==X&&(K!=null||X!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:re(i,r,G,K,c,X)}return;default:if(To(r)){for(var ae in o)K=o[ae],o.hasOwnProperty(ae)&&K!==void 0&&!c.hasOwnProperty(ae)&&Rg(i,r,ae,void 0,c,K);for(et in c)K=c[et],X=o[et],!c.hasOwnProperty(et)||K===X||K===void 0&&X===void 0||Rg(i,r,et,K,c,X);return}}for(var B in o)K=o[B],o.hasOwnProperty(B)&&K!=null&&!c.hasOwnProperty(B)&&re(i,r,B,null,c,K);for(it in c)K=c[it],X=o[it],!c.hasOwnProperty(it)||K===X||K==null&&X==null||re(i,r,it,K,c,X)}function lb(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bV(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,T=m.initiatorType,S=m.duration;if(g&&S&&lb(T)){for(T=0,S=m.responseEnd,c+=1;c<o.length;c++){var D=o[c],G=D.startTime;if(G>S)break;var et=D.transferSize,it=D.initiatorType;et&&lb(it)&&(D=D.responseEnd,T+=et*(D<S?1:(S-G)/(D-G)))}if(--c,r+=8*(g+T)/(m.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var xg=null,Cg=null;function jf(i){return i.nodeType===9?i:i.ownerDocument}function ub(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cb(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Dg(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Vg=null;function SV(){var i=window.event;return i&&i.type==="popstate"?i===Vg?!1:(Vg=i,!0):(Vg=null,!1)}var hb=typeof setTimeout=="function"?setTimeout:void 0,AV=typeof clearTimeout=="function"?clearTimeout:void 0,fb=typeof Promise=="function"?Promise:void 0,wV=typeof queueMicrotask=="function"?queueMicrotask:typeof fb<"u"?function(i){return fb.resolve(null).then(i).catch(IV)}:hb;function IV(i){setTimeout(function(){throw i})}function gr(i){return i==="head"}function db(i,r){var o=r,c=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(m),el(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Wu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Wu(o);for(var g=o.firstChild;g;){var T=g.nextSibling,S=g.nodeName;g[Pi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&Wu(i.ownerDocument.body);o=m}while(o);el(r)}function mb(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function Mg(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Mg(o),yo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function RV(i,r,o,c){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Pi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=ei(i.nextSibling),i===null)break}return null}function xV(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ei(i.nextSibling),i===null))return null;return i}function pb(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=ei(i.nextSibling),i===null))return null;return i}function Ng(i){return i.data==="$?"||i.data==="$~"}function Pg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function CV(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function ei(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Og=null;function gb(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return ei(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function yb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function _b(i,r,o){switch(r=jf(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Wu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);yo(i)}var ni=new Map,vb=new Set;function Ff(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ws=ot.d;ot.d={f:DV,r:VV,D:MV,C:NV,L:PV,m:OV,X:LV,S:kV,M:UV};function DV(){var i=ws.f(),r=Nf();return i||r}function VV(i){var r=Gn(i);r!==null&&r.tag===5&&r.type==="form"?kT(r):ws.r(i)}var Zo=typeof document>"u"?null:document;function Tb(i,r,o){var c=Zo;if(c&&typeof r=="string"&&r){var m=bn(r);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),vb.has(m)||(vb.add(m),i={rel:i,crossOrigin:o,href:r},c.querySelector(m)===null&&(r=c.createElement("link"),an(r,"link",i),De(r),c.head.appendChild(r)))}}function MV(i){ws.D(i),Tb("dns-prefetch",i,null)}function NV(i,r){ws.C(i,r),Tb("preconnect",i,r)}function PV(i,r,o){ws.L(i,r,o);var c=Zo;if(c&&i&&r){var m='link[rel="preload"][as="'+bn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+bn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+bn(o.imageSizes)+'"]')):m+='[href="'+bn(i)+'"]';var g=m;switch(r){case"style":g=Jo(i);break;case"script":g=tl(i)}ni.has(g)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ni.set(g,i),c.querySelector(m)!==null||r==="style"&&c.querySelector(Zu(g))||r==="script"&&c.querySelector(Ju(g))||(r=c.createElement("link"),an(r,"link",i),De(r),c.head.appendChild(r)))}}function OV(i,r){ws.m(i,r);var o=Zo;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+bn(c)+'"][href="'+bn(i)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=tl(i)}if(!ni.has(g)&&(i=v({rel:"modulepreload",href:i},r),ni.set(g,i),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ju(g)))return}c=o.createElement("link"),an(c,"link",i),De(c),o.head.appendChild(c)}}}function kV(i,r,o){ws.S(i,r,o);var c=Zo;if(c&&i){var m=ki(c).hoistableStyles,g=Jo(i);r=r||"default";var T=m.get(g);if(!T){var S={loading:0,preload:null};if(T=c.querySelector(Zu(g)))S.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ni.get(g))&&kg(i,o);var D=T=c.createElement("link");De(D),an(D,"link",i),D._p=new Promise(function(G,et){D.onload=G,D.onerror=et}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,qf(T,r,c)}T={type:"stylesheet",instance:T,count:1,state:S},m.set(g,T)}}}function LV(i,r){ws.X(i,r);var o=Zo;if(o&&i){var c=ki(o).hoistableScripts,m=tl(i),g=c.get(m);g||(g=o.querySelector(Ju(m)),g||(i=v({src:i,async:!0},r),(r=ni.get(m))&&Lg(i,r),g=o.createElement("script"),De(g),an(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function UV(i,r){ws.M(i,r);var o=Zo;if(o&&i){var c=ki(o).hoistableScripts,m=tl(i),g=c.get(m);g||(g=o.querySelector(Ju(m)),g||(i=v({src:i,async:!0,type:"module"},r),(r=ni.get(m))&&Lg(i,r),g=o.createElement("script"),De(g),an(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function Eb(i,r,o,c){var m=(m=Vt.current)?Ff(m):null;if(!m)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Jo(o.href),o=ki(m).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Jo(o.href);var g=ki(m).hoistableStyles,T=g.get(i);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=m.querySelector(Zu(i)))&&!g._p&&(T.instance=g,T.state.loading=5),ni.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ni.set(i,o),g||BV(m,i,o,T.state))),r&&c===null)throw Error(s(528,""));return T}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=tl(o),o=ki(m).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Jo(i){return'href="'+bn(i)+'"'}function Zu(i){return'link[rel="stylesheet"]['+i+"]"}function bb(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function BV(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),an(r,"link",o),De(r),i.head.appendChild(r))}function tl(i){return'[src="'+bn(i)+'"]'}function Ju(i){return"script[async]"+i}function Sb(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+bn(o.href)+'"]');if(c)return r.instance=c,De(c),c;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),De(c),an(c,"style",m),qf(c,o.precedence,i),r.instance=c;case"stylesheet":m=Jo(o.href);var g=i.querySelector(Zu(m));if(g)return r.state.loading|=4,r.instance=g,De(g),g;c=bb(o),(m=ni.get(m))&&kg(c,m),g=(i.ownerDocument||i).createElement("link"),De(g);var T=g;return T._p=new Promise(function(S,D){T.onload=S,T.onerror=D}),an(g,"link",c),r.state.loading|=4,qf(g,o.precedence,i),r.instance=g;case"script":return g=tl(o.src),(m=i.querySelector(Ju(g)))?(r.instance=m,De(m),m):(c=o,(m=ni.get(g))&&(c=v({},o),Lg(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),De(m),an(m,"link",c),i.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,qf(c,o.precedence,i));return r.instance}function qf(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,T=0;T<c.length;T++){var S=c[T];if(S.dataset.precedence===r)g=S;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function kg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Lg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Hf=null;function Ab(i,r,o){if(Hf===null){var c=new Map,m=Hf=new Map;m.set(o,c)}else m=Hf,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[Pi]||g[Ce]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=i+T;var S=c.get(T);S?S.push(g):c.set(T,[g])}}return c}function wb(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function zV(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Ib(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function jV(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Jo(c.href),g=r.querySelector(Zu(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Gf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,De(g);return}g=r.ownerDocument||r,c=bb(c),(m=ni.get(m))&&kg(c,m),g=g.createElement("link"),De(g);var T=g;T._p=new Promise(function(S,D){T.onload=S,T.onerror=D}),an(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Gf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Ug=0;function FV(i,r){return i.stylesheets&&i.count===0&&Yf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&Yf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&Ug===0&&(Ug=62500*bV());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Yf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Ug?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function Gf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Kf=null;function Yf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Kf=new Map,r.forEach(qV,i),Kf=null,Gf.call(i))}function qV(i,r){if(!(r.state.loading&4)){var o=Kf.get(i);if(o)var c=o.get(null);else{o=new Map,Kf.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var T=m[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}m=r.instance,T=m.getAttribute("data-precedence"),g=o.get(T)||c,g===c&&o.set(null,m),o.set(T,m),this.count++,c=Gf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),r.state.loading|=4}}var tc={$$typeof:z,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function HV(i,r,o,c,m,g,T,S,D){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Rb(i,r,o,c,m,g,T,S,D,G,et,it){return i=new HV(i,r,o,T,D,G,et,it,S),r=1,g===!0&&(r|=24),g=Nn(3,null,null,r),i.current=g,g.stateNode=i,r=yp(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},Ep(g),i}function xb(i){return i?(i=Vo,i):Vo}function Cb(i,r,o,c,m,g){m=xb(m),c.context===null?c.context=m:c.pendingContext=m,c=rr(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=ar(i,c,r),o!==null&&(xn(o,i,r),Mu(o,i,r))}function Db(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Bg(i,r){Db(i,r),(i=i.alternate)&&Db(i,r)}function Vb(i){if(i.tag===13||i.tag===31){var r=Ea(i,67108864);r!==null&&xn(r,i,67108864),Bg(i,67108864)}}function Mb(i){if(i.tag===13||i.tag===31){var r=Un();r=ua(r);var o=Ea(i,r);o!==null&&xn(o,i,r),Bg(i,r)}}var Qf=!0;function GV(i,r,o,c){var m=tt.T;tt.T=null;var g=ot.p;try{ot.p=2,zg(i,r,o,c)}finally{ot.p=g,tt.T=m}}function KV(i,r,o,c){var m=tt.T;tt.T=null;var g=ot.p;try{ot.p=8,zg(i,r,o,c)}finally{ot.p=g,tt.T=m}}function zg(i,r,o,c){if(Qf){var m=jg(c);if(m===null)Ig(i,r,c,$f,o),Pb(i,c);else if(QV(m,i,r,o,c))c.stopPropagation();else if(Pb(i,c),r&4&&-1<YV.indexOf(i)){for(;m!==null;){var g=Gn(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Di(g.pendingLanes);if(T!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var D=1<<31-be(T);S.entanglements[1]|=D,T&=~D}$i(g),($t&6)===0&&(Vf=gn()+500,Qu(0))}}break;case 31:case 13:S=Ea(g,2),S!==null&&xn(S,g,2),Nf(),Bg(g,2)}if(g=jg(c),g===null&&Ig(i,r,c,$f,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else Ig(i,r,c,null,o)}}function jg(i){return i=Kn(i),Fg(i)}var $f=null;function Fg(i){if($f=null,i=Oi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=h(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return $f=i,null}function Nb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ra()){case iu:return 2;case su:return 8;case Hs:case Qm:return 32;case Ih:return 268435456;default:return 32}default:return 32}}var qg=!1,yr=null,_r=null,vr=null,ec=new Map,nc=new Map,Tr=[],YV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pb(i,r){switch(i){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":ec.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":nc.delete(r.pointerId)}}function ic(i,r,o,c,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},r!==null&&(r=Gn(r),r!==null&&Vb(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),i)}function QV(i,r,o,c,m){switch(r){case"focusin":return yr=ic(yr,i,r,o,c,m),!0;case"dragenter":return _r=ic(_r,i,r,o,c,m),!0;case"mouseover":return vr=ic(vr,i,r,o,c,m),!0;case"pointerover":var g=m.pointerId;return ec.set(g,ic(ec.get(g)||null,i,r,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,nc.set(g,ic(nc.get(g)||null,i,r,o,c,m)),!0}return!1}function Ob(i){var r=Oi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,ci(i.priority,function(){Mb(o)});return}}else if(r===31){if(r=h(o),r!==null){i.blockedOn=r,ci(i.priority,function(){Mb(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=jg(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);gu=c,o.target.dispatchEvent(c),gu=null}else return r=Gn(o),r!==null&&Vb(r),i.blockedOn=o,!1;r.shift()}return!0}function kb(i,r,o){Xf(i)&&o.delete(r)}function $V(){qg=!1,yr!==null&&Xf(yr)&&(yr=null),_r!==null&&Xf(_r)&&(_r=null),vr!==null&&Xf(vr)&&(vr=null),ec.forEach(kb),nc.forEach(kb)}function Wf(i,r){i.blockedOn===r&&(i.blockedOn=null,qg||(qg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,$V)))}var Zf=null;function Lb(i){Zf!==i&&(Zf=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Zf===i&&(Zf=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],m=i[r+2];if(typeof c!="function"){if(Fg(c||o)===null)continue;break}var g=Gn(o);g!==null&&(i.splice(r,3),r-=3,jp(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function el(i){function r(D){return Wf(D,i)}yr!==null&&Wf(yr,i),_r!==null&&Wf(_r,i),vr!==null&&Wf(vr,i),ec.forEach(r),nc.forEach(r);for(var o=0;o<Tr.length;o++){var c=Tr[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Tr.length&&(o=Tr[0],o.blockedOn===null);)Ob(o),o.blockedOn===null&&Tr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],T=m[$e]||null;if(typeof g=="function")T||Lb(o);else if(T){var S=null;if(g&&g.hasAttribute("formAction")){if(m=g,T=g[$e]||null)S=T.formAction;else if(Fg(m)!==null)continue}else S=T.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),Lb(o)}}}function Ub(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return m=T})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function Hg(i){this._internalRoot=i}Jf.prototype.render=Hg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=Un();Cb(o,c,i,r,null,null)},Jf.prototype.unmount=Hg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Cb(i.current,2,null,i,null,null),Nf(),r[Ni]=null}};function Jf(i){this._internalRoot=i}Jf.prototype.unstable_scheduleHydration=function(i){if(i){var r=Mh();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Tr.length&&r!==0&&r<Tr[o].priority;o++);Tr.splice(o,0,i),o===0&&Ob(i)}};var Bb=t.version;if(Bb!=="19.2.4")throw Error(s(527,Bb,"19.2.4"));ot.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var XV={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:tt,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!td.isDisabled&&td.supportsFiber)try{li=td.inject(XV),tn=td}catch{}}return rc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",m=KT,g=YT,T=QT;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=Rb(i,1,!1,null,null,o,c,null,m,g,T,Ub),i[Ni]=r.current,wg(i),new Hg(r)},rc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,m="",g=KT,T=YT,S=QT,D=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(D=o.formState)),r=Rb(i,1,!0,r,o??null,c,m,D,g,T,S,Ub),r.context=xb(null),o=r.current,c=Un(),c=ua(c),m=rr(c),m.callback=null,ar(o,m,c),o=c,r.current.lanes=o,oa(r,o),$i(r),i[Ni]=r.current,wg(i),new Jf(r)},rc.version="19.2.4",rc}var $b;function o2(){if($b)return Yg.exports;$b=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Yg.exports=a2(),Yg.exports}var l2=o2();const u2="modulepreload",c2=function(n){return"/soka/"+n},Xb={},fw=function(t,e,s){let a=Promise.resolve();if(e&&e.length>0){let d=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");a=d(e.map(p=>{if(p=c2(p),p in Xb)return;Xb[p]=!0;const y=p.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const E=document.createElement("link");if(E.rel=y?"stylesheet":u2,y||(E.as="script"),E.crossOrigin="",E.href=p,h&&E.setAttribute("nonce",h),document.head.appendChild(E),y)return new Promise((I,N)=>{E.addEventListener("load",I),E.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&l(h.reason);return t().catch(l)})},h2=()=>{};var Wb={};const dw=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},f2=function(n){const t=[];let e=0,s=0;for(;e<n.length;){const a=n[e++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[e++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[e++],u=n[e++],h=n[e++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;t[s++]=String.fromCharCode(55296+(d>>10)),t[s++]=String.fromCharCode(56320+(d&1023))}else{const l=n[e++],u=n[e++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return t.join("")},mw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,h=u?n[a+1]:0,d=a+2<n.length,p=d?n[a+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let E=(h&15)<<2|p>>6,I=p&63;d||(I=64,u||(E=64)),s.push(e[y],e[v],e[E],e[I])}return s.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(dw(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):f2(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const l=e[n.charAt(a++)],h=a<n.length?e[n.charAt(a)]:0;++a;const p=a<n.length?e[n.charAt(a)]:64;++a;const v=a<n.length?e[n.charAt(a)]:64;if(++a,l==null||h==null||p==null||v==null)throw new d2;const E=l<<2|h>>4;if(s.push(E),p!==64){const I=h<<4&240|p>>2;if(s.push(I),v!==64){const N=p<<6&192|v;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class d2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m2=function(n){const t=dw(n);return mw.encodeByteArray(t,!0)},Od=function(n){return m2(n).replace(/\./g,"")},pw=function(n){try{return mw.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function gw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const p2=()=>gw().__FIREBASE_DEFAULTS__,g2=()=>{if(typeof process>"u"||typeof Wb>"u")return;const n=Wb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},y2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&pw(n[1]);return t&&JSON.parse(t)},mm=()=>{try{return h2()||p2()||g2()||y2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},yw=n=>mm()?.emulatorHosts?.[n],_2=n=>{const t=yw(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},_w=()=>mm()?.config,vw=n=>mm()?.[`_${n}`];class v2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}function ql(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Tw(n){return(await fetch(n,{credentials:"include"})).ok}function T2(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Od(JSON.stringify(e)),Od(JSON.stringify(u)),""].join(".")}const vc={};function E2(){const n={prod:[],emulator:[]};for(const t of Object.keys(vc))vc[t]?n.emulator.push(t):n.prod.push(t);return n}function b2(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Zb=!1;function Ew(n,t){if(typeof window>"u"||typeof document>"u"||!ql(window.location.host)||vc[n]===t||vc[n]||Zb)return;vc[n]=t;function e(E){return`__firebase__banner__${E}`}const s="__firebase__banner",l=E2().prod.length>0;function u(){const E=document.getElementById(s);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,I){E.setAttribute("width","24"),E.setAttribute("id",I),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Zb=!0,u()},E}function y(E,I){E.setAttribute("id",I),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=b2(s),I=e("text"),N=document.getElementById(I)||document.createElement("span"),U=e("learnmore"),L=document.getElementById(U)||document.createElement("a"),Y=e("preprendIcon"),W=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const z=E.element;h(z),y(L,U);const Q=p();d(W,Y),z.append(W,N,L,Q),document.body.appendChild(z)}l?(N.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function bw(){const n=mm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function A2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function w2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function I2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function R2(){const n=Ke();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Sw(){return!bw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Aw(){return!bw()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function ww(){try{return typeof indexedDB=="object"}catch{return!1}}function x2(){return new Promise((n,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}const C2="FirebaseError";class zs extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=C2,Object.setPrototypeOf(this,zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ih.prototype.create)}}class ih{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],u=l?D2(l,s):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new zs(a,h,s)}}function D2(n,t){return n.replace(V2,(e,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const V2=/\{\$([^}]+)}/g;function M2(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Za(n,t){if(n===t)return!0;const e=Object.keys(n),s=Object.keys(t);for(const a of e){if(!s.includes(a))return!1;const l=n[a],u=t[a];if(Jb(l)&&Jb(u)){if(!Za(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!e.includes(a))return!1;return!0}function Jb(n){return n!==null&&typeof n=="object"}function sh(n){const t=[];for(const[e,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function N2(n,t){const e=new P2(n,t);return e.subscribe.bind(e)}class P2{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let a;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");O2(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:s},a.next===void 0&&(a.next=Wg),a.error===void 0&&(a.error=Wg),a.complete===void 0&&(a.complete=Wg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function O2(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Wg(){}function Ye(n){return n&&n._delegate?n._delegate:n}class Ja{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const La="[DEFAULT]";class k2{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new v2;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(U2(t))try{this.getOrInitializeService({instanceIdentifier:La})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=La){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=La){return this.instances.has(t)}getOptions(t=La){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&u.resolve(a)}return a}onInit(t,e){const s=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const a of s)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:L2(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=La){return this.component?this.component.multipleInstances?t:La:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function L2(n){return n===La?void 0:n}function U2(n){return n.instantiationMode==="EAGER"}class B2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new k2(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Bt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Bt||(Bt={}));const z2={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},j2=Bt.INFO,F2={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},q2=(n,t,...e)=>{if(t<n.logLevel)return;const s=new Date().toISOString(),a=F2[t];if(a)console[a](`[${s}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class N_{constructor(t){this.name=t,this._logLevel=j2,this._logHandler=q2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?z2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const H2=(n,t)=>t.some(e=>n instanceof e);let tS,eS;function G2(){return tS||(tS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K2(){return eS||(eS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Iw=new WeakMap,Ry=new WeakMap,Rw=new WeakMap,Zg=new WeakMap,P_=new WeakMap;function Y2(n){const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{e(kr(n.result)),a()},u=()=>{s(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&Iw.set(e,n)}).catch(()=>{}),P_.set(t,n),t}function Q2(n){if(Ry.has(n))return;const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{e(),a()},u=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});Ry.set(n,t)}let xy={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Ry.get(n);if(t==="objectStoreNames")return n.objectStoreNames||Rw.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return kr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function $2(n){xy=n(xy)}function X2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=n.call(Jg(this),t,...e);return Rw.set(s,t.sort?t.sort():[t]),kr(s)}:K2().includes(n)?function(...t){return n.apply(Jg(this),t),kr(Iw.get(this))}:function(...t){return kr(n.apply(Jg(this),t))}}function W2(n){return typeof n=="function"?X2(n):(n instanceof IDBTransaction&&Q2(n),H2(n,G2())?new Proxy(n,xy):n)}function kr(n){if(n instanceof IDBRequest)return Y2(n);if(Zg.has(n))return Zg.get(n);const t=W2(n);return t!==n&&(Zg.set(n,t),P_.set(t,n)),t}const Jg=n=>P_.get(n);function Z2(n,t,{blocked:e,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(n,t),h=kr(u);return s&&u.addEventListener("upgradeneeded",d=>{s(kr(u.result),d.oldVersion,d.newVersion,kr(u.transaction),d)}),e&&u.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const J2=["get","getKey","getAll","getAllKeys","count"],tM=["put","add","delete","clear"],ty=new Map;function nS(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(ty.get(t))return ty.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,a=tM.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(a||J2.includes(e)))return;const l=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let p=d.store;return s&&(p=p.index(h.shift())),(await Promise.all([p[e](...h),a&&d.done]))[0]};return ty.set(t,l),l}$2(n=>({...n,get:(t,e,s)=>nS(t,e)||n.get(t,e,s),has:(t,e)=>!!nS(t,e)||n.has(t,e)}));class eM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(nM(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function nM(n){return n.getComponent()?.type==="VERSION"}const Cy="@firebase/app",iS="0.14.7";const Ns=new N_("@firebase/app"),iM="@firebase/app-compat",sM="@firebase/analytics-compat",rM="@firebase/analytics",aM="@firebase/app-check-compat",oM="@firebase/app-check",lM="@firebase/auth",uM="@firebase/auth-compat",cM="@firebase/database",hM="@firebase/data-connect",fM="@firebase/database-compat",dM="@firebase/functions",mM="@firebase/functions-compat",pM="@firebase/installations",gM="@firebase/installations-compat",yM="@firebase/messaging",_M="@firebase/messaging-compat",vM="@firebase/performance",TM="@firebase/performance-compat",EM="@firebase/remote-config",bM="@firebase/remote-config-compat",SM="@firebase/storage",AM="@firebase/storage-compat",wM="@firebase/firestore",IM="@firebase/ai",RM="@firebase/firestore-compat",xM="firebase",CM="12.8.0";const Dy="[DEFAULT]",DM={[Cy]:"fire-core",[iM]:"fire-core-compat",[rM]:"fire-analytics",[sM]:"fire-analytics-compat",[oM]:"fire-app-check",[aM]:"fire-app-check-compat",[lM]:"fire-auth",[uM]:"fire-auth-compat",[cM]:"fire-rtdb",[hM]:"fire-data-connect",[fM]:"fire-rtdb-compat",[dM]:"fire-fn",[mM]:"fire-fn-compat",[pM]:"fire-iid",[gM]:"fire-iid-compat",[yM]:"fire-fcm",[_M]:"fire-fcm-compat",[vM]:"fire-perf",[TM]:"fire-perf-compat",[EM]:"fire-rc",[bM]:"fire-rc-compat",[SM]:"fire-gcs",[AM]:"fire-gcs-compat",[wM]:"fire-fst",[RM]:"fire-fst-compat",[IM]:"fire-vertex","fire-js":"fire-js",[xM]:"fire-js-all"};const kd=new Map,VM=new Map,Vy=new Map;function sS(n,t){try{n.container.addComponent(t)}catch(e){Ns.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function wl(n){const t=n.name;if(Vy.has(t))return Ns.debug(`There were multiple attempts to register component ${t}.`),!1;Vy.set(t,n);for(const e of kd.values())sS(e,n);for(const e of VM.values())sS(e,n);return!0}function O_(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Si(n){return n==null?!1:n.settings!==void 0}const MM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lr=new ih("app","Firebase",MM);class NM{constructor(t,e,s){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}const Hl=CM;function xw(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const s={name:Dy,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw Lr.create("bad-app-name",{appName:String(a)});if(e||(e=_w()),!e)throw Lr.create("no-options");const l=kd.get(a);if(l){if(Za(e,l.options)&&Za(s,l.config))return l;throw Lr.create("duplicate-app",{appName:a})}const u=new B2(a);for(const d of Vy.values())u.addComponent(d);const h=new NM(e,s,u);return kd.set(a,h),h}function Cw(n=Dy){const t=kd.get(n);if(!t&&n===Dy&&_w())return xw();if(!t)throw Lr.create("no-app",{appName:n});return t}function Ur(n,t,e){let s=DM[n]??n;e&&(s+=`-${e}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${t}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ns.warn(u.join(" "));return}wl(new Ja(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const PM="firebase-heartbeat-database",OM=1,Pc="firebase-heartbeat-store";let ey=null;function Dw(){return ey||(ey=Z2(PM,OM,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Pc)}catch(e){console.warn(e)}}}}).catch(n=>{throw Lr.create("idb-open",{originalErrorMessage:n.message})})),ey}async function kM(n){try{const e=(await Dw()).transaction(Pc),s=await e.objectStore(Pc).get(Vw(n));return await e.done,s}catch(t){if(t instanceof zs)Ns.warn(t.message);else{const e=Lr.create("idb-get",{originalErrorMessage:t?.message});Ns.warn(e.message)}}}async function rS(n,t){try{const s=(await Dw()).transaction(Pc,"readwrite");await s.objectStore(Pc).put(t,Vw(n)),await s.done}catch(e){if(e instanceof zs)Ns.warn(e.message);else{const s=Lr.create("idb-set",{originalErrorMessage:e?.message});Ns.warn(s.message)}}}function Vw(n){return`${n.name}!${n.options.appId}`}const LM=1024,UM=30;class BM{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new jM(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=aS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:e}),this._heartbeatsCache.heartbeats.length>UM){const a=FM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ns.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=aS(),{heartbeatsToSend:e,unsentEntries:s}=zM(this._heartbeatsCache.heartbeats),a=Od(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ns.warn(t),""}}}function aS(){return new Date().toISOString().substring(0,10)}function zM(n,t=LM){const e=[];let s=n.slice();for(const a of n){const l=e.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),oS(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),oS(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class jM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ww()?x2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await kM(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return rS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return rS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function oS(n){return Od(JSON.stringify({version:2,heartbeats:n})).length}function FM(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let s=1;s<n.length;s++)n[s].date<e&&(e=n[s].date,t=s);return t}function qM(n){wl(new Ja("platform-logger",t=>new eM(t),"PRIVATE")),wl(new Ja("heartbeat",t=>new BM(t),"PRIVATE")),Ur(Cy,iS,n),Ur(Cy,iS,"esm2020"),Ur("fire-js","")}qM("");function Mw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HM=Mw,Nw=new ih("auth","Firebase",Mw());const Ld=new N_("@firebase/auth");function GM(n,...t){Ld.logLevel<=Bt.WARN&&Ld.warn(`Auth (${Hl}): ${n}`,...t)}function md(n,...t){Ld.logLevel<=Bt.ERROR&&Ld.error(`Auth (${Hl}): ${n}`,...t)}function Ps(n,...t){throw k_(n,...t)}function es(n,...t){return k_(n,...t)}function Pw(n,t,e){const s={...HM(),[t]:e};return new ih("auth","Firebase",s).create(t,{appName:n.name})}function Br(n){return Pw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function k_(n,...t){if(typeof n!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(e,...s)}return Nw.create(n,...t)}function St(n,t,...e){if(!n)throw k_(t,...e)}function xs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw md(t),new Error(t)}function Os(n,t){n||xs(t)}function My(){return typeof self<"u"&&self.location?.href||""}function KM(){return lS()==="http:"||lS()==="https:"}function lS(){return typeof self<"u"&&self.location?.protocol||null}function YM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KM()||w2()||"connection"in navigator)?navigator.onLine:!0}function QM(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class rh{constructor(t,e){this.shortDelay=t,this.longDelay=e,Os(e>t,"Short delay should be less than long delay!"),this.isMobile=S2()||I2()}get(){return YM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function L_(n,t){Os(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class Ow{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $M={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const XM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WM=new rh(3e4,6e4);function pm(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Gl(n,t,e,s,a={}){return kw(n,a,async()=>{let l={},u={};s&&(t==="GET"?u=s:l={body:JSON.stringify(s)});const h=sh({key:n.config.apiKey,...u}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p={method:t,headers:d,...l};return A2()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&ql(n.emulatorConfig.host)&&(p.credentials="include"),Ow.fetch()(await Uw(n,n.config.apiHost,e,h),p)})}async function kw(n,t,e){n._canInitEmulator=!1;const s={...$M,...t};try{const a=new ZM(n),l=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw ed(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw ed(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw ed(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw ed(n,"user-disabled",u);const y=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Pw(n,y,p);Ps(n,y)}}catch(a){if(a instanceof zs)throw a;Ps(n,"network-request-failed",{message:String(a)})}}async function Lw(n,t,e,s,a={}){const l=await Gl(n,t,e,s,a);return"mfaPendingCredential"in l&&Ps(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Uw(n,t,e,s){const a=`${t}${e}?${s}`,l=n,u=l.config.emulator?L_(n.config,a):`${n.config.apiScheme}://${a}`;return XM.includes(e)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class ZM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(es(this.auth,"network-request-failed")),WM.get())})}}function ed(n,t,e){const s={appName:n.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const a=es(n,t,s);return a.customData._tokenResponse=e,a}async function JM(n,t){return Gl(n,"POST","/v1/accounts:delete",t)}async function Ud(n,t){return Gl(n,"POST","/v1/accounts:lookup",t)}function Tc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function tN(n,t=!1){const e=Ye(n),s=await e.getIdToken(t),a=U_(s);St(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:Tc(ny(a.auth_time)),issuedAtTime:Tc(ny(a.iat)),expirationTime:Tc(ny(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function ny(n){return Number(n)*1e3}function U_(n){const[t,e,s]=n.split(".");if(t===void 0||e===void 0||s===void 0)return md("JWT malformed, contained fewer than 3 sections"),null;try{const a=pw(e);return a?JSON.parse(a):(md("Failed to decode base64 JWT payload"),null)}catch(a){return md("Caught error parsing JWT payload as JSON",a?.toString()),null}}function uS(n){const t=U_(n);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Oc(n,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof zs&&eN(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function eN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class nN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ny{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tc(this.lastLoginAt),this.creationTime=Tc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bd(n){const t=n.auth,e=await n.getIdToken(),s=await Oc(n,Ud(t,{idToken:e}));St(s?.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?Bw(a.providerUserInfo):[],u=sN(n.providerData,l),h=n.isAnonymous,d=!(n.email&&a.passwordHash)&&!u?.length,p=h?d:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Ny(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,y)}async function iN(n){const t=Ye(n);await Bd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function sN(n,t){return[...n.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function Bw(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function rN(n,t){const e=await kw(n,{},async()=>{const s=sh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=await Uw(n,a,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:s};return n.emulatorConfig&&ql(n.emulatorConfig.host)&&(d.credentials="include"),Ow.fetch()(u,d)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function aN(n,t){return Gl(n,"POST","/v2/accounts:revokeToken",pm(n,t))}class vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):uS(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){St(t.length!==0,"internal-error");const e=uS(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:a,expiresIn:l}=await rN(t,e);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:a,expirationTime:l}=e,u=new vl;return s&&(St(typeof s=="string","internal-error",{appName:t}),u.refreshToken=s),a&&(St(typeof a=="string","internal-error",{appName:t}),u.accessToken=a),l&&(St(typeof l=="number","internal-error",{appName:t}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new vl,this.toJSON())}_performRefresh(){return xs("not implemented")}}function br(n,t){St(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Ai{constructor({uid:t,auth:e,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new nN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ny(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await Oc(this,this.stsTokenManager.getToken(this.auth,t));return St(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return tN(this,t)}reload(){return iN(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Ai({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await Bd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Si(this.auth.app))return Promise.reject(Br(this.auth));const t=await this.getIdToken();return await Oc(this,JM(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const s=e.displayName??void 0,a=e.email??void 0,l=e.phoneNumber??void 0,u=e.photoURL??void 0,h=e.tenantId??void 0,d=e._redirectEventId??void 0,p=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:I,providerData:N,stsTokenManager:U}=e;St(v&&U,t,"internal-error");const L=vl.fromJSON(this.name,U);St(typeof v=="string",t,"internal-error"),br(s,t.name),br(a,t.name),St(typeof E=="boolean",t,"internal-error"),St(typeof I=="boolean",t,"internal-error"),br(l,t.name),br(u,t.name),br(h,t.name),br(d,t.name),br(p,t.name),br(y,t.name);const Y=new Ai({uid:v,auth:t,email:a,emailVerified:E,displayName:s,isAnonymous:I,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:L,createdAt:p,lastLoginAt:y});return N&&Array.isArray(N)&&(Y.providerData=N.map(W=>({...W}))),d&&(Y._redirectEventId=d),Y}static async _fromIdTokenResponse(t,e,s=!1){const a=new vl;a.updateFromServerResponse(e);const l=new Ai({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await Bd(l),l}static async _fromGetAccountInfoResponse(t,e,s){const a=e.users[0];St(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Bw(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new vl;h.updateFromIdToken(s);const d=new Ai({uid:a.localId,auth:t,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Ny(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,p),d}}const cS=new Map;function Cs(n){Os(n instanceof Function,"Expected a class definition");let t=cS.get(n);return t?(Os(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,cS.set(n,t),t)}class zw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}zw.type="NONE";const hS=zw;function pd(n,t,e){return`firebase:${n}:${t}:${e}`}class Tl{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=pd(this.userKey,a.apiKey,l),this.fullPersistenceKey=pd("persistence",a.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Ud(this.auth,{idToken:t}).catch(()=>{});return e?Ai._fromGetAccountInfoResponse(this.auth,e,t):null}return Ai._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new Tl(Cs(hS),t,s);const a=(await Promise.all(e.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Cs(hS);const u=pd(s,t.config.apiKey,t.name);let h=null;for(const p of e)try{const y=await p._get(u);if(y){let v;if(typeof y=="string"){const E=await Ud(t,{idToken:y}).catch(()=>{});if(!E)break;v=await Ai._fromGetAccountInfoResponse(t,E,y)}else v=Ai._fromJSON(t,y);p!==l&&(h=v),l=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new Tl(l,t,s):(l=d[0],h&&await l._set(u,h.toJSON()),await Promise.all(e.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new Tl(l,t,s))}}function fS(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Hw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(jw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Kw(t))return"Blackberry";if(Yw(t))return"Webos";if(Fw(t))return"Safari";if((t.includes("chrome/")||qw(t))&&!t.includes("edge/"))return"Chrome";if(Gw(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(e);if(s?.length===2)return s[1]}return"Other"}function jw(n=Ke()){return/firefox\//i.test(n)}function Fw(n=Ke()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function qw(n=Ke()){return/crios\//i.test(n)}function Hw(n=Ke()){return/iemobile/i.test(n)}function Gw(n=Ke()){return/android/i.test(n)}function Kw(n=Ke()){return/blackberry/i.test(n)}function Yw(n=Ke()){return/webos/i.test(n)}function B_(n=Ke()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function oN(n=Ke()){return B_(n)&&!!window.navigator?.standalone}function lN(){return R2()&&document.documentMode===10}function Qw(n=Ke()){return B_(n)||Gw(n)||Yw(n)||Kw(n)||/windows phone/i.test(n)||Hw(n)}function $w(n,t=[]){let e;switch(n){case"Browser":e=fS(Ke());break;case"Worker":e=`${fS(Ke())}-${n}`;break;default:e=n}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Hl}/${s}`}class uN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=l=>new Promise((u,h)=>{try{const d=t(l);u(d)}catch(d){h(d)}});s.onAbort=e,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function cN(n,t={}){return Gl(n,"GET","/v2/passwordPolicy",pm(n,t))}const hN=6;class fN{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??hN,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}class dN{constructor(t,e,s,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dS(this),this.idTokenSubscription=new dS(this),this.beforeStateQueue=new uN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Cs(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Tl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Ud(this,{idToken:t}),s=await Ai._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Si(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let s=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,h=await this.tryRedirectSignIn(t);(!l||l===u)&&h?.user&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Bd(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=QM()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Si(this.app))return Promise.reject(Br(this));const e=t?Ye(t):null;return e&&St(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Si(this.app)?Promise.reject(Br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Si(this.app)?Promise.reject(Br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await cN(this),e=new fN(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ih("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await aN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Cs(t)||this._popupRedirectResolver;St(e,this,"argument-error"),this.redirectPersistenceManager=await Tl.create(this,[Cs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,a){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof e=="function"){const d=t.addObserver(e,s,a);return()=>{u=!0,d()}}else{const d=t.addObserver(e);return()=>{u=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=$w(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&GM(`Error while retrieving App Check token: ${t.error}`),t?.token}}function gm(n){return Ye(n)}class dS{constructor(t){this.auth=t,this.observer=null,this.addObserver=N2(e=>this.observer=e)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let z_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mN(n){z_=n}function pN(n){return z_.loadJS(n)}function gN(){return z_.gapiScript}function yN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function _N(n,t){const e=O_(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),l=e.getOptions();if(Za(l,t??{}))return a;Ps(a,"already-initialized")}return e.initialize({options:t})}function vN(n,t){const e=t?.persistence||[],s=(Array.isArray(e)?e:[e]).map(Cs);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(s,t?.popupRedirectResolver)}function TN(n,t,e){const s=gm(n);St(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,l=Xw(t),{host:u,port:h}=EN(t),d=h===null?"":`:${h}`,p={url:`${l}//${u}${d}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){St(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),St(Za(p,s.config.emulator)&&Za(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,ql(u)?(Tw(`${l}//${u}${d}`),Ew("Auth",!0)):bN()}function Xw(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function EN(n){const t=Xw(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:mS(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:mS(u)}}}function mS(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function bN(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Ww{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return xs("not implemented")}_getIdTokenResponse(t){return xs("not implemented")}_linkToIdToken(t,e){return xs("not implemented")}_getReauthenticationResolver(t){return xs("not implemented")}}async function El(n,t){return Lw(n,"POST","/v1/accounts:signInWithIdp",pm(n,t))}const SN="http://localhost";class to extends Ww{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new to(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ps("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a,...l}=e;if(!s||!a)return null;const u=new to(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(t){const e=this.buildRequest();return El(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,El(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,El(t,e)}buildRequest(){const t={requestUri:SN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=sh(e)}return t}}class Zw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ah extends Zw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Rr extends ah{constructor(){super("facebook.com")}static credential(t){return to._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Rr.credentialFromTaggedObject(t)}static credentialFromError(t){return Rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Rr.credential(t.oauthAccessToken)}catch{return null}}}Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rr.PROVIDER_ID="facebook.com";class xr extends ah{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return to._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return xr.credential(e,s)}catch{return null}}}xr.GOOGLE_SIGN_IN_METHOD="google.com";xr.PROVIDER_ID="google.com";class Cr extends ah{constructor(){super("github.com")}static credential(t){return to._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Cr.credentialFromTaggedObject(t)}static credentialFromError(t){return Cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Cr.credential(t.oauthAccessToken)}catch{return null}}}Cr.GITHUB_SIGN_IN_METHOD="github.com";Cr.PROVIDER_ID="github.com";class Dr extends ah{constructor(){super("twitter.com")}static credential(t,e){return to._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Dr.credentialFromTaggedObject(t)}static credentialFromError(t){return Dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return Dr.credential(e,s)}catch{return null}}}Dr.TWITTER_SIGN_IN_METHOD="twitter.com";Dr.PROVIDER_ID="twitter.com";async function AN(n,t){return Lw(n,"POST","/v1/accounts:signUp",pm(n,t))}class Hr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,a=!1){const l=await Ai._fromIdTokenResponse(t,s,a),u=pS(s);return new Hr({user:l,providerId:u,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const a=pS(s);return new Hr({user:t,providerId:a,_tokenResponse:s,operationType:e})}}function pS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function wN(n){if(Si(n.app))return Promise.reject(Br(n));const t=gm(n);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Hr({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await AN(t,{returnSecureToken:!0}),s=await Hr._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(s.user),s}class zd extends zs{constructor(t,e,s,a){super(e.code,e.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,zd.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,a){return new zd(t,e,s,a)}}function Jw(n,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?zd._fromErrorAndOperation(n,l,t,s):l})}async function IN(n,t,e=!1){const s=await Oc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Hr._forOperation(n,"link",s)}async function RN(n,t,e=!1){const{auth:s}=n;if(Si(s.app))return Promise.reject(Br(s));const a="reauthenticate";try{const l=await Oc(n,Jw(s,a,t,n),e);St(l.idToken,s,"internal-error");const u=U_(l.idToken);St(u,s,"internal-error");const{sub:h}=u;return St(n.uid===h,s,"user-mismatch"),Hr._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ps(s,"user-mismatch"),l}}async function xN(n,t,e=!1){if(Si(n.app))return Promise.reject(Br(n));const s="signIn",a=await Jw(n,s,t),l=await Hr._fromIdTokenResponse(n,s,a);return e||await n._updateCurrentUser(l.user),l}function CN(n,t,e,s){return Ye(n).onIdTokenChanged(t,e,s)}function DN(n,t,e){return Ye(n).beforeAuthStateChanged(t,e)}function VN(n,t,e,s){return Ye(n).onAuthStateChanged(t,e,s)}const jd="__sak";class tI{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(jd,"1"),this.storage.removeItem(jd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const MN=1e3,NN=10;class eI extends tI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Qw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),a=this.localCache[e];s!==a&&t(e,a,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const s=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!e&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);lN()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,NN):a()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},MN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}eI.type="LOCAL";const PN=eI;class nI extends tI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}nI.type="SESSION";const iI=nI;function ON(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class ym{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const s=new ym(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:a,data:l}=e.data,u=this.handlersMap[a];if(!u?.size)return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const h=Array.from(u).map(async p=>p(e.origin,l)),d=await ON(h);e.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:d})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ym.receivers=[];function j_(n="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return n+e}class kN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,d)=>{const p=j_("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(E.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:p,data:e},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function ns(){return window}function LN(n){ns().location.href=n}function sI(){return typeof ns().WorkerGlobalScope<"u"&&typeof ns().importScripts=="function"}async function UN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BN(){return navigator?.serviceWorker?.controller||null}function zN(){return sI()?self:null}const rI="firebaseLocalStorageDb",jN=1,Fd="firebaseLocalStorage",aI="fbase_key";class oh{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function _m(n,t){return n.transaction([Fd],t?"readwrite":"readonly").objectStore(Fd)}function FN(){const n=indexedDB.deleteDatabase(rI);return new oh(n).toPromise()}function Py(){const n=indexedDB.open(rI,jN);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Fd,{keyPath:aI})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Fd)?t(s):(s.close(),await FN(),t(await Py()))})})}async function gS(n,t,e){const s=_m(n,!0).put({[aI]:t,value:e});return new oh(s).toPromise()}async function qN(n,t){const e=_m(n,!1).get(t),s=await new oh(e).toPromise();return s===void 0?null:s.value}function yS(n,t){const e=_m(n,!0).delete(t);return new oh(e).toPromise()}const HN=800,GN=3;class oI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Py(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>GN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ym._getInstance(zN()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await UN(),!this.activeServiceWorker)return;this.sender=new kN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||BN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Py();return await gS(t,jd,"1"),await yS(t,jd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>gS(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>qN(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>yS(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=_m(a,!1).getAll();return new oh(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oI.type="LOCAL";const KN=oI;new rh(3e4,6e4);function YN(n,t){return t?Cs(t):(St(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class F_ extends Ww{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return El(t,this._buildIdpRequest())}_linkToIdToken(t,e){return El(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return El(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function QN(n){return xN(n.auth,new F_(n),n.bypassAuthState)}function $N(n){const{auth:t,user:e}=n;return St(e,t,"internal-error"),RN(e,new F_(n),n.bypassAuthState)}async function XN(n){const{auth:t,user:e}=n;return St(e,t,"internal-error"),IN(e,new F_(n),n.bypassAuthState)}class lI{constructor(t,e,s,a,l=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:a,tenantId:l,error:u,type:h}=t;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:e,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return QN;case"linkViaPopup":case"linkViaRedirect":return XN;case"reauthViaPopup":case"reauthViaRedirect":return $N;default:Ps(this.auth,"internal-error")}}resolve(t){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const WN=new rh(2e3,1e4);class dl extends lI{constructor(t,e,s,a,l){super(t,e,a,l),this.provider=s,this.authWindow=null,this.pollId=null,dl.currentPopupAction&&dl.currentPopupAction.cancel(),dl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){Os(this.filter.length===1,"Popup operations only handle one event");const t=j_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(es(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(es(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dl.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(es(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,WN.get())};t()}}dl.currentPopupAction=null;const ZN="pendingRedirect",gd=new Map;class JN extends lI{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=gd.get(this.auth._key());if(!t){try{const s=await tP(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}gd.set(this.auth._key(),t)}return this.bypassAuthState||gd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tP(n,t){const e=iP(t),s=nP(n);if(!await s._isAvailable())return!1;const a=await s._get(e)==="true";return await s._remove(e),a}function eP(n,t){gd.set(n._key(),t)}function nP(n){return Cs(n._redirectPersistence)}function iP(n){return pd(ZN,n.config.apiKey,n.name)}async function sP(n,t,e=!1){if(Si(n.app))return Promise.reject(Br(n));const s=gm(n),a=YN(s,t),u=await new JN(s,a,e).execute();return u&&!e&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,t)),u}const rP=600*1e3;class aP{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!oP(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!uI(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";e.onError(es(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=rP&&this.cachedEventUids.clear(),this.cachedEventUids.has(_S(t))}saveEventToCache(t){this.cachedEventUids.add(_S(t)),this.lastProcessedEventTime=Date.now()}}function _S(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function uI({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function oP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uI(n);default:return!1}}async function lP(n,t={}){return Gl(n,"GET","/v1/projects",t)}const uP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cP=/^https?/;async function hP(n){if(n.config.emulator)return;const{authorizedDomains:t}=await lP(n);for(const e of t)try{if(fP(e))return}catch{}Ps(n,"unauthorized-domain")}function fP(n){const t=My(),{protocol:e,hostname:s}=new URL(t);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&s===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&u.hostname===s}if(!cP.test(e))return!1;if(uP.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const dP=new rh(3e4,6e4);function vS(){const n=ns().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function mP(n){return new Promise((t,e)=>{function s(){vS(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{vS(),e(es(n,"network-request-failed"))},timeout:dP.get()})}if(ns().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ns().gapi?.load)s();else{const a=yN("iframefcb");return ns()[a]=()=>{gapi.load?s():e(es(n,"network-request-failed"))},pN(`${gN()}?onload=${a}`).catch(l=>e(l))}}).catch(t=>{throw yd=null,t})}let yd=null;function pP(n){return yd=yd||mP(n),yd}const gP=new rh(5e3,15e3),yP="__/auth/iframe",_P="emulator/auth/iframe",vP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EP(n){const t=n.config;St(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?L_(t,_P):`https://${n.config.authDomain}/${yP}`,s={apiKey:t.apiKey,appName:n.name,v:Hl},a=TP.get(n.config.apiHost);a&&(s.eid=a);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${e}?${sh(s).slice(1)}`}async function bP(n){const t=await pP(n),e=ns().gapi;return St(e,n,"internal-error"),t.open({where:document.body,url:EP(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vP,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=es(n,"network-request-failed"),h=ns().setTimeout(()=>{l(u)},gP.get());function d(){ns().clearTimeout(h),a(s)}s.ping(d).then(d,()=>{l(u)})}))}const SP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AP=500,wP=600,IP="_blank",RP="http://localhost";class TS{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xP(n,t,e,s=AP,a=wP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const d={...SP,width:s.toString(),height:a.toString(),top:l,left:u},p=Ke().toLowerCase();e&&(h=qw(p)?IP:e),jw(p)&&(t=t||RP,d.scrollbars="yes");const y=Object.entries(d).reduce((E,[I,N])=>`${E}${I}=${N},`,"");if(oN(p)&&h!=="_self")return CP(t||"",h),new TS(null);const v=window.open(t||"",h,y);St(v,n,"popup-blocked");try{v.focus()}catch{}return new TS(v)}function CP(n,t){const e=document.createElement("a");e.href=n,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}const DP="__/auth/handler",VP="emulator/auth/handler",MP=encodeURIComponent("fac");async function ES(n,t,e,s,a,l){St(n.config.authDomain,n,"auth-domain-config-required"),St(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:s,v:Hl,eventId:a};if(t instanceof Zw){t.setDefaultLanguage(n.languageCode),u.providerId=t.providerId||"",M2(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(t instanceof ah){const y=t.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await n._getAppCheckToken(),p=d?`#${MP}=${encodeURIComponent(d)}`:"";return`${NP(n)}?${sh(h).slice(1)}${p}`}function NP({config:n}){return n.emulator?L_(n,VP):`https://${n.authDomain}/${DP}`}const iy="webStorageSupport";class PP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iI,this._completeRedirectFn=sP,this._overrideRedirectResult=eP}async _openPopup(t,e,s,a){Os(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await ES(t,e,s,My(),a);return xP(t,l,j_())}async _openRedirect(t,e,s,a){await this._originValidation(t);const l=await ES(t,e,s,My(),a);return LN(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:l}=this.eventManagers[e];return a?Promise.resolve(a):(Os(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await bP(t),s=new aP(t);return e.register("authEvent",a=>(St(a?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(iy,{type:iy},a=>{const l=a?.[0]?.[iy];l!==void 0&&e(!!l),Ps(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=hP(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Qw()||Fw()||B_()}}const OP=PP;var bS="@firebase/auth",SS="1.12.0";class kP{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function LP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UP(n){wl(new Ja("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=s.options;St(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$w(n)},p=new dN(s,a,l,d);return vN(p,e),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),wl(new Ja("auth-internal",t=>{const e=gm(t.getProvider("auth").getImmediate());return(s=>new kP(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ur(bS,SS,LP(n)),Ur(bS,SS,"esm2020")}const BP=300,zP=vw("authIdTokenMaxAge")||BP;let AS=null;const jP=n=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>zP)return;const a=e?.token;AS!==a&&(AS=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function FP(n=Cw()){const t=O_(n,"auth");if(t.isInitialized())return t.getImmediate();const e=_N(n,{popupRedirectResolver:OP,persistence:[KN,PN,iI]}),s=vw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=jP(l.toString());DN(e,u,()=>u(e.currentUser)),CN(e,h=>u(h))}}const a=yw("auth");return a&&TN(e,`http://${a}`),e}function qP(){return document.getElementsByTagName("head")?.[0]??document}mN({loadJS(n){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=t,s.onerror=a=>{const l=es("internal-error");l.customData=a,e(l)},s.type="text/javascript",s.charset="UTF-8",qP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UP("Browser");var HP="firebase",GP="12.8.0";Ur(HP,GP,"app");var wS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zr,cI;(function(){var n;function t(R,A){function x(){}x.prototype=A.prototype,R.F=A.prototype,R.prototype=new x,R.prototype.constructor=R,R.D=function(M,V,k){for(var C=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)C[Gt-2]=arguments[Gt];return A.prototype[V].apply(M,C)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,e),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,A,x){x||(x=0);const M=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)M[V]=A.charCodeAt(x++)|A.charCodeAt(x++)<<8|A.charCodeAt(x++)<<16|A.charCodeAt(x++)<<24;else for(V=0;V<16;++V)M[V]=A[x++]|A[x++]<<8|A[x++]<<16|A[x++]<<24;A=R.g[0],x=R.g[1],V=R.g[2];let k=R.g[3],C;C=A+(k^x&(V^k))+M[0]+3614090360&4294967295,A=x+(C<<7&4294967295|C>>>25),C=k+(V^A&(x^V))+M[1]+3905402710&4294967295,k=A+(C<<12&4294967295|C>>>20),C=V+(x^k&(A^x))+M[2]+606105819&4294967295,V=k+(C<<17&4294967295|C>>>15),C=x+(A^V&(k^A))+M[3]+3250441966&4294967295,x=V+(C<<22&4294967295|C>>>10),C=A+(k^x&(V^k))+M[4]+4118548399&4294967295,A=x+(C<<7&4294967295|C>>>25),C=k+(V^A&(x^V))+M[5]+1200080426&4294967295,k=A+(C<<12&4294967295|C>>>20),C=V+(x^k&(A^x))+M[6]+2821735955&4294967295,V=k+(C<<17&4294967295|C>>>15),C=x+(A^V&(k^A))+M[7]+4249261313&4294967295,x=V+(C<<22&4294967295|C>>>10),C=A+(k^x&(V^k))+M[8]+1770035416&4294967295,A=x+(C<<7&4294967295|C>>>25),C=k+(V^A&(x^V))+M[9]+2336552879&4294967295,k=A+(C<<12&4294967295|C>>>20),C=V+(x^k&(A^x))+M[10]+4294925233&4294967295,V=k+(C<<17&4294967295|C>>>15),C=x+(A^V&(k^A))+M[11]+2304563134&4294967295,x=V+(C<<22&4294967295|C>>>10),C=A+(k^x&(V^k))+M[12]+1804603682&4294967295,A=x+(C<<7&4294967295|C>>>25),C=k+(V^A&(x^V))+M[13]+4254626195&4294967295,k=A+(C<<12&4294967295|C>>>20),C=V+(x^k&(A^x))+M[14]+2792965006&4294967295,V=k+(C<<17&4294967295|C>>>15),C=x+(A^V&(k^A))+M[15]+1236535329&4294967295,x=V+(C<<22&4294967295|C>>>10),C=A+(V^k&(x^V))+M[1]+4129170786&4294967295,A=x+(C<<5&4294967295|C>>>27),C=k+(x^V&(A^x))+M[6]+3225465664&4294967295,k=A+(C<<9&4294967295|C>>>23),C=V+(A^x&(k^A))+M[11]+643717713&4294967295,V=k+(C<<14&4294967295|C>>>18),C=x+(k^A&(V^k))+M[0]+3921069994&4294967295,x=V+(C<<20&4294967295|C>>>12),C=A+(V^k&(x^V))+M[5]+3593408605&4294967295,A=x+(C<<5&4294967295|C>>>27),C=k+(x^V&(A^x))+M[10]+38016083&4294967295,k=A+(C<<9&4294967295|C>>>23),C=V+(A^x&(k^A))+M[15]+3634488961&4294967295,V=k+(C<<14&4294967295|C>>>18),C=x+(k^A&(V^k))+M[4]+3889429448&4294967295,x=V+(C<<20&4294967295|C>>>12),C=A+(V^k&(x^V))+M[9]+568446438&4294967295,A=x+(C<<5&4294967295|C>>>27),C=k+(x^V&(A^x))+M[14]+3275163606&4294967295,k=A+(C<<9&4294967295|C>>>23),C=V+(A^x&(k^A))+M[3]+4107603335&4294967295,V=k+(C<<14&4294967295|C>>>18),C=x+(k^A&(V^k))+M[8]+1163531501&4294967295,x=V+(C<<20&4294967295|C>>>12),C=A+(V^k&(x^V))+M[13]+2850285829&4294967295,A=x+(C<<5&4294967295|C>>>27),C=k+(x^V&(A^x))+M[2]+4243563512&4294967295,k=A+(C<<9&4294967295|C>>>23),C=V+(A^x&(k^A))+M[7]+1735328473&4294967295,V=k+(C<<14&4294967295|C>>>18),C=x+(k^A&(V^k))+M[12]+2368359562&4294967295,x=V+(C<<20&4294967295|C>>>12),C=A+(x^V^k)+M[5]+4294588738&4294967295,A=x+(C<<4&4294967295|C>>>28),C=k+(A^x^V)+M[8]+2272392833&4294967295,k=A+(C<<11&4294967295|C>>>21),C=V+(k^A^x)+M[11]+1839030562&4294967295,V=k+(C<<16&4294967295|C>>>16),C=x+(V^k^A)+M[14]+4259657740&4294967295,x=V+(C<<23&4294967295|C>>>9),C=A+(x^V^k)+M[1]+2763975236&4294967295,A=x+(C<<4&4294967295|C>>>28),C=k+(A^x^V)+M[4]+1272893353&4294967295,k=A+(C<<11&4294967295|C>>>21),C=V+(k^A^x)+M[7]+4139469664&4294967295,V=k+(C<<16&4294967295|C>>>16),C=x+(V^k^A)+M[10]+3200236656&4294967295,x=V+(C<<23&4294967295|C>>>9),C=A+(x^V^k)+M[13]+681279174&4294967295,A=x+(C<<4&4294967295|C>>>28),C=k+(A^x^V)+M[0]+3936430074&4294967295,k=A+(C<<11&4294967295|C>>>21),C=V+(k^A^x)+M[3]+3572445317&4294967295,V=k+(C<<16&4294967295|C>>>16),C=x+(V^k^A)+M[6]+76029189&4294967295,x=V+(C<<23&4294967295|C>>>9),C=A+(x^V^k)+M[9]+3654602809&4294967295,A=x+(C<<4&4294967295|C>>>28),C=k+(A^x^V)+M[12]+3873151461&4294967295,k=A+(C<<11&4294967295|C>>>21),C=V+(k^A^x)+M[15]+530742520&4294967295,V=k+(C<<16&4294967295|C>>>16),C=x+(V^k^A)+M[2]+3299628645&4294967295,x=V+(C<<23&4294967295|C>>>9),C=A+(V^(x|~k))+M[0]+4096336452&4294967295,A=x+(C<<6&4294967295|C>>>26),C=k+(x^(A|~V))+M[7]+1126891415&4294967295,k=A+(C<<10&4294967295|C>>>22),C=V+(A^(k|~x))+M[14]+2878612391&4294967295,V=k+(C<<15&4294967295|C>>>17),C=x+(k^(V|~A))+M[5]+4237533241&4294967295,x=V+(C<<21&4294967295|C>>>11),C=A+(V^(x|~k))+M[12]+1700485571&4294967295,A=x+(C<<6&4294967295|C>>>26),C=k+(x^(A|~V))+M[3]+2399980690&4294967295,k=A+(C<<10&4294967295|C>>>22),C=V+(A^(k|~x))+M[10]+4293915773&4294967295,V=k+(C<<15&4294967295|C>>>17),C=x+(k^(V|~A))+M[1]+2240044497&4294967295,x=V+(C<<21&4294967295|C>>>11),C=A+(V^(x|~k))+M[8]+1873313359&4294967295,A=x+(C<<6&4294967295|C>>>26),C=k+(x^(A|~V))+M[15]+4264355552&4294967295,k=A+(C<<10&4294967295|C>>>22),C=V+(A^(k|~x))+M[6]+2734768916&4294967295,V=k+(C<<15&4294967295|C>>>17),C=x+(k^(V|~A))+M[13]+1309151649&4294967295,x=V+(C<<21&4294967295|C>>>11),C=A+(V^(x|~k))+M[4]+4149444226&4294967295,A=x+(C<<6&4294967295|C>>>26),C=k+(x^(A|~V))+M[11]+3174756917&4294967295,k=A+(C<<10&4294967295|C>>>22),C=V+(A^(k|~x))+M[2]+718787259&4294967295,V=k+(C<<15&4294967295|C>>>17),C=x+(k^(V|~A))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+k&4294967295}s.prototype.v=function(R,A){A===void 0&&(A=R.length);const x=A-this.blockSize,M=this.C;let V=this.h,k=0;for(;k<A;){if(V==0)for(;k<=x;)a(this,R,k),k+=this.blockSize;if(typeof R=="string"){for(;k<A;)if(M[V++]=R.charCodeAt(k++),V==this.blockSize){a(this,M),V=0;break}}else for(;k<A;)if(M[V++]=R[k++],V==this.blockSize){a(this,M),V=0;break}}this.h=V,this.o+=A},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var x=R.length-8;x<R.length;++x)R[x]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,x=0;x<4;++x)for(let M=0;M<32;M+=8)R[A++]=this.g[x]>>>M&255;return R};function l(R,A){var x=h;return Object.prototype.hasOwnProperty.call(x,R)?x[R]:x[R]=A(R)}function u(R,A){this.h=A;const x=[];let M=!0;for(let V=R.length-1;V>=0;V--){const k=R[V]|0;M&&k==A||(x[V]=k,M=!1)}this.g=x}var h={};function d(R){return-128<=R&&R<128?l(R,function(A){return new u([A|0],A<0?-1:0)}):new u([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return v;if(R<0)return L(p(-R));const A=[];let x=1;for(let M=0;R>=x;M++)A[M]=R/x|0,x*=4294967296;return new u(A,0)}function y(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return L(y(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=p(Math.pow(A,8));let M=v;for(let k=0;k<R.length;k+=8){var V=Math.min(8,R.length-k);const C=parseInt(R.substring(k,k+V),A);V<8?(V=p(Math.pow(A,V)),M=M.j(V).add(p(C))):(M=M.j(x),M=M.add(p(C)))}return M}var v=d(0),E=d(1),I=d(16777216);n=u.prototype,n.m=function(){if(U(this))return-L(this).m();let R=0,A=1;for(let x=0;x<this.g.length;x++){const M=this.i(x);R+=(M>=0?M:4294967296+M)*A,A*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N(this))return"0";if(U(this))return"-"+L(this).toString(R);const A=p(Math.pow(R,6));var x=this;let M="";for(;;){const V=Q(x,A).g;x=Y(x,V.j(A));let k=((x.g.length>0?x.g[0]:x.h)>>>0).toString(R);if(x=V,N(x))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function N(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function U(R){return R.h==-1}n.l=function(R){return R=Y(this,R),U(R)?-1:N(R)?0:1};function L(R){const A=R.g.length,x=[];for(let M=0;M<A;M++)x[M]=~R.g[M];return new u(x,~R.h).add(E)}n.abs=function(){return U(this)?L(this):this},n.add=function(R){const A=Math.max(this.g.length,R.g.length),x=[];let M=0;for(let V=0;V<=A;V++){let k=M+(this.i(V)&65535)+(R.i(V)&65535),C=(k>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);M=C>>>16,k&=65535,C&=65535,x[V]=C<<16|k}return new u(x,x[x.length-1]&-2147483648?-1:0)};function Y(R,A){return R.add(L(A))}n.j=function(R){if(N(this)||N(R))return v;if(U(this))return U(R)?L(this).j(L(R)):L(L(this).j(R));if(U(R))return L(this.j(L(R)));if(this.l(I)<0&&R.l(I)<0)return p(this.m()*R.m());const A=this.g.length+R.g.length,x=[];for(var M=0;M<2*A;M++)x[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<R.g.length;V++){const k=this.i(M)>>>16,C=this.i(M)&65535,Gt=R.i(V)>>>16,Xt=R.i(V)&65535;x[2*M+2*V]+=C*Xt,W(x,2*M+2*V),x[2*M+2*V+1]+=k*Xt,W(x,2*M+2*V+1),x[2*M+2*V+1]+=C*Gt,W(x,2*M+2*V+1),x[2*M+2*V+2]+=k*Gt,W(x,2*M+2*V+2)}for(R=0;R<A;R++)x[R]=x[2*R+1]<<16|x[2*R];for(R=A;R<2*A;R++)x[R]=0;return new u(x,0)};function W(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function z(R,A){this.g=R,this.h=A}function Q(R,A){if(N(A))throw Error("division by zero");if(N(R))return new z(v,v);if(U(R))return A=Q(L(R),A),new z(L(A.g),L(A.h));if(U(A))return A=Q(R,L(A)),new z(L(A.g),A.h);if(R.g.length>30){if(U(R)||U(A))throw Error("slowDivide_ only works with positive integers.");for(var x=E,M=A;M.l(R)<=0;)x=rt(x),M=rt(M);var V=at(x,1),k=at(M,1);for(M=at(M,2),x=at(x,2);!N(M);){var C=k.add(M);C.l(R)<=0&&(V=V.add(x),k=C),M=at(M,1),x=at(x,1)}return A=Y(R,V.j(A)),new z(V,A)}for(V=v;R.l(A)>=0;){for(x=Math.max(1,Math.floor(R.m()/A.m())),M=Math.ceil(Math.log(x)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=p(x),C=k.j(A);U(C)||C.l(R)>0;)x-=M,k=p(x),C=k.j(A);N(k)&&(k=E),V=V.add(k),R=Y(R,C)}return new z(V,R)}n.B=function(R){return Q(this,R).h},n.and=function(R){const A=Math.max(this.g.length,R.g.length),x=[];for(let M=0;M<A;M++)x[M]=this.i(M)&R.i(M);return new u(x,this.h&R.h)},n.or=function(R){const A=Math.max(this.g.length,R.g.length),x=[];for(let M=0;M<A;M++)x[M]=this.i(M)|R.i(M);return new u(x,this.h|R.h)},n.xor=function(R){const A=Math.max(this.g.length,R.g.length),x=[];for(let M=0;M<A;M++)x[M]=this.i(M)^R.i(M);return new u(x,this.h^R.h)};function rt(R){const A=R.g.length+1,x=[];for(let M=0;M<A;M++)x[M]=R.i(M)<<1|R.i(M-1)>>>31;return new u(x,R.h)}function at(R,A){const x=A>>5;A%=32;const M=R.g.length-x,V=[];for(let k=0;k<M;k++)V[k]=A>0?R.i(k+x)>>>A|R.i(k+x+1)<<32-A:R.i(k+x);return new u(V,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,cI=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,zr=u}).apply(typeof wS<"u"?wS:typeof self<"u"?self:typeof window<"u"?window:{});var nd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hI,dc,fI,_d,Oy,dI,mI,pI;(function(){var n,t=Object.defineProperty;function e(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof nd=="object"&&nd];for(var _=0;_<f.length;++_){var b=f[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=e(this);function a(f,_){if(_)t:{var b=s;f=f.split(".");for(var w=0;w<f.length-1;w++){var q=f[w];if(!(q in b))break t;b=b[q]}f=f[f.length-1],w=b[f],_=_(w),_!=w&&_!=null&&t(b,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var b=[],w;for(w in _)Object.prototype.hasOwnProperty.call(_,w)&&b.push([w,_[w]]);return b}});var l=l||{},u=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,b){return f.call.apply(f.bind,arguments)}function p(f,_,b){return p=d,p.apply(null,arguments)}function y(f,_){var b=Array.prototype.slice.call(arguments,1);return function(){var w=b.slice();return w.push.apply(w,arguments),f.apply(this,w)}}function v(f,_){function b(){}b.prototype=_.prototype,f.Z=_.prototype,f.prototype=new b,f.prototype.constructor=f,f.Ob=function(w,q,$){for(var ct=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)ct[xt-2]=arguments[xt];return _.prototype[q].apply(w,ct)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function I(f){const _=f.length;if(_>0){const b=Array(_);for(let w=0;w<_;w++)b[w]=f[w];return b}return[]}function N(f,_){for(let w=1;w<arguments.length;w++){const q=arguments[w];var b=typeof q;if(b=b!="object"?b:q?Array.isArray(q)?"array":b:"null",b=="array"||b=="object"&&typeof q.length=="number"){b=f.length||0;const $=q.length||0;f.length=b+$;for(let ct=0;ct<$;ct++)f[b+ct]=q[ct]}else f.push(q)}}class U{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function L(f){u.setTimeout(()=>{throw f},0)}function Y(){var f=R;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class W{constructor(){this.h=this.g=null}add(_,b){const w=z.get();w.set(_,b),this.h?this.h.next=w:this.g=w,this.h=w}}var z=new U(()=>new Q,f=>f.reset());class Q{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,at=!1,R=new W,A=()=>{const f=Promise.resolve(void 0);rt=()=>{f.then(x)}};function x(){for(var f;f=Y();){try{f.h.call(f.g)}catch(b){L(b)}var _=z;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}at=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};u.addEventListener("test",b,_),u.removeEventListener("test",b,_)}catch{}return f})();function C(f){return/^[\s\xa0]*$/.test(f)}function Gt(f,_){V.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(Gt,V),Gt.prototype.init=function(f,_){const b=this.type=f.type,w=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(b=="mouseover"?_=f.fromElement:b=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Gt.Z.h.call(this)},Gt.prototype.h=function(){Gt.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Xt="closure_listenable_"+(Math.random()*1e6|0),tt=0;function ot(f,_,b,w,q){this.listener=f,this.proxy=null,this.src=_,this.type=b,this.capture=!!w,this.ha=q,this.key=++tt,this.da=this.fa=!1}function dt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Dt(f,_,b){for(const w in f)_.call(b,f[w],w,f)}function kt(f,_){for(const b in f)_.call(void 0,f[b],b,f)}function O(f){const _={};for(const b in f)_[b]=f[b];return _}const st="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ft(f,_){let b,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(b in w)f[b]=w[b];for(let $=0;$<st.length;$++)b=st[$],Object.prototype.hasOwnProperty.call(w,b)&&(f[b]=w[b])}}function pt(f){this.src=f,this.g={},this.h=0}pt.prototype.add=function(f,_,b,w,q){const $=f.toString();f=this.g[$],f||(f=this.g[$]=[],this.h++);const ct=Vt(f,_,w,q);return ct>-1?(_=f[ct],b||(_.fa=!1)):(_=new ot(_,this.src,$,!!w,q),_.fa=b,f.push(_)),_};function wt(f,_){const b=_.type;if(b in f.g){var w=f.g[b],q=Array.prototype.indexOf.call(w,_,void 0),$;($=q>=0)&&Array.prototype.splice.call(w,q,1),$&&(dt(_),f.g[b].length==0&&(delete f.g[b],f.h--))}}function Vt(f,_,b,w){for(let q=0;q<f.length;++q){const $=f[q];if(!$.da&&$.listener==_&&$.capture==!!b&&$.ha==w)return q}return-1}var Ft="closure_lm_"+(Math.random()*1e6|0),je={};function he(f,_,b,w,q){if(Array.isArray(_)){for(let $=0;$<_.length;$++)he(f,_[$],b,w,q);return null}return b=nu(b),f&&f[Xt]?f.J(_,b,h(w)?!!w.capture:!1,q):ia(f,_,b,!1,w,q)}function ia(f,_,b,w,q,$){if(!_)throw Error("Invalid event type");const ct=h(q)?!!q.capture:!!q;let xt=sa(f);if(xt||(f[Ft]=xt=new pt(f)),b=xt.add(_,b,w,ct,$),b.proxy)return b;if(w=ho(),b.proxy=w,w.src=f,w.listener=b,f.addEventListener)k||(q=ct),q===void 0&&(q=!1),f.addEventListener(_.toString(),w,q);else if(f.attachEvent)f.attachEvent(xi(_.toString()),w);else if(f.addListener&&f.removeListener)f.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ho(){function f(b){return _.call(f.src,f.listener,b)}const _=tu;return f}function fo(f,_,b,w,q){if(Array.isArray(_))for(var $=0;$<_.length;$++)fo(f,_[$],b,w,q);else w=h(w)?!!w.capture:!!w,b=nu(b),f&&f[Xt]?(f=f.i,$=String(_).toString(),$ in f.g&&(_=f.g[$],b=Vt(_,b,w,q),b>-1&&(dt(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete f.g[$],f.h--)))):f&&(f=sa(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Vt(_,b,w,q)),(b=f>-1?_[f]:null)&&mo(b))}function mo(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Xt])wt(_.i,f);else{var b=f.type,w=f.proxy;_.removeEventListener?_.removeEventListener(b,w,f.capture):_.detachEvent?_.detachEvent(xi(b),w):_.addListener&&_.removeListener&&_.removeListener(w),(b=sa(_))?(wt(b,f),b.h==0&&(b.src=null,_[Ft]=null)):dt(f)}}}function xi(f){return f in je?je[f]:je[f]="on"+f}function tu(f,_){if(f.da)f=!0;else{_=new Gt(_,this);const b=f.listener,w=f.ha||f.src;f.fa&&mo(f),f=b.call(w,_)}return f}function sa(f){return f=f[Ft],f instanceof pt?f:null}var eu="__closure_events_fn_"+(Math.random()*1e9>>>0);function nu(f){return typeof f=="function"?f:(f[eu]||(f[eu]=function(_){return f.handleEvent(_)}),f[eu])}function Re(){M.call(this),this.i=new pt(this),this.M=this,this.G=null}v(Re,M),Re.prototype[Xt]=!0,Re.prototype.removeEventListener=function(f,_,b,w){fo(this,f,_,b,w)};function Fe(f,_){var b,w=f.G;if(w)for(b=[];w;w=w.G)b.push(w);if(f=f.M,w=_.type||_,typeof _=="string")_=new V(_,f);else if(_ instanceof V)_.target=_.target||f;else{var q=_;_=new V(w,f),ft(_,q)}q=!0;let $,ct;if(b)for(ct=b.length-1;ct>=0;ct--)$=_.g=b[ct],q=qs($,w,!0,_)&&q;if($=_.g=f,q=qs($,w,!0,_)&&q,q=qs($,w,!1,_)&&q,b)for(ct=0;ct<b.length;ct++)$=_.g=b[ct],q=qs($,w,!1,_)&&q}Re.prototype.N=function(){if(Re.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const b=f.g[_];for(let w=0;w<b.length;w++)dt(b[w]);delete f.g[_],f.h--}}this.G=null},Re.prototype.J=function(f,_,b,w){return this.i.add(String(f),_,!1,b,w)},Re.prototype.K=function(f,_,b,w){return this.i.add(String(f),_,!0,b,w)};function qs(f,_,b,w){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let q=!0;for(let $=0;$<_.length;++$){const ct=_[$];if(ct&&!ct.da&&ct.capture==b){const xt=ct.listener,Se=ct.ha||ct.src;ct.fa&&wt(f.i,ct),q=xt.call(Se,w)!==!1&&q}}return q&&!w.defaultPrevented}function Ym(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(f,_||0)}function wh(f){f.g=Ym(()=>{f.g=null,f.i&&(f.i=!1,wh(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class gn extends M{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:wh(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ra(f){M.call(this),this.h=f,this.g={}}v(ra,M);var iu=[];function su(f){Dt(f.g,function(_,b){this.g.hasOwnProperty(b)&&mo(_)},f),f.g={}}ra.prototype.N=function(){ra.Z.N.call(this),su(this)},ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hs=u.JSON.stringify,Qm=u.JSON.parse,Ih=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function Rh(){}function xh(){}var li={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tn(){V.call(this,"d")}v(tn,V);function Hn(){V.call(this,"c")}v(Hn,V);var be={},Ch=null;function po(){return Ch=Ch||new Re}be.Ia="serverreachability";function Dh(f){V.call(this,be.Ia,f)}v(Dh,V);function Ci(f){const _=po();Fe(_,new Dh(_))}be.STAT_EVENT="statevent";function aa(f,_){V.call(this,be.STAT_EVENT,f),this.stat=_}v(aa,V);function xe(f){const _=po();Fe(_,new aa(_,f))}be.Ja="timingevent";function Di(f,_){V.call(this,be.Ja,f),this.size=_}v(Di,V);function Vi(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},_)}function ui(){this.g=!0}ui.prototype.ua=function(){this.g=!1};function $m(f,_,b,w,q,$){f.info(function(){if(f.g)if($){var ct="",xt=$.split("&");for(let Qt=0;Qt<xt.length;Qt++){var Se=xt[Qt].split("=");if(Se.length>1){const fe=Se[0];Se=Se[1];const Qn=fe.split("_");ct=Qn.length>=2&&Qn[1]=="type"?ct+(fe+"="+Se+"&"):ct+(fe+"=redacted&")}}}else ct=null;else ct=$;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+_+`
`+b+`
`+ct})}function Vh(f,_,b,w,q,$,ct){f.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+_+`
`+b+`
`+$+" "+ct})}function Mi(f,_,b,w){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+Xm(f,b)+(w?" "+w:"")})}function oa(f,_){f.info(function(){return"TIMEOUT: "+_})}ui.prototype.info=function(){};function Xm(f,_){if(!f.g)return _;if(!_)return null;try{const $=JSON.parse(_);if($){for(f=0;f<$.length;f++)if(Array.isArray($[f])){var b=$[f];if(!(b.length<2)){var w=b[1];if(Array.isArray(w)&&!(w.length<1)){var q=w[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ct=1;ct<w.length;ct++)w[ct]=""}}}}return Hs($)}catch{return _}}var la={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ru={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},au;function ua(){}v(ua,Rh),ua.prototype.g=function(){return new XMLHttpRequest},au=new ua;function os(f){return encodeURIComponent(String(f))}function Mh(f){var _=1;f=f.split(":");const b=[];for(;_>0&&f.length;)b.push(f.shift()),_--;return f.length&&b.push(f.join(":")),b}function ci(f,_,b,w){this.j=f,this.i=_,this.l=b,this.S=w||1,this.V=new ra(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hi}function hi(){this.i=null,this.g="",this.h=!1}var Ce={},$e={};function Ni(f,_,b){f.M=1,f.A=ca(Ve(_)),f.u=b,f.R=!0,go(f,null)}function go(f,_){f.F=Date.now(),Pi(f),f.B=Ve(f.A);var b=f.B,w=f.S;Array.isArray(w)||(w=[String(w)]),To(b.i,"t",w),f.C=0,b=f.j.L,f.h=new hi,f.g=Yh(f.j,b?_:null,!f.u),f.P>0&&(f.O=new gn(p(f.Y,f,f.g),f.P)),_=f.V,b=f.g,w=f.ba;var q="readystatechange";Array.isArray(q)||(q&&(iu[0]=q.toString()),q=iu);for(let $=0;$<q.length;$++){const ct=he(b,q[$],w||_.handleEvent,!1,_.h||_);if(!ct)break;_.g[ct.key]=ct}_=f.J?O(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),Ci(),$m(f.i,f.v,f.B,f.l,f.S,f.u)}ci.prototype.ba=function(f){f=f.target;const _=this.O;_&&mi(f)==3?_.j():this.Y(f)},ci.prototype.Y=function(f){try{if(f==this.g)t:{const xt=mi(this.g),Se=this.g.ya(),Qt=this.g.ca();if(!(xt<3)&&(xt!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||xt!=4||Se==7||(Se==8||Qt<=0?Ci(3):Ci(2)),Oi(this);var _=this.g.ca();this.X=_;var b=Wm(this);if(this.o=_==200,Vh(this.i,this.v,this.B,this.l,this.S,xt,_),this.o){if(this.U&&!this.L){e:{if(this.g){var w,q=this.g;if((w=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(w)){var $=w;break e}}$=null}if(f=$)Mi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ki(this,f);else{this.o=!1,this.m=3,xe(12),Dn(this),Gn(this);break t}}if(this.R){f=!0;let fe;for(;!this.K&&this.C<b.length;)if(fe=Ph(this,b),fe==$e){xt==4&&(this.m=4,xe(14),f=!1),Mi(this.i,this.l,null,"[Incomplete Response]");break}else if(fe==Ce){this.m=4,xe(15),Mi(this.i,this.l,b,"[Invalid Chunk]"),f=!1;break}else Mi(this.i,this.l,fe,null),ki(this,fe);if(Nh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||b.length!=0||this.h.h||(this.m=1,xe(16),f=!1),this.o=this.o&&f,!f)Mi(this.i,this.l,b,"[Invalid Chunked Response]"),Dn(this),Gn(this);else if(b.length>0&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.aa&&!ct.P&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Eu(ct),ct.P=!0,xe(11))}}else Mi(this.i,this.l,b,null),ki(this,b);xt==4&&Dn(this),this.o&&!this.K&&(xt==4?qh(this.j,this):(this.o=!1,Pi(this)))}else us(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,xe(12)):(this.m=0,xe(13)),Dn(this),Gn(this)}}}catch{}};function Wm(f){if(!Nh(f))return f.g.la();const _=en(f.g);if(_==="")return"";let b="";const w=_.length,q=mi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Dn(f),Gn(f),"";f.h.i=new u.TextDecoder}for(let $=0;$<w;$++)f.h.h=!0,b+=f.h.i.decode(_[$],{stream:!(q&&$==w-1)});return _.length=0,f.h.g+=b,f.C=0,f.h.g}function Nh(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Ph(f,_){var b=f.C,w=_.indexOf(`
`,b);return w==-1?$e:(b=Number(_.substring(b,w)),isNaN(b)?Ce:(w+=1,w+b>_.length?$e:(_=_.slice(w,w+b),f.C=w+b,_)))}ci.prototype.cancel=function(){this.K=!0,Dn(this)};function Pi(f){f.T=Date.now()+f.H,yo(f,f.H)}function yo(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Vi(p(f.aa,f),_)}function Oi(f){f.D&&(u.clearTimeout(f.D),f.D=null)}ci.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(oa(this.i,this.B),this.M!=2&&(Ci(),xe(17)),Dn(this),this.m=2,Gn(this)):yo(this,this.T-f)};function Gn(f){f.j.I==0||f.K||qh(f.j,f)}function Dn(f){Oi(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,su(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function ki(f,_){try{var b=f.j;if(b.I!=0&&(b.g==f||Ui(b.h,f))){if(!f.L&&Ui(b.h,f)&&b.I==3){try{var w=b.Ba.g.parse(_)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){t:if(!b.v){if(b.g)if(b.g.F+3e3<f.F)wo(b),Zs(b);else break t;ya(b),xe(18)}}else b.xa=q[1],0<b.xa-b.K&&q[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Vi(p(b.Va,b),6e3));Li(b.h)<=1&&b.ta&&(b.ta=void 0)}else Hi(b,11)}else if((f.L||b.g==f)&&wo(b),!C(_))for(q=b.Ba.g.parse(_),_=0;_<q.length;_++){let Qt=q[_];const fe=Qt[0];if(!(fe<=b.K))if(b.K=fe,Qt=Qt[1],b.I==2)if(Qt[0]=="c"){b.M=Qt[1],b.ba=Qt[2];const Qn=Qt[3];Qn!=null&&(b.ka=Qn,b.j.info("VER="+b.ka));const Gi=Qt[4];Gi!=null&&(b.za=Gi,b.j.info("SVER="+b.za));const pi=Qt[5];pi!=null&&typeof pi=="number"&&pi>0&&(w=1.5*pi,b.O=w,b.j.info("backChannelRequestTimeoutMs_="+w)),w=b;const gi=f.g;if(gi){const _a=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_a){var $=w.h;$.g||_a.indexOf("spdy")==-1&&_a.indexOf("quic")==-1&&_a.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(uu($,$.h),$.h=null))}if(w.G){const Io=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;Io&&(w.wa=Io,Wt(w.J,w.G,Io))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-f.F,b.j.info("Handshake RTT: "+b.T+"ms")),w=b;var ct=f;if(w.na=Kh(w,w.L?w.ba:null,w.W),ct.L){cu(w.h,ct);var xt=ct,Se=w.O;Se&&(xt.H=Se),xt.D&&(Oi(xt),Pi(xt)),w.g=ct}else jh(w);b.i.length>0&&qi(b)}else Qt[0]!="stop"&&Qt[0]!="close"||Hi(b,7);else b.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Hi(b,7):vu(b):Qt[0]!="noop"&&b.l&&b.l.qa(Qt),b.A=0)}}Ci(4)}catch{}}var De=class{constructor(f,_){this.g=f,this.map=_}};function ou(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function lu(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Li(f){return f.h?1:f.g?f.g.size:0}function Ui(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function uu(f,_){f.g?f.g.add(_):f.h=_}function cu(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}ou.prototype.cancel=function(){if(this.i=hu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function hu(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const b of f.g.values())_=_.concat(b.G);return _}return I(f.i)}var Oh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _o(f,_){if(f){f=f.split("&");for(let b=0;b<f.length;b++){const w=f[b].indexOf("=");let q,$=null;w>=0?(q=f[b].substring(0,w),$=f[b].substring(w+1)):q=f[b],_(q,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Vn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof Vn?(this.l=f.l,Xe(this,f.j),this.o=f.o,this.g=f.g,Gs(this,f.u),this.h=f.h,fu(this,Bh(f.i)),this.m=f.m):f&&(_=String(f).match(Oh))?(this.l=!1,Xe(this,_[1]||"",!0),this.o=Bi(_[2]||""),this.g=Bi(_[3]||"",!0),Gs(this,_[4]),this.h=Bi(_[5]||"",!0),fu(this,_[6]||"",!0),this.m=Bi(_[7]||"")):(this.l=!1,this.i=new Ys(null,this.l))}Vn.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(ha(_,vo,!0),":");var b=this.g;return(b||_=="file")&&(f.push("//"),(_=this.o)&&f.push(ha(_,vo,!0),"@"),f.push(os(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&f.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(ha(b,b.charAt(0)=="/"?du:kh,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",ha(b,Lh)),f.join("")},Vn.prototype.resolve=function(f){const _=Ve(this);let b=!!f.j;b?Xe(_,f.j):b=!!f.o,b?_.o=f.o:b=!!f.g,b?_.g=f.g:b=f.u!=null;var w=f.h;if(b)Gs(_,f.u);else if(b=!!f.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var q=_.h.lastIndexOf("/");q!=-1&&(w=_.h.slice(0,q+1)+w)}if(q=w,q==".."||q==".")w="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){w=q.lastIndexOf("/",0)==0,q=q.split("/");const $=[];for(let ct=0;ct<q.length;){const xt=q[ct++];xt=="."?w&&ct==q.length&&$.push(""):xt==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),w&&ct==q.length&&$.push("")):($.push(xt),w=!0)}w=$.join("/")}else w=q}return b?_.h=w:b=f.i.toString()!=="",b?fu(_,Bh(f.i)):b=!!f.m,b&&(_.m=f.m),_};function Ve(f){return new Vn(f)}function Xe(f,_,b){f.j=b?Bi(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Gs(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function fu(f,_,b){_ instanceof Ys?(f.i=_,Eo(f.i,f.l)):(b||(_=ha(_,Ks)),f.i=new Ys(_,f.l))}function Wt(f,_,b){f.i.set(_,b)}function ca(f){return Wt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Bi(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ha(f,_,b){return typeof f=="string"?(f=encodeURI(f).replace(_,bn),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function bn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var vo=/[#\/\?@]/g,kh=/[#\?:]/g,du=/[#\?]/g,Ks=/[#\?@]/g,Lh=/#/g;function Ys(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Sn(f){f.g||(f.g=new Map,f.h=0,f.i&&_o(f.i,function(_,b){f.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}n=Ys.prototype,n.add=function(f,_){Sn(this),this.i=null,f=Qs(this,f);let b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(_),this.h+=1,this};function Uh(f,_){Sn(f),_=Qs(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function mu(f,_){return Sn(f),_=Qs(f,_),f.g.has(_)}n.forEach=function(f,_){Sn(this),this.g.forEach(function(b,w){b.forEach(function(q){f.call(_,q,w,this)},this)},this)};function pu(f,_){Sn(f);let b=[];if(typeof _=="string")mu(f,_)&&(b=b.concat(f.g.get(Qs(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)b=b.concat(f[_]);return b}n.set=function(f,_){return Sn(this),this.i=null,f=Qs(this,f),mu(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},n.get=function(f,_){return f?(f=pu(this,f),f.length>0?String(f[0]):_):_};function To(f,_,b){Uh(f,_),b.length>0&&(f.i=null,f.g.set(Qs(f,_),I(b)),f.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let w=0;w<_.length;w++){var b=_[w];const q=os(b);b=pu(this,b);for(let $=0;$<b.length;$++){let ct=q;b[$]!==""&&(ct+="="+os(b[$])),f.push(ct)}}return this.i=f.join("&")};function Bh(f){const _=new Ys;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function Qs(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function Eo(f,_){_&&!f.j&&(Sn(f),f.i=null,f.g.forEach(function(b,w){const q=w.toLowerCase();w!=q&&(Uh(this,w),To(this,q,b))},f)),f.j=_}function fi(f,_){const b=new ui;if(u.Image){const w=new Image;w.onload=y(Kn,b,"TestLoadImage: loaded",!0,_,w),w.onerror=y(Kn,b,"TestLoadImage: error",!1,_,w),w.onabort=y(Kn,b,"TestLoadImage: abort",!1,_,w),w.ontimeout=y(Kn,b,"TestLoadImage: timeout",!1,_,w),u.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=f}else _(!1)}function gu(f,_){const b=new ui,w=new AbortController,q=setTimeout(()=>{w.abort(),Kn(b,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:w.signal}).then($=>{clearTimeout(q),$.ok?Kn(b,"TestPingServer: ok",!0,_):Kn(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),Kn(b,"TestPingServer: error",!1,_)})}function Kn(f,_,b,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(b)}catch{}}function $s(){this.g=new Ih}function zi(f){this.i=f.Sb||null,this.h=f.ab||!1}v(zi,Rh),zi.prototype.g=function(){return new fa(this.i,this.h)};function fa(f,_){Re.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(fa,Re),n=fa.prototype,n.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,di(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xs(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function bo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Xs(this):di(this),this.readyState==3&&bo(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,Xs(this))},n.Na=function(f){this.g&&(this.response=f,Xs(this))},n.ga=function(){this.g&&Xs(this)};function Xs(f){f.readyState=4,f.l=null,f.j=null,f.B=null,di(f)}n.setRequestHeader=function(f,_){this.A.append(f,_)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=_.next();return f.join(`\r
`)};function di(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Yn(f){let _="";return Dt(f,function(b,w){_+=w,_+=":",_+=b,_+=`\r
`}),_}function da(f,_,b){t:{for(w in b){var w=!1;break t}w=!0}w||(b=Yn(b),typeof f=="string"?b!=null&&os(b):Wt(f,_,b))}function ie(f){Re.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(ie,Re);var ji=/^https?$/i,yu=["POST","PUT"];n=ie.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,_,b,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():au.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch($){ma(this,$);return}if(f=b||"",b=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)b.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())b.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(b.keys()).find($=>$.toLowerCase()=="content-type"),q=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(yu,_,void 0)>=0)||w||q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ct]of b)this.g.setRequestHeader($,ct);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch($){ma(this,$)}};function ma(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,_u(f),ls(f)}function _u(f){f.A||(f.A=!0,Fe(f,"complete"),Fe(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Fe(this,"complete"),Fe(this,"abort"),ls(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ls(this,!0)),ie.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?pa(this):this.Xa())},n.Xa=function(){pa(this)};function pa(f){if(f.h&&typeof l<"u"){if(f.v&&mi(f)==4)setTimeout(f.Ca.bind(f),0);else if(Fe(f,"readystatechange"),mi(f)==4){f.h=!1;try{const $=f.ca();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var b;if(!(b=_)){var w;if(w=$===0){let ct=String(f.D).match(Oh)[1]||null;!ct&&u.self&&u.self.location&&(ct=u.self.location.protocol.slice(0,-1)),w=!ji.test(ct?ct.toLowerCase():"")}b=w}if(b)Fe(f,"complete"),Fe(f,"success");else{f.o=6;try{var q=mi(f)>2?f.g.statusText:""}catch{q=""}f.l=q+" ["+f.ca()+"]",_u(f)}}finally{ls(f)}}}}function ls(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const b=f.g;f.g=null,_||Fe(f,"ready");try{b.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function mi(f){return f.g?f.g.readyState:0}n.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Qm(_)}};function en(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function us(f){const _={};f=(f.g&&mi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<f.length;w++){if(C(f[w]))continue;var b=Mh(f[w]);const q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const $=_[q]||[];_[q]=$,$.push(b)}kt(_,function(w){return w.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fi(f,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||_}function Ws(f){this.za=0,this.i=[],this.j=new ui,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fi("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fi("baseRetryDelayMs",5e3,f),this.Za=Fi("retryDelaySeedMs",1e4,f),this.Ta=Fi("forwardChannelMaxRetries",2,f),this.va=Fi("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new ou(f&&f.concurrentRequestLimit),this.Ba=new $s,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ws.prototype,n.ka=8,n.I=1,n.connect=function(f,_,b,w){xe(0),this.W=f,this.H=_||{},b&&w!==void 0&&(this.H.OSID=b,this.H.OAID=w),this.F=this.X,this.J=Kh(this,null,this.W),qi(this)};function vu(f){if(So(f),f.I==3){var _=f.V++,b=Ve(f.J);if(Wt(b,"SID",f.M),Wt(b,"RID",_),Wt(b,"TYPE","terminate"),ga(f,b),_=new ci(f,f.j,_),_.M=2,_.A=ca(Ve(b)),b=!1,u.navigator&&u.navigator.sendBeacon)try{b=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&u.Image&&(new Image().src=_.A,b=!0),b||(_.g=Yh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Pi(_)}Gh(f)}function Zs(f){f.g&&(Eu(f),f.g.cancel(),f.g=null)}function So(f){Zs(f),f.v&&(u.clearTimeout(f.v),f.v=null),wo(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function qi(f){if(!lu(f.h)&&!f.m){f.m=!0;var _=f.Ea;rt||A(),at||(rt(),at=!0),R.add(_,f),f.D=0}}function Ao(f,_){return Li(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Vi(p(f.Ea,f,_),Hh(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const q=new ci(this,this.j,f);let $=this.o;if(this.U&&($?($=O($),ft($,this.U)):$=this.U),this.u!==null||this.R||(q.J=$,$=null),this.S)t:{for(var _=0,b=0;b<this.i.length;b++){e:{var w=this.i[b];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(_+=w,_>4096){_=b;break t}if(_===4096||b===this.i.length-1){_=b+1;break t}}_=1e3}else _=1e3;_=zh(this,q,_),b=Ve(this.J),Wt(b,"RID",f),Wt(b,"CVER",22),this.G&&Wt(b,"X-HTTP-Session-Id",this.G),ga(this,b),$&&(this.R?_="headers="+os(Yn($))+"&"+_:this.u&&da(b,this.u,$)),uu(this.h,q),this.Ra&&Wt(b,"TYPE","init"),this.S?(Wt(b,"$req",_),Wt(b,"SID","null"),q.U=!0,Ni(q,b,null)):Ni(q,b,_),this.I=2}}else this.I==3&&(f?Tu(this,f):this.i.length==0||lu(this.h)||Tu(this))};function Tu(f,_){var b;_?b=_.l:b=f.V++;const w=Ve(f.J);Wt(w,"SID",f.M),Wt(w,"RID",b),Wt(w,"AID",f.K),ga(f,w),f.u&&f.o&&da(w,f.u,f.o),b=new ci(f,f.j,b,f.D+1),f.u===null&&(b.J=f.o),_&&(f.i=_.G.concat(f.i)),_=zh(f,b,1e3),b.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),uu(f.h,b),Ni(b,w,_)}function ga(f,_){f.H&&Dt(f.H,function(b,w){Wt(_,w,b)}),f.l&&Dt({},function(b,w){Wt(_,w,b)})}function zh(f,_,b){b=Math.min(f.i.length,b);const w=f.l?p(f.l.Ka,f.l,f):null;t:{var q=f.i;let xt=-1;for(;;){const Se=["count="+b];xt==-1?b>0?(xt=q[0].g,Se.push("ofs="+xt)):xt=0:Se.push("ofs="+xt);let Qt=!0;for(let fe=0;fe<b;fe++){var $=q[fe].g;const Qn=q[fe].map;if($-=xt,$<0)xt=Math.max(0,q[fe].g-100),Qt=!1;else try{$="req"+$+"_"||"";try{var ct=Qn instanceof Map?Qn:Object.entries(Qn);for(const[Gi,pi]of ct){let gi=pi;h(pi)&&(gi=Hs(pi)),Se.push($+Gi+"="+encodeURIComponent(gi))}}catch(Gi){throw Se.push($+"type="+encodeURIComponent("_badmap")),Gi}}catch{w&&w(Qn)}}if(Qt){ct=Se.join("&");break t}}ct=void 0}return f=f.i.splice(0,b),_.G=f,ct}function jh(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;rt||A(),at||(rt(),at=!0),R.add(_,f),f.A=0}}function ya(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Vi(p(f.Da,f),Hh(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,Fh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Vi(p(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xe(10),Zs(this),Fh(this))};function Eu(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function Fh(f){f.g=new ci(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=Ve(f.na);Wt(_,"RID","rpc"),Wt(_,"SID",f.M),Wt(_,"AID",f.K),Wt(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&Wt(_,"TO",f.ia),Wt(_,"TYPE","xmlhttp"),ga(f,_),f.u&&f.o&&da(_,f.u,f.o),f.O&&(f.g.H=f.O);var b=f.g;f=f.ba,b.M=1,b.A=ca(Ve(_)),b.u=null,b.R=!0,go(b,f)}n.Va=function(){this.C!=null&&(this.C=null,Zs(this),ya(this),xe(19))};function wo(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function qh(f,_){var b=null;if(f.g==_){wo(f),Eu(f),f.g=null;var w=2}else if(Ui(f.h,_))b=_.G,cu(f.h,_),w=1;else return;if(f.I!=0){if(_.o)if(w==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var q=f.D;w=po(),Fe(w,new Di(w,b)),qi(f)}else jh(f);else if(q=_.m,q==3||q==0&&_.X>0||!(w==1&&Ao(f,_)||w==2&&ya(f)))switch(b&&b.length>0&&(_=f.h,_.i=_.i.concat(b)),q){case 1:Hi(f,5);break;case 4:Hi(f,10);break;case 3:Hi(f,6);break;default:Hi(f,2)}}}function Hh(f,_){let b=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(b*=2),b*_}function Hi(f,_){if(f.j.info("Error code "+_),_==2){var b=p(f.bb,f),w=f.Ua;const q=!w;w=new Vn(w||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Xe(w,"https"),ca(w),q?fi(w.toString(),b):gu(w.toString(),b)}else xe(2);f.I=0,f.l&&f.l.pa(_),Gh(f),So(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))};function Gh(f){if(f.I=0,f.ja=[],f.l){const _=hu(f.h);(_.length!=0||f.i.length!=0)&&(N(f.ja,_),N(f.ja,f.i),f.h.i.length=0,I(f.i),f.i.length=0),f.l.oa()}}function Kh(f,_,b){var w=b instanceof Vn?Ve(b):new Vn(b);if(w.g!="")_&&(w.g=_+"."+w.g),Gs(w,w.u);else{var q=u.location;w=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;const $=new Vn(null);w&&Xe($,w),_&&($.g=_),q&&Gs($,q),b&&($.h=b),w=$}return b=f.G,_=f.wa,b&&_&&Wt(w,b,_),Wt(w,"VER",f.ka),ga(f,w),w}function Yh(f,_,b){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new ie(new zi({ab:b})):new ie(f.ma),_.Fa(f.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qh(){}n=Qh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Js(){}Js.prototype.g=function(f,_){return new yn(f,_)};function yn(f,_){Re.call(this),this.g=new Ws(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!C(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!C(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new cs(this)}v(yn,Re),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){vu(this.g)},yn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.v&&(b={},b.__data__=Hs(f),f=b);_.i.push(new De(_.Ya++,f)),_.I==3&&qi(_)},yn.prototype.N=function(){this.g.l=null,delete this.j,vu(this.g),delete this.g,yn.Z.N.call(this)};function $h(f){tn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){t:{for(const b in _){f=b;break t}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v($h,tn);function Xh(){Hn.call(this),this.status=1}v(Xh,Hn);function cs(f){this.g=f}v(cs,Qh),cs.prototype.ra=function(){Fe(this.g,"a")},cs.prototype.qa=function(f){Fe(this.g,new $h(f))},cs.prototype.pa=function(f){Fe(this.g,new Xh)},cs.prototype.oa=function(){Fe(this.g,"b")},Js.prototype.createWebChannel=Js.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,pI=function(){return new Js},mI=function(){return po()},dI=be,Oy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},la.NO_ERROR=0,la.TIMEOUT=8,la.HTTP_ERROR=6,_d=la,ru.COMPLETE="complete",fI=ru,xh.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",Re.prototype.listen=Re.prototype.J,dc=xh,ie.prototype.listenOnce=ie.prototype.K,ie.prototype.getLastError=ie.prototype.Ha,ie.prototype.getLastErrorCode=ie.prototype.ya,ie.prototype.getStatus=ie.prototype.ca,ie.prototype.getResponseJson=ie.prototype.La,ie.prototype.getResponseText=ie.prototype.la,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Fa,hI=ie}).apply(typeof nd<"u"?nd:typeof self<"u"?self:typeof window<"u"?window:{});class ln{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let Kl="12.8.0";function KP(n){Kl=n}const eo=new N_("@firebase/firestore");function ll(){return eo.logLevel}function lt(n,...t){if(eo.logLevel<=Bt.DEBUG){const e=t.map(q_);eo.debug(`Firestore (${Kl}): ${n}`,...e)}}function vn(n,...t){if(eo.logLevel<=Bt.ERROR){const e=t.map(q_);eo.error(`Firestore (${Kl}): ${n}`,...e)}}function no(n,...t){if(eo.logLevel<=Bt.WARN){const e=t.map(q_);eo.warn(`Firestore (${Kl}): ${n}`,...e)}}function q_(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function mt(n,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,gI(n,s,e)}function gI(n,t,e){let s=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw vn(s),new Error(s)}function _t(n,t,e,s){let a="Unexpected state";typeof e=="string"?a=e:s=e,n||gI(t,a,s)}function At(n,t){return n}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends zs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wi{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class yI{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class YP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(ln.UNAUTHENTICATED)))}shutdown(){}}class QP{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class $P{constructor(t){this.t=t,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){_t(this.o===void 0,42304);let s=this.i;const a=d=>this.i!==s?(s=this.i,e(d)):Promise.resolve();let l=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new wi,t.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const d=l;t.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new wi)}}),0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((s=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(_t(typeof s.accessToken=="string",31837,{l:s}),new yI(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return _t(t===null||typeof t=="string",2055,{h:t}),new ln(t)}}class XP{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class WP{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new XP(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class IS{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZP{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Si(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){_t(this.o===void 0,3512);const s=l=>{l.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,lt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const a=l=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new IS(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(_t(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new IS(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function JP(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<n;s++)e[s]=Math.floor(256*Math.random());return e}class H_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=JP(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<e&&(s+=t.charAt(a[l]%62))}return s}}function It(n,t){return n<t?-1:n>t?1:0}function ky(n,t){const e=Math.min(n.length,t.length);for(let s=0;s<e;s++){const a=n.charAt(s),l=t.charAt(s);if(a!==l)return sy(a)===sy(l)?It(a,l):sy(a)?1:-1}return It(n.length,t.length)}const tO=55296,eO=57343;function sy(n){const t=n.charCodeAt(0);return t>=tO&&t<=eO}function Il(n,t,e){return n.length===t.length&&n.every(((s,a)=>e(s,t[a])))}function _I(n){return n+"\0"}const RS="__name__";class Xi{constructor(t,e,s){e===void 0?e=0:e>t.length&&mt(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&mt(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return Xi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Xi?t.forEach((s=>{e.push(s)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let a=0;a<s;a++){const l=Xi.compareSegments(t.get(a),e.get(a));if(l!==0)return l}return It(t.length,e.length)}static compareSegments(t,e){const s=Xi.isNumericId(t),a=Xi.isNumericId(e);return s&&!a?-1:!s&&a?1:s&&a?Xi.extractNumericId(t).compare(Xi.extractNumericId(e)):ky(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return zr.fromString(t.substring(4,t.length-2))}}class Ht extends Xi{construct(t,e,s){return new Ht(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new ut(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter((a=>a.length>0)))}return new Ht(e)}static emptyPath(){return new Ht([])}}const nO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ye extends Xi{construct(t,e,s){return new ye(t,e,s)}static isValidIdentifier(t){return nO.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===RS}static keyField(){return new ye([RS])}static fromServerFormat(t){const e=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let u=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new ut(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ut(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(s+=h,a++):(l(),a++)}if(l(),u)throw new ut(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ye(e)}static emptyPath(){return new ye([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(Ht.fromString(t))}static fromName(t){return new ht(Ht.fromString(t).popFirst(5))}static empty(){return new ht(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ht.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Ht.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new Ht(t.slice()))}}function vI(n,t,e){if(!e)throw new ut(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function iO(n,t,e,s){if(t===!0&&s===!0)throw new ut(Z.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function xS(n){if(!ht.isDocumentKey(n))throw new ut(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function CS(n){if(ht.isDocumentKey(n))throw new ut(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function TI(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function vm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":mt(12329,{type:typeof n})}function Ii(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ut(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=vm(n);throw new ut(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Be(n,t){const e={typeString:n};return t&&(e.value=t),e}function lh(n,t){if(!TI(n))throw new ut(Z.INVALID_ARGUMENT,"JSON must be an object");let e;for(const s in t)if(t[s]){const a=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in n)){e=`JSON missing required field: '${s}'`;break}const u=n[s];if(a&&typeof u!==a){e=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){e=`Expected '${s}' field to equal '${l.value}'`;break}}if(e)throw new ut(Z.INVALID_ARGUMENT,e);return!0}const DS=-62135596800,VS=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(t){return te.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*VS);return new te(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<DS)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/VS}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(lh(t,te._jsonSchema))return new te(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-DS;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:Be("string",te._jsonSchemaVersion),seconds:Be("number"),nanoseconds:Be("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new te(0,0))}static max(){return new Tt(new te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const kc=-1;class qd{constructor(t,e,s,a){this.indexId=t,this.collectionGroup=e,this.fields=s,this.indexState=a}}function Ly(n){return n.fields.find((t=>t.kind===2))}function Ua(n){return n.fields.filter((t=>t.kind!==2))}qd.UNKNOWN_ID=-1;class vd{constructor(t,e){this.fieldPath=t,this.kind=e}}class Lc{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Lc(0,qn.min())}}function sO(n,t){const e=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=Tt.fromTimestamp(s===1e9?new te(e+1,0):new te(e,s));return new qn(a,ht.empty(),t)}function EI(n){return new qn(n.readTime,n.key,kc)}class qn{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new qn(Tt.min(),ht.empty(),kc)}static max(){return new qn(Tt.max(),ht.empty(),kc)}}function G_(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=ht.comparator(n.documentKey,t.documentKey),e!==0?e:It(n.largestBatchId,t.largestBatchId))}const bI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function uo(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==bI)throw n;lt("LocalStore","Unexpectedly lost primary lease")}class F{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new F(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(s,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof F?e:F.resolve(e)}catch(e){return F.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):F.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):F.reject(e)}static resolve(t){return new F(((e,s)=>{e(t)}))}static reject(t){return new F(((e,s)=>{s(t)}))}static waitFor(t){return new F(((e,s)=>{let a=0,l=0,u=!1;t.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&e()}),(d=>s(d)))})),u=!0,l===a&&e()}))}static or(t){let e=F.resolve(!1);for(const s of t)e=e.next((a=>a?F.resolve(a):s()));return e}static forEach(t,e){const s=[];return t.forEach(((a,l)=>{s.push(e.call(this,a,l))})),this.waitFor(s)}static mapArray(t,e){return new F(((s,a)=>{const l=t.length,u=new Array(l);let h=0;for(let d=0;d<l;d++){const p=d;e(t[p]).next((y=>{u[p]=y,++h,h===l&&s(u)}),(y=>a(y)))}}))}static doWhile(t,e){return new F(((s,a)=>{const l=()=>{t()===!0?e().next((()=>{l()}),a):s()};l()}))}}const Bn="SimpleDb";class Tm{static open(t,e,s,a){try{return new Tm(e,t.transaction(a,s))}catch(l){throw new Ec(e,l)}}constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.S=new wi,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{e.error?this.S.reject(new Ec(t,e.error)):this.S.resolve()},this.transaction.onerror=s=>{const a=K_(s.target.error);this.S.reject(new Ec(t,a))}}get D(){return this.S.promise}abort(t){t&&this.S.reject(t),this.aborted||(lt(Bn,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const e=this.transaction.objectStore(t);return new aO(e)}}class jr{static delete(t){return lt(Bn,"Removing database:",t),ja(gw().indexedDB.deleteDatabase(t)).toPromise()}static v(){if(!ww())return!1;if(jr.F())return!0;const t=Ke(),e=jr.M(t),s=0<e&&e<10,a=AI(t),l=0<a&&a<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||s||l)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(t,e){return t.store(e)}static M(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(s)}constructor(t,e,s){this.name=t,this.version=e,this.N=s,this.B=null,jr.M(Ke())===12.2&&vn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(t){return this.db||(lt(Bn,"Opening database:",this.name),this.db=await new Promise(((e,s)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=l=>{const u=l.target.result;e(u)},a.onblocked=()=>{s(new Ec(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const u=l.target.error;u.name==="VersionError"?s(new ut(Z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?s(new ut(Z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):s(new Ec(t,u))},a.onupgradeneeded=l=>{lt(Bn,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const u=l.target.result;this.N.k(u,a.transaction,l.oldVersion,this.version).next((()=>{lt(Bn,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=e=>this.K(e)),this.db}q(t){this.K=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,s,a){const l=e==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(t);const h=Tm.open(this.db,t,l?"readonly":"readwrite",s),d=a(h).next((p=>(h.C(),p))).catch((p=>(h.abort(p),F.reject(p)))).toPromise();return d.catch((()=>{})),await h.D,d}catch(h){const d=h,p=d.name!=="FirebaseError"&&u<3;if(lt(Bn,"Transaction failed with error:",d.message,"Retrying:",p),this.close(),!p)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function AI(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}class rO{constructor(t){this.U=t,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(t){this.U=t}done(){this.$=!0}j(t){this.W=t}delete(){return ja(this.U.delete())}}class Ec extends ut{constructor(t,e){super(Z.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Zr(n){return n.name==="IndexedDbTransactionError"}class aO{constructor(t){this.store=t}put(t,e){let s;return e!==void 0?(lt(Bn,"PUT",this.store.name,t,e),s=this.store.put(e,t)):(lt(Bn,"PUT",this.store.name,"<auto-key>",t),s=this.store.put(t)),ja(s)}add(t){return lt(Bn,"ADD",this.store.name,t,t),ja(this.store.add(t))}get(t){return ja(this.store.get(t)).next((e=>(e===void 0&&(e=null),lt(Bn,"GET",this.store.name,t,e),e)))}delete(t){return lt(Bn,"DELETE",this.store.name,t),ja(this.store.delete(t))}count(){return lt(Bn,"COUNT",this.store.name),ja(this.store.count())}H(t,e){const s=this.options(t,e),a=s.index?this.store.index(s.index):this.store;if(typeof a.getAll=="function"){const l=a.getAll(s.range);return new F(((u,h)=>{l.onerror=d=>{h(d.target.error)},l.onsuccess=d=>{u(d.target.result)}}))}{const l=this.cursor(s),u=[];return this.J(l,((h,d)=>{u.push(d)})).next((()=>u))}}Z(t,e){const s=this.store.getAll(t,e===null?void 0:e);return new F(((a,l)=>{s.onerror=u=>{l(u.target.error)},s.onsuccess=u=>{a(u.target.result)}}))}X(t,e){lt(Bn,"DELETE ALL",this.store.name);const s=this.options(t,e);s.Y=!1;const a=this.cursor(s);return this.J(a,((l,u,h)=>h.delete()))}ee(t,e){let s;e?s=t:(s={},e=t);const a=this.cursor(s);return this.J(a,e)}te(t){const e=this.cursor({});return new F(((s,a)=>{e.onerror=l=>{const u=K_(l.target.error);a(u)},e.onsuccess=l=>{const u=l.target.result;u?t(u.primaryKey,u.value).next((h=>{h?u.continue():s()})):s()}}))}J(t,e){const s=[];return new F(((a,l)=>{t.onerror=u=>{l(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void a();const d=new rO(h),p=e(h.primaryKey,h.value,d);if(p instanceof F){const y=p.catch((v=>(d.done(),F.reject(v))));s.push(y)}d.isDone?a():d.G===null?h.continue():h.continue(d.G)}})).next((()=>F.waitFor(s)))}options(t,e){let s;return t!==void 0&&(typeof t=="string"?s=t:e=t),{index:s,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const s=this.store.index(t.index);return t.Y?s.openKeyCursor(t.range,e):s.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function ja(n){return new F(((t,e)=>{n.onsuccess=s=>{const a=s.target.result;t(a)},n.onerror=s=>{const a=K_(s.target.error);e(a)}}))}let MS=!1;function K_(n){const t=jr.M(Ke());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const s=new ut("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return MS||(MS=!0,setTimeout((()=>{throw s}),0)),s}}return n}const bc="IndexBackfiller";class oO{constructor(t,e){this.asyncQueue=t,this.ne=e,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(t){lt(bc,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(async()=>{this.task=null;try{const e=await this.ne.ie();lt(bc,`Documents written: ${e}`)}catch(e){Zr(e)?lt(bc,"Ignoring IndexedDB error during index backfill: ",e):await uo(e)}await this.re(6e4)}))}}class lO{constructor(t,e){this.localStore=t,this.persistence=e}async ie(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(e=>this.se(e,t)))}se(t,e){const s=new Set;let a=e,l=!0;return F.doWhile((()=>l===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next((u=>{if(u!==null&&!s.has(u))return lt(bc,`Processing collection: ${u}`),this.oe(t,u,a).next((h=>{a-=h,s.add(u)}));l=!1})))).next((()=>e-a))}oe(t,e,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next((a=>this.localStore.localDocuments.getNextDocuments(t,e,a,s).next((l=>{const u=l.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next((()=>this._e(a,l))).next((h=>(lt(bc,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h)))).next((()=>u.size))}))))}_e(t,e){let s=t;return e.changes.forEach(((a,l)=>{const u=EI(l);G_(u,s)>0&&(s=u)})),new qn(s.readTime,s.documentKey,Math.max(e.batchId,t.largestBatchId))}}class si{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>e.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}si.ce=-1;const Qa=-1;function uh(n){return n==null}function Uc(n){return n===0&&1/n==-1/0}function uO(n){return typeof n=="number"&&Number.isInteger(n)&&!Uc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Hd="";function pn(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=NS(t)),t=cO(n.get(e),t);return NS(t)}function cO(n,t){let e=t;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":e+="";break;case Hd:e+="";break;default:e+=l}}return e}function NS(n){return n+Hd+""}function Zi(n){const t=n.length;if(_t(t>=2,64408,{path:n}),t===2)return _t(n.charAt(0)===Hd&&n.charAt(1)==="",56145,{path:n}),Ht.emptyPath();const e=t-2,s=[];let a="";for(let l=0;l<t;){const u=n.indexOf(Hd,l);switch((u<0||u>e)&&mt(50515,{path:n}),n.charAt(u+1)){case"":const h=n.substring(l,u);let d;a.length===0?d=h:(a+=h,d=a,a=""),s.push(d);break;case"":a+=n.substring(l,u),a+="\0";break;case"":a+=n.substring(l,u+1);break;default:mt(61167,{path:n})}l=u+2}return new Ht(s)}const Ba="remoteDocuments",ch="owner",nl="owner",Bc="mutationQueues",hO="userId",bi="mutations",PS="batchId",Ga="userMutationsIndex",OS=["userId","batchId"];function Td(n,t){return[n,pn(t)]}function wI(n,t,e){return[n,pn(t),e]}const fO={},Rl="documentMutations",Gd="remoteDocumentsV14",dO=["prefixPath","collectionGroup","readTime","documentId"],Ed="documentKeyIndex",mO=["prefixPath","collectionGroup","documentId"],II="collectionGroupIndex",pO=["collectionGroup","readTime","prefixPath","documentId"],zc="remoteDocumentGlobal",Uy="remoteDocumentGlobalKey",xl="targets",RI="queryTargetsIndex",gO=["canonicalId","targetId"],Cl="targetDocuments",yO=["targetId","path"],Y_="documentTargetsIndex",_O=["path","targetId"],Kd="targetGlobalKey",$a="targetGlobal",jc="collectionParents",vO=["collectionId","parent"],Dl="clientMetadata",TO="clientId",Em="bundles",EO="bundleId",bm="namedQueries",bO="name",Q_="indexConfiguration",SO="indexId",By="collectionGroupIndex",AO="collectionGroup",Sc="indexState",wO=["indexId","uid"],xI="sequenceNumberIndex",IO=["uid","sequenceNumber"],Ac="indexEntries",RO=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],CI="documentKeyIndex",xO=["indexId","uid","orderedDocumentKey"],Sm="documentOverlays",CO=["userId","collectionPath","documentId"],zy="collectionPathOverlayIndex",DO=["userId","collectionPath","largestBatchId"],DI="collectionGroupOverlayIndex",VO=["userId","collectionGroup","largestBatchId"],$_="globals",MO="name",VI=[Bc,bi,Rl,Ba,xl,ch,$a,Cl,Dl,zc,jc,Em,bm],NO=[...VI,Sm],MI=[Bc,bi,Rl,Gd,xl,ch,$a,Cl,Dl,zc,jc,Em,bm,Sm],NI=MI,X_=[...NI,Q_,Sc,Ac],PO=X_,PI=[...X_,$_],OO=PI;class jy extends SI{constructor(t,e){super(),this.le=t,this.currentSequenceNumber=e}}function Qe(n,t){const e=At(n);return jr.O(e.le,t)}function kS(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Jr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function OI(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ge{constructor(t,e){this.comparator=t,this.root=e||un.EMPTY}insert(t,e){return new ge(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,un.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,un.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return e+s.left.size;a<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,s)=>(t(e,s),!1)))}toString(){const t=[];return this.inorderTraversal(((e,s)=>(t.push(`${e}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new id(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new id(this.root,t,this.comparator,!1)}getReverseIterator(){return new id(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new id(this.root,t,this.comparator,!0)}}class id{constructor(t,e,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?s(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class un{constructor(t,e,s,a,l){this.key=t,this.value=e,this.color=s??un.RED,this.left=a??un.EMPTY,this.right=l??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,a,l){return new un(t??this.key,e??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,s),null):l===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return un.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,e,s,a,l){return this}insert(t,e,s){return new un(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ne{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,s)=>(t(e),!1)))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new LS(this.data.getIterator())}getIteratorFrom(t){return new LS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((s=>{e=e.add(s)})),e}isEqual(t){if(!(t instanceof ne)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new ne(this.comparator);return e.data=t,e}}class LS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function il(n){return n.hasNext()?n.getNext():void 0}class Cn{constructor(t){this.fields=t,t.sort(ye.comparator)}static empty(){return new Cn([])}unionWith(t){let e=new ne(ye.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new Cn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Il(this.fields,t.fields,((e,s)=>e.isEqual(s)))}}class kI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ze{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new kI("Invalid base64 string: "+l):l}})(t);return new ze(e)}static fromUint8Array(t){const e=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(t);return new ze(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const s=new Uint8Array(e.length);for(let a=0;a<e.length;a++)s[a]=e.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ze.EMPTY_BYTE_STRING=new ze("");const kO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ks(n){if(_t(!!n,39018),typeof n=="string"){let t=0;const e=kO.exec(n);if(_t(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:me(n.seconds),nanos:me(n.nanos)}}function me(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ls(n){return typeof n=="string"?ze.fromBase64String(n):ze.fromUint8Array(n)}const LI="server_timestamp",UI="__type__",BI="__previous_value__",zI="__local_write_time__";function W_(n){return(n?.mapValue?.fields||{})[UI]?.stringValue===LI}function Am(n){const t=n.mapValue.fields[BI];return W_(t)?Am(t):t}function Fc(n){const t=ks(n.mapValue.fields[zI].timestampValue);return new te(t.seconds,t.nanos)}class LO{constructor(t,e,s,a,l,u,h,d,p,y,v){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=v}}const Yd="(default)";class io{constructor(t,e){this.projectId=t,this.database=e||Yd}static empty(){return new io("","")}get isDefaultDatabase(){return this.database===Yd}isEqual(t){return t instanceof io&&t.projectId===this.projectId&&t.database===this.database}}function UO(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ut(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new io(n.options.projectId,t)}const Z_="__type__",jI="__max__",Nr={mapValue:{fields:{__type__:{stringValue:jI}}}},J_="__vector__",Vl="value",bd={nullValue:"NULL_VALUE"};function Gr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?W_(n)?4:FI(n)?9007199254740991:wm(n)?10:11:mt(28295,{value:n})}function rs(n,t){if(n===t)return!0;const e=Gr(n);if(e!==Gr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Fc(n).isEqual(Fc(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=ks(a.timestampValue),h=ks(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,l){return Ls(a.bytesValue).isEqual(Ls(l.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,l){return me(a.geoPointValue.latitude)===me(l.geoPointValue.latitude)&&me(a.geoPointValue.longitude)===me(l.geoPointValue.longitude)})(n,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return me(a.integerValue)===me(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=me(a.doubleValue),h=me(l.doubleValue);return u===h?Uc(u)===Uc(h):isNaN(u)&&isNaN(h)}return!1})(n,t);case 9:return Il(n.arrayValue.values||[],t.arrayValue.values||[],rs);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(kS(u)!==kS(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!rs(u[d],h[d])))return!1;return!0})(n,t);default:return mt(52216,{left:n})}}function qc(n,t){return(n.values||[]).find((e=>rs(e,t)))!==void 0}function Kr(n,t){if(n===t)return 0;const e=Gr(n),s=Gr(t);if(e!==s)return It(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return It(n.booleanValue,t.booleanValue);case 2:return(function(l,u){const h=me(l.integerValue||l.doubleValue),d=me(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(n,t);case 3:return US(n.timestampValue,t.timestampValue);case 4:return US(Fc(n),Fc(t));case 5:return ky(n.stringValue,t.stringValue);case 6:return(function(l,u){const h=Ls(l),d=Ls(u);return h.compareTo(d)})(n.bytesValue,t.bytesValue);case 7:return(function(l,u){const h=l.split("/"),d=u.split("/");for(let p=0;p<h.length&&p<d.length;p++){const y=It(h[p],d[p]);if(y!==0)return y}return It(h.length,d.length)})(n.referenceValue,t.referenceValue);case 8:return(function(l,u){const h=It(me(l.latitude),me(u.latitude));return h!==0?h:It(me(l.longitude),me(u.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return BS(n.arrayValue,t.arrayValue);case 10:return(function(l,u){const h=l.fields||{},d=u.fields||{},p=h[Vl]?.arrayValue,y=d[Vl]?.arrayValue,v=It(p?.values?.length||0,y?.values?.length||0);return v!==0?v:BS(p,y)})(n.mapValue,t.mapValue);case 11:return(function(l,u){if(l===Nr.mapValue&&u===Nr.mapValue)return 0;if(l===Nr.mapValue)return 1;if(u===Nr.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),p=u.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const E=ky(d[v],y[v]);if(E!==0)return E;const I=Kr(h[d[v]],p[y[v]]);if(I!==0)return I}return It(d.length,y.length)})(n.mapValue,t.mapValue);default:throw mt(23264,{he:e})}}function US(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return It(n,t);const e=ks(n),s=ks(t),a=It(e.seconds,s.seconds);return a!==0?a:It(e.nanos,s.nanos)}function BS(n,t){const e=n.values||[],s=t.values||[];for(let a=0;a<e.length&&a<s.length;++a){const l=Kr(e[a],s[a]);if(l)return l}return It(e.length,s.length)}function Ml(n){return Fy(n)}function Fy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const s=ks(e);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Ls(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return ht.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let s="[",a=!0;for(const l of e.values||[])a?a=!1:s+=",",s+=Fy(l);return s+"]"})(n.arrayValue):"mapValue"in n?(function(e){const s=Object.keys(e.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${Fy(e.fields[u])}`;return a+"}"})(n.mapValue):mt(61005,{value:n})}function Sd(n){switch(Gr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Am(n);return t?16+Sd(t):16;case 5:return 2*n.stringValue.length;case 6:return Ls(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Sd(l)),0)})(n.arrayValue);case 10:case 11:return(function(s){let a=0;return Jr(s.fields,((l,u)=>{a+=l.length+Sd(u)})),a})(n.mapValue);default:throw mt(13486,{value:n})}}function Hc(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function qy(n){return!!n&&"integerValue"in n}function Gc(n){return!!n&&"arrayValue"in n}function zS(n){return!!n&&"nullValue"in n}function jS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ad(n){return!!n&&"mapValue"in n}function wm(n){return(n?.mapValue?.fields||{})[Z_]?.stringValue===J_}function wc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Jr(n.mapValue.fields,((e,s)=>t.mapValue.fields[e]=wc(s))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=wc(n.arrayValue.values[e]);return t}return{...n}}function FI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===jI}const qI={mapValue:{fields:{[Z_]:{stringValue:J_},[Vl]:{arrayValue:{}}}}};function BO(n){return"nullValue"in n?bd:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Hc(io.empty(),ht.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?wm(n)?qI:{mapValue:{}}:mt(35942,{value:n})}function zO(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Hc(io.empty(),ht.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?qI:"mapValue"in n?wm(n)?{mapValue:{}}:Nr:mt(61959,{value:n})}function FS(n,t){const e=Kr(n.value,t.value);return e!==0?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function qS(n,t){const e=Kr(n.value,t.value);return e!==0?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class cn{constructor(t){this.value=t}static empty(){return new cn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!Ad(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=wc(e)}setAll(t){let e=ye.emptyPath(),s={},a=[];t.forEach(((u,h)=>{if(!e.isImmediateParentOf(h)){const d=this.getFieldsMap(e);this.applyChanges(d,s,a),s={},a=[],e=h.popLast()}u?s[h.lastSegment()]=wc(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(e);this.applyChanges(l,s,a)}delete(t){const e=this.field(t.popLast());Ad(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return rs(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=e.mapValue.fields[t.get(s)];Ad(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,s){Jr(e,((a,l)=>t[a]=l));for(const a of s)delete t[a]}clone(){return new cn(wc(this.value))}}function HI(n){const t=[];return Jr(n.fields,((e,s)=>{const a=new ye([e]);if(Ad(s)){const l=HI(s.mapValue).fields;if(l.length===0)t.push(a);else for(const u of l)t.push(a.child(u))}else t.push(a)})),new Cn(t)}class pe{constructor(t,e,s,a,l,u,h){this.key=t,this.documentType=e,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(t){return new pe(t,0,Tt.min(),Tt.min(),Tt.min(),cn.empty(),0)}static newFoundDocument(t,e,s,a){return new pe(t,1,e,Tt.min(),s,a,0)}static newNoDocument(t,e){return new pe(t,2,e,Tt.min(),Tt.min(),cn.empty(),0)}static newUnknownDocument(t,e){return new pe(t,3,e,Tt.min(),Tt.min(),cn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof pe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new pe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Nl{constructor(t,e){this.position=t,this.inclusive=e}}function HS(n,t,e){let s=0;for(let a=0;a<n.position.length;a++){const l=t[a],u=n.position[a];if(l.field.isKeyField()?s=ht.comparator(ht.fromName(u.referenceValue),e.key):s=Kr(u,e.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function GS(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!rs(n.position[e],t.position[e]))return!1;return!0}class Kc{constructor(t,e="asc"){this.field=t,this.dir=e}}function jO(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class GI{}class zt extends GI{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new FO(t,e,s):e==="array-contains"?new GO(t,s):e==="in"?new WI(t,s):e==="not-in"?new KO(t,s):e==="array-contains-any"?new YO(t,s):new zt(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new qO(t,s):new HO(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Kr(e,this.value)):e!==null&&Gr(this.value)===Gr(e)&&this.matchesComparison(Kr(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ee extends GI{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new ee(t,e)}matches(t){return Pl(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Pl(n){return n.op==="and"}function Hy(n){return n.op==="or"}function tv(n){return KI(n)&&Pl(n)}function KI(n){for(const t of n.filters)if(t instanceof ee)return!1;return!0}function Gy(n){if(n instanceof zt)return n.field.canonicalString()+n.op.toString()+Ml(n.value);if(tv(n))return n.filters.map((t=>Gy(t))).join(",");{const t=n.filters.map((e=>Gy(e))).join(",");return`${n.op}(${t})`}}function YI(n,t){return n instanceof zt?(function(s,a){return a instanceof zt&&s.op===a.op&&s.field.isEqual(a.field)&&rs(s.value,a.value)})(n,t):n instanceof ee?(function(s,a){return a instanceof ee&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,h)=>l&&YI(u,a.filters[h])),!0):!1})(n,t):void mt(19439)}function QI(n,t){const e=n.filters.concat(t);return ee.create(e,n.op)}function $I(n){return n instanceof zt?(function(e){return`${e.field.canonicalString()} ${e.op} ${Ml(e.value)}`})(n):n instanceof ee?(function(e){return e.op.toString()+" {"+e.getFilters().map($I).join(" ,")+"}"})(n):"Filter"}class FO extends zt{constructor(t,e,s){super(t,e,s),this.key=ht.fromName(s.referenceValue)}matches(t){const e=ht.comparator(t.key,this.key);return this.matchesComparison(e)}}class qO extends zt{constructor(t,e){super(t,"in",e),this.keys=XI("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class HO extends zt{constructor(t,e){super(t,"not-in",e),this.keys=XI("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function XI(n,t){return(t.arrayValue?.values||[]).map((e=>ht.fromName(e.referenceValue)))}class GO extends zt{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Gc(e)&&qc(e.arrayValue,this.value)}}class WI extends zt{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&qc(this.value.arrayValue,e)}}class KO extends zt{constructor(t,e){super(t,"not-in",e)}matches(t){if(qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!qc(this.value.arrayValue,e)}}class YO extends zt{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Gc(e)||!e.arrayValue.values)&&e.arrayValue.values.some((s=>qc(this.value.arrayValue,s)))}}class QO{constructor(t,e=null,s=[],a=[],l=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function Ky(n,t=null,e=[],s=[],a=null,l=null,u=null){return new QO(n,t,e,s,a,l,u)}function so(n){const t=At(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((s=>Gy(s))).join(","),e+="|ob:",e+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),uh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((s=>Ml(s))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((s=>Ml(s))).join(",")),t.Te=e}return t.Te}function hh(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!jO(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!YI(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!GS(n.startAt,t.startAt)&&GS(n.endAt,t.endAt)}function Qd(n){return ht.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function $d(n,t){return n.filters.filter((e=>e instanceof zt&&e.field.isEqual(t)))}function KS(n,t,e){let s=bd,a=!0;for(const l of $d(n,t)){let u=bd,h=!0;switch(l.op){case"<":case"<=":u=BO(l.value);break;case"==":case"in":case">=":u=l.value;break;case">":u=l.value,h=!1;break;case"!=":case"not-in":u=bd}FS({value:s,inclusive:a},{value:u,inclusive:h})<0&&(s=u,a=h)}if(e!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const u=e.position[l];FS({value:s,inclusive:a},{value:u,inclusive:e.inclusive})<0&&(s=u,a=e.inclusive);break}}return{value:s,inclusive:a}}function YS(n,t,e){let s=Nr,a=!0;for(const l of $d(n,t)){let u=Nr,h=!0;switch(l.op){case">=":case">":u=zO(l.value),h=!1;break;case"==":case"in":case"<=":u=l.value;break;case"<":u=l.value,h=!1;break;case"!=":case"not-in":u=Nr}qS({value:s,inclusive:a},{value:u,inclusive:h})>0&&(s=u,a=h)}if(e!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const u=e.position[l];qS({value:s,inclusive:a},{value:u,inclusive:e.inclusive})>0&&(s=u,a=e.inclusive);break}}return{value:s,inclusive:a}}class Yl{constructor(t,e=null,s=[],a=[],l=null,u="F",h=null,d=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function $O(n,t,e,s,a,l,u,h){return new Yl(n,t,e,s,a,l,u,h)}function fh(n){return new Yl(n)}function QS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function XO(n){return ht.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function ZI(n){return n.collectionGroup!==null}function Ic(n){const t=At(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),e.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new ne(ye.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(t).forEach((l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Kc(l,s))})),e.has(ye.keyField().canonicalString())||t.Ie.push(new Kc(ye.keyField(),s))}return t.Ie}function ai(n){const t=At(n);return t.Ee||(t.Ee=WO(t,Ic(n))),t.Ee}function WO(n,t){if(n.limitType==="F")return Ky(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Kc(a.field,l)}));const e=n.endAt?new Nl(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Nl(n.startAt.position,n.startAt.inclusive):null;return Ky(n.path,n.collectionGroup,t,n.filters,n.limit,e,s)}}function Yy(n,t){const e=n.filters.concat([t]);return new Yl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function ZO(n,t){const e=n.explicitOrderBy.concat([t]);return new Yl(n.path,n.collectionGroup,e,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function Qy(n,t,e){return new Yl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Im(n,t){return hh(ai(n),ai(t))&&n.limitType===t.limitType}function JI(n){return`${so(ai(n))}|lt:${n.limitType}`}function ul(n){return`Query(target=${(function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map((a=>$I(a))).join(", ")}]`),uh(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((a=>Ml(a))).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((a=>Ml(a))).join(",")),`Target(${s})`})(ai(n))}; limitType=${n.limitType})`}function dh(n,t){return t.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ht.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(n,t)&&(function(s,a){for(const l of Ic(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,t)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(n,t)&&(function(s,a){return!(s.startAt&&!(function(u,h,d){const p=HS(u,h,d);return u.inclusive?p<=0:p<0})(s.startAt,Ic(s),a)||s.endAt&&!(function(u,h,d){const p=HS(u,h,d);return u.inclusive?p>=0:p>0})(s.endAt,Ic(s),a))})(n,t)}function JO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function tR(n){return(t,e)=>{let s=!1;for(const a of Ic(n)){const l=tk(a,t,e);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function tk(n,t,e){const s=n.field.isKeyField()?ht.comparator(t.key,e.key):(function(l,u,h){const d=u.data.field(l),p=h.data.field(l);return d!==null&&p!==null?Kr(d,p):mt(42886)})(n.field,t,e);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return mt(19790,{direction:n.dir})}}class js{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[e]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Jr(this.inner,((e,s)=>{for(const[a,l]of s)t(a,l)}))}isEmpty(){return OI(this.inner)}size(){return this.innerSize}}const ek=new ge(ht.comparator);function Fn(){return ek}const eR=new ge(ht.comparator);function mc(...n){let t=eR;for(const e of n)t=t.insert(e.key,e);return t}function nR(n){let t=eR;return n.forEach(((e,s)=>t=t.insert(e,s.overlayedDocument))),t}function Ji(){return Rc()}function iR(){return Rc()}function Rc(){return new js((n=>n.toString()),((n,t)=>n.isEqual(t)))}const nk=new ge(ht.comparator),ik=new ne(ht.comparator);function Nt(...n){let t=ik;for(const e of n)t=t.add(e);return t}const sk=new ne(It);function rk(){return sk}function ev(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uc(t)?"-0":t}}function sR(n){return{integerValue:""+n}}function ak(n,t){return uO(t)?sR(t):ev(n,t)}class Rm{constructor(){this._=void 0}}function ok(n,t,e){return n instanceof Ol?(function(a,l){const u={fields:{[UI]:{stringValue:LI},[zI]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&W_(l)&&(l=Am(l)),l&&(u.fields[BI]=l),{mapValue:u}})(e,t):n instanceof kl?aR(n,t):n instanceof Ll?oR(n,t):(function(a,l){const u=rR(a,l),h=$S(u)+$S(a.Ae);return qy(u)&&qy(a.Ae)?sR(h):ev(a.serializer,h)})(n,t)}function lk(n,t,e){return n instanceof kl?aR(n,t):n instanceof Ll?oR(n,t):e}function rR(n,t){return n instanceof Yc?(function(s){return qy(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class Ol extends Rm{}class kl extends Rm{constructor(t){super(),this.elements=t}}function aR(n,t){const e=lR(t);for(const s of n.elements)e.some((a=>rs(a,s)))||e.push(s);return{arrayValue:{values:e}}}class Ll extends Rm{constructor(t){super(),this.elements=t}}function oR(n,t){let e=lR(t);for(const s of n.elements)e=e.filter((a=>!rs(a,s)));return{arrayValue:{values:e}}}class Yc extends Rm{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function $S(n){return me(n.integerValue||n.doubleValue)}function lR(n){return Gc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class uR{constructor(t,e){this.field=t,this.transform=e}}function uk(n,t){return n.field.isEqual(t.field)&&(function(s,a){return s instanceof kl&&a instanceof kl||s instanceof Ll&&a instanceof Ll?Il(s.elements,a.elements,rs):s instanceof Yc&&a instanceof Yc?rs(s.Ae,a.Ae):s instanceof Ol&&a instanceof Ol})(n.transform,t.transform)}class ck{constructor(t,e){this.version=t,this.transformResults=e}}class Ue{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ue}static exists(t){return new Ue(void 0,t)}static updateTime(t){return new Ue(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function wd(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class xm{}function cR(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new mh(n.key,Ue.none()):new Ql(n.key,n.data,Ue.none());{const e=n.data,s=cn.empty();let a=new ne(ye.comparator);for(let l of t.fields)if(!a.has(l)){let u=e.field(l);u===null&&l.length>1&&(l=l.popLast(),u=e.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Fs(n.key,s,new Cn(a.toArray()),Ue.none())}}function hk(n,t,e){n instanceof Ql?(function(a,l,u){const h=a.value.clone(),d=WS(a.fieldTransforms,l,u.transformResults);h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,t,e):n instanceof Fs?(function(a,l,u){if(!wd(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=WS(a.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(hR(a)),d.setAll(h),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,t,e):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,t,e)}function xc(n,t,e,s){return n instanceof Ql?(function(l,u,h,d){if(!wd(l.precondition,u))return h;const p=l.value.clone(),y=ZS(l.fieldTransforms,d,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,t,e,s):n instanceof Fs?(function(l,u,h,d){if(!wd(l.precondition,u))return h;const p=ZS(l.fieldTransforms,d,u),y=u.data;return y.setAll(hR(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(n,t,e,s):(function(l,u,h){return wd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,t,e)}function fk(n,t){let e=null;for(const s of n.fieldTransforms){const a=t.data.field(s.field),l=rR(s.transform,a||null);l!=null&&(e===null&&(e=cn.empty()),e.set(s.field,l))}return e||null}function XS(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Il(s,a,((l,u)=>uk(l,u)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Ql extends xm{constructor(t,e,s,a=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Fs extends xm{constructor(t,e,s,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function hR(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const s=n.data.field(e);t.set(e,s)}})),t}function WS(n,t,e){const s=new Map;_t(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let a=0;a<e.length;a++){const l=n[a],u=l.transform,h=t.data.field(l.field);s.set(l.field,lk(u,h,e[a]))}return s}function ZS(n,t,e){const s=new Map;for(const a of n){const l=a.transform,u=e.data.field(a.field);s.set(a.field,ok(l,u,t))}return s}class mh extends xm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nv extends xm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iv{constructor(t,e,s,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&hk(l,t,s[a])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=xc(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=xc(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=iR();return this.mutations.forEach((a=>{const l=t.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=e.has(a.key)?null:h;const d=cR(u,h);d!==null&&s.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(Tt.min())})),s}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Nt())}isEqual(t){return this.batchId===t.batchId&&Il(this.mutations,t.mutations,((e,s)=>XS(e,s)))&&Il(this.baseMutations,t.baseMutations,((e,s)=>XS(e,s)))}}class sv{constructor(t,e,s,a){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=a}static from(t,e,s){_t(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let a=(function(){return nk})();const l=t.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new sv(t,e,s,a)}}class rv{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class dk{constructor(t,e){this.count=t,this.unchangedNames=e}}var ke,qt;function fR(n){switch(n){case Z.OK:return mt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return mt(15467,{code:n})}}function dR(n){if(n===void 0)return vn("GRPC error has no .code"),Z.UNKNOWN;switch(n){case ke.OK:return Z.OK;case ke.CANCELLED:return Z.CANCELLED;case ke.UNKNOWN:return Z.UNKNOWN;case ke.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case ke.INTERNAL:return Z.INTERNAL;case ke.UNAVAILABLE:return Z.UNAVAILABLE;case ke.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case ke.NOT_FOUND:return Z.NOT_FOUND;case ke.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case ke.ABORTED:return Z.ABORTED;case ke.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case ke.DATA_LOSS:return Z.DATA_LOSS;default:return mt(39323,{code:n})}}(qt=ke||(ke={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function mk(){return new TextEncoder}const pk=new zr([4294967295,4294967295],0);function JS(n){const t=mk().encode(n),e=new cI;return e.update(t),new Uint8Array(e.digest())}function tA(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new zr([e,s],0),new zr([a,l],0)]}class av{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new pc(`Invalid padding: ${e}`);if(s<0)throw new pc(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new pc(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new pc(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=zr.fromNumber(this.ge)}ye(t,e,s){let a=t.add(e.multiply(zr.fromNumber(s)));return a.compare(pk)===1&&(a=new zr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=JS(t),[s,a]=tA(e);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(t,e,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),u=new av(l,a,e);return s.forEach((h=>u.insert(h))),u}insert(t){if(this.ge===0)return;const e=JS(t),[s,a]=tA(e);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.be(u)}}be(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Cm{constructor(t,e,s,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const a=new Map;return a.set(t,ph.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new Cm(Tt.min(),a,new ge(It),Fn(),Nt())}}class ph{constructor(t,e,s,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new ph(s,e,Nt(),Nt(),Nt())}}class Id{constructor(t,e,s,a){this.Se=t,this.removedTargetIds=e,this.key=s,this.De=a}}class mR{constructor(t,e){this.targetId=t,this.Ce=e}}class pR{constructor(t,e,s=ze.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=a}}class eA{constructor(){this.ve=0,this.Fe=nA(),this.Me=ze.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Nt(),e=Nt(),s=Nt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:s=s.add(a);break;default:mt(38017,{changeType:l})}})),new ph(this.Me,this.xe,t,e,s)}Ke(){this.Oe=!1,this.Fe=nA()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,_t(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class gk{constructor(t){this.Ge=t,this.ze=new Map,this.je=Fn(),this.He=sd(),this.Je=sd(),this.Ze=new ge(It)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const s=this.nt(e);switch(t.state){case 0:this.rt(e)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),s.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((s,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,s=t.Ce.count,a=this.ot(e);if(a){const l=a.target;if(Qd(l))if(s===0){const u=new ht(l.path);this.et(e,u,pe.newNoDocument(u,Tt.min()))}else _t(s===1,20013,{expectedCount:s});else{const u=this._t(e);if(u!==s){const h=this.ut(t),d=h?this.ct(h,t,u):1;if(d!==0){this.it(e);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,p)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=e;let u,h;try{u=Ls(s).toUint8Array()}catch(d){if(d instanceof kI)return no("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new av(u,a,l)}catch(d){return no(d instanceof pc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(t,e,s){return e.Ce.count===s-this.Pt(t,e.targetId)?0:2}Pt(t,e){const s=this.Ge.getRemoteKeysForTarget(e);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;t.mightContain(h)||(this.et(e,l,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&Qd(h.target)){const d=new ht(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,pe.newNoDocument(d,t))}l.Be&&(e.set(u,l.ke()),l.Ke())}}));let s=Nt();this.Je.forEach(((l,u)=>{let h=!0;u.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(t)));const a=new Cm(t,e,this.Ze,this.je,s);return this.je=Fn(),this.He=sd(),this.Je=sd(),this.Ze=new ge(It),a}Ye(t,e){if(!this.rt(t))return;const s=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,s),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,s){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.qe(e,1):a.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),s&&(this.je=this.je.insert(e,s))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new eA,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new ne(It),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new ne(It),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||lt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new eA),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function sd(){return new ge(ht.comparator)}function nA(){return new ge(ht.comparator)}const yk={asc:"ASCENDING",desc:"DESCENDING"},_k={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vk={and:"AND",or:"OR"};class Tk{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function $y(n,t){return n.useProto3Json||uh(t)?t:{value:t}}function Ul(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function gR(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Ek(n,t){return Ul(n,t.toTimestamp())}function Je(n){return _t(!!n,49232),Tt.fromTimestamp((function(e){const s=ks(e);return new te(s.seconds,s.nanos)})(n))}function ov(n,t){return Xy(n,t).canonicalString()}function Xy(n,t){const e=(function(a){return new Ht(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function yR(n){const t=Ht.fromString(n);return _t(IR(t),10190,{key:t.toString()}),t}function Qc(n,t){return ov(n.databaseId,t.path)}function Vs(n,t){const e=yR(t);if(e.get(1)!==n.databaseId.projectId)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new ht(TR(e))}function _R(n,t){return ov(n.databaseId,t)}function vR(n){const t=yR(n);return t.length===4?Ht.emptyPath():TR(t)}function Wy(n){return new Ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function TR(n){return _t(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function iA(n,t,e){return{name:Qc(n,t),fields:e.value.mapValue.fields}}function bk(n,t,e){const s=Vs(n,t.name),a=Je(t.updateTime),l=t.createTime?Je(t.createTime):Tt.min(),u=new cn({mapValue:{fields:t.fields}}),h=pe.newFoundDocument(s,a,l,u);return e&&h.setHasCommittedMutations(),e?h.setHasCommittedMutations():h}function Sk(n,t){return"found"in t?(function(s,a){_t(!!a.found,43571),a.found.name,a.found.updateTime;const l=Vs(s,a.found.name),u=Je(a.found.updateTime),h=a.found.createTime?Je(a.found.createTime):Tt.min(),d=new cn({mapValue:{fields:a.found.fields}});return pe.newFoundDocument(l,u,h,d)})(n,t):"missing"in t?(function(s,a){_t(!!a.missing,3894),_t(!!a.readTime,22933);const l=Vs(s,a.missing),u=Je(a.readTime);return pe.newNoDocument(l,u)})(n,t):mt(7234,{result:t})}function Ak(n,t){let e;if("targetChange"in t){t.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:mt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(_t(y===void 0||typeof y=="string",58123),ze.fromBase64String(y||"")):(_t(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),ze.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&(function(p){const y=p.code===void 0?Z.UNKNOWN:dR(p.code);return new ut(y,p.message||"")})(u);e=new pR(s,a,l,h||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=Vs(n,s.document.name),l=Je(s.document.updateTime),u=s.document.createTime?Je(s.document.createTime):Tt.min(),h=new cn({mapValue:{fields:s.document.fields}}),d=pe.newFoundDocument(a,l,u,h),p=s.targetIds||[],y=s.removedTargetIds||[];e=new Id(p,y,d.key,d)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=Vs(n,s.document),l=s.readTime?Je(s.readTime):Tt.min(),u=pe.newNoDocument(a,l),h=s.removedTargetIds||[];e=new Id([],h,u.key,u)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=Vs(n,s.document),l=s.removedTargetIds||[];e=new Id([],l,a,null)}else{if(!("filter"in t))return mt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new dk(a,l),h=s.targetId;e=new mR(h,u)}}return e}function $c(n,t){let e;if(t instanceof Ql)e={update:iA(n,t.key,t.value)};else if(t instanceof mh)e={delete:Qc(n,t.key)};else if(t instanceof Fs)e={update:iA(n,t.key,t.data),updateMask:Dk(t.fieldMask)};else{if(!(t instanceof nv))return mt(16599,{dt:t.type});e={verify:Qc(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((s=>(function(l,u){const h=u.transform;if(h instanceof Ol)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof kl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ll)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Yc)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw mt(20930,{transform:u.transform})})(0,s)))),t.precondition.isNone||(e.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:Ek(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:mt(27497)})(n,t.precondition)),e}function Zy(n,t){const e=t.currentDocument?(function(l){return l.updateTime!==void 0?Ue.updateTime(Je(l.updateTime)):l.exists!==void 0?Ue.exists(l.exists):Ue.none()})(t.currentDocument):Ue.none(),s=t.updateTransforms?t.updateTransforms.map((a=>(function(u,h){let d=null;if("setToServerValue"in h)_t(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),d=new Ol;else if("appendMissingElements"in h){const y=h.appendMissingElements.values||[];d=new kl(y)}else if("removeAllFromArray"in h){const y=h.removeAllFromArray.values||[];d=new Ll(y)}else"increment"in h?d=new Yc(u,h.increment):mt(16584,{proto:h});const p=ye.fromServerFormat(h.fieldPath);return new uR(p,d)})(n,a))):[];if(t.update){t.update.name;const a=Vs(n,t.update.name),l=new cn({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=(function(d){const p=d.fieldPaths||[];return new Cn(p.map((y=>ye.fromServerFormat(y))))})(t.updateMask);return new Fs(a,l,u,e,s)}return new Ql(a,l,e,s)}if(t.delete){const a=Vs(n,t.delete);return new mh(a,e)}if(t.verify){const a=Vs(n,t.verify);return new nv(a,e)}return mt(1463,{proto:t})}function wk(n,t){return n&&n.length>0?(_t(t!==void 0,14353),n.map((e=>(function(a,l){let u=a.updateTime?Je(a.updateTime):Je(l);return u.isEqual(Tt.min())&&(u=Je(l)),new ck(u,a.transformResults||[])})(e,t)))):[]}function ER(n,t){return{documents:[_R(n,t.path)]}}function bR(n,t){const e={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=_R(n,a);const l=(function(p){if(p.length!==0)return wR(ee.create(p,"and"))})(t.filters);l&&(e.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(E){return{field:cl(E.field),direction:Rk(E.dir)}})(y)))})(t.orderBy);u&&(e.structuredQuery.orderBy=u);const h=$y(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:e,parent:a}}function SR(n){let t=vR(n.parent);const e=n.structuredQuery,s=e.from?e.from.length:0;let a=null;if(s>0){_t(s===1,65062);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];e.where&&(l=(function(v){const E=AR(v);return E instanceof ee&&tv(E)?E.getFilters():[E]})(e.where));let u=[];e.orderBy&&(u=(function(v){return v.map((E=>(function(N){return new Kc(hl(N.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(E)))})(e.orderBy));let h=null;e.limit&&(h=(function(v){let E;return E=typeof v=="object"?v.value:v,uh(E)?null:E})(e.limit));let d=null;e.startAt&&(d=(function(v){const E=!!v.before,I=v.values||[];return new Nl(I,E)})(e.startAt));let p=null;return e.endAt&&(p=(function(v){const E=!v.before,I=v.values||[];return new Nl(I,E)})(e.endAt)),$O(t,a,u,l,h,"F",d,p)}function Ik(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function AR(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=hl(e.unaryFilter.field);return zt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=hl(e.unaryFilter.field);return zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=hl(e.unaryFilter.field);return zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=hl(e.unaryFilter.field);return zt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return zt.create(hl(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return ee.create(e.compositeFilter.filters.map((s=>AR(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(e.compositeFilter.op))})(n):mt(30097,{filter:n})}function Rk(n){return yk[n]}function xk(n){return _k[n]}function Ck(n){return vk[n]}function cl(n){return{fieldPath:n.canonicalString()}}function hl(n){return ye.fromServerFormat(n.fieldPath)}function wR(n){return n instanceof zt?(function(e){if(e.op==="=="){if(jS(e.value))return{unaryFilter:{field:cl(e.field),op:"IS_NAN"}};if(zS(e.value))return{unaryFilter:{field:cl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(jS(e.value))return{unaryFilter:{field:cl(e.field),op:"IS_NOT_NAN"}};if(zS(e.value))return{unaryFilter:{field:cl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cl(e.field),op:xk(e.op),value:e.value}}})(n):n instanceof ee?(function(e){const s=e.getFilters().map((a=>wR(a)));return s.length===1?s[0]:{compositeFilter:{op:Ck(e.op),filters:s}}})(n):mt(54877,{filter:n})}function Dk(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function IR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function RR(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Ds{constructor(t,e,s,a,l=Tt.min(),u=Tt.min(),h=ze.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(t){return new Ds(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class xR{constructor(t){this.yt=t}}function Vk(n,t){let e;if(t.document)e=bk(n.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const s=ht.fromSegments(t.noDocument.path),a=ao(t.noDocument.readTime);e=pe.newNoDocument(s,a),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return mt(56709);{const s=ht.fromSegments(t.unknownDocument.path),a=ao(t.unknownDocument.version);e=pe.newUnknownDocument(s,a)}}return t.readTime&&e.setReadTime((function(a){const l=new te(a[0],a[1]);return Tt.fromTimestamp(l)})(t.readTime)),e}function sA(n,t){const e=t.key,s={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Xd(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())s.document=(function(l,u){return{name:Qc(l,u.key),fields:u.data.value.mapValue.fields,updateTime:Ul(l,u.version.toTimestamp()),createTime:Ul(l,u.createTime.toTimestamp())}})(n.yt,t);else if(t.isNoDocument())s.noDocument={path:e.path.toArray(),readTime:ro(t.version)};else{if(!t.isUnknownDocument())return mt(57904,{document:t});s.unknownDocument={path:e.path.toArray(),version:ro(t.version)}}return s}function Xd(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function ro(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ao(n){const t=new te(n.seconds,n.nanoseconds);return Tt.fromTimestamp(t)}function Fa(n,t){const e=(t.baseMutations||[]).map((l=>Zy(n.yt,l)));for(let l=0;l<t.mutations.length-1;++l){const u=t.mutations[l];if(l+1<t.mutations.length&&t.mutations[l+1].transform!==void 0){const h=t.mutations[l+1];u.updateTransforms=h.transform.fieldTransforms,t.mutations.splice(l+1,1),++l}}const s=t.mutations.map((l=>Zy(n.yt,l))),a=te.fromMillis(t.localWriteTimeMs);return new iv(t.batchId,a,e,s)}function gc(n){const t=ao(n.readTime),e=n.lastLimboFreeSnapshotVersion!==void 0?ao(n.lastLimboFreeSnapshotVersion):Tt.min();let s;return s=(function(l){return l.documents!==void 0})(n.query)?(function(l){const u=l.documents.length;return _t(u===1,1966,{count:u}),ai(fh(vR(l.documents[0])))})(n.query):(function(l){return ai(SR(l))})(n.query),new Ds(s,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,ze.fromBase64String(n.resumeToken))}function CR(n,t){const e=ro(t.snapshotVersion),s=ro(t.lastLimboFreeSnapshotVersion);let a;a=Qd(t.target)?ER(n.yt,t.target):bR(n.yt,t.target).ft;const l=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:so(t.target),readTime:e,resumeToken:l,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function DR(n){const t=SR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Qy(t,t.limit,"L"):t}function ry(n,t){return new rv(t.largestBatchId,Zy(n.yt,t.overlayMutation))}function rA(n,t){const e=t.path.lastSegment();return[n,pn(t.path.popLast()),e]}function aA(n,t,e,s){return{indexId:n,uid:t,sequenceNumber:e,readTime:ro(s.readTime),documentKey:pn(s.documentKey.path),largestBatchId:s.largestBatchId}}class Mk{getBundleMetadata(t,e){return oA(t).get(e).next((s=>{if(s)return(function(l){return{id:l.bundleId,createTime:ao(l.createTime),version:l.version}})(s)}))}saveBundleMetadata(t,e){return oA(t).put((function(a){return{bundleId:a.id,createTime:ro(Je(a.createTime)),version:a.version}})(e))}getNamedQuery(t,e){return lA(t).get(e).next((s=>{if(s)return(function(l){return{name:l.name,query:DR(l.bundledQuery),readTime:ao(l.readTime)}})(s)}))}saveNamedQuery(t,e){return lA(t).put((function(a){return{name:a.name,readTime:ro(Je(a.readTime)),bundledQuery:a.bundledQuery}})(e))}}function oA(n){return Qe(n,Em)}function lA(n){return Qe(n,bm)}class Dm{constructor(t,e){this.serializer=t,this.userId=e}static wt(t,e){const s=e.uid||"";return new Dm(t,s)}getOverlay(t,e){return ac(t).get(rA(this.userId,e)).next((s=>s?ry(this.serializer,s):null))}getOverlays(t,e){const s=Ji();return F.forEach(e,(a=>this.getOverlay(t,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(t,e,s){const a=[];return s.forEach(((l,u)=>{const h=new rv(e,u);a.push(this.bt(t,h))})),F.waitFor(a)}removeOverlaysForBatchId(t,e,s){const a=new Set;e.forEach((u=>a.add(pn(u.getCollectionPath()))));const l=[];return a.forEach((u=>{const h=IDBKeyRange.bound([this.userId,u,s],[this.userId,u,s+1],!1,!0);l.push(ac(t).X(zy,h))})),F.waitFor(l)}getOverlaysForCollection(t,e,s){const a=Ji(),l=pn(e),u=IDBKeyRange.bound([this.userId,l,s],[this.userId,l,Number.POSITIVE_INFINITY],!0);return ac(t).H(zy,u).next((h=>{for(const d of h){const p=ry(this.serializer,d);a.set(p.getKey(),p)}return a}))}getOverlaysForCollectionGroup(t,e,s,a){const l=Ji();let u;const h=IDBKeyRange.bound([this.userId,e,s],[this.userId,e,Number.POSITIVE_INFINITY],!0);return ac(t).ee({index:DI,range:h},((d,p,y)=>{const v=ry(this.serializer,p);l.size()<a||v.largestBatchId===u?(l.set(v.getKey(),v),u=v.largestBatchId):y.done()})).next((()=>l))}bt(t,e){return ac(t).put((function(a,l,u){const[h,d,p]=rA(l,u.mutation.key);return{userId:l,collectionPath:d,documentId:p,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:$c(a.yt,u.mutation)}})(this.serializer,this.userId,e))}}function ac(n){return Qe(n,Sm)}class Nk{St(t){return Qe(t,$_)}getSessionToken(t){return this.St(t).get("sessionToken").next((e=>{const s=e?.value;return s?ze.fromUint8Array(s):ze.EMPTY_BYTE_STRING}))}setSessionToken(t,e){return this.St(t).put({name:"sessionToken",value:e.toUint8Array()})}}class qa{constructor(){}Dt(t,e){this.Ct(t,e),e.vt()}Ct(t,e){if("nullValue"in t)this.Ft(e,5);else if("booleanValue"in t)this.Ft(e,10),e.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(e,15),e.Mt(me(t.integerValue));else if("doubleValue"in t){const s=me(t.doubleValue);isNaN(s)?this.Ft(e,13):(this.Ft(e,15),Uc(s)?e.Mt(0):e.Mt(s))}else if("timestampValue"in t){let s=t.timestampValue;this.Ft(e,20),typeof s=="string"&&(s=ks(s)),e.xt(`${s.seconds||""}`),e.Mt(s.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,e),this.Nt(e);else if("bytesValue"in t)this.Ft(e,30),e.Bt(Ls(t.bytesValue)),this.Nt(e);else if("referenceValue"in t)this.Lt(t.referenceValue,e);else if("geoPointValue"in t){const s=t.geoPointValue;this.Ft(e,45),e.Mt(s.latitude||0),e.Mt(s.longitude||0)}else"mapValue"in t?FI(t)?this.Ft(e,Number.MAX_SAFE_INTEGER):wm(t)?this.kt(t.mapValue,e):(this.Kt(t.mapValue,e),this.Nt(e)):"arrayValue"in t?(this.qt(t.arrayValue,e),this.Nt(e)):mt(19022,{Ut:t})}Ot(t,e){this.Ft(e,25),this.$t(t,e)}$t(t,e){e.xt(t)}Kt(t,e){const s=t.fields||{};this.Ft(e,55);for(const a of Object.keys(s))this.Ot(a,e),this.Ct(s[a],e)}kt(t,e){const s=t.fields||{};this.Ft(e,53);const a=Vl,l=s[a].arrayValue?.values?.length||0;this.Ft(e,15),e.Mt(me(l)),this.Ot(a,e),this.Ct(s[a],e)}qt(t,e){const s=t.values||[];this.Ft(e,50);for(const a of s)this.Ct(a,e)}Lt(t,e){this.Ft(e,37),ht.fromName(t).path.forEach((s=>{this.Ft(e,60),this.$t(s,e)}))}Ft(t,e){t.Mt(e)}Nt(t){t.Mt(2)}}qa.Wt=new qa;const sl=255;function Pk(n){if(n===0)return 8;let t=0;return n>>4||(t+=4,n<<=4),n>>6||(t+=2,n<<=2),n>>7||(t+=1),t}function uA(n){const t=64-(function(s){let a=0;for(let l=0;l<8;++l){const u=Pk(255&s[l]);if(a+=u,u!==8)break}return a})(n);return Math.ceil(t/8)}class Ok{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(t){const e=t[Symbol.iterator]();let s=e.next();for(;!s.done;)this.Gt(s.value),s=e.next();this.zt()}jt(t){const e=t[Symbol.iterator]();let s=e.next();for(;!s.done;)this.Ht(s.value),s=e.next();this.Jt()}Zt(t){for(const e of t){const s=e.charCodeAt(0);if(s<128)this.Gt(s);else if(s<2048)this.Gt(960|s>>>6),this.Gt(128|63&s);else if(e<"\uD800"||"\uDBFF"<e)this.Gt(480|s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s);else{const a=e.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Xt(t){for(const e of t){const s=e.charCodeAt(0);if(s<128)this.Ht(s);else if(s<2048)this.Ht(960|s>>>6),this.Ht(128|63&s);else if(e<"\uD800"||"\uDBFF"<e)this.Ht(480|s>>>12),this.Ht(128|63&s>>>6),this.Ht(128|63&s);else{const a=e.codePointAt(0);this.Ht(240|a>>>18),this.Ht(128|63&a>>>12),this.Ht(128|63&a>>>6),this.Ht(128|63&a)}}this.Jt()}Yt(t){const e=this.en(t),s=uA(e);this.tn(1+s),this.buffer[this.position++]=255&s;for(let a=e.length-s;a<e.length;++a)this.buffer[this.position++]=255&e[a]}nn(t){const e=this.en(t),s=uA(e);this.tn(1+s),this.buffer[this.position++]=~(255&s);for(let a=e.length-s;a<e.length;++a)this.buffer[this.position++]=~(255&e[a])}rn(){this.sn(sl),this.sn(255)}_n(){this.an(sl),this.an(255)}reset(){this.position=0}seed(t){this.tn(t.length),this.buffer.set(t,this.position),this.position+=t.length}un(){return this.buffer.slice(0,this.position)}en(t){const e=(function(l){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,l,!1),new Uint8Array(u.buffer)})(t),s=!!(128&e[0]);e[0]^=s?255:128;for(let a=1;a<e.length;++a)e[a]^=s?255:0;return e}Gt(t){const e=255&t;e===0?(this.sn(0),this.sn(255)):e===sl?(this.sn(sl),this.sn(0)):this.sn(e)}Ht(t){const e=255&t;e===0?(this.an(0),this.an(255)):e===sl?(this.an(sl),this.an(0)):this.an(t)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(t){this.tn(1),this.buffer[this.position++]=t}an(t){this.tn(1),this.buffer[this.position++]=~t}tn(t){const e=t+this.position;if(e<=this.buffer.length)return;let s=2*this.buffer.length;s<e&&(s=e);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class kk{constructor(t){this.cn=t}Bt(t){this.cn.Qt(t)}xt(t){this.cn.Zt(t)}Mt(t){this.cn.Yt(t)}vt(){this.cn.rn()}}class Lk{constructor(t){this.cn=t}Bt(t){this.cn.jt(t)}xt(t){this.cn.Xt(t)}Mt(t){this.cn.nn(t)}vt(){this.cn._n()}}class oc{constructor(){this.cn=new Ok,this.ascending=new kk(this.cn),this.descending=new Lk(this.cn)}seed(t){this.cn.seed(t)}ln(t){return t===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class Ha{constructor(t,e,s,a){this.hn=t,this.Pn=e,this.Tn=s,this.In=a}En(){const t=this.In.length,e=t===0||this.In[t-1]===255?t+1:t,s=new Uint8Array(e);return s.set(this.In,0),e!==t?s.set([0],this.In.length):++s[s.length-1],new Ha(this.hn,this.Pn,this.Tn,s)}Rn(t,e,s){return{indexId:this.hn,uid:t,arrayValue:Rd(this.Tn),directionalValue:Rd(this.In),orderedDocumentKey:Rd(e),documentKey:s.path.toArray()}}An(t,e,s){const a=this.Rn(t,e,s);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Sr(n,t){let e=n.hn-t.hn;return e!==0?e:(e=cA(n.Tn,t.Tn),e!==0?e:(e=cA(n.In,t.In),e!==0?e:ht.comparator(n.Pn,t.Pn)))}function cA(n,t){for(let e=0;e<n.length&&e<t.length;++e){const s=n[e]-t[e];if(s!==0)return s}return n.length-t.length}function Rd(n){return Aw()?(function(e){let s="";for(let a=0;a<e.length;a++)s+=String.fromCharCode(e[a]);return s})(n):n}function hA(n){return typeof n!="string"?n:(function(e){const s=new Uint8Array(e.length);for(let a=0;a<e.length;a++)s[a]=e.charCodeAt(a);return s})(n)}class fA{constructor(t){this.Vn=new ne(((e,s)=>ye.comparator(e.field,s.field))),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.dn=t.orderBy,this.mn=[];for(const e of t.filters){const s=e;s.isInequality()?this.Vn=this.Vn.add(s):this.mn.push(s)}}get fn(){return this.Vn.size>1}gn(t){if(_t(t.collectionGroup===this.collectionId,49279),this.fn)return!1;const e=Ly(t);if(e!==void 0&&!this.pn(e))return!1;const s=Ua(t);let a=new Set,l=0,u=0;for(;l<s.length&&this.pn(s[l]);++l)a=a.add(s[l].fieldPath.canonicalString());if(l===s.length)return!0;if(this.Vn.size>0){const h=this.Vn.getIterator().getNext();if(!a.has(h.field.canonicalString())){const d=s[l];if(!this.yn(h,d)||!this.wn(this.dn[u++],d))return!1}++l}for(;l<s.length;++l){const h=s[l];if(u>=this.dn.length||!this.wn(this.dn[u++],h))return!1}return!0}bn(){if(this.fn)return null;let t=new ne(ye.comparator);const e=[];for(const s of this.mn)if(!s.field.isKeyField())if(s.op==="array-contains"||s.op==="array-contains-any")e.push(new vd(s.field,2));else{if(t.has(s.field))continue;t=t.add(s.field),e.push(new vd(s.field,0))}for(const s of this.dn)s.field.isKeyField()||t.has(s.field)||(t=t.add(s.field),e.push(new vd(s.field,s.dir==="asc"?0:1)));return new qd(qd.UNKNOWN_ID,this.collectionId,e,Lc.empty())}pn(t){for(const e of this.mn)if(this.yn(e,t))return!0;return!1}yn(t,e){if(t===void 0||!t.field.isEqual(e.fieldPath))return!1;const s=t.op==="array-contains"||t.op==="array-contains-any";return e.kind===2===s}wn(t,e){return!!t.field.isEqual(e.fieldPath)&&(e.kind===0&&t.dir==="asc"||e.kind===1&&t.dir==="desc")}}function VR(n){if(_t(n instanceof zt||n instanceof ee,20012),n instanceof zt){if(n instanceof WI){const e=n.value.arrayValue?.values?.map((s=>zt.create(n.field,"==",s)))||[];return ee.create(e,"or")}return n}const t=n.filters.map((e=>VR(e)));return ee.create(t,n.op)}function Uk(n){if(n.getFilters().length===0)return[];const t=e_(VR(n));return _t(MR(t),7391),Jy(t)||t_(t)?[t]:t.getFilters()}function Jy(n){return n instanceof zt}function t_(n){return n instanceof ee&&tv(n)}function MR(n){return Jy(n)||t_(n)||(function(e){if(e instanceof ee&&Hy(e)){for(const s of e.getFilters())if(!Jy(s)&&!t_(s))return!1;return!0}return!1})(n)}function e_(n){if(_t(n instanceof zt||n instanceof ee,34018),n instanceof zt)return n;if(n.filters.length===1)return e_(n.filters[0]);const t=n.filters.map((s=>e_(s)));let e=ee.create(t,n.op);return e=Wd(e),MR(e)?e:(_t(e instanceof ee,64498),_t(Pl(e),40251),_t(e.filters.length>1,57927),e.filters.reduce(((s,a)=>lv(s,a))))}function lv(n,t){let e;return _t(n instanceof zt||n instanceof ee,38388),_t(t instanceof zt||t instanceof ee,25473),e=n instanceof zt?t instanceof zt?(function(a,l){return ee.create([a,l],"and")})(n,t):dA(n,t):t instanceof zt?dA(t,n):(function(a,l){if(_t(a.filters.length>0&&l.filters.length>0,48005),Pl(a)&&Pl(l))return QI(a,l.getFilters());const u=Hy(a)?a:l,h=Hy(a)?l:a,d=u.filters.map((p=>lv(p,h)));return ee.create(d,"or")})(n,t),Wd(e)}function dA(n,t){if(Pl(t))return QI(t,n.getFilters());{const e=t.filters.map((s=>lv(n,s)));return ee.create(e,"or")}}function Wd(n){if(_t(n instanceof zt||n instanceof ee,11850),n instanceof zt)return n;const t=n.getFilters();if(t.length===1)return Wd(t[0]);if(KI(n))return n;const e=t.map((a=>Wd(a))),s=[];return e.forEach((a=>{a instanceof zt?s.push(a):a instanceof ee&&(a.op===n.op?s.push(...a.filters):s.push(a))})),s.length===1?s[0]:ee.create(s,n.op)}class Bk{constructor(){this.Sn=new uv}addToCollectionParentIndex(t,e){return this.Sn.add(e),F.resolve()}getCollectionParents(t,e){return F.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return F.resolve()}deleteFieldIndex(t,e){return F.resolve()}deleteAllFieldIndexes(t){return F.resolve()}createTargetIndexes(t,e){return F.resolve()}getDocumentsMatchingTarget(t,e){return F.resolve(null)}getIndexType(t,e){return F.resolve(0)}getFieldIndexes(t,e){return F.resolve([])}getNextCollectionGroupToUpdate(t){return F.resolve(null)}getMinOffset(t,e){return F.resolve(qn.min())}getMinOffsetFromCollectionGroup(t,e){return F.resolve(qn.min())}updateCollectionGroup(t,e,s){return F.resolve()}updateIndexEntries(t,e){return F.resolve()}}class uv{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e]||new ne(Ht.comparator),l=!a.has(s);return this.index[e]=a.add(s),l}has(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e];return a&&a.has(s)}getEntries(t){return(this.index[t]||new ne(Ht.comparator)).toArray()}}const mA="IndexedDbIndexManager",rd=new Uint8Array(0);class zk{constructor(t,e){this.databaseId=e,this.Dn=new uv,this.Cn=new js((s=>so(s)),((s,a)=>hh(s,a))),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Dn.has(e)){const s=e.lastSegment(),a=e.popLast();t.addOnCommittedListener((()=>{this.Dn.add(e)}));const l={collectionId:s,parent:pn(a)};return pA(t).put(l)}return F.resolve()}getCollectionParents(t,e){const s=[],a=IDBKeyRange.bound([e,""],[_I(e),""],!1,!0);return pA(t).H(a).next((l=>{for(const u of l){if(u.collectionId!==e)break;s.push(Zi(u.parent))}return s}))}addFieldIndex(t,e){const s=lc(t),a=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(e);delete a.indexId;const l=s.add(a);if(e.indexState){const u=al(t);return l.next((h=>{u.put(aA(h,this.uid,e.indexState.sequenceNumber,e.indexState.offset))}))}return l.next()}deleteFieldIndex(t,e){const s=lc(t),a=al(t),l=rl(t);return s.delete(e.indexId).next((()=>a.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))))}deleteAllFieldIndexes(t){const e=lc(t),s=rl(t),a=al(t);return e.X().next((()=>s.X())).next((()=>a.X()))}createTargetIndexes(t,e){return F.forEach(this.vn(e),(s=>this.getIndexType(t,s).next((a=>{if(a===0||a===1){const l=new fA(s).bn();if(l!=null)return this.addFieldIndex(t,l)}}))))}getDocumentsMatchingTarget(t,e){const s=rl(t);let a=!0;const l=new Map;return F.forEach(this.vn(e),(u=>this.Fn(t,u).next((h=>{a&&(a=!!h),l.set(u,h)})))).next((()=>{if(a){let u=Nt();const h=[];return F.forEach(l,((d,p)=>{lt(mA,`Using index ${(function(z){return`id=${z.indexId}|cg=${z.collectionGroup}|f=${z.fields.map((Q=>`${Q.fieldPath}:${Q.kind}`)).join(",")}`})(d)} to execute ${so(e)}`);const y=(function(z,Q){const rt=Ly(Q);if(rt===void 0)return null;for(const at of $d(z,rt.fieldPath))switch(at.op){case"array-contains-any":return at.value.arrayValue.values||[];case"array-contains":return[at.value]}return null})(p,d),v=(function(z,Q){const rt=new Map;for(const at of Ua(Q))for(const R of $d(z,at.fieldPath))switch(R.op){case"==":case"in":rt.set(at.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return rt.set(at.fieldPath.canonicalString(),R.value),Array.from(rt.values())}return null})(p,d),E=(function(z,Q){const rt=[];let at=!0;for(const R of Ua(Q)){const A=R.kind===0?KS(z,R.fieldPath,z.startAt):YS(z,R.fieldPath,z.startAt);rt.push(A.value),at&&(at=A.inclusive)}return new Nl(rt,at)})(p,d),I=(function(z,Q){const rt=[];let at=!0;for(const R of Ua(Q)){const A=R.kind===0?YS(z,R.fieldPath,z.endAt):KS(z,R.fieldPath,z.endAt);rt.push(A.value),at&&(at=A.inclusive)}return new Nl(rt,at)})(p,d),N=this.Mn(d,p,E),U=this.Mn(d,p,I),L=this.xn(d,p,v),Y=this.On(d.indexId,y,N,E.inclusive,U,I.inclusive,L);return F.forEach(Y,(W=>s.Z(W,e.limit).next((z=>{z.forEach((Q=>{const rt=ht.fromSegments(Q.documentKey);u.has(rt)||(u=u.add(rt),h.push(rt))}))}))))})).next((()=>h))}return F.resolve(null)}))}vn(t){let e=this.Cn.get(t);return e||(t.filters.length===0?e=[t]:e=Uk(ee.create(t.filters,"and")).map((s=>Ky(t.path,t.collectionGroup,t.orderBy,s.getFilters(),t.limit,t.startAt,t.endAt))),this.Cn.set(t,e),e)}On(t,e,s,a,l,u,h){const d=(e!=null?e.length:1)*Math.max(s.length,l.length),p=d/(e!=null?e.length:1),y=[];for(let v=0;v<d;++v){const E=e?this.Nn(e[v/p]):rd,I=this.Bn(t,E,s[v%p],a),N=this.Ln(t,E,l[v%p],u),U=h.map((L=>this.Bn(t,E,L,!0)));y.push(...this.createRange(I,N,U))}return y}Bn(t,e,s,a){const l=new Ha(t,ht.empty(),e,s);return a?l:l.En()}Ln(t,e,s,a){const l=new Ha(t,ht.empty(),e,s);return a?l.En():l}Fn(t,e){const s=new fA(e),a=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,a).next((l=>{let u=null;for(const h of l)s.gn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u}))}getIndexType(t,e){let s=2;const a=this.vn(e);return F.forEach(a,(l=>this.Fn(t,l).next((u=>{u?s!==0&&u.fields.length<(function(d){let p=new ne(ye.comparator),y=!1;for(const v of d.filters)for(const E of v.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?y=!0:p=p.add(E.field));for(const v of d.orderBy)v.field.isKeyField()||(p=p.add(v.field));return p.size+(y?1:0)})(l)&&(s=1):s=0})))).next((()=>(function(u){return u.limit!==null})(e)&&a.length>1&&s===2?1:s))}kn(t,e){const s=new oc;for(const a of Ua(t)){const l=e.data.field(a.fieldPath);if(l==null)return null;const u=s.ln(a.kind);qa.Wt.Dt(l,u)}return s.un()}Nn(t){const e=new oc;return qa.Wt.Dt(t,e.ln(0)),e.un()}Kn(t,e){const s=new oc;return qa.Wt.Dt(Hc(this.databaseId,e),s.ln((function(l){const u=Ua(l);return u.length===0?0:u[u.length-1].kind})(t))),s.un()}xn(t,e,s){if(s===null)return[];let a=[];a.push(new oc);let l=0;for(const u of Ua(t)){const h=s[l++];for(const d of a)if(this.qn(e,u.fieldPath)&&Gc(h))a=this.Un(a,u,h);else{const p=d.ln(u.kind);qa.Wt.Dt(h,p)}}return this.$n(a)}Mn(t,e,s){return this.xn(t,e,s.position)}$n(t){const e=[];for(let s=0;s<t.length;++s)e[s]=t[s].un();return e}Un(t,e,s){const a=[...t],l=[];for(const u of s.arrayValue.values||[])for(const h of a){const d=new oc;d.seed(h.un()),qa.Wt.Dt(u,d.ln(e.kind)),l.push(d)}return l}qn(t,e){return!!t.filters.find((s=>s instanceof zt&&s.field.isEqual(e)&&(s.op==="in"||s.op==="not-in")))}getFieldIndexes(t,e){const s=lc(t),a=al(t);return(e?s.H(By,IDBKeyRange.bound(e,e)):s.H()).next((l=>{const u=[];return F.forEach(l,(h=>a.get([h.indexId,this.uid]).next((d=>{u.push((function(y,v){const E=v?new Lc(v.sequenceNumber,new qn(ao(v.readTime),new ht(Zi(v.documentKey)),v.largestBatchId)):Lc.empty(),I=y.fields.map((([N,U])=>new vd(ye.fromServerFormat(N),U)));return new qd(y.indexId,y.collectionGroup,I,E)})(h,d))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((e=>e.length===0?null:(e.sort(((s,a)=>{const l=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return l!==0?l:It(s.collectionGroup,a.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(t,e,s){const a=lc(t),l=al(t);return this.Wn(t).next((u=>a.H(By,IDBKeyRange.bound(e,e)).next((h=>F.forEach(h,(d=>l.put(aA(d.indexId,this.uid,u,s))))))))}updateIndexEntries(t,e){const s=new Map;return F.forEach(e,((a,l)=>{const u=s.get(a.collectionGroup);return(u?F.resolve(u):this.getFieldIndexes(t,a.collectionGroup)).next((h=>(s.set(a.collectionGroup,h),F.forEach(h,(d=>this.Qn(t,a,d).next((p=>{const y=this.Gn(l,d);return p.isEqual(y)?F.resolve():this.zn(t,l,d,p,y)})))))))}))}jn(t,e,s,a){return rl(t).put(a.Rn(this.uid,this.Kn(s,e.key),e.key))}Hn(t,e,s,a){return rl(t).delete(a.An(this.uid,this.Kn(s,e.key),e.key))}Qn(t,e,s){const a=rl(t);let l=new ne(Sr);return a.ee({index:CI,range:IDBKeyRange.only([s.indexId,this.uid,Rd(this.Kn(s,e))])},((u,h)=>{l=l.add(new Ha(s.indexId,e,hA(h.arrayValue),hA(h.directionalValue)))})).next((()=>l))}Gn(t,e){let s=new ne(Sr);const a=this.kn(e,t);if(a==null)return s;const l=Ly(e);if(l!=null){const u=t.data.field(l.fieldPath);if(Gc(u))for(const h of u.arrayValue.values||[])s=s.add(new Ha(e.indexId,t.key,this.Nn(h),a))}else s=s.add(new Ha(e.indexId,t.key,rd,a));return s}zn(t,e,s,a,l){lt(mA,"Updating index entries for document '%s'",e.key);const u=[];return(function(d,p,y,v,E){const I=d.getIterator(),N=p.getIterator();let U=il(I),L=il(N);for(;U||L;){let Y=!1,W=!1;if(U&&L){const z=y(U,L);z<0?W=!0:z>0&&(Y=!0)}else U!=null?W=!0:Y=!0;Y?(v(L),L=il(N)):W?(E(U),U=il(I)):(U=il(I),L=il(N))}})(a,l,Sr,(h=>{u.push(this.jn(t,e,s,h))}),(h=>{u.push(this.Hn(t,e,s,h))})),F.waitFor(u)}Wn(t){let e=1;return al(t).ee({index:xI,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((s,a,l)=>{l.done(),e=a.sequenceNumber+1})).next((()=>e))}createRange(t,e,s){s=s.sort(((u,h)=>Sr(u,h))).filter(((u,h,d)=>!h||Sr(u,d[h-1])!==0));const a=[];a.push(t);for(const u of s){const h=Sr(u,t),d=Sr(u,e);if(h===0)a[0]=t.En();else if(h>0&&d<0)a.push(u),a.push(u.En());else if(d>0)break}a.push(e);const l=[];for(let u=0;u<a.length;u+=2){if(this.Jn(a[u],a[u+1]))return[];const h=a[u].An(this.uid,rd,ht.empty()),d=a[u+1].An(this.uid,rd,ht.empty());l.push(IDBKeyRange.bound(h,d))}return l}Jn(t,e){return Sr(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(gA)}getMinOffset(t,e){return F.mapArray(this.vn(e),(s=>this.Fn(t,s).next((a=>a||mt(44426))))).next(gA)}}function pA(n){return Qe(n,jc)}function rl(n){return Qe(n,Ac)}function lc(n){return Qe(n,Q_)}function al(n){return Qe(n,Sc)}function gA(n){_t(n.length!==0,28825);let t=n[0].indexState.offset,e=t.largestBatchId;for(let s=1;s<n.length;s++){const a=n[s].indexState.offset;G_(a,t)<0&&(t=a),e<a.largestBatchId&&(e=a.largestBatchId)}return new qn(t.readTime,t.documentKey,e)}const yA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NR=41943040;class dn{static withCacheSize(t){return new dn(t,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}function PR(n,t,e){const s=n.store(bi),a=n.store(Rl),l=[],u=IDBKeyRange.only(e.batchId);let h=0;const d=s.ee({range:u},((y,v,E)=>(h++,E.delete())));l.push(d.next((()=>{_t(h===1,47070,{batchId:e.batchId})})));const p=[];for(const y of e.mutations){const v=wI(t,y.key.path,e.batchId);l.push(a.delete(v)),p.push(y.key)}return F.waitFor(l).next((()=>p))}function Zd(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw mt(14731);t=n.noDocument}return JSON.stringify(t).length}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(NR,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class Vm{constructor(t,e,s,a){this.userId=t,this.serializer=e,this.indexManager=s,this.referenceDelegate=a,this.Zn={}}static wt(t,e,s,a){_t(t.uid!=="",64387);const l=t.isAuthenticated()?t.uid:"";return new Vm(l,e,s,a)}checkEmpty(t){let e=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ar(t).ee({index:Ga,range:s},((a,l,u)=>{e=!1,u.done()})).next((()=>e))}addMutationBatch(t,e,s,a){const l=fl(t),u=Ar(t);return u.add({}).next((h=>{_t(typeof h=="number",49019);const d=new iv(h,e,s,a),p=(function(I,N,U){const L=U.baseMutations.map((W=>$c(I.yt,W))),Y=U.mutations.map((W=>$c(I.yt,W)));return{userId:N,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:L,mutations:Y}})(this.serializer,this.userId,d),y=[];let v=new ne(((E,I)=>It(E.canonicalString(),I.canonicalString())));for(const E of a){const I=wI(this.userId,E.key.path,h);v=v.add(E.key.path.popLast()),y.push(u.put(p)),y.push(l.put(I,fO))}return v.forEach((E=>{y.push(this.indexManager.addToCollectionParentIndex(t,E))})),t.addOnCommittedListener((()=>{this.Zn[h]=d.keys()})),F.waitFor(y).next((()=>d))}))}lookupMutationBatch(t,e){return Ar(t).get(e).next((s=>s?(_t(s.userId===this.userId,48,"Unexpected user for mutation batch",{userId:s.userId,batchId:e}),Fa(this.serializer,s)):null))}Xn(t,e){return this.Zn[e]?F.resolve(this.Zn[e]):this.lookupMutationBatch(t,e).next((s=>{if(s){const a=s.keys();return this.Zn[e]=a,a}return null}))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,a=IDBKeyRange.lowerBound([this.userId,s]);let l=null;return Ar(t).ee({index:Ga,range:a},((u,h,d)=>{h.userId===this.userId&&(_t(h.batchId>=s,47524,{Yn:s}),l=Fa(this.serializer,h)),d.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=Qa;return Ar(t).ee({index:Ga,range:e,reverse:!0},((a,l,u)=>{s=l.batchId,u.done()})).next((()=>s))}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,Qa],[this.userId,Number.POSITIVE_INFINITY]);return Ar(t).H(Ga,e).next((s=>s.map((a=>Fa(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(t,e){const s=Td(this.userId,e.path),a=IDBKeyRange.lowerBound(s),l=[];return fl(t).ee({range:a},((u,h,d)=>{const[p,y,v]=u,E=Zi(y);if(p===this.userId&&e.path.isEqual(E))return Ar(t).get(v).next((I=>{if(!I)throw mt(61480,{er:u,batchId:v});_t(I.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:I.userId,batchId:v}),l.push(Fa(this.serializer,I))}));d.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new ne(It);const a=[];return e.forEach((l=>{const u=Td(this.userId,l.path),h=IDBKeyRange.lowerBound(u),d=fl(t).ee({range:h},((p,y,v)=>{const[E,I,N]=p,U=Zi(I);E===this.userId&&l.path.isEqual(U)?s=s.add(N):v.done()}));a.push(d)})),F.waitFor(a).next((()=>this.tr(t,s)))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,a=s.length+1,l=Td(this.userId,s),u=IDBKeyRange.lowerBound(l);let h=new ne(It);return fl(t).ee({range:u},((d,p,y)=>{const[v,E,I]=d,N=Zi(E);v===this.userId&&s.isPrefixOf(N)?N.length===a&&(h=h.add(I)):y.done()})).next((()=>this.tr(t,h)))}tr(t,e){const s=[],a=[];return e.forEach((l=>{a.push(Ar(t).get(l).next((u=>{if(u===null)throw mt(35274,{batchId:l});_t(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:l}),s.push(Fa(this.serializer,u))})))})),F.waitFor(a).next((()=>s))}removeMutationBatch(t,e){return PR(t.le,this.userId,e).next((s=>(t.addOnCommittedListener((()=>{this.nr(e.batchId)})),F.forEach(s,(a=>this.referenceDelegate.markPotentiallyOrphaned(t,a))))))}nr(t){delete this.Zn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((e=>{if(!e)return F.resolve();const s=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),a=[];return fl(t).ee({range:s},((l,u,h)=>{if(l[0]===this.userId){const d=Zi(l[1]);a.push(d)}else h.done()})).next((()=>{_t(a.length===0,56720,{rr:a.map((l=>l.canonicalString()))})}))}))}containsKey(t,e){return OR(t,this.userId,e)}ir(t){return kR(t).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:Qa,lastStreamToken:""}))}}function OR(n,t,e){const s=Td(t,e.path),a=s[1],l=IDBKeyRange.lowerBound(s);let u=!1;return fl(n).ee({range:l,Y:!0},((h,d,p)=>{const[y,v,E]=h;y===t&&v===a&&(u=!0),p.done()})).next((()=>u))}function Ar(n){return Qe(n,bi)}function fl(n){return Qe(n,Rl)}function kR(n){return Qe(n,Bc)}class oo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new oo(0)}static ar(){return new oo(-1)}}class jk{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.ur(t).next((e=>{const s=new oo(e.highestTargetId);return e.highestTargetId=s.next(),this.cr(t,e).next((()=>e.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.ur(t).next((e=>Tt.fromTimestamp(new te(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.ur(t).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(t,e,s){return this.ur(t).next((a=>(a.highestListenSequenceNumber=e,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),e>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=e),this.cr(t,a))))}addTargetData(t,e){return this.lr(t,e).next((()=>this.ur(t).next((s=>(s.targetCount+=1,this.hr(e,s),this.cr(t,s))))))}updateTargetData(t,e){return this.lr(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next((()=>ol(t).delete(e.targetId))).next((()=>this.ur(t))).next((s=>(_t(s.targetCount>0,8065),s.targetCount-=1,this.cr(t,s))))}removeTargets(t,e,s){let a=0;const l=[];return ol(t).ee(((u,h)=>{const d=gc(h);d.sequenceNumber<=e&&s.get(d.targetId)===null&&(a++,l.push(this.removeTargetData(t,d)))})).next((()=>F.waitFor(l))).next((()=>a))}forEachTarget(t,e){return ol(t).ee(((s,a)=>{const l=gc(a);e(l)}))}ur(t){return _A(t).get(Kd).next((e=>(_t(e!==null,2888),e)))}cr(t,e){return _A(t).put(Kd,e)}lr(t,e){return ol(t).put(CR(this.serializer,e))}hr(t,e){let s=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,s=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,s=!0),s}getTargetCount(t){return this.ur(t).next((e=>e.targetCount))}getTargetData(t,e){const s=so(e),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let l=null;return ol(t).ee({range:a,index:RI},((u,h,d)=>{const p=gc(h);hh(e,p.target)&&(l=p,d.done())})).next((()=>l))}addMatchingKeys(t,e,s){const a=[],l=Vr(t);return e.forEach((u=>{const h=pn(u.path);a.push(l.put({targetId:s,path:h})),a.push(this.referenceDelegate.addReference(t,s,u))})),F.waitFor(a)}removeMatchingKeys(t,e,s){const a=Vr(t);return F.forEach(e,(l=>{const u=pn(l.path);return F.waitFor([a.delete([s,u]),this.referenceDelegate.removeReference(t,s,l)])}))}removeMatchingKeysForTargetId(t,e){const s=Vr(t),a=IDBKeyRange.bound([e],[e+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(t,e){const s=IDBKeyRange.bound([e],[e+1],!1,!0),a=Vr(t);let l=Nt();return a.ee({range:s,Y:!0},((u,h,d)=>{const p=Zi(u[1]),y=new ht(p);l=l.add(y)})).next((()=>l))}containsKey(t,e){const s=pn(e.path),a=IDBKeyRange.bound([s],[_I(s)],!1,!0);let l=0;return Vr(t).ee({index:Y_,Y:!0,range:a},(([u,h],d,p)=>{u!==0&&(l++,p.done())})).next((()=>l>0))}At(t,e){return ol(t).get(e).next((s=>s?gc(s):null))}}function ol(n){return Qe(n,xl)}function _A(n){return Qe(n,$a)}function Vr(n){return Qe(n,Cl)}const vA="LruGarbageCollector",Fk=1048576;function TA([n,t],[e,s]){const a=It(n,e);return a===0?It(t,s):a}class qk{constructor(t){this.Pr=t,this.buffer=new ne(TA),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();TA(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class LR{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){lt(vA,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Zr(e)?lt(vA,"Ignoring IndexedDB error during garbage collection: ",e):await uo(e)}await this.Ar(3e5)}))}}class Hk{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((s=>Math.floor(e/100*s)))}nthSequenceNumber(t,e){if(e===0)return F.resolve(si.ce);const s=new qk(e);return this.Vr.forEachTarget(t,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(t,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(t,e,s){return this.Vr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(yA)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yA):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let s,a,l,u,h,d,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(t,a)))).next((v=>(s=v,h=Date.now(),this.removeTargets(t,s,e)))).next((v=>(l=v,d=Date.now(),this.removeOrphanedDocuments(t,s)))).next((v=>(p=Date.now(),ll()<=Bt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-y}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function UR(n,t){return new Hk(n,t)}class Gk{constructor(t,e){this.db=t,this.garbageCollector=UR(this,e)}dr(t){const e=this.pr(t);return this.db.getTargetCache().getTargetCount(t).next((s=>e.next((a=>s+a))))}pr(t){let e=0;return this.mr(t,(s=>{e++})).next((()=>e))}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}mr(t,e){return this.yr(t,((s,a)=>e(a)))}addReference(t,e,s){return ad(t,s)}removeReference(t,e,s){return ad(t,s)}removeTargets(t,e,s){return this.db.getTargetCache().removeTargets(t,e,s)}markPotentiallyOrphaned(t,e){return ad(t,e)}wr(t,e){return(function(a,l){let u=!1;return kR(a).te((h=>OR(a,h,l).next((d=>(d&&(u=!0),F.resolve(!d)))))).next((()=>u))})(t,e)}removeOrphanedDocuments(t,e){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.yr(t,((u,h)=>{if(h<=e){const d=this.wr(t,u).next((p=>{if(!p)return l++,s.getEntry(t,u).next((()=>(s.removeEntry(u,Tt.min()),Vr(t).delete((function(v){return[0,pn(v.path)]})(u)))))}));a.push(d)}})).next((()=>F.waitFor(a))).next((()=>s.apply(t))).next((()=>l))}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,s)}updateLimboDocument(t,e){return ad(t,e)}yr(t,e){const s=Vr(t);let a,l=si.ce;return s.ee({index:Y_},(([u,h],{path:d,sequenceNumber:p})=>{u===0?(l!==si.ce&&e(new ht(Zi(a)),l),l=p,a=d):l=si.ce})).next((()=>{l!==si.ce&&e(new ht(Zi(a)),l)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function ad(n,t){return Vr(n).put((function(s,a){return{targetId:0,path:pn(s.path),sequenceNumber:a}})(t,n.currentSequenceNumber))}class BR{constructor(){this.changes=new js((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,pe.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?F.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Kk{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,s){return Pa(t).put(s)}removeEntry(t,e,s){return Pa(t).delete((function(l,u){const h=l.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Xd(u),h[h.length-1]]})(e,s))}updateMetadata(t,e){return this.getMetadata(t).next((s=>(s.byteSize+=e,this.br(t,s))))}getEntry(t,e){let s=pe.newInvalidDocument(e);return Pa(t).ee({index:Ed,range:IDBKeyRange.only(uc(e))},((a,l)=>{s=this.Sr(e,l)})).next((()=>s))}Dr(t,e){let s={size:0,document:pe.newInvalidDocument(e)};return Pa(t).ee({index:Ed,range:IDBKeyRange.only(uc(e))},((a,l)=>{s={document:this.Sr(e,l),size:Zd(l)}})).next((()=>s))}getEntries(t,e){let s=Fn();return this.Cr(t,e,((a,l)=>{const u=this.Sr(a,l);s=s.insert(a,u)})).next((()=>s))}vr(t,e){let s=Fn(),a=new ge(ht.comparator);return this.Cr(t,e,((l,u)=>{const h=this.Sr(l,u);s=s.insert(l,h),a=a.insert(l,Zd(u))})).next((()=>({documents:s,Fr:a})))}Cr(t,e,s){if(e.isEmpty())return F.resolve();let a=new ne(SA);e.forEach((d=>a=a.add(d)));const l=IDBKeyRange.bound(uc(a.first()),uc(a.last())),u=a.getIterator();let h=u.getNext();return Pa(t).ee({index:Ed,range:l},((d,p,y)=>{const v=ht.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;h&&SA(h,v)<0;)s(h,null),h=u.getNext();h&&h.isEqual(v)&&(s(h,p),h=u.hasNext()?u.getNext():null),h?y.j(uc(h)):y.done()})).next((()=>{for(;h;)s(h,null),h=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(t,e,s,a,l){const u=e.path,h=[u.popLast().toArray(),u.lastSegment(),Xd(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],d=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Pa(t).H(IDBKeyRange.bound(h,d,!0)).next((p=>{l?.incrementDocumentReadCount(p.length);let y=Fn();for(const v of p){const E=this.Sr(ht.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);E.isFoundDocument()&&(dh(e,E)||a.has(E.key))&&(y=y.insert(E.key,E))}return y}))}getAllFromCollectionGroup(t,e,s,a){let l=Fn();const u=bA(e,s),h=bA(e,qn.max());return Pa(t).ee({index:II,range:IDBKeyRange.bound(u,h,!0)},((d,p,y)=>{const v=this.Sr(ht.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);l=l.insert(v.key,v),l.size===a&&y.done()})).next((()=>l))}newChangeBuffer(t){return new Yk(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((e=>e.byteSize))}getMetadata(t){return EA(t).get(Uy).next((e=>(_t(!!e,20021),e)))}br(t,e){return EA(t).put(Uy,e)}Sr(t,e){if(e){const s=Vk(this.serializer,e);if(!(s.isNoDocument()&&s.version.isEqual(Tt.min())))return s}return pe.newInvalidDocument(t)}}function zR(n){return new Kk(n)}class Yk extends BR{constructor(t,e){super(),this.Mr=t,this.trackRemovals=e,this.Or=new js((s=>s.toString()),((s,a)=>s.isEqual(a)))}applyChanges(t){const e=[];let s=0,a=new ne(((l,u)=>It(l.canonicalString(),u.canonicalString())));return this.changes.forEach(((l,u)=>{const h=this.Or.get(l);if(e.push(this.Mr.removeEntry(t,l,h.readTime)),u.isValidDocument()){const d=sA(this.Mr.serializer,u);a=a.add(l.path.popLast());const p=Zd(d);s+=p-h.size,e.push(this.Mr.addEntry(t,l,d))}else if(s-=h.size,this.trackRemovals){const d=sA(this.Mr.serializer,u.convertToNoDocument(Tt.min()));e.push(this.Mr.addEntry(t,l,d))}})),a.forEach((l=>{e.push(this.Mr.indexManager.addToCollectionParentIndex(t,l))})),e.push(this.Mr.updateMetadata(t,s)),F.waitFor(e)}getFromCache(t,e){return this.Mr.Dr(t,e).next((s=>(this.Or.set(e,{size:s.size,readTime:s.document.readTime}),s.document)))}getAllFromCache(t,e){return this.Mr.vr(t,e).next((({documents:s,Fr:a})=>(a.forEach(((l,u)=>{this.Or.set(l,{size:u,readTime:s.get(l).readTime})})),s)))}}function EA(n){return Qe(n,zc)}function Pa(n){return Qe(n,Gd)}function uc(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function bA(n,t){const e=t.documentKey.path.toArray();return[n,Xd(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function SA(n,t){const e=n.path.toArray(),s=t.path.toArray();let a=0;for(let l=0;l<e.length-2&&l<s.length-2;++l)if(a=It(e[l],s[l]),a)return a;return a=It(e.length,s.length),a||(a=It(e[e.length-2],s[s.length-2]),a||It(e[e.length-1],s[s.length-1]))}class Qk{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class jR{constructor(t,e,s,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(s=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(s!==null&&xc(s.mutation,a,Cn.empty(),te.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.getLocalViewOfDocuments(t,s,Nt()).next((()=>s))))}getLocalViewOfDocuments(t,e,s=Nt()){const a=Ji();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,s).next((l=>{let u=mc();return l.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(t,e){const s=Ji();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,Nt())))}populateOverlays(t,e,s){const a=[];return s.forEach((l=>{e.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((u,h)=>{e.set(u,h)}))}))}computeViews(t,e,s,a){let l=Fn();const u=Rc(),h=(function(){return Rc()})();return e.forEach(((d,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Fs)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),xc(y.mutation,p,y.mutation.getFieldMask(),te.now())):u.set(p.key,Cn.empty())})),this.recalculateAndSaveOverlays(t,l).next((d=>(d.forEach(((p,y)=>u.set(p,y))),e.forEach(((p,y)=>h.set(p,new Qk(y,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(t,e){const s=Rc();let a=new ge(((u,h)=>u-h)),l=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((u=>{for(const h of u)h.keys().forEach((d=>{const p=e.get(d);if(p===null)return;let y=s.get(d)||Cn.empty();y=h.applyToLocalView(p,y),s.set(d,y);const v=(a.get(h.batchId)||Nt()).add(d);a=a.insert(h.batchId,v)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,y=d.value,v=iR();y.forEach((E=>{if(!l.has(E)){const I=cR(e.get(E),s.get(E));I!==null&&v.set(E,I),l=l.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(t,p,v))}return F.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,e,s,a){return XO(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):ZI(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,a):this.getDocumentsMatchingCollectionQuery(t,e,s,a)}getNextDocuments(t,e,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,a-l.size):F.resolve(Ji());let h=kc,d=l;return u.next((p=>F.forEach(p,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?F.resolve():this.remoteDocumentCache.getEntry(t,y).next((E=>{d=d.insert(y,E)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,d,p,Nt()))).next((y=>({batchId:h,changes:nR(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ht(e)).next((s=>{let a=mc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,s,a){const l=e.collectionGroup;let u=mc();return this.indexManager.getCollectionParents(t,l).next((h=>F.forEach(h,(d=>{const p=(function(v,E){return new Yl(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(e,d.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,s,a).next((y=>{y.forEach(((v,E)=>{u=u.insert(v,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(t,e,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,l,a)))).next((u=>{l.forEach(((d,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,pe.newInvalidDocument(y)))}));let h=mc();return u.forEach(((d,p)=>{const y=l.get(d);y!==void 0&&xc(y.mutation,p,Cn.empty(),te.now()),dh(e,p)&&(h=h.insert(d,p))})),h}))}}class $k{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return F.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:Je(a.createTime)}})(e)),F.resolve()}getNamedQuery(t,e){return F.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(a){return{name:a.name,query:DR(a.bundledQuery),readTime:Je(a.readTime)}})(e)),F.resolve()}}class Xk{constructor(){this.overlays=new ge(ht.comparator),this.Lr=new Map}getOverlay(t,e){return F.resolve(this.overlays.get(e))}getOverlays(t,e){const s=Ji();return F.forEach(e,(a=>this.getOverlay(t,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(t,e,s){return s.forEach(((a,l)=>{this.bt(t,e,l)})),F.resolve()}removeOverlaysForBatchId(t,e,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),F.resolve()}getOverlaysForCollection(t,e,s){const a=Ji(),l=e.length+1,u=new ht(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!e.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>s&&a.set(d.getKey(),d)}return F.resolve(a)}getOverlaysForCollectionGroup(t,e,s,a){let l=new ge(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===e&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=Ji(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=Ji(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=a)););return F.resolve(h)}bt(t,e,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new rv(e,s));let l=this.Lr.get(e);l===void 0&&(l=Nt(),this.Lr.set(e,l)),this.Lr.set(e,l.add(s.key))}}class Wk{constructor(){this.sessionToken=ze.EMPTY_BYTE_STRING}getSessionToken(t){return F.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,F.resolve()}}class cv{constructor(){this.kr=new ne(Ze.Kr),this.qr=new ne(Ze.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const s=new Ze(t,e);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,e){t.forEach((s=>this.addReference(s,e)))}removeReference(t,e){this.Wr(new Ze(t,e))}Qr(t,e){t.forEach((s=>this.removeReference(s,e)))}Gr(t){const e=new ht(new Ht([])),s=new Ze(e,t),a=new Ze(e,t+1),l=[];return this.qr.forEachInRange([s,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new ht(new Ht([])),s=new Ze(e,t),a=new Ze(e,t+1);let l=Nt();return this.qr.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(t){const e=new Ze(t,0),s=this.kr.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class Ze{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return ht.comparator(t.key,e.key)||It(t.Hr,e.Hr)}static Ur(t,e){return It(t.Hr,e.Hr)||ht.comparator(t.key,e.key)}}class Zk{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new ne(Ze.Kr)}checkEmpty(t){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new iv(l,e,s,a);this.mutationQueue.push(u);for(const h of a)this.Jr=this.Jr.add(new Ze(h.key,l)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return F.resolve(u)}lookupMutationBatch(t,e){return F.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,a=this.Xr(s),l=a<0?0:a;return F.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Qa:this.Yn-1)}getAllMutationBatches(t){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new Ze(e,0),a=new Ze(e,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(u=>{const h=this.Zr(u.Hr);l.push(h)})),F.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new ne(It);return e.forEach((a=>{const l=new Ze(a,0),u=new Ze(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(h=>{s=s.add(h.Hr)}))})),F.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,a=s.length+1;let l=s;ht.isDocumentKey(l)||(l=l.child(""));const u=new Ze(new ht(l),0);let h=new ne(It);return this.Jr.forEachWhile((d=>{const p=d.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(h=h.add(d.Hr)),!0)}),u),F.resolve(this.Yr(h))}Yr(t){const e=[];return t.forEach((s=>{const a=this.Zr(s);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){_t(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return F.forEach(e.mutations,(a=>{const l=new Ze(a.key,e.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,e){const s=new Ze(e,0),a=this.Jr.firstAfterOrEqual(s);return F.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,F.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Jk{constructor(t){this.ti=t,this.docs=(function(){return new ge(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,a=this.docs.get(s),l=a?a.size:0,u=this.ti(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return F.resolve(s?s.document.mutableCopy():pe.newInvalidDocument(e))}getEntries(t,e){let s=Fn();return e.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():pe.newInvalidDocument(a))})),F.resolve(s)}getDocumentsMatchingQuery(t,e,s,a){let l=Fn();const u=e.path,h=new ht(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||G_(EI(y),s)<=0||(a.has(y.key)||dh(e,y))&&(l=l.insert(y.key,y.mutableCopy()))}return F.resolve(l)}getAllFromCollectionGroup(t,e,s,a){mt(9500)}ni(t,e){return F.forEach(this.docs,(s=>e(s)))}newChangeBuffer(t){return new t4(this)}getSize(t){return F.resolve(this.size)}}class t4 extends BR{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?e.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(s)})),F.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class e4{constructor(t){this.persistence=t,this.ri=new js((e=>so(e)),hh),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.ii=0,this.si=new cv,this.targetCount=0,this.oi=oo._r()}forEachTarget(t,e){return this.ri.forEach(((s,a)=>e(a))),F.resolve()}getLastRemoteSnapshotVersion(t){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return F.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.ii&&(this.ii=e),F.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new oo(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,F.resolve()}updateTargetData(t,e){return this.lr(e),F.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,F.resolve()}removeTargets(t,e,s){let a=0;const l=[];return this.ri.forEach(((u,h)=>{h.sequenceNumber<=e&&s.get(h.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)})),F.waitFor(l).next((()=>a))}getTargetCount(t){return F.resolve(this.targetCount)}getTargetData(t,e){const s=this.ri.get(e)||null;return F.resolve(s)}addMatchingKeys(t,e,s){return this.si.$r(e,s),F.resolve()}removeMatchingKeys(t,e,s){this.si.Qr(e,s);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach((u=>{l.push(a.markPotentiallyOrphaned(t,u))})),F.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),F.resolve()}getMatchingKeysForTargetId(t,e){const s=this.si.jr(e);return F.resolve(s)}containsKey(t,e){return F.resolve(this.si.containsKey(e))}}class hv{constructor(t,e){this._i={},this.overlays={},this.ai=new si(0),this.ui=!1,this.ui=!0,this.ci=new Wk,this.referenceDelegate=t(this),this.li=new e4(this),this.indexManager=new Bk,this.remoteDocumentCache=(function(a){return new Jk(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new xR(e),this.Pi=new $k(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Xk,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this._i[t.toKey()];return s||(s=new Zk(e,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,s){lt("MemoryPersistence","Starting transaction:",t);const a=new n4(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(t,e){return F.or(Object.values(this._i).map((s=>()=>s.containsKey(t,e))))}}class n4 extends SI{constructor(t){super(),this.currentSequenceNumber=t}}class Mm{constructor(t){this.persistence=t,this.Ri=new cv,this.Ai=null}static Vi(t){return new Mm(t)}get di(){if(this.Ai)return this.Ai;throw mt(60996)}addReference(t,e,s){return this.Ri.addReference(s,e),this.di.delete(s.toString()),F.resolve()}removeReference(t,e,s){return this.Ri.removeReference(s,e),this.di.add(s.toString()),F.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),F.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.di,(s=>{const a=ht.fromPath(s);return this.mi(t,a).next((l=>{l||e.removeEntry(a,Tt.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((s=>{s?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return F.or([()=>F.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class Jd{constructor(t,e){this.persistence=t,this.fi=new js((s=>pn(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=UR(this,e)}static Vi(t,e){return new Jd(t,e)}Ti(){}Ii(t){return F.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>e.next((a=>s+a))))}pr(t){let e=0;return this.mr(t,(s=>{e++})).next((()=>e))}mr(t,e){return F.forEach(this.fi,((s,a)=>this.wr(t,s,a).next((l=>l?F.resolve():e(a)))))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(t,(u=>this.wr(t,u,e).next((h=>{h||(s++,l.removeEntry(u,Tt.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),F.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.fi.set(s,t.currentSequenceNumber),F.resolve()}removeReference(t,e,s){return this.fi.set(s,t.currentSequenceNumber),F.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),F.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Sd(t.data.value)),e}wr(t,e,s){return F.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.fi.get(e);return F.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class i4{constructor(t){this.serializer=t}k(t,e,s,a){const l=new Tm("createOrUpgrade",e);s<1&&a>=1&&((function(d){d.createObjectStore(ch)})(t),(function(d){d.createObjectStore(Bc,{keyPath:hO}),d.createObjectStore(bi,{keyPath:PS,autoIncrement:!0}).createIndex(Ga,OS,{unique:!0}),d.createObjectStore(Rl)})(t),AA(t),(function(d){d.createObjectStore(Ba)})(t));let u=F.resolve();return s<3&&a>=3&&(s!==0&&((function(d){d.deleteObjectStore(Cl),d.deleteObjectStore(xl),d.deleteObjectStore($a)})(t),AA(t)),u=u.next((()=>(function(d){const p=d.store($a),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Tt.min().toTimestamp(),targetCount:0};return p.put(Kd,y)})(l)))),s<4&&a>=4&&(s!==0&&(u=u.next((()=>(function(d,p){return p.store(bi).H().next((v=>{d.deleteObjectStore(bi),d.createObjectStore(bi,{keyPath:PS,autoIncrement:!0}).createIndex(Ga,OS,{unique:!0});const E=p.store(bi),I=v.map((N=>E.put(N)));return F.waitFor(I)}))})(t,l)))),u=u.next((()=>{(function(d){d.createObjectStore(Dl,{keyPath:TO})})(t)}))),s<5&&a>=5&&(u=u.next((()=>this.gi(l)))),s<6&&a>=6&&(u=u.next((()=>((function(d){d.createObjectStore(zc)})(t),this.pi(l))))),s<7&&a>=7&&(u=u.next((()=>this.yi(l)))),s<8&&a>=8&&(u=u.next((()=>this.wi(t,l)))),s<9&&a>=9&&(u=u.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(t)}))),s<10&&a>=10&&(u=u.next((()=>this.bi(l)))),s<11&&a>=11&&(u=u.next((()=>{(function(d){d.createObjectStore(Em,{keyPath:EO})})(t),(function(d){d.createObjectStore(bm,{keyPath:bO})})(t)}))),s<12&&a>=12&&(u=u.next((()=>{(function(d){const p=d.createObjectStore(Sm,{keyPath:CO});p.createIndex(zy,DO,{unique:!1}),p.createIndex(DI,VO,{unique:!1})})(t)}))),s<13&&a>=13&&(u=u.next((()=>(function(d){const p=d.createObjectStore(Gd,{keyPath:dO});p.createIndex(Ed,mO),p.createIndex(II,pO)})(t))).next((()=>this.Si(t,l))).next((()=>t.deleteObjectStore(Ba)))),s<14&&a>=14&&(u=u.next((()=>this.Di(t,l)))),s<15&&a>=15&&(u=u.next((()=>(function(d){d.createObjectStore(Q_,{keyPath:SO,autoIncrement:!0}).createIndex(By,AO,{unique:!1}),d.createObjectStore(Sc,{keyPath:wO}).createIndex(xI,IO,{unique:!1}),d.createObjectStore(Ac,{keyPath:RO}).createIndex(CI,xO,{unique:!1})})(t)))),s<16&&a>=16&&(u=u.next((()=>{e.objectStore(Sc).clear()})).next((()=>{e.objectStore(Ac).clear()}))),s<17&&a>=17&&(u=u.next((()=>{(function(d){d.createObjectStore($_,{keyPath:MO})})(t)}))),s<18&&a>=18&&Aw()&&(u=u.next((()=>{e.objectStore(Sc).clear()})).next((()=>{e.objectStore(Ac).clear()}))),u}pi(t){let e=0;return t.store(Ba).ee(((s,a)=>{e+=Zd(a)})).next((()=>{const s={byteSize:e};return t.store(zc).put(Uy,s)}))}gi(t){const e=t.store(Bc),s=t.store(bi);return e.H().next((a=>F.forEach(a,(l=>{const u=IDBKeyRange.bound([l.userId,Qa],[l.userId,l.lastAcknowledgedBatchId]);return s.H(Ga,u).next((h=>F.forEach(h,(d=>{_t(d.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const p=Fa(this.serializer,d);return PR(t,l.userId,p).next((()=>{}))}))))}))))}yi(t){const e=t.store(Cl),s=t.store(Ba);return t.store($a).get(Kd).next((a=>{const l=[];return s.ee(((u,h)=>{const d=new Ht(u),p=(function(v){return[0,pn(v)]})(d);l.push(e.get(p).next((y=>y?F.resolve():(v=>e.put({targetId:0,path:pn(v),sequenceNumber:a.highestListenSequenceNumber}))(d))))})).next((()=>F.waitFor(l)))}))}wi(t,e){t.createObjectStore(jc,{keyPath:vO});const s=e.store(jc),a=new uv,l=u=>{if(a.add(u)){const h=u.lastSegment(),d=u.popLast();return s.put({collectionId:h,parent:pn(d)})}};return e.store(Ba).ee({Y:!0},((u,h)=>{const d=new Ht(u);return l(d.popLast())})).next((()=>e.store(Rl).ee({Y:!0},(([u,h,d],p)=>{const y=Zi(h);return l(y.popLast())}))))}bi(t){const e=t.store(xl);return e.ee(((s,a)=>{const l=gc(a),u=CR(this.serializer,l);return e.put(u)}))}Si(t,e){const s=e.store(Ba),a=[];return s.ee(((l,u)=>{const h=e.store(Gd),d=(function(v){return v.document?new ht(Ht.fromString(v.document.name).popFirst(5)):v.noDocument?ht.fromSegments(v.noDocument.path):v.unknownDocument?ht.fromSegments(v.unknownDocument.path):mt(36783)})(u).path.toArray(),p={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};a.push(h.put(p))})).next((()=>F.waitFor(a)))}Di(t,e){const s=e.store(bi),a=zR(this.serializer),l=new hv(Mm.Vi,this.serializer.yt);return s.H().next((u=>{const h=new Map;return u.forEach((d=>{let p=h.get(d.userId)??Nt();Fa(this.serializer,d).keys().forEach((y=>p=p.add(y))),h.set(d.userId,p)})),F.forEach(h,((d,p)=>{const y=new ln(p),v=Dm.wt(this.serializer,y),E=l.getIndexManager(y),I=Vm.wt(y,this.serializer,E,l.referenceDelegate);return new jR(a,I,v,E).recalculateAndSaveOverlaysForDocumentKeys(new jy(e,si.ce),d).next()}))}))}}function AA(n){n.createObjectStore(Cl,{keyPath:yO}).createIndex(Y_,_O,{unique:!0}),n.createObjectStore(xl,{keyPath:"targetId"}).createIndex(RI,gO,{unique:!0}),n.createObjectStore($a)}const wr="IndexedDbPersistence",ay=18e5,oy=5e3,ly="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",s4="main";class fv{constructor(t,e,s,a,l,u,h,d,p,y,v=18){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=s,this.Ci=l,this.window=u,this.document=h,this.Fi=p,this.Mi=y,this.xi=v,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=E=>Promise.resolve(),!fv.v())throw new ut(Z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Gk(this,a),this.Ki=e+s4,this.serializer=new xR(d),this.qi=new jr(this.Ki,this.xi,new i4(this.serializer)),this.ci=new Nk,this.li=new jk(this.referenceDelegate,this.serializer),this.remoteDocumentCache=zR(this.serializer),this.Pi=new Mk,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,y===!1&&vn(wr,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ut(Z.FAILED_PRECONDITION,ly);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.li.getHighestSequenceNumber(t)))})).then((t=>{this.ai=new si(t,this.Fi)})).then((()=>{this.ui=!0})).catch((t=>(this.qi&&this.qi.close(),Promise.reject(t))))}zi(t){return this.ki=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.qi.q((async e=>{e.newVersion===null&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>od(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(t).next((e=>{e||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(t))).next((e=>this.isPrimary&&!e?this.Ji(t).next((()=>!1)):!!e&&this.Zi(t).next((()=>!0)))))).catch((t=>{if(Zr(t))return lt(wr,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return lt(wr,"Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.Ci.enqueueRetryable((()=>this.ki(t))),this.isPrimary=t}))}ji(t){return cc(t).get(nl).next((e=>F.resolve(this.Xi(e))))}Yi(t){return od(t).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,ay)){this.Li=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const s=Qe(e,Dl);return s.H().next((a=>{const l=this.ns(a,ay),u=a.filter((h=>l.indexOf(h)===-1));return F.forEach(u,(h=>s.delete(h.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ui)for(const e of t)this.Ui.removeItem(this.rs(e.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(t){return!!t&&t.ownerId===this.clientId}Hi(t){return this.Mi?F.resolve(!0):cc(t).get(nl).next((e=>{if(e!==null&&this.ts(e.leaseTimestampMs,oy)&&!this.ss(e.ownerId)){if(this.Xi(e)&&this.networkEnabled)return!0;if(!this.Xi(e)){if(!e.allowTabSynchronization)throw new ut(Z.FAILED_PRECONDITION,ly);return!1}}return!(!this.networkEnabled||!this.inForeground)||od(t).H().next((s=>this.ns(s,oy).find((a=>{if(this.clientId!==a.clientId){const l=!this.networkEnabled&&a.networkEnabled,u=!this.inForeground&&a.inForeground,h=this.networkEnabled===a.networkEnabled;if(l||u&&h)return!0}return!1}))===void 0))})).next((e=>(this.isPrimary!==e&&lt(wr,`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[ch,Dl],(t=>{const e=new jy(t,si.ce);return this.Ji(e).next((()=>this.Yi(e)))})),this.qi.close(),this.ls()}ns(t,e){return t.filter((s=>this.ts(s.updateTimeMs,e)&&!this.ss(s.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(t=>od(t).H().next((e=>this.ns(e,ay).map((s=>s.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(t,e){return Vm.wt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new zk(t,this.serializer.yt.databaseId)}getDocumentOverlayCache(t){return Dm.wt(this.serializer,t)}getBundleCache(){return this.Pi}runTransaction(t,e,s){lt(wr,"Starting transaction:",t);const a=e==="readonly"?"readonly":"readwrite",l=(function(d){return d===18?OO:d===17?PI:d===16?PO:d===15?X_:d===14?NI:d===13?MI:d===12?NO:d===11?VI:void mt(60245)})(this.xi);let u;return this.qi.runTransaction(t,a,l,(h=>(u=new jy(h,this.ai?this.ai.next():si.ce),e==="readwrite-primary"?this.ji(u).next((d=>!!d||this.Hi(u))).next((d=>{if(!d)throw vn(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new ut(Z.FAILED_PRECONDITION,bI);return s(u)})).next((d=>this.Zi(u).next((()=>d)))):this.Ps(u).next((()=>s(u)))))).then((h=>(u.raiseOnCommittedEvent(),h)))}Ps(t){return cc(t).get(nl).next((e=>{if(e!==null&&this.ts(e.leaseTimestampMs,oy)&&!this.ss(e.ownerId)&&!this.Xi(e)&&!(this.Mi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ut(Z.FAILED_PRECONDITION,ly)}))}Zi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cc(t).put(nl,e)}static v(){return jr.v()}Ji(t){const e=cc(t);return e.get(nl).next((s=>this.Xi(s)?(lt(wr,"Releasing primary lease."),e.delete(nl)):F.resolve()))}ts(t,e){const s=Date.now();return!(t<s-e)&&(!(t>s)||(vn(`Detected an update time that is in the future: ${t} > ${s}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const t=/(?:Version|Mobile)\/1[456]/;Sw()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(t){try{const e=this.Ui?.getItem(this.rs(t))!==null;return lt(wr,`Client '${t}' ${e?"is":"is not"} zombied in LocalStorage`),e}catch(e){return vn(wr,"Failed to get zombied client id.",e),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(t){vn("Failed to set zombie client id.",t)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function cc(n){return Qe(n,ch)}function od(n){return Qe(n,Dl)}function r4(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class dv{constructor(t,e,s,a){this.targetId=t,this.fromCache=e,this.Ts=s,this.Is=a}static Es(t,e){let s=Nt(),a=Nt();for(const l of e.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new dv(t,e.fromCache,s,a)}}class a4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class FR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Sw()?8:AI(Ke())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,s,a){const l={result:null};return this.gs(t,e).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(t,e,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new a4;return this.ys(t,e,u).next((h=>{if(l.result=h,this.As)return this.ws(t,e,u,h.size)}))})).next((()=>l.result))}ws(t,e,s,a){return s.documentReadCount<this.Vs?(ll()<=Bt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",ul(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),F.resolve()):(ll()<=Bt.DEBUG&&lt("QueryEngine","Query:",ul(e),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(ll()<=Bt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",ul(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ai(e))):F.resolve())}gs(t,e){if(QS(e))return F.resolve(null);let s=ai(e);return this.indexManager.getIndexType(t,s).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=Qy(e,null,"F"),s=ai(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const u=Nt(...l);return this.fs.getDocuments(t,u).next((h=>this.indexManager.getMinOffset(t,s).next((d=>{const p=this.bs(e,h);return this.Ss(e,p,u,d.readTime)?this.gs(t,Qy(e,null,"F")):this.Ds(t,p,e,d)}))))})))))}ps(t,e,s,a){return QS(e)||a.isEqual(Tt.min())?F.resolve(null):this.fs.getDocuments(t,s).next((l=>{const u=this.bs(e,l);return this.Ss(e,u,s,a)?F.resolve(null):(ll()<=Bt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ul(e)),this.Ds(t,u,e,sO(a,kc)).next((h=>h)))}))}bs(t,e){let s=new ne(tR(t));return e.forEach(((a,l)=>{dh(t,l)&&(s=s.add(l))})),s}Ss(t,e,s,a){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(t,e,s){return ll()<=Bt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",ul(e)),this.fs.getDocumentsMatchingQuery(t,e,qn.min(),s)}Ds(t,e,s,a){return this.fs.getDocumentsMatchingQuery(t,s,a).next((l=>(e.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const mv="LocalStore",o4=3e8;class l4{constructor(t,e,s,a){this.persistence=t,this.Cs=e,this.serializer=a,this.vs=new ge(It),this.Fs=new js((l=>so(l)),hh),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new jR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function qR(n,t,e,s){return new l4(n,t,e,s)}async function HR(n,t){const e=At(n);return await e.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return e.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,e.Os(t),e.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],h=[];let d=Nt();for(const p of a){u.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}return e.localDocuments.getDocuments(s,d).next((p=>({Ns:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function u4(n,t){const e=At(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=t.batch.keys(),l=e.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,p,y){const v=p.batch,E=v.keys();let I=F.resolve();return E.forEach((N=>{I=I.next((()=>y.getEntry(d,N))).next((U=>{const L=p.docVersions.get(N);_t(L!==null,48541),U.version.compareTo(L)<0&&(v.applyToRemoteDocument(U,p),U.isValidDocument()&&(U.setReadTime(p.commitVersion),y.addEntry(U)))}))})),I.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(e,s,t,l).next((()=>l.apply(s))).next((()=>e.mutationQueue.performConsistencyCheck(s))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let d=Nt();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d})(t)))).next((()=>e.localDocuments.getDocuments(s,a)))}))}function GR(n){const t=At(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function c4(n,t){const e=At(n),s=t.snapshotVersion;let a=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=e.xs.newChangeBuffer({trackRemovals:!0});a=e.vs;const h=[];t.targetChanges.forEach(((y,v)=>{const E=a.get(v);if(!E)return;h.push(e.li.removeMatchingKeys(l,y.removedDocuments,v).next((()=>e.li.addMatchingKeys(l,y.addedDocuments,v))));let I=E.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(v)!==null?I=I.withResumeToken(ze.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):y.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(y.resumeToken,s)),a=a.insert(v,I),(function(U,L,Y){return U.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=o4?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(E,I,y)&&h.push(e.li.updateTargetData(l,I))}));let d=Fn(),p=Nt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(h4(l,u,t.documentUpdates).next((y=>{d=y.Bs,p=y.Ls}))),!s.isEqual(Tt.min())){const y=e.li.getLastRemoteSnapshotVersion(l).next((v=>e.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));h.push(y)}return F.waitFor(h).next((()=>u.apply(l))).next((()=>e.localDocuments.getLocalViewOfDocuments(l,d,p))).next((()=>d))})).then((l=>(e.vs=a,l)))}function h4(n,t,e){let s=Nt(),a=Nt();return e.forEach((l=>s=s.add(l))),t.getEntries(n,s).next((l=>{let u=Fn();return e.forEach(((h,d)=>{const p=l.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Tt.min())?(t.removeEntry(h,d.readTime),u=u.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(d),u=u.insert(h,d)):lt(mv,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)})),{Bs:u,Ls:a}}))}function f4(n,t){const e=At(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Qa),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function d4(n,t){const e=At(n);return e.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return e.li.getTargetData(s,t).next((l=>l?(a=l,F.resolve(a)):e.li.allocateTargetId(s).next((u=>(a=new Ds(t,u,"TargetPurposeListen",s.currentSequenceNumber),e.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=e.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.vs=e.vs.insert(s.targetId,s),e.Fs.set(t,s.targetId)),s}))}async function n_(n,t,e){const s=At(n),a=s.vs.get(t),l=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Zr(u))throw u;lt(mv,`Failed to update sequence numbers for target ${t}: ${u}`)}s.vs=s.vs.remove(t),s.Fs.delete(a.target)}function wA(n,t,e){const s=At(n);let a=Tt.min(),l=Nt();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,p,y){const v=At(d),E=v.Fs.get(y);return E!==void 0?F.resolve(v.vs.get(E)):v.li.getTargetData(p,y)})(s,u,ai(t)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,h.targetId).next((d=>{l=d}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,t,e?a:Tt.min(),e?l:Nt()))).next((h=>(m4(s,JO(t),h),{documents:h,ks:l})))))}function m4(n,t,e){let s=n.Ms.get(t)||Tt.min();e.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),n.Ms.set(t,s)}class IA{constructor(){this.activeTargetIds=rk()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class KR{constructor(){this.vo=new IA,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,s){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new IA,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class p4{Mo(t){}shutdown(){}}const RA="ConnectivityMonitor";class xA{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){lt(RA,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){lt(RA,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ld=null;function i_(){return ld===null?ld=(function(){return 268435456+Math.round(2147483648*Math.random())})():ld++,"0x"+ld.toString(16)}const uy="RestConnection",g4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class y4{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===Yd?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(t,e,s,a,l){const u=i_(),h=this.Qo(t,e.toUriEncodedString());lt(uy,`Sending RPC '${t}' ${u}:`,h,s);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,a,l);const{host:p}=new URL(h),y=ql(p);return this.zo(t,h,d,s,y).then((v=>(lt(uy,`Received RPC '${t}' ${u}: `,v),v)),(v=>{throw no(uy,`RPC '${t}' ${u} failed with error: `,v,"url: ",h,"request:",s),v}))}jo(t,e,s,a,l,u){return this.Wo(t,e,s,a,l)}Go(t,e,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Kl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,l)=>t[l]=a)),s&&s.headers.forEach(((a,l)=>t[l]=a))}Qo(t,e){const s=g4[t];let a=`${this.qo}/v1/${e}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class _4{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const fn="WebChannelConnection",hc=(n,t,e)=>{n.listen(t,(s=>{try{e(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class bl extends y4{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!bl.c_){const t=mI();hc(t,dI.STAT_EVENT,(e=>{e.stat===Oy.PROXY?lt(fn,"STAT_EVENT: detected buffering proxy"):e.stat===Oy.NOPROXY&&lt(fn,"STAT_EVENT: detected no buffering proxy")})),bl.c_=!0}}zo(t,e,s,a,l){const u=i_();return new Promise(((h,d)=>{const p=new hI;p.setWithCredentials(!0),p.listenOnce(fI.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case _d.NO_ERROR:const v=p.getResponseJson();lt(fn,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(v)),h(v);break;case _d.TIMEOUT:lt(fn,`RPC '${t}' ${u} timed out`),d(new ut(Z.DEADLINE_EXCEEDED,"Request time out"));break;case _d.HTTP_ERROR:const E=p.getStatus();if(lt(fn,`RPC '${t}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const N=I?.error;if(N&&N.status&&N.message){const U=(function(Y){const W=Y.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(W)>=0?W:Z.UNKNOWN})(N.status);d(new ut(U,N.message))}else d(new ut(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ut(Z.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{lt(fn,`RPC '${t}' ${u} completed.`)}}));const y=JSON.stringify(a);lt(fn,`RPC '${t}' ${u} sending request:`,a),p.send(e,"POST",y,s,15)}))}T_(t,e,s){const a=i_(),l=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,e,s),h.encodeInitMessageHeaders=!0;const p=l.join("");lt(fn,`Creating RPC '${t}' stream ${a}: ${p}`,h);const y=u.createWebChannel(p,h);this.I_(y);let v=!1,E=!1;const I=new _4({Ho:N=>{E?lt(fn,`Not sending because RPC '${t}' stream ${a} is closed:`,N):(v||(lt(fn,`Opening RPC '${t}' stream ${a} transport.`),y.open(),v=!0),lt(fn,`RPC '${t}' stream ${a} sending:`,N),y.send(N))},Jo:()=>y.close()});return hc(y,dc.EventType.OPEN,(()=>{E||(lt(fn,`RPC '${t}' stream ${a} transport opened.`),I.i_())})),hc(y,dc.EventType.CLOSE,(()=>{E||(E=!0,lt(fn,`RPC '${t}' stream ${a} transport closed`),I.o_(),this.E_(y))})),hc(y,dc.EventType.ERROR,(N=>{E||(E=!0,no(fn,`RPC '${t}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),I.o_(new ut(Z.UNAVAILABLE,"The operation could not be completed")))})),hc(y,dc.EventType.MESSAGE,(N=>{if(!E){const U=N.data[0];_t(!!U,16349);const L=U,Y=L?.error||L[0]?.error;if(Y){lt(fn,`RPC '${t}' stream ${a} received error:`,Y);const W=Y.status;let z=(function(at){const R=ke[at];if(R!==void 0)return dR(R)})(W),Q=Y.message;z===void 0&&(z=Z.INTERNAL,Q="Unknown error status: "+W+" with message "+Y.message),E=!0,I.o_(new ut(z,Q)),y.close()}else lt(fn,`RPC '${t}' stream ${a} received:`,U),I.__(U)}})),bl.u_(),setTimeout((()=>{I.s_()}),0),I}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,s){super.Go(t,e,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return pI()}}function v4(n){return new bl(n)}function T4(){return typeof window<"u"?window:null}function xd(){return typeof document<"u"?document:null}function Nm(n){return new Tk(n,!0)}bl.c_=!1;class pv{constructor(t,e,s=1e3,a=1.5,l=6e4){this.Ci=t,this.timerId=e,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-s);a>0&&lt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const CA="PersistentStream";class YR{constructor(t,e,s,a,l,u,h,d){this.Ci=t,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pv(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===Z.RESOURCE_EXHAUSTED?(vn(e.toString()),vn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===e&&this.G_(s,a)}),(s=>{t((()=>{const a=new ut(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(t,e){const s=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return lt(CA,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(lt(CA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class E4 extends YR{constructor(t,e,s,a,l,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,a,u),this.serializer=l}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=Ak(this.serializer,t),s=(function(l){if(!("targetChange"in l))return Tt.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Tt.min():u.readTime?Je(u.readTime):Tt.min()})(t);return this.listener.J_(e,s)}Z_(t){const e={};e.database=Wy(this.serializer),e.addTarget=(function(l,u){let h;const d=u.target;if(h=Qd(d)?{documents:ER(l,d)}:{query:bR(l,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=gR(l,u.resumeToken);const p=$y(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Tt.min())>0){h.readTime=Ul(l,u.snapshotVersion.toTimestamp());const p=$y(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,t);const s=Ik(this.serializer,t);s&&(e.labels=s),this.K_(e)}X_(t){const e={};e.database=Wy(this.serializer),e.removeTarget=t,this.K_(e)}}class b4 extends YR{constructor(t,e,s,a,l,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return _t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,_t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){_t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=wk(t.writeResults,t.commitTime),s=Je(t.commitTime);return this.listener.na(s,e)}ra(){const t={};t.database=Wy(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((s=>$c(this.serializer,s)))};this.K_(e)}}class S4{}class A4 extends S4{constructor(t,e,s,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(t,Xy(e,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ut(Z.UNKNOWN,l.toString())}))}jo(t,e,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.jo(t,Xy(e,s),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ut(Z.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function w4(n,t,e,s){return new A4(n,t,e,s)}class I4{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vn(e),this.aa=!1):lt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const lo="RemoteStore";class R4{constructor(t,e,s,a,l){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{co(this)&&(lt(lo,"Restarting streams for network reachability change."),await(async function(d){const p=At(d);p.Ea.add(4),await gh(p),p.Va.set("Unknown"),p.Ea.delete(4),await Pm(p)})(this))}))})),this.Va=new I4(s,a)}}async function Pm(n){if(co(n))for(const t of n.Ra)await t(!0)}async function gh(n){for(const t of n.Ra)await t(!1)}function QR(n,t){const e=At(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),vv(e)?_v(e):$l(e).O_()&&yv(e,t))}function gv(n,t){const e=At(n),s=$l(e);e.Ia.delete(t),s.O_()&&$R(e,t),e.Ia.size===0&&(s.O_()?s.L_():co(e)&&e.Va.set("Unknown"))}function yv(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}$l(n).Z_(t)}function $R(n,t){n.da.$e(t),$l(n).X_(t)}function _v(n){n.da=new gk({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),$l(n).start(),n.Va.ua()}function vv(n){return co(n)&&!$l(n).x_()&&n.Ia.size>0}function co(n){return At(n).Ea.size===0}function XR(n){n.da=void 0}async function x4(n){n.Va.set("Online")}async function C4(n){n.Ia.forEach(((t,e)=>{yv(n,t)}))}async function D4(n,t){XR(n),vv(n)?(n.Va.ha(t),_v(n)):n.Va.set("Unknown")}async function V4(n,t,e){if(n.Va.set("Online"),t instanceof pR&&t.state===2&&t.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.da.removeTarget(h))})(n,t)}catch(s){lt(lo,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await tm(n,s)}else if(t instanceof Id?n.da.Xe(t):t instanceof mR?n.da.st(t):n.da.tt(t),!e.isEqual(Tt.min()))try{const s=await GR(n.localStore);e.compareTo(s)>=0&&await(function(l,u){const h=l.da.Tt(u);return h.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,p)=>{const y=l.Ia.get(d);if(!y)return;l.Ia.set(d,y.withResumeToken(ze.EMPTY_BYTE_STRING,y.snapshotVersion)),$R(l,d);const v=new Ds(y.target,d,p,y.sequenceNumber);yv(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(s){lt(lo,"Failed to raise snapshot:",s),await tm(n,s)}}async function tm(n,t,e){if(!Zr(t))throw t;n.Ea.add(1),await gh(n),n.Va.set("Offline"),e||(e=()=>GR(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{lt(lo,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Pm(n)}))}function WR(n,t){return t().catch((e=>tm(n,e,t)))}async function yh(n){const t=At(n),e=Yr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Qa;for(;M4(t);)try{const a=await f4(t.localStore,s);if(a===null){t.Ta.length===0&&e.L_();break}s=a.batchId,N4(t,a)}catch(a){await tm(t,a)}ZR(t)&&JR(t)}function M4(n){return co(n)&&n.Ta.length<10}function N4(n,t){n.Ta.push(t);const e=Yr(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function ZR(n){return co(n)&&!Yr(n).x_()&&n.Ta.length>0}function JR(n){Yr(n).start()}async function P4(n){Yr(n).ra()}async function O4(n){const t=Yr(n);for(const e of n.Ta)t.ea(e.mutations)}async function k4(n,t,e){const s=n.Ta.shift(),a=sv.from(s,t,e);await WR(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await yh(n)}async function L4(n,t){t&&Yr(n).Y_&&await(async function(s,a){if((function(u){return fR(u)&&u!==Z.ABORTED})(a.code)){const l=s.Ta.shift();Yr(s).B_(),await WR(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await yh(s)}})(n,t),ZR(n)&&JR(n)}async function DA(n,t){const e=At(n);e.asyncQueue.verifyOperationInProgress(),lt(lo,"RemoteStore received new credentials");const s=co(e);e.Ea.add(3),await gh(e),s&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Pm(e)}async function U4(n,t){const e=At(n);t?(e.Ea.delete(2),await Pm(e)):t||(e.Ea.add(2),await gh(e),e.Va.set("Unknown"))}function $l(n){return n.ma||(n.ma=(function(e,s,a){const l=At(e);return l.sa(),new E4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:x4.bind(null,n),Yo:C4.bind(null,n),t_:D4.bind(null,n),J_:V4.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),vv(n)?_v(n):n.Va.set("Unknown")):(await n.ma.stop(),XR(n))}))),n.ma}function Yr(n){return n.fa||(n.fa=(function(e,s,a){const l=At(e);return l.sa(),new b4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:P4.bind(null,n),t_:L4.bind(null,n),ta:O4.bind(null,n),na:k4.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await yh(n)):(await n.fa.stop(),n.Ta.length>0&&(lt(lo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Tv{constructor(t,e,s,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,a,l){const u=Date.now()+s,h=new Tv(t,e,u,a,l);return h.start(s),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ev(n,t){if(vn("AsyncQueue",`${t}: ${n}`),Zr(n))return new ut(Z.UNAVAILABLE,`${t}: ${n}`);throw n}class Sl{static emptySet(t){return new Sl(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||ht.comparator(e.key,s.key):(e,s)=>ht.comparator(e.key,s.key),this.keyedMap=mc(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,s)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Sl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new Sl;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}class VA{constructor(){this.ga=new ge(ht.comparator)}track(t){const e=t.doc.key,s=this.ga.get(e);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(e,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(e):t.type===1&&s.type===2?this.ga=this.ga.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):mt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,s)=>{t.push(s)})),t}}class Bl{constructor(t,e,s,a,l,u,h,d,p){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(t,e,s,a,l){const u=[];return e.forEach((h=>{u.push({type:0,doc:h})})),new Bl(t,e,Sl.emptySet(e),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Im(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==s[a].type||!e[a].doc.isEqual(s[a].doc))return!1;return!0}}class B4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class z4{constructor(){this.queries=MA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const a=At(e),l=a.queries;a.queries=MA(),l.forEach(((u,h)=>{for(const d of h.ba)d.onError(s)}))})(this,new ut(Z.ABORTED,"Firestore shutting down"))}}function MA(){return new js((n=>JI(n)),Im)}async function bv(n,t){const e=At(n);let s=3;const a=t.query;let l=e.queries.get(a);l?!l.Sa()&&t.Da()&&(s=2):(l=new B4,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await e.onListen(a,!0);break;case 1:l.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(u){const h=Ev(u,`Initialization of query '${ul(t.query)}' failed`);return void t.onError(h)}e.queries.set(a,l),l.ba.push(t),t.va(e.onlineState),l.wa&&t.Fa(l.wa)&&Av(e)}async function Sv(n,t){const e=At(n),s=t.query;let a=3;const l=e.queries.get(s);if(l){const u=l.ba.indexOf(t);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=t.Da()?0:1:!l.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function j4(n,t){const e=At(n);let s=!1;for(const a of t){const l=a.query,u=e.queries.get(l);if(u){for(const h of u.ba)h.Fa(a)&&(s=!0);u.wa=a}}s&&Av(e)}function F4(n,t,e){const s=At(n),a=s.queries.get(t);if(a)for(const l of a.ba)l.onError(e);s.queries.delete(t)}function Av(n){n.Ca.forEach((t=>{t.next()}))}var s_,NA;(NA=s_||(s_={})).Ma="default",NA.Cache="cache";class wv{constructor(t,e,s){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new Bl(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const s=e!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Bl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==s_.Cache}}class tx{constructor(t){this.key=t}}class ex{constructor(t){this.key=t}}class q4{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Nt(),this.mutatedKeys=Nt(),this.eu=tR(t),this.tu=new Sl(this.eu)}get nu(){return this.Za}ru(t,e){const s=e?e.iu:new VA,a=e?e.tu:this.tu;let l=e?e.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,v)=>{const E=a.get(y),I=dh(this.query,v)?v:null,N=!!E&&this.mutatedKeys.has(E.key),U=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let L=!1;E&&I?E.data.isEqual(I.data)?N!==U&&(s.track({type:3,doc:I}),L=!0):this.su(E,I)||(s.track({type:2,doc:I}),L=!0,(d&&this.eu(I,d)>0||p&&this.eu(I,p)<0)&&(h=!0)):!E&&I?(s.track({type:0,doc:I}),L=!0):E&&!I&&(s.track({type:1,doc:E}),L=!0,(d||p)&&(h=!0)),L&&(I?(u=u.add(I),l=U?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Ss:h,mutatedKeys:l}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const u=t.iu.ya();u.sort(((y,v)=>(function(I,N){const U=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Vt:L})}};return U(I)-U(N)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(s),a=a??!1;const h=e&&!a?this._u():[],d=this.Ya.size===0&&this.current&&!a?1:0,p=d!==this.Xa;return this.Xa=d,u.length!==0||p?{snapshot:new Bl(this.query,t.tu,l,u,t.mutatedKeys,d===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new VA,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Nt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const e=[];return t.forEach((s=>{this.Ya.has(s)||e.push(new ex(s))})),this.Ya.forEach((s=>{t.has(s)||e.push(new tx(s))})),e}cu(t){this.Za=t.ks,this.Ya=Nt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Bl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Iv="SyncEngine";class H4{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class G4{constructor(t){this.key=t,this.hu=!1}}class K4{constructor(t,e,s,a,l,u){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new js((h=>JI(h)),Im),this.Iu=new Map,this.Eu=new Set,this.Ru=new ge(ht.comparator),this.Au=new Map,this.Vu=new cv,this.du={},this.mu=new Map,this.fu=oo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Y4(n,t,e=!0){const s=ox(n);let a;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await nx(s,t,e,!0),a}async function Q4(n,t){const e=ox(n);await nx(e,t,!0,!1)}async function nx(n,t,e,s){const a=await d4(n.localStore,ai(t)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,e);let h;return s&&(h=await $4(n,t,l,u==="current",a.resumeToken)),n.isPrimaryClient&&e&&QR(n.remoteStore,a),h}async function $4(n,t,e,s,a){n.pu=(v,E,I)=>(async function(U,L,Y,W){let z=L.view.ru(Y);z.Ss&&(z=await wA(U.localStore,L.query,!1).then((({documents:R})=>L.view.ru(R,z))));const Q=W&&W.targetChanges.get(L.targetId),rt=W&&W.targetMismatches.get(L.targetId)!=null,at=L.view.applyChanges(z,U.isPrimaryClient,Q,rt);return OA(U,L.targetId,at.au),at.snapshot})(n,v,E,I);const l=await wA(n.localStore,t,!0),u=new q4(t,l.ks),h=u.ru(l.documents),d=ph.createSynthesizedTargetChangeForCurrentChange(e,s&&n.onlineState!=="Offline",a),p=u.applyChanges(h,n.isPrimaryClient,d);OA(n,e,p.au);const y=new H4(t,e,u);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),p.snapshot}async function X4(n,t,e){const s=At(n),a=s.Tu.get(t),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!Im(u,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await n_(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),e&&gv(s.remoteStore,a.targetId),r_(s,a.targetId)})).catch(uo)):(r_(s,a.targetId),await n_(s.localStore,a.targetId,!0))}async function W4(n,t){const e=At(n),s=e.Tu.get(t),a=e.Iu.get(s.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),gv(e.remoteStore,s.targetId))}async function Z4(n,t,e){const s=lx(n);try{const a=await(function(u,h){const d=At(u),p=te.now(),y=h.reduce(((I,N)=>I.add(N.key)),Nt());let v,E;return d.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let N=Fn(),U=Nt();return d.xs.getEntries(I,y).next((L=>{N=L,N.forEach(((Y,W)=>{W.isValidDocument()||(U=U.add(Y))}))})).next((()=>d.localDocuments.getOverlayedDocuments(I,N))).next((L=>{v=L;const Y=[];for(const W of h){const z=fk(W,v.get(W.key).overlayedDocument);z!=null&&Y.push(new Fs(W.key,z,HI(z.value.mapValue),Ue.exists(!0)))}return d.mutationQueue.addMutationBatch(I,p,Y,h)})).next((L=>{E=L;const Y=L.applyToLocalDocumentSet(v,U);return d.documentOverlayCache.saveOverlays(I,L.batchId,Y)}))})).then((()=>({batchId:E.batchId,changes:nR(v)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),(function(u,h,d){let p=u.du[u.currentUser.toKey()];p||(p=new ge(It)),p=p.insert(h,d),u.du[u.currentUser.toKey()]=p})(s,a.batchId,e),await _h(s,a.changes),await yh(s.remoteStore)}catch(a){const l=Ev(a,"Failed to persist write");e.reject(l)}}async function ix(n,t){const e=At(n);try{const s=await c4(e.localStore,t);t.targetChanges.forEach(((a,l)=>{const u=e.Au.get(l);u&&(_t(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?_t(u.hu,14607):a.removedDocuments.size>0&&(_t(u.hu,42227),u.hu=!1))})),await _h(e,s,t)}catch(s){await uo(s)}}function PA(n,t,e){const s=At(n);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const a=[];s.Tu.forEach(((l,u)=>{const h=u.view.va(t);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const d=At(u);d.onlineState=h;let p=!1;d.queries.forEach(((y,v)=>{for(const E of v.ba)E.va(h)&&(p=!0)})),p&&Av(d)})(s.eventManager,t),a.length&&s.Pu.J_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function J4(n,t,e){const s=At(n);s.sharedClientState.updateQueryState(t,"rejected",e);const a=s.Au.get(t),l=a&&a.key;if(l){let u=new ge(ht.comparator);u=u.insert(l,pe.newNoDocument(l,Tt.min()));const h=Nt().add(l),d=new Cm(Tt.min(),new Map,new ge(It),u,h);await ix(s,d),s.Ru=s.Ru.remove(l),s.Au.delete(t),Rv(s)}else await n_(s.localStore,t,!1).then((()=>r_(s,t,e))).catch(uo)}async function t3(n,t){const e=At(n),s=t.batch.batchId;try{const a=await u4(e.localStore,t);rx(e,s,null),sx(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await _h(e,a)}catch(a){await uo(a)}}async function e3(n,t,e){const s=At(n);try{const a=await(function(u,h){const d=At(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return d.mutationQueue.lookupMutationBatch(p,h).next((v=>(_t(v!==null,37113),y=v.keys(),d.mutationQueue.removeMutationBatch(p,v)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>d.localDocuments.getDocuments(p,y)))}))})(s.localStore,t);rx(s,t,e),sx(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await _h(s,a)}catch(a){await uo(a)}}function sx(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function rx(n,t,e){const s=At(n);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),s.du[s.currentUser.toKey()]=a}}function r_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const s of n.Iu.get(t))n.Tu.delete(s),e&&n.Pu.yu(s,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((s=>{n.Vu.containsKey(s)||ax(n,s)}))}function ax(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&(gv(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),Rv(n))}function OA(n,t,e){for(const s of e)s instanceof tx?(n.Vu.addReference(s.key,t),n3(n,s)):s instanceof ex?(lt(Iv,"Document no longer in limbo: "+s.key),n.Vu.removeReference(s.key,t),n.Vu.containsKey(s.key)||ax(n,s.key)):mt(19791,{wu:s})}function n3(n,t){const e=t.key,s=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(s)||(lt(Iv,"New document in limbo: "+e),n.Eu.add(s),Rv(n))}function Rv(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new ht(Ht.fromString(t)),s=n.fu.next();n.Au.set(s,new G4(e)),n.Ru=n.Ru.insert(e,s),QR(n.remoteStore,new Ds(ai(fh(e.path)),s,"TargetPurposeLimboResolution",si.ce))}}async function _h(n,t,e){const s=At(n),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,d)=>{u.push(s.pu(d,t,e).then((p=>{if((p||e)&&s.isPrimaryClient){const y=p?!p.fromCache:e?.targetChanges.get(d.targetId)?.current;s.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){a.push(p);const y=dv.Es(d.targetId,p);l.push(y)}})))})),await Promise.all(u),s.Pu.J_(a),await(async function(d,p){const y=At(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>F.forEach(p,(E=>F.forEach(E.Ts,(I=>y.persistence.referenceDelegate.addReference(v,E.targetId,I))).next((()=>F.forEach(E.Is,(I=>y.persistence.referenceDelegate.removeReference(v,E.targetId,I)))))))))}catch(v){if(!Zr(v))throw v;lt(mv,"Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const I=y.vs.get(E),N=I.snapshotVersion,U=I.withLastLimboFreeSnapshotVersion(N);y.vs=y.vs.insert(E,U)}}})(s.localStore,l))}async function i3(n,t){const e=At(n);if(!e.currentUser.isEqual(t)){lt(Iv,"User change. New user:",t.toKey());const s=await HR(e.localStore,t);e.currentUser=t,(function(l,u){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new ut(Z.CANCELLED,u))}))})),l.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await _h(e,s.Ns)}}function s3(n,t){const e=At(n),s=e.Au.get(t);if(s&&s.hu)return Nt().add(s.key);{let a=Nt();const l=e.Iu.get(t);if(!l)return a;for(const u of l){const h=e.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function ox(n){const t=At(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=ix.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=s3.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=J4.bind(null,t),t.Pu.J_=j4.bind(null,t.eventManager),t.Pu.yu=F4.bind(null,t.eventManager),t}function lx(n){const t=At(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=t3.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=e3.bind(null,t),t}class Xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Nm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return qR(this.persistence,new FR,t.initialUser,this.serializer)}Cu(t){return new hv(Mm.Vi,this.serializer)}Du(t){return new KR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xc.provider={build:()=>new Xc};class r3 extends Xc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){_t(this.persistence.referenceDelegate instanceof Jd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new LR(s,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new hv((s=>Jd.Vi(s,e)),this.serializer)}}class a3 extends Xc{constructor(t,e,s){super(),this.xu=t,this.cacheSizeBytes=e,this.forceOwnership=s,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.xu.initialize(this,t),await lx(this.xu.syncEngine),await yh(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(t){return qR(this.persistence,new FR,t.initialUser,this.serializer)}Fu(t,e){const s=this.persistence.referenceDelegate.garbageCollector;return new LR(s,t.asyncQueue,e)}Mu(t,e){const s=new lO(e,this.persistence);return new oO(t.asyncQueue,s)}Cu(t){const e=r4(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),s=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new fv(this.synchronizeTabs,e,t.clientId,s,t.asyncQueue,T4(),xd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(t){return new KR}}class em{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>PA(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=i3.bind(null,this.syncEngine),await U4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new z4})()}createDatastore(t){const e=Nm(t.databaseInfo.databaseId),s=v4(t.databaseInfo);return w4(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return(function(s,a,l,u,h){return new R4(s,a,l,u,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>PA(this.syncEngine,e,0)),(function(){return xA.v()?new xA:new p4})())}createSyncEngine(t,e){return(function(a,l,u,h,d,p,y){const v=new K4(a,l,u,h,d,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const s=At(e);lt(lo,"RemoteStore shutting down."),s.Ea.add(5),await gh(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}em.provider={build:()=>new em};class xv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):vn("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}let o3=class{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ut(Z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const e=await(async function(a,l){const u=At(a),h={documents:l.map((v=>Qc(u.serializer,v)))},d=await u.jo("BatchGetDocuments",u.serializer.databaseId,Ht.emptyPath(),h,l.length),p=new Map;d.forEach((v=>{const E=Sk(u.serializer,v);p.set(E.key.toString(),E)}));const y=[];return l.forEach((v=>{const E=p.get(v.toString());_t(!!E,55234,{key:v}),y.push(E)})),y})(this.datastore,t);return e.forEach((s=>this.recordVersion(s))),e}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new mh(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((e=>{t.delete(e.key.toString())})),t.forEach(((e,s)=>{const a=ht.fromPath(s);this.mutations.push(new nv(a,this.precondition(a)))})),await(async function(s,a){const l=At(s),u={writes:a.map((h=>$c(l.serializer,h)))};await l.Wo("Commit",l.serializer.databaseId,Ht.emptyPath(),u)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw mt(50498,{Gu:t.constructor.name});e=Tt.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!e.isEqual(s))throw new ut(Z.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Tt.min())?Ue.exists(!1):Ue.updateTime(e):Ue.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Tt.min()))throw new ut(Z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ue.updateTime(e)}return Ue.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}};class l3{constructor(t,e,s,a,l){this.asyncQueue=t,this.datastore=e,this.options=s,this.updateFunction=a,this.deferred=l,this.zu=s.maxAttempts,this.M_=new pv(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const t=new o3(this.datastore),e=this.Ju(t);e&&e.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((a=>{this.Zu(a)}))))})).catch((s=>{this.Zu(s)}))}))}Ju(t){try{const e=this.updateFunction(t);return!uh(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Zu(t){this.zu>0&&this.Xu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(t)}Xu(t){if(t?.name==="FirebaseError"){const e=t.code;return e==="aborted"||e==="failed-precondition"||e==="already-exists"||!fR(e)}return!1}}const Qr="FirestoreClient";class u3{constructor(t,e,s,a,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this._databaseInfo=a,this.user=ln.UNAUTHENTICATED,this.clientId=H_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{lt(Qr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(lt(Qr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=Ev(e,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function cy(n,t){n.asyncQueue.verifyOperationInProgress(),lt(Qr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let s=e.initialUser;n.setCredentialChangeListener((async a=>{s.isEqual(a)||(await HR(t.localStore,a),s=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function kA(n,t){n.asyncQueue.verifyOperationInProgress();const e=await c3(n);lt(Qr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((s=>DA(t.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,a)=>DA(t.remoteStore,a))),n._onlineComponents=t}async function c3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){lt(Qr,"Using user provided OfflineComponentProvider");try{await cy(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===Z.FAILED_PRECONDITION||a.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;no("Error using user provided cache. Falling back to memory cache: "+e),await cy(n,new Xc)}}else lt(Qr,"Using default OfflineComponentProvider"),await cy(n,new r3(void 0));return n._offlineComponents}async function Cv(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(lt(Qr,"Using user provided OnlineComponentProvider"),await kA(n,n._uninitializedComponentsProvider._online)):(lt(Qr,"Using default OnlineComponentProvider"),await kA(n,new em))),n._onlineComponents}function h3(n){return Cv(n).then((t=>t.syncEngine))}function f3(n){return Cv(n).then((t=>t.datastore))}async function nm(n){const t=await Cv(n),e=t.eventManager;return e.onListen=Y4.bind(null,t.syncEngine),e.onUnlisten=X4.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=Q4.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=W4.bind(null,t.syncEngine),e}function d3(n,t,e,s){const a=new xv(s),l=new wv(t,a,e);return n.asyncQueue.enqueueAndForget((async()=>bv(await nm(n),l))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>Sv(await nm(n),l)))}}function m3(n,t,e={}){const s=new wi;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,p){const y=new xv({next:E=>{y.Nu(),u.enqueueAndForget((()=>Sv(l,v)));const I=E.docs.has(h);!I&&E.fromCache?p.reject(new ut(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&E.fromCache&&d&&d.source==="server"?p.reject(new ut(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new wv(fh(h.path),y,{includeMetadataChanges:!0,Ka:!0});return bv(l,v)})(await nm(n),n.asyncQueue,t,e,s))),s.promise}function p3(n,t,e={}){const s=new wi;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,p){const y=new xv({next:E=>{y.Nu(),u.enqueueAndForget((()=>Sv(l,v))),E.fromCache&&d.source==="server"?p.reject(new ut(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new wv(h,y,{includeMetadataChanges:!0,Ka:!0});return bv(l,v)})(await nm(n),n.asyncQueue,t,e,s))),s.promise}function g3(n,t){const e=new wi;return n.asyncQueue.enqueueAndForget((async()=>Z4(await h3(n),t,e))),e.promise}function y3(n,t,e){const s=new wi;return n.asyncQueue.enqueueAndForget((async()=>{const a=await f3(n);new l3(n.asyncQueue,a,e,t,s).ju()})),s.promise}function ux(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const _3="ComponentProvider",LA=new Map;function v3(n,t,e,s,a){return new LO(n,t,e,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,ux(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const cx="firestore.googleapis.com",UA=!0;class BA{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cx,this.ssl=UA}else this.host=t.host,this.ssl=t.ssl??UA;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=NR;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Fk)throw new ut(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}iO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ux(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Om{constructor(t,e,s,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BA(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new YP;switch(s.type){case"firstParty":return new WP(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const s=LA.get(e);s&&(lt(_3,"Removing Datastore"),LA.delete(e),s.terminate())})(this),Promise.resolve()}}function T3(n,t,e,s={}){n=Ii(n,Om);const a=ql(t),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;a&&(Tw(`https://${h}`),Ew("Firestore",!0)),l.host!==cx&&l.host!==h&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:h,ssl:a,emulatorOptions:s};if(!Za(d,u)&&(n._setSettings(d),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=ln.MOCK_USER;else{p=T2(s.mockUserToken,n._app?.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new ut(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new ln(v)}n._authCredentials=new QP(new yI(p,y))}}class ta{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ta(this.firestore,t,this._query)}}class Ie{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,s){if(lh(e,Ie._jsonSchema))return new Ie(t,s||null,new ht(Ht.fromString(e.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:Be("string",Ie._jsonSchemaVersion),referencePath:Be("string")};class Fr extends ta{constructor(t,e,s){super(t,e,fh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new ht(t))}withConverter(t){return new Fr(this.firestore,t,this._path)}}function zl(n,t,...e){if(n=Ye(n),vI("collection","path",t),n instanceof Om){const s=Ht.fromString(t,...e);return CS(s),new Fr(n,null,s)}{if(!(n instanceof Ie||n instanceof Fr))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ht.fromString(t,...e));return CS(s),new Fr(n.firestore,null,s)}}function Wc(n,t,...e){if(n=Ye(n),arguments.length===1&&(t=H_.newId()),vI("doc","path",t),n instanceof Om){const s=Ht.fromString(t,...e);return xS(s),new Ie(n,null,new ht(s))}{if(!(n instanceof Ie||n instanceof Fr))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ht.fromString(t,...e));return xS(s),new Ie(n.firestore,n instanceof Fr?n.converter:null,new ht(s))}}const zA="AsyncQueue";class jA{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pv(this,"async_queue_retry"),this._c=()=>{const s=xd();s&&lt(zA,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const e=xd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=xd();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new wi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Zr(t))throw t;lt(zA,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,vn("INTERNAL UNHANDLED ERROR: ",FA(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=e,e}enqueueAfterDelay(t,e,s){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=Tv.createAndSchedule(this,t,e,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&mt(47125,{Pc:FA(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,s)=>e.targetTimeMs-s.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function FA(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class $r extends Om{constructor(t,e,s,a){super(t,e,s,a),this.type="firestore",this._queue=new jA,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new jA(t),this._firestoreClient=void 0,await t}}}function E3(n,t){const e=typeof n=="object"?n:Cw(),s=typeof n=="string"?n:Yd,a=O_(e,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=_2("firestore");l&&T3(a,...l)}return a}function Xl(n){if(n._terminated)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||hx(n),n._firestoreClient}function hx(n){const t=n._freezeSettings(),e=v3(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new u3(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}function b3(n,t){no("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();return S3(n,em.provider,{build:s=>new a3(s,e.cacheSizeBytes,t?.forceOwnership)}),Promise.resolve()}function S3(n,t,e){if((n=Ii(n,$r))._firestoreClient||n._terminated)throw new ut(Z.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new ut(Z.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:t,_offline:e},hx(n)}class zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zn(ze.fromBase64String(t))}catch(e){throw new ut(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new zn(ze.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(lh(t,zn._jsonSchema))return zn.fromBase64String(t.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Be("string",zn._jsonSchemaVersion),bytes:Be("string")};class km{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ut(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Lm{constructor(t){this._methodName=t}}class is{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ut(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ut(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:is._jsonSchemaVersion}}static fromJSON(t){if(lh(t,is._jsonSchema))return new is(t.latitude,t.longitude)}}is._jsonSchemaVersion="firestore/geoPoint/1.0",is._jsonSchema={type:Be("string",is._jsonSchemaVersion),latitude:Be("number"),longitude:Be("number")};class Ri{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(lh(t,Ri._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Ri(t.vectorValues);throw new ut(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:Be("string",Ri._jsonSchemaVersion),vectorValues:Be("object")};const A3=/^__.*__$/;class w3{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new Fs(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ql(t,this.data,e,this.fieldTransforms)}}class fx{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return new Fs(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function dx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{dataSource:n})}}class Dv{constructor(t,e,s,a,l,u){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Dv({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),s=this.contextWith({path:e,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const e=this.path?.child(t),s=this.contextWith({path:e,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return im(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(dx(this.dataSource)&&A3.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class I3{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||Nm(t)}createContext(t,e,s,a=!1){return new Dv({dataSource:t,methodName:e,targetDoc:s,path:ye.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vv(n){const t=n._freezeSettings(),e=Nm(n._databaseId);return new I3(n._databaseId,!!t.ignoreUndefinedProperties,e)}function mx(n,t,e,s,a,l={}){const u=n.createContext(l.merge||l.mergeFields?2:0,t,e,a);Nv("Data must be an object, but it was:",u,s);const h=yx(s,u);let d,p;if(l.merge)d=new Cn(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const E=jl(t,v,e);if(!u.contains(E))throw new ut(Z.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Tx(y,E)||y.push(E)}d=new Cn(y),p=u.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,p=u.fieldTransforms;return new w3(new cn(h),d,p)}class Um extends Lm{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Um}}class Mv extends Lm{_toFieldTransform(t){return new uR(t.path,new Ol)}isEqual(t){return t instanceof Mv}}function px(n,t,e,s){const a=n.createContext(1,t,e);Nv("Data must be an object, but it was:",a,s);const l=[],u=cn.empty();Jr(s,((d,p)=>{const y=vx(t,d,e);p=Ye(p);const v=a.childContextForFieldPath(y);if(p instanceof Um)l.push(y);else{const E=vh(p,v);E!=null&&(l.push(y),u.set(y,E))}}));const h=new Cn(l);return new fx(u,h,a.fieldTransforms)}function gx(n,t,e,s,a,l){const u=n.createContext(1,t,e),h=[jl(t,s,e)],d=[a];if(l.length%2!=0)throw new ut(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)h.push(jl(t,l[E])),d.push(l[E+1]);const p=[],y=cn.empty();for(let E=h.length-1;E>=0;--E)if(!Tx(p,h[E])){const I=h[E];let N=d[E];N=Ye(N);const U=u.childContextForFieldPath(I);if(N instanceof Um)p.push(I);else{const L=vh(N,U);L!=null&&(p.push(I),y.set(I,L))}}const v=new Cn(p);return new fx(y,v,u.fieldTransforms)}function R3(n,t,e,s=!1){return vh(e,n.createContext(s?4:3,t))}function vh(n,t){if(_x(n=Ye(n)))return Nv("Unsupported field value:",t,n),yx(n,t);if(n instanceof Lm)return(function(s,a){if(!dx(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const h of s){let d=vh(h,a.childContextForArray(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}})(n,t)}return(function(s,a){if((s=Ye(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return ak(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=te.fromDate(s);return{timestampValue:Ul(a.serializer,l)}}if(s instanceof te){const l=new te(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ul(a.serializer,l)}}if(s instanceof is)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:gR(a.serializer,s._byteString)};if(s instanceof Ie){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ov(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Ri)return(function(u,h){const d=u instanceof Ri?u.toArray():u;return{mapValue:{fields:{[Z_]:{stringValue:J_},[Vl]:{arrayValue:{values:d.map((y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return ev(h.serializer,y)}))}}}}}})(s,a);if(RR(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${vm(s)}`)})(n,t)}function yx(n,t){const e={};return OI(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Jr(n,((s,a)=>{const l=vh(a,t.childContextForField(s));l!=null&&(e[s]=l)})),{mapValue:{fields:e}}}function _x(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof te||n instanceof is||n instanceof zn||n instanceof Ie||n instanceof Lm||n instanceof Ri||RR(n))}function Nv(n,t,e){if(!_x(e)||!TI(e)){const s=vm(e);throw s==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+s)}}function jl(n,t,e){if((t=Ye(t))instanceof km)return t._internalPath;if(typeof t=="string")return vx(n,t);throw im("Field path arguments must be of type string or ",n,!1,void 0,e)}const x3=new RegExp("[~\\*/\\[\\]]");function vx(n,t,e){if(t.search(x3)>=0)throw im(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new km(...t.split("."))._internalPath}catch{throw im(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function im(n,t,e,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${s}`),u&&(d+=` in document ${a}`),d+=")"),new ut(Z.INVALID_ARGUMENT,h+n+d)}function Tx(n,t){return n.some((e=>e.isEqual(t)))}class Ex{convertValue(t,e="none"){switch(Gr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ls(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return Jr(t,((a,l)=>{s[a]=this.convertValue(l,e)})),s}convertVectorValue(t){const e=t.fields?.[Vl].arrayValue?.values?.map((s=>me(s.doubleValue)));return new Ri(e)}convertGeoPoint(t){return new is(me(t.latitude),me(t.longitude))}convertArray(t,e){return(t.values||[]).map((s=>this.convertValue(s,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const s=Am(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(Fc(t));default:return null}}convertTimestamp(t){const e=ks(t);return new te(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=Ht.fromString(t);_t(IR(s),9688,{name:t});const a=new io(s.get(1),s.get(3)),l=new ht(s.popFirst(5));return a.isEqual(e)||vn(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}class Bm extends Ex{constructor(t){super(),this.firestore=t}convertBytes(t){return new zn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,e)}}function C3(){return new Mv("serverTimestamp")}const qA="@firebase/firestore",HA="4.10.0";function GA(n){return(function(e,s){if(typeof e!="object"||e===null)return!1;const a=e;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class sm{constructor(t,e,s,a,l){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new D3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(jl("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class D3 extends sm{data(){return super.data()}}function bx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ut(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pv{}class Sx extends Pv{}function Ov(n,t,...e){let s=[];t instanceof Pv&&s.push(t),s=s.concat(e),(function(l){const u=l.filter((d=>d instanceof Lv)).length,h=l.filter((d=>d instanceof kv)).length;if(u>1||u>0&&h>0)throw new ut(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)n=a._apply(n);return n}class kv extends Sx{constructor(t,e,s){super(),this._field=t,this._op=e,this._value=s,this.type="where"}static _create(t,e,s){return new kv(t,e,s)}_apply(t){const e=this._parse(t);return Ax(t._query,e),new ta(t.firestore,t.converter,Yy(t._query,e))}_parse(t){const e=Vv(t.firestore);return(function(l,u,h,d,p,y,v){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ut(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){YA(v,y);const N=[];for(const U of v)N.push(KA(d,l,U));E={arrayValue:{values:N}}}else E=KA(d,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||YA(v,y),E=R3(h,u,v,y==="in"||y==="not-in");return zt.create(p,y,E)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class Lv extends Pv{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Lv(t,e)}_parse(t){const e=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return e.length===1?e[0]:ee.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(a,l){let u=a;const h=l.getFlattenedFilters();for(const d of h)Ax(u,d),u=Yy(u,d)})(t._query,e),new ta(t.firestore,t.converter,Yy(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Uv extends Sx{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Uv(t,e)}_apply(t){const e=(function(a,l,u){if(a.startAt!==null)throw new ut(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ut(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Kc(l,u)})(t._query,this._field,this._direction);return new ta(t.firestore,t.converter,ZO(t._query,e))}}function Bv(n,t="asc"){const e=t,s=jl("orderBy",n);return Uv._create(s,e)}function KA(n,t,e){if(typeof(e=Ye(e))=="string"){if(e==="")throw new ut(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZI(t)&&e.indexOf("/")!==-1)throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const s=t.path.child(Ht.fromString(e));if(!ht.isDocumentKey(s))throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Hc(n,new ht(s))}if(e instanceof Ie)return Hc(n,e._key);throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vm(e)}.`)}function YA(n,t){if(!Array.isArray(n)||n.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Ax(n,t){const e=(function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ut(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function wx(n,t,e){let s;return s=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,s}class V3 extends Ex{constructor(t){super(),this.firestore=t}convertBytes(t){return new zn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,e)}}class ml{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qr extends sm{constructor(t,e,s,a,l,u){super(t,e,s,a,u),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Cd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(jl("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=qr._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",qr._jsonSchema={type:Be("string",qr._jsonSchemaVersion),bundleSource:Be("string","DocumentSnapshot"),bundleName:Be("string"),bundle:Be("string")};class Cd extends qr{data(t={}){return super.data(t)}}class Xa{constructor(t,e,s,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new ml(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((s=>{t.call(e,new Cd(this._firestore,this._userDataWriter,s.key,s,new ml(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ut(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const d=new Cd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ml(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new Cd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ml(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:M3(h.type),doc:d,oldIndex:p,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Xa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=H_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(e.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function M3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:n})}}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:Be("string",Xa._jsonSchemaVersion),bundleSource:Be("string","QuerySnapshot"),bundleName:Be("string"),bundle:Be("string")};const N3={maxAttempts:5};class P3{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Vv(t)}set(t,e,s){this._verifyNotCommitted();const a=Pr(t,this._firestore),l=wx(a.converter,e,s),u=mx(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,s);return this._mutations.push(u.toMutation(a._key,Ue.none())),this}update(t,e,s,...a){this._verifyNotCommitted();const l=Pr(t,this._firestore);let u;return u=typeof(e=Ye(e))=="string"||e instanceof km?gx(this._dataReader,"WriteBatch.update",l._key,e,s,a):px(this._dataReader,"WriteBatch.update",l._key,e),this._mutations.push(u.toMutation(l._key,Ue.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Pr(t,this._firestore);return this._mutations=this._mutations.concat(new mh(e._key,Ue.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ut(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pr(n,t){if((n=Ye(n)).firestore!==t)throw new ut(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class O3{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Vv(t)}get(t){const e=Pr(t,this._firestore),s=new V3(this._firestore);return this._transaction.lookup([e._key]).then((a=>{if(!a||a.length!==1)return mt(24041);const l=a[0];if(l.isFoundDocument())return new sm(this._firestore,s,l.key,l,e.converter);if(l.isNoDocument())return new sm(this._firestore,s,e._key,null,e.converter);throw mt(18433,{doc:l})}))}set(t,e,s){const a=Pr(t,this._firestore),l=wx(a.converter,e,s),u=mx(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,s);return this._transaction.set(a._key,u),this}update(t,e,s,...a){const l=Pr(t,this._firestore);let u;return u=typeof(e=Ye(e))=="string"||e instanceof km?gx(this._dataReader,"Transaction.update",l._key,e,s,a):px(this._dataReader,"Transaction.update",l._key,e),this._transaction.update(l._key,u),this}delete(t){const e=Pr(t,this._firestore);return this._transaction.delete(e._key),this}}class k3 extends O3{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Pr(t,this._firestore),s=new Bm(this._firestore);return super.get(t).then((a=>new qr(this._firestore,s,e._key,a._document,new ml(!1,!1),e.converter)))}}function L3(n,t,e){n=Ii(n,$r);const s={...N3,...e};(function(u){if(u.maxAttempts<1)throw new ut(Z.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s);const a=Xl(n);return y3(a,(l=>t(new k3(n,l))),s)}function U3(n){n=Ii(n,Ie);const t=Ii(n.firestore,$r),e=Xl(t);return m3(e,n._key).then((s=>Rx(t,n,s)))}function a_(n){n=Ii(n,ta);const t=Ii(n.firestore,$r),e=Xl(t),s=new Bm(t);return bx(n._query),p3(e,n._query).then((a=>new Xa(t,s,n,a)))}function Ix(n,...t){n=Ye(n);let e={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||GA(t[s])||(e=t[s++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(GA(t[s])){const p=t[s];t[s]=p.next?.bind(p),t[s+1]=p.error?.bind(p),t[s+2]=p.complete?.bind(p)}let l,u,h;if(n instanceof Ie)u=Ii(n.firestore,$r),h=fh(n._key.path),l={next:p=>{t[s]&&t[s](Rx(u,n,p))},error:t[s+1],complete:t[s+2]};else{const p=Ii(n,ta);u=Ii(p.firestore,$r),h=p._query;const y=new Bm(u);l={next:v=>{t[s]&&t[s](new Xa(u,y,p,v))},error:t[s+1],complete:t[s+2]},bx(n._query)}const d=Xl(u);return d3(d,h,a,l)}function B3(n,t){const e=Xl(n);return g3(e,t)}function Rx(n,t,e){const s=e.docs.get(t._key),a=new Bm(n);return new qr(n,a,t._key,s,new ml(e.hasPendingWrites,e.fromCache),t.converter)}function z3(n){return n=Ii(n,$r),Xl(n),new P3(n,(t=>B3(n,t)))}(function(t,e=!0){KP(Hl),wl(new Ja("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),h=new $r(new $P(s.getProvider("auth-internal")),new ZP(u,s.getProvider("app-check-internal")),UO(u,a),u);return l={useFetchStreams:e,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),Ur(qA,HA,t),Ur(qA,HA,"esm2020")})();const j3={apiKey:"AIzaSyCpfz0Zk6VPZq3_T-sltwFYvCssTNt7SrA",authDomain:"soka-3ce9a.firebaseapp.com",projectId:"soka-3ce9a",storageBucket:"soka-3ce9a.firebasestorage.app",messagingSenderId:"103213261935",appId:"1:103213261935:web:800acc4fb30c7f8f45599a"},xx=xw(j3),rm=FP(xx),jn=E3(xx);try{b3(jn).catch(n=>{n.code=="failed-precondition"?console.warn("Firestore persistence failed: Multiple tabs open"):n.code=="unimplemented"&&console.warn("Firestore persistence not supported in this browser")})}catch(n){console.warn("Firestore persistence initialization error:",n)}const F3=({children:n})=>{const[t,e]=J.useState(null),[s,a]=J.useState(!0);return J.useEffect(()=>{const l=VN(rm,u=>{e(u),a(!1),u||wN(rm).catch(h=>{console.error("Auth Error:",h)})});return()=>l()},[]),s?j.jsx("div",{className:"loading",children:"Loading..."}):t?j.jsx(j.Fragment,{children:n}):j.jsx("div",{className:"error",children:"Authenticating..."})},Cx=J.createContext(void 0),q3=({children:n})=>{const[t,e]=J.useState({selectedA:null,selectedB:null,selectedC:null,selectedD:null}),[s,a]=J.useState(!1),l=d=>d==="soka2026"||d==="admin"?(a(!0),!0):!1,u=(d,p)=>{e(y=>{const v={...y};return p==="C"?{selectedA:null,selectedB:null,selectedC:d,selectedD:null}:p==="D"?{selectedA:null,selectedB:null,selectedC:null,selectedD:d}:((p==="A"||p==="B")&&(v.selectedC=null,v.selectedD=null,p==="A"&&(v.selectedA=d),p==="B"&&(v.selectedB=d)),v)})},h=!!t.selectedC||!!t.selectedD||!!t.selectedA&&!!t.selectedB;return j.jsx(Cx.Provider,{value:{selection:t,selectSession:u,isValid:h,isAdmin:s,login:l},children:n})},zv=()=>{const n=J.useContext(Cx);if(!n)throw new Error("useBooking must be used within BookingProvider");return n};let H3={data:""},G3=n=>{if(typeof window=="object"){let t=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(n||document.head).appendChild(t),t.firstChild}return n||H3},K3=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Y3=/\/\*[^]*?\*\/|  +/g,QA=/\n+/g,Mr=(n,t)=>{let e="",s="",a="";for(let l in n){let u=n[l];l[0]=="@"?l[1]=="i"?e=l+" "+u+";":s+=l[1]=="f"?Mr(u,l):l+"{"+Mr(u,l[1]=="k"?"":t)+"}":typeof u=="object"?s+=Mr(u,t?t.replace(/([^,])+/g,h=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,h):h?h+" "+d:d)):l):u!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Mr.p?Mr.p(l,u):l+":"+u+";")}return e+(t&&a?t+"{"+a+"}":a)+s},Is={},Dx=n=>{if(typeof n=="object"){let t="";for(let e in n)t+=e+Dx(n[e]);return t}return n},Q3=(n,t,e,s,a)=>{let l=Dx(n),u=Is[l]||(Is[l]=(d=>{let p=0,y=11;for(;p<d.length;)y=101*y+d.charCodeAt(p++)>>>0;return"go"+y})(l));if(!Is[u]){let d=l!==n?n:(p=>{let y,v,E=[{}];for(;y=K3.exec(p.replace(Y3,""));)y[4]?E.shift():y[3]?(v=y[3].replace(QA," ").trim(),E.unshift(E[0][v]=E[0][v]||{})):E[0][y[1]]=y[2].replace(QA," ").trim();return E[0]})(n);Is[u]=Mr(a?{["@keyframes "+u]:d}:d,e?"":"."+u)}let h=e&&Is.g?Is.g:null;return e&&(Is.g=Is[u]),((d,p,y,v)=>{v?p.data=p.data.replace(v,d):p.data.indexOf(d)===-1&&(p.data=y?d+p.data:p.data+d)})(Is[u],t,s,h),u},$3=(n,t,e)=>n.reduce((s,a,l)=>{let u=t[l];if(u&&u.call){let h=u(e),d=h&&h.props&&h.props.className||/^go/.test(h)&&h;u=d?"."+d:h&&typeof h=="object"?h.props?"":Mr(h,""):h===!1?"":h}return s+a+(u??"")},"");function zm(n){let t=this||{},e=n.call?n(t.p):n;return Q3(e.unshift?e.raw?$3(e,[].slice.call(arguments,1),t.p):e.reduce((s,a)=>Object.assign(s,a&&a.call?a(t.p):a),{}):e,G3(t.target),t.g,t.o,t.k)}let Vx,o_,l_;zm.bind({g:1});let Us=zm.bind({k:1});function X3(n,t,e,s){Mr.p=t,Vx=n,o_=e,l_=s}function ea(n,t){let e=this||{};return function(){let s=arguments;function a(l,u){let h=Object.assign({},l),d=h.className||a.className;e.p=Object.assign({theme:o_&&o_()},h),e.o=/ *go\d+/.test(d),h.className=zm.apply(e,s)+(d?" "+d:"");let p=n;return n[0]&&(p=h.as||n,delete h.as),l_&&p[0]&&l_(h),Vx(p,h)}return a}}var W3=n=>typeof n=="function",am=(n,t)=>W3(n)?n(t):n,Z3=(()=>{let n=0;return()=>(++n).toString()})(),Mx=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");n=!t||t.matches}return n}})(),J3=20,jv="default",Nx=(n,t)=>{let{toastLimit:e}=n.settings;switch(t.type){case 0:return{...n,toasts:[t.toast,...n.toasts].slice(0,e)};case 1:return{...n,toasts:n.toasts.map(u=>u.id===t.toast.id?{...u,...t.toast}:u)};case 2:let{toast:s}=t;return Nx(n,{type:n.toasts.find(u=>u.id===s.id)?1:0,toast:s});case 3:let{toastId:a}=t;return{...n,toasts:n.toasts.map(u=>u.id===a||a===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return t.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(u=>u.id!==t.toastId)};case 5:return{...n,pausedAt:t.time};case 6:let l=t.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+l}))}}},Dd=[],Px={toasts:[],pausedAt:void 0,settings:{toastLimit:J3}},ts={},Ox=(n,t=jv)=>{ts[t]=Nx(ts[t]||Px,n),Dd.forEach(([e,s])=>{e===t&&s(ts[t])})},kx=n=>Object.keys(ts).forEach(t=>Ox(n,t)),tL=n=>Object.keys(ts).find(t=>ts[t].toasts.some(e=>e.id===n)),jm=(n=jv)=>t=>{Ox(t,n)},eL={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},nL=(n={},t=jv)=>{let[e,s]=J.useState(ts[t]||Px),a=J.useRef(ts[t]);J.useEffect(()=>(a.current!==ts[t]&&s(ts[t]),Dd.push([t,s]),()=>{let u=Dd.findIndex(([h])=>h===t);u>-1&&Dd.splice(u,1)}),[t]);let l=e.toasts.map(u=>{var h,d,p;return{...n,...n[u.type],...u,removeDelay:u.removeDelay||((h=n[u.type])==null?void 0:h.removeDelay)||n?.removeDelay,duration:u.duration||((d=n[u.type])==null?void 0:d.duration)||n?.duration||eL[u.type],style:{...n.style,...(p=n[u.type])==null?void 0:p.style,...u.style}}});return{...e,toasts:l}},iL=(n,t="blank",e)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...e,id:e?.id||Z3()}),Th=n=>(t,e)=>{let s=iL(t,n,e);return jm(s.toasterId||tL(s.id))({type:2,toast:s}),s.id},Ge=(n,t)=>Th("blank")(n,t);Ge.error=Th("error");Ge.success=Th("success");Ge.loading=Th("loading");Ge.custom=Th("custom");Ge.dismiss=(n,t)=>{let e={type:3,toastId:n};t?jm(t)(e):kx(e)};Ge.dismissAll=n=>Ge.dismiss(void 0,n);Ge.remove=(n,t)=>{let e={type:4,toastId:n};t?jm(t)(e):kx(e)};Ge.removeAll=n=>Ge.remove(void 0,n);Ge.promise=(n,t,e)=>{let s=Ge.loading(t.loading,{...e,...e?.loading});return typeof n=="function"&&(n=n()),n.then(a=>{let l=t.success?am(t.success,a):void 0;return l?Ge.success(l,{id:s,...e,...e?.success}):Ge.dismiss(s),a}).catch(a=>{let l=t.error?am(t.error,a):void 0;l?Ge.error(l,{id:s,...e,...e?.error}):Ge.dismiss(s)}),n};var sL=1e3,rL=(n,t="default")=>{let{toasts:e,pausedAt:s}=nL(n,t),a=J.useRef(new Map).current,l=J.useCallback((v,E=sL)=>{if(a.has(v))return;let I=setTimeout(()=>{a.delete(v),u({type:4,toastId:v})},E);a.set(v,I)},[]);J.useEffect(()=>{if(s)return;let v=Date.now(),E=e.map(I=>{if(I.duration===1/0)return;let N=(I.duration||0)+I.pauseDuration-(v-I.createdAt);if(N<0){I.visible&&Ge.dismiss(I.id);return}return setTimeout(()=>Ge.dismiss(I.id,t),N)});return()=>{E.forEach(I=>I&&clearTimeout(I))}},[e,s,t]);let u=J.useCallback(jm(t),[t]),h=J.useCallback(()=>{u({type:5,time:Date.now()})},[u]),d=J.useCallback((v,E)=>{u({type:1,toast:{id:v,height:E}})},[u]),p=J.useCallback(()=>{s&&u({type:6,time:Date.now()})},[s,u]),y=J.useCallback((v,E)=>{let{reverseOrder:I=!1,gutter:N=8,defaultPosition:U}=E||{},L=e.filter(z=>(z.position||U)===(v.position||U)&&z.height),Y=L.findIndex(z=>z.id===v.id),W=L.filter((z,Q)=>Q<Y&&z.visible).length;return L.filter(z=>z.visible).slice(...I?[W+1]:[0,W]).reduce((z,Q)=>z+(Q.height||0)+N,0)},[e]);return J.useEffect(()=>{e.forEach(v=>{if(v.dismissed)l(v.id,v.removeDelay);else{let E=a.get(v.id);E&&(clearTimeout(E),a.delete(v.id))}})},[e,l]),{toasts:e,handlers:{updateHeight:d,startPause:h,endPause:p,calculateOffset:y}}},aL=Us`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,oL=Us`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,lL=Us`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,uL=ea("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${aL} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${oL} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${lL} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,cL=Us`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,hL=ea("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${cL} 1s linear infinite;
`,fL=Us`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,dL=Us`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,mL=ea("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${fL} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${dL} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,pL=ea("div")`
  position: absolute;
`,gL=ea("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,yL=Us`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_L=ea("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${yL} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,vL=({toast:n})=>{let{icon:t,type:e,iconTheme:s}=n;return t!==void 0?typeof t=="string"?J.createElement(_L,null,t):t:e==="blank"?null:J.createElement(gL,null,J.createElement(hL,{...s}),e!=="loading"&&J.createElement(pL,null,e==="error"?J.createElement(uL,{...s}):J.createElement(mL,{...s})))},TL=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,EL=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,bL="0%{opacity:0;} 100%{opacity:1;}",SL="0%{opacity:1;} 100%{opacity:0;}",AL=ea("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,wL=ea("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,IL=(n,t)=>{let e=n.includes("top")?1:-1,[s,a]=Mx()?[bL,SL]:[TL(e),EL(e)];return{animation:t?`${Us(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Us(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},RL=J.memo(({toast:n,position:t,style:e,children:s})=>{let a=n.height?IL(n.position||t||"top-center",n.visible):{opacity:0},l=J.createElement(vL,{toast:n}),u=J.createElement(wL,{...n.ariaProps},am(n.message,n));return J.createElement(AL,{className:n.className,style:{...a,...e,...n.style}},typeof s=="function"?s({icon:l,message:u}):J.createElement(J.Fragment,null,l,u))});X3(J.createElement);var xL=({id:n,className:t,style:e,onHeightUpdate:s,children:a})=>{let l=J.useCallback(u=>{if(u){let h=()=>{let d=u.getBoundingClientRect().height;s(n,d)};h(),new MutationObserver(h).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[n,s]);return J.createElement("div",{ref:l,className:t,style:e},a)},CL=(n,t)=>{let e=n.includes("top"),s=e?{top:0}:{bottom:0},a=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Mx()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(e?1:-1)}px)`,...s,...a}},DL=zm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ud=16,VL=({reverseOrder:n,position:t="top-center",toastOptions:e,gutter:s,children:a,toasterId:l,containerStyle:u,containerClassName:h})=>{let{toasts:d,handlers:p}=rL(e,l);return J.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:ud,left:ud,right:ud,bottom:ud,pointerEvents:"none",...u},className:h,onMouseEnter:p.startPause,onMouseLeave:p.endPause},d.map(y=>{let v=y.position||t,E=p.calculateOffset(y,{reverseOrder:n,gutter:s,defaultPosition:t}),I=CL(v,E);return J.createElement(xL,{id:y.id,key:y.id,onHeightUpdate:p.updateHeight,className:y.visible?DL:"",style:I},y.type==="custom"?am(y.message,y):a?a(y):J.createElement(RL,{toast:y,position:v}))}))},Cc=Ge;const Lx=()=>{const[n,t]=J.useState([]),[e,s]=J.useState(!0);return J.useEffect(()=>{const a=Ov(zl(jn,"slots"),Bv("id")),l=Ix(a,u=>{const h=u.docs.map(d=>d.data());t(h),s(!1)},u=>{console.error("Error fetching real-time slots:",u),s(!1)});return()=>l()},[]),{slots:n,loading:e}},ML=()=>{const n=async()=>{if(!confirm(`  

1. 
2. 

`))return;const e=z3(jn);try{const s=zl(jn,"bookings");(await a_(s)).forEach(p=>{e.delete(p.ref)});const l=zl(jn,"slots");(await a_(l)).forEach(p=>{e.delete(p.ref)}),[{id:"2F_A",type:"A",location:"",title:"",description:"",capacity:50,booked:0,startTime:"20"},{id:"3F_A",type:"A",location:"",title:"*4 / *4",description:`



`,capacity:160,booked:0,startTime:"20"},{id:"5F_A",type:"A",location:"",title:" OPEN SPACE",description:"",capacity:120,booked:0,startTime:"20"},{id:"2F_B",type:"B",location:"",title:"",description:"",capacity:50,booked:0,startTime:"20"},{id:"3F_B",type:"B",location:"",title:"*4 / *4",description:`



`,capacity:160,booked:0,startTime:"20"},{id:"5F_B",type:"B",location:"",title:" OPEN SPACE",description:"",capacity:120,booked:0,startTime:"20"},{id:"6F_C",type:"C",location:"",title:"",description:" SEL ",capacity:70,booked:0,startTime:"40"},{id:"6F_D",type:"D",location:"",title:"",description:"",capacity:70,booked:0,startTime:"40"}].forEach(p=>{const y=Wc(jn,"slots",p.id);e.set(y,{...p,endTime:""})});const d=Wc(jn,"system","config");e.set(d,{lastReset:new Date().toISOString()}),await e.commit(),alert(""),window.location.reload()}catch(s){console.error(s),alert(" Error seeding data")}};return j.jsx("button",{onClick:n,className:"btn-primary",style:{margin:"20px auto",display:"block"},children:" (Initialize DB)"})},Fv=J.createContext({});function qv(n){const t=J.useRef(null);return t.current===null&&(t.current=n()),t.current}const Ux=typeof window<"u",Bx=Ux?J.useLayoutEffect:J.useEffect,Fm=J.createContext(null);function Hv(n,t){n.indexOf(t)===-1&&n.push(t)}function Gv(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const as=(n,t,e)=>e>t?t:e<n?n:e;let Kv=()=>{};const Bs={},zx=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function jx(n){return typeof n=="object"&&n!==null}const Fx=n=>/^0[^.\s]+$/u.test(n);function Yv(n){let t;return()=>(t===void 0&&(t=n()),t)}const oi=n=>n,NL=(n,t)=>e=>t(n(e)),Eh=(...n)=>n.reduce(NL),Zc=(n,t,e)=>{const s=t-n;return s===0?1:(e-n)/s};class Qv{constructor(){this.subscriptions=[]}add(t){return Hv(this.subscriptions,t),()=>Gv(this.subscriptions,t)}notify(t,e,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,e,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(t,e,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ms=n=>n*1e3,ri=n=>n/1e3;function qx(n,t){return t?n*(1e3/t):0}const Hx=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,PL=1e-7,OL=12;function kL(n,t,e,s,a){let l,u,h=0;do u=t+(e-t)/2,l=Hx(u,s,a)-n,l>0?e=u:t=u;while(Math.abs(l)>PL&&++h<OL);return u}function bh(n,t,e,s){if(n===t&&e===s)return oi;const a=l=>kL(l,0,1,n,e);return l=>l===0||l===1?l:Hx(a(l),t,s)}const Gx=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,Kx=n=>t=>1-n(1-t),Yx=bh(.33,1.53,.69,.99),$v=Kx(Yx),Qx=Gx($v),$x=n=>(n*=2)<1?.5*$v(n):.5*(2-Math.pow(2,-10*(n-1))),Xv=n=>1-Math.sin(Math.acos(n)),Xx=Kx(Xv),Wx=Gx(Xv),LL=bh(.42,0,1,1),UL=bh(0,0,.58,1),Zx=bh(.42,0,.58,1),BL=n=>Array.isArray(n)&&typeof n[0]!="number",Jx=n=>Array.isArray(n)&&typeof n[0]=="number",zL={linear:oi,easeIn:LL,easeInOut:Zx,easeOut:UL,circIn:Xv,circInOut:Wx,circOut:Xx,backIn:$v,backInOut:Qx,backOut:Yx,anticipate:$x},jL=n=>typeof n=="string",$A=n=>{if(Jx(n)){Kv(n.length===4);const[t,e,s,a]=n;return bh(t,e,s,a)}else if(jL(n))return zL[n];return n},cd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function FL(n,t){let e=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(y){u.has(y)&&(p.schedule(y),n()),y(h)}const p={schedule:(y,v=!1,E=!1)=>{const N=E&&a?e:s;return v&&u.add(y),N.has(y)||N.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[e,s]=[s,e],e.forEach(d),e.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const qL=40;function tC(n,t){let e=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>e=!0,u=cd.reduce((z,Q)=>(z[Q]=FL(l),z),{}),{setup:h,read:d,resolveKeyframes:p,preUpdate:y,update:v,preRender:E,render:I,postRender:N}=u,U=()=>{const z=Bs.useManualTiming?a.timestamp:performance.now();e=!1,Bs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(z-a.timestamp,qL),1)),a.timestamp=z,a.isProcessing=!0,h.process(a),d.process(a),p.process(a),y.process(a),v.process(a),E.process(a),I.process(a),N.process(a),a.isProcessing=!1,e&&t&&(s=!1,n(U))},L=()=>{e=!0,s=!0,a.isProcessing||n(U)};return{schedule:cd.reduce((z,Q)=>{const rt=u[Q];return z[Q]=(at,R=!1,A=!1)=>(e||L(),rt.schedule(at,R,A)),z},{}),cancel:z=>{for(let Q=0;Q<cd.length;Q++)u[cd[Q]].cancel(z)},state:a,steps:u}}const{schedule:ce,cancel:Xr,state:on,steps:hy}=tC(typeof requestAnimationFrame<"u"?requestAnimationFrame:oi,!0);let Vd;function HL(){Vd=void 0}const Tn={now:()=>(Vd===void 0&&Tn.set(on.isProcessing||Bs.useManualTiming?on.timestamp:performance.now()),Vd),set:n=>{Vd=n,queueMicrotask(HL)}},eC=n=>t=>typeof t=="string"&&t.startsWith(n),nC=eC("--"),GL=eC("var(--"),Wv=n=>GL(n)?KL.test(n.split("/*")[0].trim()):!1,KL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function XA(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const Wl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Jc={...Wl,transform:n=>as(0,1,n)},hd={...Wl,default:1},Dc=n=>Math.round(n*1e5)/1e5,Zv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function YL(n){return n==null}const QL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Jv=(n,t)=>e=>!!(typeof e=="string"&&QL.test(e)&&e.startsWith(n)||t&&!YL(e)&&Object.prototype.hasOwnProperty.call(e,t)),iC=(n,t,e)=>s=>{if(typeof s!="string")return s;const[a,l,u,h]=s.match(Zv);return{[n]:parseFloat(a),[t]:parseFloat(l),[e]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},$L=n=>as(0,255,n),fy={...Wl,transform:n=>Math.round($L(n))},Ka={test:Jv("rgb","red"),parse:iC("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:s=1})=>"rgba("+fy.transform(n)+", "+fy.transform(t)+", "+fy.transform(e)+", "+Dc(Jc.transform(s))+")"};function XL(n){let t="",e="",s="",a="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),s=n.substring(5,7),a=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),s=n.substring(3,4),a=n.substring(4,5),t+=t,e+=e,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const u_={test:Jv("#"),parse:XL,transform:Ka.transform},Sh=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Ir=Sh("deg"),ss=Sh("%"),yt=Sh("px"),WL=Sh("vh"),ZL=Sh("vw"),WA={...ss,parse:n=>ss.parse(n)/100,transform:n=>ss.transform(n*100)},pl={test:Jv("hsl","hue"),parse:iC("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:s=1})=>"hsla("+Math.round(n)+", "+ss.transform(Dc(t))+", "+ss.transform(Dc(e))+", "+Dc(Jc.transform(s))+")"},Le={test:n=>Ka.test(n)||u_.test(n)||pl.test(n),parse:n=>Ka.test(n)?Ka.parse(n):pl.test(n)?pl.parse(n):u_.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ka.transform(n):pl.transform(n),getAnimatableNone:n=>{const t=Le.parse(n);return t.alpha=0,Le.transform(t)}},JL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function t6(n){return isNaN(n)&&typeof n=="string"&&(n.match(Zv)?.length||0)+(n.match(JL)?.length||0)>0}const sC="number",rC="color",e6="var",n6="var(",ZA="${}",i6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function th(n){const t=n.toString(),e=[],s={color:[],number:[],var:[]},a=[];let l=0;const h=t.replace(i6,d=>(Le.test(d)?(s.color.push(l),a.push(rC),e.push(Le.parse(d))):d.startsWith(n6)?(s.var.push(l),a.push(e6),e.push(d)):(s.number.push(l),a.push(sC),e.push(parseFloat(d))),++l,ZA)).split(ZA);return{values:e,split:h,indexes:s,types:a}}function aC(n){return th(n).values}function oC(n){const{split:t,types:e}=th(n),s=t.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=t[u],a[u]!==void 0){const h=e[u];h===sC?l+=Dc(a[u]):h===rC?l+=Le.transform(a[u]):l+=a[u]}return l}}const s6=n=>typeof n=="number"?0:Le.test(n)?Le.getAnimatableNone(n):n;function r6(n){const t=aC(n);return oC(n)(t.map(s6))}const Wr={test:t6,parse:aC,createTransformer:oC,getAnimatableNone:r6};function dy(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function a6({hue:n,saturation:t,lightness:e,alpha:s}){n/=360,t/=100,e/=100;let a=0,l=0,u=0;if(!t)a=l=u=e;else{const h=e<.5?e*(1+t):e+t-e*t,d=2*e-h;a=dy(d,h,n+1/3),l=dy(d,h,n),u=dy(d,h,n-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function om(n,t){return e=>e>0?t:n}const _e=(n,t,e)=>n+(t-n)*e,my=(n,t,e)=>{const s=n*n,a=e*(t*t-s)+s;return a<0?0:Math.sqrt(a)},o6=[u_,Ka,pl],l6=n=>o6.find(t=>t.test(n));function JA(n){const t=l6(n);if(!t)return!1;let e=t.parse(n);return t===pl&&(e=a6(e)),e}const t1=(n,t)=>{const e=JA(n),s=JA(t);if(!e||!s)return om(n,t);const a={...e};return l=>(a.red=my(e.red,s.red,l),a.green=my(e.green,s.green,l),a.blue=my(e.blue,s.blue,l),a.alpha=_e(e.alpha,s.alpha,l),Ka.transform(a))},c_=new Set(["none","hidden"]);function u6(n,t){return c_.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function c6(n,t){return e=>_e(n,t,e)}function t0(n){return typeof n=="number"?c6:typeof n=="string"?Wv(n)?om:Le.test(n)?t1:d6:Array.isArray(n)?lC:typeof n=="object"?Le.test(n)?t1:h6:om}function lC(n,t){const e=[...n],s=e.length,a=n.map((l,u)=>t0(l)(l,t[u]));return l=>{for(let u=0;u<s;u++)e[u]=a[u](l);return e}}function h6(n,t){const e={...n,...t},s={};for(const a in e)n[a]!==void 0&&t[a]!==void 0&&(s[a]=t0(n[a])(n[a],t[a]));return a=>{for(const l in s)e[l]=s[l](a);return e}}function f6(n,t){const e=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],u=n.indexes[l][s[l]],h=n.values[u]??0;e[a]=h,s[l]++}return e}const d6=(n,t)=>{const e=Wr.createTransformer(t),s=th(n),a=th(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?c_.has(n)&&!a.values.length||c_.has(t)&&!s.values.length?u6(n,t):Eh(lC(f6(s,a),a.values),e):om(n,t)};function uC(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?_e(n,t,e):t0(n)(n,t)}const m6=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>ce.update(t,e),stop:()=>Xr(t),now:()=>on.isProcessing?on.timestamp:Tn.now()}},cC=(n,t,e=10)=>{let s="";const a=Math.max(Math.round(t/e),2);for(let l=0;l<a;l++)s+=Math.round(n(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},lm=2e4;function e0(n){let t=0;const e=50;let s=n.next(t);for(;!s.done&&t<lm;)t+=e,s=n.next(t);return t>=lm?1/0:t}function p6(n,t=100,e){const s=e({...n,keyframes:[0,t]}),a=Math.min(e0(s),lm);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:ri(a)}}const g6=5;function hC(n,t,e){const s=Math.max(t-g6,0);return qx(e-n(s),t-s)}const Ee={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},py=.001;function y6({duration:n=Ee.duration,bounce:t=Ee.bounce,velocity:e=Ee.velocity,mass:s=Ee.mass}){let a,l,u=1-t;u=as(Ee.minDamping,Ee.maxDamping,u),n=as(Ee.minDuration,Ee.maxDuration,ri(n)),u<1?(a=p=>{const y=p*u,v=y*n,E=y-e,I=h_(p,u),N=Math.exp(-v);return py-E/I*N},l=p=>{const v=p*u*n,E=v*e+e,I=Math.pow(u,2)*Math.pow(p,2)*n,N=Math.exp(-v),U=h_(Math.pow(p,2),u);return(-a(p)+py>0?-1:1)*((E-I)*N)/U}):(a=p=>{const y=Math.exp(-p*n),v=(p-e)*n+1;return-py+y*v},l=p=>{const y=Math.exp(-p*n),v=(e-p)*(n*n);return y*v});const h=5/n,d=v6(a,l,h);if(n=Ms(n),isNaN(d))return{stiffness:Ee.stiffness,damping:Ee.damping,duration:n};{const p=Math.pow(d,2)*s;return{stiffness:p,damping:u*2*Math.sqrt(s*p),duration:n}}}const _6=12;function v6(n,t,e){let s=e;for(let a=1;a<_6;a++)s=s-n(s)/t(s);return s}function h_(n,t){return n*Math.sqrt(1-t*t)}const T6=["duration","bounce"],E6=["stiffness","damping","mass"];function e1(n,t){return t.some(e=>n[e]!==void 0)}function b6(n){let t={velocity:Ee.velocity,stiffness:Ee.stiffness,damping:Ee.damping,mass:Ee.mass,isResolvedFromDuration:!1,...n};if(!e1(n,E6)&&e1(n,T6))if(n.visualDuration){const e=n.visualDuration,s=2*Math.PI/(e*1.2),a=s*s,l=2*as(.05,1,1-(n.bounce||0))*Math.sqrt(a);t={...t,mass:Ee.mass,stiffness:a,damping:l}}else{const e=y6(n);t={...t,...e,mass:Ee.mass},t.isResolvedFromDuration=!0}return t}function um(n=Ee.visualDuration,t=Ee.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:s,restDelta:a}=e;const l=e.keyframes[0],u=e.keyframes[e.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:p,mass:y,duration:v,velocity:E,isResolvedFromDuration:I}=b6({...e,velocity:-ri(e.velocity||0)}),N=E||0,U=p/(2*Math.sqrt(d*y)),L=u-l,Y=ri(Math.sqrt(d/y)),W=Math.abs(L)<5;s||(s=W?Ee.restSpeed.granular:Ee.restSpeed.default),a||(a=W?Ee.restDelta.granular:Ee.restDelta.default);let z;if(U<1){const rt=h_(Y,U);z=at=>{const R=Math.exp(-U*Y*at);return u-R*((N+U*Y*L)/rt*Math.sin(rt*at)+L*Math.cos(rt*at))}}else if(U===1)z=rt=>u-Math.exp(-Y*rt)*(L+(N+Y*L)*rt);else{const rt=Y*Math.sqrt(U*U-1);z=at=>{const R=Math.exp(-U*Y*at),A=Math.min(rt*at,300);return u-R*((N+U*Y*L)*Math.sinh(A)+rt*L*Math.cosh(A))/rt}}const Q={calculatedDuration:I&&v||null,next:rt=>{const at=z(rt);if(I)h.done=rt>=v;else{let R=rt===0?N:0;U<1&&(R=rt===0?Ms(N):hC(z,rt,at));const A=Math.abs(R)<=s,x=Math.abs(u-at)<=a;h.done=A&&x}return h.value=h.done?u:at,h},toString:()=>{const rt=Math.min(e0(Q),lm),at=cC(R=>Q.next(rt*R).value,rt,30);return rt+"ms "+at},toTransition:()=>{}};return Q}um.applyToOptions=n=>{const t=p6(n,100,um);return n.ease=t.ease,n.duration=Ms(t.duration),n.type="keyframes",n};function f_({keyframes:n,velocity:t=0,power:e=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:d,restDelta:p=.5,restSpeed:y}){const v=n[0],E={done:!1,value:v},I=A=>h!==void 0&&A<h||d!==void 0&&A>d,N=A=>h===void 0?d:d===void 0||Math.abs(h-A)<Math.abs(d-A)?h:d;let U=e*t;const L=v+U,Y=u===void 0?L:u(L);Y!==L&&(U=Y-v);const W=A=>-U*Math.exp(-A/s),z=A=>Y+W(A),Q=A=>{const x=W(A),M=z(A);E.done=Math.abs(x)<=p,E.value=E.done?Y:M};let rt,at;const R=A=>{I(E.value)&&(rt=A,at=um({keyframes:[E.value,N(E.value)],velocity:hC(z,A,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return R(0),{calculatedDuration:null,next:A=>{let x=!1;return!at&&rt===void 0&&(x=!0,Q(A),R(A)),rt!==void 0&&A>=rt?at.next(A-rt):(!x&&Q(A),E)}}}function S6(n,t,e){const s=[],a=e||Bs.mix||uC,l=n.length-1;for(let u=0;u<l;u++){let h=a(n[u],n[u+1]);if(t){const d=Array.isArray(t)?t[u]||oi:t;h=Eh(d,h)}s.push(h)}return s}function A6(n,t,{clamp:e=!0,ease:s,mixer:a}={}){const l=n.length;if(Kv(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const u=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),t=[...t].reverse());const h=S6(t,s,a),d=h.length,p=y=>{if(u&&y<n[0])return t[0];let v=0;if(d>1)for(;v<n.length-2&&!(y<n[v+1]);v++);const E=Zc(n[v],n[v+1],y);return h[v](E)};return e?y=>p(as(n[0],n[l-1],y)):p}function w6(n,t){const e=n[n.length-1];for(let s=1;s<=t;s++){const a=Zc(0,t,s);n.push(_e(e,1,a))}}function I6(n){const t=[0];return w6(t,n.length-1),t}function R6(n,t){return n.map(e=>e*t)}function x6(n,t){return n.map(()=>t||Zx).splice(0,n.length-1)}function Vc({duration:n=300,keyframes:t,times:e,ease:s="easeInOut"}){const a=BL(s)?s.map($A):$A(s),l={done:!1,value:t[0]},u=R6(e&&e.length===t.length?e:I6(t),n),h=A6(u,t,{ease:Array.isArray(a)?a:x6(t,a)});return{calculatedDuration:n,next:d=>(l.value=h(d),l.done=d>=n,l)}}const C6=n=>n!==null;function n0(n,{repeat:t,repeatType:e="loop"},s,a=1){const l=n.filter(C6),h=a<0||t&&e!=="loop"&&t%2===1?0:l.length-1;return!h||s===void 0?l[h]:s}const D6={decay:f_,inertia:f_,tween:Vc,keyframes:Vc,spring:um};function fC(n){typeof n.type=="string"&&(n.type=D6[n.type])}class i0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const V6=n=>n/100;class s0 extends i0{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Tn.now()&&this.tick(Tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;fC(t);const{type:e=Vc,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=t;let{keyframes:h}=t;const d=e||Vc;d!==Vc&&typeof h[0]!="number"&&(this.mixKeyframes=Eh(V6,uC(h[0],h[1])),h=[0,100]);const p=d({...t,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=e0(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:E,repeatDelay:I,type:N,onUpdate:U,finalKeyframe:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const Y=this.currentTime-p*(this.playbackSpeed>=0?1:-1),W=this.playbackSpeed>=0?Y<0:Y>a;this.currentTime=Math.max(Y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let z=this.currentTime,Q=s;if(v){const A=Math.min(this.currentTime,a)/h;let x=Math.floor(A),M=A%1;!M&&A>=1&&(M=1),M===1&&x--,x=Math.min(x,v+1),x%2&&(E==="reverse"?(M=1-M,I&&(M-=I/h)):E==="mirror"&&(Q=u)),z=as(0,1,M)*h}const rt=W?{done:!1,value:y[0]}:Q.next(z);l&&(rt.value=l(rt.value));let{done:at}=rt;!W&&d!==null&&(at=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&at);return R&&N!==f_&&(rt.value=n0(y,this.options,L,this.speed)),U&&U(rt.value),R&&this.finish(),rt}then(t,e){return this.finished.then(t,e)}get duration(){return ri(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ri(t)}get time(){return ri(this.currentTime)}set time(t){t=Ms(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Tn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=ri(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=m6,startTime:e}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=e??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function M6(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Ya=n=>n*180/Math.PI,d_=n=>{const t=Ya(Math.atan2(n[1],n[0]));return m_(t)},N6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:d_,rotateZ:d_,skewX:n=>Ya(Math.atan(n[1])),skewY:n=>Ya(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},m_=n=>(n=n%360,n<0&&(n+=360),n),n1=d_,i1=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),s1=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),P6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:i1,scaleY:s1,scale:n=>(i1(n)+s1(n))/2,rotateX:n=>m_(Ya(Math.atan2(n[6],n[5]))),rotateY:n=>m_(Ya(Math.atan2(-n[2],n[0]))),rotateZ:n1,rotate:n1,skewX:n=>Ya(Math.atan(n[4])),skewY:n=>Ya(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function p_(n){return n.includes("scale")?1:0}function g_(n,t){if(!n||n==="none")return p_(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(e)s=P6,a=e;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=N6,a=h}if(!a)return p_(t);const l=s[t],u=a[1].split(",").map(k6);return typeof l=="function"?l(u):u[l]}const O6=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return g_(e,t)};function k6(n){return parseFloat(n.trim())}const Zl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Jl=new Set(Zl),r1=n=>n===Wl||n===yt,L6=new Set(["x","y","z"]),U6=Zl.filter(n=>!L6.has(n));function B6(n){const t=[];return U6.forEach(e=>{const s=n.getValue(e);s!==void 0&&(t.push([e,s.get()]),s.set(e.startsWith("scale")?1:0))}),t}const Or={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>g_(t,"x"),y:(n,{transform:t})=>g_(t,"y")};Or.translateX=Or.x;Or.translateY=Or.y;const Wa=new Set;let y_=!1,__=!1,v_=!1;function dC(){if(__){const n=Array.from(Wa).filter(s=>s.needsMeasurement),t=new Set(n.map(s=>s.element)),e=new Map;t.forEach(s=>{const a=B6(s);a.length&&(e.set(s,a),s.render())}),n.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=e.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}__=!1,y_=!1,Wa.forEach(n=>n.complete(v_)),Wa.clear()}function mC(){Wa.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(__=!0)})}function z6(){v_=!0,mC(),dC(),v_=!1}class r0{constructor(t,e,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Wa.add(this),y_||(y_=!0,ce.read(mC),ce.resolveKeyframes(dC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:s,motionValue:a}=this;if(t[0]===null){const l=a?.get(),u=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&e){const h=s.readValue(e,u);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=u),a&&l===void 0&&a.set(t[0])}M6(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Wa.delete(this)}cancel(){this.state==="scheduled"&&(Wa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const j6=n=>n.startsWith("--");function F6(n,t,e){j6(t)?n.style.setProperty(t,e):n.style[t]=e}const q6=Yv(()=>window.ScrollTimeline!==void 0),H6={};function G6(n,t){const e=Yv(n);return()=>H6[t]??e()}const pC=G6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yc=([n,t,e,s])=>`cubic-bezier(${n}, ${t}, ${e}, ${s})`,a1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yc([0,.65,.55,1]),circOut:yc([.55,0,1,.45]),backIn:yc([.31,.01,.66,-.59]),backOut:yc([.33,1.53,.69,.99])};function gC(n,t){if(n)return typeof n=="function"?pC()?cC(n,t):"ease-out":Jx(n)?yc(n):Array.isArray(n)?n.map(e=>gC(e,t)||a1.easeOut):a1[n]}function K6(n,t,e,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:d}={},p=void 0){const y={[t]:e};d&&(y.offset=d);const v=gC(h,a);Array.isArray(v)&&(y.easing=v);const E={delay:s,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),n.animate(y,E)}function yC(n){return typeof n=="function"&&"applyToOptions"in n}function Y6({type:n,...t}){return yC(n)&&pC()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Q6 extends i0{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:d}=t;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=t,Kv(typeof t.type!="string");const p=Y6(t);this.animation=K6(e,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=n0(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):F6(e,s,y),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return ri(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ri(t)}get time(){return ri(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ms(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&q6()?(this.animation.timeline=t,oi):e(this)}}const _C={anticipate:$x,backInOut:Qx,circInOut:Wx};function $6(n){return n in _C}function X6(n){typeof n.ease=="string"&&$6(n.ease)&&(n.ease=_C[n.ease])}const gy=10;class W6 extends Q6{constructor(t){X6(t),fC(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const h=new s0({...u,autoplay:!1}),d=Math.max(gy,Tn.now()-this.startTime),p=as(0,gy,d-gy);e.setWithVelocity(h.sample(Math.max(0,d-p)).value,h.sample(d).value,p),h.stop()}}const o1=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Wr.test(n)||n==="0")&&!n.startsWith("url("));function Z6(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function J6(n,t,e,s){const a=n[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=n[n.length-1],u=o1(a,t),h=o1(l,t);return!u||!h?!1:Z6(n)||(e==="spring"||yC(e))&&s}function T_(n){n.duration=0,n.type="keyframes"}const t5=new Set(["opacity","clipPath","filter","transform"]),e5=Yv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function n5(n){const{motionValue:t,name:e,repeatDelay:s,repeatType:a,damping:l,type:u}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=t.owner.getProps();return e5()&&e&&t5.has(e)&&(e!=="transform"||!p)&&!d&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const i5=40;class s5 extends i0{constructor({autoplay:t=!0,delay:e=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:d,motionValue:p,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Tn.now();const E={autoplay:t,delay:e,type:s,repeat:a,repeatDelay:l,repeatType:u,name:d,motionValue:p,element:y,...v},I=y?.KeyframeResolver||r0;this.keyframeResolver=new I(h,(N,U,L)=>this.onKeyframesResolved(N,U,E,!L),d,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:d,isHandoff:p,onUpdate:y}=s;this.resolvedAt=Tn.now(),J6(t,l,u,h)||((Bs.instantAnimations||!d)&&y?.(n0(t,s,e)),t[0]=t[t.length-1],T_(s),s.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>i5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...s,keyframes:t},I=!p&&n5(E),N=E.motionValue?.owner?.current,U=I?new W6({...E,element:N}):new s0(E);U.finished.then(()=>{this.notifyFinished()}).catch(oi),this.pendingTimeline&&(this.stopTimeline=U.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=U}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),z6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function vC(n,t,e,s=0,a=1){const l=Array.from(n).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),u=n.size,h=(u-1)*s;return typeof e=="function"?e(l,u):a===1?l*s:h-l*s}const r5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function a5(n){const t=r5.exec(n);if(!t)return[,];const[,e,s,a]=t;return[`--${e??s}`,a]}function TC(n,t,e=1){const[s,a]=a5(n);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const u=l.trim();return zx(u)?parseFloat(u):u}return Wv(a)?TC(a,t,e+1):a}const o5={type:"spring",stiffness:500,damping:25,restSpeed:10},l5=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),u5={type:"keyframes",duration:.8},c5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},h5=(n,{keyframes:t})=>t.length>2?u5:Jl.has(n)?n.startsWith("scale")?l5(t[1]):o5:c5,f5=n=>n!==null;function d5(n,{repeat:t,repeatType:e="loop"},s){const a=n.filter(f5),l=t&&e!=="loop"&&t%2===1?0:a.length-1;return a[l]}function a0(n,t){return n?.[t]??n?.default??n}function m5({when:n,delay:t,delayChildren:e,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:d,elapsed:p,...y}){return!!Object.keys(y).length}const o0=(n,t,e,s={},a,l)=>u=>{const h=a0(s,n)||{},d=h.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Ms(d);const y={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-p,onUpdate:E=>{t.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:n,motionValue:t,element:l?void 0:a};m5(h)||Object.assign(y,h5(n,y)),y.duration&&(y.duration=Ms(y.duration)),y.repeatDelay&&(y.repeatDelay=Ms(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(T_(y),y.delay===0&&(v=!0)),(Bs.instantAnimations||Bs.skipAnimations)&&(v=!0,T_(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!l&&t.get()!==void 0){const E=d5(y.keyframes,h);if(E!==void 0){ce.update(()=>{y.onUpdate(E),y.onComplete()});return}}return h.isSync?new s0(y):new s5(y)};function l1(n){const t=[{},{}];return n?.values.forEach((e,s)=>{t[0][s]=e.get(),t[1][s]=e.getVelocity()}),t}function l0(n,t,e,s){if(typeof t=="function"){const[a,l]=l1(s);t=t(e!==void 0?e:n.custom,a,l)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[a,l]=l1(s);t=t(e!==void 0?e:n.custom,a,l)}return t}function Al(n,t,e){const s=n.getProps();return l0(s,t,e!==void 0?e:s.custom,n)}const EC=new Set(["width","height","top","left","right","bottom",...Zl]),u1=30,p5=n=>!isNaN(parseFloat(n));class g5{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Tn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Tn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=p5(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new Qv);const s=this.events[t].add(e);return t==="change"?()=>{s(),ce.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,s){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>u1)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,u1);return qx(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fl(n,t){return new g5(n,t)}const E_=n=>Array.isArray(n);function y5(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,Fl(e))}function _5(n){return E_(n)?n[n.length-1]||0:n}function v5(n,t){const e=Al(n,t);let{transitionEnd:s={},transition:a={},...l}=e||{};l={...l,...s};for(const u in l){const h=_5(l[u]);y5(n,u,h)}}const mn=n=>!!(n&&n.getVelocity);function T5(n){return!!(mn(n)&&n.add)}function b_(n,t){const e=n.getValue("willChange");if(T5(e))return e.add(t);if(!e&&Bs.WillChange){const s=new Bs.WillChange("auto");n.addValue("willChange",s),s.add(t)}}function u0(n){return n.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const E5="framerAppearId",bC="data-"+u0(E5);function SC(n){return n.props[bC]}function b5({protectedKeys:n,needsAnimating:t},e){const s=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,s}function AC(n,t,{delay:e=0,transitionOverride:s,type:a}={}){let{transition:l=n.getDefaultTransition(),transitionEnd:u,...h}=t;const d=l?.reduceMotion;s&&(l=s);const p=[],y=a&&n.animationState&&n.animationState.getState()[a];for(const v in h){const E=n.getValue(v,n.latestValues[v]??null),I=h[v];if(I===void 0||y&&b5(y,v))continue;const N={delay:e,...a0(l||{},v)},U=E.get();if(U!==void 0&&!E.isAnimating&&!Array.isArray(I)&&I===U&&!N.velocity)continue;let L=!1;if(window.MotionHandoffAnimation){const z=SC(n);if(z){const Q=window.MotionHandoffAnimation(z,v,ce);Q!==null&&(N.startTime=Q,L=!0)}}b_(n,v);const Y=d??n.shouldReduceMotion;E.start(o0(v,E,I,Y&&EC.has(v)?{type:!1}:N,n,L));const W=E.animation;W&&p.push(W)}return u&&Promise.all(p).then(()=>{ce.update(()=>{u&&v5(n,u)})}),p}function S_(n,t,e={}){const s=Al(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(a=e.transitionOverride);const l=s?()=>Promise.all(AC(n,s,e)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=a;return S5(n,t,d,p,y,v,e)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,p]=h==="beforeChildren"?[l,u]:[u,l];return d().then(()=>p())}else return Promise.all([l(),u(e.delay)])}function S5(n,t,e=0,s=0,a=0,l=1,u){const h=[];for(const d of n.variantChildren)d.notify("AnimationStart",t),h.push(S_(d,t,{...u,delay:e+(typeof s=="function"?0:s)+vC(n.variantChildren,d,s,a,l)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(h)}function A5(n,t,e={}){n.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>S_(n,l,e));s=Promise.all(a)}else if(typeof t=="string")s=S_(n,t,e);else{const a=typeof t=="function"?Al(n,t,e.custom):t;s=Promise.all(AC(n,a,e))}return s.then(()=>{n.notify("AnimationComplete",t)})}const w5={test:n=>n==="auto",parse:n=>n},wC=n=>t=>t.test(n),IC=[Wl,yt,ss,Ir,ZL,WL,w5],c1=n=>IC.find(wC(n));function I5(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Fx(n):!0}const R5=new Set(["brightness","contrast","saturate","opacity"]);function x5(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[s]=e.match(Zv)||[];if(!s)return n;const a=e.replace(s,"");let l=R5.has(t)?1:0;return s!==e&&(l*=100),t+"("+l+a+")"}const C5=/\b([a-z-]*)\(.*?\)/gu,A_={...Wr,getAnimatableNone:n=>{const t=n.match(C5);return t?t.map(x5).join(" "):n}},h1={...Wl,transform:Math.round},D5={rotate:Ir,rotateX:Ir,rotateY:Ir,rotateZ:Ir,scale:hd,scaleX:hd,scaleY:hd,scaleZ:hd,skew:Ir,skewX:Ir,skewY:Ir,distance:yt,translateX:yt,translateY:yt,translateZ:yt,x:yt,y:yt,z:yt,perspective:yt,transformPerspective:yt,opacity:Jc,originX:WA,originY:WA,originZ:yt},c0={borderWidth:yt,borderTopWidth:yt,borderRightWidth:yt,borderBottomWidth:yt,borderLeftWidth:yt,borderRadius:yt,borderTopLeftRadius:yt,borderTopRightRadius:yt,borderBottomRightRadius:yt,borderBottomLeftRadius:yt,width:yt,maxWidth:yt,height:yt,maxHeight:yt,top:yt,right:yt,bottom:yt,left:yt,inset:yt,insetBlock:yt,insetBlockStart:yt,insetBlockEnd:yt,insetInline:yt,insetInlineStart:yt,insetInlineEnd:yt,padding:yt,paddingTop:yt,paddingRight:yt,paddingBottom:yt,paddingLeft:yt,paddingBlock:yt,paddingBlockStart:yt,paddingBlockEnd:yt,paddingInline:yt,paddingInlineStart:yt,paddingInlineEnd:yt,margin:yt,marginTop:yt,marginRight:yt,marginBottom:yt,marginLeft:yt,marginBlock:yt,marginBlockStart:yt,marginBlockEnd:yt,marginInline:yt,marginInlineStart:yt,marginInlineEnd:yt,fontSize:yt,backgroundPositionX:yt,backgroundPositionY:yt,...D5,zIndex:h1,fillOpacity:Jc,strokeOpacity:Jc,numOctaves:h1},V5={...c0,color:Le,backgroundColor:Le,outlineColor:Le,fill:Le,stroke:Le,borderColor:Le,borderTopColor:Le,borderRightColor:Le,borderBottomColor:Le,borderLeftColor:Le,filter:A_,WebkitFilter:A_},RC=n=>V5[n];function xC(n,t){let e=RC(n);return e!==A_&&(e=Wr),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const M5=new Set(["auto","none","0"]);function N5(n,t,e){let s=0,a;for(;s<n.length&&!a;){const l=n[s];typeof l=="string"&&!M5.has(l)&&th(l).values.length&&(a=n[s]),s++}if(a&&e)for(const l of t)n[l]=xC(e,a)}class P5 extends r0{constructor(t,e,s,a,l){super(t,e,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:s}=this;if(!e||!e.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let v=t[y];if(typeof v=="string"&&(v=v.trim(),Wv(v))){const E=TC(v,e.current);E!==void 0&&(t[y]=E),y===t.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!EC.has(s)||t.length!==2)return;const[a,l]=t,u=c1(a),h=c1(l),d=XA(a),p=XA(l);if(d!==p&&Or[s]){this.needsMeasurement=!0;return}if(u!==h)if(r1(u)&&r1(h))for(let y=0;y<t.length;y++){const v=t[y];typeof v=="string"&&(t[y]=parseFloat(v))}else Or[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||I5(t[a]))&&s.push(a);s.length&&N5(t,s,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Or[s](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const a=e[e.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(e);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=Or[e](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{t.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function O5(n,t,e){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const a=e?.[n]??s.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n).filter(s=>s!=null)}const CC=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function w_(n){return jx(n)&&"offsetHeight"in n}const{schedule:h0}=tC(queueMicrotask,!1),Ei={x:!1,y:!1};function DC(){return Ei.x||Ei.y}function k5(n){return n==="x"||n==="y"?Ei[n]?null:(Ei[n]=!0,()=>{Ei[n]=!1}):Ei.x||Ei.y?null:(Ei.x=Ei.y=!0,()=>{Ei.x=Ei.y=!1})}function VC(n,t){const e=O5(n),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[e,a,()=>s.abort()]}function f1(n){return!(n.pointerType==="touch"||DC())}function L5(n,t,e={}){const[s,a,l]=VC(n,e),u=h=>{if(!f1(h))return;const{target:d}=h,p=t(d,h);if(typeof p!="function"||!d)return;const y=v=>{f1(v)&&(p(v),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,a)};return s.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const MC=(n,t)=>t?n===t?!0:MC(n,t.parentElement):!1,f0=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,U5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function NC(n){return U5.has(n.tagName)||n.isContentEditable===!0}const Md=new WeakSet;function d1(n){return t=>{t.key==="Enter"&&n(t)}}function yy(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const B5=(n,t)=>{const e=n.currentTarget;if(!e)return;const s=d1(()=>{if(Md.has(e))return;yy(e,"down");const a=d1(()=>{yy(e,"up")}),l=()=>yy(e,"cancel");e.addEventListener("keyup",a,t),e.addEventListener("blur",l,t)});e.addEventListener("keydown",s,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",s),t)};function m1(n){return f0(n)&&!DC()}function z5(n,t,e={}){const[s,a,l]=VC(n,e),u=h=>{const d=h.currentTarget;if(!m1(h))return;Md.add(d);const p=t(d,h),y=(I,N)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",E),Md.has(d)&&Md.delete(d),m1(I)&&typeof p=="function"&&p(I,{success:N})},v=I=>{y(I,d===window||d===document||e.useGlobalTarget||MC(d,I.target))},E=I=>{y(I,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",E,a)};return s.forEach(h=>{(e.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),w_(h)&&(h.addEventListener("focus",p=>B5(p,a)),!NC(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function PC(n){return jx(n)&&"ownerSVGElement"in n}function j5(n){return PC(n)&&n.tagName==="svg"}const F5=[...IC,Le,Wr],q5=n=>F5.find(wC(n)),p1=()=>({translate:0,scale:1,origin:0,originPoint:0}),gl=()=>({x:p1(),y:p1()}),g1=()=>({min:0,max:0}),He=()=>({x:g1(),y:g1()}),I_={current:null},OC={current:!1},H5=typeof window<"u";function G5(){if(OC.current=!0,!!H5)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>I_.current=n.matches;n.addEventListener("change",t),t()}else I_.current=!1}const K5=new WeakMap;function qm(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function eh(n){return typeof n=="string"||Array.isArray(n)}const d0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],m0=["initial",...d0];function Hm(n){return qm(n.animate)||m0.some(t=>eh(n[t]))}function kC(n){return!!(Hm(n)||n.variants)}function Y5(n,t,e){for(const s in t){const a=t[s],l=e[s];if(mn(a))n.addValue(s,a);else if(mn(l))n.addValue(s,Fl(a,{owner:n}));else if(l!==a)if(n.hasValue(s)){const u=n.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=n.getStaticValue(s);n.addValue(s,Fl(u!==void 0?u:a,{owner:n}))}}for(const s in e)t[s]===void 0&&n.removeValue(s);return t}const y1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let cm={};function LC(n){cm=n}function Q5(){return cm}class $5{scrapeMotionValuesFromProps(t,e,s){return{}}constructor({parent:t,props:e,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=r0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Tn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,ce.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=e.initial?{...d}:{},this.renderState=p,this.parent=t,this.props=e,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=Hm(e),this.isVariantNode=kC(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(e,{},this);for(const E in v){const I=v[E];d[E]!==void 0&&mn(I)&&I.set(d[E])}}mount(t){this.current=t,K5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,s)=>this.bindToMotionValue(s,e)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(OC.current||G5(),this.shouldReduceMotion=I_.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Xr(this.notifyUpdate),Xr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Jl.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=e.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&ce.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in cm){const e=cm[t];if(!e)continue;const{isEnabled:s,Feature:a}=e;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):He()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let s=0;s<y1.length;s++){const a=y1[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=t[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=Y5(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const s=this.values.get(t);e!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&e!==void 0&&(s=Fl(e===null?void 0:e,{owner:this}),this.addValue(t,s)),s}readValue(t,e){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(zx(s)||Fx(s))?s=parseFloat(s):!q5(s)&&Wr.test(e)&&(s=xC(t,e)),this.setBaseTarget(t,mn(s)?s.get():s)),mn(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let s;if(typeof e=="string"||typeof e=="object"){const l=l0(this.props,e,this.presenceContext?.custom);l&&(s=l[t])}if(e&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!mn(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new Qv),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){h0.render(this.render)}}class UC extends $5{constructor(){super(...arguments),this.KeyframeResolver=P5}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){const s=t.style;return s?s[e]:void 0}removeValueFromRenderState(t,{vars:e,style:s}){delete e[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;mn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class na{constructor(t){this.isMounted=!1,this.node=t}update(){}}function BC({top:n,left:t,right:e,bottom:s}){return{x:{min:t,max:e},y:{min:n,max:s}}}function X5({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function W5(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),s=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:s.y,right:s.x}}function _y(n){return n===void 0||n===1}function R_({scale:n,scaleX:t,scaleY:e}){return!_y(n)||!_y(t)||!_y(e)}function za(n){return R_(n)||zC(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function zC(n){return _1(n.x)||_1(n.y)}function _1(n){return n&&n!=="0%"}function hm(n,t,e){const s=n-e,a=t*s;return e+a}function v1(n,t,e,s,a){return a!==void 0&&(n=hm(n,a,s)),hm(n,e,s)+t}function x_(n,t=0,e=1,s,a){n.min=v1(n.min,t,e,s,a),n.max=v1(n.max,t,e,s,a)}function jC(n,{x:t,y:e}){x_(n.x,t.translate,t.scale,t.originPoint),x_(n.y,e.translate,e.scale,e.originPoint)}const T1=.999999999999,E1=1.0000000000001;function Z5(n,t,e,s=!1){const a=e.length;if(!a)return;t.x=t.y=1;let l,u;for(let h=0;h<a;h++){l=e[h],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&_l(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,jC(n,u)),s&&za(l.latestValues)&&_l(n,l.latestValues))}t.x<E1&&t.x>T1&&(t.x=1),t.y<E1&&t.y>T1&&(t.y=1)}function yl(n,t){n.min=n.min+t,n.max=n.max+t}function b1(n,t,e,s,a=.5){const l=_e(n.min,n.max,a);x_(n,t,e,l,s)}function _l(n,t){b1(n.x,t.x,t.scaleX,t.scale,t.originX),b1(n.y,t.y,t.scaleY,t.scale,t.originY)}function FC(n,t){return BC(W5(n.getBoundingClientRect(),t))}function J5(n,t,e){const s=FC(n,e),{scroll:a}=t;return a&&(yl(s.x,a.offset.x),yl(s.y,a.offset.y)),s}const tU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eU=Zl.length;function nU(n,t,e){let s="",a=!0;for(let l=0;l<eU;l++){const u=Zl[l],h=n[u];if(h===void 0)continue;let d=!0;if(typeof h=="number")d=h===(u.startsWith("scale")?1:0);else{const p=parseFloat(h);d=u.startsWith("scale")?p===1:p===0}if(!d||e){const p=CC(h,c0[u]);if(!d){a=!1;const y=tU[u]||u;s+=`${y}(${p}) `}e&&(t[u]=p)}}return s=s.trim(),e?s=e(t,a?"":s):a&&(s="none"),s}function p0(n,t,e){const{style:s,vars:a,transformOrigin:l}=n;let u=!1,h=!1;for(const d in t){const p=t[d];if(Jl.has(d)){u=!0;continue}else if(nC(d)){a[d]=p;continue}else{const y=CC(p,c0[d]);d.startsWith("origin")?(h=!0,l[d]=y):s[d]=y}}if(t.transform||(u||e?s.transform=nU(t,n.transform,e):s.transform&&(s.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${d} ${p} ${y}`}}function qC(n,{style:t,vars:e},s,a){const l=n.style;let u;for(u in t)l[u]=t[u];a?.applyProjectionStyles(l,s);for(u in e)l.setProperty(u,e[u])}function S1(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const fc={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(yt.test(n))n=parseFloat(n);else return n;const e=S1(n,t.target.x),s=S1(n,t.target.y);return`${e}% ${s}%`}},iU={correct:(n,{treeScale:t,projectionDelta:e})=>{const s=n,a=Wr.parse(n);if(a.length>5)return s;const l=Wr.createTransformer(n),u=typeof a[0]!="number"?1:0,h=e.x.scale*t.x,d=e.y.scale*t.y;a[0+u]/=h,a[1+u]/=d;const p=_e(h,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}},C_={borderRadius:{...fc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fc,borderTopRightRadius:fc,borderBottomLeftRadius:fc,borderBottomRightRadius:fc,boxShadow:iU};function HC(n,{layout:t,layoutId:e}){return Jl.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!C_[n]||n==="opacity")}function g0(n,t,e){const s=n.style,a=t?.style,l={};if(!s)return l;for(const u in s)(mn(s[u])||a&&mn(a[u])||HC(u,n)||e?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}function sU(n){return window.getComputedStyle(n)}class rU extends UC{constructor(){super(...arguments),this.type="html",this.renderInstance=qC}readValueFromInstance(t,e){if(Jl.has(e))return this.projection?.isProjecting?p_(e):O6(t,e);{const s=sU(t),a=(nC(e)?s.getPropertyValue(e):s[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return FC(t,e)}build(t,e,s){p0(t,e,s.transformTemplate)}scrapeMotionValuesFromProps(t,e,s){return g0(t,e,s)}}const aU={offset:"stroke-dashoffset",array:"stroke-dasharray"},oU={offset:"strokeDashoffset",array:"strokeDasharray"};function lU(n,t,e=1,s=0,a=!0){n.pathLength=1;const l=a?aU:oU;n[l.offset]=`${-s}`,n[l.array]=`${t} ${e}`}const uU=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function GC(n,{attrX:t,attrY:e,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},d,p,y){if(p0(n,h,p),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:E}=n;v.transform&&(E.transform=v.transform,delete v.transform),(E.transform||v.transformOrigin)&&(E.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete v.transformBox);for(const I of uU)v[I]!==void 0&&(E[I]=v[I],delete v[I]);t!==void 0&&(v.x=t),e!==void 0&&(v.y=e),s!==void 0&&(v.scale=s),a!==void 0&&lU(v,a,l,u,!1)}const KC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),YC=n=>typeof n=="string"&&n.toLowerCase()==="svg";function cU(n,t,e,s){qC(n,t,void 0,s);for(const a in t.attrs)n.setAttribute(KC.has(a)?a:u0(a),t.attrs[a])}function QC(n,t,e){const s=g0(n,t,e);for(const a in n)if(mn(n[a])||mn(t[a])){const l=Zl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=n[a]}return s}class hU extends UC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=He}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Jl.has(e)){const s=RC(e);return s&&s.default||0}return e=KC.has(e)?e:u0(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,s){return QC(t,e,s)}build(t,e,s){GC(t,e,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,e,s,a){cU(t,e,s,a)}mount(t){this.isSVGTag=YC(t.tagName),super.mount(t)}}const fU=m0.length;function $C(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?$C(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<fU;e++){const s=m0[e],a=n.props[s];(eh(a)||a===!1)&&(t[s]=a)}return t}function XC(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let s=0;s<e;s++)if(t[s]!==n[s])return!1;return!0}const dU=[...d0].reverse(),mU=d0.length;function pU(n){return t=>Promise.all(t.map(({animation:e,options:s})=>A5(n,e,s)))}function gU(n){let t=pU(n),e=A1(),s=!0;const a=d=>(p,y)=>{const v=Al(n,y,d==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:E,transitionEnd:I,...N}=v;p={...p,...N,...I}}return p};function l(d){t=d(n)}function u(d){const{props:p}=n,y=$C(n.parent)||{},v=[],E=new Set;let I={},N=1/0;for(let L=0;L<mU;L++){const Y=dU[L],W=e[Y],z=p[Y]!==void 0?p[Y]:y[Y],Q=eh(z),rt=Y===d?W.isActive:null;rt===!1&&(N=L);let at=z===y[Y]&&z!==p[Y]&&Q;if(at&&s&&n.manuallyAnimateOnMount&&(at=!1),W.protectedKeys={...I},!W.isActive&&rt===null||!z&&!W.prevProp||qm(z)||typeof z=="boolean")continue;const R=yU(W.prevProp,z);let A=R||Y===d&&W.isActive&&!at&&Q||L>N&&Q,x=!1;const M=Array.isArray(z)?z:[z];let V=M.reduce(a(Y),{});rt===!1&&(V={});const{prevResolvedValues:k={}}=W,C={...k,...V},Gt=ot=>{A=!0,E.has(ot)&&(x=!0,E.delete(ot)),W.needsAnimating[ot]=!0;const dt=n.getValue(ot);dt&&(dt.liveStyle=!1)};for(const ot in C){const dt=V[ot],Dt=k[ot];if(I.hasOwnProperty(ot))continue;let kt=!1;E_(dt)&&E_(Dt)?kt=!XC(dt,Dt):kt=dt!==Dt,kt?dt!=null?Gt(ot):E.add(ot):dt!==void 0&&E.has(ot)?Gt(ot):W.protectedKeys[ot]=!0}W.prevProp=z,W.prevResolvedValues=V,W.isActive&&(I={...I,...V}),s&&n.blockInitialAnimation&&(A=!1);const Xt=at&&R;A&&(!Xt||x)&&v.push(...M.map(ot=>{const dt={type:Y};if(typeof ot=="string"&&s&&!Xt&&n.manuallyAnimateOnMount&&n.parent){const{parent:Dt}=n,kt=Al(Dt,ot);if(Dt.enteringChildren&&kt){const{delayChildren:O}=kt.transition||{};dt.delay=vC(Dt.enteringChildren,n,O)}}return{animation:ot,options:dt}}))}if(E.size){const L={};if(typeof p.initial!="boolean"){const Y=Al(n,Array.isArray(p.initial)?p.initial[0]:p.initial);Y&&Y.transition&&(L.transition=Y.transition)}E.forEach(Y=>{const W=n.getBaseTarget(Y),z=n.getValue(Y);z&&(z.liveStyle=!0),L[Y]=W??null}),v.push({animation:L})}let U=!!v.length;return s&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(U=!1),s=!1,U?t(v):Promise.resolve()}function h(d,p){if(e[d].isActive===p)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(d,p)),e[d].isActive=p;const y=u(d);for(const v in e)e[v].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>e,reset:()=>{e=A1()}}}function yU(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!XC(t,n):!1}function Oa(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function A1(){return{animate:Oa(!0),whileInView:Oa(),whileHover:Oa(),whileTap:Oa(),whileDrag:Oa(),whileFocus:Oa(),exit:Oa()}}function w1(n,t){n.min=t.min,n.max=t.max}function Ti(n,t){w1(n.x,t.x),w1(n.y,t.y)}function I1(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}const WC=1e-4,_U=1-WC,vU=1+WC,ZC=.01,TU=0-ZC,EU=0+ZC;function En(n){return n.max-n.min}function bU(n,t,e){return Math.abs(n-t)<=e}function R1(n,t,e,s=.5){n.origin=s,n.originPoint=_e(t.min,t.max,n.origin),n.scale=En(e)/En(t),n.translate=_e(e.min,e.max,n.origin)-n.originPoint,(n.scale>=_U&&n.scale<=vU||isNaN(n.scale))&&(n.scale=1),(n.translate>=TU&&n.translate<=EU||isNaN(n.translate))&&(n.translate=0)}function Mc(n,t,e,s){R1(n.x,t.x,e.x,s?s.originX:void 0),R1(n.y,t.y,e.y,s?s.originY:void 0)}function x1(n,t,e){n.min=e.min+t.min,n.max=n.min+En(t)}function SU(n,t,e){x1(n.x,t.x,e.x),x1(n.y,t.y,e.y)}function C1(n,t,e){n.min=t.min-e.min,n.max=n.min+En(t)}function fm(n,t,e){C1(n.x,t.x,e.x),C1(n.y,t.y,e.y)}function D1(n,t,e,s,a){return n-=t,n=hm(n,1/e,s),a!==void 0&&(n=hm(n,1/a,s)),n}function AU(n,t=0,e=1,s=.5,a,l=n,u=n){if(ss.test(t)&&(t=parseFloat(t),t=_e(u.min,u.max,t/100)-u.min),typeof t!="number")return;let h=_e(l.min,l.max,s);n===l&&(h-=t),n.min=D1(n.min,t,e,h,a),n.max=D1(n.max,t,e,h,a)}function V1(n,t,[e,s,a],l,u){AU(n,t[e],t[s],t[a],t.scale,l,u)}const wU=["x","scaleX","originX"],IU=["y","scaleY","originY"];function M1(n,t,e,s){V1(n.x,t,wU,e?e.x:void 0,s?s.x:void 0),V1(n.y,t,IU,e?e.y:void 0,s?s.y:void 0)}function N1(n){return n.translate===0&&n.scale===1}function JC(n){return N1(n.x)&&N1(n.y)}function P1(n,t){return n.min===t.min&&n.max===t.max}function RU(n,t){return P1(n.x,t.x)&&P1(n.y,t.y)}function O1(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function tD(n,t){return O1(n.x,t.x)&&O1(n.y,t.y)}function k1(n){return En(n.x)/En(n.y)}function L1(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}function ii(n){return[n("x"),n("y")]}function xU(n,t,e){let s="";const a=n.x.translate/t.x,l=n.y.translate/t.y,u=e?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:E,skewX:I,skewY:N}=e;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),v&&(s+=`rotateX(${v}deg) `),E&&(s+=`rotateY(${E}deg) `),I&&(s+=`skewX(${I}deg) `),N&&(s+=`skewY(${N}deg) `)}const h=n.x.scale*t.x,d=n.y.scale*t.y;return(h!==1||d!==1)&&(s+=`scale(${h}, ${d})`),s||"none"}const eD=["TopLeft","TopRight","BottomLeft","BottomRight"],CU=eD.length,U1=n=>typeof n=="string"?parseFloat(n):n,B1=n=>typeof n=="number"||yt.test(n);function DU(n,t,e,s,a,l){a?(n.opacity=_e(0,e.opacity??1,VU(s)),n.opacityExit=_e(t.opacity??1,0,MU(s))):l&&(n.opacity=_e(t.opacity??1,e.opacity??1,s));for(let u=0;u<CU;u++){const h=`border${eD[u]}Radius`;let d=z1(t,h),p=z1(e,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||B1(d)===B1(p)?(n[h]=Math.max(_e(U1(d),U1(p),s),0),(ss.test(p)||ss.test(d))&&(n[h]+="%")):n[h]=p}(t.rotate||e.rotate)&&(n.rotate=_e(t.rotate||0,e.rotate||0,s))}function z1(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const VU=nD(0,.5,Xx),MU=nD(.5,.95,oi);function nD(n,t,e){return s=>s<n?0:s>t?1:e(Zc(n,t,s))}function NU(n,t,e){const s=mn(n)?n:Fl(n);return s.start(o0("",s,t,e)),s.animation}function nh(n,t,e,s={passive:!0}){return n.addEventListener(t,e,s),()=>n.removeEventListener(t,e)}const PU=(n,t)=>n.depth-t.depth;class OU{constructor(){this.children=[],this.isDirty=!1}add(t){Hv(this.children,t),this.isDirty=!0}remove(t){Gv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(PU),this.isDirty=!1,this.children.forEach(t)}}function kU(n,t){const e=Tn.now(),s=({timestamp:a})=>{const l=a-e;l>=t&&(Xr(s),n(l-t))};return ce.setup(s,!0),()=>Xr(s)}function Nd(n){return mn(n)?n.get():n}class LU{constructor(){this.members=[]}add(t){Hv(this.members,t),t.scheduleRender()}remove(t){if(Gv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(a=>t===a);if(e===0)return!1;let s;for(let a=e;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,e){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender();const a=s.options.layoutDependency,l=t.options.layoutDependency;a!==void 0&&l!==void 0&&a===l||(t.resumeFrom=s,e&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:h}=t.options;h===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:s}=t;e.onExitComplete&&e.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Pd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},vy=["","X","Y","Z"],UU=1e3;let BU=0;function Ty(n,t,e,s){const{latestValues:a}=t;a[n]&&(e[n]=a[n],t.setStaticValue(n,0),s&&(s[n]=0))}function iD(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=SC(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:a,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",ce,!(a||l))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&iD(s)}function sD({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},h=t?.()){this.id=BU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(FU),this.nodes.forEach(KU),this.nodes.forEach(YU),this.nodes.forEach(qU)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new OU)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Qv),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=PC(u)&&!j5(u),this.instance=u;const{layoutId:h,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),n){let y,v=0;const E=()=>this.root.updateBlockedByResize=!1;ce.read(()=>{v=window.innerWidth}),n(u,()=>{const I=window.innerWidth;I!==v&&(v=I,this.root.updateBlockedByResize=!0,y&&y(),y=kU(E,250),Pd.hasAnimatedSinceResize&&(Pd.hasAnimatedSinceResize=!1,this.nodes.forEach(q1)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:E,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||p.getDefaultTransition()||ZU,{onLayoutAnimationStart:U,onLayoutAnimationComplete:L}=p.getProps(),Y=!this.targetLayout||!tD(this.targetLayout,I),W=!v&&E;if(this.options.layoutRoot||this.resumeFrom||W||v&&(Y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const z={...a0(N,"layout"),onPlay:U,onComplete:L};(p.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z),this.setAnimationOrigin(y,W)}else v||q1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Xr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(QU),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&iD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(j1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(F1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(GU),this.nodes.forEach(zU),this.nodes.forEach(jU)):this.nodes.forEach(F1),this.clearAllSnapshots();const h=Tn.now();on.delta=as(0,1e3/60,h-on.timestamp),on.timestamp=h,on.isProcessing=!0,hy.update.process(on),hy.preRender.process(on),hy.render.process(on),on.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,h0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(HU),this.sharedNodes.forEach($U)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!En(this.snapshot.measuredBox.x)&&!En(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=He(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!JC(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||za(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),JU(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return He();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(t9))){const{scroll:p}=this.root;p&&(yl(h.x,p.offset.x),yl(h.y,p.offset.y))}return h}removeElementScroll(u){const h=He();if(Ti(h,u),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Ti(h,u),yl(h.x,y.offset.x),yl(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const d=He();Ti(d,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&_l(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),za(y.latestValues)&&_l(d,y.latestValues)}return za(this.latestValues)&&_l(d,this.latestValues),d}removeTransform(u){const h=He();Ti(h,u);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!za(p.latestValues))continue;R_(p.latestValues)&&p.updateSnapshot();const y=He(),v=p.measurePageBox();Ti(y,v),M1(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return za(this.latestValues)&&M1(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==on.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=on.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=He(),this.targetWithTransforms=He()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),SU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ti(this.target,this.layout.layoutBox),jC(this.target,this.targetDelta)):Ti(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||R_(this.parent.latestValues)||zC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,h,d){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),fm(this.relativeTargetOrigin,h,d),Ti(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===on.timestamp&&(d=!1),d)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Ti(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,E=this.treeScale.y;Z5(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=He());const{target:I}=u;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(I1(this.prevProjectionDelta.x,this.projectionDelta.x),I1(this.prevProjectionDelta.y,this.projectionDelta.y)),Mc(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==E||!L1(this.projectionDelta.x,this.prevProjectionDelta.x)||!L1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=gl(),this.projectionDelta=gl(),this.projectionDeltaWithTransform=gl()}setAnimationOrigin(u,h=!1){const d=this.snapshot,p=d?d.latestValues:{},y={...this.latestValues},v=gl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=He(),I=d?d.source:void 0,N=this.layout?this.layout.source:void 0,U=I!==N,L=this.getStack(),Y=!L||L.members.length<=1,W=!!(U&&!Y&&this.options.crossfade===!0&&!this.path.some(WU));this.animationProgress=0;let z;this.mixTargetDelta=Q=>{const rt=Q/1e3;H1(v.x,u.x,rt),H1(v.y,u.y,rt),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fm(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),XU(this.relativeTarget,this.relativeTargetOrigin,E,rt),z&&RU(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=He()),Ti(z,this.relativeTarget)),U&&(this.animationValues=y,DU(y,p,this.latestValues,rt,W,Y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=rt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Xr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ce.update(()=>{Pd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Fl(0)),this.currentAnimation=NU(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(UU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:y}=u;if(!(!h||!d||!p)){if(this!==u&&this.layout&&p&&rD(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||He();const v=En(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+v;const E=En(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+E}Ti(h,d),_l(h,y),Mc(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new LU),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&Ty("z",u,p,this.animationValues);for(let y=0;y<vy.length;y++)Ty(`rotate${vy[y]}`,u,p,this.animationValues),Ty(`skew${vy[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Nd(h?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Nd(h?.pointerEvents)||""),this.hasProjected&&!za(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=xU(this.projectionDeltaWithTransform,this.treeScale,y);d&&(v=d(y,v)),u.transform=v;const{x:E,y:I}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${I.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const N in C_){if(y[N]===void 0)continue;const{correct:U,applyTo:L,isCSSVariable:Y}=C_[N],W=v==="none"?y[N]:U(y[N],p);if(L){const z=L.length;for(let Q=0;Q<z;Q++)u[L[Q]]=W}else Y?this.options.visualElement.renderState.vars[N]=W:u[N]=W}this.options.layoutId&&(u.pointerEvents=p===this?Nd(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(j1),this.root.sharedNodes.clear()}}}function zU(n){n.updateLayout()}function jU(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:s}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?ii(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],E=En(v);v.min=e[y].min,v.max=v.min+E}):rD(a,t.layoutBox,e)&&ii(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],E=En(e[y]);v.max=v.min+E,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+E)});const u=gl();Mc(u,e,t.layoutBox);const h=gl();l?Mc(h,n.applyTransform(s,!0),t.measuredBox):Mc(h,e,t.layoutBox);const d=!JC(u);let p=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:E}=y;if(v&&E){const I=He();fm(I,t.layoutBox,v.layoutBox);const N=He();fm(N,e,E.layoutBox),tD(I,N)||(p=!0),y.options.layoutRoot&&(n.relativeTarget=N,n.relativeTargetOrigin=I,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function FU(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function qU(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function HU(n){n.clearSnapshot()}function j1(n){n.clearMeasurements()}function F1(n){n.isLayoutDirty=!1}function GU(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function q1(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function KU(n){n.resolveTargetDelta()}function YU(n){n.calcProjection()}function QU(n){n.resetSkewAndRotation()}function $U(n){n.removeLeadSnapshot()}function H1(n,t,e){n.translate=_e(t.translate,0,e),n.scale=_e(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function G1(n,t,e,s){n.min=_e(t.min,e.min,s),n.max=_e(t.max,e.max,s)}function XU(n,t,e,s){G1(n.x,t.x,e.x,s),G1(n.y,t.y,e.y,s)}function WU(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const ZU={duration:.45,ease:[.4,0,.1,1]},K1=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Y1=K1("applewebkit/")&&!K1("chrome/")?Math.round:oi;function Q1(n){n.min=Y1(n.min),n.max=Y1(n.max)}function JU(n){Q1(n.x),Q1(n.y)}function rD(n,t,e){return n==="position"||n==="preserve-aspect"&&!bU(k1(t),k1(e),.2)}function t9(n){return n!==n.root&&n.scroll?.wasRoot}const e9=sD({attachResizeListener:(n,t)=>nh(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Ey={current:void 0},aD=sD({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Ey.current){const n=new e9({});n.mount(window),n.setOptions({layoutScroll:!0}),Ey.current=n}return Ey.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),y0=J.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function $1(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function n9(...n){return t=>{let e=!1;const s=n.map(a=>{const l=$1(a,t);return!e&&typeof l=="function"&&(e=!0),l});if(e)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():$1(n[a],null)}}}}function i9(...n){return J.useCallback(n9(...n),n)}class s9 extends J.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const s=e.offsetParent,a=w_(s)&&s.offsetWidth||0,l=w_(s)&&s.offsetHeight||0,u=this.props.sizeRef.current;u.height=e.offsetHeight||0,u.width=e.offsetWidth||0,u.top=e.offsetTop,u.left=e.offsetLeft,u.right=a-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function r9({children:n,isPresent:t,anchorX:e,anchorY:s,root:a}){const l=J.useId(),u=J.useRef(null),h=J.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=J.useContext(y0),p=n.props?.ref??n?.ref,y=i9(u,p);return J.useInsertionEffect(()=>{const{width:v,height:E,top:I,left:N,right:U,bottom:L}=h.current;if(t||!u.current||!v||!E)return;const Y=e==="left"?`left: ${N}`:`right: ${U}`,W=s==="bottom"?`bottom: ${L}`:`top: ${I}`;u.current.dataset.motionPopId=l;const z=document.createElement("style");d&&(z.nonce=d);const Q=a??document.head;return Q.appendChild(z),z.sheet&&z.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${E}px !important;
            ${Y}px !important;
            ${W}px !important;
          }
        `),()=>{Q.contains(z)&&Q.removeChild(z)}},[t]),j.jsx(s9,{isPresent:t,childRef:u,sizeRef:h,children:J.cloneElement(n,{ref:y})})}const a9=({children:n,initial:t,isPresent:e,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h,anchorY:d,root:p})=>{const y=qv(o9),v=J.useId();let E=!0,I=J.useMemo(()=>(E=!1,{id:v,initial:t,isPresent:e,custom:a,onExitComplete:N=>{y.set(N,!0);for(const U of y.values())if(!U)return;s&&s()},register:N=>(y.set(N,!1),()=>y.delete(N))}),[e,y,s]);return l&&E&&(I={...I}),J.useMemo(()=>{y.forEach((N,U)=>y.set(U,!1))},[e]),J.useEffect(()=>{!e&&!y.size&&s&&s()},[e]),u==="popLayout"&&(n=j.jsx(r9,{isPresent:e,anchorX:h,anchorY:d,root:p,children:n})),j.jsx(Fm.Provider,{value:I,children:n})};function o9(){return new Map}function oD(n=!0){const t=J.useContext(Fm);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:s,register:a}=t,l=J.useId();J.useEffect(()=>{if(n)return a(l)},[n]);const u=J.useCallback(()=>n&&s&&s(l),[l,s,n]);return!e&&s?[!1,u]:[!0]}const fd=n=>n.key||"";function X1(n){const t=[];return J.Children.forEach(n,e=>{J.isValidElement(e)&&t.push(e)}),t}const Gm=({children:n,custom:t,initial:e=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left",anchorY:d="top",root:p})=>{const[y,v]=oD(u),E=J.useMemo(()=>X1(n),[n]),I=u&&!y?[]:E.map(fd),N=J.useRef(!0),U=J.useRef(E),L=qv(()=>new Map),Y=J.useRef(new Set),[W,z]=J.useState(E),[Q,rt]=J.useState(E);Bx(()=>{N.current=!1,U.current=E;for(let A=0;A<Q.length;A++){const x=fd(Q[A]);I.includes(x)?(L.delete(x),Y.current.delete(x)):L.get(x)!==!0&&L.set(x,!1)}},[Q,I.length,I.join("-")]);const at=[];if(E!==W){let A=[...E];for(let x=0;x<Q.length;x++){const M=Q[x],V=fd(M);I.includes(V)||(A.splice(x,0,M),at.push(M))}return l==="wait"&&at.length&&(A=at),rt(X1(A)),z(E),null}const{forceRender:R}=J.useContext(Fv);return j.jsx(j.Fragment,{children:Q.map(A=>{const x=fd(A),M=u&&!y?!1:E===Q||I.includes(x),V=()=>{if(Y.current.has(x))return;if(Y.current.add(x),L.has(x))L.set(x,!0);else return;let k=!0;L.forEach(C=>{C||(k=!1)}),k&&(R?.(),rt(U.current),u&&v?.(),s&&s())};return j.jsx(a9,{isPresent:M,initial:!N.current||e?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:M?void 0:V,anchorX:h,anchorY:d,children:A},x)})})},lD=J.createContext({strict:!1}),W1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Z1=!1;function l9(){if(Z1)return;const n={};for(const t in W1)n[t]={isEnabled:e=>W1[t].some(s=>!!e[s])};LC(n),Z1=!0}function uD(){return l9(),Q5()}function u9(n){const t=uD();for(const e in n)t[e]={...t[e],...n[e]};LC(t)}const c9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dm(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||c9.has(n)}let cD=n=>!dm(n);function h9(n){typeof n=="function"&&(cD=t=>t.startsWith("on")?!dm(t):n(t))}try{h9(require("@emotion/is-prop-valid").default)}catch{}function f9(n,t,e){const s={};for(const a in n)a==="values"&&typeof n.values=="object"||(cD(a)||e===!0&&dm(a)||!t&&!dm(a)||n.draggable&&a.startsWith("onDrag"))&&(s[a]=n[a]);return s}const Km=J.createContext({});function d9(n,t){if(Hm(n)){const{initial:e,animate:s}=n;return{initial:e===!1||eh(e)?e:void 0,animate:eh(s)?s:void 0}}return n.inherit!==!1?t:{}}function m9(n){const{initial:t,animate:e}=d9(n,J.useContext(Km));return J.useMemo(()=>({initial:t,animate:e}),[J1(t),J1(e)])}function J1(n){return Array.isArray(n)?n.join(" "):n}const _0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hD(n,t,e){for(const s in t)!mn(t[s])&&!HC(s,e)&&(n[s]=t[s])}function p9({transformTemplate:n},t){return J.useMemo(()=>{const e=_0();return p0(e,t,n),Object.assign({},e.vars,e.style)},[t])}function g9(n,t){const e=n.style||{},s={};return hD(s,e,n),Object.assign(s,p9(n,t)),s}function y9(n,t){const e={},s=g9(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=s,e}const fD=()=>({..._0(),attrs:{}});function _9(n,t,e,s){const a=J.useMemo(()=>{const l=fD();return GC(l,t,YC(s),n.transformTemplate,n.style),{...l.attrs,style:{...l.style}}},[t]);if(n.style){const l={};hD(l,n.style,n),a.style={...l,...a.style}}return a}const v9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function v0(n){return typeof n!="string"||n.includes("-")?!1:!!(v9.indexOf(n)>-1||/[A-Z]/u.test(n))}function T9(n,t,e,{latestValues:s},a,l=!1,u){const d=(u??v0(n)?_9:y9)(t,s,a,n),p=f9(t,typeof n=="string",l),y=n!==J.Fragment?{...p,...d,ref:e}:{},{children:v}=t,E=J.useMemo(()=>mn(v)?v.get():v,[v]);return J.createElement(n,{...y,children:E})}function E9({scrapeMotionValuesFromProps:n,createRenderState:t},e,s,a){return{latestValues:b9(e,s,a,n),renderState:t()}}function b9(n,t,e,s){const a={},l=s(n,{});for(const E in l)a[E]=Nd(l[E]);let{initial:u,animate:h}=n;const d=Hm(n),p=kC(n);t&&p&&!d&&n.inherit!==!1&&(u===void 0&&(u=t.initial),h===void 0&&(h=t.animate));let y=e?e.initial===!1:!1;y=y||u===!1;const v=y?h:u;if(v&&typeof v!="boolean"&&!qm(v)){const E=Array.isArray(v)?v:[v];for(let I=0;I<E.length;I++){const N=l0(n,E[I]);if(N){const{transitionEnd:U,transition:L,...Y}=N;for(const W in Y){let z=Y[W];if(Array.isArray(z)){const Q=y?z.length-1:0;z=z[Q]}z!==null&&(a[W]=z)}for(const W in U)a[W]=U[W]}}}return a}const dD=n=>(t,e)=>{const s=J.useContext(Km),a=J.useContext(Fm),l=()=>E9(n,t,s,a);return e?l():qv(l)},S9=dD({scrapeMotionValuesFromProps:g0,createRenderState:_0}),A9=dD({scrapeMotionValuesFromProps:QC,createRenderState:fD}),w9=Symbol.for("motionComponentSymbol");function I9(n,t,e){const s=J.useRef(e);J.useInsertionEffect(()=>{s.current=e});const a=J.useRef(null);return J.useCallback(l=>{l&&n.onMount?.(l),t&&(l?t.mount(l):t.unmount());const u=s.current;if(typeof u=="function")if(l){const h=u(l);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[t])}const mD=J.createContext({});function _c(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function R9(n,t,e,s,a,l){const{visualElement:u}=J.useContext(Km),h=J.useContext(lD),d=J.useContext(Fm),p=J.useContext(y0).reducedMotion,y=J.useRef(null),v=J.useRef(!1);s=s||h.renderer,!y.current&&s&&(y.current=s(n,{visualState:t,parent:u,props:e,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p,isSVG:l}),v.current&&y.current&&(y.current.manuallyAnimateOnMount=!0));const E=y.current,I=J.useContext(mD);E&&!E.projection&&a&&(E.type==="html"||E.type==="svg")&&x9(y.current,e,a,I);const N=J.useRef(!1);J.useInsertionEffect(()=>{E&&N.current&&E.update(e,d)});const U=e[bC],L=J.useRef(!!U&&!window.MotionHandoffIsComplete?.(U)&&window.MotionHasOptimisedAnimation?.(U));return Bx(()=>{v.current=!0,E&&(N.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),E.scheduleRenderMicrotask(),L.current&&E.animationState&&E.animationState.animateChanges())}),J.useEffect(()=>{E&&(!L.current&&E.animationState&&E.animationState.animateChanges(),L.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(U)}),L.current=!1),E.enteringChildren=void 0)}),E}function x9(n,t,e,s){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:p,layoutCrossfade:y}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:pD(n.parent)),n.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&_c(h),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:d,layoutRoot:p})}function pD(n){if(n)return n.options.allowProjection!==!1?n.projection:pD(n.parent)}function by(n,{forwardMotionProps:t=!1,type:e}={},s,a){s&&u9(s);const l=e?e==="svg":v0(n),u=l?A9:S9;function h(p,y){let v;const E={...J.useContext(y0),...p,layoutId:C9(p)},{isStatic:I}=E,N=m9(p),U=u(p,I);if(!I&&Ux){D9();const L=V9(E);v=L.MeasureLayout,N.visualElement=R9(n,U,E,a,L.ProjectionNode,l)}return j.jsxs(Km.Provider,{value:N,children:[v&&N.visualElement?j.jsx(v,{visualElement:N.visualElement,...E}):null,T9(n,p,I9(U,N.visualElement,y),U,I,t,l)]})}h.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const d=J.forwardRef(h);return d[w9]=n,d}function C9({layoutId:n}){const t=J.useContext(Fv).id;return t&&n!==void 0?t+"-"+n:n}function D9(n,t){J.useContext(lD).strict}function V9(n){const t=uD(),{drag:e,layout:s}=t;if(!e&&!s)return{};const a={...e,...s};return{MeasureLayout:e?.isEnabled(n)||s?.isEnabled(n)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function M9(n,t){if(typeof Proxy>"u")return by;const e=new Map,s=(l,u)=>by(l,u,n,t),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(e.has(u)||e.set(u,by(u,void 0,n,t)),e.get(u))})}const N9=(n,t)=>t.isSVG??v0(n)?new hU(t):new rU(t,{allowProjection:n!==J.Fragment});class P9 extends na{constructor(t){super(t),t.animationState||(t.animationState=gU(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();qm(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let O9=0;class k9 extends na{constructor(){super(...arguments),this.id=O9++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);e&&!t&&a.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const L9={animation:{Feature:P9},exit:{Feature:k9}};function Ah(n){return{point:{x:n.pageX,y:n.pageY}}}const U9=n=>t=>f0(t)&&n(t,Ah(t));function Nc(n,t,e,s){return nh(n,t,U9(e),s)}const gD=({current:n})=>n?n.ownerDocument.defaultView:null,tw=(n,t)=>Math.abs(n-t);function B9(n,t){const e=tw(n.x,t.x),s=tw(n.y,t.y);return Math.sqrt(e**2+s**2)}const ew=new Set(["auto","scroll"]);class yD{constructor(t,e,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=I=>{this.handleScroll(I.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=Ay(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,U=B9(I.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!U)return;const{point:L}=I,{timestamp:Y}=on;this.history.push({...L,timestamp:Y});const{onStart:W,onMove:z}=this.handlers;N||(W&&W(this.lastMoveEvent,I),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,I)},this.handlePointerMove=(I,N)=>{this.lastMoveEvent=I,this.lastMoveEventInfo=Sy(N,this.transformPagePoint),ce.update(this.updatePoint,!0)},this.handlePointerUp=(I,N)=>{this.end();const{onEnd:U,onSessionEnd:L,resumeAnimation:Y}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&Y&&Y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const W=Ay(I.type==="pointercancel"?this.lastMoveEventInfo:Sy(N,this.transformPagePoint),this.history);this.startEvent&&U&&U(I,W),L&&L(I,W)},!f0(t))return;this.dragSnapToOrigin=l,this.handlers=e,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const d=Ah(t),p=Sy(d,this.transformPagePoint),{point:y}=p,{timestamp:v}=on;this.history=[{...y,timestamp:v}];const{onSessionStart:E}=e;E&&E(t,Ay(p,this.history)),this.removeListeners=Eh(Nc(this.contextWindow,"pointermove",this.handlePointerMove),Nc(this.contextWindow,"pointerup",this.handlePointerUp),Nc(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(t){let e=t.parentElement;for(;e;){const s=getComputedStyle(e);(ew.has(s.overflowX)||ew.has(s.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const s=t===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},l={x:a.x-e.x,y:a.y-e.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(t,a),ce.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Xr(this.updatePoint)}}function Sy(n,t){return t?{point:t(n.point)}:n}function nw(n,t){return{x:n.x-t.x,y:n.y-t.y}}function Ay({point:n},t){return{point:n,delta:nw(n,_D(t)),offset:nw(n,z9(t)),velocity:j9(t,.1)}}function z9(n){return n[0]}function _D(n){return n[n.length-1]}function j9(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,s=null;const a=_D(n);for(;e>=0&&(s=n[e],!(a.timestamp-s.timestamp>Ms(t)));)e--;if(!s)return{x:0,y:0};const l=ri(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function F9(n,{min:t,max:e},s){return t!==void 0&&n<t?n=s?_e(t,n,s.min):Math.max(n,t):e!==void 0&&n>e&&(n=s?_e(e,n,s.max):Math.min(n,e)),n}function iw(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function q9(n,{top:t,left:e,bottom:s,right:a}){return{x:iw(n.x,e,a),y:iw(n.y,t,s)}}function sw(n,t){let e=t.min-n.min,s=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,s]=[s,e]),{min:e,max:s}}function H9(n,t){return{x:sw(n.x,t.x),y:sw(n.y,t.y)}}function G9(n,t){let e=.5;const s=En(n),a=En(t);return a>s?e=Zc(t.min,t.max-s,n.min):s>a&&(e=Zc(n.min,n.max-a,t.min)),as(0,1,e)}function K9(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const D_=.35;function Y9(n=D_){return n===!1?n=0:n===!0&&(n=D_),{x:rw(n,"left","right"),y:rw(n,"top","bottom")}}function rw(n,t,e){return{min:aw(n,t),max:aw(n,e)}}function aw(n,t){return typeof n=="number"?n:n[t]||0}const Q9=new WeakMap;class $9{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=He(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{e?(this.stopAnimation(),this.snapToCursor(Ah(v).point)):this.pauseAnimation()},u=(v,E)=>{this.stopAnimation();const{drag:I,dragPropagation:N,onDragStart:U}=this.getProps();if(I&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=k5(I),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ii(Y=>{let W=this.getAxisMotionValue(Y).get()||0;if(ss.test(W)){const{projection:z}=this.visualElement;if(z&&z.layout){const Q=z.layout.layoutBox[Y];Q&&(W=En(Q)*(parseFloat(W)/100))}}this.originPoint[Y]=W}),U&&ce.postRender(()=>U(v,E)),b_(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},h=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E;const{dragPropagation:I,dragDirectionLock:N,onDirectionLock:U,onDrag:L}=this.getProps();if(!I&&!this.openDragLock)return;const{offset:Y}=E;if(N&&this.currentDirection===null){this.currentDirection=X9(Y),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",E.point,Y),this.updateAxis("y",E.point,Y),this.visualElement.render(),L&&L(v,E)},d=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E,this.stop(v,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ii(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new yD(t,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:gD(this.visualElement),element:this.visualElement.current})}stop(t,e){const s=t||this.latestPointerEvent,a=e||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&ce.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,e,s){const{drag:a}=this.getProps();if(!s||!dd(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let u=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(u=F9(u,this.constraints[t],this.elastic[t])),l.set(u)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&_c(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=q9(s.layoutBox,t):this.constraints=!1,this.elastic=Y9(e),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ii(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=K9(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!_c(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=J5(s,a.root,this.visualElement.getTransformPagePoint());let u=H9(a.layout.layoutBox,l);if(e){const h=e(X5(u));this.hasMutatedConstraints=!!h,h&&(u=BC(h))}return u}startAnimation(t){const{drag:e,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=ii(y=>{if(!dd(y,e,this.currentDirection))return;let v=d&&d[y]||{};u&&(v={min:0,max:0});const E=a?200:1e6,I=a?40:1e7,N={type:"inertia",velocity:s?t[y]:0,bounceStiffness:E,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,N)});return Promise.all(p).then(h)}startAxisValueAnimation(t,e){const s=this.getAxisMotionValue(t);return b_(this.visualElement,t),s.start(o0(t,s,0,e,this.visualElement,!1))}stopAnimation(){ii(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ii(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[e];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ii(e=>{const{drag:s}=this.getProps();if(!dd(e,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(e);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[e],d=l.get()||0;l.set(t[e]-_e(u,h,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:s}=this.visualElement;if(!_c(e)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ii(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();a[u]=G9({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ii(u=>{if(!dd(u,t,null))return;const h=this.getAxisMotionValue(u),{min:d,max:p}=this.constraints[u];h.set(_e(d,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;Q9.set(this.visualElement,this);const t=this.visualElement.current,e=Nc(t,"pointerdown",d=>{const{drag:p,dragListener:y=!0}=this.getProps(),v=d.target,E=v!==t&&NC(v);p&&y&&!E&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();_c(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ce.read(s);const u=nh(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(ii(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=d[y].translate,v.set(v.get()+d[y].translate))}),this.visualElement.render())}));return()=>{u(),e(),l(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=D_,dragMomentum:h=!0}=t;return{...t,drag:e,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function dd(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function X9(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class W9 extends na{constructor(t){super(t),this.removeGroupControls=oi,this.removeListeners=oi,this.controls=new $9(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||oi}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const ow=n=>(t,e)=>{n&&ce.postRender(()=>n(t,e))};class Z9 extends na{constructor(){super(...arguments),this.removePointerDownListener=oi}onPointerDown(t){this.session=new yD(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gD(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:ow(t),onStart:ow(e),onMove:s,onEnd:(l,u)=>{delete this.session,a&&ce.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Nc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let wy=!1;class J9 extends J.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;l&&(e.group&&e.group.add(l),s&&s.register&&a&&s.register(l),wy&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Pd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,t.layoutDependency!==e&&u.setOptions({...u.options,layoutDependency:e}),wy=!0,a||t.layoutDependency!==e||e===void 0||t.isPresent!==l?u.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?u.promote():u.relegate()||ce.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),h0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s}=this.props,{projection:a}=t;wy=!0,a&&(a.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function vD(n){const[t,e]=oD(),s=J.useContext(Fv);return j.jsx(J9,{...n,layoutGroup:s,switchLayoutGroup:J.useContext(mD),isPresent:t,safeToRemove:e})}const tB={pan:{Feature:Z9},drag:{Feature:W9,ProjectionNode:aD,MeasureLayout:vD}};function lw(n,t,e){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",e==="Start");const a="onHover"+e,l=s[a];l&&ce.postRender(()=>l(t,Ah(t)))}class eB extends na{mount(){const{current:t}=this.node;t&&(this.unmount=L5(t,(e,s)=>(lw(this.node,s,"Start"),a=>lw(this.node,a,"End"))))}unmount(){}}class nB extends na{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Eh(nh(this.node.current,"focus",()=>this.onFocus()),nh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function uw(n,t,e){const{props:s}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",e==="Start");const a="onTap"+(e==="End"?"":e),l=s[a];l&&ce.postRender(()=>l(t,Ah(t)))}class iB extends na{mount(){const{current:t}=this.node;t&&(this.unmount=z5(t,(e,s)=>(uw(this.node,s,"Start"),(a,{success:l})=>uw(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const V_=new WeakMap,Iy=new WeakMap,sB=n=>{const t=V_.get(n.target);t&&t(n)},rB=n=>{n.forEach(sB)};function aB({root:n,...t}){const e=n||document;Iy.has(e)||Iy.set(e,{});const s=Iy.get(e),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(rB,{root:n,...t})),s[a]}function oB(n,t,e){const s=aB(t);return V_.set(n,e),s.observe(n),()=>{V_.delete(n),s.unobserve(n)}}const lB={some:0,all:1};class uB extends na{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:s,amount:a="some",once:l}=t,u={root:e?e.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:lB[a]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),E=p?y:v;E&&E(d)};return oB(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(cB(t,e))&&this.startObserver()}unmount(){}}function cB({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const hB={inView:{Feature:uB},tap:{Feature:iB},focus:{Feature:nB},hover:{Feature:eB}},fB={layout:{ProjectionNode:aD,MeasureLayout:vD}},dB={...L9,...hB,...tB,...fB},Wi=M9(dB,N9);var mB=hw();const pB=({isOpen:n,onConfirm:t,onCancel:e,title:s="",message:a=""})=>mB.createPortal(j.jsx(Gm,{children:n&&j.jsx(Wi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(31, 41, 55, 0.7)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(12px)",padding:"20px"},onClick:l=>{l.target===l.currentTarget&&e()},children:j.jsxs(Wi.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"glass-card",style:{maxWidth:"400px",width:"100%",padding:"32px",textAlign:"center",border:"1px solid rgba(255,255,255,0.5)",background:"rgba(255,255,255,0.85)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",maxHeight:"90vh",overflowY:"auto"},children:[j.jsx("div",{style:{fontSize:"4rem",marginBottom:"16px",filter:"drop-shadow(0 4px 6px rgba(0,0,0,0.1))",animation:"bounce 1s infinite"},children:""}),j.jsx("h3",{style:{justifyContent:"center",fontSize:"1.75rem",marginBottom:"12px",background:"linear-gradient(135deg, #b91c1c 0%, #ef4444 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:800},children:s}),j.jsx("p",{style:{color:"#4b5563",marginBottom:"32px",lineHeight:"1.6",fontSize:"1.1rem"},children:a}),j.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[j.jsx("button",{onClick:e,className:"btn-secondary",style:{padding:"16px",fontSize:"1.1rem",background:"#f3f4f6",border:"1px solid #e5e7eb",color:"#374151"},children:""}),j.jsx("button",{onClick:t,className:"btn-primary",style:{padding:"16px",fontSize:"1.1rem",background:"linear-gradient(135deg, #dc2626 0%, #ef4444 100%)",boxShadow:"0 4px 12px rgba(220, 38, 38, 0.3)"},children:""})]})]})})}),document.body),gB=Rs.createContext({}),TD=!0;function yB({baseColor:n,highlightColor:t,width:e,height:s,borderRadius:a,circle:l,direction:u,duration:h,enableAnimation:d=TD,customHighlightBackground:p}){const y={};return u==="rtl"&&(y["--animation-direction"]="reverse"),typeof h=="number"&&(y["--animation-duration"]=`${h}s`),d||(y["--pseudo-element-display"]="none"),(typeof e=="string"||typeof e=="number")&&(y.width=e),(typeof s=="string"||typeof s=="number")&&(y.height=s),(typeof a=="string"||typeof a=="number")&&(y.borderRadius=a),l&&(y.borderRadius="50%"),typeof n<"u"&&(y["--base-color"]=n),typeof t<"u"&&(y["--highlight-color"]=t),typeof p=="string"&&(y["--custom-highlight-background"]=p),y}function ka({count:n=1,wrapper:t,className:e,containerClassName:s,containerTestId:a,circle:l=!1,style:u,...h}){var d,p,y;const v=Rs.useContext(gB),E={...h};for(const[z,Q]of Object.entries(h))typeof Q>"u"&&delete E[z];const I={...v,...E,circle:l},N={...u,...yB(I)};let U="react-loading-skeleton";e&&(U+=` ${e}`);const L=(d=I.inline)!==null&&d!==void 0?d:!1,Y=[],W=Math.ceil(n);for(let z=0;z<W;z++){let Q=N;if(W>n&&z===W-1){const at=(p=Q.width)!==null&&p!==void 0?p:"100%",R=n%1,A=typeof at=="number"?at*R:`calc(${at} * ${R})`;Q={...Q,width:A}}const rt=Rs.createElement("span",{className:U,style:Q,key:z},"");L?Y.push(rt):Y.push(Rs.createElement(Rs.Fragment,{key:z},rt,Rs.createElement("br",null)))}return Rs.createElement("span",{className:s,"data-testid":a,"aria-live":"polite","aria-busy":(y=I.enableAnimation)!==null&&y!==void 0?y:TD},t?Y.map((z,Q)=>Rs.createElement(t,{key:Q},z)):Y)}const _B=()=>j.jsxs(Wi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"slot-card",style:{background:"#fff",border:"1px solid #e2e8f0",cursor:"default",display:"flex",flexDirection:"column"},children:[j.jsx("div",{style:{marginBottom:"8px"},children:j.jsx(ka,{height:24,width:"80%"})}),j.jsx("div",{style:{marginBottom:"12px"},children:j.jsx(ka,{width:"40%",height:16})}),j.jsx("div",{style:{marginBottom:"auto"},children:j.jsx(ka,{count:2})}),j.jsxs("div",{style:{marginTop:"20px"},children:[j.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"12px"},children:[j.jsx(ka,{width:80,height:20}),j.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"4px"},children:[j.jsx(ka,{width:60,height:20,style:{borderRadius:"12px"}}),j.jsx(ka,{width:80,height:24})]})]}),j.jsx(ka,{height:8,borderRadius:4})]})]}),vB=({disabled:n=!1,bookedSlotIds:t})=>{const{slots:e,loading:s}=Lx(),{selection:a,selectSession:l,isAdmin:u}=zv(),[h,d]=J.useState(null),[p,y]=J.useState(!1),v=J.useRef(null);J.useEffect(()=>{const{selectedA:L,selectedB:Y}=a;if(!L||!Y)return;const W=`${L}-${Y}`;if(v.current===W)return;const z=L.split("_")[0],Q=Y.split("_")[0];z==="3F"&&Q==="3F"&&(Cc(rt=>j.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",padding:"4px"},children:[j.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:800,color:"#334155",display:"flex",alignItems:"center",gap:"8px"},children:[j.jsx("span",{style:{fontSize:"1.6rem"},children:""}),""]}),j.jsxs("div",{style:{textAlign:"center",lineHeight:"1.6",fontSize:"1.05rem",color:"#475569",fontWeight:500},children:["",j.jsx("br",{}),"",j.jsx("br",{}),"3F ",j.jsx("br",{}),""]}),j.jsx("button",{onClick:()=>Cc.dismiss(rt.id),style:{marginTop:"4px",padding:"8px 24px",background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white",border:"none",borderRadius:"50px",fontWeight:600,fontSize:"0.95rem",cursor:"pointer",boxShadow:"0 4px 12px rgba(37, 99, 235, 0.2)",transition:"transform 0.1s"},onMouseDown:at=>at.currentTarget.style.transform="scale(0.95)",onMouseUp:at=>at.currentTarget.style.transform="scale(1)",children:""})]}),{id:W,duration:1/0,position:"top-center",style:{borderRadius:"24px",background:"rgba(255, 255, 255, 1)",border:"2px solid #3b82f6",padding:"20px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",maxWidth:"90vw",width:"360px",zIndex:9999}}),v.current=W)},[a.selectedA,a.selectedB]);const E=(L,Y)=>{if(n)return;const W=!!a.selectedA||!!a.selectedB,z=!!a.selectedC,Q=!!a.selectedD;let rt=!1;W?(Y==="C"||Y==="D")&&(rt=!0):z?["A","B","D"].includes(Y)&&(rt=!0):Q&&["A","B","C"].includes(Y)&&(rt=!0),rt?(d({id:L,type:Y}),y(!0)):l(L,Y)},I=()=>{h&&(l(h.id,h.type),d(null),y(!1))};if(s){const L=(Y,W)=>j.jsxs("div",{className:"section-container",children:[j.jsx("h3",{children:Y}),j.jsx("div",{className:"slot-grid",children:Array.from({length:W}).map((z,Q)=>j.jsx(_B,{},Q))})]});return j.jsxs("div",{className:"selection-container",children:[j.jsxs("div",{className:"combo-row",children:[L(" (A)",2),L(" (B)",1)]}),j.jsx("div",{className:"sc-divider",children:"OR"}),j.jsxs("div",{className:"combo-row",children:[L(" (C)",2),L(" (D)",1)]})]})}const N=e.filter(L=>!!L.title);if(N.length===0)return j.jsxs(Wi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"empty-state",style:{textAlign:"center",padding:"40px",color:"#64748b"},children:[j.jsx("div",{style:{fontSize:"3rem",marginBottom:"20px"},children:""}),j.jsx("p",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:""}),j.jsx("p",{children:"No active sessions found."}),u?j.jsxs("div",{style:{marginTop:"20px"},children:[j.jsx("p",{style:{color:"#ef4444",marginBottom:"10px"},children:" "}),j.jsx(ML,{})]}):j.jsxs("p",{style:{marginTop:"20px",fontSize:"0.9rem",opacity:.7},children:["",j.jsx("br",{}),"Please contact the administrator to initialize the system."]})]});const U=(L,Y,W)=>{const z=N.filter(Q=>Y.includes(Q.type));return j.jsxs("div",{className:"section-container",children:[j.jsxs("h3",{children:[L," ",j.jsx("span",{style:{fontSize:"0.8em",fontWeight:"normal",marginLeft:"10px",opacity:.7},children:W})]}),j.jsx("div",{className:"slot-grid",children:j.jsx(Gm,{children:z.map(Q=>{const rt=t?t.includes(Q.id):a.selectedA===Q.id||a.selectedB===Q.id||a.selectedC===Q.id||a.selectedD===Q.id;let at=!1,R=!1;if(!t){a.selectedC&&a.selectedC!==Q.id&&(["A","B","D"].includes(Q.type)&&(at=!0),Q.type==="C"&&(at=!0)),a.selectedD&&a.selectedD!==Q.id&&(["A","B","C"].includes(Q.type)&&(at=!0),Q.type==="D"&&(at=!0)),(a.selectedA||a.selectedB)&&(Q.type==="C"||Q.type==="D")&&(at=!0);const[Xt,tt]=Q.id.split("_");if(Xt==="2F"||Xt==="5F"){const dt=(tt==="A"?"B":"A")==="A"?a.selectedA:a.selectedB;dt&&dt.startsWith(`${Xt}_`)&&(R=!0)}}const A=Q.booked>=Q.capacity,x=at||R,M=Q.capacity-Q.booked,V=Q.booked/Q.capacity*100;let k="#10b981",C="",Gt="";return M===0?(k="#64748b",C="",Gt=""):M<=20?(k="#ef4444",C="",Gt=""):V>=70&&(k="#f59e0b",C="",Gt=""),j.jsxs(Wi.div,{layoutId:Q.id,initial:{opacity:0,scale:.9},animate:{opacity:(n||x)&&!rt?.4:1,scale:rt?1.02:1,filter:(A||x)&&!rt||n&&!rt?"grayscale(100%)":"none"},whileHover:!A&&!x&&!n?{y:-5,boxShadow:"0 10px 20px rgba(0,0,0,0.1)"}:{},whileTap:!A&&!x&&!n?{scale:.98}:{},onClick:()=>!A&&!n&&!R&&E(Q.id,Q.type),role:"button","aria-disabled":n||R||A,"aria-label":`${Q.title}, : ${Q.location}, : ${M}`,tabIndex:n||R||A?-1:0,onKeyDown:Xt=>{(Xt.key==="Enter"||Xt.key===" ")&&!A&&!n&&!R&&(Xt.preventDefault(),E(Q.id,Q.type))},className:`slot-card type-${Q.type} ${rt?"selected":""} ${A?"full":""}`,style:n||R?{cursor:"default",pointerEvents:R?"none":"auto",border:rt?void 0:"1px solid transparent",background:rt?void 0:"#f1f5f9",boxShadow:rt?"0 4px 12px rgba(0,0,0,0.1)":"none",transform:rt?"scale(1.02)":"none"}:{},children:[rt&&j.jsx(Wi.div,{initial:{scale:0},animate:{scale:1},className:"check-mark",style:{background:n?"#10b981":void 0},children:""}),A&&j.jsx("div",{className:"sold-out-overlay-text",children:"SOLD OUT"}),j.jsx("span",{className:"slot-name",children:Q.title}),j.jsxs("div",{className:"slot-location",children:[" ",Q.location]}),j.jsx("p",{className:"slot-description",children:Q.description}),j.jsxs("div",{className:"slot-footer",style:{flexDirection:"column",alignItems:"stretch",gap:"12px"},children:[j.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[j.jsxs("span",{className:"slot-time",children:[" ",Q.startTime]}),j.jsx("div",{style:{textAlign:"right"},children:j.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"2px"},children:[j.jsxs("span",{style:{fontSize:"0.8rem",fontWeight:700,color:k,background:`${k}15`,padding:"2px 8px",borderRadius:"12px",marginBottom:"2px"},children:[Gt," ",C]}),j.jsxs("span",{style:{fontSize:"1.2rem",fontWeight:800,color:"#334155"},children:[" ",j.jsx("span",{style:{color:k,fontSize:"1.4rem"},children:M})," "]})]})})]}),j.jsx("div",{style:{width:"100%",height:"8px",background:"#e2e8f0",borderRadius:"4px",overflow:"hidden"},children:j.jsx(Wi.div,{initial:{width:0},animate:{width:`${Q.booked/Q.capacity*100}%`},transition:{duration:1,ease:"easeOut"},style:{height:"100%",background:k,borderRadius:"4px"}})})]})]},Q.id)})})})]})};return j.jsxs(Wi.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"selection-container",children:[j.jsxs("div",{className:"combo-row",children:[U(" (A)",["A"]," B"),U(" (B)",["B"]," A")]}),j.jsx("div",{className:"sc-divider",children:"OR"}),j.jsxs("div",{className:"combo-row",children:[U(" (C)",["C"]," 40 "),U(" (D)",["D"]," 40 ")]}),j.jsx(pB,{isOpen:p,onConfirm:I,onCancel:()=>y(!1)})]})},TB=({onSubmit:n,onCancel:t,loading:e})=>{const[s,a]=J.useState({name:"",studentId:""}),l=u=>{u.preventDefault(),n(s)};return j.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(31, 41, 55, 0.4)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(12px)",padding:"20px"},children:j.jsxs("div",{className:"glass-card",style:{maxWidth:"450px",width:"100%",padding:"32px",background:"rgba(255,255,255,0.9)",boxShadow:"0 20px 60px -10px rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.8)"},children:[j.jsx("h2",{style:{textAlign:"left",marginBottom:"24px",fontSize:"1.8rem",background:"linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:800},children:j.jsx("span",{style:{borderLeft:"6px solid #6366f1",paddingLeft:"16px",display:"block",lineHeight:"1.2"},children:""})}),j.jsxs("form",{onSubmit:l,style:{display:"flex",flexDirection:"column",gap:"24px"},children:[j.jsxs("div",{children:[j.jsx("label",{className:"slot-name",style:{fontSize:"1.1rem",marginBottom:"10px",display:"block",color:"#374151"},children:"  Name"}),j.jsx("input",{required:!0,type:"text",placeholder:" / Your Name",value:s.name,onChange:u=>a(h=>({...h,name:u.target.value})),style:{background:"#f9fafb"}})]}),j.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:"16px",marginTop:"12px"},children:[j.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:e,style:{borderRadius:"16px",fontSize:"1.1rem",justifyContent:"center"},children:""}),j.jsx("button",{type:"submit",className:"btn-primary",disabled:e,style:{borderRadius:"16px",fontSize:"1.1rem",justifyContent:"center",boxShadow:"0 4px 15px rgba(79, 70, 229, 0.4)"},children:e?"...":" "})]})]})]})})},EB=({isOpen:n,onClose:t})=>{const[e,s]=J.useState(""),{login:a}=zv(),[l,u]=J.useState(!1),h=d=>{d.preventDefault(),a(e)?(t(),s(""),u(!1)):(u(!0),setTimeout(()=>u(!1),2e3))};return j.jsx(Gm,{children:n&&j.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",zIndex:3e3,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(8px)"},children:j.jsxs(Wi.div,{initial:{scale:.9,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:30},className:"glass-card",style:{maxWidth:"350px",width:"90%",padding:"30px",border:"1px solid rgba(255,255,255,0.4)",background:"rgba(255,255,255,0.85)"},children:[j.jsx("h3",{style:{textAlign:"center",marginBottom:"20px",color:"#1e293b"},children:" "}),j.jsxs("form",{onSubmit:h,children:[j.jsx("input",{type:"password",autoFocus:!0,placeholder:"...",value:e,onChange:d=>s(d.target.value),style:{marginBottom:"15px",border:l?"2px solid #ef4444":void 0,background:"white"}}),l&&j.jsx("p",{style:{color:"#ef4444",fontSize:"0.9rem",marginBottom:"15px",textAlign:"center"},children:""}),j.jsxs("div",{style:{display:"flex",gap:"10px"},children:[j.jsx("button",{type:"button",onClick:t,className:"btn-secondary",style:{flex:1},children:""}),j.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1,padding:"12px",fontSize:"1rem"},children:""})]})]})]})})})},bB=({isOpen:n,onConfirm:t,onCancel:e,selectedIds:s})=>{const{slots:a}=Lx(),l=s.map(u=>a.find(h=>h.id===u)).filter(Boolean);return j.jsx(Gm,{children:n&&j.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:j.jsxs(Wi.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},style:{background:"white",padding:"30px",borderRadius:"24px",width:"100%",maxWidth:"400px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",textAlign:"left"},children:[j.jsx("h2",{style:{margin:"0 0 15px",color:"#1e293b",fontSize:"1.25rem",borderBottom:"1px solid #e2e8f0",paddingBottom:"15px"},children:" "}),j.jsx("p",{style:{color:"#64748b",fontSize:"0.95rem",marginBottom:"20px"},children:""}),j.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px",marginBottom:"25px",maxHeight:"40vh",overflowY:"auto"},children:l.map(u=>j.jsxs("div",{style:{padding:"12px",background:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0",borderLeft:"4px solid #6366f1"},children:[j.jsx("div",{style:{fontWeight:700,color:"#334155"},children:u?.title}),j.jsxs("div",{style:{fontSize:"0.85rem",color:"#64748b",marginTop:"2px",display:"flex",justifyContent:"space-between"},children:[j.jsxs("span",{children:[" ",u?.location]}),j.jsxs("span",{style:{color:"#0ea5e9",fontWeight:600},children:[" ",u?.type==="C"||u?.type==="D"?"40":"20"]})]})]},u?.id))}),j.jsxs("div",{style:{background:"#fff1f2",padding:"12px",borderRadius:"12px",marginBottom:"25px",fontSize:"0.9rem",color:"#be123c",border:"1px solid #fda4af"},children:[" ",j.jsx("b",{children:""}),"",j.jsx("br",{}),"",j.jsx("b",{children:""}),""]}),j.jsxs("div",{style:{display:"flex",gap:"12px"},children:[j.jsx("button",{onClick:e,style:{flex:1,padding:"12px",border:"1px solid #cbd5e1",borderRadius:"12px",background:"white",color:"#64748b",fontWeight:600,cursor:"pointer"},children:""}),j.jsx("button",{onClick:t,style:{flex:1.5,padding:"12px",border:"none",borderRadius:"12px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",fontWeight:600,cursor:"pointer",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:" "})]})]})})})},SB=n=>new Promise(t=>setTimeout(t,n)),AB=async(n,t)=>{if(!rm.currentUser)throw new Error("Must be logged in");const e=5;let s=0;for(;s<e;)try{const a=Wc(zl(jn,"bookings"));return await L3(jn,async l=>{const u=[];if(n.selectedC&&u.push(n.selectedC),n.selectedD&&u.push(n.selectedD),n.selectedA&&u.push(n.selectedA),n.selectedB&&u.push(n.selectedB),u.length===0)throw new Error("No sessions selected");const h=await Promise.all(u.map(d=>l.get(Wc(jn,"slots",d))));h.forEach(d=>{if(!d.exists())throw new Error(`Slot ${d.id} not found`);const p=d.data();if(p.booked>=p.capacity)throw new Error(` ${p.name} `)}),h.forEach(d=>{const p=d.data();if(!p)throw new Error("Slot data missing");l.update(d.ref,{booked:p.booked+1})}),l.set(a,{userId:rm.currentUser.uid,userName:t.name,slots:u,selectionData:n,timestamp:C3(),status:"confirmed"})}),a.id}catch(a){if(console.warn(`Booking attempt ${s+1} failed:`,a),a.message&&a.message.includes(""))throw a;if(s++,s>=e)throw new Error("System is busy (Max Retries), please try again.");const l=Math.pow(2,s)*100+Math.random()*200;await SB(l)}throw new Error("Unexpected booking failure")},PB=async()=>{const n=Ov(zl(jn,"bookings"),Bv("timestamp","desc"));return(await a_(n)).docs.map(e=>{const s=e.data();return{id:e.id,bookingId:s.bookingId||"UNKNOWN",name:s.userName||s.name||"Unknown",studentId:s.studentId||"",department:s.department||"",slots:s.slots||[],timestamp:s.timestamp,status:s.status||"confirmed"}})},OB=n=>{const t=Ov(zl(jn,"bookings"),Bv("timestamp","desc"));return Ix(t,e=>{const s=e.docs.map(a=>{const l=a.data();return{id:a.id,bookingId:l.bookingId||"UNKNOWN",name:l.userName||l.name||"Unknown",studentId:l.studentId||"",department:l.department||"",slots:l.slots||[],timestamp:l.timestamp,status:l.status||"confirmed"}});n(s)},e=>{console.error("Error watching bookings:",e)})},ED=(n,t="Component")=>J.lazy(async()=>{try{return await n()}catch(e){console.error(`Lazy loading failed for ${t}:`,e);const s=e.message?.includes("Failed to fetch")||e.message?.includes("ChunkLoadError")||e.name==="ChunkLoadError",a=window.sessionStorage.getItem(`retry-${t}`);if(s&&!a)return console.log(`Reloading page to recover from missing chunk for ${t}...`),window.sessionStorage.setItem(`retry-${t}`,"true"),"serviceWorker"in navigator?navigator.serviceWorker.getRegistrations().then(l=>{for(const u of l)u.unregister();window.location.reload()}):window.location.reload(),new Promise(()=>{});throw e}});class wB extends J.Component{state={hasError:!1,error:null};static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,e){console.error("Uncaught error:",t,e)}handleReload=()=>{"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(t=>{t.forEach(e=>e.unregister())}),caches.keys().then(t=>{t.forEach(e=>{caches.delete(e)})}),window.location.reload()};render(){return this.state.hasError?j.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",padding:"20px",textAlign:"center",background:"#f8fafc"},children:[j.jsx("h2",{style:{color:"#334155",marginBottom:"10px"},children:""}),j.jsx("p",{style:{color:"#64748b",marginBottom:"20px"},children:""}),j.jsx("button",{onClick:this.handleReload,style:{padding:"12px 24px",background:"#3b82f6",color:"white",border:"none",borderRadius:"8px",fontSize:"1rem",cursor:"pointer",boxShadow:"0 4px 6px -1px rgba(59, 130, 246, 0.5)"},children:"  (Update)"})]}):this.props.children}}const IB=ED(()=>fw(()=>import("./AdminDashboard-CUEGGp2O.js"),[]).then(n=>({default:n.AdminDashboard})),"AdminDashboard"),RB=ED(()=>fw(()=>import("./TicketView-B7iXs_wd.js"),[]).then(n=>({default:n.TicketView})),"TicketView"),cw=()=>j.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",flexDirection:"column",gap:"15px"},children:[j.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite"}}),j.jsx("span",{style:{color:"#64748b"},children:"Loading..."}),j.jsx("style",{children:`
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    `})]}),xB=()=>{const{isValid:n,selection:t,isAdmin:e}=zv(),[s,a]=J.useState(!1),[l,u]=J.useState(!1),[h,d]=J.useState(!1),[p,y]=J.useState(null),[v,E]=J.useState(!1),[I,N]=J.useState(null),[U,L]=J.useState(!1);J.useEffect(()=>{(async()=>{const R=localStorage.getItem("soka_ticket_2026");if(!R)return;let A;try{A=JSON.parse(R)}catch(x){console.error("Failed to parse saved ticket",x),localStorage.removeItem("soka_ticket_2026");return}try{const x=await U3(Wc(jn,"system","config"));if(x.exists()){const M=x.data();if(M.lastReset){const V=new Date(M.lastReset).getTime(),k=A.timestamp||0;if(V>k){console.log("System reset detected. Clearing local ticket."),localStorage.removeItem("soka_ticket_2026"),y(null);return}}}}catch(x){console.error("Failed to check system status:",x)}y(A),L(!0)})()},[]);const Y=()=>{n&&a(!0)},W=()=>{const at=[];return t.selectedC&&at.push(t.selectedC),t.selectedD&&at.push(t.selectedD),t.selectedA&&at.push(t.selectedA),t.selectedB&&at.push(t.selectedB),at},z=at=>{N(at),E(!0)},Q=async()=>{if(!I)return;E(!1),u(!0);const at=Cc.loading("...");try{const R=await AB(t,I),A=W(),x={bookingId:R,userDetails:I,selectedSlotIds:A,timestamp:Date.now()};localStorage.setItem("soka_ticket_2026",JSON.stringify(x)),y(x),L(!0),a(!1),Cc.success("",{id:at,duration:5e3})}catch(R){console.error(R),Cc.error(`: ${R.message}`,{id:at,duration:5e3})}finally{u(!1),N(null)}},rt=()=>{L(!1)};return U&&p?j.jsx("div",{className:"container",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:j.jsx(J.Suspense,{fallback:j.jsx(cw,{}),children:j.jsx(RB,{bookingId:p.bookingId,userDetails:p.userDetails,selectedSlotIds:p.selectedSlotIds,onClose:rt})})}):j.jsxs("div",{className:"container",children:[j.jsxs("div",{className:"glass-card",children:[j.jsx("h1",{children:"2026  EXPO"}),j.jsx("h2",{children:" - "}),j.jsxs("p",{className:"description",style:{textAlign:"center",color:"#64748b",marginBottom:"30px"},children:["",j.jsx("br",{}),"(A+B C  D )"]}),j.jsx(vB,{disabled:!!p,bookedSlotIds:p?.selectedSlotIds}),j.jsx("div",{style:{textAlign:"center",marginTop:"30px"},children:p?j.jsxs("button",{className:"btn-primary",style:{fontSize:"1.2rem",padding:"15px 40px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",boxShadow:"0 4px 15px rgba(16, 185, 129, 0.4)",display:"inline-flex",flexDirection:"column",alignItems:"center",gap:"4px",lineHeight:"1.2"},onClick:()=>L(!0),children:[j.jsx("span",{style:{fontSize:"0.9rem",opacity:.9},children:" "}),j.jsx("span",{style:{fontWeight:"bold"},children:" "})]}):j.jsx("button",{className:"btn-primary",disabled:!n,style:{opacity:n?1:.5,fontSize:"1.2rem",padding:"15px 40px"},onClick:Y,children:n?"":" Let's Go"})})]}),s&&j.jsx(TB,{onSubmit:z,onCancel:()=>a(!1),loading:l}),j.jsx(bB,{isOpen:v,onConfirm:Q,onCancel:()=>E(!1),selectedIds:W()}),e&&j.jsx("div",{style:{padding:"30px",background:"rgba(255,255,255,0.85)",backdropFilter:"blur(10px)",borderRadius:"24px",marginTop:"40px",border:"1px solid rgba(255,255,255,0.5)",boxShadow:"0 20px 40px -10px rgba(0,0,0,0.1)"},children:j.jsx(J.Suspense,{fallback:j.jsx(cw,{}),children:j.jsx(IB,{})})}),j.jsxs("footer",{style:{textAlign:"center",padding:"40px 0",color:"#94a3b8",fontSize:"0.9rem"},children:[" 2026 Soka Education EXPO. All rights reserved.",j.jsx("br",{}),j.jsx("span",{onClick:()=>d(!0),style:{cursor:"pointer",opacity:.3,marginTop:"10px",display:"inline-block"},children:"Admin Access"})]}),j.jsx(EB,{isOpen:h,onClose:()=>d(!1)})]})};function CB(){return j.jsx(F3,{children:j.jsxs(q3,{children:[j.jsx(wB,{children:j.jsx(xB,{})}),j.jsx(VL,{position:"top-center",reverseOrder:!1,containerStyle:{top:40,zIndex:999999},toastOptions:{style:{background:"#333",color:"#fff",zIndex:999999}}})]})})}l2.createRoot(document.getElementById("root")).render(j.jsx(J.StrictMode,{children:j.jsx(CB,{})}));export{Gm as A,DB as R,ML as S,M_ as a,mB as b,PB as c,Rs as d,JV as g,j,Wi as m,J as r,OB as s,Lx as u,Cc as z};
