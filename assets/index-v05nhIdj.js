function KI(n,t){for(var e=0;e<t.length;e++){const s=t[e];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in n)){const u=Object.getOwnPropertyDescriptor(s,a);u&&Object.defineProperty(n,a,u.get?u:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=e(a);fetch(a.href,u)}})();function YI(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var vp={exports:{}},fu={};var HT;function QI(){if(HT)return fu;HT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,a,u){var c=null;if(u!==void 0&&(c=""+u),a.key!==void 0&&(c=""+a.key),"key"in a){u={};for(var d in a)d!=="key"&&(u[d]=a[d])}else u=a;return a=u.ref,{$$typeof:n,type:s,key:c,ref:a!==void 0?a:null,props:u}}return fu.Fragment=t,fu.jsx=e,fu.jsxs=e,fu}var GT;function XI(){return GT||(GT=1,vp.exports=QI()),vp.exports}var q=XI(),_p={exports:{}},wt={};var KT;function $I(){if(KT)return wt;KT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function I(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,U={};function Y(O,it,ct){this.props=O,this.context=it,this.refs=U,this.updater=ct||P}Y.prototype.isReactComponent={},Y.prototype.setState=function(O,it){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,it,"setState")},Y.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function et(){}et.prototype=Y.prototype;function H(O,it,ct){this.props=O,this.context=it,this.refs=U,this.updater=ct||P}var X=H.prototype=new et;X.constructor=H,z(X,Y.prototype),X.isPureReactComponent=!0;var at=Array.isArray;function ot(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(O,it,ct){var ft=ct.ref;return{$$typeof:n,type:O,key:it,ref:ft!==void 0?ft:null,props:ct}}function M(O,it){return R(O.type,it,O.props)}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function k(O){var it={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ct){return it[ct]})}var x=/\/+/g;function ee(O,it){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):it.toString(36)}function fe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ot,ot):(O.status="pending",O.then(function(it){O.status==="pending"&&(O.status="fulfilled",O.value=it)},function(it){O.status==="pending"&&(O.status="rejected",O.reason=it)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Z(O,it,ct,ft,At){var xt=typeof O;(xt==="undefined"||xt==="boolean")&&(O=null);var zt=!1;if(O===null)zt=!0;else switch(xt){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(O.$$typeof){case n:case t:zt=!0;break;case y:return zt=O._init,Z(zt(O._payload),it,ct,ft,At)}}if(zt)return At=At(O),zt=ft===""?"."+ee(O,0):ft,at(At)?(ct="",zt!=null&&(ct=zt.replace(x,"$&/")+"/"),Z(At,it,ct,"",function(Br){return Br})):At!=null&&(V(At)&&(At=M(At,ct+(At.key==null||O&&O.key===At.key?"":(""+At.key).replace(x,"$&/")+"/")+zt)),it.push(At)),1;zt=0;var Pe=ft===""?".":ft+":";if(at(O))for(var oe=0;oe<O.length;oe++)ft=O[oe],xt=Pe+ee(ft,oe),zt+=Z(ft,it,ct,xt,At);else if(oe=I(O),typeof oe=="function")for(O=oe.call(O),oe=0;!(ft=O.next()).done;)ft=ft.value,xt=Pe+ee(ft,oe++),zt+=Z(ft,it,ct,xt,At);else if(xt==="object"){if(typeof O.then=="function")return Z(fe(O),it,ct,ft,At);throw it=String(O),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return zt}function rt(O,it,ct){if(O==null)return O;var ft=[],At=0;return Z(O,ft,"","",function(xt){return it.call(ct,xt,At++)}),ft}function dt(O){if(O._status===-1){var it=O._result;it=it(),it.then(function(ct){(O._status===0||O._status===-1)&&(O._status=1,O._result=ct)},function(ct){(O._status===0||O._status===-1)&&(O._status=2,O._result=ct)}),O._status===-1&&(O._status=0,O._result=it)}if(O._status===1)return O._result.default;throw O._result}var It=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Nt={map:rt,forEach:function(O,it,ct){rt(O,function(){it.apply(this,arguments)},ct)},count:function(O){var it=0;return rt(O,function(){it++}),it},toArray:function(O){return rt(O,function(it){return it})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return wt.Activity=T,wt.Children=Nt,wt.Component=Y,wt.Fragment=e,wt.Profiler=a,wt.PureComponent=H,wt.StrictMode=s,wt.Suspense=p,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,wt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},wt.cache=function(O){return function(){return O.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(O,it,ct){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ft=z({},O.props),At=O.key;if(it!=null)for(xt in it.key!==void 0&&(At=""+it.key),it)!w.call(it,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&it.ref===void 0||(ft[xt]=it[xt]);var xt=arguments.length-2;if(xt===1)ft.children=ct;else if(1<xt){for(var zt=Array(xt),Pe=0;Pe<xt;Pe++)zt[Pe]=arguments[Pe+2];ft.children=zt}return R(O.type,At,ft)},wt.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},wt.createElement=function(O,it,ct){var ft,At={},xt=null;if(it!=null)for(ft in it.key!==void 0&&(xt=""+it.key),it)w.call(it,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(At[ft]=it[ft]);var zt=arguments.length-2;if(zt===1)At.children=ct;else if(1<zt){for(var Pe=Array(zt),oe=0;oe<zt;oe++)Pe[oe]=arguments[oe+2];At.children=Pe}if(O&&O.defaultProps)for(ft in zt=O.defaultProps,zt)At[ft]===void 0&&(At[ft]=zt[ft]);return R(O,xt,At)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(O){return{$$typeof:d,render:O}},wt.isValidElement=V,wt.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:dt}},wt.memo=function(O,it){return{$$typeof:g,type:O,compare:it===void 0?null:it}},wt.startTransition=function(O){var it=C.T,ct={};C.T=ct;try{var ft=O(),At=C.S;At!==null&&At(ct,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(ot,It)}catch(xt){It(xt)}finally{it!==null&&ct.types!==null&&(it.types=ct.types),C.T=it}},wt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},wt.use=function(O){return C.H.use(O)},wt.useActionState=function(O,it,ct){return C.H.useActionState(O,it,ct)},wt.useCallback=function(O,it){return C.H.useCallback(O,it)},wt.useContext=function(O){return C.H.useContext(O)},wt.useDebugValue=function(){},wt.useDeferredValue=function(O,it){return C.H.useDeferredValue(O,it)},wt.useEffect=function(O,it){return C.H.useEffect(O,it)},wt.useEffectEvent=function(O){return C.H.useEffectEvent(O)},wt.useId=function(){return C.H.useId()},wt.useImperativeHandle=function(O,it,ct){return C.H.useImperativeHandle(O,it,ct)},wt.useInsertionEffect=function(O,it){return C.H.useInsertionEffect(O,it)},wt.useLayoutEffect=function(O,it){return C.H.useLayoutEffect(O,it)},wt.useMemo=function(O,it){return C.H.useMemo(O,it)},wt.useOptimistic=function(O,it){return C.H.useOptimistic(O,it)},wt.useReducer=function(O,it,ct){return C.H.useReducer(O,it,ct)},wt.useRef=function(O){return C.H.useRef(O)},wt.useState=function(O){return C.H.useState(O)},wt.useSyncExternalStore=function(O,it,ct){return C.H.useSyncExternalStore(O,it,ct)},wt.useTransition=function(){return C.H.useTransition()},wt.version="19.2.4",wt}var YT;function Yg(){return YT||(YT=1,_p.exports=$I()),_p.exports}var $=Yg();const ys=YI($),r5=KI({__proto__:null,default:ys},[$]);var Tp={exports:{}},du={},Ep={exports:{}},Sp={};var QT;function WI(){return QT||(QT=1,(function(n){function t(Z,rt){var dt=Z.length;Z.push(rt);t:for(;0<dt;){var It=dt-1>>>1,Nt=Z[It];if(0<a(Nt,rt))Z[It]=rt,Z[dt]=Nt,dt=It;else break t}}function e(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var rt=Z[0],dt=Z.pop();if(dt!==rt){Z[0]=dt;t:for(var It=0,Nt=Z.length,O=Nt>>>1;It<O;){var it=2*(It+1)-1,ct=Z[it],ft=it+1,At=Z[ft];if(0>a(ct,dt))ft<Nt&&0>a(At,ct)?(Z[It]=At,Z[ft]=dt,It=ft):(Z[It]=ct,Z[it]=dt,It=it);else if(ft<Nt&&0>a(At,dt))Z[It]=At,Z[ft]=dt,It=ft;else break t}}return rt}function a(Z,rt){var dt=Z.sortIndex-rt.sortIndex;return dt!==0?dt:Z.id-rt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],y=1,T=null,S=3,I=!1,P=!1,z=!1,U=!1,Y=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function X(Z){for(var rt=e(g);rt!==null;){if(rt.callback===null)s(g);else if(rt.startTime<=Z)s(g),rt.sortIndex=rt.expirationTime,t(p,rt);else break;rt=e(g)}}function at(Z){if(z=!1,X(Z),!P)if(e(p)!==null)P=!0,ot||(ot=!0,k());else{var rt=e(g);rt!==null&&fe(at,rt.startTime-Z)}}var ot=!1,C=-1,w=5,R=-1;function M(){return U?!0:!(n.unstable_now()-R<w)}function V(){if(U=!1,ot){var Z=n.unstable_now();R=Z;var rt=!0;try{t:{P=!1,z&&(z=!1,et(C),C=-1),I=!0;var dt=S;try{e:{for(X(Z),T=e(p);T!==null&&!(T.expirationTime>Z&&M());){var It=T.callback;if(typeof It=="function"){T.callback=null,S=T.priorityLevel;var Nt=It(T.expirationTime<=Z);if(Z=n.unstable_now(),typeof Nt=="function"){T.callback=Nt,X(Z),rt=!0;break e}T===e(p)&&s(p),X(Z)}else s(p);T=e(p)}if(T!==null)rt=!0;else{var O=e(g);O!==null&&fe(at,O.startTime-Z),rt=!1}}break t}finally{T=null,S=dt,I=!1}rt=void 0}}finally{rt?k():ot=!1}}}var k;if(typeof H=="function")k=function(){H(V)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ee=x.port2;x.port1.onmessage=V,k=function(){ee.postMessage(null)}}else k=function(){Y(V,0)};function fe(Z,rt){C=Y(function(){Z(n.unstable_now())},rt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(Z){switch(S){case 1:case 2:case 3:var rt=3;break;default:rt=S}var dt=S;S=rt;try{return Z()}finally{S=dt}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(Z,rt){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var dt=S;S=Z;try{return rt()}finally{S=dt}},n.unstable_scheduleCallback=function(Z,rt,dt){var It=n.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?It+dt:It):dt=It,Z){case 1:var Nt=-1;break;case 2:Nt=250;break;case 5:Nt=1073741823;break;case 4:Nt=1e4;break;default:Nt=5e3}return Nt=dt+Nt,Z={id:y++,callback:rt,priorityLevel:Z,startTime:dt,expirationTime:Nt,sortIndex:-1},dt>It?(Z.sortIndex=dt,t(g,Z),e(p)===null&&Z===e(g)&&(z?(et(C),C=-1):z=!0,fe(at,dt-It))):(Z.sortIndex=Nt,t(p,Z),P||I||(P=!0,ot||(ot=!0,k()))),Z},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(Z){var rt=S;return function(){var dt=S;S=rt;try{return Z.apply(this,arguments)}finally{S=dt}}}})(Sp)),Sp}var XT;function ZI(){return XT||(XT=1,Ep.exports=WI()),Ep.exports}var Ap={exports:{}},sn={};var $T;function JI(){if($T)return sn;$T=1;var n=Yg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(p,g,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:p,containerInfo:g,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(p,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,y)},sn.flushSync=function(p){var g=c.T,y=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=y,s.d.f()}},sn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},sn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},sn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var y=g.as,T=d(y,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:I}):y==="script"&&s.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},sn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},sn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,T=d(y,g.crossOrigin);s.d.L(p,y,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},sn.preloadModule=function(p,g){if(typeof p=="string")if(g){var y=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},sn.requestFormReset=function(p){s.d.r(p)},sn.unstable_batchedUpdates=function(p,g){return p(g)},sn.useFormState=function(p,g,y){return c.H.useFormState(p,g,y)},sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},sn.version="19.2.4",sn}var WT;function KA(){if(WT)return Ap.exports;WT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Ap.exports=JI(),Ap.exports}var ZT;function tx(){if(ZT)return du;ZT=1;var n=ZI(),t=Yg(),e=KA();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(u(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=u(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,l=r;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){o=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return p(f),i;if(m===l)return p(f),r;m=m.sibling}throw Error(s(188))}if(o.return!==l.return)o=f,l=m;else{for(var _=!1,A=f.child;A;){if(A===o){_=!0,o=f,l=m;break}if(A===l){_=!0,l=f,o=m;break}A=A.sibling}if(!_){for(A=m.child;A;){if(A===o){_=!0,o=m,l=f;break}if(A===l){_=!0,l=m,o=f;break}A=A.sibling}if(!_)throw Error(s(189))}}if(o.alternate!==l)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),et=Symbol.for("react.consumer"),H=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var x=Symbol.for("react.client.reference");function ee(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===x?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case z:return"Fragment";case Y:return"Profiler";case U:return"StrictMode";case at:return"Suspense";case ot:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case P:return"Portal";case H:return i.displayName||"Context";case et:return(i._context.displayName||"Context")+".Consumer";case X:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return r=i.displayName||null,r!==null?r:ee(i.type)||"Memo";case w:r=i._payload,i=i._init;try{return ee(i(r))}catch{}}return null}var fe=Array.isArray,Z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},It=[],Nt=-1;function O(i){return{current:i}}function it(i){0>Nt||(i.current=It[Nt],It[Nt]=null,Nt--)}function ct(i,r){Nt++,It[Nt]=i.current,i.current=r}var ft=O(null),At=O(null),xt=O(null),zt=O(null);function Pe(i,r){switch(ct(xt,r),ct(At,i),ct(ft,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?dT(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=dT(r),i=mT(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}it(ft),ct(ft,i)}function oe(){it(ft),it(At),it(xt)}function Br(i){i.memoizedState!==null&&ct(zt,i);var r=ft.current,o=mT(r,i.type);r!==o&&(ct(At,i),ct(ft,o))}function Na(i){At.current===i&&(it(ft),it(At)),zt.current===i&&(it(zt),lu._currentValue=dt)}var Oa,Pa;function yi(i){if(Oa===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Oa=r&&r[1]||"",Pa=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oa+i+Pa}var ll=!1;function zr(i,r){if(!i||ll)return"";ll=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(Q){var G=Q}Reflect.construct(i,[],nt)}else{try{nt.call()}catch(Q){G=Q}i.call(nt.prototype)}}else{try{throw Error()}catch(Q){G=Q}(nt=i())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),_=m[0],A=m[1];if(_&&A){var D=_.split(`
`),F=A.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===F.length)for(l=D.length-1,f=F.length-1;1<=l&&0<=f&&D[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==F[f]){var W=`
`+D[l].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=l&&0<=f);break}}}finally{ll=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?yi(o):""}function ul(i,r){switch(i.tag){case 26:case 27:case 5:return yi(i.type);case 16:return yi("Lazy");case 13:return i.child!==r&&r!==null?yi("Suspense Fallback"):yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return zr(i.type,!1);case 11:return zr(i.type.render,!1);case 1:return zr(i.type,!0);case 31:return yi("Activity");default:return""}}function cl(i){try{var r="",o=null;do r+=ul(i,o),o=i,i=i.return;while(i);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Se=Object.prototype.hasOwnProperty,ke=n.unstable_scheduleCallback,xs=n.unstable_cancelCallback,Td=n.unstable_shouldYield,fc=n.unstable_requestPaint,cn=n.unstable_now,jr=n.unstable_getCurrentPriorityLevel,hl=n.unstable_ImmediatePriority,fl=n.unstable_UserBlockingPriority,Ds=n.unstable_NormalPriority,Ed=n.unstable_LowPriority,dc=n.unstable_IdlePriority,mc=n.log,pc=n.unstable_setDisableYieldValue,Jn=null,Ye=null;function kn(i){if(typeof mc=="function"&&pc(i),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(Jn,i)}catch{}}var ge=Math.clz32?Math.clz32:yc,gc=Math.log,ka=Math.LN2;function yc(i){return i>>>=0,i===0?32:31-(gc(i)/ka|0)|0}var vi=256,Fr=262144,Ae=4194304;function _i(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ti(i,r,o){var l=i.pendingLanes;if(l===0)return 0;var f=0,m=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var A=l&134217727;return A!==0?(l=A&~m,l!==0?f=_i(l):(_&=A,_!==0?f=_i(_):o||(o=A&~i,o!==0&&(f=_i(o))))):(A=l&~m,A!==0?f=_i(A):_!==0?f=_i(_):o||(o=l&~i,o!==0&&(f=_i(o)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,o=r&-r,m>=o||m===32&&(o&4194048)!==0)?r:f}function ti(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Sd(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vc(){var i=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),i}function Ei(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function qr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ad(i,r,o,l,f,m){var _=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,D=i.expirationTimes,F=i.hiddenUpdates;for(o=_&~o;0<o;){var W=31-ge(o),nt=1<<W;A[W]=0,D[W]=-1;var G=F[W];if(G!==null)for(F[W]=null,W=0;W<G.length;W++){var Q=G[W];Q!==null&&(Q.lane&=-536870913)}o&=~nt}l!==0&&Hr(i,l,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(_&~r))}function Hr(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var l=31-ge(r);i.entangledLanes|=r,i.entanglements[l]=i.entanglements[l]|1073741824|o&261930}function dl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var l=31-ge(o),f=1<<l;f&r|i[l]&r&&(i[l]|=r),o&=~f}}function ml(i,r){var o=r&-r;return o=(o&42)!==0?1:Gr(o),(o&(i.suspendedLanes|r))!==0?0:o}function Gr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Wi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function _c(){var i=rt.p;return i!==0?i:(i=window.event,i===void 0?32:LT(i.type))}function ei(i,r){var o=rt.p;try{return rt.p=i,r()}finally{rt.p=o}}var ni=Math.random().toString(36).slice(2),be="__reactFiber$"+ni,Fe="__reactProps$"+ni,Si="__reactContainer$"+ni,La="__reactEvents$"+ni,bd="__reactListeners$"+ni,Tc="__reactHandles$"+ni,Ec="__reactResources$"+ni,Ai="__reactMarker$"+ni;function Ua(i){delete i[be],delete i[Fe],delete i[La],delete i[bd],delete i[Tc]}function bi(i){var r=i[be];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Si]||o[be]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=ET(i);i!==null;){if(o=i[be])return o;i=ET(i)}return r}i=o,o=i.parentNode}return null}function Ln(i){if(i=i[be]||i[Si]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function bn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function wi(i){var r=i[Ec];return r||(r=i[Ec]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function we(i){i[Ai]=!0}var pl=new Set,gl={};function Ri(i,r){Ci(i,r),Ci(i+"Capture",r)}function Ci(i,r){for(gl[i]=r,i=0;i<r.length;i++)pl.add(r[i])}var yl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vl={},_l={};function Sc(i){return Se.call(_l,i)?!0:Se.call(vl,i)?!1:yl.test(i)?_l[i]=!0:(vl[i]=!0,!1)}function Ba(i,r,o){if(Sc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function wn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Re(i,r,o,l){if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+l)}}function qe(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Vs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Tl(i,r,o){var l=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){o=""+_,m.call(this,_)}}),Object.defineProperty(i,r,{enumerable:l.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Yt(i){if(!i._valueTracker){var r=Vs(i)?"checked":"value";i._valueTracker=Tl(i,r,""+i[r])}}function Kr(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),l="";return i&&(l=Vs(i)?i.checked?"true":"false":i.value),i=l,i!==o?(r.setValue(i),!0):!1}function Ii(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Yr=/[\n"\\]/g;function gn(i){return i.replace(Yr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function za(i,r,o,l,f,m,_,A){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),r!=null?_==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+qe(r)):i.value!==""+qe(r)&&(i.value=""+qe(r)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),r!=null?El(i,_,qe(r)):o!=null?El(i,_,qe(o)):l!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+qe(A):i.removeAttribute("name")}function Ac(i,r,o,l,f,m,_,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),r!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){Yt(i);return}o=o!=null?""+qe(o):"",r=r!=null?""+qe(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=A?i.checked:!!l,i.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),Yt(i)}function El(i,r,o){r==="number"&&Ii(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ms(i,r,o,l){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&l&&(i[o].defaultSelected=!0)}else{for(o=""+qe(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function bc(i,r,o){if(r!=null&&(r=""+qe(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+qe(o):""}function Ns(i,r,o,l){if(r==null){if(l!=null){if(o!=null)throw Error(s(92));if(fe(l)){if(1<l.length)throw Error(s(93));l=l[0]}o=l}o==null&&(o=""),r=o}o=qe(r),i.defaultValue=o,l=i.textContent,l===o&&l!==""&&l!==null&&(i.value=l),Yt(i)}function yn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var wc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sl(i,r,o){var l=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?l?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":l?i.setProperty(r,o):typeof o!="number"||o===0||wc.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Al(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var l in o)!o.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&o[f]!==l&&Sl(i,f,l)}else for(var m in r)r.hasOwnProperty(m)&&Sl(i,m,r[m])}function ja(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fa(i){return Os.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ii(){}var bl=null;function Un(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ps=null,xi=null;function Qr(i){var r=Ln(i);if(r&&(i=r.stateNode)){var o=i[Fe]||null;t:switch(i=r.stateNode,r.type){case"input":if(za(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+gn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var l=o[r];if(l!==i&&l.form===i.form){var f=l[Fe]||null;if(!f)throw Error(s(90));za(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)l=o[r],l.form===i.form&&Kr(l)}break t;case"textarea":bc(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Ms(i,!!o.multiple,r,!1)}}}var qa=!1;function ks(i,r,o){if(qa)return i(r,o);qa=!0;try{var l=i(r);return l}finally{if(qa=!1,(Ps!==null||xi!==null)&&(_h(),Ps&&(r=Ps,i=xi,xi=Ps=null,Qr(r),i)))for(r=0;r<i.length;r++)Qr(i[r])}}function si(i,r){var o=i.stateNode;if(o===null)return null;var l=o[Fe]||null;if(l===null)return null;o=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xr=!1;if(Bn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Xr=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Xr=!1}var Di=null,wl=null,$r=null;function Rl(){if($r)return $r;var i,r=wl,o=r.length,l,f="value"in Di?Di.value:Di.textContent,m=f.length;for(i=0;i<o&&r[i]===f[i];i++);var _=o-i;for(l=1;l<=_&&r[o-l]===f[m-l];l++);return $r=f.slice(i,1<l?1-l:void 0)}function Wr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Zi(){return!0}function ri(){return!1}function Qe(i){function r(o,l,f,m,_){this._reactName=o,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Zi:ri,this.isPropagationStopped=ri,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),r}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=Qe(Ji),Ls=T({},Ji,{view:0,detail:0}),Cl=Qe(Ls),Us,Ha,Mi,Ga=T({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Mi&&(Mi&&i.type==="mousemove"?(Us=i.screenX-Mi.screenX,Ha=i.screenY-Mi.screenY):Ha=Us=0,Mi=i),Us)},movementY:function(i){return"movementY"in i?i.movementY:Ha}}),Il=Qe(Ga),Zr=T({},Ga,{dataTransfer:0}),Cc=Qe(Zr),Ic=T({},Ls,{relatedTarget:0}),Jr=Qe(Ic),xl=T({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),xc=Qe(xl),Ka=T({},Ji,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Dc=Qe(Ka),Vc=T({},Ji,{data:0}),Ni=Qe(Vc),Mc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Oc[i])?!!r[i]:!1}function Bs(){return Pc}var hn=T({},Ls,{key:function(i){if(i.key){var r=Mc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Wr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bs,charCode:function(i){return i.type==="keypress"?Wr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Wr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),kc=Qe(hn),Lc=T({},Ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ts=Qe(Lc),h=T({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bs}),v=Qe(h),E=T({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Qe(E),B=T({},Ga,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Qe(B),lt=T({},Ji,{newState:0,oldState:0}),Rt=Qe(lt),ye=[9,13,27,32],Gt=Bn&&"CompositionEvent"in window,le=null;Bn&&"documentMode"in document&&(le=document.documentMode);var zn=Bn&&"TextEvent"in window&&!le,Oi=Bn&&(!Gt||le&&8<le&&11>=le),ai=" ",oi=!1;function ta(i,r){switch(i){case"keyup":return ye.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ya(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Qa=!1;function gC(i,r){switch(i){case"compositionend":return Ya(r);case"keypress":return r.which!==32?null:(oi=!0,ai);case"textInput":return i=r.data,i===ai&&oi?null:i;default:return null}}function yC(i,r){if(Qa)return i==="compositionend"||!Gt&&ta(i,r)?(i=Rl(),$r=wl=Di=null,Qa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Oi&&r.locale!=="ko"?null:r.data;default:return null}}var vC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!vC[i.type]:r==="textarea"}function wv(i,r,o,l){Ps?xi?xi.push(l):xi=[l]:Ps=l,r=Rh(r,"onChange"),0<r.length&&(o=new Vi("onChange","change",null,o,l),i.push({event:o,listeners:r}))}var Dl=null,Vl=null;function _C(i){oT(i,0)}function Uc(i){var r=bn(i);if(Kr(r))return i}function Rv(i,r){if(i==="change")return r}var Cv=!1;if(Bn){var wd;if(Bn){var Rd="oninput"in document;if(!Rd){var Iv=document.createElement("div");Iv.setAttribute("oninput","return;"),Rd=typeof Iv.oninput=="function"}wd=Rd}else wd=!1;Cv=wd&&(!document.documentMode||9<document.documentMode)}function xv(){Dl&&(Dl.detachEvent("onpropertychange",Dv),Vl=Dl=null)}function Dv(i){if(i.propertyName==="value"&&Uc(Vl)){var r=[];wv(r,Vl,i,Un(i)),ks(_C,r)}}function TC(i,r,o){i==="focusin"?(xv(),Dl=r,Vl=o,Dl.attachEvent("onpropertychange",Dv)):i==="focusout"&&xv()}function EC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Uc(Vl)}function SC(i,r){if(i==="click")return Uc(r)}function AC(i,r){if(i==="input"||i==="change")return Uc(r)}function bC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Rn=typeof Object.is=="function"?Object.is:bC;function Ml(i,r){if(Rn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),l=Object.keys(r);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var f=o[l];if(!Se.call(r,f)||!Rn(i[f],r[f]))return!1}return!0}function Vv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Mv(i,r){var o=Vv(i);i=0;for(var l;o;){if(o.nodeType===3){if(l=i+o.textContent.length,i<=r&&l>=r)return{node:o,offset:r-i};i=l}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Vv(o)}}function Nv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Nv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Ov(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ii(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Ii(i.document)}return r}function Cd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var wC=Bn&&"documentMode"in document&&11>=document.documentMode,Xa=null,Id=null,Nl=null,xd=!1;function Pv(i,r,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;xd||Xa==null||Xa!==Ii(l)||(l=Xa,"selectionStart"in l&&Cd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Nl&&Ml(Nl,l)||(Nl=l,l=Rh(Id,"onSelect"),0<l.length&&(r=new Vi("onSelect","select",null,r,o),i.push({event:r,listeners:l}),r.target=Xa)))}function ea(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var $a={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},Dd={},kv={};Bn&&(kv=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function na(i){if(Dd[i])return Dd[i];if(!$a[i])return i;var r=$a[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in kv)return Dd[i]=r[o];return i}var Lv=na("animationend"),Uv=na("animationiteration"),Bv=na("animationstart"),RC=na("transitionrun"),CC=na("transitionstart"),IC=na("transitioncancel"),zv=na("transitionend"),jv=new Map,Vd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vd.push("scrollEnd");function li(i,r){jv.set(i,r),Ri(r,[i])}var Bc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},jn=[],Wa=0,Md=0;function zc(){for(var i=Wa,r=Md=Wa=0;r<i;){var o=jn[r];jn[r++]=null;var l=jn[r];jn[r++]=null;var f=jn[r];jn[r++]=null;var m=jn[r];if(jn[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}m!==0&&Fv(o,f,m)}}function jc(i,r,o,l){jn[Wa++]=i,jn[Wa++]=r,jn[Wa++]=o,jn[Wa++]=l,Md|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function Nd(i,r,o,l){return jc(i,r,o,l),Fc(i)}function ia(i,r){return jc(i,null,null,r),Fc(i)}function Fv(i,r,o){i.lanes|=o;var l=i.alternate;l!==null&&(l.lanes|=o);for(var f=!1,m=i.return;m!==null;)m.childLanes|=o,l=m.alternate,l!==null&&(l.childLanes|=o),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,f&&r!==null&&(f=31-ge(o),i=m.hiddenUpdates,l=i[f],l===null?i[f]=[r]:l.push(r),r.lane=o|536870912),m):null}function Fc(i){if(50<eu)throw eu=0,Fm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Za={};function xC(i,r,o,l){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(i,r,o,l){return new xC(i,r,o,l)}function Od(i){return i=i.prototype,!(!i||!i.isReactComponent)}function es(i,r){var o=i.alternate;return o===null?(o=Cn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function qv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function qc(i,r,o,l,f,m){var _=0;if(l=i,typeof i=="function")Od(i)&&(_=1);else if(typeof i=="string")_=OI(i,o,ft.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case R:return i=Cn(31,o,r,f),i.elementType=R,i.lanes=m,i;case z:return sa(o.children,f,m,r);case U:_=8,f|=24;break;case Y:return i=Cn(12,o,r,f|2),i.elementType=Y,i.lanes=m,i;case at:return i=Cn(13,o,r,f),i.elementType=at,i.lanes=m,i;case ot:return i=Cn(19,o,r,f),i.elementType=ot,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case H:_=10;break t;case et:_=9;break t;case X:_=11;break t;case C:_=14;break t;case w:_=16,l=null;break t}_=29,o=Error(s(130,i===null?"null":typeof i,"")),l=null}return r=Cn(_,o,r,f),r.elementType=i,r.type=l,r.lanes=m,r}function sa(i,r,o,l){return i=Cn(7,i,l,r),i.lanes=o,i}function Pd(i,r,o){return i=Cn(6,i,null,r),i.lanes=o,i}function Hv(i){var r=Cn(18,null,null,0);return r.stateNode=i,r}function kd(i,r,o){return r=Cn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Gv=new WeakMap;function Fn(i,r){if(typeof i=="object"&&i!==null){var o=Gv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:cl(r)},Gv.set(i,r),r)}return{value:i,source:r,stack:cl(r)}}var Ja=[],to=0,Hc=null,Ol=0,qn=[],Hn=0,zs=null,Pi=1,ki="";function ns(i,r){Ja[to++]=Ol,Ja[to++]=Hc,Hc=i,Ol=r}function Kv(i,r,o){qn[Hn++]=Pi,qn[Hn++]=ki,qn[Hn++]=zs,zs=i;var l=Pi;i=ki;var f=32-ge(l)-1;l&=~(1<<f),o+=1;var m=32-ge(r)+f;if(30<m){var _=f-f%5;m=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Pi=1<<32-ge(r)+f|o<<f|l,ki=m+i}else Pi=1<<m|o<<f|l,ki=i}function Ld(i){i.return!==null&&(ns(i,1),Kv(i,1,0))}function Ud(i){for(;i===Hc;)Hc=Ja[--to],Ja[to]=null,Ol=Ja[--to],Ja[to]=null;for(;i===zs;)zs=qn[--Hn],qn[Hn]=null,ki=qn[--Hn],qn[Hn]=null,Pi=qn[--Hn],qn[Hn]=null}function Yv(i,r){qn[Hn++]=Pi,qn[Hn++]=ki,qn[Hn++]=zs,Pi=r.id,ki=r.overflow,zs=i}var Xe=null,ie=null,Bt=!1,js=null,Gn=!1,Bd=Error(s(519));function Fs(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pl(Fn(r,i)),Bd}function Qv(i){var r=i.stateNode,o=i.type,l=i.memoizedProps;switch(r[be]=i,r[Fe]=l,o){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(o=0;o<iu.length;o++)Mt(iu[o],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":Mt("invalid",r),Ac(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",r);break;case"textarea":Mt("invalid",r),Ns(r,l.value,l.defaultValue,l.children)}o=l.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||l.suppressHydrationWarning===!0||hT(r.textContent,o)?(l.popover!=null&&(Mt("beforetoggle",r),Mt("toggle",r)),l.onScroll!=null&&Mt("scroll",r),l.onScrollEnd!=null&&Mt("scrollend",r),l.onClick!=null&&(r.onclick=ii),r=!0):r=!1,r||Fs(i,!0)}function Xv(i){for(Xe=i.return;Xe;)switch(Xe.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Xe=Xe.return}}function eo(i){if(i!==Xe)return!1;if(!Bt)return Xv(i),Bt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||ip(i.type,i.memoizedProps)),o=!o),o&&ie&&Fs(i),Xv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ie=TT(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ie=TT(i)}else r===27?(r=ie,nr(i.type)?(i=lp,lp=null,ie=i):ie=r):ie=Xe?Yn(i.stateNode.nextSibling):null;return!0}function ra(){ie=Xe=null,Bt=!1}function zd(){var i=js;return i!==null&&(En===null?En=i:En.push.apply(En,i),js=null),i}function Pl(i){js===null?js=[i]:js.push(i)}var jd=O(null),aa=null,is=null;function qs(i,r,o){ct(jd,r._currentValue),r._currentValue=o}function ss(i){i._currentValue=jd.current,it(jd)}function Fd(i,r,o){for(;i!==null;){var l=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),i===o)break;i=i.return}}function qd(i,r,o,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;t:for(;m!==null;){var A=m;m=f;for(var D=0;D<r.length;D++)if(A.context===r[D]){m.lanes|=o,A=m.alternate,A!==null&&(A.lanes|=o),Fd(m.return,o,i),l||(_=null);break t}m=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=o,m=_.alternate,m!==null&&(m.lanes|=o),Fd(_,o,i),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===i){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function no(i,r,o,l){i=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var A=f.type;Rn(f.pendingProps.value,_.value)||(i!==null?i.push(A):i=[A])}}else if(f===zt.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(lu):i=[lu])}f=f.return}i!==null&&qd(r,i,o,l),r.flags|=262144}function Gc(i){for(i=i.firstContext;i!==null;){if(!Rn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function oa(i){aa=i,is=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function $e(i){return $v(aa,i)}function Kc(i,r){return aa===null&&oa(i),$v(i,r)}function $v(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},is===null){if(i===null)throw Error(s(308));is=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else is=is.next=r;return o}var DC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,l){i.push(l)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},VC=n.unstable_scheduleCallback,MC=n.unstable_NormalPriority,Ce={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hd(){return{controller:new DC,data:new Map,refCount:0}}function kl(i){i.refCount--,i.refCount===0&&VC(MC,function(){i.controller.abort()})}var Ll=null,Gd=0,io=0,so=null;function NC(i,r){if(Ll===null){var o=Ll=[];Gd=0,io=Qm(),so={status:"pending",value:void 0,then:function(l){o.push(l)}}}return Gd++,r.then(Wv,Wv),r}function Wv(){if(--Gd===0&&Ll!==null){so!==null&&(so.status="fulfilled");var i=Ll;Ll=null,io=0,so=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function OC(i,r){var o=[],l={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),l}var Zv=Z.S;Z.S=function(i,r){P0=cn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&NC(i,r),Zv!==null&&Zv(i,r)};var la=O(null);function Kd(){var i=la.current;return i!==null?i:ne.pooledCache}function Yc(i,r){r===null?ct(la,la.current):ct(la,r.pool)}function Jv(){var i=Kd();return i===null?null:{parent:Ce._currentValue,pool:i}}var ro=Error(s(460)),Yd=Error(s(474)),Qc=Error(s(542)),Xc={then:function(){}};function t_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function e_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(ii,ii),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i_(i),i;default:if(typeof r.status=="string")r.then(ii,ii);else{if(i=ne,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i_(i),i}throw ca=r,ro}}function ua(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ca=o,ro):o}}var ca=null;function n_(){if(ca===null)throw Error(s(459));var i=ca;return ca=null,i}function i_(i){if(i===ro||i===Qc)throw Error(s(483))}var ao=null,Ul=0;function $c(i){var r=Ul;return Ul+=1,ao===null&&(ao=[]),e_(ao,i,r)}function Bl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Wc(i,r){throw r.$$typeof===S?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function s_(i){function r(L,N){if(i){var j=L.deletions;j===null?(L.deletions=[N],L.flags|=16):j.push(N)}}function o(L,N){if(!i)return null;for(;N!==null;)r(L,N),N=N.sibling;return null}function l(L){for(var N=new Map;L!==null;)L.key!==null?N.set(L.key,L):N.set(L.index,L),L=L.sibling;return N}function f(L,N){return L=es(L,N),L.index=0,L.sibling=null,L}function m(L,N,j){return L.index=j,i?(j=L.alternate,j!==null?(j=j.index,j<N?(L.flags|=67108866,N):j):(L.flags|=67108866,N)):(L.flags|=1048576,N)}function _(L){return i&&L.alternate===null&&(L.flags|=67108866),L}function A(L,N,j,tt){return N===null||N.tag!==6?(N=Pd(j,L.mode,tt),N.return=L,N):(N=f(N,j),N.return=L,N)}function D(L,N,j,tt){var vt=j.type;return vt===z?W(L,N,j.props.children,tt,j.key):N!==null&&(N.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===w&&ua(vt)===N.type)?(N=f(N,j.props),Bl(N,j),N.return=L,N):(N=qc(j.type,j.key,j.props,null,L.mode,tt),Bl(N,j),N.return=L,N)}function F(L,N,j,tt){return N===null||N.tag!==4||N.stateNode.containerInfo!==j.containerInfo||N.stateNode.implementation!==j.implementation?(N=kd(j,L.mode,tt),N.return=L,N):(N=f(N,j.children||[]),N.return=L,N)}function W(L,N,j,tt,vt){return N===null||N.tag!==7?(N=sa(j,L.mode,tt,vt),N.return=L,N):(N=f(N,j),N.return=L,N)}function nt(L,N,j){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Pd(""+N,L.mode,j),N.return=L,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case I:return j=qc(N.type,N.key,N.props,null,L.mode,j),Bl(j,N),j.return=L,j;case P:return N=kd(N,L.mode,j),N.return=L,N;case w:return N=ua(N),nt(L,N,j)}if(fe(N)||k(N))return N=sa(N,L.mode,j,null),N.return=L,N;if(typeof N.then=="function")return nt(L,$c(N),j);if(N.$$typeof===H)return nt(L,Kc(L,N),j);Wc(L,N)}return null}function G(L,N,j,tt){var vt=N!==null?N.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return vt!==null?null:A(L,N,""+j,tt);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case I:return j.key===vt?D(L,N,j,tt):null;case P:return j.key===vt?F(L,N,j,tt):null;case w:return j=ua(j),G(L,N,j,tt)}if(fe(j)||k(j))return vt!==null?null:W(L,N,j,tt,null);if(typeof j.then=="function")return G(L,N,$c(j),tt);if(j.$$typeof===H)return G(L,N,Kc(L,j),tt);Wc(L,j)}return null}function Q(L,N,j,tt,vt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return L=L.get(j)||null,A(N,L,""+tt,vt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case I:return L=L.get(tt.key===null?j:tt.key)||null,D(N,L,tt,vt);case P:return L=L.get(tt.key===null?j:tt.key)||null,F(N,L,tt,vt);case w:return tt=ua(tt),Q(L,N,j,tt,vt)}if(fe(tt)||k(tt))return L=L.get(j)||null,W(N,L,tt,vt,null);if(typeof tt.then=="function")return Q(L,N,j,$c(tt),vt);if(tt.$$typeof===H)return Q(L,N,j,Kc(N,tt),vt);Wc(N,tt)}return null}function mt(L,N,j,tt){for(var vt=null,qt=null,gt=N,Dt=N=0,Pt=null;gt!==null&&Dt<j.length;Dt++){gt.index>Dt?(Pt=gt,gt=null):Pt=gt.sibling;var Ht=G(L,gt,j[Dt],tt);if(Ht===null){gt===null&&(gt=Pt);break}i&&gt&&Ht.alternate===null&&r(L,gt),N=m(Ht,N,Dt),qt===null?vt=Ht:qt.sibling=Ht,qt=Ht,gt=Pt}if(Dt===j.length)return o(L,gt),Bt&&ns(L,Dt),vt;if(gt===null){for(;Dt<j.length;Dt++)gt=nt(L,j[Dt],tt),gt!==null&&(N=m(gt,N,Dt),qt===null?vt=gt:qt.sibling=gt,qt=gt);return Bt&&ns(L,Dt),vt}for(gt=l(gt);Dt<j.length;Dt++)Pt=Q(gt,L,Dt,j[Dt],tt),Pt!==null&&(i&&Pt.alternate!==null&&gt.delete(Pt.key===null?Dt:Pt.key),N=m(Pt,N,Dt),qt===null?vt=Pt:qt.sibling=Pt,qt=Pt);return i&&gt.forEach(function(or){return r(L,or)}),Bt&&ns(L,Dt),vt}function Tt(L,N,j,tt){if(j==null)throw Error(s(151));for(var vt=null,qt=null,gt=N,Dt=N=0,Pt=null,Ht=j.next();gt!==null&&!Ht.done;Dt++,Ht=j.next()){gt.index>Dt?(Pt=gt,gt=null):Pt=gt.sibling;var or=G(L,gt,Ht.value,tt);if(or===null){gt===null&&(gt=Pt);break}i&&gt&&or.alternate===null&&r(L,gt),N=m(or,N,Dt),qt===null?vt=or:qt.sibling=or,qt=or,gt=Pt}if(Ht.done)return o(L,gt),Bt&&ns(L,Dt),vt;if(gt===null){for(;!Ht.done;Dt++,Ht=j.next())Ht=nt(L,Ht.value,tt),Ht!==null&&(N=m(Ht,N,Dt),qt===null?vt=Ht:qt.sibling=Ht,qt=Ht);return Bt&&ns(L,Dt),vt}for(gt=l(gt);!Ht.done;Dt++,Ht=j.next())Ht=Q(gt,L,Dt,Ht.value,tt),Ht!==null&&(i&&Ht.alternate!==null&&gt.delete(Ht.key===null?Dt:Ht.key),N=m(Ht,N,Dt),qt===null?vt=Ht:qt.sibling=Ht,qt=Ht);return i&&gt.forEach(function(GI){return r(L,GI)}),Bt&&ns(L,Dt),vt}function Jt(L,N,j,tt){if(typeof j=="object"&&j!==null&&j.type===z&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case I:t:{for(var vt=j.key;N!==null;){if(N.key===vt){if(vt=j.type,vt===z){if(N.tag===7){o(L,N.sibling),tt=f(N,j.props.children),tt.return=L,L=tt;break t}}else if(N.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===w&&ua(vt)===N.type){o(L,N.sibling),tt=f(N,j.props),Bl(tt,j),tt.return=L,L=tt;break t}o(L,N);break}else r(L,N);N=N.sibling}j.type===z?(tt=sa(j.props.children,L.mode,tt,j.key),tt.return=L,L=tt):(tt=qc(j.type,j.key,j.props,null,L.mode,tt),Bl(tt,j),tt.return=L,L=tt)}return _(L);case P:t:{for(vt=j.key;N!==null;){if(N.key===vt)if(N.tag===4&&N.stateNode.containerInfo===j.containerInfo&&N.stateNode.implementation===j.implementation){o(L,N.sibling),tt=f(N,j.children||[]),tt.return=L,L=tt;break t}else{o(L,N);break}else r(L,N);N=N.sibling}tt=kd(j,L.mode,tt),tt.return=L,L=tt}return _(L);case w:return j=ua(j),Jt(L,N,j,tt)}if(fe(j))return mt(L,N,j,tt);if(k(j)){if(vt=k(j),typeof vt!="function")throw Error(s(150));return j=vt.call(j),Tt(L,N,j,tt)}if(typeof j.then=="function")return Jt(L,N,$c(j),tt);if(j.$$typeof===H)return Jt(L,N,Kc(L,j),tt);Wc(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,N!==null&&N.tag===6?(o(L,N.sibling),tt=f(N,j),tt.return=L,L=tt):(o(L,N),tt=Pd(j,L.mode,tt),tt.return=L,L=tt),_(L)):o(L,N)}return function(L,N,j,tt){try{Ul=0;var vt=Jt(L,N,j,tt);return ao=null,vt}catch(gt){if(gt===ro||gt===Qc)throw gt;var qt=Cn(29,gt,null,L.mode);return qt.lanes=tt,qt.return=L,qt}}}var ha=s_(!0),r_=s_(!1),Hs=!1;function Qd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Gs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ks(i,r,o){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Fc(i),Fv(i,null,o),r}return jc(i,l,r,o),Fc(i)}function zl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var l=r.lanes;l&=i.pendingLanes,o|=l,r.lanes=o,dl(i,o)}}function $d(i,r){var o=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,o=o.next}while(o!==null);m===null?f=m=r:m=m.next=r}else f=m=r;o={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Wd=!1;function jl(){if(Wd){var i=so;if(i!==null)throw i}}function Fl(i,r,o,l){Wd=!1;var f=i.updateQueue;Hs=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,F=D.next;D.next=null,_===null?m=F:_.next=F,_=D;var W=i.alternate;W!==null&&(W=W.updateQueue,A=W.lastBaseUpdate,A!==_&&(A===null?W.firstBaseUpdate=F:A.next=F,W.lastBaseUpdate=D))}if(m!==null){var nt=f.baseState;_=0,W=F=D=null,A=m;do{var G=A.lane&-536870913,Q=G!==A.lane;if(Q?(Ot&G)===G:(l&G)===G){G!==0&&G===io&&(Wd=!0),W!==null&&(W=W.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var mt=i,Tt=A;G=r;var Jt=o;switch(Tt.tag){case 1:if(mt=Tt.payload,typeof mt=="function"){nt=mt.call(Jt,nt,G);break t}nt=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=Tt.payload,G=typeof mt=="function"?mt.call(Jt,nt,G):mt,G==null)break t;nt=T({},nt,G);break t;case 2:Hs=!0}}G=A.callback,G!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:A.tag,payload:A.payload,callback:A.callback,next:null},W===null?(F=W=Q,D=nt):W=W.next=Q,_|=G;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);W===null&&(D=nt),f.baseState=D,f.firstBaseUpdate=F,f.lastBaseUpdate=W,m===null&&(f.shared.lanes=0),Ws|=_,i.lanes=_,i.memoizedState=nt}}function a_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function o_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)a_(o[i],r)}var oo=O(null),Zc=O(0);function l_(i,r){i=ds,ct(Zc,i),ct(oo,r),ds=i|r.baseLanes}function Zd(){ct(Zc,ds),ct(oo,oo.current)}function Jd(){ds=Zc.current,it(oo),it(Zc)}var In=O(null),Kn=null;function Ys(i){var r=i.alternate;ct(ve,ve.current&1),ct(In,i),Kn===null&&(r===null||oo.current!==null||r.memoizedState!==null)&&(Kn=i)}function tm(i){ct(ve,ve.current),ct(In,i),Kn===null&&(Kn=i)}function u_(i){i.tag===22?(ct(ve,ve.current),ct(In,i),Kn===null&&(Kn=i)):Qs()}function Qs(){ct(ve,ve.current),ct(In,In.current)}function xn(i){it(In),Kn===i&&(Kn=null),it(ve)}var ve=O(0);function Jc(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||ap(o)||op(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var rs=0,Ct=null,Wt=null,Ie=null,th=!1,lo=!1,fa=!1,eh=0,ql=0,uo=null,PC=0;function de(){throw Error(s(321))}function em(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Rn(i[o],r[o]))return!1;return!0}function nm(i,r,o,l,f,m){return rs=m,Ct=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=i===null||i.memoizedState===null?K_:ym,fa=!1,m=o(l,f),fa=!1,lo&&(m=h_(r,o,l,f)),c_(i),m}function c_(i){Z.H=Kl;var r=Wt!==null&&Wt.next!==null;if(rs=0,Ie=Wt=Ct=null,th=!1,ql=0,uo=null,r)throw Error(s(300));i===null||xe||(i=i.dependencies,i!==null&&Gc(i)&&(xe=!0))}function h_(i,r,o,l){Ct=i;var f=0;do{if(lo&&(uo=null),ql=0,lo=!1,25<=f)throw Error(s(301));if(f+=1,Ie=Wt=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Z.H=Y_,m=r(o,l)}while(lo);return m}function kC(){var i=Z.H,r=i.useState()[0];return r=typeof r.then=="function"?Hl(r):r,i=i.useState()[0],(Wt!==null?Wt.memoizedState:null)!==i&&(Ct.flags|=1024),r}function im(){var i=eh!==0;return eh=0,i}function sm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function rm(i){if(th){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}th=!1}rs=0,Ie=Wt=Ct=null,lo=!1,ql=eh=0,uo=null}function fn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?Ct.memoizedState=Ie=i:Ie=Ie.next=i,Ie}function _e(){if(Wt===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=Wt.next;var r=Ie===null?Ct.memoizedState:Ie.next;if(r!==null)Ie=r,Wt=i;else{if(i===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Wt=i,i={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Ie===null?Ct.memoizedState=Ie=i:Ie=Ie.next=i}return Ie}function nh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(i){var r=ql;return ql+=1,uo===null&&(uo=[]),i=e_(uo,i,r),r=Ct,(Ie===null?r.memoizedState:Ie.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?K_:ym),i}function ih(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Hl(i);if(i.$$typeof===H)return $e(i)}throw Error(s(438,String(i)))}function am(i){var r=null,o=Ct.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=nh(),Ct.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),l=0;l<i;l++)o[l]=M;return r.index++,o}function as(i,r){return typeof r=="function"?r(i):r}function sh(i){var r=_e();return om(r,Wt,i)}function om(i,r,o){var l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=o;var f=i.baseQueue,m=l.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}r.baseQueue=f=m,l.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{r=f.next;var A=_=null,D=null,F=r,W=!1;do{var nt=F.lane&-536870913;if(nt!==F.lane?(Ot&nt)===nt:(rs&nt)===nt){var G=F.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),nt===io&&(W=!0);else if((rs&G)===G){F=F.next,G===io&&(W=!0);continue}else nt={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(A=D=nt,_=m):D=D.next=nt,Ct.lanes|=G,Ws|=G;nt=F.action,fa&&o(m,nt),m=F.hasEagerState?F.eagerState:o(m,nt)}else G={lane:nt,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(A=D=G,_=m):D=D.next=G,Ct.lanes|=nt,Ws|=nt;F=F.next}while(F!==null&&F!==r);if(D===null?_=m:D.next=A,!Rn(m,i.memoizedState)&&(xe=!0,W&&(o=so,o!==null)))throw o;i.memoizedState=m,i.baseState=_,i.baseQueue=D,l.lastRenderedState=m}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function lm(i){var r=_e(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var l=o.dispatch,f=o.pending,m=r.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do m=i(m,_.action),_=_.next;while(_!==f);Rn(m,r.memoizedState)||(xe=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,l]}function f_(i,r,o){var l=Ct,f=_e(),m=Bt;if(m){if(o===void 0)throw Error(s(407));o=o()}else o=r();var _=!Rn((Wt||f).memoizedState,o);if(_&&(f.memoizedState=o,xe=!0),f=f.queue,hm(p_.bind(null,l,f,i),[i]),f.getSnapshot!==r||_||Ie!==null&&Ie.memoizedState.tag&1){if(l.flags|=2048,co(9,{destroy:void 0},m_.bind(null,l,f,o,r),null),ne===null)throw Error(s(349));m||(rs&127)!==0||d_(l,r,o)}return o}function d_(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ct.updateQueue,r===null?(r=nh(),Ct.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function m_(i,r,o,l){r.value=o,r.getSnapshot=l,g_(r)&&y_(i)}function p_(i,r,o){return o(function(){g_(r)&&y_(i)})}function g_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Rn(i,o)}catch{return!0}}function y_(i){var r=ia(i,2);r!==null&&Sn(r,i,2)}function um(i){var r=fn();if(typeof i=="function"){var o=i;if(i=o(),fa){kn(!0);try{o()}finally{kn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:i},r}function v_(i,r,o,l){return i.baseState=o,om(i,Wt,typeof l=="function"?l:as)}function LC(i,r,o,l,f){if(oh(i))throw Error(s(485));if(i=r.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};Z.T!==null?o(!0):m.isTransition=!1,l(m),o=r.pending,o===null?(m.next=r.pending=m,__(r,m)):(m.next=o.next,r.pending=o.next=m)}}function __(i,r){var o=r.action,l=r.payload,f=i.state;if(r.isTransition){var m=Z.T,_={};Z.T=_;try{var A=o(f,l),D=Z.S;D!==null&&D(_,A),T_(i,r,A)}catch(F){cm(i,r,F)}finally{m!==null&&_.types!==null&&(m.types=_.types),Z.T=m}}else try{m=o(f,l),T_(i,r,m)}catch(F){cm(i,r,F)}}function T_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(l){E_(i,r,l)},function(l){return cm(i,r,l)}):E_(i,r,o)}function E_(i,r,o){r.status="fulfilled",r.value=o,S_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,__(i,o)))}function cm(i,r,o){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=o,S_(r),r=r.next;while(r!==l)}i.action=null}function S_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function A_(i,r){return r}function b_(i,r){if(Bt){var o=ne.formState;if(o!==null){t:{var l=Ct;if(Bt){if(ie){e:{for(var f=ie,m=Gn;f.nodeType!==8;){if(!m){f=null;break e}if(f=Yn(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){ie=Yn(f.nextSibling),l=f.data==="F!";break t}}Fs(l)}l=!1}l&&(r=o[0])}}return o=fn(),o.memoizedState=o.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A_,lastRenderedState:r},o.queue=l,o=q_.bind(null,Ct,l),l.dispatch=o,l=um(!1),m=gm.bind(null,Ct,!1,l.queue),l=fn(),f={state:r,dispatch:null,action:i,pending:null},l.queue=f,o=LC.bind(null,Ct,f,m,o),f.dispatch=o,l.memoizedState=i,[r,o,!1]}function w_(i){var r=_e();return R_(r,Wt,i)}function R_(i,r,o){if(r=om(i,r,A_)[0],i=sh(as)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Hl(r)}catch(_){throw _===ro?Qc:_}else l=r;r=_e();var f=r.queue,m=f.dispatch;return o!==r.memoizedState&&(Ct.flags|=2048,co(9,{destroy:void 0},UC.bind(null,f,o),null)),[l,m,i]}function UC(i,r){i.action=r}function C_(i){var r=_e(),o=Wt;if(o!==null)return R_(r,o,i);_e(),r=r.memoizedState,o=_e();var l=o.queue.dispatch;return o.memoizedState=i,[r,l,!1]}function co(i,r,o,l){return i={tag:i,create:o,deps:l,inst:r,next:null},r=Ct.updateQueue,r===null&&(r=nh(),Ct.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(l=o.next,o.next=i,i.next=l,r.lastEffect=i),i}function I_(){return _e().memoizedState}function rh(i,r,o,l){var f=fn();Ct.flags|=i,f.memoizedState=co(1|r,{destroy:void 0},o,l===void 0?null:l)}function ah(i,r,o,l){var f=_e();l=l===void 0?null:l;var m=f.memoizedState.inst;Wt!==null&&l!==null&&em(l,Wt.memoizedState.deps)?f.memoizedState=co(r,m,o,l):(Ct.flags|=i,f.memoizedState=co(1|r,m,o,l))}function x_(i,r){rh(8390656,8,i,r)}function hm(i,r){ah(2048,8,i,r)}function BC(i){Ct.flags|=4;var r=Ct.updateQueue;if(r===null)r=nh(),Ct.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function D_(i){var r=_e().memoizedState;return BC({ref:r,nextImpl:i}),function(){if((Kt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function V_(i,r){return ah(4,2,i,r)}function M_(i,r){return ah(4,4,i,r)}function N_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function O_(i,r,o){o=o!=null?o.concat([i]):null,ah(4,4,N_.bind(null,r,i),o)}function fm(){}function P_(i,r){var o=_e();r=r===void 0?null:r;var l=o.memoizedState;return r!==null&&em(r,l[1])?l[0]:(o.memoizedState=[i,r],i)}function k_(i,r){var o=_e();r=r===void 0?null:r;var l=o.memoizedState;if(r!==null&&em(r,l[1]))return l[0];if(l=i(),fa){kn(!0);try{i()}finally{kn(!1)}}return o.memoizedState=[l,r],l}function dm(i,r,o){return o===void 0||(rs&1073741824)!==0&&(Ot&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=L0(),Ct.lanes|=i,Ws|=i,o)}function L_(i,r,o,l){return Rn(o,r)?o:oo.current!==null?(i=dm(i,o,l),Rn(i,r)||(xe=!0),i):(rs&42)===0||(rs&1073741824)!==0&&(Ot&261930)===0?(xe=!0,i.memoizedState=o):(i=L0(),Ct.lanes|=i,Ws|=i,r)}function U_(i,r,o,l,f){var m=rt.p;rt.p=m!==0&&8>m?m:8;var _=Z.T,A={};Z.T=A,gm(i,!1,r,o);try{var D=f(),F=Z.S;if(F!==null&&F(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=OC(D,l);Gl(i,r,W,Mn(i))}else Gl(i,r,l,Mn(i))}catch(nt){Gl(i,r,{then:function(){},status:"rejected",reason:nt},Mn())}finally{rt.p=m,_!==null&&A.types!==null&&(_.types=A.types),Z.T=_}}function zC(){}function mm(i,r,o,l){if(i.tag!==5)throw Error(s(476));var f=B_(i).queue;U_(i,f,r,dt,o===null?zC:function(){return z_(i),o(l)})}function B_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:dt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function z_(i){var r=B_(i);r.next===null&&(r=i.alternate.memoizedState),Gl(i,r.next.queue,{},Mn())}function pm(){return $e(lu)}function j_(){return _e().memoizedState}function F_(){return _e().memoizedState}function jC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Mn();i=Gs(o);var l=Ks(r,i,o);l!==null&&(Sn(l,r,o),zl(l,r,o)),r={cache:Hd()},i.payload=r;return}r=r.return}}function FC(i,r,o){var l=Mn();o={lane:l,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},oh(i)?H_(r,o):(o=Nd(i,r,o,l),o!==null&&(Sn(o,i,l),G_(o,r,l)))}function q_(i,r,o){var l=Mn();Gl(i,r,o,l)}function Gl(i,r,o,l){var f={lane:l,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(oh(i))H_(r,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var _=r.lastRenderedState,A=m(_,o);if(f.hasEagerState=!0,f.eagerState=A,Rn(A,_))return jc(i,r,f,0),ne===null&&zc(),!1}catch{}if(o=Nd(i,r,f,l),o!==null)return Sn(o,i,l),G_(o,r,l),!0}return!1}function gm(i,r,o,l){if(l={lane:2,revertLane:Qm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},oh(i)){if(r)throw Error(s(479))}else r=Nd(i,o,l,2),r!==null&&Sn(r,i,2)}function oh(i){var r=i.alternate;return i===Ct||r!==null&&r===Ct}function H_(i,r){lo=th=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function G_(i,r,o){if((o&4194048)!==0){var l=r.lanes;l&=i.pendingLanes,o|=l,r.lanes=o,dl(i,o)}}var Kl={readContext:$e,use:ih,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};Kl.useEffectEvent=de;var K_={readContext:$e,use:ih,useCallback:function(i,r){return fn().memoizedState=[i,r===void 0?null:r],i},useContext:$e,useEffect:x_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,rh(4194308,4,N_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return rh(4194308,4,i,r)},useInsertionEffect:function(i,r){rh(4,2,i,r)},useMemo:function(i,r){var o=fn();r=r===void 0?null:r;var l=i();if(fa){kn(!0);try{i()}finally{kn(!1)}}return o.memoizedState=[l,r],l},useReducer:function(i,r,o){var l=fn();if(o!==void 0){var f=o(r);if(fa){kn(!0);try{o(r)}finally{kn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=FC.bind(null,Ct,i),[l.memoizedState,i]},useRef:function(i){var r=fn();return i={current:i},r.memoizedState=i},useState:function(i){i=um(i);var r=i.queue,o=q_.bind(null,Ct,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:fm,useDeferredValue:function(i,r){var o=fn();return dm(o,i,r)},useTransition:function(){var i=um(!1);return i=U_.bind(null,Ct,i.queue,!0,!1),fn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var l=Ct,f=fn();if(Bt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ne===null)throw Error(s(349));(Ot&127)!==0||d_(l,r,o)}f.memoizedState=o;var m={value:o,getSnapshot:r};return f.queue=m,x_(p_.bind(null,l,m,i),[i]),l.flags|=2048,co(9,{destroy:void 0},m_.bind(null,l,m,o,r),null),o},useId:function(){var i=fn(),r=ne.identifierPrefix;if(Bt){var o=ki,l=Pi;o=(l&~(1<<32-ge(l)-1)).toString(32)+o,r="_"+r+"R_"+o,o=eh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=PC++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:pm,useFormState:b_,useActionState:b_,useOptimistic:function(i){var r=fn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=gm.bind(null,Ct,!0,o),o.dispatch=r,[i,r]},useMemoCache:am,useCacheRefresh:function(){return fn().memoizedState=jC.bind(null,Ct)},useEffectEvent:function(i){var r=fn(),o={impl:i};return r.memoizedState=o,function(){if((Kt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},ym={readContext:$e,use:ih,useCallback:P_,useContext:$e,useEffect:hm,useImperativeHandle:O_,useInsertionEffect:V_,useLayoutEffect:M_,useMemo:k_,useReducer:sh,useRef:I_,useState:function(){return sh(as)},useDebugValue:fm,useDeferredValue:function(i,r){var o=_e();return L_(o,Wt.memoizedState,i,r)},useTransition:function(){var i=sh(as)[0],r=_e().memoizedState;return[typeof i=="boolean"?i:Hl(i),r]},useSyncExternalStore:f_,useId:j_,useHostTransitionStatus:pm,useFormState:w_,useActionState:w_,useOptimistic:function(i,r){var o=_e();return v_(o,Wt,i,r)},useMemoCache:am,useCacheRefresh:F_};ym.useEffectEvent=D_;var Y_={readContext:$e,use:ih,useCallback:P_,useContext:$e,useEffect:hm,useImperativeHandle:O_,useInsertionEffect:V_,useLayoutEffect:M_,useMemo:k_,useReducer:lm,useRef:I_,useState:function(){return lm(as)},useDebugValue:fm,useDeferredValue:function(i,r){var o=_e();return Wt===null?dm(o,i,r):L_(o,Wt.memoizedState,i,r)},useTransition:function(){var i=lm(as)[0],r=_e().memoizedState;return[typeof i=="boolean"?i:Hl(i),r]},useSyncExternalStore:f_,useId:j_,useHostTransitionStatus:pm,useFormState:C_,useActionState:C_,useOptimistic:function(i,r){var o=_e();return Wt!==null?v_(o,Wt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:am,useCacheRefresh:F_};Y_.useEffectEvent=D_;function vm(i,r,o,l){r=i.memoizedState,o=o(l,r),o=o==null?r:T({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var _m={enqueueSetState:function(i,r,o){i=i._reactInternals;var l=Mn(),f=Gs(l);f.payload=r,o!=null&&(f.callback=o),r=Ks(i,f,l),r!==null&&(Sn(r,i,l),zl(r,i,l))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var l=Mn(),f=Gs(l);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Ks(i,f,l),r!==null&&(Sn(r,i,l),zl(r,i,l))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Mn(),l=Gs(o);l.tag=2,r!=null&&(l.callback=r),r=Ks(i,l,o),r!==null&&(Sn(r,i,o),zl(r,i,o))}};function Q_(i,r,o,l,f,m,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,m,_):r.prototype&&r.prototype.isPureReactComponent?!Ml(o,l)||!Ml(f,m):!0}function X_(i,r,o,l){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,l),r.state!==i&&_m.enqueueReplaceState(r,r.state,null)}function da(i,r){var o=r;if("ref"in r){o={};for(var l in r)l!=="ref"&&(o[l]=r[l])}if(i=i.defaultProps){o===r&&(o=T({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function $_(i){Bc(i)}function W_(i){console.error(i)}function Z_(i){Bc(i)}function lh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function J_(i,r,o){try{var l=i.onCaughtError;l(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Tm(i,r,o){return o=Gs(o),o.tag=3,o.payload={element:null},o.callback=function(){lh(i,r)},o}function t0(i){return i=Gs(i),i.tag=3,i}function e0(i,r,o,l){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;i.payload=function(){return f(m)},i.callback=function(){J_(r,o,l)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){J_(r,o,l),typeof f!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function qC(i,r,o,l,f){if(o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=o.alternate,r!==null&&no(r,o,f,!0),o=In.current,o!==null){switch(o.tag){case 31:case 13:return Kn===null?Th():o.alternate===null&&me===0&&(me=3),o.flags&=-257,o.flags|=65536,o.lanes=f,l===Xc?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([l]):r.add(l),Gm(i,l,f)),!1;case 22:return o.flags|=65536,l===Xc?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([l]):o.add(l)),Gm(i,l,f)),!1}throw Error(s(435,o.tag))}return Gm(i,l,f),Th(),!1}if(Bt)return r=In.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Bd&&(i=Error(s(422),{cause:l}),Pl(Fn(i,o)))):(l!==Bd&&(r=Error(s(423),{cause:l}),Pl(Fn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=Fn(l,o),f=Tm(i.stateNode,l,f),$d(i,f),me!==4&&(me=2)),!1;var m=Error(s(520),{cause:l});if(m=Fn(m,o),tu===null?tu=[m]:tu.push(m),me!==4&&(me=2),r===null)return!0;l=Fn(l,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Tm(o.stateNode,l,i),$d(o,i),!1;case 1:if(r=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Zs===null||!Zs.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=t0(f),e0(f,i,o,l),$d(o,f),!1}o=o.return}while(o!==null);return!1}var Em=Error(s(461)),xe=!1;function We(i,r,o,l){r.child=i===null?r_(r,null,o,l):ha(r,i.child,o,l)}function n0(i,r,o,l,f){o=o.render;var m=r.ref;if("ref"in l){var _={};for(var A in l)A!=="ref"&&(_[A]=l[A])}else _=l;return oa(r),l=nm(i,r,o,_,m,f),A=im(),i!==null&&!xe?(sm(i,r,f),os(i,r,f)):(Bt&&A&&Ld(r),r.flags|=1,We(i,r,l,f),r.child)}function i0(i,r,o,l,f){if(i===null){var m=o.type;return typeof m=="function"&&!Od(m)&&m.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=m,s0(i,r,m,l,f)):(i=qc(o.type,null,l,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(m=i.child,!xm(i,f)){var _=m.memoizedProps;if(o=o.compare,o=o!==null?o:Ml,o(_,l)&&i.ref===r.ref)return os(i,r,f)}return r.flags|=1,i=es(m,l),i.ref=r.ref,i.return=r,r.child=i}function s0(i,r,o,l,f){if(i!==null){var m=i.memoizedProps;if(Ml(m,l)&&i.ref===r.ref)if(xe=!1,r.pendingProps=l=m,xm(i,f))(i.flags&131072)!==0&&(xe=!0);else return r.lanes=i.lanes,os(i,r,f)}return Sm(i,r,o,l,f)}function r0(i,r,o,l){var f=l.children,m=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,i!==null){for(l=r.child=i.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~m}else l=0,r.child=null;return a0(i,r,m,o,l)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Yc(r,m!==null?m.cachePool:null),m!==null?l_(r,m):Zd(),u_(r);else return l=r.lanes=536870912,a0(i,r,m!==null?m.baseLanes|o:o,o,l)}else m!==null?(Yc(r,m.cachePool),l_(r,m),Qs(),r.memoizedState=null):(i!==null&&Yc(r,null),Zd(),Qs());return We(i,r,f,o),r.child}function Yl(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function a0(i,r,o,l,f){var m=Kd();return m=m===null?null:{parent:Ce._currentValue,pool:m},r.memoizedState={baseLanes:o,cachePool:m},i!==null&&Yc(r,null),Zd(),u_(r),i!==null&&no(i,r,l,!0),r.childLanes=f,null}function uh(i,r){return r=hh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function o0(i,r,o){return ha(r,i.child,null,o),i=uh(r,r.pendingProps),i.flags|=2,xn(r),r.memoizedState=null,i}function HC(i,r,o){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Bt){if(l.mode==="hidden")return i=uh(r,l),r.lanes=536870912,Yl(null,i);if(tm(r),(i=ie)?(i=_T(i,Gn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:zs!==null?{id:Pi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},o=Hv(i),o.return=r,r.child=o,Xe=r,ie=null)):i=null,i===null)throw Fs(r);return r.lanes=536870912,null}return uh(r,l)}var m=i.memoizedState;if(m!==null){var _=m.dehydrated;if(tm(r),f)if(r.flags&256)r.flags&=-257,r=o0(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(xe||no(i,r,o,!1),f=(o&i.childLanes)!==0,xe||f){if(l=ne,l!==null&&(_=ml(l,o),_!==0&&_!==m.retryLane))throw m.retryLane=_,ia(i,_),Sn(l,i,_),Em;Th(),r=o0(i,r,o)}else i=m.treeContext,ie=Yn(_.nextSibling),Xe=r,Bt=!0,js=null,Gn=!1,i!==null&&Yv(r,i),r=uh(r,l),r.flags|=4096;return r}return i=es(i.child,{mode:l.mode,children:l.children}),i.ref=r.ref,r.child=i,i.return=r,i}function ch(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Sm(i,r,o,l,f){return oa(r),o=nm(i,r,o,l,void 0,f),l=im(),i!==null&&!xe?(sm(i,r,f),os(i,r,f)):(Bt&&l&&Ld(r),r.flags|=1,We(i,r,o,f),r.child)}function l0(i,r,o,l,f,m){return oa(r),r.updateQueue=null,o=h_(r,l,o,f),c_(i),l=im(),i!==null&&!xe?(sm(i,r,m),os(i,r,m)):(Bt&&l&&Ld(r),r.flags|=1,We(i,r,o,m),r.child)}function u0(i,r,o,l,f){if(oa(r),r.stateNode===null){var m=Za,_=o.contextType;typeof _=="object"&&_!==null&&(m=$e(_)),m=new o(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=_m,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},Qd(r),_=o.contextType,m.context=typeof _=="object"&&_!==null?$e(_):Za,m.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(vm(r,o,_,l),m.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&_m.enqueueReplaceState(m,m.state,null),Fl(r,l,m,f),jl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(i===null){m=r.stateNode;var A=r.memoizedProps,D=da(o,A);m.props=D;var F=m.context,W=o.contextType;_=Za,typeof W=="object"&&W!==null&&(_=$e(W));var nt=o.getDerivedStateFromProps;W=typeof nt=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||F!==_)&&X_(r,m,l,_),Hs=!1;var G=r.memoizedState;m.state=G,Fl(r,l,m,f),jl(),F=r.memoizedState,A||G!==F||Hs?(typeof nt=="function"&&(vm(r,o,nt,l),F=r.memoizedState),(D=Hs||Q_(r,o,D,l,G,F,_))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),m.props=l,m.state=F,m.context=_,l=D):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Xd(i,r),_=r.memoizedProps,W=da(o,_),m.props=W,nt=r.pendingProps,G=m.context,F=o.contextType,D=Za,typeof F=="object"&&F!==null&&(D=$e(F)),A=o.getDerivedStateFromProps,(F=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==nt||G!==D)&&X_(r,m,l,D),Hs=!1,G=r.memoizedState,m.state=G,Fl(r,l,m,f),jl();var Q=r.memoizedState;_!==nt||G!==Q||Hs||i!==null&&i.dependencies!==null&&Gc(i.dependencies)?(typeof A=="function"&&(vm(r,o,A,l),Q=r.memoizedState),(W=Hs||Q_(r,o,W,l,G,Q,D)||i!==null&&i.dependencies!==null&&Gc(i.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Q,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Q,D)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===i.memoizedProps&&G===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&G===i.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),m.props=l,m.state=Q,m.context=D,l=W):(typeof m.componentDidUpdate!="function"||_===i.memoizedProps&&G===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&G===i.memoizedState||(r.flags|=1024),l=!1)}return m=l,ch(i,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,o=l&&typeof o.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,i!==null&&l?(r.child=ha(r,i.child,null,f),r.child=ha(r,null,o,f)):We(i,r,o,f),r.memoizedState=m.state,i=r.child):i=os(i,r,f),i}function c0(i,r,o,l){return ra(),r.flags|=256,We(i,r,o,l),r.child}var Am={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bm(i){return{baseLanes:i,cachePool:Jv()}}function wm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Vn),i}function h0(i,r,o){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,_;if((_=m)||(_=i!==null&&i.memoizedState===null?!1:(ve.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,i===null){if(Bt){if(f?Ys(r):Qs(),(i=ie)?(i=_T(i,Gn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:zs!==null?{id:Pi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},o=Hv(i),o.return=r,r.child=o,Xe=r,ie=null)):i=null,i===null)throw Fs(r);return op(i)?r.lanes=32:r.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(Qs(),f=r.mode,A=hh({mode:"hidden",children:A},f),l=sa(l,f,o,null),A.return=r,l.return=r,A.sibling=l,r.child=A,l=r.child,l.memoizedState=bm(o),l.childLanes=wm(i,_,o),r.memoizedState=Am,Yl(null,l)):(Ys(r),Rm(r,A))}var D=i.memoizedState;if(D!==null&&(A=D.dehydrated,A!==null)){if(m)r.flags&256?(Ys(r),r.flags&=-257,r=Cm(i,r,o)):r.memoizedState!==null?(Qs(),r.child=i.child,r.flags|=128,r=null):(Qs(),A=l.fallback,f=r.mode,l=hh({mode:"visible",children:l.children},f),A=sa(A,f,o,null),A.flags|=2,l.return=r,A.return=r,l.sibling=A,r.child=l,ha(r,i.child,null,o),l=r.child,l.memoizedState=bm(o),l.childLanes=wm(i,_,o),r.memoizedState=Am,r=Yl(null,l));else if(Ys(r),op(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(s(419)),l.stack="",l.digest=_,Pl({value:l,source:null,stack:null}),r=Cm(i,r,o)}else if(xe||no(i,r,o,!1),_=(o&i.childLanes)!==0,xe||_){if(_=ne,_!==null&&(l=ml(_,o),l!==0&&l!==D.retryLane))throw D.retryLane=l,ia(i,l),Sn(_,i,l),Em;ap(A)||Th(),r=Cm(i,r,o)}else ap(A)?(r.flags|=192,r.child=i.child,r=null):(i=D.treeContext,ie=Yn(A.nextSibling),Xe=r,Bt=!0,js=null,Gn=!1,i!==null&&Yv(r,i),r=Rm(r,l.children),r.flags|=4096);return r}return f?(Qs(),A=l.fallback,f=r.mode,D=i.child,F=D.sibling,l=es(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,F!==null?A=es(F,A):(A=sa(A,f,o,null),A.flags|=2),A.return=r,l.return=r,l.sibling=A,r.child=l,Yl(null,l),l=r.child,A=i.child.memoizedState,A===null?A=bm(o):(f=A.cachePool,f!==null?(D=Ce._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=Jv(),A={baseLanes:A.baseLanes|o,cachePool:f}),l.memoizedState=A,l.childLanes=wm(i,_,o),r.memoizedState=Am,Yl(i.child,l)):(Ys(r),o=i.child,i=o.sibling,o=es(o,{mode:"visible",children:l.children}),o.return=r,o.sibling=null,i!==null&&(_=r.deletions,_===null?(r.deletions=[i],r.flags|=16):_.push(i)),r.child=o,r.memoizedState=null,o)}function Rm(i,r){return r=hh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function hh(i,r){return i=Cn(22,i,null,r),i.lanes=0,i}function Cm(i,r,o){return ha(r,i.child,null,o),i=Rm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function f0(i,r,o){i.lanes|=r;var l=i.alternate;l!==null&&(l.lanes|=r),Fd(i.return,r,o)}function Im(i,r,o,l,f,m){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:f,treeForkCount:m}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=o,_.tailMode=f,_.treeForkCount=m)}function d0(i,r,o){var l=r.pendingProps,f=l.revealOrder,m=l.tail;l=l.children;var _=ve.current,A=(_&2)!==0;if(A?(_=_&1|2,r.flags|=128):_&=1,ct(ve,_),We(i,r,l,o),l=Bt?Ol:0,!A&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&f0(i,o,r);else if(i.tag===19)f0(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&Jc(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Im(r,!1,f,o,m,l);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&Jc(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Im(r,!0,o,null,m,l);break;case"together":Im(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function os(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Ws|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(no(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=es(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=es(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function xm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Gc(i)))}function GC(i,r,o){switch(r.tag){case 3:Pe(r,r.stateNode.containerInfo),qs(r,Ce,i.memoizedState.cache),ra();break;case 27:case 5:Br(r);break;case 4:Pe(r,r.stateNode.containerInfo);break;case 10:qs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,tm(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ys(r),r.flags|=128,null):(o&r.child.childLanes)!==0?h0(i,r,o):(Ys(r),i=os(i,r,o),i!==null?i.sibling:null);Ys(r);break;case 19:var f=(i.flags&128)!==0;if(l=(o&r.childLanes)!==0,l||(no(i,r,o,!1),l=(o&r.childLanes)!==0),f){if(l)return d0(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ct(ve,ve.current),l)break;return null;case 22:return r.lanes=0,r0(i,r,o,r.pendingProps);case 24:qs(r,Ce,i.memoizedState.cache)}return os(i,r,o)}function m0(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)xe=!0;else{if(!xm(i,o)&&(r.flags&128)===0)return xe=!1,GC(i,r,o);xe=(i.flags&131072)!==0}else xe=!1,Bt&&(r.flags&1048576)!==0&&Kv(r,Ol,r.index);switch(r.lanes=0,r.tag){case 16:t:{var l=r.pendingProps;if(i=ua(r.elementType),r.type=i,typeof i=="function")Od(i)?(l=da(i,l),r.tag=1,r=u0(null,r,i,l,o)):(r.tag=0,r=Sm(null,r,i,l,o));else{if(i!=null){var f=i.$$typeof;if(f===X){r.tag=11,r=n0(null,r,i,l,o);break t}else if(f===C){r.tag=14,r=i0(null,r,i,l,o);break t}}throw r=ee(i)||i,Error(s(306,r,""))}}return r;case 0:return Sm(i,r,r.type,r.pendingProps,o);case 1:return l=r.type,f=da(l,r.pendingProps),u0(i,r,l,f,o);case 3:t:{if(Pe(r,r.stateNode.containerInfo),i===null)throw Error(s(387));l=r.pendingProps;var m=r.memoizedState;f=m.element,Xd(i,r),Fl(r,l,null,o);var _=r.memoizedState;if(l=_.cache,qs(r,Ce,l),l!==m.cache&&qd(r,[Ce],o,!0),jl(),l=_.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=c0(i,r,l,o);break t}else if(l!==f){f=Fn(Error(s(424)),r),Pl(f),r=c0(i,r,l,o);break t}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,ie=Yn(i.firstChild),Xe=r,Bt=!0,js=null,Gn=!0,o=r_(r,null,l,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ra(),l===f){r=os(i,r,o);break t}We(i,r,l,o)}r=r.child}return r;case 26:return ch(i,r),i===null?(o=wT(r.type,null,r.pendingProps,null))?r.memoizedState=o:Bt||(o=r.type,i=r.pendingProps,l=Ch(xt.current).createElement(o),l[be]=r,l[Fe]=i,Ze(l,o,i),we(l),r.stateNode=l):r.memoizedState=wT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Br(r),i===null&&Bt&&(l=r.stateNode=ST(r.type,r.pendingProps,xt.current),Xe=r,Gn=!0,f=ie,nr(r.type)?(lp=f,ie=Yn(l.firstChild)):ie=f),We(i,r,r.pendingProps.children,o),ch(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Bt&&((f=l=ie)&&(l=EI(l,r.type,r.pendingProps,Gn),l!==null?(r.stateNode=l,Xe=r,ie=Yn(l.firstChild),Gn=!1,f=!0):f=!1),f||Fs(r)),Br(r),f=r.type,m=r.pendingProps,_=i!==null?i.memoizedProps:null,l=m.children,ip(f,m)?l=null:_!==null&&ip(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=nm(i,r,kC,null,null,o),lu._currentValue=f),ch(i,r),We(i,r,l,o),r.child;case 6:return i===null&&Bt&&((i=o=ie)&&(o=SI(o,r.pendingProps,Gn),o!==null?(r.stateNode=o,Xe=r,ie=null,i=!0):i=!1),i||Fs(r)),null;case 13:return h0(i,r,o);case 4:return Pe(r,r.stateNode.containerInfo),l=r.pendingProps,i===null?r.child=ha(r,null,l,o):We(i,r,l,o),r.child;case 11:return n0(i,r,r.type,r.pendingProps,o);case 7:return We(i,r,r.pendingProps,o),r.child;case 8:return We(i,r,r.pendingProps.children,o),r.child;case 12:return We(i,r,r.pendingProps.children,o),r.child;case 10:return l=r.pendingProps,qs(r,r.type,l.value),We(i,r,l.children,o),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,oa(r),f=$e(f),l=l(f),r.flags|=1,We(i,r,l,o),r.child;case 14:return i0(i,r,r.type,r.pendingProps,o);case 15:return s0(i,r,r.type,r.pendingProps,o);case 19:return d0(i,r,o);case 31:return HC(i,r,o);case 22:return r0(i,r,o,r.pendingProps);case 24:return oa(r),l=$e(Ce),i===null?(f=Kd(),f===null&&(f=ne,m=Hd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),r.memoizedState={parent:l,cache:f},Qd(r),qs(r,Ce,f)):((i.lanes&o)!==0&&(Xd(i,r),Fl(r,null,null,o),jl()),f=i.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),qs(r,Ce,l)):(l=m.cache,qs(r,Ce,l),l!==f.cache&&qd(r,[Ce],o,!0))),We(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ls(i){i.flags|=4}function Dm(i,r,o,l,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(j0())i.flags|=8192;else throw ca=Xc,Yd}else i.flags&=-16777217}function p0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!DT(r))if(j0())i.flags|=8192;else throw ca=Xc,Yd}function fh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?vc():536870912,i.lanes|=r,po|=r)}function Ql(i,r){if(!Bt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function se(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,l=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=o,r}function KC(i,r,o){var l=r.pendingProps;switch(Ud(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(r),null;case 1:return se(r),null;case 3:return o=r.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ss(Ce),oe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(eo(r)?ls(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,zd())),se(r),null;case 26:var f=r.type,m=r.memoizedState;return i===null?(ls(r),m!==null?(se(r),p0(r,m)):(se(r),Dm(r,f,null,l,o))):m?m!==i.memoizedState?(ls(r),se(r),p0(r,m)):(se(r),r.flags&=-16777217):(i=i.memoizedProps,i!==l&&ls(r),se(r),Dm(r,f,i,l,o)),null;case 27:if(Na(r),o=xt.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&ls(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return se(r),null}i=ft.current,eo(r)?Qv(r):(i=ST(f,l,o),r.stateNode=i,ls(r))}return se(r),null;case 5:if(Na(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&ls(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return se(r),null}if(m=ft.current,eo(r))Qv(r);else{var _=Ch(xt.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}m[be]=r,m[Fe]=l;t:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break t;for(;_.sibling===null;){if(_.return===null||_.return===r)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=m;t:switch(Ze(m,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&ls(r)}}return se(r),Dm(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==l&&ls(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(i=xt.current,eo(r)){if(i=r.stateNode,o=r.memoizedProps,l=null,f=Xe,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[be]=r,i=!!(i.nodeValue===o||l!==null&&l.suppressHydrationWarning===!0||hT(i.nodeValue,o)),i||Fs(r,!0)}else i=Ch(i).createTextNode(l),i[be]=r,r.stateNode=i}return se(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(l=eo(r),o!==null){if(i===null){if(!l)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[be]=r}else ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;se(r),i=!1}else o=zd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(xn(r),r):(xn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return se(r),null;case 13:if(l=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=eo(r),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[be]=r}else ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;se(r),f=!1}else f=zd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(xn(r),r):(xn(r),null)}return xn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=l!==null,i=i!==null&&i.memoizedState!==null,o&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),fh(r,r.updateQueue),se(r),null);case 4:return oe(),i===null&&Zm(r.stateNode.containerInfo),se(r),null;case 10:return ss(r.type),se(r),null;case 19:if(it(ve),l=r.memoizedState,l===null)return se(r),null;if(f=(r.flags&128)!==0,m=l.rendering,m===null)if(f)Ql(l,!1);else{if(me!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(m=Jc(i),m!==null){for(r.flags|=128,Ql(l,!1),i=m.updateQueue,r.updateQueue=i,fh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)qv(o,i),o=o.sibling;return ct(ve,ve.current&1|2),Bt&&ns(r,l.treeForkCount),r.child}i=i.sibling}l.tail!==null&&cn()>yh&&(r.flags|=128,f=!0,Ql(l,!1),r.lanes=4194304)}else{if(!f)if(i=Jc(m),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,fh(r,i),Ql(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Bt)return se(r),null}else 2*cn()-l.renderingStartTime>yh&&o!==536870912&&(r.flags|=128,f=!0,Ql(l,!1),r.lanes=4194304);l.isBackwards?(m.sibling=r.child,r.child=m):(i=l.last,i!==null?i.sibling=m:r.child=m,l.last=m)}return l.tail!==null?(i=l.tail,l.rendering=i,l.tail=i.sibling,l.renderingStartTime=cn(),i.sibling=null,o=ve.current,ct(ve,f?o&1|2:o&1),Bt&&ns(r,l.treeForkCount),i):(se(r),null);case 22:case 23:return xn(r),Jd(),l=r.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(o&536870912)!==0&&(r.flags&128)===0&&(se(r),r.subtreeFlags&6&&(r.flags|=8192)):se(r),o=r.updateQueue,o!==null&&fh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==o&&(r.flags|=2048),i!==null&&it(la),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ss(Ce),se(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function YC(i,r){switch(Ud(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ss(Ce),oe(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Na(r),null;case 31:if(r.memoizedState!==null){if(xn(r),r.alternate===null)throw Error(s(340));ra()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(xn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ra()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return it(ve),null;case 4:return oe(),null;case 10:return ss(r.type),null;case 22:case 23:return xn(r),Jd(),i!==null&&it(la),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ss(Ce),null;case 25:return null;default:return null}}function g0(i,r){switch(Ud(r),r.tag){case 3:ss(Ce),oe();break;case 26:case 27:case 5:Na(r);break;case 4:oe();break;case 31:r.memoizedState!==null&&xn(r);break;case 13:xn(r);break;case 19:it(ve);break;case 10:ss(r.type);break;case 22:case 23:xn(r),Jd(),i!==null&&it(la);break;case 24:ss(Ce)}}function Xl(i,r){try{var o=r.updateQueue,l=o!==null?o.lastEffect:null;if(l!==null){var f=l.next;o=f;do{if((o.tag&i)===i){l=void 0;var m=o.create,_=o.inst;l=m(),_.destroy=l}o=o.next}while(o!==f)}}catch(A){Xt(r,r.return,A)}}function Xs(i,r,o){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&i)===i){var _=l.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=r;var D=o,F=A;try{F()}catch(W){Xt(f,D,W)}}}l=l.next}while(l!==m)}}catch(W){Xt(r,r.return,W)}}function y0(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{o_(r,o)}catch(l){Xt(i,i.return,l)}}}function v0(i,r,o){o.props=da(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(l){Xt(i,r,l)}}function $l(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof o=="function"?i.refCleanup=o(l):o.current=l}}catch(f){Xt(i,r,f)}}function Li(i,r){var o=i.ref,l=i.refCleanup;if(o!==null)if(typeof l=="function")try{l()}catch(f){Xt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Xt(i,r,f)}else o.current=null}function _0(i){var r=i.type,o=i.memoizedProps,l=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&l.focus();break t;case"img":o.src?l.src=o.src:o.srcSet&&(l.srcset=o.srcSet)}}catch(f){Xt(i,i.return,f)}}function Vm(i,r,o){try{var l=i.stateNode;pI(l,i.type,o,r),l[Fe]=r}catch(f){Xt(i,i.return,f)}}function T0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&nr(i.type)||i.tag===4}function Mm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||T0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&nr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Nm(i,r,o){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ii));else if(l!==4&&(l===27&&nr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Nm(i,r,o),i=i.sibling;i!==null;)Nm(i,r,o),i=i.sibling}function dh(i,r,o){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(l!==4&&(l===27&&nr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(dh(i,r,o),i=i.sibling;i!==null;)dh(i,r,o),i=i.sibling}function E0(i){var r=i.stateNode,o=i.memoizedProps;try{for(var l=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ze(r,l,o),r[be]=i,r[Fe]=o}catch(m){Xt(i,i.return,m)}}var us=!1,De=!1,Om=!1,S0=typeof WeakSet=="function"?WeakSet:Set,He=null;function QC(i,r){if(i=i.containerInfo,ep=Oh,i=Ov(i),Cd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break t}var _=0,A=-1,D=-1,F=0,W=0,nt=i,G=null;e:for(;;){for(var Q;nt!==o||f!==0&&nt.nodeType!==3||(A=_+f),nt!==m||l!==0&&nt.nodeType!==3||(D=_+l),nt.nodeType===3&&(_+=nt.nodeValue.length),(Q=nt.firstChild)!==null;)G=nt,nt=Q;for(;;){if(nt===i)break e;if(G===o&&++F===f&&(A=_),G===m&&++W===l&&(D=_),(Q=nt.nextSibling)!==null)break;nt=G,G=nt.parentNode}nt=Q}o=A===-1||D===-1?null:{start:A,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(np={focusedElem:i,selectionRange:o},Oh=!1,He=r;He!==null;)if(r=He,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,He=i;else for(;He!==null;){switch(r=He,m=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,o=r,f=m.memoizedProps,m=m.memoizedState,l=o.stateNode;try{var mt=da(o.type,f);i=l.getSnapshotBeforeUpdate(mt,m),l.__reactInternalSnapshotBeforeUpdate=i}catch(Tt){Xt(o,o.return,Tt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)rp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":rp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,He=i;break}He=r.return}}function A0(i,r,o){var l=o.flags;switch(o.tag){case 0:case 11:case 15:hs(i,o),l&4&&Xl(5,o);break;case 1:if(hs(i,o),l&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(_){Xt(o,o.return,_)}else{var f=da(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(_){Xt(o,o.return,_)}}l&64&&y0(o),l&512&&$l(o,o.return);break;case 3:if(hs(i,o),l&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{o_(i,r)}catch(_){Xt(o,o.return,_)}}break;case 27:r===null&&l&4&&E0(o);case 26:case 5:hs(i,o),r===null&&l&4&&_0(o),l&512&&$l(o,o.return);break;case 12:hs(i,o);break;case 31:hs(i,o),l&4&&R0(i,o);break;case 13:hs(i,o),l&4&&C0(i,o),l&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=iI.bind(null,o),AI(i,o))));break;case 22:if(l=o.memoizedState!==null||us,!l){r=r!==null&&r.memoizedState!==null||De,f=us;var m=De;us=l,(De=r)&&!m?fs(i,o,(o.subtreeFlags&8772)!==0):hs(i,o),us=f,De=m}break;case 30:break;default:hs(i,o)}}function b0(i){var r=i.alternate;r!==null&&(i.alternate=null,b0(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ua(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ue=null,vn=!1;function cs(i,r,o){for(o=o.child;o!==null;)w0(i,r,o),o=o.sibling}function w0(i,r,o){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(Jn,o)}catch{}switch(o.tag){case 26:De||Li(o,r),cs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:De||Li(o,r);var l=ue,f=vn;nr(o.type)&&(ue=o.stateNode,vn=!1),cs(i,r,o),ru(o.stateNode),ue=l,vn=f;break;case 5:De||Li(o,r);case 6:if(l=ue,f=vn,ue=null,cs(i,r,o),ue=l,vn=f,ue!==null)if(vn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(o.stateNode)}catch(m){Xt(o,r,m)}else try{ue.removeChild(o.stateNode)}catch(m){Xt(o,r,m)}break;case 18:ue!==null&&(vn?(i=ue,yT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Ao(i)):yT(ue,o.stateNode));break;case 4:l=ue,f=vn,ue=o.stateNode.containerInfo,vn=!0,cs(i,r,o),ue=l,vn=f;break;case 0:case 11:case 14:case 15:Xs(2,o,r),De||Xs(4,o,r),cs(i,r,o);break;case 1:De||(Li(o,r),l=o.stateNode,typeof l.componentWillUnmount=="function"&&v0(o,r,l)),cs(i,r,o);break;case 21:cs(i,r,o);break;case 22:De=(l=De)||o.memoizedState!==null,cs(i,r,o),De=l;break;default:cs(i,r,o)}}function R0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Ao(i)}catch(o){Xt(r,r.return,o)}}}function C0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ao(i)}catch(o){Xt(r,r.return,o)}}function XC(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new S0),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new S0),r;default:throw Error(s(435,i.tag))}}function mh(i,r){var o=XC(i);r.forEach(function(l){if(!o.has(l)){o.add(l);var f=sI.bind(null,i,l);l.then(f,f)}})}function _n(i,r){var o=r.deletions;if(o!==null)for(var l=0;l<o.length;l++){var f=o[l],m=i,_=r,A=_;t:for(;A!==null;){switch(A.tag){case 27:if(nr(A.type)){ue=A.stateNode,vn=!1;break t}break;case 5:ue=A.stateNode,vn=!1;break t;case 3:case 4:ue=A.stateNode.containerInfo,vn=!0;break t}A=A.return}if(ue===null)throw Error(s(160));w0(m,_,f),ue=null,vn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)I0(r,i),r=r.sibling}var ui=null;function I0(i,r){var o=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:_n(r,i),Tn(i),l&4&&(Xs(3,i,i.return),Xl(3,i),Xs(5,i,i.return));break;case 1:_n(r,i),Tn(i),l&512&&(De||o===null||Li(o,o.return)),l&64&&us&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?l:o.concat(l))));break;case 26:var f=ui;if(_n(r,i),Tn(i),l&512&&(De||o===null||Li(o,o.return)),l&4){var m=o!==null?o.memoizedState:null;if(l=i.memoizedState,o===null)if(l===null)if(i.stateNode===null){t:{l=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ai]||m[be]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Ze(m,l,o),m[be]=i,we(m),l=m;break t;case"link":var _=IT("link","href",f).get(l+(o.href||""));if(_){for(var A=0;A<_.length;A++)if(m=_[A],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(A,1);break e}}m=f.createElement(l),Ze(m,l,o),f.head.appendChild(m);break;case"meta":if(_=IT("meta","content",f).get(l+(o.content||""))){for(A=0;A<_.length;A++)if(m=_[A],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(A,1);break e}}m=f.createElement(l),Ze(m,l,o),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[be]=i,we(m),l=m}i.stateNode=l}else xT(f,i.type,i.stateNode);else i.stateNode=CT(f,l,i.memoizedProps);else m!==l?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,l===null?xT(f,i.type,i.stateNode):CT(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&Vm(i,i.memoizedProps,o.memoizedProps)}break;case 27:_n(r,i),Tn(i),l&512&&(De||o===null||Li(o,o.return)),o!==null&&l&4&&Vm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(_n(r,i),Tn(i),l&512&&(De||o===null||Li(o,o.return)),i.flags&32){f=i.stateNode;try{yn(f,"")}catch(mt){Xt(i,i.return,mt)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,Vm(i,f,o!==null?o.memoizedProps:f)),l&1024&&(Om=!0);break;case 6:if(_n(r,i),Tn(i),l&4){if(i.stateNode===null)throw Error(s(162));l=i.memoizedProps,o=i.stateNode;try{o.nodeValue=l}catch(mt){Xt(i,i.return,mt)}}break;case 3:if(Dh=null,f=ui,ui=Ih(r.containerInfo),_n(r,i),ui=f,Tn(i),l&4&&o!==null&&o.memoizedState.isDehydrated)try{Ao(r.containerInfo)}catch(mt){Xt(i,i.return,mt)}Om&&(Om=!1,x0(i));break;case 4:l=ui,ui=Ih(i.stateNode.containerInfo),_n(r,i),Tn(i),ui=l;break;case 12:_n(r,i),Tn(i);break;case 31:_n(r,i),Tn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,mh(i,l)));break;case 13:_n(r,i),Tn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(gh=cn()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,mh(i,l)));break;case 22:f=i.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,F=us,W=De;if(us=F||f,De=W||D,_n(r,i),De=W,us=F,Tn(i),l&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||D||us||De||ma(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){D=o=r;try{if(m=D.stateNode,f)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=D.stateNode;var nt=D.memoizedProps.style,G=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;A.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(mt){Xt(D,D.return,mt)}}}else if(r.tag===6){if(o===null){D=r;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(mt){Xt(D,D.return,mt)}}}else if(r.tag===18){if(o===null){D=r;try{var Q=D.stateNode;f?vT(Q,!0):vT(D.stateNode,!1)}catch(mt){Xt(D,D.return,mt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=i.updateQueue,l!==null&&(o=l.retryQueue,o!==null&&(l.retryQueue=null,mh(i,o))));break;case 19:_n(r,i),Tn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,mh(i,l)));break;case 30:break;case 21:break;default:_n(r,i),Tn(i)}}function Tn(i){var r=i.flags;if(r&2){try{for(var o,l=i.return;l!==null;){if(T0(l)){o=l;break}l=l.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,m=Mm(i);dh(i,m,f);break;case 5:var _=o.stateNode;o.flags&32&&(yn(_,""),o.flags&=-33);var A=Mm(i);dh(i,A,_);break;case 3:case 4:var D=o.stateNode.containerInfo,F=Mm(i);Nm(i,F,D);break;default:throw Error(s(161))}}catch(W){Xt(i,i.return,W)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function x0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;x0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function hs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)A0(i,r.alternate,r),r=r.sibling}function ma(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Xs(4,r,r.return),ma(r);break;case 1:Li(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&v0(r,r.return,o),ma(r);break;case 27:ru(r.stateNode);case 26:case 5:Li(r,r.return),ma(r);break;case 22:r.memoizedState===null&&ma(r);break;case 30:ma(r);break;default:ma(r)}i=i.sibling}}function fs(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=i,m=r,_=m.flags;switch(m.tag){case 0:case 11:case 15:fs(f,m,o),Xl(4,m);break;case 1:if(fs(f,m,o),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){Xt(l,l.return,F)}if(l=m,f=l.updateQueue,f!==null){var A=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)a_(D[f],A)}catch(F){Xt(l,l.return,F)}}o&&_&64&&y0(m),$l(m,m.return);break;case 27:E0(m);case 26:case 5:fs(f,m,o),o&&l===null&&_&4&&_0(m),$l(m,m.return);break;case 12:fs(f,m,o);break;case 31:fs(f,m,o),o&&_&4&&R0(f,m);break;case 13:fs(f,m,o),o&&_&4&&C0(f,m);break;case 22:m.memoizedState===null&&fs(f,m,o),$l(m,m.return);break;case 30:break;default:fs(f,m,o)}r=r.sibling}}function Pm(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&kl(o))}function km(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&kl(i))}function ci(i,r,o,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)D0(i,r,o,l),r=r.sibling}function D0(i,r,o,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ci(i,r,o,l),f&2048&&Xl(9,r);break;case 1:ci(i,r,o,l);break;case 3:ci(i,r,o,l),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&kl(i)));break;case 12:if(f&2048){ci(i,r,o,l),i=r.stateNode;try{var m=r.memoizedProps,_=m.id,A=m.onPostCommit;typeof A=="function"&&A(_,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){Xt(r,r.return,D)}}else ci(i,r,o,l);break;case 31:ci(i,r,o,l);break;case 13:ci(i,r,o,l);break;case 23:break;case 22:m=r.stateNode,_=r.alternate,r.memoizedState!==null?m._visibility&2?ci(i,r,o,l):Wl(i,r):m._visibility&2?ci(i,r,o,l):(m._visibility|=2,ho(i,r,o,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Pm(_,r);break;case 24:ci(i,r,o,l),f&2048&&km(r.alternate,r);break;default:ci(i,r,o,l)}}function ho(i,r,o,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=i,_=r,A=o,D=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:ho(m,_,A,D,f),Xl(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?ho(m,_,A,D,f):Wl(m,_):(W._visibility|=2,ho(m,_,A,D,f)),f&&F&2048&&Pm(_.alternate,_);break;case 24:ho(m,_,A,D,f),f&&F&2048&&km(_.alternate,_);break;default:ho(m,_,A,D,f)}r=r.sibling}}function Wl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,l=r,f=l.flags;switch(l.tag){case 22:Wl(o,l),f&2048&&Pm(l.alternate,l);break;case 24:Wl(o,l),f&2048&&km(l.alternate,l);break;default:Wl(o,l)}r=r.sibling}}var Zl=8192;function fo(i,r,o){if(i.subtreeFlags&Zl)for(i=i.child;i!==null;)V0(i,r,o),i=i.sibling}function V0(i,r,o){switch(i.tag){case 26:fo(i,r,o),i.flags&Zl&&i.memoizedState!==null&&PI(o,ui,i.memoizedState,i.memoizedProps);break;case 5:fo(i,r,o);break;case 3:case 4:var l=ui;ui=Ih(i.stateNode.containerInfo),fo(i,r,o),ui=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=Zl,Zl=16777216,fo(i,r,o),Zl=l):fo(i,r,o));break;default:fo(i,r,o)}}function M0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Jl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var l=r[o];He=l,O0(l,i)}M0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)N0(i),i=i.sibling}function N0(i){switch(i.tag){case 0:case 11:case 15:Jl(i),i.flags&2048&&Xs(9,i,i.return);break;case 3:Jl(i);break;case 12:Jl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,ph(i)):Jl(i);break;default:Jl(i)}}function ph(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var l=r[o];He=l,O0(l,i)}M0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Xs(8,r,r.return),ph(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,ph(r));break;default:ph(r)}i=i.sibling}}function O0(i,r){for(;He!==null;){var o=He;switch(o.tag){case 0:case 11:case 15:Xs(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var l=o.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:kl(o.memoizedState.cache)}if(l=o.child,l!==null)l.return=o,He=l;else t:for(o=i;He!==null;){l=He;var f=l.sibling,m=l.return;if(b0(l),l===o){He=null;break t}if(f!==null){f.return=m,He=f;break t}He=m}}}var $C={getCacheForType:function(i){var r=$e(Ce),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return $e(Ce).controller.signal}},WC=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ne=null,Vt=null,Ot=0,Qt=0,Dn=null,$s=!1,mo=!1,Lm=!1,ds=0,me=0,Ws=0,pa=0,Um=0,Vn=0,po=0,tu=null,En=null,Bm=!1,gh=0,P0=0,yh=1/0,vh=null,Zs=null,Le=0,Js=null,go=null,ms=0,zm=0,jm=null,k0=null,eu=0,Fm=null;function Mn(){return(Kt&2)!==0&&Ot!==0?Ot&-Ot:Z.T!==null?Qm():_c()}function L0(){if(Vn===0)if((Ot&536870912)===0||Bt){var i=Fr;Fr<<=1,(Fr&3932160)===0&&(Fr=262144),Vn=i}else Vn=536870912;return i=In.current,i!==null&&(i.flags|=32),Vn}function Sn(i,r,o){(i===ne&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)&&(yo(i,0),tr(i,Ot,Vn,!1)),qr(i,o),((Kt&2)===0||i!==ne)&&(i===ne&&((Kt&2)===0&&(pa|=o),me===4&&tr(i,Ot,Vn,!1)),Ui(i))}function U0(i,r,o){if((Kt&6)!==0)throw Error(s(327));var l=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ti(i,r),f=l?tI(i,r):Hm(i,r,!0),m=l;do{if(f===0){mo&&!l&&tr(i,r,0,!1);break}else{if(o=i.current.alternate,m&&!ZC(o)){f=Hm(i,r,!1),m=!1;continue}if(f===2){if(m=r,i.errorRecoveryDisabledLanes&m)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;t:{var A=i;f=tu;var D=A.current.memoizedState.isDehydrated;if(D&&(yo(A,_).flags|=256),_=Hm(A,_,!1),_!==2){if(Lm&&!D){A.errorRecoveryDisabledLanes|=m,pa|=m,f=4;break t}m=En,En=f,m!==null&&(En===null?En=m:En.push.apply(En,m))}f=_}if(m=!1,f!==2)continue}}if(f===1){yo(i,0),tr(i,r,0,!0);break}t:{switch(l=i,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:tr(l,r,Vn,!$s);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=gh+300-cn(),10<f)){if(tr(l,r,Vn,!$s),Ti(l,0,!0)!==0)break t;ms=r,l.timeoutHandle=pT(B0.bind(null,l,o,En,vh,Bm,r,Vn,pa,po,$s,m,"Throttled",-0,0),f);break t}B0(l,o,En,vh,Bm,r,Vn,pa,po,$s,m,null,-0,0)}}break}while(!0);Ui(i)}function B0(i,r,o,l,f,m,_,A,D,F,W,nt,G,Q){if(i.timeoutHandle=-1,nt=r.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},V0(r,m,nt);var mt=(m&62914560)===m?gh-cn():(m&4194048)===m?P0-cn():0;if(mt=kI(nt,mt),mt!==null){ms=m,i.cancelPendingCommit=mt(Y0.bind(null,i,r,m,o,l,f,_,A,D,W,nt,null,G,Q)),tr(i,m,_,!F);return}}Y0(i,r,m,o,l,f,_,A,D)}function ZC(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var l=0;l<o.length;l++){var f=o[l],m=f.getSnapshot;f=f.value;try{if(!Rn(m(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function tr(i,r,o,l){r&=~Um,r&=~pa,i.suspendedLanes|=r,i.pingedLanes&=~r,l&&(i.warmLanes|=r),l=i.expirationTimes;for(var f=r;0<f;){var m=31-ge(f),_=1<<m;l[m]=-1,f&=~_}o!==0&&Hr(i,o,r)}function _h(){return(Kt&6)===0?(nu(0),!1):!0}function qm(){if(Vt!==null){if(Qt===0)var i=Vt.return;else i=Vt,is=aa=null,rm(i),ao=null,Ul=0,i=Vt;for(;i!==null;)g0(i.alternate,i),i=i.return;Vt=null}}function yo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,vI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),ms=0,qm(),ne=i,Vt=o=es(i.current,null),Ot=r,Qt=0,Dn=null,$s=!1,mo=ti(i,r),Lm=!1,po=Vn=Um=pa=Ws=me=0,En=tu=null,Bm=!1,(r&8)!==0&&(r|=r&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=r;0<l;){var f=31-ge(l),m=1<<f;r|=i[f],l&=~m}return ds=r,zc(),o}function z0(i,r){Ct=null,Z.H=Kl,r===ro||r===Qc?(r=n_(),Qt=3):r===Yd?(r=n_(),Qt=4):Qt=r===Em?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Dn=r,Vt===null&&(me=1,lh(i,Fn(r,i.current)))}function j0(){var i=In.current;return i===null?!0:(Ot&4194048)===Ot?Kn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?i===Kn:!1}function F0(){var i=Z.H;return Z.H=Kl,i===null?Kl:i}function q0(){var i=Z.A;return Z.A=$C,i}function Th(){me=4,$s||(Ot&4194048)!==Ot&&In.current!==null||(mo=!0),(Ws&134217727)===0&&(pa&134217727)===0||ne===null||tr(ne,Ot,Vn,!1)}function Hm(i,r,o){var l=Kt;Kt|=2;var f=F0(),m=q0();(ne!==i||Ot!==r)&&(vh=null,yo(i,r)),r=!1;var _=me;t:do try{if(Qt!==0&&Vt!==null){var A=Vt,D=Dn;switch(Qt){case 8:qm(),_=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(r=!0);var F=Qt;if(Qt=0,Dn=null,vo(i,A,D,F),o&&mo){_=0;break t}break;default:F=Qt,Qt=0,Dn=null,vo(i,A,D,F)}}JC(),_=me;break}catch(W){z0(i,W)}while(!0);return r&&i.shellSuspendCounter++,is=aa=null,Kt=l,Z.H=f,Z.A=m,Vt===null&&(ne=null,Ot=0,zc()),_}function JC(){for(;Vt!==null;)H0(Vt)}function tI(i,r){var o=Kt;Kt|=2;var l=F0(),f=q0();ne!==i||Ot!==r?(vh=null,yh=cn()+500,yo(i,r)):mo=ti(i,r);t:do try{if(Qt!==0&&Vt!==null){r=Vt;var m=Dn;e:switch(Qt){case 1:Qt=0,Dn=null,vo(i,r,m,1);break;case 2:case 9:if(t_(m)){Qt=0,Dn=null,G0(r);break}r=function(){Qt!==2&&Qt!==9||ne!==i||(Qt=7),Ui(i)},m.then(r,r);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:t_(m)?(Qt=0,Dn=null,G0(r)):(Qt=0,Dn=null,vo(i,r,m,7));break;case 5:var _=null;switch(Vt.tag){case 26:_=Vt.memoizedState;case 5:case 27:var A=Vt;if(_?DT(_):A.stateNode.complete){Qt=0,Dn=null;var D=A.sibling;if(D!==null)Vt=D;else{var F=A.return;F!==null?(Vt=F,Eh(F)):Vt=null}break e}}Qt=0,Dn=null,vo(i,r,m,5);break;case 6:Qt=0,Dn=null,vo(i,r,m,6);break;case 8:qm(),me=6;break t;default:throw Error(s(462))}}eI();break}catch(W){z0(i,W)}while(!0);return is=aa=null,Z.H=l,Z.A=f,Kt=o,Vt!==null?0:(ne=null,Ot=0,zc(),me)}function eI(){for(;Vt!==null&&!Td();)H0(Vt)}function H0(i){var r=m0(i.alternate,i,ds);i.memoizedProps=i.pendingProps,r===null?Eh(i):Vt=r}function G0(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=l0(o,r,r.pendingProps,r.type,void 0,Ot);break;case 11:r=l0(o,r,r.pendingProps,r.type.render,r.ref,Ot);break;case 5:rm(r);default:g0(o,r),r=Vt=qv(r,ds),r=m0(o,r,ds)}i.memoizedProps=i.pendingProps,r===null?Eh(i):Vt=r}function vo(i,r,o,l){is=aa=null,rm(r),ao=null,Ul=0;var f=r.return;try{if(qC(i,f,r,o,Ot)){me=1,lh(i,Fn(o,i.current)),Vt=null;return}}catch(m){if(f!==null)throw Vt=f,m;me=1,lh(i,Fn(o,i.current)),Vt=null;return}r.flags&32768?(Bt||l===1?i=!0:mo||(Ot&536870912)!==0?i=!1:($s=i=!0,(l===2||l===9||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),K0(r,i)):Eh(r)}function Eh(i){var r=i;do{if((r.flags&32768)!==0){K0(r,$s);return}i=r.return;var o=KC(r.alternate,r,ds);if(o!==null){Vt=o;return}if(r=r.sibling,r!==null){Vt=r;return}Vt=r=i}while(r!==null);me===0&&(me=5)}function K0(i,r){do{var o=YC(i.alternate,i);if(o!==null){o.flags&=32767,Vt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Vt=i;return}Vt=i=o}while(i!==null);me=6,Vt=null}function Y0(i,r,o,l,f,m,_,A,D){i.cancelPendingCommit=null;do Sh();while(Le!==0);if((Kt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=Md,Ad(i,o,m,_,A,D),i===ne&&(Vt=ne=null,Ot=0),go=r,Js=i,ms=o,zm=m,jm=f,k0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,rI(Ds,function(){return Z0(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null,f=rt.p,rt.p=2,_=Kt,Kt|=4;try{QC(i,r,o)}finally{Kt=_,rt.p=f,Z.T=l}}Le=1,Q0(),X0(),$0()}}function Q0(){if(Le===1){Le=0;var i=Js,r=go,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var l=rt.p;rt.p=2;var f=Kt;Kt|=4;try{I0(r,i);var m=np,_=Ov(i.containerInfo),A=m.focusedElem,D=m.selectionRange;if(_!==A&&A&&A.ownerDocument&&Nv(A.ownerDocument.documentElement,A)){if(D!==null&&Cd(A)){var F=D.start,W=D.end;if(W===void 0&&(W=F),"selectionStart"in A)A.selectionStart=F,A.selectionEnd=Math.min(W,A.value.length);else{var nt=A.ownerDocument||document,G=nt&&nt.defaultView||window;if(G.getSelection){var Q=G.getSelection(),mt=A.textContent.length,Tt=Math.min(D.start,mt),Jt=D.end===void 0?Tt:Math.min(D.end,mt);!Q.extend&&Tt>Jt&&(_=Jt,Jt=Tt,Tt=_);var L=Mv(A,Tt),N=Mv(A,Jt);if(L&&N&&(Q.rangeCount!==1||Q.anchorNode!==L.node||Q.anchorOffset!==L.offset||Q.focusNode!==N.node||Q.focusOffset!==N.offset)){var j=nt.createRange();j.setStart(L.node,L.offset),Q.removeAllRanges(),Tt>Jt?(Q.addRange(j),Q.extend(N.node,N.offset)):(j.setEnd(N.node,N.offset),Q.addRange(j))}}}}for(nt=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&nt.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<nt.length;A++){var tt=nt[A];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Oh=!!ep,np=ep=null}finally{Kt=f,rt.p=l,Z.T=o}}i.current=r,Le=2}}function X0(){if(Le===2){Le=0;var i=Js,r=go,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var l=rt.p;rt.p=2;var f=Kt;Kt|=4;try{A0(i,r.alternate,r)}finally{Kt=f,rt.p=l,Z.T=o}}Le=3}}function $0(){if(Le===4||Le===3){Le=0,fc();var i=Js,r=go,o=ms,l=k0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Le=5:(Le=0,go=Js=null,W0(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Zs=null),Wi(o),r=r.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(Jn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Z.T,f=rt.p,rt.p=2,Z.T=null;try{for(var m=i.onRecoverableError,_=0;_<l.length;_++){var A=l[_];m(A.value,{componentStack:A.stack})}}finally{Z.T=r,rt.p=f}}(ms&3)!==0&&Sh(),Ui(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===Fm?eu++:(eu=0,Fm=i):eu=0,nu(0)}}function W0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,kl(r)))}function Sh(){return Q0(),X0(),$0(),Z0()}function Z0(){if(Le!==5)return!1;var i=Js,r=zm;zm=0;var o=Wi(ms),l=Z.T,f=rt.p;try{rt.p=32>o?32:o,Z.T=null,o=jm,jm=null;var m=Js,_=ms;if(Le=0,go=Js=null,ms=0,(Kt&6)!==0)throw Error(s(331));var A=Kt;if(Kt|=4,N0(m.current),D0(m,m.current,_,o),Kt=A,nu(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(Jn,m)}catch{}return!0}finally{rt.p=f,Z.T=l,W0(i,r)}}function J0(i,r,o){r=Fn(o,r),r=Tm(i.stateNode,r,2),i=Ks(i,r,2),i!==null&&(qr(i,2),Ui(i))}function Xt(i,r,o){if(i.tag===3)J0(i,i,o);else for(;r!==null;){if(r.tag===3){J0(r,i,o);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zs===null||!Zs.has(l))){i=Fn(o,i),o=t0(2),l=Ks(r,o,2),l!==null&&(e0(o,l,r,i),qr(l,2),Ui(l));break}}r=r.return}}function Gm(i,r,o){var l=i.pingCache;if(l===null){l=i.pingCache=new WC;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(o)||(Lm=!0,f.add(o),i=nI.bind(null,i,r,o),r.then(i,i))}function nI(i,r,o){var l=i.pingCache;l!==null&&l.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ne===i&&(Ot&o)===o&&(me===4||me===3&&(Ot&62914560)===Ot&&300>cn()-gh?(Kt&2)===0&&yo(i,0):Um|=o,po===Ot&&(po=0)),Ui(i)}function tT(i,r){r===0&&(r=vc()),i=ia(i,r),i!==null&&(qr(i,r),Ui(i))}function iI(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),tT(i,o)}function sI(i,r){var o=0;switch(i.tag){case 31:case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),tT(i,o)}function rI(i,r){return ke(i,r)}var Ah=null,_o=null,Km=!1,bh=!1,Ym=!1,er=0;function Ui(i){i!==_o&&i.next===null&&(_o===null?Ah=_o=i:_o=_o.next=i),bh=!0,Km||(Km=!0,oI())}function nu(i,r){if(!Ym&&bh){Ym=!0;do for(var o=!1,l=Ah;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var _=l.suspendedLanes,A=l.pingedLanes;m=(1<<31-ge(42|i)+1)-1,m&=f&~(_&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,sT(l,m))}else m=Ot,m=Ti(l,l===ne?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||ti(l,m)||(o=!0,sT(l,m));l=l.next}while(o);Ym=!1}}function aI(){eT()}function eT(){bh=Km=!1;var i=0;er!==0&&yI()&&(i=er);for(var r=cn(),o=null,l=Ah;l!==null;){var f=l.next,m=nT(l,r);m===0?(l.next=null,o===null?Ah=f:o.next=f,f===null&&(_o=o)):(o=l,(i!==0||(m&3)!==0)&&(bh=!0)),l=f}Le!==0&&Le!==5||nu(i),er!==0&&(er=0)}function nT(i,r){for(var o=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var _=31-ge(m),A=1<<_,D=f[_];D===-1?((A&o)===0||(A&l)!==0)&&(f[_]=Sd(A,r)):D<=r&&(i.expiredLanes|=A),m&=~A}if(r=ne,o=Ot,o=Ti(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,o===0||i===r&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&xs(l),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ti(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(l!==null&&xs(l),Wi(o)){case 2:case 8:o=fl;break;case 32:o=Ds;break;case 268435456:o=dc;break;default:o=Ds}return l=iT.bind(null,i),o=ke(o,l),i.callbackPriority=r,i.callbackNode=o,r}return l!==null&&l!==null&&xs(l),i.callbackPriority=2,i.callbackNode=null,2}function iT(i,r){if(Le!==0&&Le!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Sh()&&i.callbackNode!==o)return null;var l=Ot;return l=Ti(i,i===ne?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(U0(i,l,r),nT(i,cn()),i.callbackNode!=null&&i.callbackNode===o?iT.bind(null,i):null)}function sT(i,r){if(Sh())return null;U0(i,r,!0)}function oI(){_I(function(){(Kt&6)!==0?ke(hl,aI):eT()})}function Qm(){if(er===0){var i=io;i===0&&(i=vi,vi<<=1,(vi&261888)===0&&(vi=256)),er=i}return er}function rT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Fa(""+i)}function aT(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function lI(i,r,o,l,f){if(r==="submit"&&o&&o.stateNode===f){var m=rT((f[Fe]||null).action),_=l.submitter;_&&(r=(r=_[Fe]||null)?rT(r.formAction):_.getAttribute("formAction"),r!==null&&(m=r,_=null));var A=new Vi("action","action",null,l,f);i.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(er!==0){var D=_?aT(f,_):new FormData(f);mm(o,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(A.preventDefault(),D=_?aT(f,_):new FormData(f),mm(o,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var Xm=0;Xm<Vd.length;Xm++){var $m=Vd[Xm],uI=$m.toLowerCase(),cI=$m[0].toUpperCase()+$m.slice(1);li(uI,"on"+cI)}li(Lv,"onAnimationEnd"),li(Uv,"onAnimationIteration"),li(Bv,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(RC,"onTransitionRun"),li(CC,"onTransitionStart"),li(IC,"onTransitionCancel"),li(zv,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(iu));function oT(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var l=i[o],f=l.event;l=l.listeners;t:{var m=void 0;if(r)for(var _=l.length-1;0<=_;_--){var A=l[_],D=A.instance,F=A.currentTarget;if(A=A.listener,D!==m&&f.isPropagationStopped())break t;m=A,f.currentTarget=F;try{m(f)}catch(W){Bc(W)}f.currentTarget=null,m=D}else for(_=0;_<l.length;_++){if(A=l[_],D=A.instance,F=A.currentTarget,A=A.listener,D!==m&&f.isPropagationStopped())break t;m=A,f.currentTarget=F;try{m(f)}catch(W){Bc(W)}f.currentTarget=null,m=D}}}}function Mt(i,r){var o=r[La];o===void 0&&(o=r[La]=new Set);var l=i+"__bubble";o.has(l)||(lT(r,i,2,!1),o.add(l))}function Wm(i,r,o){var l=0;r&&(l|=4),lT(o,i,l,r)}var wh="_reactListening"+Math.random().toString(36).slice(2);function Zm(i){if(!i[wh]){i[wh]=!0,pl.forEach(function(o){o!=="selectionchange"&&(hI.has(o)||Wm(o,!1,i),Wm(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[wh]||(r[wh]=!0,Wm("selectionchange",!1,r))}}function lT(i,r,o,l){switch(LT(r)){case 2:var f=BI;break;case 8:f=zI;break;default:f=dp}o=f.bind(null,r,o,i),f=void 0,!Xr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function Jm(i,r,o,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var A=l.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=bi(A),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=m=_;continue t}A=A.parentNode}}l=l.return}ks(function(){var F=m,W=Un(o),nt=[];t:{var G=jv.get(i);if(G!==void 0){var Q=Vi,mt=i;switch(i){case"keypress":if(Wr(o)===0)break t;case"keydown":case"keyup":Q=kc;break;case"focusin":mt="focus",Q=Jr;break;case"focusout":mt="blur",Q=Jr;break;case"beforeblur":case"afterblur":Q=Jr;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=v;break;case Lv:case Uv:case Bv:Q=xc;break;case zv:Q=b;break;case"scroll":case"scrollend":Q=Cl;break;case"wheel":Q=K;break;case"copy":case"cut":case"paste":Q=Dc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=ts;break;case"toggle":case"beforetoggle":Q=Rt}var Tt=(r&4)!==0,Jt=!Tt&&(i==="scroll"||i==="scrollend"),L=Tt?G!==null?G+"Capture":null:G;Tt=[];for(var N=F,j;N!==null;){var tt=N;if(j=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||j===null||L===null||(tt=si(N,L),tt!=null&&Tt.push(su(N,tt,j))),Jt)break;N=N.return}0<Tt.length&&(G=new Q(G,mt,null,o,W),nt.push({event:G,listeners:Tt}))}}if((r&7)===0){t:{if(G=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",G&&o!==bl&&(mt=o.relatedTarget||o.fromElement)&&(bi(mt)||mt[Si]))break t;if((Q||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(mt=o.relatedTarget||o.toElement,Q=F,mt=mt?bi(mt):null,mt!==null&&(Jt=u(mt),Tt=mt.tag,mt!==Jt||Tt!==5&&Tt!==27&&Tt!==6)&&(mt=null)):(Q=null,mt=F),Q!==mt)){if(Tt=Il,tt="onMouseLeave",L="onMouseEnter",N="mouse",(i==="pointerout"||i==="pointerover")&&(Tt=ts,tt="onPointerLeave",L="onPointerEnter",N="pointer"),Jt=Q==null?G:bn(Q),j=mt==null?G:bn(mt),G=new Tt(tt,N+"leave",Q,o,W),G.target=Jt,G.relatedTarget=j,tt=null,bi(W)===F&&(Tt=new Tt(L,N+"enter",mt,o,W),Tt.target=j,Tt.relatedTarget=Jt,tt=Tt),Jt=tt,Q&&mt)e:{for(Tt=fI,L=Q,N=mt,j=0,tt=L;tt;tt=Tt(tt))j++;tt=0;for(var vt=N;vt;vt=Tt(vt))tt++;for(;0<j-tt;)L=Tt(L),j--;for(;0<tt-j;)N=Tt(N),tt--;for(;j--;){if(L===N||N!==null&&L===N.alternate){Tt=L;break e}L=Tt(L),N=Tt(N)}Tt=null}else Tt=null;Q!==null&&uT(nt,G,Q,Tt,!1),mt!==null&&Jt!==null&&uT(nt,Jt,mt,Tt,!0)}}t:{if(G=F?bn(F):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var qt=Rv;else if(bv(G))if(Cv)qt=AC;else{qt=EC;var gt=TC}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&ja(F.elementType)&&(qt=Rv):qt=SC;if(qt&&(qt=qt(i,F))){wv(nt,qt,o,W);break t}gt&&gt(i,G,F),i==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&El(G,"number",G.value)}switch(gt=F?bn(F):window,i){case"focusin":(bv(gt)||gt.contentEditable==="true")&&(Xa=gt,Id=F,Nl=null);break;case"focusout":Nl=Id=Xa=null;break;case"mousedown":xd=!0;break;case"contextmenu":case"mouseup":case"dragend":xd=!1,Pv(nt,o,W);break;case"selectionchange":if(wC)break;case"keydown":case"keyup":Pv(nt,o,W)}var Dt;if(Gt)t:{switch(i){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else Qa?ta(i,o)&&(Pt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Pt="onCompositionStart");Pt&&(Oi&&o.locale!=="ko"&&(Qa||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&Qa&&(Dt=Rl()):(Di=W,wl="value"in Di?Di.value:Di.textContent,Qa=!0)),gt=Rh(F,Pt),0<gt.length&&(Pt=new Ni(Pt,i,null,o,W),nt.push({event:Pt,listeners:gt}),Dt?Pt.data=Dt:(Dt=Ya(o),Dt!==null&&(Pt.data=Dt)))),(Dt=zn?gC(i,o):yC(i,o))&&(Pt=Rh(F,"onBeforeInput"),0<Pt.length&&(gt=new Ni("onBeforeInput","beforeinput",null,o,W),nt.push({event:gt,listeners:Pt}),gt.data=Dt)),lI(nt,i,F,o,W)}oT(nt,r)})}function su(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Rh(i,r){for(var o=r+"Capture",l=[];i!==null;){var f=i,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=si(i,o),f!=null&&l.unshift(su(i,f,m)),f=si(i,r),f!=null&&l.push(su(i,f,m))),i.tag===3)return l;i=i.return}return[]}function fI(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function uT(i,r,o,l,f){for(var m=r._reactName,_=[];o!==null&&o!==l;){var A=o,D=A.alternate,F=A.stateNode;if(A=A.tag,D!==null&&D===l)break;A!==5&&A!==26&&A!==27||F===null||(D=F,f?(F=si(o,m),F!=null&&_.unshift(su(o,F,D))):f||(F=si(o,m),F!=null&&_.push(su(o,F,D)))),o=o.return}_.length!==0&&i.push({event:r,listeners:_})}var dI=/\r\n?/g,mI=/\u0000|\uFFFD/g;function cT(i){return(typeof i=="string"?i:""+i).replace(dI,`
`).replace(mI,"")}function hT(i,r){return r=cT(r),cT(i)===r}function Zt(i,r,o,l,f,m){switch(o){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||yn(i,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&yn(i,""+l);break;case"className":wn(i,"class",l);break;case"tabIndex":wn(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(i,o,l);break;case"style":Al(i,l,m);break;case"data":if(r!=="object"){wn(i,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(o);break}l=Fa(""+l),i.setAttribute(o,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(r!=="input"&&Zt(i,r,"name",f.name,f,null),Zt(i,r,"formEncType",f.formEncType,f,null),Zt(i,r,"formMethod",f.formMethod,f,null),Zt(i,r,"formTarget",f.formTarget,f,null)):(Zt(i,r,"encType",f.encType,f,null),Zt(i,r,"method",f.method,f,null),Zt(i,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(o);break}l=Fa(""+l),i.setAttribute(o,l);break;case"onClick":l!=null&&(i.onclick=ii);break;case"onScroll":l!=null&&Mt("scroll",i);break;case"onScrollEnd":l!=null&&Mt("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(o=l.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}o=Fa(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(o,""+l):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":l===!0?i.setAttribute(o,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(o,l):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(o,l):i.removeAttribute(o);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(o):i.setAttribute(o,l);break;case"popover":Mt("beforetoggle",i),Mt("toggle",i),Ba(i,"popover",l);break;case"xlinkActuate":Re(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Re(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Re(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Re(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Re(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Re(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Re(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Re(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Re(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ba(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Rc.get(o)||o,Ba(i,o,l))}}function tp(i,r,o,l,f,m){switch(o){case"style":Al(i,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(o=l.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof l=="string"?yn(i,l):(typeof l=="number"||typeof l=="bigint")&&yn(i,""+l);break;case"onScroll":l!=null&&Mt("scroll",i);break;case"onScrollEnd":l!=null&&Mt("scrollend",i);break;case"onClick":l!=null&&(i.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gl.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),m=i[Fe]||null,m=m!=null?m[o]:null,typeof m=="function"&&i.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,l,f);break t}o in i?i[o]=l:l===!0?i.setAttribute(o,""):Ba(i,o,l)}}}function Ze(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",i),Mt("load",i);var l=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var _=o[m];if(_!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Zt(i,r,m,_,o,null)}}f&&Zt(i,r,"srcSet",o.srcSet,o,null),l&&Zt(i,r,"src",o.src,o,null);return;case"input":Mt("invalid",i);var A=m=_=f=null,D=null,F=null;for(l in o)if(o.hasOwnProperty(l)){var W=o[l];if(W!=null)switch(l){case"name":f=W;break;case"type":_=W;break;case"checked":D=W;break;case"defaultChecked":F=W;break;case"value":m=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Zt(i,r,l,W,o,null)}}Ac(i,m,A,D,F,_,f,!1);return;case"select":Mt("invalid",i),l=_=m=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":_=A;break;case"multiple":l=A;default:Zt(i,r,f,A,o,null)}r=m,o=_,i.multiple=!!l,r!=null?Ms(i,!!l,r,!1):o!=null&&Ms(i,!!l,o,!0);return;case"textarea":Mt("invalid",i),m=f=l=null;for(_ in o)if(o.hasOwnProperty(_)&&(A=o[_],A!=null))switch(_){case"value":l=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Zt(i,r,_,A,o,null)}Ns(i,l,f,m);return;case"option":for(D in o)o.hasOwnProperty(D)&&(l=o[D],l!=null)&&(D==="selected"?i.selected=l&&typeof l!="function"&&typeof l!="symbol":Zt(i,r,D,l,o,null));return;case"dialog":Mt("beforetoggle",i),Mt("toggle",i),Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":Mt("load",i);break;case"video":case"audio":for(l=0;l<iu.length;l++)Mt(iu[l],i);break;case"image":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"embed":case"source":case"link":Mt("error",i),Mt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in o)if(o.hasOwnProperty(F)&&(l=o[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Zt(i,r,F,l,o,null)}return;default:if(ja(r)){for(W in o)o.hasOwnProperty(W)&&(l=o[W],l!==void 0&&tp(i,r,W,l,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(l=o[A],l!=null&&Zt(i,r,A,l,o,null))}function pI(i,r,o,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,A=null,D=null,F=null,W=null;for(Q in o){var nt=o[Q];if(o.hasOwnProperty(Q)&&nt!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=nt;default:l.hasOwnProperty(Q)||Zt(i,r,Q,null,l,nt)}}for(var G in l){var Q=l[G];if(nt=o[G],l.hasOwnProperty(G)&&(Q!=null||nt!=null))switch(G){case"type":m=Q;break;case"name":f=Q;break;case"checked":F=Q;break;case"defaultChecked":W=Q;break;case"value":_=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==nt&&Zt(i,r,G,Q,l,nt)}}za(i,_,A,D,F,W,m,f);return;case"select":Q=_=A=G=null;for(m in o)if(D=o[m],o.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":Q=D;default:l.hasOwnProperty(m)||Zt(i,r,m,null,l,D)}for(f in l)if(m=l[f],D=o[f],l.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":G=m;break;case"defaultValue":A=m;break;case"multiple":_=m;default:m!==D&&Zt(i,r,f,m,l,D)}r=A,o=_,l=Q,G!=null?Ms(i,!!o,G,!1):!!l!=!!o&&(r!=null?Ms(i,!!o,r,!0):Ms(i,!!o,o?[]:"",!1));return;case"textarea":Q=G=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Zt(i,r,A,null,l,f)}for(_ in l)if(f=l[_],m=o[_],l.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":G=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Zt(i,r,_,f,l,m)}bc(i,G,Q);return;case"option":for(var mt in o)G=o[mt],o.hasOwnProperty(mt)&&G!=null&&!l.hasOwnProperty(mt)&&(mt==="selected"?i.selected=!1:Zt(i,r,mt,null,l,G));for(D in l)G=l[D],Q=o[D],l.hasOwnProperty(D)&&G!==Q&&(G!=null||Q!=null)&&(D==="selected"?i.selected=G&&typeof G!="function"&&typeof G!="symbol":Zt(i,r,D,G,l,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in o)G=o[Tt],o.hasOwnProperty(Tt)&&G!=null&&!l.hasOwnProperty(Tt)&&Zt(i,r,Tt,null,l,G);for(F in l)if(G=l[F],Q=o[F],l.hasOwnProperty(F)&&G!==Q&&(G!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:Zt(i,r,F,G,l,Q)}return;default:if(ja(r)){for(var Jt in o)G=o[Jt],o.hasOwnProperty(Jt)&&G!==void 0&&!l.hasOwnProperty(Jt)&&tp(i,r,Jt,void 0,l,G);for(W in l)G=l[W],Q=o[W],!l.hasOwnProperty(W)||G===Q||G===void 0&&Q===void 0||tp(i,r,W,G,l,Q);return}}for(var L in o)G=o[L],o.hasOwnProperty(L)&&G!=null&&!l.hasOwnProperty(L)&&Zt(i,r,L,null,l,G);for(nt in l)G=l[nt],Q=o[nt],!l.hasOwnProperty(nt)||G===Q||G==null&&Q==null||Zt(i,r,nt,G,l,Q)}function fT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),l=0;l<o.length;l++){var f=o[l],m=f.transferSize,_=f.initiatorType,A=f.duration;if(m&&A&&fT(_)){for(_=0,A=f.responseEnd,l+=1;l<o.length;l++){var D=o[l],F=D.startTime;if(F>A)break;var W=D.transferSize,nt=D.initiatorType;W&&fT(nt)&&(D=D.responseEnd,_+=W*(D<A?1:(A-F)/(D-F)))}if(--l,r+=8*(m+_)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var ep=null,np=null;function Ch(i){return i.nodeType===9?i:i.ownerDocument}function dT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mT(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function ip(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var sp=null;function yI(){var i=window.event;return i&&i.type==="popstate"?i===sp?!1:(sp=i,!0):(sp=null,!1)}var pT=typeof setTimeout=="function"?setTimeout:void 0,vI=typeof clearTimeout=="function"?clearTimeout:void 0,gT=typeof Promise=="function"?Promise:void 0,_I=typeof queueMicrotask=="function"?queueMicrotask:typeof gT<"u"?function(i){return gT.resolve(null).then(i).catch(TI)}:pT;function TI(i){setTimeout(function(){throw i})}function nr(i){return i==="head"}function yT(i,r){var o=r,l=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(l===0){i.removeChild(f),Ao(r);return}l--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")l++;else if(o==="html")ru(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,ru(o);for(var m=o.firstChild;m;){var _=m.nextSibling,A=m.nodeName;m[Ai]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=_}}else o==="body"&&ru(i.ownerDocument.body);o=f}while(o);Ao(r)}function vT(i,r){var o=i;i=0;do{var l=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),l&&l.nodeType===8)if(o=l.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=l}while(o)}function rp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":rp(o),Ua(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function EI(i,r,o,l){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[Ai])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=Yn(i.nextSibling),i===null)break}return null}function SI(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Yn(i.nextSibling),i===null))return null;return i}function _T(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Yn(i.nextSibling),i===null))return null;return i}function ap(i){return i.data==="$?"||i.data==="$~"}function op(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function AI(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var l=function(){r(),o.removeEventListener("DOMContentLoaded",l)};o.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function Yn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var lp=null;function TT(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Yn(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function ET(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function ST(i,r,o){switch(r=Ch(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function ru(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ua(i)}var Qn=new Map,AT=new Set;function Ih(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ps=rt.d;rt.d={f:bI,r:wI,D:RI,C:CI,L:II,m:xI,X:VI,S:DI,M:MI};function bI(){var i=ps.f(),r=_h();return i||r}function wI(i){var r=Ln(i);r!==null&&r.tag===5&&r.type==="form"?z_(r):ps.r(i)}var To=typeof document>"u"?null:document;function bT(i,r,o){var l=To;if(l&&typeof r=="string"&&r){var f=gn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),AT.has(f)||(AT.add(f),i={rel:i,crossOrigin:o,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Ze(r,"link",i),we(r),l.head.appendChild(r)))}}function RI(i){ps.D(i),bT("dns-prefetch",i,null)}function CI(i,r){ps.C(i,r),bT("preconnect",i,r)}function II(i,r,o){ps.L(i,r,o);var l=To;if(l&&i&&r){var f='link[rel="preload"][as="'+gn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+gn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+gn(o.imageSizes)+'"]')):f+='[href="'+gn(i)+'"]';var m=f;switch(r){case"style":m=Eo(i);break;case"script":m=So(i)}Qn.has(m)||(i=T({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Qn.set(m,i),l.querySelector(f)!==null||r==="style"&&l.querySelector(au(m))||r==="script"&&l.querySelector(ou(m))||(r=l.createElement("link"),Ze(r,"link",i),we(r),l.head.appendChild(r)))}}function xI(i,r){ps.m(i,r);var o=To;if(o&&i){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+gn(l)+'"][href="'+gn(i)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=So(i)}if(!Qn.has(m)&&(i=T({rel:"modulepreload",href:i},r),Qn.set(m,i),o.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ou(m)))return}l=o.createElement("link"),Ze(l,"link",i),we(l),o.head.appendChild(l)}}}function DI(i,r,o){ps.S(i,r,o);var l=To;if(l&&i){var f=wi(l).hoistableStyles,m=Eo(i);r=r||"default";var _=f.get(m);if(!_){var A={loading:0,preload:null};if(_=l.querySelector(au(m)))A.loading=5;else{i=T({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Qn.get(m))&&up(i,o);var D=_=l.createElement("link");we(D),Ze(D,"link",i),D._p=new Promise(function(F,W){D.onload=F,D.onerror=W}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,xh(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(m,_)}}}function VI(i,r){ps.X(i,r);var o=To;if(o&&i){var l=wi(o).hoistableScripts,f=So(i),m=l.get(f);m||(m=o.querySelector(ou(f)),m||(i=T({src:i,async:!0},r),(r=Qn.get(f))&&cp(i,r),m=o.createElement("script"),we(m),Ze(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function MI(i,r){ps.M(i,r);var o=To;if(o&&i){var l=wi(o).hoistableScripts,f=So(i),m=l.get(f);m||(m=o.querySelector(ou(f)),m||(i=T({src:i,async:!0,type:"module"},r),(r=Qn.get(f))&&cp(i,r),m=o.createElement("script"),we(m),Ze(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function wT(i,r,o,l){var f=(f=xt.current)?Ih(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Eo(o.href),o=wi(f).hoistableStyles,l=o.get(r),l||(l={type:"style",instance:null,count:0,state:null},o.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Eo(o.href);var m=wi(f).hoistableStyles,_=m.get(i);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,_),(m=f.querySelector(au(i)))&&!m._p&&(_.instance=m,_.state.loading=5),Qn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Qn.set(i,o),m||NI(f,i,o,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=So(o),o=wi(f).hoistableScripts,l=o.get(r),l||(l={type:"script",instance:null,count:0,state:null},o.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Eo(i){return'href="'+gn(i)+'"'}function au(i){return'link[rel="stylesheet"]['+i+"]"}function RT(i){return T({},i,{"data-precedence":i.precedence,precedence:null})}function NI(i,r,o,l){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=i.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ze(r,"link",o),we(r),i.head.appendChild(r))}function So(i){return'[src="'+gn(i)+'"]'}function ou(i){return"script[async]"+i}function CT(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var l=i.querySelector('style[data-href~="'+gn(o.href)+'"]');if(l)return r.instance=l,we(l),l;var f=T({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),we(l),Ze(l,"style",f),xh(l,o.precedence,i),r.instance=l;case"stylesheet":f=Eo(o.href);var m=i.querySelector(au(f));if(m)return r.state.loading|=4,r.instance=m,we(m),m;l=RT(o),(f=Qn.get(f))&&up(l,f),m=(i.ownerDocument||i).createElement("link"),we(m);var _=m;return _._p=new Promise(function(A,D){_.onload=A,_.onerror=D}),Ze(m,"link",l),r.state.loading|=4,xh(m,o.precedence,i),r.instance=m;case"script":return m=So(o.src),(f=i.querySelector(ou(m)))?(r.instance=f,we(f),f):(l=o,(f=Qn.get(m))&&(l=T({},o),cp(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),we(f),Ze(f,"link",l),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,xh(l,o.precedence,i));return r.instance}function xh(i,r,o){for(var l=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,_=0;_<l.length;_++){var A=l[_];if(A.dataset.precedence===r)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function up(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function cp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Dh=null;function IT(i,r,o){if(Dh===null){var l=new Map,f=Dh=new Map;f.set(o,l)}else f=Dh,l=f.get(o),l||(l=new Map,f.set(o,l));if(l.has(i))return l;for(l.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var m=o[f];if(!(m[Ai]||m[be]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(r)||"";_=i+_;var A=l.get(_);A?A.push(m):l.set(_,[m])}}return l}function xT(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function OI(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function DT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function PI(i,r,o,l){if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Eo(l.href),m=r.querySelector(au(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Vh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=m,we(m);return}m=r.ownerDocument||r,l=RT(l),(f=Qn.get(f))&&up(l,f),m=m.createElement("link"),we(m);var _=m;_._p=new Promise(function(A,D){_.onload=A,_.onerror=D}),Ze(m,"link",l),o.instance=m}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Vh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var hp=0;function kI(i,r){return i.stylesheets&&i.count===0&&Nh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var l=setTimeout(function(){if(i.stylesheets&&Nh(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4+r);0<i.imgBytes&&hp===0&&(hp=62500*gI());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Nh(i,i.stylesheets),i.unsuspend)){var m=i.unsuspend;i.unsuspend=null,m()}},(i.imgBytes>hp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Vh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Mh=null;function Nh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Mh=new Map,r.forEach(LI,i),Mh=null,Vh.call(i))}function LI(i,r){if(!(r.state.loading&4)){var o=Mh.get(i);if(o)var l=o.get(null);else{o=new Map,Mh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),l=_)}l&&o.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),m=o.get(_)||l,m===l&&o.set(null,f),o.set(_,f),this.count++,l=Vh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var lu={$$typeof:H,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function UI(i,r,o,l,f,m,_,A,D){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function VT(i,r,o,l,f,m,_,A,D,F,W,nt){return i=new UI(i,r,o,_,D,F,W,nt,A),r=1,m===!0&&(r|=24),m=Cn(3,null,null,r),i.current=m,m.stateNode=i,r=Hd(),r.refCount++,i.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:o,cache:r},Qd(m),i}function MT(i){return i?(i=Za,i):Za}function NT(i,r,o,l,f,m){f=MT(f),l.context===null?l.context=f:l.pendingContext=f,l=Gs(r),l.payload={element:o},m=m===void 0?null:m,m!==null&&(l.callback=m),o=Ks(i,l,r),o!==null&&(Sn(o,i,r),zl(o,i,r))}function OT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function fp(i,r){OT(i,r),(i=i.alternate)&&OT(i,r)}function PT(i){if(i.tag===13||i.tag===31){var r=ia(i,67108864);r!==null&&Sn(r,i,67108864),fp(i,67108864)}}function kT(i){if(i.tag===13||i.tag===31){var r=Mn();r=Gr(r);var o=ia(i,r);o!==null&&Sn(o,i,r),fp(i,r)}}var Oh=!0;function BI(i,r,o,l){var f=Z.T;Z.T=null;var m=rt.p;try{rt.p=2,dp(i,r,o,l)}finally{rt.p=m,Z.T=f}}function zI(i,r,o,l){var f=Z.T;Z.T=null;var m=rt.p;try{rt.p=8,dp(i,r,o,l)}finally{rt.p=m,Z.T=f}}function dp(i,r,o,l){if(Oh){var f=mp(l);if(f===null)Jm(i,r,l,Ph,o),UT(i,l);else if(FI(f,i,r,o,l))l.stopPropagation();else if(UT(i,l),r&4&&-1<jI.indexOf(i)){for(;f!==null;){var m=Ln(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=_i(m.pendingLanes);if(_!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var D=1<<31-ge(_);A.entanglements[1]|=D,_&=~D}Ui(m),(Kt&6)===0&&(yh=cn()+500,nu(0))}}break;case 31:case 13:A=ia(m,2),A!==null&&Sn(A,m,2),_h(),fp(m,2)}if(m=mp(l),m===null&&Jm(i,r,l,Ph,o),m===f)break;f=m}f!==null&&l.stopPropagation()}else Jm(i,r,l,null,o)}}function mp(i){return i=Un(i),pp(i)}var Ph=null;function pp(i){if(Ph=null,i=bi(i),i!==null){var r=u(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Ph=i,null}function LT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jr()){case hl:return 2;case fl:return 8;case Ds:case Ed:return 32;case dc:return 268435456;default:return 32}default:return 32}}var gp=!1,ir=null,sr=null,rr=null,uu=new Map,cu=new Map,ar=[],jI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function UT(i,r){switch(i){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":uu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":cu.delete(r.pointerId)}}function hu(i,r,o,l,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:r,domEventName:o,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Ln(r),r!==null&&PT(r)),i):(i.eventSystemFlags|=l,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function FI(i,r,o,l,f){switch(r){case"focusin":return ir=hu(ir,i,r,o,l,f),!0;case"dragenter":return sr=hu(sr,i,r,o,l,f),!0;case"mouseover":return rr=hu(rr,i,r,o,l,f),!0;case"pointerover":var m=f.pointerId;return uu.set(m,hu(uu.get(m)||null,i,r,o,l,f)),!0;case"gotpointercapture":return m=f.pointerId,cu.set(m,hu(cu.get(m)||null,i,r,o,l,f)),!0}return!1}function BT(i){var r=bi(i.target);if(r!==null){var o=u(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,ei(i.priority,function(){kT(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,ei(i.priority,function(){kT(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function kh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=mp(i.nativeEvent);if(o===null){o=i.nativeEvent;var l=new o.constructor(o.type,o);bl=l,o.target.dispatchEvent(l),bl=null}else return r=Ln(o),r!==null&&PT(r),i.blockedOn=o,!1;r.shift()}return!0}function zT(i,r,o){kh(i)&&o.delete(r)}function qI(){gp=!1,ir!==null&&kh(ir)&&(ir=null),sr!==null&&kh(sr)&&(sr=null),rr!==null&&kh(rr)&&(rr=null),uu.forEach(zT),cu.forEach(zT)}function Lh(i,r){i.blockedOn===r&&(i.blockedOn=null,gp||(gp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,qI)))}var Uh=null;function jT(i){Uh!==i&&(Uh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Uh===i&&(Uh=null);for(var r=0;r<i.length;r+=3){var o=i[r],l=i[r+1],f=i[r+2];if(typeof l!="function"){if(pp(l||o)===null)continue;break}var m=Ln(o);m!==null&&(i.splice(r,3),r-=3,mm(m,{pending:!0,data:f,method:o.method,action:l},l,f))}}))}function Ao(i){function r(D){return Lh(D,i)}ir!==null&&Lh(ir,i),sr!==null&&Lh(sr,i),rr!==null&&Lh(rr,i),uu.forEach(r),cu.forEach(r);for(var o=0;o<ar.length;o++){var l=ar[o];l.blockedOn===i&&(l.blockedOn=null)}for(;0<ar.length&&(o=ar[0],o.blockedOn===null);)BT(o),o.blockedOn===null&&ar.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(l=0;l<o.length;l+=3){var f=o[l],m=o[l+1],_=f[Fe]||null;if(typeof m=="function")_||jT(o);else if(_){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[Fe]||null)A=_.formAction;else if(pp(f)!==null)continue}else A=_.action;typeof A=="function"?o[l+1]=A:(o.splice(l,3),l-=3),jT(o)}}}function FT(){function i(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(o,20)}function o(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){l=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function yp(i){this._internalRoot=i}Bh.prototype.render=yp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,l=Mn();NT(o,l,i,r,null,null)},Bh.prototype.unmount=yp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;NT(i.current,2,null,i,null,null),_h(),r[Si]=null}};function Bh(i){this._internalRoot=i}Bh.prototype.unstable_scheduleHydration=function(i){if(i){var r=_c();i={blockedOn:null,target:i,priority:r};for(var o=0;o<ar.length&&r!==0&&r<ar[o].priority;o++);ar.splice(o,0,i),o===0&&BT(i)}};var qT=t.version;if(qT!=="19.2.4")throw Error(s(527,qT,"19.2.4"));rt.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var HI={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zh.isDisabled&&zh.supportsFiber)try{Jn=zh.inject(HI),Ye=zh}catch{}}return du.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,l="",f=$_,m=W_,_=Z_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=VT(i,1,!1,null,null,o,l,null,f,m,_,FT),i[Si]=r.current,Zm(i),new yp(r)},du.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var l=!1,f="",m=$_,_=W_,A=Z_,D=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(D=o.formState)),r=VT(i,1,!0,r,o??null,l,f,D,m,_,A,FT),r.context=MT(null),o=r.current,l=Mn(),l=Gr(l),f=Gs(l),f.callback=null,Ks(o,f,l),o=l,r.current.lanes=o,qr(r,o),Ui(r),i[Si]=r.current,Zm(i),new Bh(r)},du.version="19.2.4",du}var JT;function ex(){if(JT)return Tp.exports;JT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Tp.exports=tx(),Tp.exports}var nx=ex();const ix="modulepreload",sx=function(n){return"/soka/"+n},tE={},YA=function(t,e,s){let a=Promise.resolve();if(e&&e.length>0){let p=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");a=p(e.map(g=>{if(g=sx(g),g in tE)return;tE[g]=!0;const y=g.endsWith(".css"),T=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${T}`))return;const S=document.createElement("link");if(S.rel=y?"stylesheet":ix,y||(S.as="script"),S.crossOrigin="",S.href=g,d&&S.setAttribute("nonce",d),document.head.appendChild(S),y)return new Promise((I,P)=>{S.addEventListener("load",I),S.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&u(d.reason);return t().catch(u)})},rx=()=>{};var eE={};const QA=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},ax=function(n){const t=[];let e=0,s=0;for(;e<n.length;){const a=n[e++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=n[e++];t[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=n[e++],c=n[e++],d=n[e++],p=((a&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=n[e++],c=n[e++];t[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|c&63)}}return t.join("")},XA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const u=n[a],c=a+1<n.length,d=c?n[a+1]:0,p=a+2<n.length,g=p?n[a+2]:0,y=u>>2,T=(u&3)<<4|d>>4;let S=(d&15)<<2|g>>6,I=g&63;p||(I=64,c||(S=64)),s.push(e[y],e[T],e[S],e[I])}return s.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(QA(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):ax(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const u=e[n.charAt(a++)],d=a<n.length?e[n.charAt(a)]:0;++a;const g=a<n.length?e[n.charAt(a)]:64;++a;const T=a<n.length?e[n.charAt(a)]:64;if(++a,u==null||d==null||g==null||T==null)throw new ox;const S=u<<2|d>>4;if(s.push(S),g!==64){const I=d<<4&240|g>>2;if(s.push(I),T!==64){const P=g<<6&192|T;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ox extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lx=function(n){const t=QA(n);return XA.encodeByteArray(t,!0)},mf=function(n){return lx(n).replace(/\./g,"")},$A=function(n){try{return XA.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ux(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const cx=()=>ux().__FIREBASE_DEFAULTS__,hx=()=>{if(typeof process>"u"||typeof eE>"u")return;const n=eE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},fx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&$A(n[1]);return t&&JSON.parse(t)},Hf=()=>{try{return rx()||cx()||hx()||fx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},WA=n=>Hf()?.emulatorHosts?.[n],dx=n=>{const t=WA(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},ZA=()=>Hf()?.config,JA=n=>Hf()?.[`_${n}`];class mx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}function $o(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tb(n){return(await fetch(n,{credentials:"include"})).ok}function px(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",a=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[mf(JSON.stringify(e)),mf(JSON.stringify(c)),""].join(".")}const Eu={};function gx(){const n={prod:[],emulator:[]};for(const t of Object.keys(Eu))Eu[t]?n.emulator.push(t):n.prod.push(t);return n}function yx(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let nE=!1;function eb(n,t){if(typeof window>"u"||typeof document>"u"||!$o(window.location.host)||Eu[n]===t||Eu[n]||nE)return;Eu[n]=t;function e(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=gx().prod.length>0;function c(){const S=document.getElementById(s);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,I){S.setAttribute("width","24"),S.setAttribute("id",I),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{nE=!0,c()},S}function y(S,I){S.setAttribute("id",I),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=yx(s),I=e("text"),P=document.getElementById(I)||document.createElement("span"),z=e("learnmore"),U=document.getElementById(z)||document.createElement("a"),Y=e("preprendIcon"),et=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const H=S.element;d(H),y(U,z);const X=g();p(et,Y),H.append(et,P,U,X),document.body.appendChild(H)}u?(P.innerText="Preview backend disconnected.",et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function _x(){const n=Hf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Tx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ex(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Sx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ax(){const n=un();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function bx(){return!_x()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wx(){try{return typeof indexedDB=="object"}catch{return!1}}function Rx(){return new Promise((n,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}const Cx="FirebaseError";class Is extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=Cx,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xu.prototype.create)}}class Xu{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},a=`${this.service}/${t}`,u=this.errors[t],c=u?Ix(u,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Is(a,d,s)}}function Ix(n,t){return n.replace(xx,(e,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const xx=/\{\$([^}]+)}/g;function Dx(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function wa(n,t){if(n===t)return!0;const e=Object.keys(n),s=Object.keys(t);for(const a of e){if(!s.includes(a))return!1;const u=n[a],c=t[a];if(iE(u)&&iE(c)){if(!wa(u,c))return!1}else if(u!==c)return!1}for(const a of s)if(!e.includes(a))return!1;return!0}function iE(n){return n!==null&&typeof n=="object"}function $u(n){const t=[];for(const[e,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Vx(n,t){const e=new Mx(n,t);return e.subscribe.bind(e)}class Mx{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let a;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");Nx(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:s},a.next===void 0&&(a.next=bp),a.error===void 0&&(a.error=bp),a.complete===void 0&&(a.complete=bp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nx(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function bp(){}function je(n){return n&&n._delegate?n._delegate:n}class Ra{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const va="[DEFAULT]";class Ox{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new mx;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(kx(t))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(t=va){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=va){return this.instances.has(t)}getOptions(t=va){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&c.resolve(a)}return a}onInit(t,e){const s=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&t(u,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const a of s)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Px(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=va){return this.component?this.component.multipleInstances?t:va:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Px(n){return n===va?void 0:n}function kx(n){return n.instantiationMode==="EAGER"}class Lx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Ox(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var kt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(kt||(kt={}));const Ux={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},Bx=kt.INFO,zx={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},jx=(n,t,...e)=>{if(t<n.logLevel)return;const s=new Date().toISOString(),a=zx[t];if(a)console[a](`[${s}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Qg{constructor(t){this.name=t,this._logLevel=Bx,this._logHandler=jx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ux[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const Fx=(n,t)=>t.some(e=>n instanceof e);let sE,rE;function qx(){return sE||(sE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Hx(){return rE||(rE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nb=new WeakMap,Wp=new WeakMap,ib=new WeakMap,wp=new WeakMap,Xg=new WeakMap;function Gx(n){const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{e(vr(n.result)),a()},c=()=>{s(n.error),a()};n.addEventListener("success",u),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&nb.set(e,n)}).catch(()=>{}),Xg.set(t,n),t}function Kx(n){if(Wp.has(n))return;const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{e(),a()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});Wp.set(n,t)}let Zp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Wp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||ib.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return vr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function Yx(n){Zp=n(Zp)}function Qx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=n.call(Rp(this),t,...e);return ib.set(s,t.sort?t.sort():[t]),vr(s)}:Hx().includes(n)?function(...t){return n.apply(Rp(this),t),vr(nb.get(this))}:function(...t){return vr(n.apply(Rp(this),t))}}function Xx(n){return typeof n=="function"?Qx(n):(n instanceof IDBTransaction&&Kx(n),Fx(n,qx())?new Proxy(n,Zp):n)}function vr(n){if(n instanceof IDBRequest)return Gx(n);if(wp.has(n))return wp.get(n);const t=Xx(n);return t!==n&&(wp.set(n,t),Xg.set(t,n)),t}const Rp=n=>Xg.get(n);function $x(n,t,{blocked:e,upgrade:s,blocking:a,terminated:u}={}){const c=indexedDB.open(n,t),d=vr(c);return s&&c.addEventListener("upgradeneeded",p=>{s(vr(c.result),p.oldVersion,p.newVersion,vr(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const Wx=["get","getKey","getAll","getAllKeys","count"],Zx=["put","add","delete","clear"],Cp=new Map;function aE(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Cp.get(t))return Cp.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,a=Zx.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(a||Wx.includes(e)))return;const u=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),a&&p.done]))[0]};return Cp.set(t,u),u}Yx(n=>({...n,get:(t,e,s)=>aE(t,e)||n.get(t,e,s),has:(t,e)=>!!aE(t,e)||n.has(t,e)}));class Jx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(tD(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function tD(n){return n.getComponent()?.type==="VERSION"}const Jp="@firebase/app",oE="0.14.7";const Es=new Qg("@firebase/app"),eD="@firebase/app-compat",nD="@firebase/analytics-compat",iD="@firebase/analytics",sD="@firebase/app-check-compat",rD="@firebase/app-check",aD="@firebase/auth",oD="@firebase/auth-compat",lD="@firebase/database",uD="@firebase/data-connect",cD="@firebase/database-compat",hD="@firebase/functions",fD="@firebase/functions-compat",dD="@firebase/installations",mD="@firebase/installations-compat",pD="@firebase/messaging",gD="@firebase/messaging-compat",yD="@firebase/performance",vD="@firebase/performance-compat",_D="@firebase/remote-config",TD="@firebase/remote-config-compat",ED="@firebase/storage",SD="@firebase/storage-compat",AD="@firebase/firestore",bD="@firebase/ai",wD="@firebase/firestore-compat",RD="firebase",CD="12.8.0";const tg="[DEFAULT]",ID={[Jp]:"fire-core",[eD]:"fire-core-compat",[iD]:"fire-analytics",[nD]:"fire-analytics-compat",[rD]:"fire-app-check",[sD]:"fire-app-check-compat",[aD]:"fire-auth",[oD]:"fire-auth-compat",[lD]:"fire-rtdb",[uD]:"fire-data-connect",[cD]:"fire-rtdb-compat",[hD]:"fire-fn",[fD]:"fire-fn-compat",[dD]:"fire-iid",[mD]:"fire-iid-compat",[pD]:"fire-fcm",[gD]:"fire-fcm-compat",[yD]:"fire-perf",[vD]:"fire-perf-compat",[_D]:"fire-rc",[TD]:"fire-rc-compat",[ED]:"fire-gcs",[SD]:"fire-gcs-compat",[AD]:"fire-fst",[wD]:"fire-fst-compat",[bD]:"fire-vertex","fire-js":"fire-js",[RD]:"fire-js-all"};const pf=new Map,xD=new Map,eg=new Map;function lE(n,t){try{n.container.addComponent(t)}catch(e){Es.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function zo(n){const t=n.name;if(eg.has(t))return Es.debug(`There were multiple attempts to register component ${t}.`),!1;eg.set(t,n);for(const e of pf.values())lE(e,n);for(const e of xD.values())lE(e,n);return!0}function $g(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function di(n){return n==null?!1:n.settings!==void 0}const DD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_r=new Xu("app","Firebase",DD);class VD{constructor(t,e,s){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}const Wo=CD;function sb(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const s={name:tg,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw _r.create("bad-app-name",{appName:String(a)});if(e||(e=ZA()),!e)throw _r.create("no-options");const u=pf.get(a);if(u){if(wa(e,u.options)&&wa(s,u.config))return u;throw _r.create("duplicate-app",{appName:a})}const c=new Lx(a);for(const p of eg.values())c.addComponent(p);const d=new VD(e,s,c);return pf.set(a,d),d}function rb(n=tg){const t=pf.get(n);if(!t&&n===tg&&ZA())return sb();if(!t)throw _r.create("no-app",{appName:n});return t}function Tr(n,t,e){let s=ID[n]??n;e&&(s+=`-${e}`);const a=s.match(/\s|\//),u=t.match(/\s|\//);if(a||u){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Es.warn(c.join(" "));return}zo(new Ra(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const MD="firebase-heartbeat-database",ND=1,Nu="firebase-heartbeat-store";let Ip=null;function ab(){return Ip||(Ip=$x(MD,ND,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Nu)}catch(e){console.warn(e)}}}}).catch(n=>{throw _r.create("idb-open",{originalErrorMessage:n.message})})),Ip}async function OD(n){try{const e=(await ab()).transaction(Nu),s=await e.objectStore(Nu).get(ob(n));return await e.done,s}catch(t){if(t instanceof Is)Es.warn(t.message);else{const e=_r.create("idb-get",{originalErrorMessage:t?.message});Es.warn(e.message)}}}async function uE(n,t){try{const s=(await ab()).transaction(Nu,"readwrite");await s.objectStore(Nu).put(t,ob(n)),await s.done}catch(e){if(e instanceof Is)Es.warn(e.message);else{const s=_r.create("idb-set",{originalErrorMessage:e?.message});Es.warn(s.message)}}}function ob(n){return`${n.name}!${n.options.appId}`}const PD=1024,kD=30;class LD{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new BD(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=cE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:e}),this._heartbeatsCache.heartbeats.length>kD){const a=zD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Es.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=cE(),{heartbeatsToSend:e,unsentEntries:s}=UD(this._heartbeatsCache.heartbeats),a=mf(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Es.warn(t),""}}}function cE(){return new Date().toISOString().substring(0,10)}function UD(n,t=PD){const e=[];let s=n.slice();for(const a of n){const u=e.find(c=>c.agent===a.agent);if(u){if(u.dates.push(a.date),hE(e)>t){u.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),hE(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class BD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wx()?Rx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await OD(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return uE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return uE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function hE(n){return mf(JSON.stringify({version:2,heartbeats:n})).length}function zD(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let s=1;s<n.length;s++)n[s].date<e&&(e=n[s].date,t=s);return t}function jD(n){zo(new Ra("platform-logger",t=>new Jx(t),"PRIVATE")),zo(new Ra("heartbeat",t=>new LD(t),"PRIVATE")),Tr(Jp,oE,n),Tr(Jp,oE,"esm2020"),Tr("fire-js","")}jD("");function lb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FD=lb,ub=new Xu("auth","Firebase",lb());const gf=new Qg("@firebase/auth");function qD(n,...t){gf.logLevel<=kt.WARN&&gf.warn(`Auth (${Wo}): ${n}`,...t)}function Zh(n,...t){gf.logLevel<=kt.ERROR&&gf.error(`Auth (${Wo}): ${n}`,...t)}function Ss(n,...t){throw Wg(n,...t)}function Fi(n,...t){return Wg(n,...t)}function cb(n,t,e){const s={...FD(),[t]:e};return new Xu("auth","Firebase",s).create(t,{appName:n.name})}function Er(n){return cb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wg(n,...t){if(typeof n!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(e,...s)}return ub.create(n,...t)}function St(n,t,...e){if(!n)throw Wg(t,...e)}function vs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Zh(t),new Error(t)}function As(n,t){n||vs(t)}function ng(){return typeof self<"u"&&self.location?.href||""}function HD(){return fE()==="http:"||fE()==="https:"}function fE(){return typeof self<"u"&&self.location?.protocol||null}function GD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HD()||Ex()||"connection"in navigator)?navigator.onLine:!0}function KD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Wu{constructor(t,e){this.shortDelay=t,this.longDelay=e,As(e>t,"Short delay should be less than long delay!"),this.isMobile=vx()||Sx()}get(){return GD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zg(n,t){As(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class hb{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const YD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const QD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XD=new Wu(3e4,6e4);function Gf(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Zo(n,t,e,s,a={}){return fb(n,a,async()=>{let u={},c={};s&&(t==="GET"?c=s:u={body:JSON.stringify(s)});const d=$u({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g={method:t,headers:p,...u};return Tx()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&$o(n.emulatorConfig.host)&&(g.credentials="include"),hb.fetch()(await mb(n,n.config.apiHost,e,d),g)})}async function fb(n,t,e){n._canInitEmulator=!1;const s={...YD,...t};try{const a=new $D(n),u=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw jh(n,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const d=u.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw jh(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw jh(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw jh(n,"user-disabled",c);const y=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw cb(n,y,g);Ss(n,y)}}catch(a){if(a instanceof Is)throw a;Ss(n,"network-request-failed",{message:String(a)})}}async function db(n,t,e,s,a={}){const u=await Zo(n,t,e,s,a);return"mfaPendingCredential"in u&&Ss(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function mb(n,t,e,s){const a=`${t}${e}?${s}`,u=n,c=u.config.emulator?Zg(n.config,a):`${n.config.apiScheme}://${a}`;return QD.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class $D{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(Fi(this.auth,"network-request-failed")),XD.get())})}}function jh(n,t,e){const s={appName:n.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const a=Fi(n,t,s);return a.customData._tokenResponse=e,a}async function WD(n,t){return Zo(n,"POST","/v1/accounts:delete",t)}async function yf(n,t){return Zo(n,"POST","/v1/accounts:lookup",t)}function Su(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ZD(n,t=!1){const e=je(n),s=await e.getIdToken(t),a=Jg(s);St(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const u=typeof a.firebase=="object"?a.firebase:void 0,c=u?.sign_in_provider;return{claims:a,token:s,authTime:Su(xp(a.auth_time)),issuedAtTime:Su(xp(a.iat)),expirationTime:Su(xp(a.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function xp(n){return Number(n)*1e3}function Jg(n){const[t,e,s]=n.split(".");if(t===void 0||e===void 0||s===void 0)return Zh("JWT malformed, contained fewer than 3 sections"),null;try{const a=$A(e);return a?JSON.parse(a):(Zh("Failed to decode base64 JWT payload"),null)}catch(a){return Zh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function dE(n){const t=Jg(n);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ou(n,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof Is&&JD(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function JD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class t2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ig{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Su(this.lastLoginAt),this.creationTime=Su(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vf(n){const t=n.auth,e=await n.getIdToken(),s=await Ou(n,yf(t,{idToken:e}));St(s?.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const u=a.providerUserInfo?.length?pb(a.providerUserInfo):[],c=n2(n.providerData,u),d=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!c?.length,g=d?p:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new ig(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,y)}async function e2(n){const t=je(n);await vf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function n2(n,t){return[...n.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function pb(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function i2(n,t){const e=await fb(n,{},async()=>{const s=$u({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:u}=n.config,c=await mb(n,a,"/v1/token",`key=${u}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return n.emulatorConfig&&$o(n.emulatorConfig.host)&&(p.credentials="include"),hb.fetch()(c,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function s2(n,t){return Zo(n,"POST","/v2/accounts:revokeToken",Gf(n,t))}class Oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):dE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){St(t.length!==0,"internal-error");const e=dE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:a,expiresIn:u}=await i2(t,e);this.updateTokensAndExpiration(s,a,Number(u))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:a,expirationTime:u}=e,c=new Oo;return s&&(St(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(St(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),u&&(St(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Oo,this.toJSON())}_performRefresh(){return vs("not implemented")}}function lr(n,t){St(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class mi{constructor({uid:t,auth:e,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new t2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ig(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await Ou(this,this.stsTokenManager.getToken(this.auth,t));return St(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return ZD(this,t)}reload(){return e2(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new mi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await vf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(di(this.auth.app))return Promise.reject(Er(this.auth));const t=await this.getIdToken();return await Ou(this,WD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const s=e.displayName??void 0,a=e.email??void 0,u=e.phoneNumber??void 0,c=e.photoURL??void 0,d=e.tenantId??void 0,p=e._redirectEventId??void 0,g=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:I,providerData:P,stsTokenManager:z}=e;St(T&&z,t,"internal-error");const U=Oo.fromJSON(this.name,z);St(typeof T=="string",t,"internal-error"),lr(s,t.name),lr(a,t.name),St(typeof S=="boolean",t,"internal-error"),St(typeof I=="boolean",t,"internal-error"),lr(u,t.name),lr(c,t.name),lr(d,t.name),lr(p,t.name),lr(g,t.name),lr(y,t.name);const Y=new mi({uid:T,auth:t,email:a,emailVerified:S,displayName:s,isAnonymous:I,photoURL:c,phoneNumber:u,tenantId:d,stsTokenManager:U,createdAt:g,lastLoginAt:y});return P&&Array.isArray(P)&&(Y.providerData=P.map(et=>({...et}))),p&&(Y._redirectEventId=p),Y}static async _fromIdTokenResponse(t,e,s=!1){const a=new Oo;a.updateFromServerResponse(e);const u=new mi({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await vf(u),u}static async _fromGetAccountInfoResponse(t,e,s){const a=e.users[0];St(a.localId!==void 0,"internal-error");const u=a.providerUserInfo!==void 0?pb(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!u?.length,d=new Oo;d.updateFromIdToken(s);const p=new mi({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new ig(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const mE=new Map;function _s(n){As(n instanceof Function,"Expected a class definition");let t=mE.get(n);return t?(As(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,mE.set(n,t),t)}class gb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}gb.type="NONE";const pE=gb;function Jh(n,t,e){return`firebase:${n}:${t}:${e}`}class Po{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:a,name:u}=this.auth;this.fullUserKey=Jh(this.userKey,a.apiKey,u),this.fullPersistenceKey=Jh("persistence",a.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await yf(this.auth,{idToken:t}).catch(()=>{});return e?mi._fromGetAccountInfoResponse(this.auth,e,t):null}return mi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new Po(_s(pE),t,s);const a=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=a[0]||_s(pE);const c=Jh(s,t.config.apiKey,t.name);let d=null;for(const g of e)try{const y=await g._get(c);if(y){let T;if(typeof y=="string"){const S=await yf(t,{idToken:y}).catch(()=>{});if(!S)break;T=await mi._fromGetAccountInfoResponse(t,S,y)}else T=mi._fromJSON(t,y);g!==u&&(d=T),u=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Po(u,t,s):(u=p[0],d&&await u._set(c,d.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Po(u,t,s))}}function gE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Tb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Sb(t))return"Blackberry";if(Ab(t))return"Webos";if(vb(t))return"Safari";if((t.includes("chrome/")||_b(t))&&!t.includes("edge/"))return"Chrome";if(Eb(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(e);if(s?.length===2)return s[1]}return"Other"}function yb(n=un()){return/firefox\//i.test(n)}function vb(n=un()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _b(n=un()){return/crios\//i.test(n)}function Tb(n=un()){return/iemobile/i.test(n)}function Eb(n=un()){return/android/i.test(n)}function Sb(n=un()){return/blackberry/i.test(n)}function Ab(n=un()){return/webos/i.test(n)}function ty(n=un()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function r2(n=un()){return ty(n)&&!!window.navigator?.standalone}function a2(){return Ax()&&document.documentMode===10}function bb(n=un()){return ty(n)||Eb(n)||Ab(n)||Sb(n)||/windows phone/i.test(n)||Tb(n)}function wb(n,t=[]){let e;switch(n){case"Browser":e=gE(un());break;case"Worker":e=`${gE(un())}-${n}`;break;default:e=n}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Wo}/${s}`}class o2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=u=>new Promise((c,d)=>{try{const p=t(u);c(p)}catch(p){d(p)}});s.onAbort=e,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function l2(n,t={}){return Zo(n,"GET","/v2/passwordPolicy",Gf(n,t))}const u2=6;class c2{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??u2,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,a,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class h2{constructor(t,e,s,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yE(this),this.idTokenSubscription=new yE(this),this.beforeStateQueue=new o2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ub,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=_s(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Po.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await yf(this,{idToken:t}),s=await mi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(di(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let s=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!u||u===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await vf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=KD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(di(this.app))return Promise.reject(Er(this));const e=t?je(t):null;return e&&St(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return di(this.app)?Promise.reject(Er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return di(this.app)?Promise.reject(Er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_s(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await l2(this),e=new c2(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Xu("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await s2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&_s(t)||this._popupRedirectResolver;St(e,this,"argument-error"),this.redirectPersistenceManager=await Po.create(this,[_s(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,a){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(d,this,"internal-error"),d.then(()=>{c||u(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,s,a);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=wb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&qD(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Kf(n){return je(n)}class yE{constructor(t){this.auth=t,this.observer=null,this.addObserver=Vx(e=>this.observer=e)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ey={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f2(n){ey=n}function d2(n){return ey.loadJS(n)}function m2(){return ey.gapiScript}function p2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function g2(n,t){const e=$g(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),u=e.getOptions();if(wa(u,t??{}))return a;Ss(a,"already-initialized")}return e.initialize({options:t})}function y2(n,t){const e=t?.persistence||[],s=(Array.isArray(e)?e:[e]).map(_s);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(s,t?.popupRedirectResolver)}function v2(n,t,e){const s=Kf(n);St(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,u=Rb(t),{host:c,port:d}=_2(t),p=d===null?"":`:${d}`,g={url:`${u}//${c}${p}/`},y=Object.freeze({host:c,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){St(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),St(wa(g,s.config.emulator)&&wa(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,$o(c)?(tb(`${u}//${c}${p}`),eb("Auth",!0)):T2()}function Rb(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function _2(n){const t=Rb(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const u=a[1];return{host:u,port:vE(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:vE(c)}}}function vE(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function T2(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Cb{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return vs("not implemented")}_getIdTokenResponse(t){return vs("not implemented")}_linkToIdToken(t,e){return vs("not implemented")}_getReauthenticationResolver(t){return vs("not implemented")}}async function ko(n,t){return db(n,"POST","/v1/accounts:signInWithIdp",Gf(n,t))}const E2="http://localhost";class Ca extends Cb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ca(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ss("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a,...u}=e;if(!s||!a)return null;const c=new Ca(s,a);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return ko(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,ko(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,ko(t,e)}buildRequest(){const t={requestUri:E2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=$u(e)}return t}}class Ib{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Zu extends Ib{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class cr extends Zu{constructor(){super("facebook.com")}static credential(t){return Ca._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return cr.credentialFromTaggedObject(t)}static credentialFromError(t){return cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return cr.credential(t.oauthAccessToken)}catch{return null}}}cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";cr.PROVIDER_ID="facebook.com";class hr extends Zu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ca._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return hr.credentialFromTaggedObject(t)}static credentialFromError(t){return hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return hr.credential(e,s)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";class fr extends Zu{constructor(){super("github.com")}static credential(t){return Ca._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fr.credentialFromTaggedObject(t)}static credentialFromError(t){return fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fr.credential(t.oauthAccessToken)}catch{return null}}}fr.GITHUB_SIGN_IN_METHOD="github.com";fr.PROVIDER_ID="github.com";class dr extends Zu{constructor(){super("twitter.com")}static credential(t,e){return Ca._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return dr.credentialFromTaggedObject(t)}static credentialFromError(t){return dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return dr.credential(e,s)}catch{return null}}}dr.TWITTER_SIGN_IN_METHOD="twitter.com";dr.PROVIDER_ID="twitter.com";async function S2(n,t){return db(n,"POST","/v1/accounts:signUp",Gf(n,t))}class wr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,a=!1){const u=await mi._fromIdTokenResponse(t,s,a),c=_E(s);return new wr({user:u,providerId:c,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const a=_E(s);return new wr({user:t,providerId:a,_tokenResponse:s,operationType:e})}}function _E(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function A2(n){if(di(n.app))return Promise.reject(Er(n));const t=Kf(n);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new wr({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await S2(t,{returnSecureToken:!0}),s=await wr._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(s.user),s}class _f extends Is{constructor(t,e,s,a){super(e.code,e.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,_f.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,a){return new _f(t,e,s,a)}}function xb(n,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?_f._fromErrorAndOperation(n,u,t,s):u})}async function b2(n,t,e=!1){const s=await Ou(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return wr._forOperation(n,"link",s)}async function w2(n,t,e=!1){const{auth:s}=n;if(di(s.app))return Promise.reject(Er(s));const a="reauthenticate";try{const u=await Ou(n,xb(s,a,t,n),e);St(u.idToken,s,"internal-error");const c=Jg(u.idToken);St(c,s,"internal-error");const{sub:d}=c;return St(n.uid===d,s,"user-mismatch"),wr._forOperation(n,a,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ss(s,"user-mismatch"),u}}async function R2(n,t,e=!1){if(di(n.app))return Promise.reject(Er(n));const s="signIn",a=await xb(n,s,t),u=await wr._fromIdTokenResponse(n,s,a);return e||await n._updateCurrentUser(u.user),u}function C2(n,t,e,s){return je(n).onIdTokenChanged(t,e,s)}function I2(n,t,e){return je(n).beforeAuthStateChanged(t,e)}function x2(n,t,e,s){return je(n).onAuthStateChanged(t,e,s)}const Tf="__sak";class Db{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Tf,"1"),this.storage.removeItem(Tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const D2=1e3,V2=10;class Vb extends Db{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),a=this.localCache[e];s!==a&&t(e,a,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!e&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);a2()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,V2):a()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},D2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Vb.type="LOCAL";const M2=Vb;class Mb extends Db{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Mb.type="SESSION";const Nb=Mb;function N2(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Yf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const s=new Yf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:a,data:u}=e.data,c=this.handlersMap[a];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async g=>g(e.origin,u)),p=await N2(d);e.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yf.receivers=[];function ny(n="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return n+e}class O2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let u,c;return new Promise((d,p)=>{const g=ny("",20);a.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(y),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(S.data.response);break;default:clearTimeout(y),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function qi(){return window}function P2(n){qi().location.href=n}function Ob(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function k2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function L2(){return navigator?.serviceWorker?.controller||null}function U2(){return Ob()?self:null}const Pb="firebaseLocalStorageDb",B2=1,Ef="firebaseLocalStorage",kb="fbase_key";class Ju{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Qf(n,t){return n.transaction([Ef],t?"readwrite":"readonly").objectStore(Ef)}function z2(){const n=indexedDB.deleteDatabase(Pb);return new Ju(n).toPromise()}function sg(){const n=indexedDB.open(Pb,B2);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Ef,{keyPath:kb})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Ef)?t(s):(s.close(),await z2(),t(await sg()))})})}async function TE(n,t,e){const s=Qf(n,!0).put({[kb]:t,value:e});return new Ju(s).toPromise()}async function j2(n,t){const e=Qf(n,!1).get(t),s=await new Ju(e).toPromise();return s===void 0?null:s.value}function EE(n,t){const e=Qf(n,!0).delete(t);return new Ju(e).toPromise()}const F2=800,q2=3;class Lb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sg(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>q2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ob()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yf._getInstance(U2()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await k2(),!this.activeServiceWorker)return;this.sender=new O2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||L2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await sg();return await TE(t,Tf,"1"),await EE(t,Tf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>TE(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>j2(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>EE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const u=Qf(a,!1).getAll();return new Ju(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:u}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(u)&&(this.notifyListeners(a,u),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),F2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Lb.type="LOCAL";const H2=Lb;new Wu(3e4,6e4);function G2(n,t){return t?_s(t):(St(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class iy extends Cb{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ko(t,this._buildIdpRequest())}_linkToIdToken(t,e){return ko(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return ko(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function K2(n){return R2(n.auth,new iy(n),n.bypassAuthState)}function Y2(n){const{auth:t,user:e}=n;return St(e,t,"internal-error"),w2(e,new iy(n),n.bypassAuthState)}async function Q2(n){const{auth:t,user:e}=n;return St(e,t,"internal-error"),b2(e,new iy(n),n.bypassAuthState)}class Ub{constructor(t,e,s,a,u=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:a,tenantId:u,error:c,type:d}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:s,tenantId:u||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return K2;case"linkViaPopup":case"linkViaRedirect":return Q2;case"reauthViaPopup":case"reauthViaRedirect":return Y2;default:Ss(this.auth,"internal-error")}}resolve(t){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const X2=new Wu(2e3,1e4);class Io extends Ub{constructor(t,e,s,a,u){super(t,e,a,u),this.provider=s,this.authWindow=null,this.pollId=null,Io.currentPopupAction&&Io.currentPopupAction.cancel(),Io.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){As(this.filter.length===1,"Popup operations only handle one event");const t=ny();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Io.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,X2.get())};t()}}Io.currentPopupAction=null;const $2="pendingRedirect",tf=new Map;class W2 extends Ub{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=tf.get(this.auth._key());if(!t){try{const s=await Z2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}tf.set(this.auth._key(),t)}return this.bypassAuthState||tf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Z2(n,t){const e=eV(t),s=tV(n);if(!await s._isAvailable())return!1;const a=await s._get(e)==="true";return await s._remove(e),a}function J2(n,t){tf.set(n._key(),t)}function tV(n){return _s(n._redirectPersistence)}function eV(n){return Jh($2,n.config.apiKey,n.name)}async function nV(n,t,e=!1){if(di(n.app))return Promise.reject(Er(n));const s=Kf(n),a=G2(s,t),c=await new W2(s,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}const iV=600*1e3;class sV{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!rV(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!Bb(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Fi(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=iV&&this.cachedEventUids.clear(),this.cachedEventUids.has(SE(t))}saveEventToCache(t){this.cachedEventUids.add(SE(t)),this.lastProcessedEventTime=Date.now()}}function SE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function Bb({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function rV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bb(n);default:return!1}}async function aV(n,t={}){return Zo(n,"GET","/v1/projects",t)}const oV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lV=/^https?/;async function uV(n){if(n.config.emulator)return;const{authorizedDomains:t}=await aV(n);for(const e of t)try{if(cV(e))return}catch{}Ss(n,"unauthorized-domain")}function cV(n){const t=ng(),{protocol:e,hostname:s}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===s}if(!lV.test(e))return!1;if(oV.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const hV=new Wu(3e4,6e4);function AE(){const n=qi().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function fV(n){return new Promise((t,e)=>{function s(){AE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{AE(),e(Fi(n,"network-request-failed"))},timeout:hV.get()})}if(qi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(qi().gapi?.load)s();else{const a=p2("iframefcb");return qi()[a]=()=>{gapi.load?s():e(Fi(n,"network-request-failed"))},d2(`${m2()}?onload=${a}`).catch(u=>e(u))}}).catch(t=>{throw ef=null,t})}let ef=null;function dV(n){return ef=ef||fV(n),ef}const mV=new Wu(5e3,15e3),pV="__/auth/iframe",gV="emulator/auth/iframe",yV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _V(n){const t=n.config;St(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Zg(t,gV):`https://${n.config.authDomain}/${pV}`,s={apiKey:t.apiKey,appName:n.name,v:Wo},a=vV.get(n.config.apiHost);a&&(s.eid=a);const u=n._getFrameworks();return u.length&&(s.fw=u.join(",")),`${e}?${$u(s).slice(1)}`}async function TV(n){const t=await dV(n),e=qi().gapi;return St(e,n,"internal-error"),t.open({where:document.body,url:_V(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yV,dontclear:!0},s=>new Promise(async(a,u)=>{await s.restyle({setHideOnLeave:!1});const c=Fi(n,"network-request-failed"),d=qi().setTimeout(()=>{u(c)},mV.get());function p(){qi().clearTimeout(d),a(s)}s.ping(p).then(p,()=>{u(c)})}))}const EV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SV=500,AV=600,bV="_blank",wV="http://localhost";class bE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RV(n,t,e,s=SV,a=AV){const u=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...EV,width:s.toString(),height:a.toString(),top:u,left:c},g=un().toLowerCase();e&&(d=_b(g)?bV:e),yb(g)&&(t=t||wV,p.scrollbars="yes");const y=Object.entries(p).reduce((S,[I,P])=>`${S}${I}=${P},`,"");if(r2(g)&&d!=="_self")return CV(t||"",d),new bE(null);const T=window.open(t||"",d,y);St(T,n,"popup-blocked");try{T.focus()}catch{}return new bE(T)}function CV(n,t){const e=document.createElement("a");e.href=n,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}const IV="__/auth/handler",xV="emulator/auth/handler",DV=encodeURIComponent("fac");async function wE(n,t,e,s,a,u){St(n.config.authDomain,n,"auth-domain-config-required"),St(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:s,v:Wo,eventId:a};if(t instanceof Ib){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",Dx(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,T]of Object.entries({}))c[y]=T}if(t instanceof Zu){const y=t.getScopes().filter(T=>T!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const p=await n._getAppCheckToken(),g=p?`#${DV}=${encodeURIComponent(p)}`:"";return`${VV(n)}?${$u(d).slice(1)}${g}`}function VV({config:n}){return n.emulator?Zg(n,xV):`https://${n.authDomain}/${IV}`}const Dp="webStorageSupport";class MV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nb,this._completeRedirectFn=nV,this._overrideRedirectResult=J2}async _openPopup(t,e,s,a){As(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await wE(t,e,s,ng(),a);return RV(t,u,ny())}async _openRedirect(t,e,s,a){await this._originValidation(t);const u=await wE(t,e,s,ng(),a);return P2(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:u}=this.eventManagers[e];return a?Promise.resolve(a):(As(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await TV(t),s=new sV(t);return e.register("authEvent",a=>(St(a?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Dp,{type:Dp},a=>{const u=a?.[0]?.[Dp];u!==void 0&&e(!!u),Ss(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=uV(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return bb()||vb()||ty()}}const NV=MV;var RE="@firebase/auth",CE="1.12.0";class OV{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function PV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kV(n){zo(new Ra("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;St(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wb(n)},g=new h2(s,a,u,p);return y2(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),zo(new Ra("auth-internal",t=>{const e=Kf(t.getProvider("auth").getImmediate());return(s=>new OV(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tr(RE,CE,PV(n)),Tr(RE,CE,"esm2020")}const LV=300,UV=JA("authIdTokenMaxAge")||LV;let IE=null;const BV=n=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>UV)return;const a=e?.token;IE!==a&&(IE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function zV(n=rb()){const t=$g(n,"auth");if(t.isInitialized())return t.getImmediate();const e=g2(n,{popupRedirectResolver:NV,persistence:[H2,M2,Nb]}),s=JA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=BV(u.toString());I2(e,c,()=>c(e.currentUser)),C2(e,d=>c(d))}}const a=WA("auth");return a&&v2(e,`http://${a}`),e}function jV(){return document.getElementsByTagName("head")?.[0]??document}f2({loadJS(n){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=t,s.onerror=a=>{const u=Fi("internal-error");u.customData=a,e(u)},s.type="text/javascript",s.charset="UTF-8",jV().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kV("Browser");var FV="firebase",qV="12.8.0";Tr(FV,qV,"app");var xE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Sr,zb;(function(){var n;function t(C,w){function R(){}R.prototype=w.prototype,C.F=w.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(M,V,k){for(var x=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)x[ee-2]=arguments[ee];return w.prototype[V].apply(M,x)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,e),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,w,R){R||(R=0);const M=Array(16);if(typeof w=="string")for(var V=0;V<16;++V)M[V]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(V=0;V<16;++V)M[V]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=C.g[0],R=C.g[1],V=C.g[2];let k=C.g[3],x;x=w+(k^R&(V^k))+M[0]+3614090360&4294967295,w=R+(x<<7&4294967295|x>>>25),x=k+(V^w&(R^V))+M[1]+3905402710&4294967295,k=w+(x<<12&4294967295|x>>>20),x=V+(R^k&(w^R))+M[2]+606105819&4294967295,V=k+(x<<17&4294967295|x>>>15),x=R+(w^V&(k^w))+M[3]+3250441966&4294967295,R=V+(x<<22&4294967295|x>>>10),x=w+(k^R&(V^k))+M[4]+4118548399&4294967295,w=R+(x<<7&4294967295|x>>>25),x=k+(V^w&(R^V))+M[5]+1200080426&4294967295,k=w+(x<<12&4294967295|x>>>20),x=V+(R^k&(w^R))+M[6]+2821735955&4294967295,V=k+(x<<17&4294967295|x>>>15),x=R+(w^V&(k^w))+M[7]+4249261313&4294967295,R=V+(x<<22&4294967295|x>>>10),x=w+(k^R&(V^k))+M[8]+1770035416&4294967295,w=R+(x<<7&4294967295|x>>>25),x=k+(V^w&(R^V))+M[9]+2336552879&4294967295,k=w+(x<<12&4294967295|x>>>20),x=V+(R^k&(w^R))+M[10]+4294925233&4294967295,V=k+(x<<17&4294967295|x>>>15),x=R+(w^V&(k^w))+M[11]+2304563134&4294967295,R=V+(x<<22&4294967295|x>>>10),x=w+(k^R&(V^k))+M[12]+1804603682&4294967295,w=R+(x<<7&4294967295|x>>>25),x=k+(V^w&(R^V))+M[13]+4254626195&4294967295,k=w+(x<<12&4294967295|x>>>20),x=V+(R^k&(w^R))+M[14]+2792965006&4294967295,V=k+(x<<17&4294967295|x>>>15),x=R+(w^V&(k^w))+M[15]+1236535329&4294967295,R=V+(x<<22&4294967295|x>>>10),x=w+(V^k&(R^V))+M[1]+4129170786&4294967295,w=R+(x<<5&4294967295|x>>>27),x=k+(R^V&(w^R))+M[6]+3225465664&4294967295,k=w+(x<<9&4294967295|x>>>23),x=V+(w^R&(k^w))+M[11]+643717713&4294967295,V=k+(x<<14&4294967295|x>>>18),x=R+(k^w&(V^k))+M[0]+3921069994&4294967295,R=V+(x<<20&4294967295|x>>>12),x=w+(V^k&(R^V))+M[5]+3593408605&4294967295,w=R+(x<<5&4294967295|x>>>27),x=k+(R^V&(w^R))+M[10]+38016083&4294967295,k=w+(x<<9&4294967295|x>>>23),x=V+(w^R&(k^w))+M[15]+3634488961&4294967295,V=k+(x<<14&4294967295|x>>>18),x=R+(k^w&(V^k))+M[4]+3889429448&4294967295,R=V+(x<<20&4294967295|x>>>12),x=w+(V^k&(R^V))+M[9]+568446438&4294967295,w=R+(x<<5&4294967295|x>>>27),x=k+(R^V&(w^R))+M[14]+3275163606&4294967295,k=w+(x<<9&4294967295|x>>>23),x=V+(w^R&(k^w))+M[3]+4107603335&4294967295,V=k+(x<<14&4294967295|x>>>18),x=R+(k^w&(V^k))+M[8]+1163531501&4294967295,R=V+(x<<20&4294967295|x>>>12),x=w+(V^k&(R^V))+M[13]+2850285829&4294967295,w=R+(x<<5&4294967295|x>>>27),x=k+(R^V&(w^R))+M[2]+4243563512&4294967295,k=w+(x<<9&4294967295|x>>>23),x=V+(w^R&(k^w))+M[7]+1735328473&4294967295,V=k+(x<<14&4294967295|x>>>18),x=R+(k^w&(V^k))+M[12]+2368359562&4294967295,R=V+(x<<20&4294967295|x>>>12),x=w+(R^V^k)+M[5]+4294588738&4294967295,w=R+(x<<4&4294967295|x>>>28),x=k+(w^R^V)+M[8]+2272392833&4294967295,k=w+(x<<11&4294967295|x>>>21),x=V+(k^w^R)+M[11]+1839030562&4294967295,V=k+(x<<16&4294967295|x>>>16),x=R+(V^k^w)+M[14]+4259657740&4294967295,R=V+(x<<23&4294967295|x>>>9),x=w+(R^V^k)+M[1]+2763975236&4294967295,w=R+(x<<4&4294967295|x>>>28),x=k+(w^R^V)+M[4]+1272893353&4294967295,k=w+(x<<11&4294967295|x>>>21),x=V+(k^w^R)+M[7]+4139469664&4294967295,V=k+(x<<16&4294967295|x>>>16),x=R+(V^k^w)+M[10]+3200236656&4294967295,R=V+(x<<23&4294967295|x>>>9),x=w+(R^V^k)+M[13]+681279174&4294967295,w=R+(x<<4&4294967295|x>>>28),x=k+(w^R^V)+M[0]+3936430074&4294967295,k=w+(x<<11&4294967295|x>>>21),x=V+(k^w^R)+M[3]+3572445317&4294967295,V=k+(x<<16&4294967295|x>>>16),x=R+(V^k^w)+M[6]+76029189&4294967295,R=V+(x<<23&4294967295|x>>>9),x=w+(R^V^k)+M[9]+3654602809&4294967295,w=R+(x<<4&4294967295|x>>>28),x=k+(w^R^V)+M[12]+3873151461&4294967295,k=w+(x<<11&4294967295|x>>>21),x=V+(k^w^R)+M[15]+530742520&4294967295,V=k+(x<<16&4294967295|x>>>16),x=R+(V^k^w)+M[2]+3299628645&4294967295,R=V+(x<<23&4294967295|x>>>9),x=w+(V^(R|~k))+M[0]+4096336452&4294967295,w=R+(x<<6&4294967295|x>>>26),x=k+(R^(w|~V))+M[7]+1126891415&4294967295,k=w+(x<<10&4294967295|x>>>22),x=V+(w^(k|~R))+M[14]+2878612391&4294967295,V=k+(x<<15&4294967295|x>>>17),x=R+(k^(V|~w))+M[5]+4237533241&4294967295,R=V+(x<<21&4294967295|x>>>11),x=w+(V^(R|~k))+M[12]+1700485571&4294967295,w=R+(x<<6&4294967295|x>>>26),x=k+(R^(w|~V))+M[3]+2399980690&4294967295,k=w+(x<<10&4294967295|x>>>22),x=V+(w^(k|~R))+M[10]+4293915773&4294967295,V=k+(x<<15&4294967295|x>>>17),x=R+(k^(V|~w))+M[1]+2240044497&4294967295,R=V+(x<<21&4294967295|x>>>11),x=w+(V^(R|~k))+M[8]+1873313359&4294967295,w=R+(x<<6&4294967295|x>>>26),x=k+(R^(w|~V))+M[15]+4264355552&4294967295,k=w+(x<<10&4294967295|x>>>22),x=V+(w^(k|~R))+M[6]+2734768916&4294967295,V=k+(x<<15&4294967295|x>>>17),x=R+(k^(V|~w))+M[13]+1309151649&4294967295,R=V+(x<<21&4294967295|x>>>11),x=w+(V^(R|~k))+M[4]+4149444226&4294967295,w=R+(x<<6&4294967295|x>>>26),x=k+(R^(w|~V))+M[11]+3174756917&4294967295,k=w+(x<<10&4294967295|x>>>22),x=V+(w^(k|~R))+M[2]+718787259&4294967295,V=k+(x<<15&4294967295|x>>>17),x=R+(k^(V|~w))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(V+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+k&4294967295}s.prototype.v=function(C,w){w===void 0&&(w=C.length);const R=w-this.blockSize,M=this.C;let V=this.h,k=0;for(;k<w;){if(V==0)for(;k<=R;)a(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<w;)if(M[V++]=C.charCodeAt(k++),V==this.blockSize){a(this,M),V=0;break}}else for(;k<w;)if(M[V++]=C[k++],V==this.blockSize){a(this,M),V=0;break}}this.h=V,this.o+=w},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)C[w++]=this.g[R]>>>M&255;return C};function u(C,w){var R=d;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=w(C)}function c(C,w){this.h=w;const R=[];let M=!0;for(let V=C.length-1;V>=0;V--){const k=C[V]|0;M&&k==w||(R[V]=k,M=!1)}this.g=R}var d={};function p(C){return-128<=C&&C<128?u(C,function(w){return new c([w|0],w<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return U(g(-C));const w=[];let R=1;for(let M=0;C>=R;M++)w[M]=C/R|0,R*=4294967296;return new c(w,0)}function y(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return U(y(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(w,8));let M=T;for(let k=0;k<C.length;k+=8){var V=Math.min(8,C.length-k);const x=parseInt(C.substring(k,k+V),w);V<8?(V=g(Math.pow(w,V)),M=M.j(V).add(g(x))):(M=M.j(R),M=M.add(g(x)))}return M}var T=p(0),S=p(1),I=p(16777216);n=c.prototype,n.m=function(){if(z(this))return-U(this).m();let C=0,w=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);C+=(M>=0?M:4294967296+M)*w,w*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(P(this))return"0";if(z(this))return"-"+U(this).toString(C);const w=g(Math.pow(C,6));var R=this;let M="";for(;;){const V=X(R,w).g;R=Y(R,V.j(w));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=V,P(R))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function P(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function z(C){return C.h==-1}n.l=function(C){return C=Y(this,C),z(C)?-1:P(C)?0:1};function U(C){const w=C.g.length,R=[];for(let M=0;M<w;M++)R[M]=~C.g[M];return new c(R,~C.h).add(S)}n.abs=function(){return z(this)?U(this):this},n.add=function(C){const w=Math.max(this.g.length,C.g.length),R=[];let M=0;for(let V=0;V<=w;V++){let k=M+(this.i(V)&65535)+(C.i(V)&65535),x=(k>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);M=x>>>16,k&=65535,x&=65535,R[V]=x<<16|k}return new c(R,R[R.length-1]&-2147483648?-1:0)};function Y(C,w){return C.add(U(w))}n.j=function(C){if(P(this)||P(C))return T;if(z(this))return z(C)?U(this).j(U(C)):U(U(this).j(C));if(z(C))return U(this.j(U(C)));if(this.l(I)<0&&C.l(I)<0)return g(this.m()*C.m());const w=this.g.length+C.g.length,R=[];for(var M=0;M<2*w;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<C.g.length;V++){const k=this.i(M)>>>16,x=this.i(M)&65535,ee=C.i(V)>>>16,fe=C.i(V)&65535;R[2*M+2*V]+=x*fe,et(R,2*M+2*V),R[2*M+2*V+1]+=k*fe,et(R,2*M+2*V+1),R[2*M+2*V+1]+=x*ee,et(R,2*M+2*V+1),R[2*M+2*V+2]+=k*ee,et(R,2*M+2*V+2)}for(C=0;C<w;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=w;C<2*w;C++)R[C]=0;return new c(R,0)};function et(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function H(C,w){this.g=C,this.h=w}function X(C,w){if(P(w))throw Error("division by zero");if(P(C))return new H(T,T);if(z(C))return w=X(U(C),w),new H(U(w.g),U(w.h));if(z(w))return w=X(C,U(w)),new H(U(w.g),w.h);if(C.g.length>30){if(z(C)||z(w))throw Error("slowDivide_ only works with positive integers.");for(var R=S,M=w;M.l(C)<=0;)R=at(R),M=at(M);var V=ot(R,1),k=ot(M,1);for(M=ot(M,2),R=ot(R,2);!P(M);){var x=k.add(M);x.l(C)<=0&&(V=V.add(R),k=x),M=ot(M,1),R=ot(R,1)}return w=Y(C,V.j(w)),new H(V,w)}for(V=T;C.l(w)>=0;){for(R=Math.max(1,Math.floor(C.m()/w.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=g(R),x=k.j(w);z(x)||x.l(C)>0;)R-=M,k=g(R),x=k.j(w);P(k)&&(k=S),V=V.add(k),C=Y(C,x)}return new H(V,C)}n.B=function(C){return X(this,C).h},n.and=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)&C.i(M);return new c(R,this.h&C.h)},n.or=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)|C.i(M);return new c(R,this.h|C.h)},n.xor=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)^C.i(M);return new c(R,this.h^C.h)};function at(C){const w=C.g.length+1,R=[];for(let M=0;M<w;M++)R[M]=C.i(M)<<1|C.i(M-1)>>>31;return new c(R,C.h)}function ot(C,w){const R=w>>5;w%=32;const M=C.g.length-R,V=[];for(let k=0;k<M;k++)V[k]=w>0?C.i(k+R)>>>w|C.i(k+R+1)<<32-w:C.i(k+R);return new c(V,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,zb=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,Sr=c}).apply(typeof xE<"u"?xE:typeof self<"u"?self:typeof window<"u"?window:{});var Fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var jb,gu,Fb,nf,rg,qb,Hb,Gb;(function(){var n,t=Object.defineProperty;function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fh=="object"&&Fh];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=e(this);function a(h,v){if(v)t:{var E=s;h=h.split(".");for(var b=0;b<h.length-1;b++){var B=h[b];if(!(B in E))break t;E=E[B]}h=h[h.length-1],b=E[h],v=v(b),v!=b&&v!=null&&t(E,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var E=[],b;for(b in v)Object.prototype.hasOwnProperty.call(v,b)&&E.push([b,v[b]]);return E}});var u=u||{},c=this||self;function d(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function p(h,v,E){return h.call.apply(h.bind,arguments)}function g(h,v,E){return g=p,g.apply(null,arguments)}function y(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function T(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(b,B,K){for(var lt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)lt[Rt-2]=arguments[Rt];return v.prototype[B].apply(b,lt)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function I(h){const v=h.length;if(v>0){const E=Array(v);for(let b=0;b<v;b++)E[b]=h[b];return E}return[]}function P(h,v){for(let b=1;b<arguments.length;b++){const B=arguments[b];var E=typeof B;if(E=E!="object"?E:B?Array.isArray(B)?"array":E:"null",E=="array"||E=="object"&&typeof B.length=="number"){E=h.length||0;const K=B.length||0;h.length=E+K;for(let lt=0;lt<K;lt++)h[E+lt]=B[lt]}else h.push(B)}}class z{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function U(h){c.setTimeout(()=>{throw h},0)}function Y(){var h=C;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class et{constructor(){this.h=this.g=null}add(v,E){const b=H.get();b.set(v,E),this.h?this.h.next=b:this.g=b,this.h=b}}var H=new z(()=>new X,h=>h.reset());class X{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ot=!1,C=new et,w=()=>{const h=Promise.resolve(void 0);at=()=>{h.then(R)}};function R(){for(var h;h=Y();){try{h.h.call(h.g)}catch(E){U(E)}var v=H;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}ot=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return h})();function x(h){return/^[\s\xa0]*$/.test(h)}function ee(h,v){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}T(ee,V),ee.prototype.init=function(h,v){const E=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),Z=0;function rt(h,v,E,b,B){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!b,this.ha=B,this.key=++Z,this.da=this.fa=!1}function dt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function It(h,v,E){for(const b in h)v.call(E,h[b],b,h)}function Nt(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function O(h){const v={};for(const E in h)v[E]=h[E];return v}const it="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(h,v){let E,b;for(let B=1;B<arguments.length;B++){b=arguments[B];for(E in b)h[E]=b[E];for(let K=0;K<it.length;K++)E=it[K],Object.prototype.hasOwnProperty.call(b,E)&&(h[E]=b[E])}}function ft(h){this.src=h,this.g={},this.h=0}ft.prototype.add=function(h,v,E,b,B){const K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);const lt=xt(h,v,b,B);return lt>-1?(v=h[lt],E||(v.fa=!1)):(v=new rt(v,this.src,K,!!b,B),v.fa=E,h.push(v)),v};function At(h,v){const E=v.type;if(E in h.g){var b=h.g[E],B=Array.prototype.indexOf.call(b,v,void 0),K;(K=B>=0)&&Array.prototype.splice.call(b,B,1),K&&(dt(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function xt(h,v,E,b){for(let B=0;B<h.length;++B){const K=h[B];if(!K.da&&K.listener==v&&K.capture==!!E&&K.ha==b)return B}return-1}var zt="closure_lm_"+(Math.random()*1e6|0),Pe={};function oe(h,v,E,b,B){if(Array.isArray(v)){for(let K=0;K<v.length;K++)oe(h,v[K],E,b,B);return null}return E=cl(E),h&&h[fe]?h.J(v,E,d(b)?!!b.capture:!1,B):Br(h,v,E,!1,b,B)}function Br(h,v,E,b,B,K){if(!v)throw Error("Invalid event type");const lt=d(B)?!!B.capture:!!B;let Rt=zr(h);if(Rt||(h[zt]=Rt=new ft(h)),E=Rt.add(v,E,b,lt,K),E.proxy)return E;if(b=Na(),E.proxy=b,b.src=h,b.listener=E,h.addEventListener)k||(B=lt),B===void 0&&(B=!1),h.addEventListener(v.toString(),b,B);else if(h.attachEvent)h.attachEvent(yi(v.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Na(){function h(E){return v.call(h.src,h.listener,E)}const v=ll;return h}function Oa(h,v,E,b,B){if(Array.isArray(v))for(var K=0;K<v.length;K++)Oa(h,v[K],E,b,B);else b=d(b)?!!b.capture:!!b,E=cl(E),h&&h[fe]?(h=h.i,K=String(v).toString(),K in h.g&&(v=h.g[K],E=xt(v,E,b,B),E>-1&&(dt(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[K],h.h--)))):h&&(h=zr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=xt(v,E,b,B)),(E=h>-1?v[h]:null)&&Pa(E))}function Pa(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[fe])At(v.i,h);else{var E=h.type,b=h.proxy;v.removeEventListener?v.removeEventListener(E,b,h.capture):v.detachEvent?v.detachEvent(yi(E),b):v.addListener&&v.removeListener&&v.removeListener(b),(E=zr(v))?(At(E,h),E.h==0&&(E.src=null,v[zt]=null)):dt(h)}}}function yi(h){return h in Pe?Pe[h]:Pe[h]="on"+h}function ll(h,v){if(h.da)h=!0;else{v=new ee(v,this);const E=h.listener,b=h.ha||h.src;h.fa&&Pa(h),h=E.call(b,v)}return h}function zr(h){return h=h[zt],h instanceof ft?h:null}var ul="__closure_events_fn_"+(Math.random()*1e9>>>0);function cl(h){return typeof h=="function"?h:(h[ul]||(h[ul]=function(v){return h.handleEvent(v)}),h[ul])}function Se(){M.call(this),this.i=new ft(this),this.M=this,this.G=null}T(Se,M),Se.prototype[fe]=!0,Se.prototype.removeEventListener=function(h,v,E,b){Oa(this,h,v,E,b)};function ke(h,v){var E,b=h.G;if(b)for(E=[];b;b=b.G)E.push(b);if(h=h.M,b=v.type||v,typeof v=="string")v=new V(v,h);else if(v instanceof V)v.target=v.target||h;else{var B=v;v=new V(b,h),ct(v,B)}B=!0;let K,lt;if(E)for(lt=E.length-1;lt>=0;lt--)K=v.g=E[lt],B=xs(K,b,!0,v)&&B;if(K=v.g=h,B=xs(K,b,!0,v)&&B,B=xs(K,b,!1,v)&&B,E)for(lt=0;lt<E.length;lt++)K=v.g=E[lt],B=xs(K,b,!1,v)&&B}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let b=0;b<E.length;b++)dt(E[b]);delete h.g[v],h.h--}}this.G=null},Se.prototype.J=function(h,v,E,b){return this.i.add(String(h),v,!1,E,b)},Se.prototype.K=function(h,v,E,b){return this.i.add(String(h),v,!0,E,b)};function xs(h,v,E,b){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let B=!0;for(let K=0;K<v.length;++K){const lt=v[K];if(lt&&!lt.da&&lt.capture==E){const Rt=lt.listener,ye=lt.ha||lt.src;lt.fa&&At(h.i,lt),B=Rt.call(ye,b)!==!1&&B}}return B&&!b.defaultPrevented}function Td(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function fc(h){h.g=Td(()=>{h.g=null,h.i&&(h.i=!1,fc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class cn extends M{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:fc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(h){M.call(this),this.h=h,this.g={}}T(jr,M);var hl=[];function fl(h){It(h.g,function(v,E){this.g.hasOwnProperty(E)&&Pa(v)},h),h.g={}}jr.prototype.N=function(){jr.Z.N.call(this),fl(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ds=c.JSON.stringify,Ed=c.JSON.parse,dc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function mc(){}function pc(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ye(){V.call(this,"d")}T(Ye,V);function kn(){V.call(this,"c")}T(kn,V);var ge={},gc=null;function ka(){return gc=gc||new Se}ge.Ia="serverreachability";function yc(h){V.call(this,ge.Ia,h)}T(yc,V);function vi(h){const v=ka();ke(v,new yc(v))}ge.STAT_EVENT="statevent";function Fr(h,v){V.call(this,ge.STAT_EVENT,h),this.stat=v}T(Fr,V);function Ae(h){const v=ka();ke(v,new Fr(v,h))}ge.Ja="timingevent";function _i(h,v){V.call(this,ge.Ja,h),this.size=v}T(_i,V);function Ti(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function ti(){this.g=!0}ti.prototype.ua=function(){this.g=!1};function Sd(h,v,E,b,B,K){h.info(function(){if(h.g)if(K){var lt="",Rt=K.split("&");for(let Gt=0;Gt<Rt.length;Gt++){var ye=Rt[Gt].split("=");if(ye.length>1){const le=ye[0];ye=ye[1];const zn=le.split("_");lt=zn.length>=2&&zn[1]=="type"?lt+(le+"="+ye+"&"):lt+(le+"=redacted&")}}}else lt=null;else lt=K;return"XMLHTTP REQ ("+b+") [attempt "+B+"]: "+v+`
`+E+`
`+lt})}function vc(h,v,E,b,B,K,lt){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+B+"]: "+v+`
`+E+`
`+K+" "+lt})}function Ei(h,v,E,b){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ad(h,E)+(b?" "+b:"")})}function qr(h,v){h.info(function(){return"TIMEOUT: "+v})}ti.prototype.info=function(){};function Ad(h,v){if(!h.g)return v;if(!v)return null;try{const K=JSON.parse(v);if(K){for(h=0;h<K.length;h++)if(Array.isArray(K[h])){var E=K[h];if(!(E.length<2)){var b=E[1];if(Array.isArray(b)&&!(b.length<1)){var B=b[0];if(B!="noop"&&B!="stop"&&B!="close")for(let lt=1;lt<b.length;lt++)b[lt]=""}}}}return Ds(K)}catch{return v}}var Hr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},dl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ml;function Gr(){}T(Gr,mc),Gr.prototype.g=function(){return new XMLHttpRequest},ml=new Gr;function Wi(h){return encodeURIComponent(String(h))}function _c(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function ei(h,v,E,b){this.j=h,this.i=v,this.l=E,this.S=b||1,this.V=new jr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var be={},Fe={};function Si(h,v,E){h.M=1,h.A=Kr(Re(v)),h.u=E,h.R=!0,La(h,null)}function La(h,v){h.F=Date.now(),Ai(h),h.B=Re(h.A);var E=h.B,b=h.S;Array.isArray(b)||(b=[String(b)]),ja(E.i,"t",b),h.C=0,E=h.j.L,h.h=new ni,h.g=Oc(h.j,E?v:null,!h.u),h.P>0&&(h.O=new cn(g(h.Y,h,h.g),h.P)),v=h.V,E=h.g,b=h.ba;var B="readystatechange";Array.isArray(B)||(B&&(hl[0]=B.toString()),B=hl);for(let K=0;K<B.length;K++){const lt=oe(E,B[K],b||v.handleEvent,!1,v.h||v);if(!lt)break;v.g[lt.key]=lt}v=h.J?O(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),vi(),Sd(h.i,h.v,h.B,h.l,h.S,h.u)}ei.prototype.ba=function(h){h=h.target;const v=this.O;v&&ri(h)==3?v.j():this.Y(h)},ei.prototype.Y=function(h){try{if(h==this.g)t:{const Rt=ri(this.g),ye=this.g.ya(),Gt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Qe(this.g)))){this.K||Rt!=4||ye==7||(ye==8||Gt<=0?vi(3):vi(2)),bi(this);var v=this.g.ca();this.X=v;var E=bd(this);if(this.o=v==200,vc(this.i,this.v,this.B,this.l,this.S,Rt,v),this.o){if(this.U&&!this.L){e:{if(this.g){var b,B=this.g;if((b=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(b)){var K=b;break e}}K=null}if(h=K)Ei(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,h);else{this.o=!1,this.m=3,Ae(12),bn(this),Ln(this);break t}}if(this.R){h=!0;let le;for(;!this.K&&this.C<E.length;)if(le=Ec(this,E),le==Fe){Rt==4&&(this.m=4,Ae(14),h=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(le==be){this.m=4,Ae(15),Ei(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Ei(this.i,this.l,le,null),wi(this,le);if(Tc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||E.length!=0||this.h.h||(this.m=1,Ae(16),h=!1),this.o=this.o&&h,!h)Ei(this.i,this.l,E,"[Invalid Chunked Response]"),bn(this),Ln(this);else if(E.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),xl(lt),lt.P=!0,Ae(11))}}else Ei(this.i,this.l,E,null),wi(this,E);Rt==4&&bn(this),this.o&&!this.K&&(Rt==4?Dc(this.j,this):(this.o=!1,Ai(this)))}else Ji(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),bn(this),Ln(this)}}}catch{}};function bd(h){if(!Tc(h))return h.g.la();const v=Qe(h.g);if(v==="")return"";let E="";const b=v.length,B=ri(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return bn(h),Ln(h),"";h.h.i=new c.TextDecoder}for(let K=0;K<b;K++)h.h.h=!0,E+=h.h.i.decode(v[K],{stream:!(B&&K==b-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function Tc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Ec(h,v){var E=h.C,b=v.indexOf(`
`,E);return b==-1?Fe:(E=Number(v.substring(E,b)),isNaN(E)?be:(b+=1,b+E>v.length?Fe:(v=v.slice(b,b+E),h.C=b+E,v)))}ei.prototype.cancel=function(){this.K=!0,bn(this)};function Ai(h){h.T=Date.now()+h.H,Ua(h,h.H)}function Ua(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ti(g(h.aa,h),v)}function bi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ei.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(qr(this.i,this.B),this.M!=2&&(vi(),Ae(17)),bn(this),this.m=2,Ln(this)):Ua(this,this.T-h)};function Ln(h){h.j.I==0||h.K||Dc(h.j,h)}function bn(h){bi(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,fl(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function wi(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||Ci(E.h,h))){if(!h.L&&Ci(E.h,h)&&E.I==3){try{var b=E.Ba.g.parse(v)}catch{b=null}if(Array.isArray(b)&&b.length==3){var B=b;if(B[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Ka(E),Us(E);else break t;Jr(E),Ae(18)}}else E.xa=B[1],0<E.xa-E.K&&B[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ti(g(E.Va,E),6e3));Ri(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ni(E,11)}else if((h.L||E.g==h)&&Ka(E),!x(v))for(B=E.Ba.g.parse(v),v=0;v<B.length;v++){let Gt=B[v];const le=Gt[0];if(!(le<=E.K))if(E.K=le,Gt=Gt[1],E.I==2)if(Gt[0]=="c"){E.M=Gt[1],E.ba=Gt[2];const zn=Gt[3];zn!=null&&(E.ka=zn,E.j.info("VER="+E.ka));const Oi=Gt[4];Oi!=null&&(E.za=Oi,E.j.info("SVER="+E.za));const ai=Gt[5];ai!=null&&typeof ai=="number"&&ai>0&&(b=1.5*ai,E.O=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const oi=h.g;if(oi){const ta=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ta){var K=b.h;K.g||ta.indexOf("spdy")==-1&&ta.indexOf("quic")==-1&&ta.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(yl(K,K.h),K.h=null))}if(b.G){const Ya=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ya&&(b.wa=Ya,Yt(b.J,b.G,Ya))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),b=E;var lt=h;if(b.na=Nc(b,b.L?b.ba:null,b.W),lt.L){vl(b.h,lt);var Rt=lt,ye=b.O;ye&&(Rt.H=ye),Rt.D&&(bi(Rt),Ai(Rt)),b.g=lt}else Ic(b);E.i.length>0&&Mi(E)}else Gt[0]!="stop"&&Gt[0]!="close"||Ni(E,7);else E.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?Ni(E,7):Cl(E):Gt[0]!="noop"&&E.l&&E.l.qa(Gt),E.A=0)}}vi(4)}catch{}}var we=class{constructor(h,v){this.g=h,this.map=v}};function pl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ri(h){return h.h?1:h.g?h.g.size:0}function Ci(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function yl(h,v){h.g?h.g.add(v):h.h=v}function vl(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}pl.prototype.cancel=function(){if(this.i=_l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function _l(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return I(h.i)}var Sc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ba(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const b=h[E].indexOf("=");let B,K=null;b>=0?(B=h[E].substring(0,b),K=h[E].substring(b+1)):B=h[E],v(B,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function wn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof wn?(this.l=h.l,qe(this,h.j),this.o=h.o,this.g=h.g,Vs(this,h.u),this.h=h.h,Tl(this,Rc(h.i)),this.m=h.m):h&&(v=String(h).match(Sc))?(this.l=!1,qe(this,v[1]||"",!0),this.o=Ii(v[2]||""),this.g=Ii(v[3]||"",!0),Vs(this,v[4]),this.h=Ii(v[5]||"",!0),Tl(this,v[6]||"",!0),this.m=Ii(v[7]||"")):(this.l=!1,this.i=new Ns(null,this.l))}wn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Yr(v,za,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Yr(v,za,!0),"@"),h.push(Wi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Yr(E,E.charAt(0)=="/"?El:Ac,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Yr(E,bc)),h.join("")},wn.prototype.resolve=function(h){const v=Re(this);let E=!!h.j;E?qe(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var b=h.h;if(E)Vs(v,h.u);else if(E=!!h.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var B=v.h.lastIndexOf("/");B!=-1&&(b=v.h.slice(0,B+1)+b)}if(B=b,B==".."||B==".")b="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){b=B.lastIndexOf("/",0)==0,B=B.split("/");const K=[];for(let lt=0;lt<B.length;){const Rt=B[lt++];Rt=="."?b&&lt==B.length&&K.push(""):Rt==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),b&&lt==B.length&&K.push("")):(K.push(Rt),b=!0)}b=K.join("/")}else b=B}return E?v.h=b:E=h.i.toString()!=="",E?Tl(v,Rc(h.i)):E=!!h.m,E&&(v.m=h.m),v};function Re(h){return new wn(h)}function qe(h,v,E){h.j=E?Ii(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Vs(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Tl(h,v,E){v instanceof Ns?(h.i=v,Fa(h.i,h.l)):(E||(v=Yr(v,Ms)),h.i=new Ns(v,h.l))}function Yt(h,v,E){h.i.set(v,E)}function Kr(h){return Yt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ii(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Yr(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,gn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function gn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var za=/[#\/\?@]/g,Ac=/[#\?:]/g,El=/[#\?]/g,Ms=/[#\?@]/g,bc=/#/g;function Ns(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function yn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ba(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}n=Ns.prototype,n.add=function(h,v){yn(this),this.i=null,h=Os(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function wc(h,v){yn(h),v=Os(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Sl(h,v){return yn(h),v=Os(h,v),h.g.has(v)}n.forEach=function(h,v){yn(this),this.g.forEach(function(E,b){E.forEach(function(B){h.call(v,B,b,this)},this)},this)};function Al(h,v){yn(h);let E=[];if(typeof v=="string")Sl(h,v)&&(E=E.concat(h.g.get(Os(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}n.set=function(h,v){return yn(this),this.i=null,h=Os(this,h),Sl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=Al(this,h),h.length>0?String(h[0]):v):v};function ja(h,v,E){wc(h,v),E.length>0&&(h.i=null,h.g.set(Os(h,v),I(E)),h.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let b=0;b<v.length;b++){var E=v[b];const B=Wi(E);E=Al(this,E);for(let K=0;K<E.length;K++){let lt=B;E[K]!==""&&(lt+="="+Wi(E[K])),h.push(lt)}}return this.i=h.join("&")};function Rc(h){const v=new Ns;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Os(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Fa(h,v){v&&!h.j&&(yn(h),h.i=null,h.g.forEach(function(E,b){const B=b.toLowerCase();b!=B&&(wc(this,b),ja(this,B,E))},h)),h.j=v}function ii(h,v){const E=new ti;if(c.Image){const b=new Image;b.onload=y(Un,E,"TestLoadImage: loaded",!0,v,b),b.onerror=y(Un,E,"TestLoadImage: error",!1,v,b),b.onabort=y(Un,E,"TestLoadImage: abort",!1,v,b),b.ontimeout=y(Un,E,"TestLoadImage: timeout",!1,v,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else v(!1)}function bl(h,v){const E=new ti,b=new AbortController,B=setTimeout(()=>{b.abort(),Un(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:b.signal}).then(K=>{clearTimeout(B),K.ok?Un(E,"TestPingServer: ok",!0,v):Un(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(B),Un(E,"TestPingServer: error",!1,v)})}function Un(h,v,E,b,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),b(E)}catch{}}function Ps(){this.g=new dc}function xi(h){this.i=h.Sb||null,this.h=h.ab||!1}T(xi,mc),xi.prototype.g=function(){return new Qr(this.i,this.h)};function Qr(h,v){Se.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Qr,Se),n=Qr.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,si(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ks(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;qa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function qa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?ks(this):si(this),this.readyState==3&&qa(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,ks(this))},n.Na=function(h){this.g&&(this.response=h,ks(this))},n.ga=function(){this.g&&ks(this)};function ks(h){h.readyState=4,h.l=null,h.j=null,h.B=null,si(h)}n.setRequestHeader=function(h,v){this.A.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function si(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Bn(h){let v="";return It(h,function(E,b){v+=b,v+=":",v+=E,v+=`\r
`}),v}function Xr(h,v,E){t:{for(b in E){var b=!1;break t}b=!0}b||(E=Bn(E),typeof h=="string"?E!=null&&Wi(E):Yt(h,v,E))}function $t(h){Se.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T($t,Se);var Di=/^https?$/i,wl=["POST","PUT"];n=$t.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,v,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ml.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(K){$r(this,K);return}if(h=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var B in b)E.set(B,b[B]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const K of b.keys())E.set(K,b.get(K));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),B=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(wl,v,void 0)>=0)||b||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,lt]of E)this.g.setRequestHeader(K,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(K){$r(this,K)}};function $r(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,Rl(h),Zi(h)}function Rl(h){h.A||(h.A=!0,ke(h,"complete"),ke(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,ke(this,"complete"),ke(this,"abort"),Zi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zi(this,!0)),$t.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Wr(this):this.Xa())},n.Xa=function(){Wr(this)};function Wr(h){if(h.h&&typeof u<"u"){if(h.v&&ri(h)==4)setTimeout(h.Ca.bind(h),0);else if(ke(h,"readystatechange"),ri(h)==4){h.h=!1;try{const K=h.ca();t:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var E;if(!(E=v)){var b;if(b=K===0){let lt=String(h.D).match(Sc)[1]||null;!lt&&c.self&&c.self.location&&(lt=c.self.location.protocol.slice(0,-1)),b=!Di.test(lt?lt.toLowerCase():"")}E=b}if(E)ke(h,"complete"),ke(h,"success");else{h.o=6;try{var B=ri(h)>2?h.g.statusText:""}catch{B=""}h.l=B+" ["+h.ca()+"]",Rl(h)}}finally{Zi(h)}}}}function Zi(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||ke(h,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ri(h){return h.g?h.g.readyState:0}n.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Ed(v)}};function Qe(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ji(h){const v={};h=(h.g&&ri(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(x(h[b]))continue;var E=_c(h[b]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=v[B]||[];v[B]=K,K.push(E)}Nt(v,function(b){return b.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function Ls(h){this.za=0,this.i=[],this.j=new ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vi("baseRetryDelayMs",5e3,h),this.Za=Vi("retryDelaySeedMs",1e4,h),this.Ta=Vi("forwardChannelMaxRetries",2,h),this.va=Vi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new pl(h&&h.concurrentRequestLimit),this.Ba=new Ps,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ls.prototype,n.ka=8,n.I=1,n.connect=function(h,v,E,b){Ae(0),this.W=h,this.H=v||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.J=Nc(this,null,this.W),Mi(this)};function Cl(h){if(Ha(h),h.I==3){var v=h.V++,E=Re(h.J);if(Yt(E,"SID",h.M),Yt(E,"RID",v),Yt(E,"TYPE","terminate"),Zr(h,E),v=new ei(h,h.j,v),v.M=2,v.A=Kr(Re(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.A,E=!0),E||(v.g=Oc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ai(v)}Mc(h)}function Us(h){h.g&&(xl(h),h.g.cancel(),h.g=null)}function Ha(h){Us(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ka(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Mi(h){if(!gl(h.h)&&!h.m){h.m=!0;var v=h.Ea;at||w(),ot||(at(),ot=!0),C.add(v,h),h.D=0}}function Ga(h,v){return Ri(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ti(g(h.Ea,h,v),Vc(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const B=new ei(this,this.j,h);let K=this.o;if(this.U&&(K?(K=O(K),ct(K,this.U)):K=this.U),this.u!==null||this.R||(B.J=K,K=null),this.S)t:{for(var v=0,E=0;E<this.i.length;E++){e:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(v+=b,v>4096){v=E;break t}if(v===4096||E===this.i.length-1){v=E+1;break t}}v=1e3}else v=1e3;v=Cc(this,B,v),E=Re(this.J),Yt(E,"RID",h),Yt(E,"CVER",22),this.G&&Yt(E,"X-HTTP-Session-Id",this.G),Zr(this,E),K&&(this.R?v="headers="+Wi(Bn(K))+"&"+v:this.u&&Xr(E,this.u,K)),yl(this.h,B),this.Ra&&Yt(E,"TYPE","init"),this.S?(Yt(E,"$req",v),Yt(E,"SID","null"),B.U=!0,Si(B,E,null)):Si(B,E,v),this.I=2}}else this.I==3&&(h?Il(this,h):this.i.length==0||gl(this.h)||Il(this))};function Il(h,v){var E;v?E=v.l:E=h.V++;const b=Re(h.J);Yt(b,"SID",h.M),Yt(b,"RID",E),Yt(b,"AID",h.K),Zr(h,b),h.u&&h.o&&Xr(b,h.u,h.o),E=new ei(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Cc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),yl(h.h,E),Si(E,b,v)}function Zr(h,v){h.H&&It(h.H,function(E,b){Yt(v,b,E)}),h.l&&It({},function(E,b){Yt(v,b,E)})}function Cc(h,v,E){E=Math.min(h.i.length,E);const b=h.l?g(h.l.Ka,h.l,h):null;t:{var B=h.i;let Rt=-1;for(;;){const ye=["count="+E];Rt==-1?E>0?(Rt=B[0].g,ye.push("ofs="+Rt)):Rt=0:ye.push("ofs="+Rt);let Gt=!0;for(let le=0;le<E;le++){var K=B[le].g;const zn=B[le].map;if(K-=Rt,K<0)Rt=Math.max(0,B[le].g-100),Gt=!1;else try{K="req"+K+"_"||"";try{var lt=zn instanceof Map?zn:Object.entries(zn);for(const[Oi,ai]of lt){let oi=ai;d(ai)&&(oi=Ds(ai)),ye.push(K+Oi+"="+encodeURIComponent(oi))}}catch(Oi){throw ye.push(K+"type="+encodeURIComponent("_badmap")),Oi}}catch{b&&b(zn)}}if(Gt){lt=ye.join("&");break t}}lt=void 0}return h=h.i.splice(0,E),v.G=h,lt}function Ic(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;at||w(),ot||(at(),ot=!0),C.add(v,h),h.A=0}}function Jr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ti(g(h.Da,h),Vc(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,xc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ti(g(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),Us(this),xc(this))};function xl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function xc(h){h.g=new ei(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Re(h.na);Yt(v,"RID","rpc"),Yt(v,"SID",h.M),Yt(v,"AID",h.K),Yt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Yt(v,"TO",h.ia),Yt(v,"TYPE","xmlhttp"),Zr(h,v),h.u&&h.o&&Xr(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Kr(Re(v)),E.u=null,E.R=!0,La(E,h)}n.Va=function(){this.C!=null&&(this.C=null,Us(this),Jr(this),Ae(19))};function Ka(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Dc(h,v){var E=null;if(h.g==v){Ka(h),xl(h),h.g=null;var b=2}else if(Ci(h.h,v))E=v.G,vl(h.h,v),b=1;else return;if(h.I!=0){if(v.o)if(b==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var B=h.D;b=ka(),ke(b,new _i(b,E)),Mi(h)}else Ic(h);else if(B=v.m,B==3||B==0&&v.X>0||!(b==1&&Ga(h,v)||b==2&&Jr(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),B){case 1:Ni(h,5);break;case 4:Ni(h,10);break;case 3:Ni(h,6);break;default:Ni(h,2)}}}function Vc(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function Ni(h,v){if(h.j.info("Error code "+v),v==2){var E=g(h.bb,h),b=h.Ua;const B=!b;b=new wn(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||qe(b,"https"),Kr(b),B?ii(b.toString(),E):bl(b.toString(),E)}else Ae(2);h.I=0,h.l&&h.l.pa(v),Mc(h),Ha(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Mc(h){if(h.I=0,h.ja=[],h.l){const v=_l(h.h);(v.length!=0||h.i.length!=0)&&(P(h.ja,v),P(h.ja,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.oa()}}function Nc(h,v,E){var b=E instanceof wn?Re(E):new wn(E);if(b.g!="")v&&(b.g=v+"."+b.g),Vs(b,b.u);else{var B=c.location;b=B.protocol,v=v?v+"."+B.hostname:B.hostname,B=+B.port;const K=new wn(null);b&&qe(K,b),v&&(K.g=v),B&&Vs(K,B),E&&(K.h=E),b=K}return E=h.G,v=h.wa,E&&v&&Yt(b,E,v),Yt(b,"VER",h.ka),Zr(h,b),b}function Oc(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new $t(new xi({ab:E})):new $t(h.ma),v.Fa(h.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pc(){}n=Pc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Bs(){}Bs.prototype.g=function(h,v){return new hn(h,v)};function hn(h,v){Se.call(this),this.g=new Ls(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!x(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!x(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new ts(this)}T(hn,Se),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Cl(this.g)},hn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Ds(h),h=E);v.i.push(new we(v.Ya++,h)),v.I==3&&Mi(v)},hn.prototype.N=function(){this.g.l=null,delete this.j,Cl(this.g),delete this.g,hn.Z.N.call(this)};function kc(h){Ye.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const E in v){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}T(kc,Ye);function Lc(){kn.call(this),this.status=1}T(Lc,kn);function ts(h){this.g=h}T(ts,Pc),ts.prototype.ra=function(){ke(this.g,"a")},ts.prototype.qa=function(h){ke(this.g,new kc(h))},ts.prototype.pa=function(h){ke(this.g,new Lc)},ts.prototype.oa=function(){ke(this.g,"b")},Bs.prototype.createWebChannel=Bs.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,Gb=function(){return new Bs},Hb=function(){return ka()},qb=ge,rg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Hr.NO_ERROR=0,Hr.TIMEOUT=8,Hr.HTTP_ERROR=6,nf=Hr,dl.COMPLETE="complete",Fb=dl,pc.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",Se.prototype.listen=Se.prototype.J,gu=pc,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,jb=$t}).apply(typeof Fh<"u"?Fh:typeof self<"u"?self:typeof window<"u"?window:{});class an{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let Jo="12.8.0";function HV(n){Jo=n}const Ia=new Qg("@firebase/firestore");function bo(){return Ia.logLevel}function ht(n,...t){if(Ia.logLevel<=kt.DEBUG){const e=t.map(sy);Ia.debug(`Firestore (${Jo}): ${n}`,...e)}}function bs(n,...t){if(Ia.logLevel<=kt.ERROR){const e=t.map(sy);Ia.error(`Firestore (${Jo}): ${n}`,...e)}}function jo(n,...t){if(Ia.logLevel<=kt.WARN){const e=t.map(sy);Ia.warn(`Firestore (${Jo}): ${n}`,...e)}}function sy(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function _t(n,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,Kb(n,s,e)}function Kb(n,t,e){let s=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw bs(s),new Error(s)}function Ft(n,t,e,s){let a="Unexpected state";typeof e=="string"?a=e:s=e,n||Kb(t,a,s)}function bt(n,t){return n}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Is{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hi{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class Yb{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class GV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(an.UNAUTHENTICATED)))}shutdown(){}}class KV{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class YV{constructor(t){this.t=t,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Ft(this.o===void 0,42304);let s=this.i;const a=p=>this.i!==s?(s=this.i,e(p)):Promise.resolve();let u=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Hi,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},d=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Hi)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new Yb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new an(t)}}class QV{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=an.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class XV{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new QV(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class DE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $V{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,di(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Ft(this.o===void 0,3512);const s=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const a=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>a(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?a(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new DE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Ft(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new DE(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function WV(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<n;s++)e[s]=Math.floor(256*Math.random());return e}class ry{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=WV(40);for(let u=0;u<a.length;++u)s.length<20&&a[u]<e&&(s+=t.charAt(a[u]%62))}return s}}function Lt(n,t){return n<t?-1:n>t?1:0}function ag(n,t){const e=Math.min(n.length,t.length);for(let s=0;s<e;s++){const a=n.charAt(s),u=t.charAt(s);if(a!==u)return Vp(a)===Vp(u)?Lt(a,u):Vp(a)?1:-1}return Lt(n.length,t.length)}const ZV=55296,JV=57343;function Vp(n){const t=n.charCodeAt(0);return t>=ZV&&t<=JV}function Fo(n,t,e){return n.length===t.length&&n.every(((s,a)=>e(s,t[a])))}const VE="__name__";class Bi{constructor(t,e,s){e===void 0?e=0:e>t.length&&_t(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&_t(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return Bi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Bi?t.forEach((s=>{e.push(s)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let a=0;a<s;a++){const u=Bi.compareSegments(t.get(a),e.get(a));if(u!==0)return u}return Lt(t.length,e.length)}static compareSegments(t,e){const s=Bi.isNumericId(t),a=Bi.isNumericId(e);return s&&!a?-1:!s&&a?1:s&&a?Bi.extractNumericId(t).compare(Bi.extractNumericId(e)):ag(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Sr.fromString(t.substring(4,t.length-2))}}class te extends Bi{construct(t,e,s){return new te(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new ut(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter((a=>a.length>0)))}return new te(e)}static emptyPath(){return new te([])}}const tM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Bi{construct(t,e,s){return new en(t,e,s)}static isValidIdentifier(t){return tM.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VE}static keyField(){return new en([VE])}static fromServerFormat(t){const e=[];let s="",a=0;const u=()=>{if(s.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new ut(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ut(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(u(),a++)}if(u(),c)throw new ut(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(e)}static emptyPath(){return new en([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(te.fromString(t))}static fromName(t){return new yt(te.fromString(t).popFirst(5))}static empty(){return new yt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return te.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new te(t.slice()))}}function Qb(n,t,e){if(!e)throw new ut(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function eM(n,t,e,s){if(t===!0&&s===!0)throw new ut(J.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function ME(n){if(!yt.isDocumentKey(n))throw new ut(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function NE(n){if(yt.isDocumentKey(n))throw new ut(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Xb(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Xf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":_t(12329,{type:typeof n})}function Gi(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ut(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Xf(n);throw new ut(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Oe(n,t){const e={typeString:n};return t&&(e.value=t),e}function tc(n,t){if(!Xb(n))throw new ut(J.INVALID_ARGUMENT,"JSON must be an object");let e;for(const s in t)if(t[s]){const a=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in n)){e=`JSON missing required field: '${s}'`;break}const c=n[s];if(a&&typeof c!==a){e=`JSON field '${s}' must be a ${a}.`;break}if(u!==void 0&&c!==u.value){e=`Expected '${s}' field to equal '${u.value}'`;break}}if(e)throw new ut(J.INVALID_ARGUMENT,e);return!0}const OE=-62135596800,PE=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*PE);return new re(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<OE)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/PE}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(tc(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-OE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Oe("string",re._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new re(0,0))}static max(){return new Et(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Pu=-1;function nM(n,t){const e=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=Et.fromTimestamp(s===1e9?new re(e+1,0):new re(e,s));return new Rr(a,yt.empty(),t)}function iM(n){return new Rr(n.readTime,n.key,Pu)}class Rr{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new Rr(Et.min(),yt.empty(),Pu)}static max(){return new Rr(Et.max(),yt.empty(),Pu)}}function sM(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=yt.comparator(n.documentKey,t.documentKey),e!==0?e:Lt(n.largestBatchId,t.largestBatchId))}const rM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function tl(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==rM)throw n;ht("LocalStore","Unexpectedly lost primary lease")}class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new st(((s,a)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,a)},this.catchCallback=u=>{this.wrapFailure(e,u).next(s,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof st?e:st.resolve(e)}catch(e){return st.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):st.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):st.reject(e)}static resolve(t){return new st(((e,s)=>{e(t)}))}static reject(t){return new st(((e,s)=>{s(t)}))}static waitFor(t){return new st(((e,s)=>{let a=0,u=0,c=!1;t.forEach((d=>{++a,d.next((()=>{++u,c&&u===a&&e()}),(p=>s(p)))})),c=!0,u===a&&e()}))}static or(t){let e=st.resolve(!1);for(const s of t)e=e.next((a=>a?st.resolve(a):s()));return e}static forEach(t,e){const s=[];return t.forEach(((a,u)=>{s.push(e.call(this,a,u))})),this.waitFor(s)}static mapArray(t,e){return new st(((s,a)=>{const u=t.length,c=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;e(t[g]).next((y=>{c[g]=y,++d,d===u&&s(c)}),(y=>a(y)))}}))}static doWhile(t,e){return new st(((s,a)=>{const u=()=>{t()===!0?e().next((()=>{u()}),a):s()};u()}))}}function oM(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function el(n){return n.name==="IndexedDbTransactionError"}class $f{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>e.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}$f.ce=-1;const ay=-1;function ec(n){return n==null}function Sf(n){return n===0&&1/n==-1/0}function lM(n){return typeof n=="number"&&Number.isInteger(n)&&!Sf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const $b="";function uM(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=kE(t)),t=cM(n.get(e),t);return kE(t)}function cM(n,t){let e=t;const s=n.length;for(let a=0;a<s;a++){const u=n.charAt(a);switch(u){case"\0":e+="";break;case $b:e+="";break;default:e+=u}}return e}function kE(n){return n+$b+""}function LE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Or(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Wb(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class he{constructor(t,e){this.comparator=t,this.root=e||tn.EMPTY}insert(t,e){return new he(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return e+s.left.size;a<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,s)=>(t(e,s),!1)))}toString(){const t=[];return this.inorderTraversal(((e,s)=>(t.push(`${e}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new qh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new qh(this.root,t,this.comparator,!1)}getReverseIterator(){return new qh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new qh(this.root,t,this.comparator,!0)}}class qh{constructor(t,e,s,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?s(t.key,e):1,e&&a&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,e,s,a,u){this.key=t,this.value=e,this.color=s??tn.RED,this.left=a??tn.EMPTY,this.right=u??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,a,u){return new tn(t??this.key,e??this.value,s??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let a=this;const u=s(t,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(t,e,s),null):u===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return tn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,e,s,a,u){return this}insert(t,e,s){return new tn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ze{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,s)=>(t(e),!1)))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new UE(this.data.getIterator())}getIteratorFrom(t){return new UE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((s=>{e=e.add(s)})),e}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,u=s.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new ze(this.comparator);return e.data=t,e}}class UE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new On([])}unionWith(t){let e=new ze(en.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new On(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Fo(this.fields,t.fields,((e,s)=>e.isEqual(s)))}}class Zb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Zb("Invalid base64 string: "+u):u}})(t);return new nn(e)}static fromUint8Array(t){const e=(function(a){let u="";for(let c=0;c<a.length;++c)u+=String.fromCharCode(a[c]);return u})(t);return new nn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const s=new Uint8Array(e.length);for(let a=0;a<e.length;a++)s[a]=e.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const hM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cr(n){if(Ft(!!n,39018),typeof n=="string"){let t=0;const e=hM.exec(n);if(Ft(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Te(n.seconds),nanos:Te(n.nanos)}}function Te(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ir(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}const Jb="server_timestamp",t1="__type__",e1="__previous_value__",n1="__local_write_time__";function oy(n){return(n?.mapValue?.fields||{})[t1]?.stringValue===Jb}function Wf(n){const t=n.mapValue.fields[e1];return oy(t)?Wf(t):t}function ku(n){const t=Cr(n.mapValue.fields[n1].timestampValue);return new re(t.seconds,t.nanos)}class fM{constructor(t,e,s,a,u,c,d,p,g,y,T){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=a,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=y,this.apiKey=T}}const Af="(default)";class Lu{constructor(t,e){this.projectId=t,this.database=e||Af}static empty(){return new Lu("","")}get isDefaultDatabase(){return this.database===Af}isEqual(t){return t instanceof Lu&&t.projectId===this.projectId&&t.database===this.database}}function dM(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ut(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lu(n.options.projectId,t)}const i1="__type__",mM="__max__",Hh={mapValue:{}},s1="__vector__",bf="value";function xr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?oy(n)?4:gM(n)?9007199254740991:pM(n)?10:11:_t(28295,{value:n})}function Xi(n,t){if(n===t)return!0;const e=xr(n);if(e!==xr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return ku(n).isEqual(ku(t));case 3:return(function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const c=Cr(a.timestampValue),d=Cr(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,u){return Ir(a.bytesValue).isEqual(Ir(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,u){return Te(a.geoPointValue.latitude)===Te(u.geoPointValue.latitude)&&Te(a.geoPointValue.longitude)===Te(u.geoPointValue.longitude)})(n,t);case 2:return(function(a,u){if("integerValue"in a&&"integerValue"in u)return Te(a.integerValue)===Te(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const c=Te(a.doubleValue),d=Te(u.doubleValue);return c===d?Sf(c)===Sf(d):isNaN(c)&&isNaN(d)}return!1})(n,t);case 9:return Fo(n.arrayValue.values||[],t.arrayValue.values||[],Xi);case 10:case 11:return(function(a,u){const c=a.mapValue.fields||{},d=u.mapValue.fields||{};if(LE(c)!==LE(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Xi(c[p],d[p])))return!1;return!0})(n,t);default:return _t(52216,{left:n})}}function Uu(n,t){return(n.values||[]).find((e=>Xi(e,t)))!==void 0}function qo(n,t){if(n===t)return 0;const e=xr(n),s=xr(t);if(e!==s)return Lt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return Lt(n.booleanValue,t.booleanValue);case 2:return(function(u,c){const d=Te(u.integerValue||u.doubleValue),p=Te(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(n,t);case 3:return BE(n.timestampValue,t.timestampValue);case 4:return BE(ku(n),ku(t));case 5:return ag(n.stringValue,t.stringValue);case 6:return(function(u,c){const d=Ir(u),p=Ir(c);return d.compareTo(p)})(n.bytesValue,t.bytesValue);case 7:return(function(u,c){const d=u.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const y=Lt(d[g],p[g]);if(y!==0)return y}return Lt(d.length,p.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,c){const d=Lt(Te(u.latitude),Te(c.latitude));return d!==0?d:Lt(Te(u.longitude),Te(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return zE(n.arrayValue,t.arrayValue);case 10:return(function(u,c){const d=u.fields||{},p=c.fields||{},g=d[bf]?.arrayValue,y=p[bf]?.arrayValue,T=Lt(g?.values?.length||0,y?.values?.length||0);return T!==0?T:zE(g,y)})(n.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Hh.mapValue&&c===Hh.mapValue)return 0;if(u===Hh.mapValue)return 1;if(c===Hh.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=c.fields||{},y=Object.keys(g);p.sort(),y.sort();for(let T=0;T<p.length&&T<y.length;++T){const S=ag(p[T],y[T]);if(S!==0)return S;const I=qo(d[p[T]],g[y[T]]);if(I!==0)return I}return Lt(p.length,y.length)})(n.mapValue,t.mapValue);default:throw _t(23264,{he:e})}}function BE(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Lt(n,t);const e=Cr(n),s=Cr(t),a=Lt(e.seconds,s.seconds);return a!==0?a:Lt(e.nanos,s.nanos)}function zE(n,t){const e=n.values||[],s=t.values||[];for(let a=0;a<e.length&&a<s.length;++a){const u=qo(e[a],s[a]);if(u)return u}return Lt(e.length,s.length)}function Ho(n){return og(n)}function og(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const s=Cr(e);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Ir(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return yt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let s="[",a=!0;for(const u of e.values||[])a?a=!1:s+=",",s+=og(u);return s+"]"})(n.arrayValue):"mapValue"in n?(function(e){const s=Object.keys(e.fields||{}).sort();let a="{",u=!0;for(const c of s)u?u=!1:a+=",",a+=`${c}:${og(e.fields[c])}`;return a+"}"})(n.mapValue):_t(61005,{value:n})}function sf(n){switch(xr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Wf(n);return t?16+sf(t):16;case 5:return 2*n.stringValue.length;case 6:return Ir(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,u)=>a+sf(u)),0)})(n.arrayValue);case 10:case 11:return(function(s){let a=0;return Or(s.fields,((u,c)=>{a+=u.length+sf(c)})),a})(n.mapValue);default:throw _t(13486,{value:n})}}function jE(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function lg(n){return!!n&&"integerValue"in n}function ly(n){return!!n&&"arrayValue"in n}function FE(n){return!!n&&"nullValue"in n}function qE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rf(n){return!!n&&"mapValue"in n}function pM(n){return(n?.mapValue?.fields||{})[i1]?.stringValue===s1}function Au(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Or(n.mapValue.fields,((e,s)=>t.mapValue.fields[e]=Au(s))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Au(n.arrayValue.values[e]);return t}return{...n}}function gM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===mM}class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!rf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Au(e)}setAll(t){let e=en.emptyPath(),s={},a=[];t.forEach(((c,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,s,a),s={},a=[],e=d.popLast()}c?s[d.lastSegment()]=Au(c):a.push(d.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,s,a)}delete(t){const e=this.field(t.popLast());rf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Xi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=e.mapValue.fields[t.get(s)];rf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,s){Or(e,((a,u)=>t[a]=u));for(const a of s)delete t[a]}clone(){return new dn(Au(this.value))}}function r1(n){const t=[];return Or(n.fields,((e,s)=>{const a=new en([e]);if(rf(s)){const u=r1(s.mapValue).fields;if(u.length===0)t.push(a);else for(const c of u)t.push(a.child(c))}else t.push(a)})),new On(t)}class Ke{constructor(t,e,s,a,u,c,d){this.key=t,this.documentType=e,this.version=s,this.readTime=a,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(t){return new Ke(t,0,Et.min(),Et.min(),Et.min(),dn.empty(),0)}static newFoundDocument(t,e,s,a){return new Ke(t,1,e,Et.min(),s,a,0)}static newNoDocument(t,e){return new Ke(t,2,e,Et.min(),Et.min(),dn.empty(),0)}static newUnknownDocument(t,e){return new Ke(t,3,e,Et.min(),Et.min(),dn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ke&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wf{constructor(t,e){this.position=t,this.inclusive=e}}function HE(n,t,e){let s=0;for(let a=0;a<n.position.length;a++){const u=t[a],c=n.position[a];if(u.field.isKeyField()?s=yt.comparator(yt.fromName(c.referenceValue),e.key):s=qo(c,e.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function GE(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Xi(n.position[e],t.position[e]))return!1;return!0}class Bu{constructor(t,e="asc"){this.field=t,this.dir=e}}function yM(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class a1{}class Ne extends a1{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new _M(t,e,s):e==="array-contains"?new SM(t,s):e==="in"?new AM(t,s):e==="not-in"?new bM(t,s):e==="array-contains-any"?new wM(t,s):new Ne(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new TM(t,s):new EM(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(qo(e,this.value)):e!==null&&xr(this.value)===xr(e)&&this.matchesComparison(qo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends a1{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new gi(t,e)}matches(t){return o1(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function o1(n){return n.op==="and"}function l1(n){return vM(n)&&o1(n)}function vM(n){for(const t of n.filters)if(t instanceof gi)return!1;return!0}function ug(n){if(n instanceof Ne)return n.field.canonicalString()+n.op.toString()+Ho(n.value);if(l1(n))return n.filters.map((t=>ug(t))).join(",");{const t=n.filters.map((e=>ug(e))).join(",");return`${n.op}(${t})`}}function u1(n,t){return n instanceof Ne?(function(s,a){return a instanceof Ne&&s.op===a.op&&s.field.isEqual(a.field)&&Xi(s.value,a.value)})(n,t):n instanceof gi?(function(s,a){return a instanceof gi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((u,c,d)=>u&&u1(c,a.filters[d])),!0):!1})(n,t):void _t(19439)}function c1(n){return n instanceof Ne?(function(e){return`${e.field.canonicalString()} ${e.op} ${Ho(e.value)}`})(n):n instanceof gi?(function(e){return e.op.toString()+" {"+e.getFilters().map(c1).join(" ,")+"}"})(n):"Filter"}class _M extends Ne{constructor(t,e,s){super(t,e,s),this.key=yt.fromName(s.referenceValue)}matches(t){const e=yt.comparator(t.key,this.key);return this.matchesComparison(e)}}class TM extends Ne{constructor(t,e){super(t,"in",e),this.keys=h1("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class EM extends Ne{constructor(t,e){super(t,"not-in",e),this.keys=h1("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function h1(n,t){return(t.arrayValue?.values||[]).map((e=>yt.fromName(e.referenceValue)))}class SM extends Ne{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return ly(e)&&Uu(e.arrayValue,this.value)}}class AM extends Ne{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Uu(this.value.arrayValue,e)}}class bM extends Ne{constructor(t,e){super(t,"not-in",e)}matches(t){if(Uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Uu(this.value.arrayValue,e)}}class wM extends Ne{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!ly(e)||!e.arrayValue.values)&&e.arrayValue.values.some((s=>Uu(this.value.arrayValue,s)))}}class RM{constructor(t,e=null,s=[],a=[],u=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=a,this.limit=u,this.startAt=c,this.endAt=d,this.Te=null}}function KE(n,t=null,e=[],s=[],a=null,u=null,c=null){return new RM(n,t,e,s,a,u,c)}function uy(n){const t=bt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((s=>ug(s))).join(","),e+="|ob:",e+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),ec(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((s=>Ho(s))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((s=>Ho(s))).join(",")),t.Te=e}return t.Te}function cy(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!yM(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!u1(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!GE(n.startAt,t.startAt)&&GE(n.endAt,t.endAt)}function cg(n){return yt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class nl{constructor(t,e=null,s=[],a=[],u=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=a,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function CM(n,t,e,s,a,u,c,d){return new nl(n,t,e,s,a,u,c,d)}function Zf(n){return new nl(n)}function YE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function IM(n){return yt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function f1(n){return n.collectionGroup!==null}function bu(n){const t=bt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new ze(en.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Bu(u,s))})),e.has(en.keyField().canonicalString())||t.Ie.push(new Bu(en.keyField(),s))}return t.Ie}function Ki(n){const t=bt(n);return t.Ee||(t.Ee=xM(t,bu(n))),t.Ee}function xM(n,t){if(n.limitType==="F")return KE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const u=a.dir==="desc"?"asc":"desc";return new Bu(a.field,u)}));const e=n.endAt?new wf(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new wf(n.startAt.position,n.startAt.inclusive):null;return KE(n.path,n.collectionGroup,t,n.filters,n.limit,e,s)}}function hg(n,t){const e=n.filters.concat([t]);return new nl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function DM(n,t){const e=n.explicitOrderBy.concat([t]);return new nl(n.path,n.collectionGroup,e,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function fg(n,t,e){return new nl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Jf(n,t){return cy(Ki(n),Ki(t))&&n.limitType===t.limitType}function d1(n){return`${uy(Ki(n))}|lt:${n.limitType}`}function wo(n){return`Query(target=${(function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map((a=>c1(a))).join(", ")}]`),ec(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((a=>Ho(a))).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((a=>Ho(a))).join(",")),`Target(${s})`})(Ki(n))}; limitType=${n.limitType})`}function td(n,t){return t.isFoundDocument()&&(function(s,a){const u=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):yt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(n,t)&&(function(s,a){for(const u of bu(s))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(s,a){for(const u of s.filters)if(!u.matches(a))return!1;return!0})(n,t)&&(function(s,a){return!(s.startAt&&!(function(c,d,p){const g=HE(c,d,p);return c.inclusive?g<=0:g<0})(s.startAt,bu(s),a)||s.endAt&&!(function(c,d,p){const g=HE(c,d,p);return c.inclusive?g>=0:g>0})(s.endAt,bu(s),a))})(n,t)}function VM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function m1(n){return(t,e)=>{let s=!1;for(const a of bu(n)){const u=MM(a,t,e);if(u!==0)return u;s=s||a.field.isKeyField()}return 0}}function MM(n,t,e){const s=n.field.isKeyField()?yt.comparator(t.key,e.key):(function(u,c,d){const p=c.data.field(u),g=d.data.field(u);return p!==null&&g!==null?qo(p,g):_t(42886)})(n.field,t,e);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:n.dir})}}class Va{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[a,u]of s)if(this.equalsFn(a,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],t))return void(a[u]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[e]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Or(this.inner,((e,s)=>{for(const[a,u]of s)t(a,u)}))}isEmpty(){return Wb(this.inner)}size(){return this.innerSize}}const NM=new he(yt.comparator);function ws(){return NM}const p1=new he(yt.comparator);function yu(...n){let t=p1;for(const e of n)t=t.insert(e.key,e);return t}function g1(n){let t=p1;return n.forEach(((e,s)=>t=t.insert(e,s.overlayedDocument))),t}function Ta(){return wu()}function y1(){return wu()}function wu(){return new Va((n=>n.toString()),((n,t)=>n.isEqual(t)))}const OM=new he(yt.comparator),PM=new ze(yt.comparator);function Ut(...n){let t=PM;for(const e of n)t=t.add(e);return t}const kM=new ze(Lt);function LM(){return kM}function hy(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sf(t)?"-0":t}}function v1(n){return{integerValue:""+n}}function UM(n,t){return lM(t)?v1(t):hy(n,t)}class ed{constructor(){this._=void 0}}function BM(n,t,e){return n instanceof zu?(function(a,u){const c={fields:{[t1]:{stringValue:Jb},[n1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&oy(u)&&(u=Wf(u)),u&&(c.fields[e1]=u),{mapValue:c}})(e,t):n instanceof ju?T1(n,t):n instanceof Fu?E1(n,t):(function(a,u){const c=_1(a,u),d=QE(c)+QE(a.Ae);return lg(c)&&lg(a.Ae)?v1(d):hy(a.serializer,d)})(n,t)}function zM(n,t,e){return n instanceof ju?T1(n,t):n instanceof Fu?E1(n,t):e}function _1(n,t){return n instanceof Rf?(function(s){return lg(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class zu extends ed{}class ju extends ed{constructor(t){super(),this.elements=t}}function T1(n,t){const e=S1(t);for(const s of n.elements)e.some((a=>Xi(a,s)))||e.push(s);return{arrayValue:{values:e}}}class Fu extends ed{constructor(t){super(),this.elements=t}}function E1(n,t){let e=S1(t);for(const s of n.elements)e=e.filter((a=>!Xi(a,s)));return{arrayValue:{values:e}}}class Rf extends ed{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function QE(n){return Te(n.integerValue||n.doubleValue)}function S1(n){return ly(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class jM{constructor(t,e){this.field=t,this.transform=e}}function FM(n,t){return n.field.isEqual(t.field)&&(function(s,a){return s instanceof ju&&a instanceof ju||s instanceof Fu&&a instanceof Fu?Fo(s.elements,a.elements,Xi):s instanceof Rf&&a instanceof Rf?Xi(s.Ae,a.Ae):s instanceof zu&&a instanceof zu})(n.transform,t.transform)}class qM{constructor(t,e){this.version=t,this.transformResults=e}}class on{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new on}static exists(t){return new on(void 0,t)}static updateTime(t){return new on(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function af(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class nd{}function A1(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new id(n.key,on.none()):new nc(n.key,n.data,on.none());{const e=n.data,s=dn.empty();let a=new ze(en.comparator);for(let u of t.fields)if(!a.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?s.delete(u):s.set(u,c),a=a.add(u)}return new Pr(n.key,s,new On(a.toArray()),on.none())}}function HM(n,t,e){n instanceof nc?(function(a,u,c){const d=a.value.clone(),p=$E(a.fieldTransforms,u,c.transformResults);d.setAll(p),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,t,e):n instanceof Pr?(function(a,u,c){if(!af(a.precondition,u))return void u.convertToUnknownDocument(c.version);const d=$E(a.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(b1(a)),p.setAll(d),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,t,e):(function(a,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function Ru(n,t,e,s){return n instanceof nc?(function(u,c,d,p){if(!af(u.precondition,c))return d;const g=u.value.clone(),y=WE(u.fieldTransforms,p,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,t,e,s):n instanceof Pr?(function(u,c,d,p){if(!af(u.precondition,c))return d;const g=WE(u.fieldTransforms,p,c),y=c.data;return y.setAll(b1(u)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(n,t,e,s):(function(u,c,d){return af(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,t,e)}function GM(n,t){let e=null;for(const s of n.fieldTransforms){const a=t.data.field(s.field),u=_1(s.transform,a||null);u!=null&&(e===null&&(e=dn.empty()),e.set(s.field,u))}return e||null}function XE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Fo(s,a,((u,c)=>FM(u,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class nc extends nd{constructor(t,e,s,a=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Pr extends nd{constructor(t,e,s,a,u=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function b1(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const s=n.data.field(e);t.set(e,s)}})),t}function $E(n,t,e){const s=new Map;Ft(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let a=0;a<e.length;a++){const u=n[a],c=u.transform,d=t.data.field(u.field);s.set(u.field,zM(c,d,e[a]))}return s}function WE(n,t,e){const s=new Map;for(const a of n){const u=a.transform,c=e.data.field(a.field);s.set(a.field,BM(u,c,t))}return s}class id extends nd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class w1 extends nd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class KM{constructor(t,e,s,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(t.key)&&HM(u,t,s[a])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=Ru(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=Ru(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=y1();return this.mutations.forEach((a=>{const u=t.get(a.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=e.has(a.key)?null:d;const p=A1(c,d);p!==null&&s.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Et.min())})),s}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Fo(this.mutations,t.mutations,((e,s)=>XE(e,s)))&&Fo(this.baseMutations,t.baseMutations,((e,s)=>XE(e,s)))}}class fy{constructor(t,e,s,a){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=a}static from(t,e,s){Ft(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let a=(function(){return OM})();const u=t.mutations;for(let c=0;c<u.length;c++)a=a.insert(u[c].key,s[c].version);return new fy(t,e,s,a)}}class YM{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class QM{constructor(t,e){this.count=t,this.unchangedNames=e}}var Ve,jt;function R1(n){switch(n){case J.OK:return _t(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _t(15467,{code:n})}}function C1(n){if(n===void 0)return bs("GRPC error has no .code"),J.UNKNOWN;switch(n){case Ve.OK:return J.OK;case Ve.CANCELLED:return J.CANCELLED;case Ve.UNKNOWN:return J.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return J.INTERNAL;case Ve.UNAVAILABLE:return J.UNAVAILABLE;case Ve.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ve.NOT_FOUND:return J.NOT_FOUND;case Ve.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ve.ABORTED:return J.ABORTED;case Ve.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ve.DATA_LOSS:return J.DATA_LOSS;default:return _t(39323,{code:n})}}(jt=Ve||(Ve={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function XM(){return new TextEncoder}const $M=new Sr([4294967295,4294967295],0);function ZE(n){const t=XM().encode(n),e=new zb;return e.update(t),new Uint8Array(e.digest())}function JE(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Sr([e,s],0),new Sr([a,u],0)]}class dy{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new vu(`Invalid padding: ${e}`);if(s<0)throw new vu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new vu(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new vu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Sr.fromNumber(this.ge)}ye(t,e,s){let a=t.add(e.multiply(Sr.fromNumber(s)));return a.compare($M)===1&&(a=new Sr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=ZE(t),[s,a]=JE(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,a,u);if(!this.we(c))return!1}return!0}static create(t,e,s){const a=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new dy(u,a,e);return s.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const e=ZE(t),[s,a]=JE(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,a,u);this.be(c)}}be(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sd{constructor(t,e,s,a,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const a=new Map;return a.set(t,ic.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new sd(Et.min(),a,new he(Lt),ws(),Ut())}}class ic{constructor(t,e,s,a,u){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new ic(s,e,Ut(),Ut(),Ut())}}class of{constructor(t,e,s,a){this.Se=t,this.removedTargetIds=e,this.key=s,this.De=a}}class I1{constructor(t,e){this.targetId=t,this.Ce=e}}class x1{constructor(t,e,s=nn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=a}}class tS{constructor(){this.ve=0,this.Fe=eS(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),e=Ut(),s=Ut();return this.Fe.forEach(((a,u)=>{switch(u){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:s=s.add(a);break;default:_t(38017,{changeType:u})}})),new ic(this.Me,this.xe,t,e,s)}Ke(){this.Oe=!1,this.Fe=eS()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class WM{constructor(t){this.Ge=t,this.ze=new Map,this.je=ws(),this.He=Gh(),this.Je=Gh(),this.Ze=new he(Lt)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const s=this.nt(e);switch(t.state){case 0:this.rt(e)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),s.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((s,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,s=t.Ce.count,a=this.ot(e);if(a){const u=a.target;if(cg(u))if(s===0){const c=new yt(u.path);this.et(e,c,Ke.newNoDocument(c,Et.min()))}else Ft(s===1,20013,{expectedCount:s});else{const c=this._t(e);if(c!==s){const d=this.ut(t),p=d?this.ct(d,t,c):1;if(p!==0){this.it(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=e;let c,d;try{c=Ir(s).toUint8Array()}catch(p){if(p instanceof Zb)return jo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new dy(c,a,u)}catch(p){return jo(p instanceof vu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(t,e,s){return e.Ce.count===s-this.Pt(t,e.targetId)?0:2}Pt(t,e){const s=this.Ge.getRemoteKeysForTarget(e);let a=0;return s.forEach((u=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.et(e,u,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((u,c)=>{const d=this.ot(c);if(d){if(u.current&&cg(d.target)){const p=new yt(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Ke.newNoDocument(p,t))}u.Be&&(e.set(c,u.ke()),u.Ke())}}));let s=Ut();this.Je.forEach(((u,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const a=new sd(t,e,this.Ze,this.je,s);return this.je=ws(),this.He=Gh(),this.Je=Gh(),this.Ze=new he(Lt),a}Ye(t,e){if(!this.rt(t))return;const s=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,s),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,s){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.qe(e,1):a.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),s&&(this.je=this.je.insert(e,s))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new tS,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new ze(Lt),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new ze(Lt),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ht("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new tS),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Gh(){return new he(yt.comparator)}function eS(){return new he(yt.comparator)}const ZM={asc:"ASCENDING",desc:"DESCENDING"},JM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tN={and:"AND",or:"OR"};class eN{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function dg(n,t){return n.useProto3Json||ec(t)?t:{value:t}}function Cf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function D1(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function nN(n,t){return Cf(n,t.toTimestamp())}function Pn(n){return Ft(!!n,49232),Et.fromTimestamp((function(e){const s=Cr(e);return new re(s.seconds,s.nanos)})(n))}function my(n,t){return mg(n,t).canonicalString()}function mg(n,t){const e=(function(a){return new te(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function V1(n){const t=te.fromString(n);return Ft(L1(t),10190,{key:t.toString()}),t}function If(n,t){return my(n.databaseId,t.path)}function Cu(n,t){const e=V1(t);if(e.get(1)!==n.databaseId.projectId)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new yt(N1(e))}function M1(n,t){return my(n.databaseId,t)}function iN(n){const t=V1(n);return t.length===4?te.emptyPath():N1(t)}function pg(n){return new te(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function N1(n){return Ft(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function nS(n,t,e){return{name:If(n,t),fields:e.value.mapValue.fields}}function sN(n,t){return"found"in t?(function(s,a){Ft(!!a.found,43571),a.found.name,a.found.updateTime;const u=Cu(s,a.found.name),c=Pn(a.found.updateTime),d=a.found.createTime?Pn(a.found.createTime):Et.min(),p=new dn({mapValue:{fields:a.found.fields}});return Ke.newFoundDocument(u,c,d,p)})(n,t):"missing"in t?(function(s,a){Ft(!!a.missing,3894),Ft(!!a.readTime,22933);const u=Cu(s,a.missing),c=Pn(a.readTime);return Ke.newNoDocument(u,c)})(n,t):_t(7234,{result:t})}function rN(n,t){let e;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_t(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],u=(function(g,y){return g.useProto3Json?(Ft(y===void 0||typeof y=="string",58123),nn.fromBase64String(y||"")):(Ft(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),nn.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(g){const y=g.code===void 0?J.UNKNOWN:C1(g.code);return new ut(y,g.message||"")})(c);e=new x1(s,a,u,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=Cu(n,s.document.name),u=Pn(s.document.updateTime),c=s.document.createTime?Pn(s.document.createTime):Et.min(),d=new dn({mapValue:{fields:s.document.fields}}),p=Ke.newFoundDocument(a,u,c,d),g=s.targetIds||[],y=s.removedTargetIds||[];e=new of(g,y,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=Cu(n,s.document),u=s.readTime?Pn(s.readTime):Et.min(),c=Ke.newNoDocument(a,u),d=s.removedTargetIds||[];e=new of([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=Cu(n,s.document),u=s.removedTargetIds||[];e=new of([],u,a,null)}else{if(!("filter"in t))return _t(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:u}=s,c=new QM(a,u),d=s.targetId;e=new I1(d,c)}}return e}function O1(n,t){let e;if(t instanceof nc)e={update:nS(n,t.key,t.value)};else if(t instanceof id)e={delete:If(n,t.key)};else if(t instanceof Pr)e={update:nS(n,t.key,t.data),updateMask:mN(t.fieldMask)};else{if(!(t instanceof w1))return _t(16599,{dt:t.type});e={verify:If(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((s=>(function(u,c){const d=c.transform;if(d instanceof zu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ju)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Fu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Rf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw _t(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(e.currentDocument=(function(a,u){return u.updateTime!==void 0?{updateTime:nN(a,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_t(27497)})(n,t.precondition)),e}function aN(n,t){return n&&n.length>0?(Ft(t!==void 0,14353),n.map((e=>(function(a,u){let c=a.updateTime?Pn(a.updateTime):Pn(u);return c.isEqual(Et.min())&&(c=Pn(u)),new qM(c,a.transformResults||[])})(e,t)))):[]}function oN(n,t){return{documents:[M1(n,t.path)]}}function lN(n,t){const e={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=M1(n,a);const u=(function(g){if(g.length!==0)return k1(gi.create(g,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((y=>(function(S){return{field:Ro(S.field),direction:hN(S.dir)}})(y)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const d=dg(n,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:a}}function uN(n){let t=iN(n.parent);const e=n.structuredQuery,s=e.from?e.from.length:0;let a=null;if(s>0){Ft(s===1,65062);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let u=[];e.where&&(u=(function(T){const S=P1(T);return S instanceof gi&&l1(S)?S.getFilters():[S]})(e.where));let c=[];e.orderBy&&(c=(function(T){return T.map((S=>(function(P){return new Bu(Co(P.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(S)))})(e.orderBy));let d=null;e.limit&&(d=(function(T){let S;return S=typeof T=="object"?T.value:T,ec(S)?null:S})(e.limit));let p=null;e.startAt&&(p=(function(T){const S=!!T.before,I=T.values||[];return new wf(I,S)})(e.startAt));let g=null;return e.endAt&&(g=(function(T){const S=!T.before,I=T.values||[];return new wf(I,S)})(e.endAt)),CM(t,a,c,u,d,"F",p,g)}function cN(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function P1(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=Co(e.unaryFilter.field);return Ne.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Co(e.unaryFilter.field);return Ne.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Co(e.unaryFilter.field);return Ne.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Co(e.unaryFilter.field);return Ne.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ne.create(Co(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return gi.create(e.compositeFilter.filters.map((s=>P1(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(e.compositeFilter.op))})(n):_t(30097,{filter:n})}function hN(n){return ZM[n]}function fN(n){return JM[n]}function dN(n){return tN[n]}function Ro(n){return{fieldPath:n.canonicalString()}}function Co(n){return en.fromServerFormat(n.fieldPath)}function k1(n){return n instanceof Ne?(function(e){if(e.op==="=="){if(qE(e.value))return{unaryFilter:{field:Ro(e.field),op:"IS_NAN"}};if(FE(e.value))return{unaryFilter:{field:Ro(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(qE(e.value))return{unaryFilter:{field:Ro(e.field),op:"IS_NOT_NAN"}};if(FE(e.value))return{unaryFilter:{field:Ro(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(e.field),op:fN(e.op),value:e.value}}})(n):n instanceof gi?(function(e){const s=e.getFilters().map((a=>k1(a)));return s.length===1?s[0]:{compositeFilter:{op:dN(e.op),filters:s}}})(n):_t(54877,{filter:n})}function mN(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function L1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function U1(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class pr{constructor(t,e,s,a,u=Et.min(),c=Et.min(),d=nn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new pr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class pN{constructor(t){this.yt=t}}function gN(n){const t=uN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?fg(t,t.limit,"L"):t}class yN{constructor(){this.Sn=new vN}addToCollectionParentIndex(t,e){return this.Sn.add(e),st.resolve()}getCollectionParents(t,e){return st.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return st.resolve()}deleteFieldIndex(t,e){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,e){return st.resolve()}getDocumentsMatchingTarget(t,e){return st.resolve(null)}getIndexType(t,e){return st.resolve(0)}getFieldIndexes(t,e){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,e){return st.resolve(Rr.min())}getMinOffsetFromCollectionGroup(t,e){return st.resolve(Rr.min())}updateCollectionGroup(t,e,s){return st.resolve()}updateIndexEntries(t,e){return st.resolve()}}class vN{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e]||new ze(te.comparator),u=!a.has(s);return this.index[e]=a.add(s),u}has(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e];return a&&a.has(s)}getEntries(t){return(this.index[t]||new ze(te.comparator)).toArray()}}const iS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},B1=41943040;class An{static withCacheSize(t){return new An(t,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(B1,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class Go{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Go(0)}static ar(){return new Go(-1)}}const sS="LruGarbageCollector",_N=1048576;function rS([n,t],[e,s]){const a=Lt(n,e);return a===0?Lt(t,s):a}class TN{constructor(t){this.Pr=t,this.buffer=new ze(rS),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();rS(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class EN{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ht(sS,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){el(e)?ht(sS,"Ignoring IndexedDB error during garbage collection: ",e):await tl(e)}await this.Ar(3e5)}))}}class SN{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((s=>Math.floor(e/100*s)))}nthSequenceNumber(t,e){if(e===0)return st.resolve($f.ce);const s=new TN(e);return this.Vr.forEachTarget(t,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(t,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(t,e,s){return this.Vr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(iS)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iS):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let s,a,u,c,d,p,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(t,a)))).next((T=>(s=T,d=Date.now(),this.removeTargets(t,s,e)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(g=Date.now(),bo()<=kt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-y}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:T}))))}}function AN(n,t){return new SN(n,t)}class bN{constructor(){this.changes=new Va((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Ke.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?st.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class wN{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class RN{constructor(t,e,s,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(s=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(s!==null&&Ru(s.mutation,a,On.empty(),re.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.getLocalViewOfDocuments(t,s,Ut()).next((()=>s))))}getLocalViewOfDocuments(t,e,s=Ut()){const a=Ta();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,s).next((u=>{let c=yu();return u.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const s=Ta();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,Ut())))}populateOverlays(t,e,s){const a=[];return s.forEach((u=>{e.has(u)||a.push(u)})),this.documentOverlayCache.getOverlays(t,a).next((u=>{u.forEach(((c,d)=>{e.set(c,d)}))}))}computeViews(t,e,s,a){let u=ws();const c=wu(),d=(function(){return wu()})();return e.forEach(((p,g)=>{const y=s.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof Pr)?u=u.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),Ru(y.mutation,g,y.mutation.getFieldMask(),re.now())):c.set(g.key,On.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,y)=>c.set(g,y))),e.forEach(((g,y)=>d.set(g,new wN(y,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,e){const s=wu();let a=new he(((c,d)=>c-d)),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=e.get(p);if(g===null)return;let y=s.get(p)||On.empty();y=d.applyToLocalView(g,y),s.set(p,y);const T=(a.get(d.batchId)||Ut()).add(p);a=a.insert(d.batchId,T)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,y=p.value,T=y1();y.forEach((S=>{if(!u.has(S)){const I=A1(e.get(S),s.get(S));I!==null&&T.set(S,I),u=u.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,T))}return st.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,e,s,a){return IM(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):f1(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,a):this.getDocumentsMatchingCollectionQuery(t,e,s,a)}getNextDocuments(t,e,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,a).next((u=>{const c=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,a-u.size):st.resolve(Ta());let d=Pu,p=u;return c.next((g=>st.forEach(g,((y,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(y)?st.resolve():this.remoteDocumentCache.getEntry(t,y).next((S=>{p=p.insert(y,S)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Ut()))).next((y=>({batchId:d,changes:g1(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new yt(e)).next((s=>{let a=yu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,s,a){const u=e.collectionGroup;let c=yu();return this.indexManager.getCollectionParents(t,u).next((d=>st.forEach(d,(p=>{const g=(function(T,S){return new nl(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(e,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,a).next((y=>{y.forEach(((T,S)=>{c=c.insert(T,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,s,a){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,u,a)))).next((c=>{u.forEach(((p,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,Ke.newInvalidDocument(y)))}));let d=yu();return c.forEach(((p,g)=>{const y=u.get(p);y!==void 0&&Ru(y.mutation,g,On.empty(),re.now()),td(e,g)&&(d=d.insert(p,g))})),d}))}}class CN{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return st.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:Pn(a.createTime)}})(e)),st.resolve()}getNamedQuery(t,e){return st.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(a){return{name:a.name,query:gN(a.bundledQuery),readTime:Pn(a.readTime)}})(e)),st.resolve()}}class IN{constructor(){this.overlays=new he(yt.comparator),this.Lr=new Map}getOverlay(t,e){return st.resolve(this.overlays.get(e))}getOverlays(t,e){const s=Ta();return st.forEach(e,(a=>this.getOverlay(t,a).next((u=>{u!==null&&s.set(a,u)})))).next((()=>s))}saveOverlays(t,e,s){return s.forEach(((a,u)=>{this.bt(t,e,u)})),st.resolve()}removeOverlaysForBatchId(t,e,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),st.resolve()}getOverlaysForCollection(t,e,s){const a=Ta(),u=e.length+1,c=new yt(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&a.set(p.getKey(),p)}return st.resolve(a)}getOverlaysForCollectionGroup(t,e,s,a){let u=new he(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>s){let y=u.get(g.largestBatchId);y===null&&(y=Ta(),u=u.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=Ta(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,y)=>d.set(g,y))),!(d.size()>=a)););return st.resolve(d)}bt(t,e,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new YM(e,s));let u=this.Lr.get(e);u===void 0&&(u=Ut(),this.Lr.set(e,u)),this.Lr.set(e,u.add(s.key))}}class xN{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,st.resolve()}}class py{constructor(){this.kr=new ze(Ge.Kr),this.qr=new ze(Ge.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const s=new Ge(t,e);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,e){t.forEach((s=>this.addReference(s,e)))}removeReference(t,e){this.Wr(new Ge(t,e))}Qr(t,e){t.forEach((s=>this.removeReference(s,e)))}Gr(t){const e=new yt(new te([])),s=new Ge(e,t),a=new Ge(e,t+1),u=[];return this.qr.forEachInRange([s,a],(c=>{this.Wr(c),u.push(c.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new yt(new te([])),s=new Ge(e,t),a=new Ge(e,t+1);let u=Ut();return this.qr.forEachInRange([s,a],(c=>{u=u.add(c.key)})),u}containsKey(t){const e=new Ge(t,0),s=this.kr.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class Ge{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return yt.comparator(t.key,e.key)||Lt(t.Hr,e.Hr)}static Ur(t,e){return Lt(t.Hr,e.Hr)||yt.comparator(t.key,e.key)}}class DN{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new ze(Ge.Kr)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,a){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new KM(u,e,s,a);this.mutationQueue.push(c);for(const d of a)this.Jr=this.Jr.add(new Ge(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return st.resolve(c)}lookupMutationBatch(t,e){return st.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,a=this.Xr(s),u=a<0?0:a;return st.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?ay:this.Yn-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new Ge(e,0),a=new Ge(e,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,a],(c=>{const d=this.Zr(c.Hr);u.push(d)})),st.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new ze(Lt);return e.forEach((a=>{const u=new Ge(a,0),c=new Ge(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,c],(d=>{s=s.add(d.Hr)}))})),st.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,a=s.length+1;let u=s;yt.isDocumentKey(u)||(u=u.child(""));const c=new Ge(new yt(u),0);let d=new ze(Lt);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(p.Hr)),!0)}),c),st.resolve(this.Yr(d))}Yr(t){const e=[];return t.forEach((s=>{const a=this.Zr(s);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){Ft(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return st.forEach(e.mutations,(a=>{const u=new Ge(a.key,e.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,e){const s=new Ge(e,0),a=this.Jr.firstAfterOrEqual(s);return st.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class VN{constructor(t){this.ti=t,this.docs=(function(){return new he(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,a=this.docs.get(s),u=a?a.size:0,c=this.ti(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return st.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(e))}getEntries(t,e){let s=ws();return e.forEach((a=>{const u=this.docs.get(a);s=s.insert(a,u?u.document.mutableCopy():Ke.newInvalidDocument(a))})),st.resolve(s)}getDocumentsMatchingQuery(t,e,s,a){let u=ws();const c=e.path,d=new yt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:y}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||sM(iM(y),s)<=0||(a.has(y.key)||td(e,y))&&(u=u.insert(y.key,y.mutableCopy()))}return st.resolve(u)}getAllFromCollectionGroup(t,e,s,a){_t(9500)}ni(t,e){return st.forEach(this.docs,(s=>e(s)))}newChangeBuffer(t){return new MN(this)}getSize(t){return st.resolve(this.size)}}class MN extends bN{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?e.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(s)})),st.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class NN{constructor(t){this.persistence=t,this.ri=new Va((e=>uy(e)),cy),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ii=0,this.si=new py,this.targetCount=0,this.oi=Go._r()}forEachTarget(t,e){return this.ri.forEach(((s,a)=>e(a))),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.ii&&(this.ii=e),st.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new Go(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,st.resolve()}updateTargetData(t,e){return this.lr(e),st.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,e,s){let a=0;const u=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=e&&s.get(d.targetId)===null&&(this.ri.delete(c),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)})),st.waitFor(u).next((()=>a))}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,e){const s=this.ri.get(e)||null;return st.resolve(s)}addMatchingKeys(t,e,s){return this.si.$r(e,s),st.resolve()}removeMatchingKeys(t,e,s){this.si.Qr(e,s);const a=this.persistence.referenceDelegate,u=[];return a&&e.forEach((c=>{u.push(a.markPotentiallyOrphaned(t,c))})),st.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),st.resolve()}getMatchingKeysForTargetId(t,e){const s=this.si.jr(e);return st.resolve(s)}containsKey(t,e){return st.resolve(this.si.containsKey(e))}}class z1{constructor(t,e){this._i={},this.overlays={},this.ai=new $f(0),this.ui=!1,this.ui=!0,this.ci=new xN,this.referenceDelegate=t(this),this.li=new NN(this),this.indexManager=new yN,this.remoteDocumentCache=(function(a){return new VN(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new pN(e),this.Pi=new CN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new IN,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this._i[t.toKey()];return s||(s=new DN(e,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,s){ht("MemoryPersistence","Starting transaction:",t);const a=new ON(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((u=>this.referenceDelegate.Ii(a).next((()=>u)))).toPromise().then((u=>(a.raiseOnCommittedEvent(),u)))}Ei(t,e){return st.or(Object.values(this._i).map((s=>()=>s.containsKey(t,e))))}}class ON extends aM{constructor(t){super(),this.currentSequenceNumber=t}}class gy{constructor(t){this.persistence=t,this.Ri=new py,this.Ai=null}static Vi(t){return new gy(t)}get di(){if(this.Ai)return this.Ai;throw _t(60996)}addReference(t,e,s){return this.Ri.addReference(s,e),this.di.delete(s.toString()),st.resolve()}removeReference(t,e,s){return this.Ri.removeReference(s,e),this.di.add(s.toString()),st.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),st.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.di,(s=>{const a=yt.fromPath(s);return this.mi(t,a).next((u=>{u||e.removeEntry(a,Et.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((s=>{s?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return st.or([()=>st.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class xf{constructor(t,e){this.persistence=t,this.fi=new Va((s=>uM(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=AN(this,e)}static Vi(t,e){return new xf(t,e)}Ti(){}Ii(t){return st.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>e.next((a=>s+a))))}pr(t){let e=0;return this.mr(t,(s=>{e++})).next((()=>e))}mr(t,e){return st.forEach(this.fi,((s,a)=>this.wr(t,s,a).next((u=>u?st.resolve():e(a)))))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.ni(t,(c=>this.wr(t,c,e).next((d=>{d||(s++,u.removeEntry(c,Et.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),st.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.fi.set(s,t.currentSequenceNumber),st.resolve()}removeReference(t,e,s){return this.fi.set(s,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),st.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=sf(t.data.value)),e}wr(t,e,s){return st.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.fi.get(e);return st.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class yy{constructor(t,e,s,a){this.targetId=t,this.fromCache=e,this.Ts=s,this.Is=a}static Es(t,e){let s=Ut(),a=Ut();for(const u of e.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new yy(t,e.fromCache,s,a)}}class PN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class kN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return bx()?8:oM(un())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,s,a){const u={result:null};return this.gs(t,e).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ps(t,e,a,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new PN;return this.ys(t,e,c).next((d=>{if(u.result=d,this.As)return this.ws(t,e,c,d.size)}))})).next((()=>u.result))}ws(t,e,s,a){return s.documentReadCount<this.Vs?(bo()<=kt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",wo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),st.resolve()):(bo()<=kt.DEBUG&&ht("QueryEngine","Query:",wo(e),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(bo()<=kt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",wo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ki(e))):st.resolve())}gs(t,e){if(YE(e))return st.resolve(null);let s=Ki(e);return this.indexManager.getIndexType(t,s).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=fg(e,null,"F"),s=Ki(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const c=Ut(...u);return this.fs.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.bs(e,d);return this.Ss(e,g,c,p.readTime)?this.gs(t,fg(e,null,"F")):this.Ds(t,g,e,p)}))))})))))}ps(t,e,s,a){return YE(e)||a.isEqual(Et.min())?st.resolve(null):this.fs.getDocuments(t,s).next((u=>{const c=this.bs(e,u);return this.Ss(e,c,s,a)?st.resolve(null):(bo()<=kt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),wo(e)),this.Ds(t,c,e,nM(a,Pu)).next((d=>d)))}))}bs(t,e){let s=new ze(m1(t));return e.forEach(((a,u)=>{td(t,u)&&(s=s.add(u))})),s}Ss(t,e,s,a){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}ys(t,e,s){return bo()<=kt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",wo(e)),this.fs.getDocumentsMatchingQuery(t,e,Rr.min(),s)}Ds(t,e,s,a){return this.fs.getDocumentsMatchingQuery(t,s,a).next((u=>(e.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const vy="LocalStore",LN=3e8;class UN{constructor(t,e,s,a){this.persistence=t,this.Cs=e,this.serializer=a,this.vs=new he(Lt),this.Fs=new Va((u=>uy(u)),cy),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new RN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function BN(n,t,e,s){return new UN(n,t,e,s)}async function j1(n,t){const e=bt(n);return await e.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return e.mutationQueue.getAllMutationBatches(s).next((u=>(a=u,e.Os(t),e.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],d=[];let p=Ut();for(const g of a){c.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}for(const g of u){d.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}return e.localDocuments.getDocuments(s,p).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function zN(n,t){const e=bt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=t.batch.keys(),u=e.xs.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,y){const T=g.batch,S=T.keys();let I=st.resolve();return S.forEach((P=>{I=I.next((()=>y.getEntry(p,P))).next((z=>{const U=g.docVersions.get(P);Ft(U!==null,48541),z.version.compareTo(U)<0&&(T.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),y.addEntry(z)))}))})),I.next((()=>d.mutationQueue.removeMutationBatch(p,T)))})(e,s,t,u).next((()=>u.apply(s))).next((()=>e.mutationQueue.performConsistencyCheck(s))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=Ut();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(t)))).next((()=>e.localDocuments.getDocuments(s,a)))}))}function F1(n){const t=bt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function jN(n,t){const e=bt(n),s=t.snapshotVersion;let a=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=e.xs.newChangeBuffer({trackRemovals:!0});a=e.vs;const d=[];t.targetChanges.forEach(((y,T)=>{const S=a.get(T);if(!S)return;d.push(e.li.removeMatchingKeys(u,y.removedDocuments,T).next((()=>e.li.addMatchingKeys(u,y.addedDocuments,T))));let I=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?I=I.withResumeToken(nn.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):y.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(y.resumeToken,s)),a=a.insert(T,I),(function(z,U,Y){return z.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=LN?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(S,I,y)&&d.push(e.li.updateTargetData(u,I))}));let p=ws(),g=Ut();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(u,y))})),d.push(FN(u,c,t.documentUpdates).next((y=>{p=y.Bs,g=y.Ls}))),!s.isEqual(Et.min())){const y=e.li.getLastRemoteSnapshotVersion(u).next((T=>e.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));d.push(y)}return st.waitFor(d).next((()=>c.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(e.vs=a,u)))}function FN(n,t,e){let s=Ut(),a=Ut();return e.forEach((u=>s=s.add(u))),t.getEntries(n,s).next((u=>{let c=ws();return e.forEach(((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(Et.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):ht(vy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{Bs:c,Ls:a}}))}function qN(n,t){const e=bt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=ay),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function HN(n,t){const e=bt(n);return e.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return e.li.getTargetData(s,t).next((u=>u?(a=u,st.resolve(a)):e.li.allocateTargetId(s).next((c=>(a=new pr(t,c,"TargetPurposeListen",s.currentSequenceNumber),e.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=e.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.vs=e.vs.insert(s.targetId,s),e.Fs.set(t,s.targetId)),s}))}async function gg(n,t,e){const s=bt(n),a=s.vs.get(t),u=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!el(c))throw c;ht(vy,`Failed to update sequence numbers for target ${t}: ${c}`)}s.vs=s.vs.remove(t),s.Fs.delete(a.target)}function aS(n,t,e){const s=bt(n);let a=Et.min(),u=Ut();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,y){const T=bt(p),S=T.Fs.get(y);return S!==void 0?st.resolve(T.vs.get(S)):T.li.getTargetData(g,y)})(s,c,Ki(t)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(c,d.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,t,e?a:Et.min(),e?u:Ut()))).next((d=>(GN(s,VM(t),d),{documents:d,ks:u})))))}function GN(n,t,e){let s=n.Ms.get(t)||Et.min();e.forEach(((a,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),n.Ms.set(t,s)}class oS{constructor(){this.activeTargetIds=LM()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class KN{constructor(){this.vo=new oS,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,s){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new oS,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class YN{Mo(t){}shutdown(){}}const lS="ConnectivityMonitor";class uS{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ht(lS,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ht(lS,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Kh=null;function yg(){return Kh===null?Kh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kh++,"0x"+Kh.toString(16)}const Mp="RestConnection",QN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class XN{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===Af?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(t,e,s,a,u){const c=yg(),d=this.Qo(t,e.toUriEncodedString());ht(Mp,`Sending RPC '${t}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,a,u);const{host:g}=new URL(d),y=$o(g);return this.zo(t,d,p,s,y).then((T=>(ht(Mp,`Received RPC '${t}' ${c}: `,T),T)),(T=>{throw jo(Mp,`RPC '${t}' ${c} failed with error: `,T,"url: ",d,"request:",s),T}))}jo(t,e,s,a,u,c){return this.Wo(t,e,s,a,u)}Go(t,e,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Jo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,u)=>t[u]=a)),s&&s.headers.forEach(((a,u)=>t[u]=a))}Qo(t,e){const s=QN[t];let a=`${this.qo}/v1/${e}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class $N{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const rn="WebChannelConnection",mu=(n,t,e)=>{n.listen(t,(s=>{try{e(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Lo extends XN{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Lo.c_){const t=Hb();mu(t,qb.STAT_EVENT,(e=>{e.stat===rg.PROXY?ht(rn,"STAT_EVENT: detected buffering proxy"):e.stat===rg.NOPROXY&&ht(rn,"STAT_EVENT: detected no buffering proxy")})),Lo.c_=!0}}zo(t,e,s,a,u){const c=yg();return new Promise(((d,p)=>{const g=new jb;g.setWithCredentials(!0),g.listenOnce(Fb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case nf.NO_ERROR:const T=g.getResponseJson();ht(rn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),d(T);break;case nf.TIMEOUT:ht(rn,`RPC '${t}' ${c} timed out`),p(new ut(J.DEADLINE_EXCEEDED,"Request time out"));break;case nf.HTTP_ERROR:const S=g.getStatus();if(ht(rn,`RPC '${t}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const P=I?.error;if(P&&P.status&&P.message){const z=(function(Y){const et=Y.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(et)>=0?et:J.UNKNOWN})(P.status);p(new ut(z,P.message))}else p(new ut(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ut(J.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ht(rn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);ht(rn,`RPC '${t}' ${c} sending request:`,a),g.send(e,"POST",y,s,15)}))}T_(t,e,s){const a=yg(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,e,s),d.encodeInitMessageHeaders=!0;const g=u.join("");ht(rn,`Creating RPC '${t}' stream ${a}: ${g}`,d);const y=c.createWebChannel(g,d);this.I_(y);let T=!1,S=!1;const I=new $N({Ho:P=>{S?ht(rn,`Not sending because RPC '${t}' stream ${a} is closed:`,P):(T||(ht(rn,`Opening RPC '${t}' stream ${a} transport.`),y.open(),T=!0),ht(rn,`RPC '${t}' stream ${a} sending:`,P),y.send(P))},Jo:()=>y.close()});return mu(y,gu.EventType.OPEN,(()=>{S||(ht(rn,`RPC '${t}' stream ${a} transport opened.`),I.i_())})),mu(y,gu.EventType.CLOSE,(()=>{S||(S=!0,ht(rn,`RPC '${t}' stream ${a} transport closed`),I.o_(),this.E_(y))})),mu(y,gu.EventType.ERROR,(P=>{S||(S=!0,jo(rn,`RPC '${t}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),I.o_(new ut(J.UNAVAILABLE,"The operation could not be completed")))})),mu(y,gu.EventType.MESSAGE,(P=>{if(!S){const z=P.data[0];Ft(!!z,16349);const U=z,Y=U?.error||U[0]?.error;if(Y){ht(rn,`RPC '${t}' stream ${a} received error:`,Y);const et=Y.status;let H=(function(ot){const C=Ve[ot];if(C!==void 0)return C1(C)})(et),X=Y.message;H===void 0&&(H=J.INTERNAL,X="Unknown error status: "+et+" with message "+Y.message),S=!0,I.o_(new ut(H,X)),y.close()}else ht(rn,`RPC '${t}' stream ${a} received:`,z),I.__(z)}})),Lo.u_(),setTimeout((()=>{I.s_()}),0),I}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,s){super.Go(t,e,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Gb()}}function WN(n){return new Lo(n)}function Np(){return typeof document<"u"?document:null}function rd(n){return new eN(n,!0)}Lo.c_=!1;class _y{constructor(t,e,s=1e3,a=1.5,u=6e4){this.Ci=t,this.timerId=e,this.R_=s,this.A_=a,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-s);a>0&&ht("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const cS="PersistentStream";class q1{constructor(t,e,s,a,u,c,d,p){this.Ci=t,this.b_=s,this.S_=a,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _y(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===J.RESOURCE_EXHAUSTED?(bs(e.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===e&&this.G_(s,a)}),(s=>{t((()=>{const a=new ut(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(t,e){const s=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(cS,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(ht(cS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ZN extends q1{constructor(t,e,s,a,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,a,c),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=rN(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Et.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Et.min():c.readTime?Pn(c.readTime):Et.min()})(t);return this.listener.J_(e,s)}Z_(t){const e={};e.database=pg(this.serializer),e.addTarget=(function(u,c){let d;const p=c.target;if(d=cg(p)?{documents:oN(u,p)}:{query:lN(u,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=D1(u,c.resumeToken);const g=dg(u,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Et.min())>0){d.readTime=Cf(u,c.snapshotVersion.toTimestamp());const g=dg(u,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const s=cN(this.serializer,t);s&&(e.labels=s),this.K_(e)}X_(t){const e={};e.database=pg(this.serializer),e.removeTarget=t,this.K_(e)}}class JN extends q1{constructor(t,e,s,a,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,a,c),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=aN(t.writeResults,t.commitTime),s=Pn(t.commitTime);return this.listener.na(s,e)}ra(){const t={};t.database=pg(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((s=>O1(this.serializer,s)))};this.K_(e)}}class tO{}class eO extends tO{constructor(t,e,s,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Wo(t,mg(e,s),a,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ut(J.UNKNOWN,u.toString())}))}jo(t,e,s,a,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(t,mg(e,s),a,c,d,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(J.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function nO(n,t,e,s){return new eO(n,t,e,s)}class iO{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bs(e),this.aa=!1):ht("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const xa="RemoteStore";class sO{constructor(t,e,s,a,u){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((c=>{s.enqueueAndForget((async()=>{Ma(this)&&(ht(xa,"Restarting streams for network reachability change."),await(async function(p){const g=bt(p);g.Ea.add(4),await sc(g),g.Va.set("Unknown"),g.Ea.delete(4),await ad(g)})(this))}))})),this.Va=new iO(s,a)}}async function ad(n){if(Ma(n))for(const t of n.Ra)await t(!0)}async function sc(n){for(const t of n.Ra)await t(!1)}function H1(n,t){const e=bt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Ay(e)?Sy(e):il(e).O_()&&Ey(e,t))}function Ty(n,t){const e=bt(n),s=il(e);e.Ia.delete(t),s.O_()&&G1(e,t),e.Ia.size===0&&(s.O_()?s.L_():Ma(e)&&e.Va.set("Unknown"))}function Ey(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}il(n).Z_(t)}function G1(n,t){n.da.$e(t),il(n).X_(t)}function Sy(n){n.da=new WM({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),il(n).start(),n.Va.ua()}function Ay(n){return Ma(n)&&!il(n).x_()&&n.Ia.size>0}function Ma(n){return bt(n).Ea.size===0}function K1(n){n.da=void 0}async function rO(n){n.Va.set("Online")}async function aO(n){n.Ia.forEach(((t,e)=>{Ey(n,t)}))}async function oO(n,t){K1(n),Ay(n)?(n.Va.ha(t),Sy(n)):n.Va.set("Unknown")}async function lO(n,t,e){if(n.Va.set("Online"),t instanceof x1&&t.state===2&&t.cause)try{await(async function(a,u){const c=u.cause;for(const d of u.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.da.removeTarget(d))})(n,t)}catch(s){ht(xa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Df(n,s)}else if(t instanceof of?n.da.Xe(t):t instanceof I1?n.da.st(t):n.da.tt(t),!e.isEqual(Et.min()))try{const s=await F1(n.localStore);e.compareTo(s)>=0&&await(function(u,c){const d=u.da.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const y=u.Ia.get(g);y&&u.Ia.set(g,y.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const y=u.Ia.get(p);if(!y)return;u.Ia.set(p,y.withResumeToken(nn.EMPTY_BYTE_STRING,y.snapshotVersion)),G1(u,p);const T=new pr(y.target,p,g,y.sequenceNumber);Ey(u,T)})),u.remoteSyncer.applyRemoteEvent(d)})(n,e)}catch(s){ht(xa,"Failed to raise snapshot:",s),await Df(n,s)}}async function Df(n,t,e){if(!el(t))throw t;n.Ea.add(1),await sc(n),n.Va.set("Offline"),e||(e=()=>F1(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ht(xa,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await ad(n)}))}function Y1(n,t){return t().catch((e=>Df(n,e,t)))}async function od(n){const t=bt(n),e=Dr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ay;for(;uO(t);)try{const a=await qN(t.localStore,s);if(a===null){t.Ta.length===0&&e.L_();break}s=a.batchId,cO(t,a)}catch(a){await Df(t,a)}Q1(t)&&X1(t)}function uO(n){return Ma(n)&&n.Ta.length<10}function cO(n,t){n.Ta.push(t);const e=Dr(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function Q1(n){return Ma(n)&&!Dr(n).x_()&&n.Ta.length>0}function X1(n){Dr(n).start()}async function hO(n){Dr(n).ra()}async function fO(n){const t=Dr(n);for(const e of n.Ta)t.ea(e.mutations)}async function dO(n,t,e){const s=n.Ta.shift(),a=fy.from(s,t,e);await Y1(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await od(n)}async function mO(n,t){t&&Dr(n).Y_&&await(async function(s,a){if((function(c){return R1(c)&&c!==J.ABORTED})(a.code)){const u=s.Ta.shift();Dr(s).B_(),await Y1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,a))),await od(s)}})(n,t),Q1(n)&&X1(n)}async function hS(n,t){const e=bt(n);e.asyncQueue.verifyOperationInProgress(),ht(xa,"RemoteStore received new credentials");const s=Ma(e);e.Ea.add(3),await sc(e),s&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await ad(e)}async function pO(n,t){const e=bt(n);t?(e.Ea.delete(2),await ad(e)):t||(e.Ea.add(2),await sc(e),e.Va.set("Unknown"))}function il(n){return n.ma||(n.ma=(function(e,s,a){const u=bt(e);return u.sa(),new ZN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)})(n.datastore,n.asyncQueue,{Zo:rO.bind(null,n),Yo:aO.bind(null,n),t_:oO.bind(null,n),J_:lO.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),Ay(n)?Sy(n):n.Va.set("Unknown")):(await n.ma.stop(),K1(n))}))),n.ma}function Dr(n){return n.fa||(n.fa=(function(e,s,a){const u=bt(e);return u.sa(),new JN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:hO.bind(null,n),t_:mO.bind(null,n),ta:fO.bind(null,n),na:dO.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await od(n)):(await n.fa.stop(),n.Ta.length>0&&(ht(xa,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class by{constructor(t,e,s,a,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=a,this.removalCallback=u,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,a,u){const c=Date.now()+s,d=new by(t,e,c,a,u);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wy(n,t){if(bs("AsyncQueue",`${t}: ${n}`),el(n))return new ut(J.UNAVAILABLE,`${t}: ${n}`);throw n}class Uo{static emptySet(t){return new Uo(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||yt.comparator(e.key,s.key):(e,s)=>yt.comparator(e.key,s.key),this.keyedMap=yu(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,s)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Uo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,u=s.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new Uo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}class fS{constructor(){this.ga=new he(yt.comparator)}track(t){const e=t.doc.key,s=this.ga.get(e);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(e,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(e):t.type===1&&s.type===2?this.ga=this.ga.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):_t(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,s)=>{t.push(s)})),t}}class Ko{constructor(t,e,s,a,u,c,d,p,g){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,s,a,u){const c=[];return e.forEach((d=>{c.push({type:0,doc:d})})),new Ko(t,e,Uo.emptySet(e),c,s,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Jf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==s[a].type||!e[a].doc.isEqual(s[a].doc))return!1;return!0}}class gO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class yO{constructor(){this.queries=dS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const a=bt(e),u=a.queries;a.queries=dS(),u.forEach(((c,d)=>{for(const p of d.ba)p.onError(s)}))})(this,new ut(J.ABORTED,"Firestore shutting down"))}}function dS(){return new Va((n=>d1(n)),Jf)}async function Ry(n,t){const e=bt(n);let s=3;const a=t.query;let u=e.queries.get(a);u?!u.Sa()&&t.Da()&&(s=2):(u=new gO,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await e.onListen(a,!0);break;case 1:u.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const d=wy(c,`Initialization of query '${wo(t.query)}' failed`);return void t.onError(d)}e.queries.set(a,u),u.ba.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&Iy(e)}async function Cy(n,t){const e=bt(n),s=t.query;let a=3;const u=e.queries.get(s);if(u){const c=u.ba.indexOf(t);c>=0&&(u.ba.splice(c,1),u.ba.length===0?a=t.Da()?0:1:!u.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function vO(n,t){const e=bt(n);let s=!1;for(const a of t){const u=a.query,c=e.queries.get(u);if(c){for(const d of c.ba)d.Fa(a)&&(s=!0);c.wa=a}}s&&Iy(e)}function _O(n,t,e){const s=bt(n),a=s.queries.get(t);if(a)for(const u of a.ba)u.onError(e);s.queries.delete(t)}function Iy(n){n.Ca.forEach((t=>{t.next()}))}var vg,mS;(mS=vg||(vg={})).Ma="default",mS.Cache="cache";class xy{constructor(t,e,s){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new Ko(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const s=e!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Ko.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==vg.Cache}}class $1{constructor(t){this.key=t}}class W1{constructor(t){this.key=t}}class TO{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ut(),this.mutatedKeys=Ut(),this.eu=m1(t),this.tu=new Uo(this.eu)}get nu(){return this.Za}ru(t,e){const s=e?e.iu:new fS,a=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,T)=>{const S=a.get(y),I=td(this.query,T)?T:null,P=!!S&&this.mutatedKeys.has(S.key),z=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let U=!1;S&&I?S.data.isEqual(I.data)?P!==z&&(s.track({type:3,doc:I}),U=!0):this.su(S,I)||(s.track({type:2,doc:I}),U=!0,(p&&this.eu(I,p)>0||g&&this.eu(I,g)<0)&&(d=!0)):!S&&I?(s.track({type:0,doc:I}),U=!0):S&&!I&&(s.track({type:1,doc:S}),U=!0,(p||g)&&(d=!0)),U&&(I?(c=c.add(I),u=z?u.add(y):u.delete(y)):(c=c.delete(y),u=u.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),u=u.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Ss:d,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,a){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,T)=>(function(I,P){const z=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Vt:U})}};return z(I)-z(P)})(y.type,T.type)||this.eu(y.doc,T.doc))),this.ou(s),a=a??!1;const d=e&&!a?this._u():[],p=this.Ya.size===0&&this.current&&!a?1:0,g=p!==this.Xa;return this.Xa=p,c.length!==0||g?{snapshot:new Ko(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fS,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ut(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const e=[];return t.forEach((s=>{this.Ya.has(s)||e.push(new W1(s))})),this.Ya.forEach((s=>{t.has(s)||e.push(new $1(s))})),e}cu(t){this.Za=t.ks,this.Ya=Ut();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Ko.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Dy="SyncEngine";class EO{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class SO{constructor(t){this.key=t,this.hu=!1}}class AO{constructor(t,e,s,a,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Va((d=>d1(d)),Jf),this.Iu=new Map,this.Eu=new Set,this.Ru=new he(yt.comparator),this.Au=new Map,this.Vu=new py,this.du={},this.mu=new Map,this.fu=Go.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bO(n,t,e=!0){const s=iw(n);let a;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.lu()):a=await Z1(s,t,e,!0),a}async function wO(n,t){const e=iw(n);await Z1(e,t,!0,!1)}async function Z1(n,t,e,s){const a=await HN(n.localStore,Ki(t)),u=a.targetId,c=n.sharedClientState.addLocalQueryTarget(u,e);let d;return s&&(d=await RO(n,t,u,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&H1(n.remoteStore,a),d}async function RO(n,t,e,s,a){n.pu=(T,S,I)=>(async function(z,U,Y,et){let H=U.view.ru(Y);H.Ss&&(H=await aS(z.localStore,U.query,!1).then((({documents:C})=>U.view.ru(C,H))));const X=et&&et.targetChanges.get(U.targetId),at=et&&et.targetMismatches.get(U.targetId)!=null,ot=U.view.applyChanges(H,z.isPrimaryClient,X,at);return gS(z,U.targetId,ot.au),ot.snapshot})(n,T,S,I);const u=await aS(n.localStore,t,!0),c=new TO(t,u.ks),d=c.ru(u.documents),p=ic.createSynthesizedTargetChangeForCurrentChange(e,s&&n.onlineState!=="Offline",a),g=c.applyChanges(d,n.isPrimaryClient,p);gS(n,e,g.au);const y=new EO(t,e,c);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),g.snapshot}async function CO(n,t,e){const s=bt(n),a=s.Tu.get(t),u=s.Iu.get(a.targetId);if(u.length>1)return s.Iu.set(a.targetId,u.filter((c=>!Jf(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await gg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),e&&Ty(s.remoteStore,a.targetId),_g(s,a.targetId)})).catch(tl)):(_g(s,a.targetId),await gg(s.localStore,a.targetId,!0))}async function IO(n,t){const e=bt(n),s=e.Tu.get(t),a=e.Iu.get(s.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),Ty(e.remoteStore,s.targetId))}async function xO(n,t,e){const s=kO(n);try{const a=await(function(c,d){const p=bt(c),g=re.now(),y=d.reduce(((I,P)=>I.add(P.key)),Ut());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let P=ws(),z=Ut();return p.xs.getEntries(I,y).next((U=>{P=U,P.forEach(((Y,et)=>{et.isValidDocument()||(z=z.add(Y))}))})).next((()=>p.localDocuments.getOverlayedDocuments(I,P))).next((U=>{T=U;const Y=[];for(const et of d){const H=GM(et,T.get(et.key).overlayedDocument);H!=null&&Y.push(new Pr(et.key,H,r1(H.value.mapValue),on.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,Y,d)})).next((U=>{S=U;const Y=U.applyToLocalDocumentSet(T,z);return p.documentOverlayCache.saveOverlays(I,U.batchId,Y)}))})).then((()=>({batchId:S.batchId,changes:g1(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,p){let g=c.du[c.currentUser.toKey()];g||(g=new he(Lt)),g=g.insert(d,p),c.du[c.currentUser.toKey()]=g})(s,a.batchId,e),await rc(s,a.changes),await od(s.remoteStore)}catch(a){const u=wy(a,"Failed to persist write");e.reject(u)}}async function J1(n,t){const e=bt(n);try{const s=await jN(e.localStore,t);t.targetChanges.forEach(((a,u)=>{const c=e.Au.get(u);c&&(Ft(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Ft(c.hu,14607):a.removedDocuments.size>0&&(Ft(c.hu,42227),c.hu=!1))})),await rc(e,s,t)}catch(s){await tl(s)}}function pS(n,t,e){const s=bt(n);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const a=[];s.Tu.forEach(((u,c)=>{const d=c.view.va(t);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const p=bt(c);p.onlineState=d;let g=!1;p.queries.forEach(((y,T)=>{for(const S of T.ba)S.va(d)&&(g=!0)})),g&&Iy(p)})(s.eventManager,t),a.length&&s.Pu.J_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function DO(n,t,e){const s=bt(n);s.sharedClientState.updateQueryState(t,"rejected",e);const a=s.Au.get(t),u=a&&a.key;if(u){let c=new he(yt.comparator);c=c.insert(u,Ke.newNoDocument(u,Et.min()));const d=Ut().add(u),p=new sd(Et.min(),new Map,new he(Lt),c,d);await J1(s,p),s.Ru=s.Ru.remove(u),s.Au.delete(t),Vy(s)}else await gg(s.localStore,t,!1).then((()=>_g(s,t,e))).catch(tl)}async function VO(n,t){const e=bt(n),s=t.batch.batchId;try{const a=await zN(e.localStore,t);ew(e,s,null),tw(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await rc(e,a)}catch(a){await tl(a)}}async function MO(n,t,e){const s=bt(n);try{const a=await(function(c,d){const p=bt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return p.mutationQueue.lookupMutationBatch(g,d).next((T=>(Ft(T!==null,37113),y=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,y,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>p.localDocuments.getDocuments(g,y)))}))})(s.localStore,t);ew(s,t,e),tw(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await rc(s,a)}catch(a){await tl(a)}}function tw(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function ew(n,t,e){const s=bt(n);let a=s.du[s.currentUser.toKey()];if(a){const u=a.get(t);u&&(e?u.reject(e):u.resolve(),a=a.remove(t)),s.du[s.currentUser.toKey()]=a}}function _g(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const s of n.Iu.get(t))n.Tu.delete(s),e&&n.Pu.yu(s,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((s=>{n.Vu.containsKey(s)||nw(n,s)}))}function nw(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&(Ty(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),Vy(n))}function gS(n,t,e){for(const s of e)s instanceof $1?(n.Vu.addReference(s.key,t),NO(n,s)):s instanceof W1?(ht(Dy,"Document no longer in limbo: "+s.key),n.Vu.removeReference(s.key,t),n.Vu.containsKey(s.key)||nw(n,s.key)):_t(19791,{wu:s})}function NO(n,t){const e=t.key,s=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(s)||(ht(Dy,"New document in limbo: "+e),n.Eu.add(s),Vy(n))}function Vy(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new yt(te.fromString(t)),s=n.fu.next();n.Au.set(s,new SO(e)),n.Ru=n.Ru.insert(e,s),H1(n.remoteStore,new pr(Ki(Zf(e.path)),s,"TargetPurposeLimboResolution",$f.ce))}}async function rc(n,t,e){const s=bt(n),a=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{c.push(s.pu(p,t,e).then((g=>{if((g||e)&&s.isPrimaryClient){const y=g?!g.fromCache:e?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(g){a.push(g);const y=yy.Es(p.targetId,g);u.push(y)}})))})),await Promise.all(c),s.Pu.J_(a),await(async function(p,g){const y=bt(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>st.forEach(g,(S=>st.forEach(S.Ts,(I=>y.persistence.referenceDelegate.addReference(T,S.targetId,I))).next((()=>st.forEach(S.Is,(I=>y.persistence.referenceDelegate.removeReference(T,S.targetId,I)))))))))}catch(T){if(!el(T))throw T;ht(vy,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const I=y.vs.get(S),P=I.snapshotVersion,z=I.withLastLimboFreeSnapshotVersion(P);y.vs=y.vs.insert(S,z)}}})(s.localStore,u))}async function OO(n,t){const e=bt(n);if(!e.currentUser.isEqual(t)){ht(Dy,"User change. New user:",t.toKey());const s=await j1(e.localStore,t);e.currentUser=t,(function(u,c){u.mu.forEach((d=>{d.forEach((p=>{p.reject(new ut(J.CANCELLED,c))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await rc(e,s.Ns)}}function PO(n,t){const e=bt(n),s=e.Au.get(t);if(s&&s.hu)return Ut().add(s.key);{let a=Ut();const u=e.Iu.get(t);if(!u)return a;for(const c of u){const d=e.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function iw(n){const t=bt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=J1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=PO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=DO.bind(null,t),t.Pu.J_=vO.bind(null,t.eventManager),t.Pu.yu=_O.bind(null,t.eventManager),t}function kO(n){const t=bt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=VO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=MO.bind(null,t),t}class Vf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=rd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return BN(this.persistence,new kN,t.initialUser,this.serializer)}Cu(t){return new z1(gy.Vi,this.serializer)}Du(t){return new KN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vf.provider={build:()=>new Vf};class LO extends Vf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Ft(this.persistence.referenceDelegate instanceof xf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new EN(s,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new z1((s=>xf.Vi(s,e)),this.serializer)}}class Tg{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>pS(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=OO.bind(null,this.syncEngine),await pO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new yO})()}createDatastore(t){const e=rd(t.databaseInfo.databaseId),s=WN(t.databaseInfo);return nO(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return(function(s,a,u,c,d){return new sO(s,a,u,c,d)})(this.localStore,this.datastore,t.asyncQueue,(e=>pS(this.syncEngine,e,0)),(function(){return uS.v()?new uS:new YN})())}createSyncEngine(t,e){return(function(a,u,c,d,p,g,y){const T=new AO(a,u,c,d,p,g);return y&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const s=bt(e);ht(xa,"RemoteStore shutting down."),s.Ea.add(5),await sc(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tg.provider={build:()=>new Tg};class My{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):bs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}let UO=class{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ut(J.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const e=await(async function(a,u){const c=bt(a),d={documents:u.map((T=>If(c.serializer,T)))},p=await c.jo("BatchGetDocuments",c.serializer.databaseId,te.emptyPath(),d,u.length),g=new Map;p.forEach((T=>{const S=sN(c.serializer,T);g.set(S.key.toString(),S)}));const y=[];return u.forEach((T=>{const S=g.get(T.toString());Ft(!!S,55234,{key:T}),y.push(S)})),y})(this.datastore,t);return e.forEach((s=>this.recordVersion(s))),e}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new id(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((e=>{t.delete(e.key.toString())})),t.forEach(((e,s)=>{const a=yt.fromPath(s);this.mutations.push(new w1(a,this.precondition(a)))})),await(async function(s,a){const u=bt(s),c={writes:a.map((d=>O1(u.serializer,d)))};await u.Wo("Commit",u.serializer.databaseId,te.emptyPath(),c)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw _t(50498,{Gu:t.constructor.name});e=Et.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!e.isEqual(s))throw new ut(J.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Et.min())?on.exists(!1):on.updateTime(e):on.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Et.min()))throw new ut(J.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return on.updateTime(e)}return on.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}};class BO{constructor(t,e,s,a,u){this.asyncQueue=t,this.datastore=e,this.options=s,this.updateFunction=a,this.deferred=u,this.zu=s.maxAttempts,this.M_=new _y(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const t=new UO(this.datastore),e=this.Ju(t);e&&e.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((a=>{this.Zu(a)}))))})).catch((s=>{this.Zu(s)}))}))}Ju(t){try{const e=this.updateFunction(t);return!ec(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Zu(t){this.zu>0&&this.Xu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(t)}Xu(t){if(t?.name==="FirebaseError"){const e=t.code;return e==="aborted"||e==="failed-precondition"||e==="already-exists"||!R1(e)}return!1}}const Vr="FirestoreClient";class zO{constructor(t,e,s,a,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this._databaseInfo=a,this.user=an.UNAUTHENTICATED,this.clientId=ry.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{ht(Vr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ht(Vr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=wy(e,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Op(n,t){n.asyncQueue.verifyOperationInProgress(),ht(Vr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let s=e.initialUser;n.setCredentialChangeListener((async a=>{s.isEqual(a)||(await j1(t.localStore,a),s=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function yS(n,t){n.asyncQueue.verifyOperationInProgress();const e=await jO(n);ht(Vr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((s=>hS(t.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,a)=>hS(t.remoteStore,a))),n._onlineComponents=t}async function jO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ht(Vr,"Using user provided OfflineComponentProvider");try{await Op(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===J.FAILED_PRECONDITION||a.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;jo("Error using user provided cache. Falling back to memory cache: "+e),await Op(n,new Vf)}}else ht(Vr,"Using default OfflineComponentProvider"),await Op(n,new LO(void 0));return n._offlineComponents}async function Ny(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ht(Vr,"Using user provided OnlineComponentProvider"),await yS(n,n._uninitializedComponentsProvider._online)):(ht(Vr,"Using default OnlineComponentProvider"),await yS(n,new Tg))),n._onlineComponents}function FO(n){return Ny(n).then((t=>t.syncEngine))}function qO(n){return Ny(n).then((t=>t.datastore))}async function Mf(n){const t=await Ny(n),e=t.eventManager;return e.onListen=bO.bind(null,t.syncEngine),e.onUnlisten=CO.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=wO.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=IO.bind(null,t.syncEngine),e}function HO(n,t,e,s){const a=new My(s),u=new xy(t,a,e);return n.asyncQueue.enqueueAndForget((async()=>Ry(await Mf(n),u))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>Cy(await Mf(n),u)))}}function GO(n,t,e={}){const s=new Hi;return n.asyncQueue.enqueueAndForget((async()=>(function(u,c,d,p,g){const y=new My({next:S=>{y.Nu(),c.enqueueAndForget((()=>Cy(u,T)));const I=S.docs.has(d);!I&&S.fromCache?g.reject(new ut(J.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&S.fromCache&&p&&p.source==="server"?g.reject(new ut(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new xy(Zf(d.path),y,{includeMetadataChanges:!0,Ka:!0});return Ry(u,T)})(await Mf(n),n.asyncQueue,t,e,s))),s.promise}function KO(n,t,e={}){const s=new Hi;return n.asyncQueue.enqueueAndForget((async()=>(function(u,c,d,p,g){const y=new My({next:S=>{y.Nu(),c.enqueueAndForget((()=>Cy(u,T))),S.fromCache&&p.source==="server"?g.reject(new ut(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new xy(d,y,{includeMetadataChanges:!0,Ka:!0});return Ry(u,T)})(await Mf(n),n.asyncQueue,t,e,s))),s.promise}function YO(n,t){const e=new Hi;return n.asyncQueue.enqueueAndForget((async()=>xO(await FO(n),t,e))),e.promise}function QO(n,t,e){const s=new Hi;return n.asyncQueue.enqueueAndForget((async()=>{const a=await qO(n);new BO(n.asyncQueue,a,e,t,s).ju()})),s.promise}function sw(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const XO="ComponentProvider",vS=new Map;function $O(n,t,e,s,a){return new fM(n,t,e,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,sw(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const rw="firestore.googleapis.com",_S=!0;class TS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rw,this.ssl=_S}else this.host=t.host,this.ssl=t.ssl??_S;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=B1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<_N)throw new ut(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}eM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sw(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ld{constructor(t,e,s,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new GV;switch(s.type){case"firstParty":return new XV(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const s=vS.get(e);s&&(ht(XO,"Removing Datastore"),vS.delete(e),s.terminate())})(this),Promise.resolve()}}function WO(n,t,e,s={}){n=Gi(n,ld);const a=$o(t),u=n._getSettings(),c={...u,emulatorOptions:n._getEmulatorOptions()},d=`${t}:${e}`;a&&(tb(`https://${d}`),eb("Firestore",!0)),u.host!==rw&&u.host!==d&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:d,ssl:a,emulatorOptions:s};if(!wa(p,c)&&(n._setSettings(p),s.mockUserToken)){let g,y;if(typeof s.mockUserToken=="string")g=s.mockUserToken,y=an.MOCK_USER;else{g=px(s.mockUserToken,n._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ut(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new an(T)}n._authCredentials=new KV(new Yb(g,y))}}class kr{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new kr(this.firestore,t,this._query)}}class Ee{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ee(this.firestore,t,this._key)}toJSON(){return{type:Ee._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,s){if(tc(e,Ee._jsonSchema))return new Ee(t,s||null,new yt(te.fromString(e.referencePath)))}}Ee._jsonSchemaVersion="firestore/documentReference/1.0",Ee._jsonSchema={type:Oe("string",Ee._jsonSchemaVersion),referencePath:Oe("string")};class Ar extends kr{constructor(t,e,s){super(t,e,Zf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ee(this.firestore,null,new yt(t))}withConverter(t){return new Ar(this.firestore,t,this._path)}}function Yo(n,t,...e){if(n=je(n),Qb("collection","path",t),n instanceof ld){const s=te.fromString(t,...e);return NE(s),new Ar(n,null,s)}{if(!(n instanceof Ee||n instanceof Ar))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(te.fromString(t,...e));return NE(s),new Ar(n.firestore,null,s)}}function qu(n,t,...e){if(n=je(n),arguments.length===1&&(t=ry.newId()),Qb("doc","path",t),n instanceof ld){const s=te.fromString(t,...e);return ME(s),new Ee(n,null,new yt(s))}{if(!(n instanceof Ee||n instanceof Ar))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(te.fromString(t,...e));return ME(s),new Ee(n.firestore,n instanceof Ar?n.converter:null,new yt(s))}}const ES="AsyncQueue";class SS{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _y(this,"async_queue_retry"),this._c=()=>{const s=Np();s&&ht(ES,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const e=Np();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Np();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Hi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!el(t))throw t;ht(ES,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,bs("INTERNAL UNHANDLED ERROR: ",AS(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=e,e}enqueueAfterDelay(t,e,s){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=by.createAndSchedule(this,t,e,s,(u=>this.hc(u)));return this.tc.push(a),a}uc(){this.nc&&_t(47125,{Pc:AS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,s)=>e.targetTimeMs-s.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function AS(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Da extends ld{constructor(t,e,s,a){super(t,e,s,a),this.type="firestore",this._queue=new SS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new SS(t),this._firestoreClient=void 0,await t}}}function ZO(n,t){const e=typeof n=="object"?n:rb(),s=typeof n=="string"?n:Af,a=$g(e,"firestore").getImmediate({identifier:s});if(!a._initialized){const u=dx("firestore");u&&WO(a,...u)}return a}function sl(n){if(n._terminated)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||JO(n),n._firestoreClient}function JO(n){const t=n._freezeSettings(),e=$O(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new zO(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(n._componentsProvider))}class Nn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Nn(nn.fromBase64String(t))}catch(e){throw new ut(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Nn(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(tc(t,Nn._jsonSchema))return Nn.fromBase64String(t.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:Oe("string",Nn._jsonSchemaVersion),bytes:Oe("string")};class ud{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ut(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class cd{constructor(t){this._methodName=t}}class Yi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ut(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ut(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yi._jsonSchemaVersion}}static fromJSON(t){if(tc(t,Yi._jsonSchema))return new Yi(t.latitude,t.longitude)}}Yi._jsonSchemaVersion="firestore/geoPoint/1.0",Yi._jsonSchema={type:Oe("string",Yi._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};class pi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==a[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(tc(t,pi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new pi(t.vectorValues);throw new ut(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pi._jsonSchemaVersion="firestore/vectorValue/1.0",pi._jsonSchema={type:Oe("string",pi._jsonSchemaVersion),vectorValues:Oe("object")};const tP=/^__.*__$/;class eP{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new Pr(t,this.data,this.fieldMask,e,this.fieldTransforms):new nc(t,this.data,e,this.fieldTransforms)}}class aw{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return new Pr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function ow(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{dataSource:n})}}class Oy{constructor(t,e,s,a,u,c){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=a,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Oy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),s=this.contextWith({path:e,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const e=this.path?.child(t),s=this.contextWith({path:e,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Nf(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(ow(this.dataSource)&&tP.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class nP{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||rd(t)}createContext(t,e,s,a=!1){return new Oy({dataSource:t,methodName:e,targetDoc:s,path:en.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Py(n){const t=n._freezeSettings(),e=rd(n._databaseId);return new nP(n._databaseId,!!t.ignoreUndefinedProperties,e)}function lw(n,t,e,s,a,u={}){const c=n.createContext(u.merge||u.mergeFields?2:0,t,e,a);Ly("Data must be an object, but it was:",c,s);const d=hw(s,c);let p,g;if(u.merge)p=new On(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const y=[];for(const T of u.mergeFields){const S=Qo(t,T,e);if(!c.contains(S))throw new ut(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);mw(y,S)||y.push(S)}p=new On(y),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new eP(new dn(d),p,g)}class hd extends cd{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof hd}}class ky extends cd{_toFieldTransform(t){return new jM(t.path,new zu)}isEqual(t){return t instanceof ky}}function uw(n,t,e,s){const a=n.createContext(1,t,e);Ly("Data must be an object, but it was:",a,s);const u=[],c=dn.empty();Or(s,((p,g)=>{const y=dw(t,p,e);g=je(g);const T=a.childContextForFieldPath(y);if(g instanceof hd)u.push(y);else{const S=ac(g,T);S!=null&&(u.push(y),c.set(y,S))}}));const d=new On(u);return new aw(c,d,a.fieldTransforms)}function cw(n,t,e,s,a,u){const c=n.createContext(1,t,e),d=[Qo(t,s,e)],p=[a];if(u.length%2!=0)throw new ut(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)d.push(Qo(t,u[S])),p.push(u[S+1]);const g=[],y=dn.empty();for(let S=d.length-1;S>=0;--S)if(!mw(g,d[S])){const I=d[S];let P=p[S];P=je(P);const z=c.childContextForFieldPath(I);if(P instanceof hd)g.push(I);else{const U=ac(P,z);U!=null&&(g.push(I),y.set(I,U))}}const T=new On(g);return new aw(y,T,c.fieldTransforms)}function iP(n,t,e,s=!1){return ac(e,n.createContext(s?4:3,t))}function ac(n,t){if(fw(n=je(n)))return Ly("Unsupported field value:",t,n),hw(n,t);if(n instanceof cd)return(function(s,a){if(!ow(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(a);u&&a.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,a){const u=[];let c=0;for(const d of s){let p=ac(d,a.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(n,t)}return(function(s,a){if((s=je(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return UM(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=re.fromDate(s);return{timestampValue:Cf(a.serializer,u)}}if(s instanceof re){const u=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Cf(a.serializer,u)}}if(s instanceof Yi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Nn)return{bytesValue:D1(a.serializer,s._byteString)};if(s instanceof Ee){const u=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:my(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof pi)return(function(c,d){const p=c instanceof pi?c.toArray():c;return{mapValue:{fields:{[i1]:{stringValue:s1},[bf]:{arrayValue:{values:p.map((y=>{if(typeof y!="number")throw d.createError("VectorValues must only contain numeric values.");return hy(d.serializer,y)}))}}}}}})(s,a);if(U1(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Xf(s)}`)})(n,t)}function hw(n,t){const e={};return Wb(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Or(n,((s,a)=>{const u=ac(a,t.childContextForField(s));u!=null&&(e[s]=u)})),{mapValue:{fields:e}}}function fw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof re||n instanceof Yi||n instanceof Nn||n instanceof Ee||n instanceof cd||n instanceof pi||U1(n))}function Ly(n,t,e){if(!fw(e)||!Xb(e)){const s=Xf(e);throw s==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+s)}}function Qo(n,t,e){if((t=je(t))instanceof ud)return t._internalPath;if(typeof t=="string")return dw(n,t);throw Nf("Field path arguments must be of type string or ",n,!1,void 0,e)}const sP=new RegExp("[~\\*/\\[\\]]");function dw(n,t,e){if(t.search(sP)>=0)throw Nf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new ud(...t.split("."))._internalPath}catch{throw Nf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Nf(n,t,e,s,a){const u=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${s}`),c&&(p+=` in document ${a}`),p+=")"),new ut(J.INVALID_ARGUMENT,d+n+p)}function mw(n,t){return n.some((e=>e.isEqual(t)))}class pw{convertValue(t,e="none"){switch(xr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ir(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return Or(t,((a,u)=>{s[a]=this.convertValue(u,e)})),s}convertVectorValue(t){const e=t.fields?.[bf].arrayValue?.values?.map((s=>Te(s.doubleValue)));return new pi(e)}convertGeoPoint(t){return new Yi(Te(t.latitude),Te(t.longitude))}convertArray(t,e){return(t.values||[]).map((s=>this.convertValue(s,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const s=Wf(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(ku(t));default:return null}}convertTimestamp(t){const e=Cr(t);return new re(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=te.fromString(t);Ft(L1(s),9688,{name:t});const a=new Lu(s.get(1),s.get(3)),u=new yt(s.popFirst(5));return a.isEqual(e)||bs(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}class fd extends pw{constructor(t){super(),this.firestore=t}convertBytes(t){return new Nn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ee(this.firestore,null,e)}}function rP(){return new ky("serverTimestamp")}const bS="@firebase/firestore",wS="4.10.0";function RS(n){return(function(e,s){if(typeof e!="object"||e===null)return!1;const a=e;for(const u of s)if(u in a&&typeof a[u]=="function")return!0;return!1})(n,["next","error","complete"])}class Of{constructor(t,e,s,a,u){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ee(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new aP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(Qo("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class aP extends Of{data(){return super.data()}}function gw(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ut(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Uy{}class yw extends Uy{}function By(n,t,...e){let s=[];t instanceof Uy&&s.push(t),s=s.concat(e),(function(u){const c=u.filter((p=>p instanceof jy)).length,d=u.filter((p=>p instanceof zy)).length;if(c>1||c>0&&d>0)throw new ut(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)n=a._apply(n);return n}class zy extends yw{constructor(t,e,s){super(),this._field=t,this._op=e,this._value=s,this.type="where"}static _create(t,e,s){return new zy(t,e,s)}_apply(t){const e=this._parse(t);return vw(t._query,e),new kr(t.firestore,t.converter,hg(t._query,e))}_parse(t){const e=Py(t.firestore);return(function(u,c,d,p,g,y,T){let S;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ut(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){IS(T,y);const P=[];for(const z of T)P.push(CS(p,u,z));S={arrayValue:{values:P}}}else S=CS(p,u,T)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||IS(T,y),S=iP(d,c,T,y==="in"||y==="not-in");return Ne.create(g,y,S)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class jy extends Uy{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new jy(t,e)}_parse(t){const e=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return e.length===1?e[0]:gi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(a,u){let c=a;const d=u.getFlattenedFilters();for(const p of d)vw(c,p),c=hg(c,p)})(t._query,e),new kr(t.firestore,t.converter,hg(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Fy extends yw{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Fy(t,e)}_apply(t){const e=(function(a,u,c){if(a.startAt!==null)throw new ut(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ut(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bu(u,c)})(t._query,this._field,this._direction);return new kr(t.firestore,t.converter,DM(t._query,e))}}function qy(n,t="asc"){const e=t,s=Qo("orderBy",n);return Fy._create(s,e)}function CS(n,t,e){if(typeof(e=je(e))=="string"){if(e==="")throw new ut(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!f1(t)&&e.indexOf("/")!==-1)throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const s=t.path.child(te.fromString(e));if(!yt.isDocumentKey(s))throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return jE(n,new yt(s))}if(e instanceof Ee)return jE(n,e._key);throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xf(e)}.`)}function IS(n,t){if(!Array.isArray(n)||n.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function vw(n,t){const e=(function(a,u){for(const c of a)for(const d of c.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ut(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function _w(n,t,e){let s;return s=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,s}class oP extends pw{constructor(t){super(),this.firestore=t}convertBytes(t){return new Nn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ee(this.firestore,null,e)}}class xo{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class br extends Of{constructor(t,e,s,a,u,c){super(t,e,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(Qo("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=br._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}br._jsonSchemaVersion="firestore/documentSnapshot/1.0",br._jsonSchema={type:Oe("string",br._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class lf extends br{data(t={}){return super.data(t)}}class Aa{constructor(t,e,s,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new xo(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((s=>{t.call(e,new lf(this._firestore,this._userDataWriter,s.key,s,new xo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ut(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,u){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const p=new lf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new xo(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const p=new lf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new xo(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:lP(d.type),doc:p,oldIndex:g,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Aa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ry.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],s=[],a=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),a.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function lP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:n})}}Aa._jsonSchemaVersion="firestore/querySnapshot/1.0",Aa._jsonSchema={type:Oe("string",Aa._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};const uP={maxAttempts:5};class cP{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Py(t)}set(t,e,s){this._verifyNotCommitted();const a=gr(t,this._firestore),u=_w(a.converter,e,s),c=lw(this._dataReader,"WriteBatch.set",a._key,u,a.converter!==null,s);return this._mutations.push(c.toMutation(a._key,on.none())),this}update(t,e,s,...a){this._verifyNotCommitted();const u=gr(t,this._firestore);let c;return c=typeof(e=je(e))=="string"||e instanceof ud?cw(this._dataReader,"WriteBatch.update",u._key,e,s,a):uw(this._dataReader,"WriteBatch.update",u._key,e),this._mutations.push(c.toMutation(u._key,on.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=gr(t,this._firestore);return this._mutations=this._mutations.concat(new id(e._key,on.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ut(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gr(n,t){if((n=je(n)).firestore!==t)throw new ut(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class hP{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Py(t)}get(t){const e=gr(t,this._firestore),s=new oP(this._firestore);return this._transaction.lookup([e._key]).then((a=>{if(!a||a.length!==1)return _t(24041);const u=a[0];if(u.isFoundDocument())return new Of(this._firestore,s,u.key,u,e.converter);if(u.isNoDocument())return new Of(this._firestore,s,e._key,null,e.converter);throw _t(18433,{doc:u})}))}set(t,e,s){const a=gr(t,this._firestore),u=_w(a.converter,e,s),c=lw(this._dataReader,"Transaction.set",a._key,u,a.converter!==null,s);return this._transaction.set(a._key,c),this}update(t,e,s,...a){const u=gr(t,this._firestore);let c;return c=typeof(e=je(e))=="string"||e instanceof ud?cw(this._dataReader,"Transaction.update",u._key,e,s,a):uw(this._dataReader,"Transaction.update",u._key,e),this._transaction.update(u._key,c),this}delete(t){const e=gr(t,this._firestore);return this._transaction.delete(e._key),this}}class fP extends hP{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=gr(t,this._firestore),s=new fd(this._firestore);return super.get(t).then((a=>new br(this._firestore,s,e._key,a._document,new xo(!1,!1),e.converter)))}}function dP(n,t,e){n=Gi(n,Da);const s={...uP,...e};(function(c){if(c.maxAttempts<1)throw new ut(J.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s);const a=sl(n);return QO(a,(u=>t(new fP(n,u))),s)}function mP(n){n=Gi(n,Ee);const t=Gi(n.firestore,Da),e=sl(t);return GO(e,n._key).then((s=>Ew(t,n,s)))}function Eg(n){n=Gi(n,kr);const t=Gi(n.firestore,Da),e=sl(t),s=new fd(t);return gw(n._query),KO(e,n._query).then((a=>new Aa(t,s,n,a)))}function Tw(n,...t){n=je(n);let e={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||RS(t[s])||(e=t[s++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(RS(t[s])){const g=t[s];t[s]=g.next?.bind(g),t[s+1]=g.error?.bind(g),t[s+2]=g.complete?.bind(g)}let u,c,d;if(n instanceof Ee)c=Gi(n.firestore,Da),d=Zf(n._key.path),u={next:g=>{t[s]&&t[s](Ew(c,n,g))},error:t[s+1],complete:t[s+2]};else{const g=Gi(n,kr);c=Gi(g.firestore,Da),d=g._query;const y=new fd(c);u={next:T=>{t[s]&&t[s](new Aa(c,y,g,T))},error:t[s+1],complete:t[s+2]},gw(n._query)}const p=sl(c);return HO(p,d,a,u)}function pP(n,t){const e=sl(n);return YO(e,t)}function Ew(n,t,e){const s=e.docs.get(t._key),a=new fd(n);return new br(n,a,t._key,s,new xo(e.hasPendingWrites,e.fromCache),t.converter)}function gP(n){return n=Gi(n,Da),sl(n),new cP(n,(t=>pP(n,t)))}(function(t,e=!0){HV(Wo),zo(new Ra("firestore",((s,{instanceIdentifier:a,options:u})=>{const c=s.getProvider("app").getImmediate(),d=new Da(new YV(s.getProvider("auth-internal")),new $V(c,s.getProvider("app-check-internal")),dM(c,a),c);return u={useFetchStreams:e,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),Tr(bS,wS,t),Tr(bS,wS,"esm2020")})();const yP={apiKey:"AIzaSyCpfz0Zk6VPZq3_T-sltwFYvCssTNt7SrA",authDomain:"soka-3ce9a.firebaseapp.com",projectId:"soka-3ce9a",storageBucket:"soka-3ce9a.firebasestorage.app",messagingSenderId:"103213261935",appId:"1:103213261935:web:800acc4fb30c7f8f45599a"},Sw=sb(yP),Pf=zV(Sw),$n=ZO(Sw),vP=({children:n})=>{const[t,e]=$.useState(null),[s,a]=$.useState(!0);return $.useEffect(()=>{const u=x2(Pf,c=>{e(c),a(!1),c||A2(Pf).catch(d=>{console.error("Auth Error:",d)})});return()=>u()},[]),s?q.jsx("div",{className:"loading",children:"Loading..."}):t?q.jsx(q.Fragment,{children:n}):q.jsx("div",{className:"error",children:"Authenticating..."})},Aw=$.createContext(void 0),_P=({children:n})=>{const[t,e]=$.useState({selectedA:null,selectedB:null,selectedC:null,selectedD:null}),[s,a]=$.useState(!1),u=p=>p==="soka2026"||p==="admin"?(a(!0),!0):!1,c=(p,g)=>{e(y=>{const T={...y};return g==="C"?{selectedA:null,selectedB:null,selectedC:p,selectedD:null}:g==="D"?{selectedA:null,selectedB:null,selectedC:null,selectedD:p}:((g==="A"||g==="B")&&(T.selectedC=null,T.selectedD=null,g==="A"&&(T.selectedA=p),g==="B"&&(T.selectedB=p)),T)})},d=!!t.selectedC||!!t.selectedD||!!t.selectedA&&!!t.selectedB;return q.jsx(Aw.Provider,{value:{selection:t,selectSession:c,isValid:d,isAdmin:s,login:u},children:n})},Hy=()=>{const n=$.useContext(Aw);if(!n)throw new Error("useBooking must be used within BookingProvider");return n};let TP={data:""},EP=n=>{if(typeof window=="object"){let t=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(n||document.head).appendChild(t),t.firstChild}return n||TP},SP=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,AP=/\/\*[^]*?\*\/|  +/g,xS=/\n+/g,mr=(n,t)=>{let e="",s="",a="";for(let u in n){let c=n[u];u[0]=="@"?u[1]=="i"?e=u+" "+c+";":s+=u[1]=="f"?mr(c,u):u+"{"+mr(c,u[1]=="k"?"":t)+"}":typeof c=="object"?s+=mr(c,t?t.replace(/([^,])+/g,d=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,d):d?d+" "+p:p)):u):c!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=mr.p?mr.p(u,c):u+":"+c+";")}return e+(t&&a?t+"{"+a+"}":a)+s},gs={},bw=n=>{if(typeof n=="object"){let t="";for(let e in n)t+=e+bw(n[e]);return t}return n},bP=(n,t,e,s,a)=>{let u=bw(n),c=gs[u]||(gs[u]=(p=>{let g=0,y=11;for(;g<p.length;)y=101*y+p.charCodeAt(g++)>>>0;return"go"+y})(u));if(!gs[c]){let p=u!==n?n:(g=>{let y,T,S=[{}];for(;y=SP.exec(g.replace(AP,""));)y[4]?S.shift():y[3]?(T=y[3].replace(xS," ").trim(),S.unshift(S[0][T]=S[0][T]||{})):S[0][y[1]]=y[2].replace(xS," ").trim();return S[0]})(n);gs[c]=mr(a?{["@keyframes "+c]:p}:p,e?"":"."+c)}let d=e&&gs.g?gs.g:null;return e&&(gs.g=gs[c]),((p,g,y,T)=>{T?g.data=g.data.replace(T,p):g.data.indexOf(p)===-1&&(g.data=y?p+g.data:g.data+p)})(gs[c],t,s,d),c},wP=(n,t,e)=>n.reduce((s,a,u)=>{let c=t[u];if(c&&c.call){let d=c(e),p=d&&d.props&&d.props.className||/^go/.test(d)&&d;c=p?"."+p:d&&typeof d=="object"?d.props?"":mr(d,""):d===!1?"":d}return s+a+(c??"")},"");function dd(n){let t=this||{},e=n.call?n(t.p):n;return bP(e.unshift?e.raw?wP(e,[].slice.call(arguments,1),t.p):e.reduce((s,a)=>Object.assign(s,a&&a.call?a(t.p):a),{}):e,EP(t.target),t.g,t.o,t.k)}let ww,Sg,Ag;dd.bind({g:1});let Rs=dd.bind({k:1});function RP(n,t,e,s){mr.p=t,ww=n,Sg=e,Ag=s}function Lr(n,t){let e=this||{};return function(){let s=arguments;function a(u,c){let d=Object.assign({},u),p=d.className||a.className;e.p=Object.assign({theme:Sg&&Sg()},d),e.o=/ *go\d+/.test(p),d.className=dd.apply(e,s)+(p?" "+p:"");let g=n;return n[0]&&(g=d.as||n,delete d.as),Ag&&g[0]&&Ag(d),ww(g,d)}return a}}var CP=n=>typeof n=="function",kf=(n,t)=>CP(n)?n(t):n,IP=(()=>{let n=0;return()=>(++n).toString()})(),Rw=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");n=!t||t.matches}return n}})(),xP=20,Gy="default",Cw=(n,t)=>{let{toastLimit:e}=n.settings;switch(t.type){case 0:return{...n,toasts:[t.toast,...n.toasts].slice(0,e)};case 1:return{...n,toasts:n.toasts.map(c=>c.id===t.toast.id?{...c,...t.toast}:c)};case 2:let{toast:s}=t;return Cw(n,{type:n.toasts.find(c=>c.id===s.id)?1:0,toast:s});case 3:let{toastId:a}=t;return{...n,toasts:n.toasts.map(c=>c.id===a||a===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return t.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(c=>c.id!==t.toastId)};case 5:return{...n,pausedAt:t.time};case 6:let u=t.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+u}))}}},uf=[],Iw={toasts:[],pausedAt:void 0,settings:{toastLimit:xP}},ji={},xw=(n,t=Gy)=>{ji[t]=Cw(ji[t]||Iw,n),uf.forEach(([e,s])=>{e===t&&s(ji[t])})},Dw=n=>Object.keys(ji).forEach(t=>xw(n,t)),DP=n=>Object.keys(ji).find(t=>ji[t].toasts.some(e=>e.id===n)),md=(n=Gy)=>t=>{xw(t,n)},VP={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},MP=(n={},t=Gy)=>{let[e,s]=$.useState(ji[t]||Iw),a=$.useRef(ji[t]);$.useEffect(()=>(a.current!==ji[t]&&s(ji[t]),uf.push([t,s]),()=>{let c=uf.findIndex(([d])=>d===t);c>-1&&uf.splice(c,1)}),[t]);let u=e.toasts.map(c=>{var d,p,g;return{...n,...n[c.type],...c,removeDelay:c.removeDelay||((d=n[c.type])==null?void 0:d.removeDelay)||n?.removeDelay,duration:c.duration||((p=n[c.type])==null?void 0:p.duration)||n?.duration||VP[c.type],style:{...n.style,...(g=n[c.type])==null?void 0:g.style,...c.style}}});return{...e,toasts:u}},NP=(n,t="blank",e)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...e,id:e?.id||IP()}),oc=n=>(t,e)=>{let s=NP(t,n,e);return md(s.toasterId||DP(s.id))({type:2,toast:s}),s.id},Be=(n,t)=>oc("blank")(n,t);Be.error=oc("error");Be.success=oc("success");Be.loading=oc("loading");Be.custom=oc("custom");Be.dismiss=(n,t)=>{let e={type:3,toastId:n};t?md(t)(e):Dw(e)};Be.dismissAll=n=>Be.dismiss(void 0,n);Be.remove=(n,t)=>{let e={type:4,toastId:n};t?md(t)(e):Dw(e)};Be.removeAll=n=>Be.remove(void 0,n);Be.promise=(n,t,e)=>{let s=Be.loading(t.loading,{...e,...e?.loading});return typeof n=="function"&&(n=n()),n.then(a=>{let u=t.success?kf(t.success,a):void 0;return u?Be.success(u,{id:s,...e,...e?.success}):Be.dismiss(s),a}).catch(a=>{let u=t.error?kf(t.error,a):void 0;u?Be.error(u,{id:s,...e,...e?.error}):Be.dismiss(s)}),n};var OP=1e3,PP=(n,t="default")=>{let{toasts:e,pausedAt:s}=MP(n,t),a=$.useRef(new Map).current,u=$.useCallback((T,S=OP)=>{if(a.has(T))return;let I=setTimeout(()=>{a.delete(T),c({type:4,toastId:T})},S);a.set(T,I)},[]);$.useEffect(()=>{if(s)return;let T=Date.now(),S=e.map(I=>{if(I.duration===1/0)return;let P=(I.duration||0)+I.pauseDuration-(T-I.createdAt);if(P<0){I.visible&&Be.dismiss(I.id);return}return setTimeout(()=>Be.dismiss(I.id,t),P)});return()=>{S.forEach(I=>I&&clearTimeout(I))}},[e,s,t]);let c=$.useCallback(md(t),[t]),d=$.useCallback(()=>{c({type:5,time:Date.now()})},[c]),p=$.useCallback((T,S)=>{c({type:1,toast:{id:T,height:S}})},[c]),g=$.useCallback(()=>{s&&c({type:6,time:Date.now()})},[s,c]),y=$.useCallback((T,S)=>{let{reverseOrder:I=!1,gutter:P=8,defaultPosition:z}=S||{},U=e.filter(H=>(H.position||z)===(T.position||z)&&H.height),Y=U.findIndex(H=>H.id===T.id),et=U.filter((H,X)=>X<Y&&H.visible).length;return U.filter(H=>H.visible).slice(...I?[et+1]:[0,et]).reduce((H,X)=>H+(X.height||0)+P,0)},[e]);return $.useEffect(()=>{e.forEach(T=>{if(T.dismissed)u(T.id,T.removeDelay);else{let S=a.get(T.id);S&&(clearTimeout(S),a.delete(T.id))}})},[e,u]),{toasts:e,handlers:{updateHeight:p,startPause:d,endPause:g,calculateOffset:y}}},kP=Rs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,LP=Rs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,UP=Rs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,BP=Lr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${kP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${LP} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${UP} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,zP=Rs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,jP=Lr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${zP} 1s linear infinite;
`,FP=Rs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,qP=Rs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,HP=Lr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${FP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${qP} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,GP=Lr("div")`
  position: absolute;
`,KP=Lr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,YP=Rs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,QP=Lr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${YP} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,XP=({toast:n})=>{let{icon:t,type:e,iconTheme:s}=n;return t!==void 0?typeof t=="string"?$.createElement(QP,null,t):t:e==="blank"?null:$.createElement(KP,null,$.createElement(jP,{...s}),e!=="loading"&&$.createElement(GP,null,e==="error"?$.createElement(BP,{...s}):$.createElement(HP,{...s})))},$P=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,WP=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,ZP="0%{opacity:0;} 100%{opacity:1;}",JP="0%{opacity:1;} 100%{opacity:0;}",t4=Lr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,e4=Lr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,n4=(n,t)=>{let e=n.includes("top")?1:-1,[s,a]=Rw()?[ZP,JP]:[$P(e),WP(e)];return{animation:t?`${Rs(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Rs(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},i4=$.memo(({toast:n,position:t,style:e,children:s})=>{let a=n.height?n4(n.position||t||"top-center",n.visible):{opacity:0},u=$.createElement(XP,{toast:n}),c=$.createElement(e4,{...n.ariaProps},kf(n.message,n));return $.createElement(t4,{className:n.className,style:{...a,...e,...n.style}},typeof s=="function"?s({icon:u,message:c}):$.createElement($.Fragment,null,u,c))});RP($.createElement);var s4=({id:n,className:t,style:e,onHeightUpdate:s,children:a})=>{let u=$.useCallback(c=>{if(c){let d=()=>{let p=c.getBoundingClientRect().height;s(n,p)};d(),new MutationObserver(d).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[n,s]);return $.createElement("div",{ref:u,className:t,style:e},a)},r4=(n,t)=>{let e=n.includes("top"),s=e?{top:0}:{bottom:0},a=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Rw()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(e?1:-1)}px)`,...s,...a}},a4=dd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Yh=16,o4=({reverseOrder:n,position:t="top-center",toastOptions:e,gutter:s,children:a,toasterId:u,containerStyle:c,containerClassName:d})=>{let{toasts:p,handlers:g}=PP(e,u);return $.createElement("div",{"data-rht-toaster":u||"",style:{position:"fixed",zIndex:9999,top:Yh,left:Yh,right:Yh,bottom:Yh,pointerEvents:"none",...c},className:d,onMouseEnter:g.startPause,onMouseLeave:g.endPause},p.map(y=>{let T=y.position||t,S=g.calculateOffset(y,{reverseOrder:n,gutter:s,defaultPosition:t}),I=r4(T,S);return $.createElement(s4,{id:y.id,key:y.id,onHeightUpdate:g.updateHeight,className:y.visible?a4:"",style:I},y.type==="custom"?kf(y.message,y):a?a(y):$.createElement(i4,{toast:y,position:T}))}))},Iu=Be;const Vw=()=>{const[n,t]=$.useState([]),[e,s]=$.useState(!0);return $.useEffect(()=>{const a=By(Yo($n,"slots"),qy("id")),u=Tw(a,c=>{const d=c.docs.map(p=>p.data());t(d),s(!1)},c=>{console.error("Error fetching real-time slots:",c),s(!1)});return()=>u()},[]),{slots:n,loading:e}},l4=()=>{const n=async()=>{if(!confirm(`  

1. 
2. 

`))return;const e=gP($n);try{const s=Yo($n,"bookings");(await Eg(s)).forEach(g=>{e.delete(g.ref)});const u=Yo($n,"slots");(await Eg(u)).forEach(g=>{e.delete(g.ref)}),[{id:"2F_A",type:"A",location:"",title:"",description:"",capacity:50,booked:0,startTime:"20"},{id:"3F_A",type:"A",location:"",title:"*4 / *4",description:`



`,capacity:160,booked:0,startTime:"20"},{id:"5F_A",type:"A",location:"",title:" OPEN SPACE",description:"",capacity:120,booked:0,startTime:"20"},{id:"2F_B",type:"B",location:"",title:"",description:"",capacity:50,booked:0,startTime:"20"},{id:"3F_B",type:"B",location:"",title:"*4 / *4",description:`



`,capacity:160,booked:0,startTime:"20"},{id:"5F_B",type:"B",location:"",title:" OPEN SPACE",description:"",capacity:120,booked:0,startTime:"20"},{id:"6F_C",type:"C",location:"",title:"",description:" SEL ",capacity:70,booked:0,startTime:"40"},{id:"6F_D",type:"D",location:"",title:"",description:"",capacity:70,booked:0,startTime:"40"}].forEach(g=>{const y=qu($n,"slots",g.id);e.set(y,{...g,endTime:""})});const p=qu($n,"system","config");e.set(p,{lastReset:new Date().toISOString()}),await e.commit(),alert(""),window.location.reload()}catch(s){console.error(s),alert(" Error seeding data")}};return q.jsx("button",{onClick:n,className:"btn-primary",style:{margin:"20px auto",display:"block"},children:" (Initialize DB)"})},Ky=$.createContext({});function Yy(n){const t=$.useRef(null);return t.current===null&&(t.current=n()),t.current}const Mw=typeof window<"u",Nw=Mw?$.useLayoutEffect:$.useEffect,pd=$.createContext(null);function Qy(n,t){n.indexOf(t)===-1&&n.push(t)}function Xy(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const $i=(n,t,e)=>e>t?t:e<n?n:e;let $y=()=>{};const Cs={},Ow=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function Pw(n){return typeof n=="object"&&n!==null}const kw=n=>/^0[^.\s]+$/u.test(n);function Wy(n){let t;return()=>(t===void 0&&(t=n()),t)}const Zn=n=>n,u4=(n,t)=>e=>t(n(e)),lc=(...n)=>n.reduce(u4),Hu=(n,t,e)=>{const s=t-n;return s===0?1:(e-n)/s};class Zy{constructor(){this.subscriptions=[]}add(t){return Qy(this.subscriptions,t),()=>Xy(this.subscriptions,t)}notify(t,e,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,e,s);else for(let u=0;u<a;u++){const c=this.subscriptions[u];c&&c(t,e,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ts=n=>n*1e3,Wn=n=>n/1e3;function Lw(n,t){return t?n*(1e3/t):0}const Uw=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,c4=1e-7,h4=12;function f4(n,t,e,s,a){let u,c,d=0;do c=t+(e-t)/2,u=Uw(c,s,a)-n,u>0?e=c:t=c;while(Math.abs(u)>c4&&++d<h4);return c}function uc(n,t,e,s){if(n===t&&e===s)return Zn;const a=u=>f4(u,0,1,n,e);return u=>u===0||u===1?u:Uw(a(u),t,s)}const Bw=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,zw=n=>t=>1-n(1-t),jw=uc(.33,1.53,.69,.99),Jy=zw(jw),Fw=Bw(Jy),qw=n=>(n*=2)<1?.5*Jy(n):.5*(2-Math.pow(2,-10*(n-1))),tv=n=>1-Math.sin(Math.acos(n)),Hw=zw(tv),Gw=Bw(tv),d4=uc(.42,0,1,1),m4=uc(0,0,.58,1),Kw=uc(.42,0,.58,1),p4=n=>Array.isArray(n)&&typeof n[0]!="number",Yw=n=>Array.isArray(n)&&typeof n[0]=="number",g4={linear:Zn,easeIn:d4,easeInOut:Kw,easeOut:m4,circIn:tv,circInOut:Gw,circOut:Hw,backIn:Jy,backInOut:Fw,backOut:jw,anticipate:qw},y4=n=>typeof n=="string",DS=n=>{if(Yw(n)){$y(n.length===4);const[t,e,s,a]=n;return uc(t,e,s,a)}else if(y4(n))return g4[n];return n},Qh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function v4(n,t){let e=new Set,s=new Set,a=!1,u=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(y){c.has(y)&&(g.schedule(y),n()),y(d)}const g={schedule:(y,T=!1,S=!1)=>{const P=S&&a?e:s;return T&&c.add(y),P.has(y)||P.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,a){u=!0;return}a=!0,[e,s]=[s,e],e.forEach(p),e.clear(),a=!1,u&&(u=!1,g.process(y))}};return g}const _4=40;function Qw(n,t){let e=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},u=()=>e=!0,c=Qh.reduce((H,X)=>(H[X]=v4(u),H),{}),{setup:d,read:p,resolveKeyframes:g,preUpdate:y,update:T,preRender:S,render:I,postRender:P}=c,z=()=>{const H=Cs.useManualTiming?a.timestamp:performance.now();e=!1,Cs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(H-a.timestamp,_4),1)),a.timestamp=H,a.isProcessing=!0,d.process(a),p.process(a),g.process(a),y.process(a),T.process(a),S.process(a),I.process(a),P.process(a),a.isProcessing=!1,e&&t&&(s=!1,n(z))},U=()=>{e=!0,s=!0,a.isProcessing||n(z)};return{schedule:Qh.reduce((H,X)=>{const at=c[X];return H[X]=(ot,C=!1,w=!1)=>(e||U(),at.schedule(ot,C,w)),H},{}),cancel:H=>{for(let X=0;X<Qh.length;X++)c[Qh[X]].cancel(H)},state:a,steps:c}}const{schedule:ae,cancel:Mr,state:Je,steps:Pp}=Qw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zn,!0);let cf;function T4(){cf=void 0}const mn={now:()=>(cf===void 0&&mn.set(Je.isProcessing||Cs.useManualTiming?Je.timestamp:performance.now()),cf),set:n=>{cf=n,queueMicrotask(T4)}},Xw=n=>t=>typeof t=="string"&&t.startsWith(n),$w=Xw("--"),E4=Xw("var(--"),ev=n=>E4(n)?S4.test(n.split("/*")[0].trim()):!1,S4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function VS(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const rl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Gu={...rl,transform:n=>$i(0,1,n)},Xh={...rl,default:1},xu=n=>Math.round(n*1e5)/1e5,nv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function A4(n){return n==null}const b4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,iv=(n,t)=>e=>!!(typeof e=="string"&&b4.test(e)&&e.startsWith(n)||t&&!A4(e)&&Object.prototype.hasOwnProperty.call(e,t)),Ww=(n,t,e)=>s=>{if(typeof s!="string")return s;const[a,u,c,d]=s.match(nv);return{[n]:parseFloat(a),[t]:parseFloat(u),[e]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},w4=n=>$i(0,255,n),kp={...rl,transform:n=>Math.round(w4(n))},Ea={test:iv("rgb","red"),parse:Ww("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:s=1})=>"rgba("+kp.transform(n)+", "+kp.transform(t)+", "+kp.transform(e)+", "+xu(Gu.transform(s))+")"};function R4(n){let t="",e="",s="",a="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),s=n.substring(5,7),a=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),s=n.substring(3,4),a=n.substring(4,5),t+=t,e+=e,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const bg={test:iv("#"),parse:R4,transform:Ea.transform},cc=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),ur=cc("deg"),Qi=cc("%"),pt=cc("px"),C4=cc("vh"),I4=cc("vw"),MS={...Qi,parse:n=>Qi.parse(n)/100,transform:n=>Qi.transform(n*100)},Do={test:iv("hsl","hue"),parse:Ww("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:s=1})=>"hsla("+Math.round(n)+", "+Qi.transform(xu(t))+", "+Qi.transform(xu(e))+", "+xu(Gu.transform(s))+")"},Me={test:n=>Ea.test(n)||bg.test(n)||Do.test(n),parse:n=>Ea.test(n)?Ea.parse(n):Do.test(n)?Do.parse(n):bg.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ea.transform(n):Do.transform(n),getAnimatableNone:n=>{const t=Me.parse(n);return t.alpha=0,Me.transform(t)}},x4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function D4(n){return isNaN(n)&&typeof n=="string"&&(n.match(nv)?.length||0)+(n.match(x4)?.length||0)>0}const Zw="number",Jw="color",V4="var",M4="var(",NS="${}",N4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ku(n){const t=n.toString(),e=[],s={color:[],number:[],var:[]},a=[];let u=0;const d=t.replace(N4,p=>(Me.test(p)?(s.color.push(u),a.push(Jw),e.push(Me.parse(p))):p.startsWith(M4)?(s.var.push(u),a.push(V4),e.push(p)):(s.number.push(u),a.push(Zw),e.push(parseFloat(p))),++u,NS)).split(NS);return{values:e,split:d,indexes:s,types:a}}function tR(n){return Ku(n).values}function eR(n){const{split:t,types:e}=Ku(n),s=t.length;return a=>{let u="";for(let c=0;c<s;c++)if(u+=t[c],a[c]!==void 0){const d=e[c];d===Zw?u+=xu(a[c]):d===Jw?u+=Me.transform(a[c]):u+=a[c]}return u}}const O4=n=>typeof n=="number"?0:Me.test(n)?Me.getAnimatableNone(n):n;function P4(n){const t=tR(n);return eR(n)(t.map(O4))}const Nr={test:D4,parse:tR,createTransformer:eR,getAnimatableNone:P4};function Lp(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function k4({hue:n,saturation:t,lightness:e,alpha:s}){n/=360,t/=100,e/=100;let a=0,u=0,c=0;if(!t)a=u=c=e;else{const d=e<.5?e*(1+t):e+t-e*t,p=2*e-d;a=Lp(p,d,n+1/3),u=Lp(p,d,n),c=Lp(p,d,n-1/3)}return{red:Math.round(a*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:s}}function Lf(n,t){return e=>e>0?t:n}const ce=(n,t,e)=>n+(t-n)*e,Up=(n,t,e)=>{const s=n*n,a=e*(t*t-s)+s;return a<0?0:Math.sqrt(a)},L4=[bg,Ea,Do],U4=n=>L4.find(t=>t.test(n));function OS(n){const t=U4(n);if(!t)return!1;let e=t.parse(n);return t===Do&&(e=k4(e)),e}const PS=(n,t)=>{const e=OS(n),s=OS(t);if(!e||!s)return Lf(n,t);const a={...e};return u=>(a.red=Up(e.red,s.red,u),a.green=Up(e.green,s.green,u),a.blue=Up(e.blue,s.blue,u),a.alpha=ce(e.alpha,s.alpha,u),Ea.transform(a))},wg=new Set(["none","hidden"]);function B4(n,t){return wg.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function z4(n,t){return e=>ce(n,t,e)}function sv(n){return typeof n=="number"?z4:typeof n=="string"?ev(n)?Lf:Me.test(n)?PS:q4:Array.isArray(n)?nR:typeof n=="object"?Me.test(n)?PS:j4:Lf}function nR(n,t){const e=[...n],s=e.length,a=n.map((u,c)=>sv(u)(u,t[c]));return u=>{for(let c=0;c<s;c++)e[c]=a[c](u);return e}}function j4(n,t){const e={...n,...t},s={};for(const a in e)n[a]!==void 0&&t[a]!==void 0&&(s[a]=sv(n[a])(n[a],t[a]));return a=>{for(const u in s)e[u]=s[u](a);return e}}function F4(n,t){const e=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const u=t.types[a],c=n.indexes[u][s[u]],d=n.values[c]??0;e[a]=d,s[u]++}return e}const q4=(n,t)=>{const e=Nr.createTransformer(t),s=Ku(n),a=Ku(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?wg.has(n)&&!a.values.length||wg.has(t)&&!s.values.length?B4(n,t):lc(nR(F4(s,a),a.values),e):Lf(n,t)};function iR(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?ce(n,t,e):sv(n)(n,t)}const H4=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>ae.update(t,e),stop:()=>Mr(t),now:()=>Je.isProcessing?Je.timestamp:mn.now()}},sR=(n,t,e=10)=>{let s="";const a=Math.max(Math.round(t/e),2);for(let u=0;u<a;u++)s+=Math.round(n(u/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Uf=2e4;function rv(n){let t=0;const e=50;let s=n.next(t);for(;!s.done&&t<Uf;)t+=e,s=n.next(t);return t>=Uf?1/0:t}function G4(n,t=100,e){const s=e({...n,keyframes:[0,t]}),a=Math.min(rv(s),Uf);return{type:"keyframes",ease:u=>s.next(a*u).value/t,duration:Wn(a)}}const K4=5;function rR(n,t,e){const s=Math.max(t-K4,0);return Lw(e-n(s),t-s)}const pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Bp=.001;function Y4({duration:n=pe.duration,bounce:t=pe.bounce,velocity:e=pe.velocity,mass:s=pe.mass}){let a,u,c=1-t;c=$i(pe.minDamping,pe.maxDamping,c),n=$i(pe.minDuration,pe.maxDuration,Wn(n)),c<1?(a=g=>{const y=g*c,T=y*n,S=y-e,I=Rg(g,c),P=Math.exp(-T);return Bp-S/I*P},u=g=>{const T=g*c*n,S=T*e+e,I=Math.pow(c,2)*Math.pow(g,2)*n,P=Math.exp(-T),z=Rg(Math.pow(g,2),c);return(-a(g)+Bp>0?-1:1)*((S-I)*P)/z}):(a=g=>{const y=Math.exp(-g*n),T=(g-e)*n+1;return-Bp+y*T},u=g=>{const y=Math.exp(-g*n),T=(e-g)*(n*n);return y*T});const d=5/n,p=X4(a,u,d);if(n=Ts(n),isNaN(p))return{stiffness:pe.stiffness,damping:pe.damping,duration:n};{const g=Math.pow(p,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:n}}}const Q4=12;function X4(n,t,e){let s=e;for(let a=1;a<Q4;a++)s=s-n(s)/t(s);return s}function Rg(n,t){return n*Math.sqrt(1-t*t)}const $4=["duration","bounce"],W4=["stiffness","damping","mass"];function kS(n,t){return t.some(e=>n[e]!==void 0)}function Z4(n){let t={velocity:pe.velocity,stiffness:pe.stiffness,damping:pe.damping,mass:pe.mass,isResolvedFromDuration:!1,...n};if(!kS(n,W4)&&kS(n,$4))if(n.visualDuration){const e=n.visualDuration,s=2*Math.PI/(e*1.2),a=s*s,u=2*$i(.05,1,1-(n.bounce||0))*Math.sqrt(a);t={...t,mass:pe.mass,stiffness:a,damping:u}}else{const e=Y4(n);t={...t,...e,mass:pe.mass},t.isResolvedFromDuration=!0}return t}function Bf(n=pe.visualDuration,t=pe.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:s,restDelta:a}=e;const u=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],d={done:!1,value:u},{stiffness:p,damping:g,mass:y,duration:T,velocity:S,isResolvedFromDuration:I}=Z4({...e,velocity:-Wn(e.velocity||0)}),P=S||0,z=g/(2*Math.sqrt(p*y)),U=c-u,Y=Wn(Math.sqrt(p/y)),et=Math.abs(U)<5;s||(s=et?pe.restSpeed.granular:pe.restSpeed.default),a||(a=et?pe.restDelta.granular:pe.restDelta.default);let H;if(z<1){const at=Rg(Y,z);H=ot=>{const C=Math.exp(-z*Y*ot);return c-C*((P+z*Y*U)/at*Math.sin(at*ot)+U*Math.cos(at*ot))}}else if(z===1)H=at=>c-Math.exp(-Y*at)*(U+(P+Y*U)*at);else{const at=Y*Math.sqrt(z*z-1);H=ot=>{const C=Math.exp(-z*Y*ot),w=Math.min(at*ot,300);return c-C*((P+z*Y*U)*Math.sinh(w)+at*U*Math.cosh(w))/at}}const X={calculatedDuration:I&&T||null,next:at=>{const ot=H(at);if(I)d.done=at>=T;else{let C=at===0?P:0;z<1&&(C=at===0?Ts(P):rR(H,at,ot));const w=Math.abs(C)<=s,R=Math.abs(c-ot)<=a;d.done=w&&R}return d.value=d.done?c:ot,d},toString:()=>{const at=Math.min(rv(X),Uf),ot=sR(C=>X.next(at*C).value,at,30);return at+"ms "+ot},toTransition:()=>{}};return X}Bf.applyToOptions=n=>{const t=G4(n,100,Bf);return n.ease=t.ease,n.duration=Ts(t.duration),n.type="keyframes",n};function Cg({keyframes:n,velocity:t=0,power:e=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:u=500,modifyTarget:c,min:d,max:p,restDelta:g=.5,restSpeed:y}){const T=n[0],S={done:!1,value:T},I=w=>d!==void 0&&w<d||p!==void 0&&w>p,P=w=>d===void 0?p:p===void 0||Math.abs(d-w)<Math.abs(p-w)?d:p;let z=e*t;const U=T+z,Y=c===void 0?U:c(U);Y!==U&&(z=Y-T);const et=w=>-z*Math.exp(-w/s),H=w=>Y+et(w),X=w=>{const R=et(w),M=H(w);S.done=Math.abs(R)<=g,S.value=S.done?Y:M};let at,ot;const C=w=>{I(S.value)&&(at=w,ot=Bf({keyframes:[S.value,P(S.value)],velocity:rR(H,w,S.value),damping:a,stiffness:u,restDelta:g,restSpeed:y}))};return C(0),{calculatedDuration:null,next:w=>{let R=!1;return!ot&&at===void 0&&(R=!0,X(w),C(w)),at!==void 0&&w>=at?ot.next(w-at):(!R&&X(w),S)}}}function J4(n,t,e){const s=[],a=e||Cs.mix||iR,u=n.length-1;for(let c=0;c<u;c++){let d=a(n[c],n[c+1]);if(t){const p=Array.isArray(t)?t[c]||Zn:t;d=lc(p,d)}s.push(d)}return s}function tk(n,t,{clamp:e=!0,ease:s,mixer:a}={}){const u=n.length;if($y(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const d=J4(t,s,a),p=d.length,g=y=>{if(c&&y<n[0])return t[0];let T=0;if(p>1)for(;T<n.length-2&&!(y<n[T+1]);T++);const S=Hu(n[T],n[T+1],y);return d[T](S)};return e?y=>g($i(n[0],n[u-1],y)):g}function ek(n,t){const e=n[n.length-1];for(let s=1;s<=t;s++){const a=Hu(0,t,s);n.push(ce(e,1,a))}}function nk(n){const t=[0];return ek(t,n.length-1),t}function ik(n,t){return n.map(e=>e*t)}function sk(n,t){return n.map(()=>t||Kw).splice(0,n.length-1)}function Du({duration:n=300,keyframes:t,times:e,ease:s="easeInOut"}){const a=p4(s)?s.map(DS):DS(s),u={done:!1,value:t[0]},c=ik(e&&e.length===t.length?e:nk(t),n),d=tk(c,t,{ease:Array.isArray(a)?a:sk(t,a)});return{calculatedDuration:n,next:p=>(u.value=d(p),u.done=p>=n,u)}}const rk=n=>n!==null;function av(n,{repeat:t,repeatType:e="loop"},s,a=1){const u=n.filter(rk),d=a<0||t&&e!=="loop"&&t%2===1?0:u.length-1;return!d||s===void 0?u[d]:s}const ak={decay:Cg,inertia:Cg,tween:Du,keyframes:Du,spring:Bf};function aR(n){typeof n.type=="string"&&(n.type=ak[n.type])}class ov{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const ok=n=>n/100;class lv extends ov{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==mn.now()&&this.tick(mn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;aR(t);const{type:e=Du,repeat:s=0,repeatDelay:a=0,repeatType:u,velocity:c=0}=t;let{keyframes:d}=t;const p=e||Du;p!==Du&&typeof d[0]!="number"&&(this.mixKeyframes=lc(ok,iR(d[0],d[1])),d=[0,100]);const g=p({...t,keyframes:d});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=rv(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:s,totalDuration:a,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:y,repeat:T,repeatType:S,repeatDelay:I,type:P,onUpdate:z,finalKeyframe:U}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const Y=this.currentTime-g*(this.playbackSpeed>=0?1:-1),et=this.playbackSpeed>=0?Y<0:Y>a;this.currentTime=Math.max(Y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let H=this.currentTime,X=s;if(T){const w=Math.min(this.currentTime,a)/d;let R=Math.floor(w),M=w%1;!M&&w>=1&&(M=1),M===1&&R--,R=Math.min(R,T+1),R%2&&(S==="reverse"?(M=1-M,I&&(M-=I/d)):S==="mirror"&&(X=c)),H=$i(0,1,M)*d}const at=et?{done:!1,value:y[0]}:X.next(H);u&&(at.value=u(at.value));let{done:ot}=at;!et&&p!==null&&(ot=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ot);return C&&P!==Cg&&(at.value=av(y,this.options,U,this.speed)),z&&z(at.value),C&&this.finish(),at}then(t,e){return this.finished.then(t,e)}get duration(){return Wn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Wn(t)}get time(){return Wn(this.currentTime)}set time(t){t=Ts(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(mn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Wn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=H4,startTime:e}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=e??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(mn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function lk(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Sa=n=>n*180/Math.PI,Ig=n=>{const t=Sa(Math.atan2(n[1],n[0]));return xg(t)},uk={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Ig,rotateZ:Ig,skewX:n=>Sa(Math.atan(n[1])),skewY:n=>Sa(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},xg=n=>(n=n%360,n<0&&(n+=360),n),LS=Ig,US=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),BS=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),ck={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:US,scaleY:BS,scale:n=>(US(n)+BS(n))/2,rotateX:n=>xg(Sa(Math.atan2(n[6],n[5]))),rotateY:n=>xg(Sa(Math.atan2(-n[2],n[0]))),rotateZ:LS,rotate:LS,skewX:n=>Sa(Math.atan(n[4])),skewY:n=>Sa(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Dg(n){return n.includes("scale")?1:0}function Vg(n,t){if(!n||n==="none")return Dg(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(e)s=ck,a=e;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=uk,a=d}if(!a)return Dg(t);const u=s[t],c=a[1].split(",").map(fk);return typeof u=="function"?u(c):c[u]}const hk=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return Vg(e,t)};function fk(n){return parseFloat(n.trim())}const al=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ol=new Set(al),zS=n=>n===rl||n===pt,dk=new Set(["x","y","z"]),mk=al.filter(n=>!dk.has(n));function pk(n){const t=[];return mk.forEach(e=>{const s=n.getValue(e);s!==void 0&&(t.push([e,s.get()]),s.set(e.startsWith("scale")?1:0))}),t}const yr={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>Vg(t,"x"),y:(n,{transform:t})=>Vg(t,"y")};yr.translateX=yr.x;yr.translateY=yr.y;const ba=new Set;let Mg=!1,Ng=!1,Og=!1;function oR(){if(Ng){const n=Array.from(ba).filter(s=>s.needsMeasurement),t=new Set(n.map(s=>s.element)),e=new Map;t.forEach(s=>{const a=pk(s);a.length&&(e.set(s,a),s.render())}),n.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=e.get(s);a&&a.forEach(([u,c])=>{s.getValue(u)?.set(c)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Ng=!1,Mg=!1,ba.forEach(n=>n.complete(Og)),ba.clear()}function lR(){ba.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Ng=!0)})}function gk(){Og=!0,lR(),oR(),Og=!1}class uv{constructor(t,e,s,a,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=s,this.motionValue=a,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ba.add(this),Mg||(Mg=!0,ae.read(lR),ae.resolveKeyframes(oR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:s,motionValue:a}=this;if(t[0]===null){const u=a?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(s&&e){const d=s.readValue(e,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),a&&u===void 0&&a.set(t[0])}lk(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ba.delete(this)}cancel(){this.state==="scheduled"&&(ba.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const yk=n=>n.startsWith("--");function vk(n,t,e){yk(t)?n.style.setProperty(t,e):n.style[t]=e}const _k=Wy(()=>window.ScrollTimeline!==void 0),Tk={};function Ek(n,t){const e=Wy(n);return()=>Tk[t]??e()}const uR=Ek(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_u=([n,t,e,s])=>`cubic-bezier(${n}, ${t}, ${e}, ${s})`,jS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_u([0,.65,.55,1]),circOut:_u([.55,0,1,.45]),backIn:_u([.31,.01,.66,-.59]),backOut:_u([.33,1.53,.69,.99])};function cR(n,t){if(n)return typeof n=="function"?uR()?sR(n,t):"ease-out":Yw(n)?_u(n):Array.isArray(n)?n.map(e=>cR(e,t)||jS.easeOut):jS[n]}function Sk(n,t,e,{delay:s=0,duration:a=300,repeat:u=0,repeatType:c="loop",ease:d="easeOut",times:p}={},g=void 0){const y={[t]:e};p&&(y.offset=p);const T=cR(d,a);Array.isArray(T)&&(y.easing=T);const S={delay:s,duration:a,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(S.pseudoElement=g),n.animate(y,S)}function hR(n){return typeof n=="function"&&"applyToOptions"in n}function Ak({type:n,...t}){return hR(n)&&uR()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class bk extends ov{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:s,keyframes:a,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:d,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,$y(typeof t.type!="string");const g=Ak(t);this.animation=Sk(e,s,a,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=av(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):vk(e,s,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Wn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Wn(t)}get time(){return Wn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ts(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&_k()?(this.animation.timeline=t,Zn):e(this)}}const fR={anticipate:qw,backInOut:Fw,circInOut:Gw};function wk(n){return n in fR}function Rk(n){typeof n.ease=="string"&&wk(n.ease)&&(n.ease=fR[n.ease])}const zp=10;class Ck extends bk{constructor(t){Rk(t),aR(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:s,onComplete:a,element:u,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const d=new lv({...c,autoplay:!1}),p=Math.max(zp,mn.now()-this.startTime),g=$i(0,zp,p-zp);e.setWithVelocity(d.sample(Math.max(0,p-g)).value,d.sample(p).value,g),d.stop()}}const FS=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Nr.test(n)||n==="0")&&!n.startsWith("url("));function Ik(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function xk(n,t,e,s){const a=n[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=FS(a,t),d=FS(u,t);return!c||!d?!1:Ik(n)||(e==="spring"||hR(e))&&s}function Pg(n){n.duration=0,n.type="keyframes"}const Dk=new Set(["opacity","clipPath","filter","transform"]),Vk=Wy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Mk(n){const{motionValue:t,name:e,repeatDelay:s,repeatType:a,damping:u,type:c}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return Vk()&&e&&Dk.has(e)&&(e!=="transform"||!g)&&!p&&!s&&a!=="mirror"&&u!==0&&c!=="inertia"}const Nk=40;class Ok extends ov{constructor({autoplay:t=!0,delay:e=0,type:s="keyframes",repeat:a=0,repeatDelay:u=0,repeatType:c="loop",keyframes:d,name:p,motionValue:g,element:y,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=mn.now();const S={autoplay:t,delay:e,type:s,repeat:a,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:y,...T},I=y?.KeyframeResolver||uv;this.keyframeResolver=new I(d,(P,z,U)=>this.onKeyframesResolved(P,z,S,!U),p,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,s,a){this.keyframeResolver=void 0;const{name:u,type:c,velocity:d,delay:p,isHandoff:g,onUpdate:y}=s;this.resolvedAt=mn.now(),xk(t,u,c,d)||((Cs.instantAnimations||!p)&&y?.(av(t,s,e)),t[0]=t[t.length-1],Pg(s),s.repeat=0);const S={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Nk?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...s,keyframes:t},I=!g&&Mk(S),P=S.motionValue?.owner?.current,z=I?new Ck({...S,element:P}):new lv(S);z.finished.then(()=>{this.notifyFinished()}).catch(Zn),this.pendingTimeline&&(this.stopTimeline=z.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=z}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),gk()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function dR(n,t,e,s=0,a=1){const u=Array.from(n).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),c=n.size,d=(c-1)*s;return typeof e=="function"?e(u,c):a===1?u*s:d-u*s}const Pk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function kk(n){const t=Pk.exec(n);if(!t)return[,];const[,e,s,a]=t;return[`--${e??s}`,a]}function mR(n,t,e=1){const[s,a]=kk(n);if(!s)return;const u=window.getComputedStyle(t).getPropertyValue(s);if(u){const c=u.trim();return Ow(c)?parseFloat(c):c}return ev(a)?mR(a,t,e+1):a}const Lk={type:"spring",stiffness:500,damping:25,restSpeed:10},Uk=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Bk={type:"keyframes",duration:.8},zk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jk=(n,{keyframes:t})=>t.length>2?Bk:ol.has(n)?n.startsWith("scale")?Uk(t[1]):Lk:zk,Fk=n=>n!==null;function qk(n,{repeat:t,repeatType:e="loop"},s){const a=n.filter(Fk),u=t&&e!=="loop"&&t%2===1?0:a.length-1;return a[u]}function cv(n,t){return n?.[t]??n?.default??n}function Hk({when:n,delay:t,delayChildren:e,staggerChildren:s,staggerDirection:a,repeat:u,repeatType:c,repeatDelay:d,from:p,elapsed:g,...y}){return!!Object.keys(y).length}const hv=(n,t,e,s={},a,u)=>c=>{const d=cv(s,n)||{},p=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Ts(p);const y={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:S=>{t.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:n,motionValue:t,element:u?void 0:a};Hk(d)||Object.assign(y,jk(n,y)),y.duration&&(y.duration=Ts(y.duration)),y.repeatDelay&&(y.repeatDelay=Ts(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let T=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Pg(y),y.delay===0&&(T=!0)),(Cs.instantAnimations||Cs.skipAnimations)&&(T=!0,Pg(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,T&&!u&&t.get()!==void 0){const S=qk(y.keyframes,d);if(S!==void 0){ae.update(()=>{y.onUpdate(S),y.onComplete()});return}}return d.isSync?new lv(y):new Ok(y)};function qS(n){const t=[{},{}];return n?.values.forEach((e,s)=>{t[0][s]=e.get(),t[1][s]=e.getVelocity()}),t}function fv(n,t,e,s){if(typeof t=="function"){const[a,u]=qS(s);t=t(e!==void 0?e:n.custom,a,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[a,u]=qS(s);t=t(e!==void 0?e:n.custom,a,u)}return t}function Bo(n,t,e){const s=n.getProps();return fv(s,t,e!==void 0?e:s.custom,n)}const pR=new Set(["width","height","top","left","right","bottom",...al]),HS=30,Gk=n=>!isNaN(parseFloat(n));class Kk{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=mn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=mn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Gk(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new Zy);const s=this.events[t].add(e);return t==="change"?()=>{s(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,s){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=mn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>HS)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,HS);return Lw(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xo(n,t){return new Kk(n,t)}const kg=n=>Array.isArray(n);function Yk(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,Xo(e))}function Qk(n){return kg(n)?n[n.length-1]||0:n}function Xk(n,t){const e=Bo(n,t);let{transitionEnd:s={},transition:a={},...u}=e||{};u={...u,...s};for(const c in u){const d=Qk(u[c]);Yk(n,c,d)}}const ln=n=>!!(n&&n.getVelocity);function $k(n){return!!(ln(n)&&n.add)}function Lg(n,t){const e=n.getValue("willChange");if($k(e))return e.add(t);if(!e&&Cs.WillChange){const s=new Cs.WillChange("auto");n.addValue("willChange",s),s.add(t)}}function dv(n){return n.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const Wk="framerAppearId",gR="data-"+dv(Wk);function yR(n){return n.props[gR]}function Zk({protectedKeys:n,needsAnimating:t},e){const s=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,s}function vR(n,t,{delay:e=0,transitionOverride:s,type:a}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...d}=t;const p=u?.reduceMotion;s&&(u=s);const g=[],y=a&&n.animationState&&n.animationState.getState()[a];for(const T in d){const S=n.getValue(T,n.latestValues[T]??null),I=d[T];if(I===void 0||y&&Zk(y,T))continue;const P={delay:e,...cv(u||{},T)},z=S.get();if(z!==void 0&&!S.isAnimating&&!Array.isArray(I)&&I===z&&!P.velocity)continue;let U=!1;if(window.MotionHandoffAnimation){const H=yR(n);if(H){const X=window.MotionHandoffAnimation(H,T,ae);X!==null&&(P.startTime=X,U=!0)}}Lg(n,T);const Y=p??n.shouldReduceMotion;S.start(hv(T,S,I,Y&&pR.has(T)?{type:!1}:P,n,U));const et=S.animation;et&&g.push(et)}return c&&Promise.all(g).then(()=>{ae.update(()=>{c&&Xk(n,c)})}),g}function Ug(n,t,e={}){const s=Bo(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(a=e.transitionOverride);const u=s?()=>Promise.all(vR(n,s,e)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:T}=a;return Jk(n,t,p,g,y,T,e)}:()=>Promise.resolve(),{when:d}=a;if(d){const[p,g]=d==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(e.delay)])}function Jk(n,t,e=0,s=0,a=0,u=1,c){const d=[];for(const p of n.variantChildren)p.notify("AnimationStart",t),d.push(Ug(p,t,{...c,delay:e+(typeof s=="function"?0:s)+dR(n.variantChildren,p,s,a,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(d)}function t3(n,t,e={}){n.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(u=>Ug(n,u,e));s=Promise.all(a)}else if(typeof t=="string")s=Ug(n,t,e);else{const a=typeof t=="function"?Bo(n,t,e.custom):t;s=Promise.all(vR(n,a,e))}return s.then(()=>{n.notify("AnimationComplete",t)})}const e3={test:n=>n==="auto",parse:n=>n},_R=n=>t=>t.test(n),TR=[rl,pt,Qi,ur,I4,C4,e3],GS=n=>TR.find(_R(n));function n3(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||kw(n):!0}const i3=new Set(["brightness","contrast","saturate","opacity"]);function s3(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[s]=e.match(nv)||[];if(!s)return n;const a=e.replace(s,"");let u=i3.has(t)?1:0;return s!==e&&(u*=100),t+"("+u+a+")"}const r3=/\b([a-z-]*)\(.*?\)/gu,Bg={...Nr,getAnimatableNone:n=>{const t=n.match(r3);return t?t.map(s3).join(" "):n}},KS={...rl,transform:Math.round},a3={rotate:ur,rotateX:ur,rotateY:ur,rotateZ:ur,scale:Xh,scaleX:Xh,scaleY:Xh,scaleZ:Xh,skew:ur,skewX:ur,skewY:ur,distance:pt,translateX:pt,translateY:pt,translateZ:pt,x:pt,y:pt,z:pt,perspective:pt,transformPerspective:pt,opacity:Gu,originX:MS,originY:MS,originZ:pt},mv={borderWidth:pt,borderTopWidth:pt,borderRightWidth:pt,borderBottomWidth:pt,borderLeftWidth:pt,borderRadius:pt,borderTopLeftRadius:pt,borderTopRightRadius:pt,borderBottomRightRadius:pt,borderBottomLeftRadius:pt,width:pt,maxWidth:pt,height:pt,maxHeight:pt,top:pt,right:pt,bottom:pt,left:pt,inset:pt,insetBlock:pt,insetBlockStart:pt,insetBlockEnd:pt,insetInline:pt,insetInlineStart:pt,insetInlineEnd:pt,padding:pt,paddingTop:pt,paddingRight:pt,paddingBottom:pt,paddingLeft:pt,paddingBlock:pt,paddingBlockStart:pt,paddingBlockEnd:pt,paddingInline:pt,paddingInlineStart:pt,paddingInlineEnd:pt,margin:pt,marginTop:pt,marginRight:pt,marginBottom:pt,marginLeft:pt,marginBlock:pt,marginBlockStart:pt,marginBlockEnd:pt,marginInline:pt,marginInlineStart:pt,marginInlineEnd:pt,fontSize:pt,backgroundPositionX:pt,backgroundPositionY:pt,...a3,zIndex:KS,fillOpacity:Gu,strokeOpacity:Gu,numOctaves:KS},o3={...mv,color:Me,backgroundColor:Me,outlineColor:Me,fill:Me,stroke:Me,borderColor:Me,borderTopColor:Me,borderRightColor:Me,borderBottomColor:Me,borderLeftColor:Me,filter:Bg,WebkitFilter:Bg},ER=n=>o3[n];function SR(n,t){let e=ER(n);return e!==Bg&&(e=Nr),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const l3=new Set(["auto","none","0"]);function u3(n,t,e){let s=0,a;for(;s<n.length&&!a;){const u=n[s];typeof u=="string"&&!l3.has(u)&&Ku(u).values.length&&(a=n[s]),s++}if(a&&e)for(const u of t)n[u]=SR(e,a)}class c3 extends uv{constructor(t,e,s,a,u){super(t,e,s,a,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:s}=this;if(!e||!e.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let T=t[y];if(typeof T=="string"&&(T=T.trim(),ev(T))){const S=mR(T,e.current);S!==void 0&&(t[y]=S),y===t.length-1&&(this.finalKeyframe=T)}}if(this.resolveNoneKeyframes(),!pR.has(s)||t.length!==2)return;const[a,u]=t,c=GS(a),d=GS(u),p=VS(a),g=VS(u);if(p!==g&&yr[s]){this.needsMeasurement=!0;return}if(c!==d)if(zS(c)&&zS(d))for(let y=0;y<t.length;y++){const T=t[y];typeof T=="string"&&(t[y]=parseFloat(T))}else yr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||n3(t[a]))&&s.push(a);s.length&&u3(t,s,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=yr[s](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const a=e[e.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(e);a&&a.jump(this.measuredOrigin,!1);const u=s.length-1,c=s[u];s[u]=yr[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,p])=>{t.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function h3(n,t,e){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const a=e?.[n]??s.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n).filter(s=>s!=null)}const AR=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function zg(n){return Pw(n)&&"offsetHeight"in n}const{schedule:pv}=Qw(queueMicrotask,!1),fi={x:!1,y:!1};function bR(){return fi.x||fi.y}function f3(n){return n==="x"||n==="y"?fi[n]?null:(fi[n]=!0,()=>{fi[n]=!1}):fi.x||fi.y?null:(fi.x=fi.y=!0,()=>{fi.x=fi.y=!1})}function wR(n,t){const e=h3(n),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[e,a,()=>s.abort()]}function YS(n){return!(n.pointerType==="touch"||bR())}function d3(n,t,e={}){const[s,a,u]=wR(n,e),c=d=>{if(!YS(d))return;const{target:p}=d,g=t(p,d);if(typeof g!="function"||!p)return;const y=T=>{YS(T)&&(g(T),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),u}const RR=(n,t)=>t?n===t?!0:RR(n,t.parentElement):!1,gv=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,m3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function CR(n){return m3.has(n.tagName)||n.isContentEditable===!0}const hf=new WeakSet;function QS(n){return t=>{t.key==="Enter"&&n(t)}}function jp(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const p3=(n,t)=>{const e=n.currentTarget;if(!e)return;const s=QS(()=>{if(hf.has(e))return;jp(e,"down");const a=QS(()=>{jp(e,"up")}),u=()=>jp(e,"cancel");e.addEventListener("keyup",a,t),e.addEventListener("blur",u,t)});e.addEventListener("keydown",s,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",s),t)};function XS(n){return gv(n)&&!bR()}function g3(n,t,e={}){const[s,a,u]=wR(n,e),c=d=>{const p=d.currentTarget;if(!XS(d))return;hf.add(p);const g=t(p,d),y=(I,P)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",S),hf.has(p)&&hf.delete(p),XS(I)&&typeof g=="function"&&g(I,{success:P})},T=I=>{y(I,p===window||p===document||e.useGlobalTarget||RR(p,I.target))},S=I=>{y(I,!1)};window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",S,a)};return s.forEach(d=>{(e.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),zg(d)&&(d.addEventListener("focus",g=>p3(g,a)),!CR(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}function IR(n){return Pw(n)&&"ownerSVGElement"in n}function y3(n){return IR(n)&&n.tagName==="svg"}const v3=[...TR,Me,Nr],_3=n=>v3.find(_R(n)),$S=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vo=()=>({x:$S(),y:$S()}),WS=()=>({min:0,max:0}),Ue=()=>({x:WS(),y:WS()}),jg={current:null},xR={current:!1},T3=typeof window<"u";function E3(){if(xR.current=!0,!!T3)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>jg.current=n.matches;n.addEventListener("change",t),t()}else jg.current=!1}const S3=new WeakMap;function gd(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Yu(n){return typeof n=="string"||Array.isArray(n)}const yv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vv=["initial",...yv];function yd(n){return gd(n.animate)||vv.some(t=>Yu(n[t]))}function DR(n){return!!(yd(n)||n.variants)}function A3(n,t,e){for(const s in t){const a=t[s],u=e[s];if(ln(a))n.addValue(s,a);else if(ln(u))n.addValue(s,Xo(a,{owner:n}));else if(u!==a)if(n.hasValue(s)){const c=n.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=n.getStaticValue(s);n.addValue(s,Xo(c!==void 0?c:a,{owner:n}))}}for(const s in e)t[s]===void 0&&n.removeValue(s);return t}const ZS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let zf={};function VR(n){zf=n}function b3(){return zf}class w3{scrapeMotionValuesFromProps(t,e,s){return{}}constructor({parent:t,props:e,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:u,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=uv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=mn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,ae.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=e.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=e,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=yd(e),this.isVariantNode=DR(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...T}=this.scrapeMotionValuesFromProps(e,{},this);for(const S in T){const I=T[S];p[S]!==void 0&&ln(I)&&I.set(p[S])}}mount(t){this.current=t,S3.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,s)=>this.bindToMotionValue(s,e)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(xR.current||E3(),this.shouldReduceMotion=jg.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Mr(this.notifyUpdate),Mr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=ol.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ae.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;typeof window<"u"&&window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{a(),u&&u(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in zf){const e=zf[t];if(!e)continue;const{isEnabled:s,Feature:a}=e;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ue()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let s=0;s<ZS.length;s++){const a=ZS[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const u="on"+a,c=t[u];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=A3(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const s=this.values.get(t);e!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&e!==void 0&&(s=Xo(e===null?void 0:e,{owner:this}),this.addValue(t,s)),s}readValue(t,e){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Ow(s)||kw(s))?s=parseFloat(s):!_3(s)&&Nr.test(e)&&(s=SR(t,e)),this.setBaseTarget(t,ln(s)?s.get():s)),ln(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let s;if(typeof e=="string"||typeof e=="object"){const u=fv(this.props,e,this.presenceContext?.custom);u&&(s=u[t])}if(e&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ln(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new Zy),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){pv.render(this.render)}}class MR extends w3{constructor(){super(...arguments),this.KeyframeResolver=c3}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){const s=t.style;return s?s[e]:void 0}removeValueFromRenderState(t,{vars:e,style:s}){delete e[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ln(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class Ur{constructor(t){this.isMounted=!1,this.node=t}update(){}}function NR({top:n,left:t,right:e,bottom:s}){return{x:{min:t,max:e},y:{min:n,max:s}}}function R3({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function C3(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),s=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:s.y,right:s.x}}function Fp(n){return n===void 0||n===1}function Fg({scale:n,scaleX:t,scaleY:e}){return!Fp(n)||!Fp(t)||!Fp(e)}function _a(n){return Fg(n)||OR(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function OR(n){return JS(n.x)||JS(n.y)}function JS(n){return n&&n!=="0%"}function jf(n,t,e){const s=n-e,a=t*s;return e+a}function tA(n,t,e,s,a){return a!==void 0&&(n=jf(n,a,s)),jf(n,e,s)+t}function qg(n,t=0,e=1,s,a){n.min=tA(n.min,t,e,s,a),n.max=tA(n.max,t,e,s,a)}function PR(n,{x:t,y:e}){qg(n.x,t.translate,t.scale,t.originPoint),qg(n.y,e.translate,e.scale,e.originPoint)}const eA=.999999999999,nA=1.0000000000001;function I3(n,t,e,s=!1){const a=e.length;if(!a)return;t.x=t.y=1;let u,c;for(let d=0;d<a;d++){u=e[d],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&No(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,PR(n,c)),s&&_a(u.latestValues)&&No(n,u.latestValues))}t.x<nA&&t.x>eA&&(t.x=1),t.y<nA&&t.y>eA&&(t.y=1)}function Mo(n,t){n.min=n.min+t,n.max=n.max+t}function iA(n,t,e,s,a=.5){const u=ce(n.min,n.max,a);qg(n,t,e,u,s)}function No(n,t){iA(n.x,t.x,t.scaleX,t.scale,t.originX),iA(n.y,t.y,t.scaleY,t.scale,t.originY)}function kR(n,t){return NR(C3(n.getBoundingClientRect(),t))}function x3(n,t,e){const s=kR(n,e),{scroll:a}=t;return a&&(Mo(s.x,a.offset.x),Mo(s.y,a.offset.y)),s}const D3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},V3=al.length;function M3(n,t,e){let s="",a=!0;for(let u=0;u<V3;u++){const c=al[u],d=n[c];if(d===void 0)continue;let p=!0;if(typeof d=="number")p=d===(c.startsWith("scale")?1:0);else{const g=parseFloat(d);p=c.startsWith("scale")?g===1:g===0}if(!p||e){const g=AR(d,mv[c]);if(!p){a=!1;const y=D3[c]||c;s+=`${y}(${g}) `}e&&(t[c]=g)}}return s=s.trim(),e?s=e(t,a?"":s):a&&(s="none"),s}function _v(n,t,e){const{style:s,vars:a,transformOrigin:u}=n;let c=!1,d=!1;for(const p in t){const g=t[p];if(ol.has(p)){c=!0;continue}else if($w(p)){a[p]=g;continue}else{const y=AR(g,mv[p]);p.startsWith("origin")?(d=!0,u[p]=y):s[p]=y}}if(t.transform||(c||e?s.transform=M3(t,n.transform,e):s.transform&&(s.transform="none")),d){const{originX:p="50%",originY:g="50%",originZ:y=0}=u;s.transformOrigin=`${p} ${g} ${y}`}}function LR(n,{style:t,vars:e},s,a){const u=n.style;let c;for(c in t)u[c]=t[c];a?.applyProjectionStyles(u,s);for(c in e)u.setProperty(c,e[c])}function sA(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const pu={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(pt.test(n))n=parseFloat(n);else return n;const e=sA(n,t.target.x),s=sA(n,t.target.y);return`${e}% ${s}%`}},N3={correct:(n,{treeScale:t,projectionDelta:e})=>{const s=n,a=Nr.parse(n);if(a.length>5)return s;const u=Nr.createTransformer(n),c=typeof a[0]!="number"?1:0,d=e.x.scale*t.x,p=e.y.scale*t.y;a[0+c]/=d,a[1+c]/=p;const g=ce(d,p,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),u(a)}},Hg={borderRadius:{...pu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pu,borderTopRightRadius:pu,borderBottomLeftRadius:pu,borderBottomRightRadius:pu,boxShadow:N3};function UR(n,{layout:t,layoutId:e}){return ol.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!Hg[n]||n==="opacity")}function Tv(n,t,e){const s=n.style,a=t?.style,u={};if(!s)return u;for(const c in s)(ln(s[c])||a&&ln(a[c])||UR(c,n)||e?.getValue(c)?.liveStyle!==void 0)&&(u[c]=s[c]);return u}function O3(n){return window.getComputedStyle(n)}class P3 extends MR{constructor(){super(...arguments),this.type="html",this.renderInstance=LR}readValueFromInstance(t,e){if(ol.has(e))return this.projection?.isProjecting?Dg(e):hk(t,e);{const s=O3(t),a=($w(e)?s.getPropertyValue(e):s[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return kR(t,e)}build(t,e,s){_v(t,e,s.transformTemplate)}scrapeMotionValuesFromProps(t,e,s){return Tv(t,e,s)}}const k3={offset:"stroke-dashoffset",array:"stroke-dasharray"},L3={offset:"strokeDashoffset",array:"strokeDasharray"};function U3(n,t,e=1,s=0,a=!0){n.pathLength=1;const u=a?k3:L3;n[u.offset]=`${-s}`,n[u.array]=`${t} ${e}`}const B3=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function BR(n,{attrX:t,attrY:e,attrScale:s,pathLength:a,pathSpacing:u=1,pathOffset:c=0,...d},p,g,y){if(_v(n,d,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:T,style:S}=n;T.transform&&(S.transform=T.transform,delete T.transform),(S.transform||T.transformOrigin)&&(S.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),S.transform&&(S.transformBox=y?.transformBox??"fill-box",delete T.transformBox);for(const I of B3)T[I]!==void 0&&(S[I]=T[I],delete T[I]);t!==void 0&&(T.x=t),e!==void 0&&(T.y=e),s!==void 0&&(T.scale=s),a!==void 0&&U3(T,a,u,c,!1)}const zR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),jR=n=>typeof n=="string"&&n.toLowerCase()==="svg";function z3(n,t,e,s){LR(n,t,void 0,s);for(const a in t.attrs)n.setAttribute(zR.has(a)?a:dv(a),t.attrs[a])}function FR(n,t,e){const s=Tv(n,t,e);for(const a in n)if(ln(n[a])||ln(t[a])){const u=al.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[u]=n[a]}return s}class j3 extends MR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ue}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(ol.has(e)){const s=ER(e);return s&&s.default||0}return e=zR.has(e)?e:dv(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,s){return FR(t,e,s)}build(t,e,s){BR(t,e,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,e,s,a){z3(t,e,s,a)}mount(t){this.isSVGTag=jR(t.tagName),super.mount(t)}}const F3=vv.length;function qR(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?qR(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<F3;e++){const s=vv[e],a=n.props[s];(Yu(a)||a===!1)&&(t[s]=a)}return t}function HR(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let s=0;s<e;s++)if(t[s]!==n[s])return!1;return!0}const q3=[...yv].reverse(),H3=yv.length;function G3(n){return t=>Promise.all(t.map(({animation:e,options:s})=>t3(n,e,s)))}function K3(n){let t=G3(n),e=rA(),s=!0;const a=p=>(g,y)=>{const T=Bo(n,y,p==="exit"?n.presenceContext?.custom:void 0);if(T){const{transition:S,transitionEnd:I,...P}=T;g={...g,...P,...I}}return g};function u(p){t=p(n)}function c(p){const{props:g}=n,y=qR(n.parent)||{},T=[],S=new Set;let I={},P=1/0;for(let U=0;U<H3;U++){const Y=q3[U],et=e[Y],H=g[Y]!==void 0?g[Y]:y[Y],X=Yu(H),at=Y===p?et.isActive:null;at===!1&&(P=U);let ot=H===y[Y]&&H!==g[Y]&&X;if(ot&&s&&n.manuallyAnimateOnMount&&(ot=!1),et.protectedKeys={...I},!et.isActive&&at===null||!H&&!et.prevProp||gd(H)||typeof H=="boolean")continue;const C=Y3(et.prevProp,H);let w=C||Y===p&&et.isActive&&!ot&&X||U>P&&X,R=!1;const M=Array.isArray(H)?H:[H];let V=M.reduce(a(Y),{});at===!1&&(V={});const{prevResolvedValues:k={}}=et,x={...k,...V},ee=rt=>{w=!0,S.has(rt)&&(R=!0,S.delete(rt)),et.needsAnimating[rt]=!0;const dt=n.getValue(rt);dt&&(dt.liveStyle=!1)};for(const rt in x){const dt=V[rt],It=k[rt];if(I.hasOwnProperty(rt))continue;let Nt=!1;kg(dt)&&kg(It)?Nt=!HR(dt,It):Nt=dt!==It,Nt?dt!=null?ee(rt):S.add(rt):dt!==void 0&&S.has(rt)?ee(rt):et.protectedKeys[rt]=!0}et.prevProp=H,et.prevResolvedValues=V,et.isActive&&(I={...I,...V}),s&&n.blockInitialAnimation&&(w=!1);const fe=ot&&C;w&&(!fe||R)&&T.push(...M.map(rt=>{const dt={type:Y};if(typeof rt=="string"&&s&&!fe&&n.manuallyAnimateOnMount&&n.parent){const{parent:It}=n,Nt=Bo(It,rt);if(It.enteringChildren&&Nt){const{delayChildren:O}=Nt.transition||{};dt.delay=dR(It.enteringChildren,n,O)}}return{animation:rt,options:dt}}))}if(S.size){const U={};if(typeof g.initial!="boolean"){const Y=Bo(n,Array.isArray(g.initial)?g.initial[0]:g.initial);Y&&Y.transition&&(U.transition=Y.transition)}S.forEach(Y=>{const et=n.getBaseTarget(Y),H=n.getValue(Y);H&&(H.liveStyle=!0),U[Y]=et??null}),T.push({animation:U})}let z=!!T.length;return s&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(z=!1),s=!1,z?t(T):Promise.resolve()}function d(p,g){if(e[p].isActive===g)return Promise.resolve();n.variantChildren?.forEach(T=>T.animationState?.setActive(p,g)),e[p].isActive=g;const y=c(p);for(const T in e)e[T].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:u,getState:()=>e,reset:()=>{e=rA()}}}function Y3(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!HR(t,n):!1}function ga(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rA(){return{animate:ga(!0),whileInView:ga(),whileHover:ga(),whileTap:ga(),whileDrag:ga(),whileFocus:ga(),exit:ga()}}function aA(n,t){n.min=t.min,n.max=t.max}function hi(n,t){aA(n.x,t.x),aA(n.y,t.y)}function oA(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}const GR=1e-4,Q3=1-GR,X3=1+GR,KR=.01,$3=0-KR,W3=0+KR;function pn(n){return n.max-n.min}function Z3(n,t,e){return Math.abs(n-t)<=e}function lA(n,t,e,s=.5){n.origin=s,n.originPoint=ce(t.min,t.max,n.origin),n.scale=pn(e)/pn(t),n.translate=ce(e.min,e.max,n.origin)-n.originPoint,(n.scale>=Q3&&n.scale<=X3||isNaN(n.scale))&&(n.scale=1),(n.translate>=$3&&n.translate<=W3||isNaN(n.translate))&&(n.translate=0)}function Vu(n,t,e,s){lA(n.x,t.x,e.x,s?s.originX:void 0),lA(n.y,t.y,e.y,s?s.originY:void 0)}function uA(n,t,e){n.min=e.min+t.min,n.max=n.min+pn(t)}function J3(n,t,e){uA(n.x,t.x,e.x),uA(n.y,t.y,e.y)}function cA(n,t,e){n.min=t.min-e.min,n.max=n.min+pn(t)}function Ff(n,t,e){cA(n.x,t.x,e.x),cA(n.y,t.y,e.y)}function hA(n,t,e,s,a){return n-=t,n=jf(n,1/e,s),a!==void 0&&(n=jf(n,1/a,s)),n}function tL(n,t=0,e=1,s=.5,a,u=n,c=n){if(Qi.test(t)&&(t=parseFloat(t),t=ce(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=ce(u.min,u.max,s);n===u&&(d-=t),n.min=hA(n.min,t,e,d,a),n.max=hA(n.max,t,e,d,a)}function fA(n,t,[e,s,a],u,c){tL(n,t[e],t[s],t[a],t.scale,u,c)}const eL=["x","scaleX","originX"],nL=["y","scaleY","originY"];function dA(n,t,e,s){fA(n.x,t,eL,e?e.x:void 0,s?s.x:void 0),fA(n.y,t,nL,e?e.y:void 0,s?s.y:void 0)}function mA(n){return n.translate===0&&n.scale===1}function YR(n){return mA(n.x)&&mA(n.y)}function pA(n,t){return n.min===t.min&&n.max===t.max}function iL(n,t){return pA(n.x,t.x)&&pA(n.y,t.y)}function gA(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function QR(n,t){return gA(n.x,t.x)&&gA(n.y,t.y)}function yA(n){return pn(n.x)/pn(n.y)}function vA(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}function Xn(n){return[n("x"),n("y")]}function sL(n,t,e){let s="";const a=n.x.translate/t.x,u=n.y.translate/t.y,c=e?.z||0;if((a||u||c)&&(s=`translate3d(${a}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:g,rotate:y,rotateX:T,rotateY:S,skewX:I,skewY:P}=e;g&&(s=`perspective(${g}px) ${s}`),y&&(s+=`rotate(${y}deg) `),T&&(s+=`rotateX(${T}deg) `),S&&(s+=`rotateY(${S}deg) `),I&&(s+=`skewX(${I}deg) `),P&&(s+=`skewY(${P}deg) `)}const d=n.x.scale*t.x,p=n.y.scale*t.y;return(d!==1||p!==1)&&(s+=`scale(${d}, ${p})`),s||"none"}const XR=["TopLeft","TopRight","BottomLeft","BottomRight"],rL=XR.length,_A=n=>typeof n=="string"?parseFloat(n):n,TA=n=>typeof n=="number"||pt.test(n);function aL(n,t,e,s,a,u){a?(n.opacity=ce(0,e.opacity??1,oL(s)),n.opacityExit=ce(t.opacity??1,0,lL(s))):u&&(n.opacity=ce(t.opacity??1,e.opacity??1,s));for(let c=0;c<rL;c++){const d=`border${XR[c]}Radius`;let p=EA(t,d),g=EA(e,d);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||TA(p)===TA(g)?(n[d]=Math.max(ce(_A(p),_A(g),s),0),(Qi.test(g)||Qi.test(p))&&(n[d]+="%")):n[d]=g}(t.rotate||e.rotate)&&(n.rotate=ce(t.rotate||0,e.rotate||0,s))}function EA(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const oL=$R(0,.5,Hw),lL=$R(.5,.95,Zn);function $R(n,t,e){return s=>s<n?0:s>t?1:e(Hu(n,t,s))}function uL(n,t,e){const s=ln(n)?n:Xo(n);return s.start(hv("",s,t,e)),s.animation}function Qu(n,t,e,s={passive:!0}){return n.addEventListener(t,e,s),()=>n.removeEventListener(t,e)}const cL=(n,t)=>n.depth-t.depth;class hL{constructor(){this.children=[],this.isDirty=!1}add(t){Qy(this.children,t),this.isDirty=!0}remove(t){Xy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(cL),this.isDirty=!1,this.children.forEach(t)}}function fL(n,t){const e=mn.now(),s=({timestamp:a})=>{const u=a-e;u>=t&&(Mr(s),n(u-t))};return ae.setup(s,!0),()=>Mr(s)}function ff(n){return ln(n)?n.get():n}class dL{constructor(){this.members=[]}add(t){Qy(this.members,t),t.scheduleRender()}remove(t){if(Xy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(a=>t===a);if(e===0)return!1;let s;for(let a=e;a>=0;a--){const u=this.members[a];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(t,e){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender();const a=s.options.layoutDependency,u=t.options.layoutDependency;a!==void 0&&u!==void 0&&a===u||(t.resumeFrom=s,e&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:d}=t.options;d===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:s}=t;e.onExitComplete&&e.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const df={hasAnimatedSinceResize:!0,hasEverUpdated:!1},qp=["","X","Y","Z"],mL=1e3;let pL=0;function Hp(n,t,e,s){const{latestValues:a}=t;a[n]&&(e[n]=a[n],t.setStaticValue(n,0),s&&(s[n]=0))}function WR(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=yR(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:a,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",ae,!(a||u))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&WR(s)}function ZR({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=t?.()){this.id=pL++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(vL),this.nodes.forEach(SL),this.nodes.forEach(AL),this.nodes.forEach(_L)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new hL)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Zy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const p=this.eventHandlers.get(c);p&&p.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=IR(c)&&!y3(c),this.instance=c;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),n){let y,T=0;const S=()=>this.root.updateBlockedByResize=!1;ae.read(()=>{T=window.innerWidth}),n(c,()=>{const I=window.innerWidth;I!==T&&(T=I,this.root.updateBlockedByResize=!0,y&&y(),y=fL(S,250),df.hasAnimatedSinceResize&&(df.hasAnimatedSinceResize=!1,this.nodes.forEach(bA)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:T,hasRelativeLayoutChanged:S,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||g.getDefaultTransition()||IL,{onLayoutAnimationStart:z,onLayoutAnimationComplete:U}=g.getProps(),Y=!this.targetLayout||!QR(this.targetLayout,I),et=!T&&S;if(this.options.layoutRoot||this.resumeFrom||et||T&&(Y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const H={...cv(P,"layout"),onPlay:z,onComplete:U};(g.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H),this.setAnimationOrigin(y,et)}else T||bA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Mr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bL),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&WR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const T=this.path[y];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(SA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(AA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(EL),this.nodes.forEach(gL),this.nodes.forEach(yL)):this.nodes.forEach(AA),this.clearAllSnapshots();const d=mn.now();Je.delta=$i(0,1e3/60,d-Je.timestamp),Je.timestamp=d,Je.isProcessing=!0,Pp.update.process(Je),Pp.preRender.process(Je),Pp.render.process(Je),Je.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(TL),this.sharedNodes.forEach(wL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pn(this.snapshot.measuredBox.x)&&!pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ue(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!YR(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||_a(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return c&&(p=this.removeTransform(p)),xL(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ue();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(DL))){const{scroll:g}=this.root;g&&(Mo(d.x,g.offset.x),Mo(d.y,g.offset.y))}return d}removeElementScroll(c){const d=Ue();if(hi(d,c),this.scroll?.wasRoot)return d;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:T}=g;g!==this.root&&y&&T.layoutScroll&&(y.wasRoot&&hi(d,c),Mo(d.x,y.offset.x),Mo(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const p=Ue();hi(p,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&No(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),_a(y.latestValues)&&No(p,y.latestValues)}return _a(this.latestValues)&&No(p,this.latestValues),p}removeTransform(c){const d=Ue();hi(d,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!_a(g.latestValues))continue;Fg(g.latestValues)&&g.updateSnapshot();const y=Ue(),T=g.measurePageBox();hi(y,T),dA(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return _a(this.latestValues)&&dA(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Je.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:T}=this.options;if(!this.layout||!(y||T))return;this.resolvedRelativeTargetAt=Je.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ue(),this.targetWithTransforms=Ue()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),J3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hi(this.target,this.layout.layoutBox),PR(this.target,this.targetDelta)):hi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Fg(this.parent.latestValues)||OR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),Ff(this.relativeTargetOrigin,d,p),hi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Je.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;hi(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,S=this.treeScale.y;I3(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ue());const{target:I}=c;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(oA(this.prevProjectionDelta.x,this.projectionDelta.x),oA(this.prevProjectionDelta.y,this.projectionDelta.y)),Vu(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==S||!vA(this.projectionDelta.x,this.prevProjectionDelta.x)||!vA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vo(),this.projectionDelta=Vo(),this.projectionDeltaWithTransform=Vo()}setAnimationOrigin(c,d=!1){const p=this.snapshot,g=p?p.latestValues:{},y={...this.latestValues},T=Vo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=Ue(),I=p?p.source:void 0,P=this.layout?this.layout.source:void 0,z=I!==P,U=this.getStack(),Y=!U||U.members.length<=1,et=!!(z&&!Y&&this.options.crossfade===!0&&!this.path.some(CL));this.animationProgress=0;let H;this.mixTargetDelta=X=>{const at=X/1e3;wA(T.x,c.x,at),wA(T.y,c.y,at),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ff(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),RL(this.relativeTarget,this.relativeTargetOrigin,S,at),H&&iL(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=Ue()),hi(H,this.relativeTarget)),z&&(this.animationValues=y,aL(y,g,this.latestValues,at,et,Y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=at},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Mr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{df.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Xo(0)),this.currentAnimation=uL(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:p,layout:g,latestValues:y}=c;if(!(!d||!p||!g)){if(this!==c&&this.layout&&g&&JR(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Ue();const T=pn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+T;const S=pn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+S}hi(d,p),No(d,y),Vu(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new dL),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const g={};p.z&&Hp("z",c,g,this.animationValues);for(let y=0;y<qp.length;y++)Hp(`rotate${qp[y]}`,c,g,this.animationValues),Hp(`skew${qp[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=ff(d?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=ff(d?.pointerEvents)||""),this.hasProjected&&!_a(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let T=sL(this.projectionDeltaWithTransform,this.treeScale,y);p&&(T=p(y,T)),c.transform=T;const{x:S,y:I}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${I.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const P in Hg){if(y[P]===void 0)continue;const{correct:z,applyTo:U,isCSSVariable:Y}=Hg[P],et=T==="none"?y[P]:z(y[P],g);if(U){const H=U.length;for(let X=0;X<H;X++)c[U[X]]=et}else Y?this.options.visualElement.renderState.vars[P]=et:c[P]=et}this.options.layoutId&&(c.pointerEvents=g===this?ff(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(SA),this.root.sharedNodes.clear()}}}function gL(n){n.updateLayout()}function yL(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:s}=n.layout,{animationType:a}=n.options,u=t.source!==n.layout.source;a==="size"?Xn(y=>{const T=u?t.measuredBox[y]:t.layoutBox[y],S=pn(T);T.min=e[y].min,T.max=T.min+S}):JR(a,t.layoutBox,e)&&Xn(y=>{const T=u?t.measuredBox[y]:t.layoutBox[y],S=pn(e[y]);T.max=T.min+S,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+S)});const c=Vo();Vu(c,e,t.layoutBox);const d=Vo();u?Vu(d,n.applyTransform(s,!0),t.measuredBox):Vu(d,e,t.layoutBox);const p=!YR(c);let g=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:T,layout:S}=y;if(T&&S){const I=Ue();Ff(I,t.layoutBox,T.layoutBox);const P=Ue();Ff(P,e,S.layoutBox),QR(I,P)||(g=!0),y.options.layoutRoot&&(n.relativeTarget=P,n.relativeTargetOrigin=I,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function vL(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function _L(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function TL(n){n.clearSnapshot()}function SA(n){n.clearMeasurements()}function AA(n){n.isLayoutDirty=!1}function EL(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function bA(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function SL(n){n.resolveTargetDelta()}function AL(n){n.calcProjection()}function bL(n){n.resetSkewAndRotation()}function wL(n){n.removeLeadSnapshot()}function wA(n,t,e){n.translate=ce(t.translate,0,e),n.scale=ce(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function RA(n,t,e,s){n.min=ce(t.min,e.min,s),n.max=ce(t.max,e.max,s)}function RL(n,t,e,s){RA(n.x,t.x,e.x,s),RA(n.y,t.y,e.y,s)}function CL(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const IL={duration:.45,ease:[.4,0,.1,1]},CA=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),IA=CA("applewebkit/")&&!CA("chrome/")?Math.round:Zn;function xA(n){n.min=IA(n.min),n.max=IA(n.max)}function xL(n){xA(n.x),xA(n.y)}function JR(n,t,e){return n==="position"||n==="preserve-aspect"&&!Z3(yA(t),yA(e),.2)}function DL(n){return n!==n.root&&n.scroll?.wasRoot}const VL=ZR({attachResizeListener:(n,t)=>Qu(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Gp={current:void 0},tC=ZR({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Gp.current){const n=new VL({});n.mount(window),n.setOptions({layoutScroll:!0}),Gp.current=n}return Gp.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Ev=$.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function DA(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function ML(...n){return t=>{let e=!1;const s=n.map(a=>{const u=DA(a,t);return!e&&typeof u=="function"&&(e=!0),u});if(e)return()=>{for(let a=0;a<s.length;a++){const u=s[a];typeof u=="function"?u():DA(n[a],null)}}}}function NL(...n){return $.useCallback(ML(...n),n)}class OL extends $.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const s=e.offsetParent,a=zg(s)&&s.offsetWidth||0,u=zg(s)&&s.offsetHeight||0,c=this.props.sizeRef.current;c.height=e.offsetHeight||0,c.width=e.offsetWidth||0,c.top=e.offsetTop,c.left=e.offsetLeft,c.right=a-c.width-c.left,c.bottom=u-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function PL({children:n,isPresent:t,anchorX:e,anchorY:s,root:a}){const u=$.useId(),c=$.useRef(null),d=$.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=$.useContext(Ev),g=n.props?.ref??n?.ref,y=NL(c,g);return $.useInsertionEffect(()=>{const{width:T,height:S,top:I,left:P,right:z,bottom:U}=d.current;if(t||!c.current||!T||!S)return;const Y=e==="left"?`left: ${P}`:`right: ${z}`,et=s==="bottom"?`bottom: ${U}`:`top: ${I}`;c.current.dataset.motionPopId=u;const H=document.createElement("style");p&&(H.nonce=p);const X=a??document.head;return X.appendChild(H),H.sheet&&H.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${T}px !important;
            height: ${S}px !important;
            ${Y}px !important;
            ${et}px !important;
          }
        `),()=>{X.contains(H)&&X.removeChild(H)}},[t]),q.jsx(OL,{isPresent:t,childRef:c,sizeRef:d,children:$.cloneElement(n,{ref:y})})}const kL=({children:n,initial:t,isPresent:e,onExitComplete:s,custom:a,presenceAffectsLayout:u,mode:c,anchorX:d,anchorY:p,root:g})=>{const y=Yy(LL),T=$.useId();let S=!0,I=$.useMemo(()=>(S=!1,{id:T,initial:t,isPresent:e,custom:a,onExitComplete:P=>{y.set(P,!0);for(const z of y.values())if(!z)return;s&&s()},register:P=>(y.set(P,!1),()=>y.delete(P))}),[e,y,s]);return u&&S&&(I={...I}),$.useMemo(()=>{y.forEach((P,z)=>y.set(z,!1))},[e]),$.useEffect(()=>{!e&&!y.size&&s&&s()},[e]),c==="popLayout"&&(n=q.jsx(PL,{isPresent:e,anchorX:d,anchorY:p,root:g,children:n})),q.jsx(pd.Provider,{value:I,children:n})};function LL(){return new Map}function eC(n=!0){const t=$.useContext(pd);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:s,register:a}=t,u=$.useId();$.useEffect(()=>{if(n)return a(u)},[n]);const c=$.useCallback(()=>n&&s&&s(u),[u,s,n]);return!e&&s?[!1,c]:[!0]}const $h=n=>n.key||"";function VA(n){const t=[];return $.Children.forEach(n,e=>{$.isValidElement(e)&&t.push(e)}),t}const vd=({children:n,custom:t,initial:e=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:u="sync",propagate:c=!1,anchorX:d="left",anchorY:p="top",root:g})=>{const[y,T]=eC(c),S=$.useMemo(()=>VA(n),[n]),I=c&&!y?[]:S.map($h),P=$.useRef(!0),z=$.useRef(S),U=Yy(()=>new Map),Y=$.useRef(new Set),[et,H]=$.useState(S),[X,at]=$.useState(S);Nw(()=>{P.current=!1,z.current=S;for(let w=0;w<X.length;w++){const R=$h(X[w]);I.includes(R)?(U.delete(R),Y.current.delete(R)):U.get(R)!==!0&&U.set(R,!1)}},[X,I.length,I.join("-")]);const ot=[];if(S!==et){let w=[...S];for(let R=0;R<X.length;R++){const M=X[R],V=$h(M);I.includes(V)||(w.splice(R,0,M),ot.push(M))}return u==="wait"&&ot.length&&(w=ot),at(VA(w)),H(S),null}const{forceRender:C}=$.useContext(Ky);return q.jsx(q.Fragment,{children:X.map(w=>{const R=$h(w),M=c&&!y?!1:S===X||I.includes(R),V=()=>{if(Y.current.has(R))return;if(Y.current.add(R),U.has(R))U.set(R,!0);else return;let k=!0;U.forEach(x=>{x||(k=!1)}),k&&(C?.(),at(z.current),c&&T?.(),s&&s())};return q.jsx(kL,{isPresent:M,initial:!P.current||e?void 0:!1,custom:t,presenceAffectsLayout:a,mode:u,root:g,onExitComplete:M?void 0:V,anchorX:d,anchorY:p,children:w},R)})})},nC=$.createContext({strict:!1}),MA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let NA=!1;function UL(){if(NA)return;const n={};for(const t in MA)n[t]={isEnabled:e=>MA[t].some(s=>!!e[s])};VR(n),NA=!0}function iC(){return UL(),b3()}function BL(n){const t=iC();for(const e in n)t[e]={...t[e],...n[e]};VR(t)}const zL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qf(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||zL.has(n)}let sC=n=>!qf(n);function jL(n){typeof n=="function"&&(sC=t=>t.startsWith("on")?!qf(t):n(t))}try{jL(require("@emotion/is-prop-valid").default)}catch{}function FL(n,t,e){const s={};for(const a in n)a==="values"&&typeof n.values=="object"||(sC(a)||e===!0&&qf(a)||!t&&!qf(a)||n.draggable&&a.startsWith("onDrag"))&&(s[a]=n[a]);return s}const _d=$.createContext({});function qL(n,t){if(yd(n)){const{initial:e,animate:s}=n;return{initial:e===!1||Yu(e)?e:void 0,animate:Yu(s)?s:void 0}}return n.inherit!==!1?t:{}}function HL(n){const{initial:t,animate:e}=qL(n,$.useContext(_d));return $.useMemo(()=>({initial:t,animate:e}),[OA(t),OA(e)])}function OA(n){return Array.isArray(n)?n.join(" "):n}const Sv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rC(n,t,e){for(const s in t)!ln(t[s])&&!UR(s,e)&&(n[s]=t[s])}function GL({transformTemplate:n},t){return $.useMemo(()=>{const e=Sv();return _v(e,t,n),Object.assign({},e.vars,e.style)},[t])}function KL(n,t){const e=n.style||{},s={};return rC(s,e,n),Object.assign(s,GL(n,t)),s}function YL(n,t){const e={},s=KL(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=s,e}const aC=()=>({...Sv(),attrs:{}});function QL(n,t,e,s){const a=$.useMemo(()=>{const u=aC();return BR(u,t,jR(s),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};rC(u,n.style,n),a.style={...u,...a.style}}return a}const XL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Av(n){return typeof n!="string"||n.includes("-")?!1:!!(XL.indexOf(n)>-1||/[A-Z]/u.test(n))}function $L(n,t,e,{latestValues:s},a,u=!1,c){const p=(c??Av(n)?QL:YL)(t,s,a,n),g=FL(t,typeof n=="string",u),y=n!==$.Fragment?{...g,...p,ref:e}:{},{children:T}=t,S=$.useMemo(()=>ln(T)?T.get():T,[T]);return $.createElement(n,{...y,children:S})}function WL({scrapeMotionValuesFromProps:n,createRenderState:t},e,s,a){return{latestValues:ZL(e,s,a,n),renderState:t()}}function ZL(n,t,e,s){const a={},u=s(n,{});for(const S in u)a[S]=ff(u[S]);let{initial:c,animate:d}=n;const p=yd(n),g=DR(n);t&&g&&!p&&n.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=e?e.initial===!1:!1;y=y||c===!1;const T=y?d:c;if(T&&typeof T!="boolean"&&!gd(T)){const S=Array.isArray(T)?T:[T];for(let I=0;I<S.length;I++){const P=fv(n,S[I]);if(P){const{transitionEnd:z,transition:U,...Y}=P;for(const et in Y){let H=Y[et];if(Array.isArray(H)){const X=y?H.length-1:0;H=H[X]}H!==null&&(a[et]=H)}for(const et in z)a[et]=z[et]}}}return a}const oC=n=>(t,e)=>{const s=$.useContext(_d),a=$.useContext(pd),u=()=>WL(n,t,s,a);return e?u():Yy(u)},JL=oC({scrapeMotionValuesFromProps:Tv,createRenderState:Sv}),t6=oC({scrapeMotionValuesFromProps:FR,createRenderState:aC}),e6=Symbol.for("motionComponentSymbol");function n6(n,t,e){const s=$.useRef(e);$.useInsertionEffect(()=>{s.current=e});const a=$.useRef(null);return $.useCallback(u=>{u&&n.onMount?.(u),t&&(u?t.mount(u):t.unmount());const c=s.current;if(typeof c=="function")if(u){const d=c(u);typeof d=="function"&&(a.current=d)}else a.current?(a.current(),a.current=null):c(u);else c&&(c.current=u)},[t])}const lC=$.createContext({});function Tu(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function i6(n,t,e,s,a,u){const{visualElement:c}=$.useContext(_d),d=$.useContext(nC),p=$.useContext(pd),g=$.useContext(Ev).reducedMotion,y=$.useRef(null),T=$.useRef(!1);s=s||d.renderer,!y.current&&s&&(y.current=s(n,{visualState:t,parent:c,props:e,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g,isSVG:u}),T.current&&y.current&&(y.current.manuallyAnimateOnMount=!0));const S=y.current,I=$.useContext(lC);S&&!S.projection&&a&&(S.type==="html"||S.type==="svg")&&s6(y.current,e,a,I);const P=$.useRef(!1);$.useInsertionEffect(()=>{S&&P.current&&S.update(e,p)});const z=e[gR],U=$.useRef(!!z&&!window.MotionHandoffIsComplete?.(z)&&window.MotionHasOptimisedAnimation?.(z));return Nw(()=>{T.current=!0,S&&(P.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),S.scheduleRenderMicrotask(),U.current&&S.animationState&&S.animationState.animateChanges())}),$.useEffect(()=>{S&&(!U.current&&S.animationState&&S.animationState.animateChanges(),U.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(z)}),U.current=!1),S.enteringChildren=void 0)}),S}function s6(n,t,e,s){const{layoutId:a,layout:u,drag:c,dragConstraints:d,layoutScroll:p,layoutRoot:g,layoutCrossfade:y}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:uC(n.parent)),n.projection.setOptions({layoutId:a,layout:u,alwaysMeasureLayout:!!c||d&&Tu(d),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:p,layoutRoot:g})}function uC(n){if(n)return n.options.allowProjection!==!1?n.projection:uC(n.parent)}function Kp(n,{forwardMotionProps:t=!1,type:e}={},s,a){s&&BL(s);const u=e?e==="svg":Av(n),c=u?t6:JL;function d(g,y){let T;const S={...$.useContext(Ev),...g,layoutId:r6(g)},{isStatic:I}=S,P=HL(g),z=c(g,I);if(!I&&Mw){a6();const U=o6(S);T=U.MeasureLayout,P.visualElement=i6(n,z,S,a,U.ProjectionNode,u)}return q.jsxs(_d.Provider,{value:P,children:[T&&P.visualElement?q.jsx(T,{visualElement:P.visualElement,...S}):null,$L(n,g,n6(z,P.visualElement,y),z,I,t,u)]})}d.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const p=$.forwardRef(d);return p[e6]=n,p}function r6({layoutId:n}){const t=$.useContext(Ky).id;return t&&n!==void 0?t+"-"+n:n}function a6(n,t){$.useContext(nC).strict}function o6(n){const t=iC(),{drag:e,layout:s}=t;if(!e&&!s)return{};const a={...e,...s};return{MeasureLayout:e?.isEnabled(n)||s?.isEnabled(n)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function l6(n,t){if(typeof Proxy>"u")return Kp;const e=new Map,s=(u,c)=>Kp(u,c,n,t),a=(u,c)=>s(u,c);return new Proxy(a,{get:(u,c)=>c==="create"?s:(e.has(c)||e.set(c,Kp(c,void 0,n,t)),e.get(c))})}const u6=(n,t)=>t.isSVG??Av(n)?new j3(t):new P3(t,{allowProjection:n!==$.Fragment});class c6 extends Ur{constructor(t){super(t),t.animationState||(t.animationState=K3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();gd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let h6=0;class f6 extends Ur{constructor(){super(...arguments),this.id=h6++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);e&&!t&&a.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const d6={animation:{Feature:c6},exit:{Feature:f6}};function hc(n){return{point:{x:n.pageX,y:n.pageY}}}const m6=n=>t=>gv(t)&&n(t,hc(t));function Mu(n,t,e,s){return Qu(n,t,m6(e),s)}const cC=({current:n})=>n?n.ownerDocument.defaultView:null,PA=(n,t)=>Math.abs(n-t);function p6(n,t){const e=PA(n.x,t.x),s=PA(n.y,t.y);return Math.sqrt(e**2+s**2)}const kA=new Set(["auto","scroll"]);class hC{constructor(t,e,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=I=>{this.handleScroll(I.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=Qp(this.lastMoveEventInfo,this.history),P=this.startEvent!==null,z=p6(I.offset,{x:0,y:0})>=this.distanceThreshold;if(!P&&!z)return;const{point:U}=I,{timestamp:Y}=Je;this.history.push({...U,timestamp:Y});const{onStart:et,onMove:H}=this.handlers;P||(et&&et(this.lastMoveEvent,I),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,I)},this.handlePointerMove=(I,P)=>{this.lastMoveEvent=I,this.lastMoveEventInfo=Yp(P,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(I,P)=>{this.end();const{onEnd:z,onSessionEnd:U,resumeAnimation:Y}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&Y&&Y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const et=Qp(I.type==="pointercancel"?this.lastMoveEventInfo:Yp(P,this.transformPagePoint),this.history);this.startEvent&&z&&z(I,et),U&&U(I,et)},!gv(t))return;this.dragSnapToOrigin=u,this.handlers=e,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const p=hc(t),g=Yp(p,this.transformPagePoint),{point:y}=g,{timestamp:T}=Je;this.history=[{...y,timestamp:T}];const{onSessionStart:S}=e;S&&S(t,Qp(g,this.history)),this.removeListeners=lc(Mu(this.contextWindow,"pointermove",this.handlePointerMove),Mu(this.contextWindow,"pointerup",this.handlePointerUp),Mu(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(t){let e=t.parentElement;for(;e;){const s=getComputedStyle(e);(kA.has(s.overflowX)||kA.has(s.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const s=t===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},u={x:a.x-e.x,y:a.y-e.y};u.x===0&&u.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=u.x,this.lastMoveEventInfo.point.y+=u.y):this.history.length>0&&(this.history[0].x-=u.x,this.history[0].y-=u.y),this.scrollPositions.set(t,a),ae.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Mr(this.updatePoint)}}function Yp(n,t){return t?{point:t(n.point)}:n}function LA(n,t){return{x:n.x-t.x,y:n.y-t.y}}function Qp({point:n},t){return{point:n,delta:LA(n,fC(t)),offset:LA(n,g6(t)),velocity:y6(t,.1)}}function g6(n){return n[0]}function fC(n){return n[n.length-1]}function y6(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,s=null;const a=fC(n);for(;e>=0&&(s=n[e],!(a.timestamp-s.timestamp>Ts(t)));)e--;if(!s)return{x:0,y:0};const u=Wn(a.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const c={x:(a.x-s.x)/u,y:(a.y-s.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function v6(n,{min:t,max:e},s){return t!==void 0&&n<t?n=s?ce(t,n,s.min):Math.max(n,t):e!==void 0&&n>e&&(n=s?ce(e,n,s.max):Math.min(n,e)),n}function UA(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function _6(n,{top:t,left:e,bottom:s,right:a}){return{x:UA(n.x,e,a),y:UA(n.y,t,s)}}function BA(n,t){let e=t.min-n.min,s=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,s]=[s,e]),{min:e,max:s}}function T6(n,t){return{x:BA(n.x,t.x),y:BA(n.y,t.y)}}function E6(n,t){let e=.5;const s=pn(n),a=pn(t);return a>s?e=Hu(t.min,t.max-s,n.min):s>a&&(e=Hu(n.min,n.max-a,t.min)),$i(0,1,e)}function S6(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const Gg=.35;function A6(n=Gg){return n===!1?n=0:n===!0&&(n=Gg),{x:zA(n,"left","right"),y:zA(n,"top","bottom")}}function zA(n,t,e){return{min:jA(n,t),max:jA(n,e)}}function jA(n,t){return typeof n=="number"?n:n[t]||0}const b6=new WeakMap;class w6{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ue(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const u=T=>{e?(this.stopAnimation(),this.snapToCursor(hc(T).point)):this.pauseAnimation()},c=(T,S)=>{this.stopAnimation();const{drag:I,dragPropagation:P,onDragStart:z}=this.getProps();if(I&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=f3(I),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xn(Y=>{let et=this.getAxisMotionValue(Y).get()||0;if(Qi.test(et)){const{projection:H}=this.visualElement;if(H&&H.layout){const X=H.layout.layoutBox[Y];X&&(et=pn(X)*(parseFloat(et)/100))}}this.originPoint[Y]=et}),z&&ae.postRender(()=>z(T,S)),Lg(this.visualElement,"transform");const{animationState:U}=this.visualElement;U&&U.setActive("whileDrag",!0)},d=(T,S)=>{this.latestPointerEvent=T,this.latestPanInfo=S;const{dragPropagation:I,dragDirectionLock:P,onDirectionLock:z,onDrag:U}=this.getProps();if(!I&&!this.openDragLock)return;const{offset:Y}=S;if(P&&this.currentDirection===null){this.currentDirection=R6(Y),this.currentDirection!==null&&z&&z(this.currentDirection);return}this.updateAxis("x",S.point,Y),this.updateAxis("y",S.point,Y),this.visualElement.render(),U&&U(T,S)},p=(T,S)=>{this.latestPointerEvent=T,this.latestPanInfo=S,this.stop(T,S),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Xn(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new hC(t,{onSessionStart:u,onStart:c,onMove:d,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:cC(this.visualElement),element:this.visualElement.current})}stop(t,e){const s=t||this.latestPointerEvent,a=e||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&ae.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,e,s){const{drag:a}=this.getProps();if(!s||!Wh(t,a,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=v6(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Tu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=_6(s.layoutBox,t):this.constraints=!1,this.elastic=A6(e),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Xn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=S6(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Tu(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const u=x3(s,a.root,this.visualElement.getTransformPagePoint());let c=T6(a.layout.layoutBox,u);if(e){const d=e(R3(c));this.hasMutatedConstraints=!!d,d&&(c=NR(d))}return c}startAnimation(t){const{drag:e,dragMomentum:s,dragElastic:a,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},g=Xn(y=>{if(!Wh(y,e,this.currentDirection))return;let T=p&&p[y]||{};c&&(T={min:0,max:0});const S=a?200:1e6,I=a?40:1e7,P={type:"inertia",velocity:s?t[y]:0,bounceStiffness:S,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...u,...T};return this.startAxisValueAnimation(y,P)});return Promise.all(g).then(d)}startAxisValueAnimation(t,e){const s=this.getAxisMotionValue(t);return Lg(this.visualElement,t),s.start(hv(t,s,0,e,this.visualElement,!1))}stopAnimation(){Xn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Xn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[e];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Xn(e=>{const{drag:s}=this.getProps();if(!Wh(e,s,this.currentDirection))return;const{projection:a}=this.visualElement,u=this.getAxisMotionValue(e);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[e],p=u.get()||0;u.set(t[e]-ce(c,d,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:s}=this.visualElement;if(!Tu(e)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Xn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const p=d.get();a[c]=E6({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Xn(c=>{if(!Wh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];d.set(ce(p,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;b6.set(this.visualElement,this);const t=this.visualElement.current,e=Mu(t,"pointerdown",p=>{const{drag:g,dragListener:y=!0}=this.getProps(),T=p.target,S=T!==t&&CR(T);g&&y&&!S&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();Tu(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,u=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ae.read(s);const c=Qu(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Xn(y=>{const T=this.getAxisMotionValue(y);T&&(this.originPoint[y]+=p[y].translate,T.set(T.get()+p[y].translate))}),this.visualElement.render())}));return()=>{c(),e(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:u=!1,dragElastic:c=Gg,dragMomentum:d=!0}=t;return{...t,drag:e,dragDirectionLock:s,dragPropagation:a,dragConstraints:u,dragElastic:c,dragMomentum:d}}}function Wh(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function R6(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class C6 extends Ur{constructor(t){super(t),this.removeGroupControls=Zn,this.removeListeners=Zn,this.controls=new w6(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const FA=n=>(t,e)=>{n&&ae.postRender(()=>n(t,e))};class I6 extends Ur{constructor(){super(...arguments),this.removePointerDownListener=Zn}onPointerDown(t){this.session=new hC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:FA(t),onStart:FA(e),onMove:s,onEnd:(u,c)=>{delete this.session,a&&ae.postRender(()=>a(u,c))}}}mount(){this.removePointerDownListener=Mu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Xp=!1;class x6 extends $.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s,layoutId:a}=this.props,{projection:u}=t;u&&(e.group&&e.group.add(u),s&&s.register&&a&&s.register(u),Xp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),df.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:s,drag:a,isPresent:u}=this.props,{projection:c}=s;return c&&(c.isPresent=u,t.layoutDependency!==e&&c.setOptions({...c.options,layoutDependency:e}),Xp=!0,a||t.layoutDependency!==e||e===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||ae.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),pv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s}=this.props,{projection:a}=t;Xp=!0,a&&(a.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function dC(n){const[t,e]=eC(),s=$.useContext(Ky);return q.jsx(x6,{...n,layoutGroup:s,switchLayoutGroup:$.useContext(lC),isPresent:t,safeToRemove:e})}const D6={pan:{Feature:I6},drag:{Feature:C6,ProjectionNode:tC,MeasureLayout:dC}};function qA(n,t,e){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",e==="Start");const a="onHover"+e,u=s[a];u&&ae.postRender(()=>u(t,hc(t)))}class V6 extends Ur{mount(){const{current:t}=this.node;t&&(this.unmount=d3(t,(e,s)=>(qA(this.node,s,"Start"),a=>qA(this.node,a,"End"))))}unmount(){}}class M6 extends Ur{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lc(Qu(this.node.current,"focus",()=>this.onFocus()),Qu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function HA(n,t,e){const{props:s}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",e==="Start");const a="onTap"+(e==="End"?"":e),u=s[a];u&&ae.postRender(()=>u(t,hc(t)))}class N6 extends Ur{mount(){const{current:t}=this.node;t&&(this.unmount=g3(t,(e,s)=>(HA(this.node,s,"Start"),(a,{success:u})=>HA(this.node,a,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Kg=new WeakMap,$p=new WeakMap,O6=n=>{const t=Kg.get(n.target);t&&t(n)},P6=n=>{n.forEach(O6)};function k6({root:n,...t}){const e=n||document;$p.has(e)||$p.set(e,{});const s=$p.get(e),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(P6,{root:n,...t})),s[a]}function L6(n,t,e){const s=k6(t);return Kg.set(n,e),s.observe(n),()=>{Kg.delete(n),s.unobserve(n)}}const U6={some:0,all:1};class B6 extends Ur{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:s,amount:a="some",once:u}=t,c={root:e?e.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:U6[a]},d=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:T}=this.node.getProps(),S=g?y:T;S&&S(p)};return L6(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(z6(t,e))&&this.startObserver()}unmount(){}}function z6({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const j6={inView:{Feature:B6},tap:{Feature:N6},focus:{Feature:M6},hover:{Feature:V6}},F6={layout:{ProjectionNode:tC,MeasureLayout:dC}},q6={...d6,...j6,...D6,...F6},zi=l6(q6,u6);var H6=KA();const G6=({isOpen:n,onConfirm:t,onCancel:e,title:s="",message:a=""})=>H6.createPortal(q.jsx(vd,{children:n&&q.jsx(zi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(31, 41, 55, 0.7)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(12px)",padding:"20px"},onClick:u=>{u.target===u.currentTarget&&e()},children:q.jsxs(zi.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"glass-card",style:{maxWidth:"400px",width:"100%",padding:"32px",textAlign:"center",border:"1px solid rgba(255,255,255,0.5)",background:"rgba(255,255,255,0.85)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",maxHeight:"90vh",overflowY:"auto"},children:[q.jsx("div",{style:{fontSize:"4rem",marginBottom:"16px",filter:"drop-shadow(0 4px 6px rgba(0,0,0,0.1))",animation:"bounce 1s infinite"},children:""}),q.jsx("h3",{style:{justifyContent:"center",fontSize:"1.75rem",marginBottom:"12px",background:"linear-gradient(135deg, #b91c1c 0%, #ef4444 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:800},children:s}),q.jsx("p",{style:{color:"#4b5563",marginBottom:"32px",lineHeight:"1.6",fontSize:"1.1rem"},children:a}),q.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[q.jsx("button",{onClick:e,className:"btn-secondary",style:{padding:"16px",fontSize:"1.1rem",background:"#f3f4f6",border:"1px solid #e5e7eb",color:"#374151"},children:""}),q.jsx("button",{onClick:t,className:"btn-primary",style:{padding:"16px",fontSize:"1.1rem",background:"linear-gradient(135deg, #dc2626 0%, #ef4444 100%)",boxShadow:"0 4px 12px rgba(220, 38, 38, 0.3)"},children:""})]})]})})}),document.body),K6=ys.createContext({}),mC=!0;function Y6({baseColor:n,highlightColor:t,width:e,height:s,borderRadius:a,circle:u,direction:c,duration:d,enableAnimation:p=mC,customHighlightBackground:g}){const y={};return c==="rtl"&&(y["--animation-direction"]="reverse"),typeof d=="number"&&(y["--animation-duration"]=`${d}s`),p||(y["--pseudo-element-display"]="none"),(typeof e=="string"||typeof e=="number")&&(y.width=e),(typeof s=="string"||typeof s=="number")&&(y.height=s),(typeof a=="string"||typeof a=="number")&&(y.borderRadius=a),u&&(y.borderRadius="50%"),typeof n<"u"&&(y["--base-color"]=n),typeof t<"u"&&(y["--highlight-color"]=t),typeof g=="string"&&(y["--custom-highlight-background"]=g),y}function ya({count:n=1,wrapper:t,className:e,containerClassName:s,containerTestId:a,circle:u=!1,style:c,...d}){var p,g,y;const T=ys.useContext(K6),S={...d};for(const[H,X]of Object.entries(d))typeof X>"u"&&delete S[H];const I={...T,...S,circle:u},P={...c,...Y6(I)};let z="react-loading-skeleton";e&&(z+=` ${e}`);const U=(p=I.inline)!==null&&p!==void 0?p:!1,Y=[],et=Math.ceil(n);for(let H=0;H<et;H++){let X=P;if(et>n&&H===et-1){const ot=(g=X.width)!==null&&g!==void 0?g:"100%",C=n%1,w=typeof ot=="number"?ot*C:`calc(${ot} * ${C})`;X={...X,width:w}}const at=ys.createElement("span",{className:z,style:X,key:H},"");U?Y.push(at):Y.push(ys.createElement(ys.Fragment,{key:H},at,ys.createElement("br",null)))}return ys.createElement("span",{className:s,"data-testid":a,"aria-live":"polite","aria-busy":(y=I.enableAnimation)!==null&&y!==void 0?y:mC},t?Y.map((H,X)=>ys.createElement(t,{key:X},H)):Y)}const Q6=()=>q.jsxs(zi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"slot-card",style:{background:"#fff",border:"1px solid #e2e8f0",cursor:"default",display:"flex",flexDirection:"column"},children:[q.jsx("div",{style:{marginBottom:"8px"},children:q.jsx(ya,{height:24,width:"80%"})}),q.jsx("div",{style:{marginBottom:"12px"},children:q.jsx(ya,{width:"40%",height:16})}),q.jsx("div",{style:{marginBottom:"auto"},children:q.jsx(ya,{count:2})}),q.jsxs("div",{style:{marginTop:"20px"},children:[q.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"12px"},children:[q.jsx(ya,{width:80,height:20}),q.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"4px"},children:[q.jsx(ya,{width:60,height:20,style:{borderRadius:"12px"}}),q.jsx(ya,{width:80,height:24})]})]}),q.jsx(ya,{height:8,borderRadius:4})]})]}),X6=({disabled:n=!1,bookedSlotIds:t})=>{const{slots:e,loading:s}=Vw(),{selection:a,selectSession:u,isAdmin:c}=Hy(),[d,p]=$.useState(null),[g,y]=$.useState(!1),T=$.useRef(null);$.useEffect(()=>{const{selectedA:U,selectedB:Y}=a;if(!U||!Y)return;const et=`${U}-${Y}`;if(T.current===et)return;const H=U.split("_")[0],X=Y.split("_")[0];H===X&&(H==="2F"||H==="5F")?(Iu(` 
`,{icon:"",duration:6e3,style:{borderRadius:"16px",background:"rgba(255, 255, 255, 0.95)",color:"#334155",border:"1px solid #e2e8f0",boxShadow:"0 8px 20px rgba(0,0,0,0.1)",fontSize:"0.95rem",textAlign:"left"}}),T.current=et):H==="3F"&&X==="3F"&&(Iu(` 3F  8 
`,{icon:"",duration:6e3,style:{borderRadius:"16px",background:"rgba(255, 255, 255, 0.95)",color:"#334155",border:"1px solid #e2e8f0",boxShadow:"0 8px 20px rgba(0,0,0,0.1)",fontSize:"0.95rem",textAlign:"left"}}),T.current=et)},[a.selectedA,a.selectedB]);const S=(U,Y)=>{if(n)return;const et=!!a.selectedA||!!a.selectedB,H=!!a.selectedC,X=!!a.selectedD;let at=!1;et?(Y==="C"||Y==="D")&&(at=!0):H?["A","B","D"].includes(Y)&&(at=!0):X&&["A","B","C"].includes(Y)&&(at=!0),at?(p({id:U,type:Y}),y(!0)):u(U,Y)},I=()=>{d&&(u(d.id,d.type),p(null),y(!1))};if(s){const U=(Y,et)=>q.jsxs("div",{className:"section-container",children:[q.jsx("h3",{children:Y}),q.jsx("div",{className:"slot-grid",children:Array.from({length:et}).map((H,X)=>q.jsx(Q6,{},X))})]});return q.jsxs("div",{className:"selection-container",children:[q.jsxs("div",{className:"combo-row",children:[U(" (A)",2),U(" (B)",1)]}),q.jsx("div",{className:"sc-divider",children:"OR"}),q.jsxs("div",{className:"combo-row",children:[U(" (C)",2),U(" (D)",1)]})]})}const P=e.filter(U=>!!U.title);if(P.length===0)return q.jsxs(zi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"empty-state",style:{textAlign:"center",padding:"40px",color:"#64748b"},children:[q.jsx("div",{style:{fontSize:"3rem",marginBottom:"20px"},children:""}),q.jsx("p",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:""}),q.jsx("p",{children:"No active sessions found."}),c?q.jsxs("div",{style:{marginTop:"20px"},children:[q.jsx("p",{style:{color:"#ef4444",marginBottom:"10px"},children:" "}),q.jsx(l4,{})]}):q.jsxs("p",{style:{marginTop:"20px",fontSize:"0.9rem",opacity:.7},children:["",q.jsx("br",{}),"Please contact the administrator to initialize the system."]})]});const z=(U,Y,et)=>{const H=P.filter(X=>Y.includes(X.type));return q.jsxs("div",{className:"section-container",children:[q.jsxs("h3",{children:[U," ",q.jsx("span",{style:{fontSize:"0.8em",fontWeight:"normal",marginLeft:"10px",opacity:.7},children:et})]}),q.jsx("div",{className:"slot-grid",children:q.jsx(vd,{children:H.map(X=>{const at=t?t.includes(X.id):a.selectedA===X.id||a.selectedB===X.id||a.selectedC===X.id||a.selectedD===X.id;let ot=!1;t||(a.selectedC&&a.selectedC!==X.id&&(["A","B","D"].includes(X.type)&&(ot=!0),X.type==="C"&&(ot=!0)),a.selectedD&&a.selectedD!==X.id&&(["A","B","C"].includes(X.type)&&(ot=!0),X.type==="D"&&(ot=!0)),(a.selectedA||a.selectedB)&&(X.type==="C"||X.type==="D")&&(ot=!0));const C=X.booked>=X.capacity,w=X.capacity-X.booked,R=X.booked/X.capacity*100;let M="#10b981",V="",k="";return w===0?(M="#64748b",V="",k=""):w<=20?(M="#ef4444",V="",k=""):R>=70&&(M="#f59e0b",V="",k=""),q.jsxs(zi.div,{layoutId:X.id,initial:{opacity:0,scale:.9},animate:{opacity:n&&!at?.4:1,scale:at?1.02:1,filter:C&&!at||n&&!at?"grayscale(100%)":"none"},whileHover:!C&&!ot&&!n?{y:-5,boxShadow:"0 10px 20px rgba(0,0,0,0.1)"}:{},whileTap:!C&&!ot&&!n?{scale:.98}:{},onClick:()=>!C&&!n&&S(X.id,X.type),className:`slot-card type-${X.type} ${at?"selected":""} ${C?"full":""}`,style:n?{cursor:"default",pointerEvents:"none",border:at?void 0:"1px solid transparent",background:at?void 0:"#f1f5f9",boxShadow:at?"0 4px 12px rgba(0,0,0,0.1)":"none",transform:at?"scale(1.02)":"none"}:{},children:[at&&q.jsx(zi.div,{initial:{scale:0},animate:{scale:1},className:"check-mark",style:{background:n?"#10b981":void 0},children:""}),C&&q.jsx("div",{className:"sold-out-overlay-text",children:"SOLD OUT"}),q.jsx("span",{className:"slot-name",children:X.title}),q.jsxs("div",{className:"slot-location",children:[" ",X.location]}),q.jsx("p",{className:"slot-description",children:X.description}),q.jsxs("div",{className:"slot-footer",style:{flexDirection:"column",alignItems:"stretch",gap:"12px"},children:[q.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[q.jsxs("span",{className:"slot-time",children:[" ",X.startTime]}),q.jsx("div",{style:{textAlign:"right"},children:q.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"2px"},children:[q.jsxs("span",{style:{fontSize:"0.8rem",fontWeight:700,color:M,background:`${M}15`,padding:"2px 8px",borderRadius:"12px",marginBottom:"2px"},children:[k," ",V]}),q.jsxs("span",{style:{fontSize:"1.2rem",fontWeight:800,color:"#334155"},children:[" ",q.jsx("span",{style:{color:M,fontSize:"1.4rem"},children:w})," "]})]})})]}),q.jsx("div",{style:{width:"100%",height:"8px",background:"#e2e8f0",borderRadius:"4px",overflow:"hidden"},children:q.jsx(zi.div,{initial:{width:0},animate:{width:`${X.booked/X.capacity*100}%`},transition:{duration:1,ease:"easeOut"},style:{height:"100%",background:M,borderRadius:"4px"}})})]})]},X.id)})})})]})};return q.jsxs(zi.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"selection-container",children:[q.jsxs("div",{className:"combo-row",children:[z(" (A)",["A"]," B"),z(" (B)",["B"]," A")]}),q.jsx("div",{className:"sc-divider",children:"OR"}),q.jsxs("div",{className:"combo-row",children:[z(" (C)",["C"]," 40 "),z(" (D)",["D"]," 40 ")]}),q.jsx(G6,{isOpen:g,onConfirm:I,onCancel:()=>y(!1)})]})},$6=({onSubmit:n,onCancel:t,loading:e})=>{const[s,a]=$.useState({name:"",studentId:""}),u=c=>{c.preventDefault(),n(s)};return q.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(31, 41, 55, 0.4)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(12px)",padding:"20px"},children:q.jsxs("div",{className:"glass-card",style:{maxWidth:"450px",width:"100%",padding:"32px",background:"rgba(255,255,255,0.9)",boxShadow:"0 20px 60px -10px rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.8)"},children:[q.jsx("h2",{style:{textAlign:"left",marginBottom:"24px",fontSize:"1.8rem",background:"linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:800},children:q.jsx("span",{style:{borderLeft:"6px solid #6366f1",paddingLeft:"16px",display:"block",lineHeight:"1.2"},children:""})}),q.jsxs("form",{onSubmit:u,style:{display:"flex",flexDirection:"column",gap:"24px"},children:[q.jsxs("div",{children:[q.jsx("label",{className:"slot-name",style:{fontSize:"1.1rem",marginBottom:"10px",display:"block",color:"#374151"},children:"  Name"}),q.jsx("input",{required:!0,type:"text",placeholder:" / Your Name",value:s.name,onChange:c=>a(d=>({...d,name:c.target.value})),style:{background:"#f9fafb"}})]}),q.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:"16px",marginTop:"12px"},children:[q.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:e,style:{borderRadius:"16px",fontSize:"1.1rem",justifyContent:"center"},children:""}),q.jsx("button",{type:"submit",className:"btn-primary",disabled:e,style:{borderRadius:"16px",fontSize:"1.1rem",justifyContent:"center",boxShadow:"0 4px 15px rgba(79, 70, 229, 0.4)"},children:e?"...":" "})]})]})]})})},W6=({isOpen:n,onClose:t})=>{const[e,s]=$.useState(""),{login:a}=Hy(),[u,c]=$.useState(!1),d=p=>{p.preventDefault(),a(e)?(t(),s(""),c(!1)):(c(!0),setTimeout(()=>c(!1),2e3))};return q.jsx(vd,{children:n&&q.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",zIndex:3e3,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(8px)"},children:q.jsxs(zi.div,{initial:{scale:.9,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:30},className:"glass-card",style:{maxWidth:"350px",width:"90%",padding:"30px",border:"1px solid rgba(255,255,255,0.4)",background:"rgba(255,255,255,0.85)"},children:[q.jsx("h3",{style:{textAlign:"center",marginBottom:"20px",color:"#1e293b"},children:" "}),q.jsxs("form",{onSubmit:d,children:[q.jsx("input",{type:"password",autoFocus:!0,placeholder:"...",value:e,onChange:p=>s(p.target.value),style:{marginBottom:"15px",border:u?"2px solid #ef4444":void 0,background:"white"}}),u&&q.jsx("p",{style:{color:"#ef4444",fontSize:"0.9rem",marginBottom:"15px",textAlign:"center"},children:""}),q.jsxs("div",{style:{display:"flex",gap:"10px"},children:[q.jsx("button",{type:"button",onClick:t,className:"btn-secondary",style:{flex:1},children:""}),q.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1,padding:"12px",fontSize:"1rem"},children:""})]})]})]})})})},Z6=({isOpen:n,onConfirm:t,onCancel:e,selectedIds:s})=>{const{slots:a}=Vw(),u=s.map(c=>a.find(d=>d.id===c)).filter(Boolean);return q.jsx(vd,{children:n&&q.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:q.jsxs(zi.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},style:{background:"white",padding:"30px",borderRadius:"24px",width:"100%",maxWidth:"400px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",textAlign:"left"},children:[q.jsx("h2",{style:{margin:"0 0 15px",color:"#1e293b",fontSize:"1.25rem",borderBottom:"1px solid #e2e8f0",paddingBottom:"15px"},children:" "}),q.jsx("p",{style:{color:"#64748b",fontSize:"0.95rem",marginBottom:"20px"},children:""}),q.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px",marginBottom:"25px",maxHeight:"40vh",overflowY:"auto"},children:u.map(c=>q.jsxs("div",{style:{padding:"12px",background:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0",borderLeft:"4px solid #6366f1"},children:[q.jsx("div",{style:{fontWeight:700,color:"#334155"},children:c?.title}),q.jsxs("div",{style:{fontSize:"0.85rem",color:"#64748b",marginTop:"2px",display:"flex",justifyContent:"space-between"},children:[q.jsxs("span",{children:[" ",c?.location]}),q.jsxs("span",{style:{color:"#0ea5e9",fontWeight:600},children:[" ",c?.type==="C"||c?.type==="D"?"40":"20"]})]})]},c?.id))}),q.jsxs("div",{style:{background:"#fff1f2",padding:"12px",borderRadius:"12px",marginBottom:"25px",fontSize:"0.9rem",color:"#be123c",border:"1px solid #fda4af"},children:[" ",q.jsx("b",{children:""}),"",q.jsx("br",{}),"",q.jsx("b",{children:""}),""]}),q.jsxs("div",{style:{display:"flex",gap:"12px"},children:[q.jsx("button",{onClick:e,style:{flex:1,padding:"12px",border:"1px solid #cbd5e1",borderRadius:"12px",background:"white",color:"#64748b",fontWeight:600,cursor:"pointer"},children:""}),q.jsx("button",{onClick:t,style:{flex:1.5,padding:"12px",border:"none",borderRadius:"12px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",fontWeight:600,cursor:"pointer",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:" "})]})]})})})},J6=n=>new Promise(t=>setTimeout(t,n)),t5=async(n,t)=>{if(!Pf.currentUser)throw new Error("Must be logged in");const e=5;let s=0;for(;s<e;)try{const a=qu(Yo($n,"bookings"));return await dP($n,async u=>{const c=[];if(n.selectedC&&c.push(n.selectedC),n.selectedD&&c.push(n.selectedD),n.selectedA&&c.push(n.selectedA),n.selectedB&&c.push(n.selectedB),c.length===0)throw new Error("No sessions selected");const d=await Promise.all(c.map(p=>u.get(qu($n,"slots",p))));d.forEach(p=>{if(!p.exists())throw new Error(`Slot ${p.id} not found`);const g=p.data();if(g.booked>=g.capacity)throw new Error(` ${g.name} `)}),d.forEach(p=>{const g=p.data();if(!g)throw new Error("Slot data missing");u.update(p.ref,{booked:g.booked+1})}),u.set(a,{userId:Pf.currentUser.uid,userName:t.name,slots:c,selectionData:n,timestamp:rP(),status:"confirmed"})}),a.id}catch(a){if(console.warn(`Booking attempt ${s+1} failed:`,a),a.message&&a.message.includes(""))throw a;if(s++,s>=e)throw new Error("System is busy (Max Retries), please try again.");const u=Math.pow(2,s)*100+Math.random()*200;await J6(u)}throw new Error("Unexpected booking failure")},u5=async()=>{const n=By(Yo($n,"bookings"),qy("timestamp","desc"));return(await Eg(n)).docs.map(e=>{const s=e.data();return{id:e.id,bookingId:s.bookingId||"UNKNOWN",name:s.userName||s.name||"Unknown",studentId:s.studentId||"",department:s.department||"",slots:s.slots||[],timestamp:s.timestamp,status:s.status||"confirmed"}})},c5=n=>{const t=By(Yo($n,"bookings"),qy("timestamp","desc"));return Tw(t,e=>{const s=e.docs.map(a=>{const u=a.data();return{id:a.id,bookingId:u.bookingId||"UNKNOWN",name:u.userName||u.name||"Unknown",studentId:u.studentId||"",department:u.department||"",slots:u.slots||[],timestamp:u.timestamp,status:u.status||"confirmed"}});n(s)},e=>{console.error("Error watching bookings:",e)})},pC=(n,t="Component")=>$.lazy(async()=>{try{return await n()}catch(e){console.error(`Lazy loading failed for ${t}:`,e);const s=e.message?.includes("Failed to fetch")||e.message?.includes("ChunkLoadError")||e.name==="ChunkLoadError",a=window.sessionStorage.getItem(`retry-${t}`);if(s&&!a)return console.log(`Reloading page to recover from missing chunk for ${t}...`),window.sessionStorage.setItem(`retry-${t}`,"true"),"serviceWorker"in navigator?navigator.serviceWorker.getRegistrations().then(u=>{for(const c of u)c.unregister();window.location.reload()}):window.location.reload(),new Promise(()=>{});throw e}}),e5=pC(()=>YA(()=>import("./AdminDashboard-hvzzmvbP.js"),[]).then(n=>({default:n.AdminDashboard})),"AdminDashboard"),n5=pC(()=>YA(()=>import("./TicketView-CF0A90YZ.js"),[]).then(n=>({default:n.TicketView})),"TicketView"),GA=()=>q.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",flexDirection:"column",gap:"15px"},children:[q.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite"}}),q.jsx("span",{style:{color:"#64748b"},children:"Loading..."}),q.jsx("style",{children:`
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    `})]}),i5=()=>{const{isValid:n,selection:t,isAdmin:e}=Hy(),[s,a]=$.useState(!1),[u,c]=$.useState(!1),[d,p]=$.useState(!1),[g,y]=$.useState(null),[T,S]=$.useState(!1),[I,P]=$.useState(null),[z,U]=$.useState(!1);$.useEffect(()=>{(async()=>{const C=localStorage.getItem("soka_ticket_2026");if(!C)return;let w;try{w=JSON.parse(C)}catch(R){console.error("Failed to parse saved ticket",R),localStorage.removeItem("soka_ticket_2026");return}try{const R=await mP(qu($n,"system","config"));if(R.exists()){const M=R.data();if(M.lastReset){const V=new Date(M.lastReset).getTime(),k=w.timestamp||0;if(V>k){console.log("System reset detected. Clearing local ticket."),localStorage.removeItem("soka_ticket_2026"),y(null);return}}}}catch(R){console.error("Failed to check system status:",R)}y(w),U(!0)})()},[]);const Y=()=>{n&&a(!0)},et=()=>{const ot=[];return t.selectedC&&ot.push(t.selectedC),t.selectedD&&ot.push(t.selectedD),t.selectedA&&ot.push(t.selectedA),t.selectedB&&ot.push(t.selectedB),ot},H=ot=>{P(ot),S(!0)},X=async()=>{if(!I)return;S(!1),c(!0);const ot=Iu.loading("...");try{const C=await t5(t,I),w=et(),R={bookingId:C,userDetails:I,selectedSlotIds:w,timestamp:Date.now()};localStorage.setItem("soka_ticket_2026",JSON.stringify(R)),y(R),U(!0),a(!1),Iu.success("",{id:ot,duration:5e3})}catch(C){console.error(C),Iu.error(`: ${C.message}`,{id:ot,duration:5e3})}finally{c(!1),P(null)}},at=()=>{U(!1)};return z&&g?q.jsx("div",{className:"container",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:q.jsx($.Suspense,{fallback:q.jsx(GA,{}),children:q.jsx(n5,{bookingId:g.bookingId,userDetails:g.userDetails,selectedSlotIds:g.selectedSlotIds,onClose:at})})}):q.jsxs("div",{className:"container",children:[q.jsxs("div",{className:"glass-card",children:[q.jsx("h1",{children:"2026  EXPO"}),q.jsx("h2",{children:" - "}),q.jsxs("p",{className:"description",style:{textAlign:"center",color:"#64748b",marginBottom:"30px"},children:["",q.jsx("br",{}),"(A+B C  D )"]}),q.jsx(X6,{disabled:!!g,bookedSlotIds:g?.selectedSlotIds}),q.jsx("div",{style:{textAlign:"center",marginTop:"30px"},children:g?q.jsxs("button",{className:"btn-primary",style:{fontSize:"1.2rem",padding:"15px 40px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",boxShadow:"0 4px 15px rgba(16, 185, 129, 0.4)",display:"inline-flex",flexDirection:"column",alignItems:"center",gap:"4px",lineHeight:"1.2"},onClick:()=>U(!0),children:[q.jsx("span",{style:{fontSize:"0.9rem",opacity:.9},children:" "}),q.jsx("span",{style:{fontWeight:"bold"},children:" "})]}):q.jsx("button",{className:"btn-primary",disabled:!n,style:{opacity:n?1:.5,fontSize:"1.2rem",padding:"15px 40px"},onClick:Y,children:n?"":" Let's Go"})})]}),s&&q.jsx($6,{onSubmit:H,onCancel:()=>a(!1),loading:u}),q.jsx(Z6,{isOpen:T,onConfirm:X,onCancel:()=>S(!1),selectedIds:et()}),e&&q.jsx("div",{style:{padding:"30px",background:"rgba(255,255,255,0.85)",backdropFilter:"blur(10px)",borderRadius:"24px",marginTop:"40px",border:"1px solid rgba(255,255,255,0.5)",boxShadow:"0 20px 40px -10px rgba(0,0,0,0.1)"},children:q.jsx($.Suspense,{fallback:q.jsx(GA,{}),children:q.jsx(e5,{})})}),q.jsxs("footer",{style:{textAlign:"center",padding:"40px 0",color:"#94a3b8",fontSize:"0.9rem"},children:[" 2026 Soka Education EXPO. All rights reserved.",q.jsx("br",{}),q.jsx("span",{onClick:()=>p(!0),style:{cursor:"pointer",opacity:.3,marginTop:"10px",display:"inline-block"},children:"Admin Access"})]}),q.jsx(W6,{isOpen:d,onClose:()=>p(!1)})]})};function s5(){return q.jsx(vP,{children:q.jsxs(_P,{children:[q.jsx(i5,{}),q.jsx(o4,{position:"top-center",reverseOrder:!1,containerStyle:{top:40,zIndex:999999},toastOptions:{style:{background:"#333",color:"#fff",zIndex:999999}}})]})})}nx.createRoot(document.getElementById("root")).render(q.jsx($.StrictMode,{children:q.jsx(s5,{})}));export{vd as A,r5 as R,l4 as S,Yg as a,H6 as b,u5 as c,ys as d,YI as g,q as j,zi as m,$ as r,c5 as s,Vw as u,Iu as z};
